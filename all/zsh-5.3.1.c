/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 40 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef int __int32_t;
#line 124 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __dev_t;
#line 125 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __uid_t;
#line 126 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __gid_t;
#line 127 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __ino_t;
#line 129 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __mode_t;
#line 130 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __nlink_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 133 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef int __pid_t;
#line 139 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 153 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blksize_t;
#line 158 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blkcnt_t;
#line 175 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __syscall_slong_t;
#line 75 "/usr/include/time.h"
typedef __time_t time_t;
#line 216 "/home/khheo/.linuxbrew/Cellar/gcc/5.3.0/lib/gcc/x86_64-unknown-linux-gnu/5.3.0/include/stddef.h"
typedef unsigned long size_t;
#line 27 "/usr/include/x86_64-linux-gnu/bits/sigset.h"
struct __anonstruct___sigset_t_2 {
   unsigned long __val[1024UL / (8UL * sizeof(unsigned long ))] ;
};
#line 27 "/usr/include/x86_64-linux-gnu/bits/sigset.h"
typedef struct __anonstruct___sigset_t_2 __sigset_t;
#line 37 "/usr/include/x86_64-linux-gnu/sys/select.h"
typedef __sigset_t sigset_t;
#line 120 "/usr/include/time.h"
struct timespec {
   __time_t tv_sec ;
   __syscall_slong_t tv_nsec ;
};
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 46 "/usr/include/x86_64-linux-gnu/bits/stat.h"
struct stat {
   __dev_t st_dev ;
   __ino_t st_ino ;
   __nlink_t st_nlink ;
   __mode_t st_mode ;
   __uid_t st_uid ;
   __gid_t st_gid ;
   int __pad0 ;
   __dev_t st_rdev ;
   __off_t st_size ;
   __blksize_t st_blksize ;
   __blkcnt_t st_blocks ;
   struct timespec st_atim ;
   struct timespec st_mtim ;
   struct timespec st_ctim ;
   __syscall_slong_t __glibc_reserved[3] ;
};
#line 133 "/usr/include/time.h"
struct tm {
   int tm_sec ;
   int tm_min ;
   int tm_hour ;
   int tm_mday ;
   int tm_mon ;
   int tm_year ;
   int tm_wday ;
   int tm_yday ;
   int tm_isdst ;
   long tm_gmtoff ;
   char const   *tm_zone ;
};
#line 511 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct options;
#line 511 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct options *Options;
#line 516
struct patprog;
#line 516 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct patprog *Patprog;
#line 1332 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct options {
   unsigned char ind[128] ;
   char **args ;
   int argscount ;
   int argsalloc ;
};
#line 1509 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct patprog {
   long startoff ;
   long size ;
   long mustoff ;
   long patmlen ;
   int globflags ;
   int globend ;
   int flags ;
   int patnpar ;
   char patstartch ;
};
#line 42 "/usr/include/x86_64-linux-gnu/bits/utmpx.h"
struct __exit_status {
   short e_termination ;
   short e_exit ;
};
#line 55 "/usr/include/x86_64-linux-gnu/bits/utmpx.h"
struct __anonstruct_ut_tv_111 {
   __int32_t tv_sec ;
   __int32_t tv_usec ;
};
#line 55 "/usr/include/x86_64-linux-gnu/bits/utmpx.h"
struct utmpx {
   short ut_type ;
   __pid_t ut_pid ;
   char ut_line[32] ;
   char ut_id[4] ;
   char ut_user[32] ;
   char ut_host[256] ;
   struct __exit_status ut_exit ;
   __int32_t ut_session ;
   struct __anonstruct_ut_tv_111 ut_tv ;
   __int32_t ut_addr_v6[4] ;
   char __glibc_reserved[20] ;
};
#line 141 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __suseconds_t;
#line 172 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __ssize_t;
#line 48 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __ino_t ino_t;
#line 60 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __dev_t dev_t;
#line 70 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __mode_t mode_t;
#line 80 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __uid_t uid_t;
#line 98 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __pid_t pid_t;
#line 109 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __ssize_t ssize_t;
#line 30 "/usr/include/x86_64-linux-gnu/bits/time.h"
struct timeval {
   __time_t tv_sec ;
   __suseconds_t tv_usec ;
};
#line 54 "/usr/include/x86_64-linux-gnu/sys/select.h"
typedef long __fd_mask;
#line 64 "/usr/include/x86_64-linux-gnu/sys/select.h"
struct __anonstruct_fd_set_3 {
   __fd_mask fds_bits[1024 / (8 * (int )sizeof(__fd_mask ))] ;
};
#line 64 "/usr/include/x86_64-linux-gnu/sys/select.h"
typedef struct __anonstruct_fd_set_3 fd_set;
#line 328 "/home/khheo/.linuxbrew/Cellar/gcc/5.3.0/lib/gcc/x86_64-unknown-linux-gnu/5.3.0/include/stddef.h"
typedef int wchar_t;
#line 82 "/usr/include/wchar.h"
union __anonunion___value_19 {
   unsigned int __wch ;
   char __wchb[4] ;
};
#line 82 "/usr/include/wchar.h"
struct __anonstruct___mbstate_t_18 {
   int __count ;
   union __anonunion___value_19 __value ;
};
#line 82 "/usr/include/wchar.h"
typedef struct __anonstruct___mbstate_t_18 __mbstate_t;
#line 40 "/home/khheo/.linuxbrew/Cellar/gcc/5.3.0/lib/gcc/x86_64-unknown-linux-gnu/5.3.0/include/stdarg.h"
typedef __builtin_va_list __gnuc_va_list;
#line 315 "/usr/include/libio.h"
typedef struct _IO_FILE _IO_FILE;
#line 79 "/usr/include/stdio.h"
typedef __gnuc_va_list va_list;
#line 49 "/usr/include/pwd.h"
struct passwd {
   char *pw_name ;
   char *pw_passwd ;
   __uid_t pw_uid ;
   __gid_t pw_gid ;
   char *pw_gecos ;
   char *pw_dir ;
   char *pw_shell ;
};
#line 22 "/usr/include/x86_64-linux-gnu/bits/dirent.h"
struct dirent {
   __ino_t d_ino ;
   __off_t d_off ;
   unsigned short d_reclen ;
   unsigned char d_type ;
   char d_name[256] ;
};
#line 127 "/usr/include/dirent.h"
struct __dirstream;
#line 127 "/usr/include/dirent.h"
typedef struct __dirstream DIR;
#line 23 "/usr/include/x86_64-linux-gnu/bits/termios.h"
typedef unsigned char cc_t;
#line 24 "/usr/include/x86_64-linux-gnu/bits/termios.h"
typedef unsigned int speed_t;
#line 25 "/usr/include/x86_64-linux-gnu/bits/termios.h"
typedef unsigned int tcflag_t;
#line 28 "/usr/include/x86_64-linux-gnu/bits/termios.h"
struct termios {
   tcflag_t c_iflag ;
   tcflag_t c_oflag ;
   tcflag_t c_cflag ;
   tcflag_t c_lflag ;
   cc_t c_line ;
   cc_t c_cc[32] ;
   speed_t c_ispeed ;
   speed_t c_ospeed ;
};
#line 27 "/usr/include/x86_64-linux-gnu/bits/ioctl-types.h"
struct winsize {
   unsigned short ws_row ;
   unsigned short ws_col ;
   unsigned short ws_xpixel ;
   unsigned short ws_ypixel ;
};
#line 357 "/home/khheo/.linuxbrew/Cellar/gcc/5.3.0/lib/gcc/x86_64-unknown-linux-gnu/5.3.0/include/stddef.h"
typedef unsigned int wint_t;
#line 106 "/usr/include/wchar.h"
typedef __mbstate_t mbstate_t;
#line 55 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef long zlong;
#line 56 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef unsigned long zulong;
#line 487
struct cmdnam;
#line 487 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct cmdnam *Cmdnam;
#line 490
struct dirsav;
#line 490 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct dirsav *Dirsav;
#line 491
struct emulation_options;
#line 491 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct emulation_options *Emulation_options;
#line 497
struct hashnode;
#line 497 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct hashnode *HashNode;
#line 498
struct hashtable;
#line 498 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct hashtable *HashTable;
#line 507
struct linknode;
#line 507 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct linknode *LinkNode;
#line 508
union linkroot;
#line 508 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef union linkroot *LinkList;
#line 510
struct nameddir;
#line 510 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct nameddir *Nameddir;
#line 513
struct param;
#line 513 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct param *Param;
#line 517
struct prepromptfn;
#line 517 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct prepromptfn *Prepromptfn;
#line 521
struct shfunc;
#line 521 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct shfunc *Shfunc;
#line 522
struct timedfn;
#line 522 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct timedfn *Timedfn;
#line 531 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct linknode {
   LinkNode next ;
   LinkNode prev ;
   void *dat ;
};
#line 537 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct linklist {
   LinkNode first ;
   LinkNode last ;
   int flags ;
};
#line 543 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union linkroot {
   struct linklist list ;
   struct linknode node ;
};
#line 600 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct prepromptfn {
   void (*func)(void) ;
};
#line 608 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct timedfn {
   void (*func)(void) ;
   time_t when ;
};
#line 739 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef unsigned int wordcode;
#line 740 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef wordcode *Wordcode;
#line 742
struct funcdump;
#line 742 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct funcdump *FuncDump;
#line 743
struct eprog;
#line 743 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct eprog *Eprog;
#line 745 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct funcdump {
   FuncDump next ;
   dev_t dev ;
   ino_t ino ;
   int fd ;
   Wordcode map ;
   Wordcode addr ;
   int len ;
   int count ;
   char *filename ;
};
#line 774 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct eprog {
   int flags ;
   int len ;
   int npats ;
   int nref ;
   Patprog *pats ;
   Wordcode prog ;
   char *strs ;
   Shfunc shf ;
   FuncDump dump ;
};
#line 985
struct ttyinfo;
#line 1084 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct dirsav {
   int dirfd ;
   int level ;
   char *dirname ;
   dev_t dev ;
   ino_t ino ;
};
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct hashtable {
   int hsize ;
   int ct ;
   HashNode *nodes ;
   void *tmpdata ;
   unsigned int (*hash)(char const   * ) ;
   void (*emptytable)(HashTable  ) ;
   void (*filltable)(HashTable  ) ;
   int (*cmpnodes)(char const   * , char const   * ) ;
   void (*addnode)(HashTable  , char * , void * ) ;
   HashNode (*getnode)(HashTable  , char const   * ) ;
   HashNode (*getnode2)(HashTable  , char const   * ) ;
   HashNode (*removenode)(HashTable  , char const   * ) ;
   void (*disablenode)(HashNode  , int  ) ;
   void (*enablenode)(HashNode  , int  ) ;
   void (*freenode)(HashNode  ) ;
   void (*printnode)(HashNode  , int  ) ;
   void (*scantab)(HashTable  , void (*)(HashNode  , int  ) , int  ) ;
};
#line 1152 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct hashnode {
   HashNode next ;
   char *nam ;
   int flags ;
};
#line 1219 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union __anonunion_u_90 {
   char **name ;
   char *cmd ;
};
#line 1219 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct cmdnam {
   struct hashnode node ;
   union __anonunion_u_90 u ;
};
#line 1234 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct shfunc {
   struct hashnode node ;
   char *filename ;
   zlong lineno ;
   Eprog funcdef ;
   Eprog redir ;
   Emulation_options sticky ;
};
#line 1697
struct gsu_scalar;
#line 1697 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct gsu_scalar  const  *GsuScalar;
#line 1698
struct gsu_integer;
#line 1698 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct gsu_integer  const  *GsuInteger;
#line 1699
struct gsu_float;
#line 1699 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct gsu_float  const  *GsuFloat;
#line 1700
struct gsu_array;
#line 1700 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct gsu_array  const  *GsuArray;
#line 1701
struct gsu_hash;
#line 1701 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct gsu_hash  const  *GsuHash;
#line 1703 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct gsu_scalar {
   char *(*getfn)(Param  ) ;
   void (*setfn)(Param  , char * ) ;
   void (*unsetfn)(Param  , int  ) ;
};
#line 1709 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct gsu_integer {
   zlong (*getfn)(Param  ) ;
   void (*setfn)(Param  , zlong  ) ;
   void (*unsetfn)(Param  , int  ) ;
};
#line 1715 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct gsu_float {
   double (*getfn)(Param  ) ;
   void (*setfn)(Param  , double  ) ;
   void (*unsetfn)(Param  , int  ) ;
};
#line 1721 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct gsu_array {
   char **(*getfn)(Param  ) ;
   void (*setfn)(Param  , char ** ) ;
   void (*unsetfn)(Param  , int  ) ;
};
#line 1727 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct gsu_hash {
   HashTable (*getfn)(Param  ) ;
   void (*setfn)(Param  , HashTable  ) ;
   void (*unsetfn)(Param  , int  ) ;
};
#line 1736 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union __anonunion_u_94 {
   void *data ;
   char **arr ;
   char *str ;
   zlong val ;
   zlong *valptr ;
   double dval ;
   HashTable hash ;
};
#line 1736 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union __anonunion_gsu_95 {
   GsuScalar s ;
   GsuInteger i ;
   GsuFloat f ;
   GsuArray a ;
   GsuHash h ;
};
#line 1736 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct param {
   struct hashnode node ;
   union __anonunion_u_94 u ;
   union __anonunion_gsu_95 gsu ;
   int base ;
   int width ;
   char *env ;
   char *ename ;
   Param old ;
   int level ;
};
#line 2022 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct nameddir {
   struct hashnode node ;
   char *dir ;
   int diff ;
};
#line 2408 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef unsigned char OptIndex;
#line 2422 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct emulation_options {
   int emulation ;
   int n_on_opts ;
   int n_off_opts ;
   OptIndex *on_opts ;
   OptIndex *off_opts ;
};
#line 2445 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct ttyinfo {
   struct termios tio ;
   struct winsize winsize ;
};
#line 3114 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef wint_t convchar_t;
#line 49 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
struct widechar_array {
   wchar_t *chars ;
   size_t len ;
};
#line 53 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
typedef struct widechar_array *Widechar_array;
#line 519 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct redir;
#line 519 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct redir *Redir;
#line 687 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct redir {
   int type ;
   int flags ;
   int fd1 ;
   int fd2 ;
   char *name ;
   char *varid ;
   char *here_terminator ;
   char *munged_here_terminator ;
};
#line 791
struct estate;
#line 791 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct estate *Estate;
#line 793 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct estate {
   Eprog prog ;
   Wordcode pc ;
   char *strs ;
};
#line 360 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct tstack;
#line 360 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
typedef struct tstack *Tstack;
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct __anonstruct__redir_111 {
   LinkList list ;
};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct __anonstruct__funcdef_112 {
   char *strs ;
   Wordcode end ;
   int nargs ;
};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct __anonstruct__case_113 {
   Wordcode end ;
};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct __anonstruct__if_114 {
   int cond ;
   Wordcode end ;
};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct __anonstruct__cond_115 {
   int par ;
};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct __anonstruct__subsh_116 {
   Wordcode end ;
};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
union __anonunion_u_110 {
   struct __anonstruct__redir_111 _redir ;
   struct __anonstruct__funcdef_112 _funcdef ;
   struct __anonstruct__case_113 _case ;
   struct __anonstruct__if_114 _if ;
   struct __anonstruct__cond_115 _cond ;
   struct __anonstruct__subsh_116 _subsh ;
};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
struct tstack {
   Tstack prev ;
   wordcode code ;
   int pop ;
   union __anonunion_u_110 u ;
};
#line 95 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union __anonunion_u_82 {
   zlong l ;
   double d ;
};
#line 95 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct __anonstruct_mnumber_81 {
   union __anonunion_u_82 u ;
   int type ;
};
#line 95 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct __anonstruct_mnumber_81 mnumber;
#line 523
struct value;
#line 523 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct value *Value;
#line 718 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct value {
   int isarr ;
   Param pm ;
   int flags ;
   int start ;
   int end ;
   char **arr ;
};
#line 2867 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct sortelt {
   char *orig ;
   char const   *cmp ;
   int origlen ;
   int len ;
};
#line 2884 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct sortelt *SortElt;
#line 135 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __clock_t;
#line 32 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
union sigval {
   int sival_int ;
   void *sival_ptr ;
};
#line 32 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
typedef union sigval sigval_t;
#line 58 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
typedef __clock_t __sigchld_clock_t;
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__kill_26 {
   __pid_t si_pid ;
   __uid_t si_uid ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__timer_27 {
   int si_tid ;
   int si_overrun ;
   sigval_t si_sigval ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__rt_28 {
   __pid_t si_pid ;
   __uid_t si_uid ;
   sigval_t si_sigval ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigchld_29 {
   __pid_t si_pid ;
   __uid_t si_uid ;
   int si_status ;
   __sigchld_clock_t si_utime ;
   __sigchld_clock_t si_stime ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigfault_30 {
   void *si_addr ;
   short si_addr_lsb ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigpoll_31 {
   long si_band ;
   int si_fd ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigsys_32 {
   void *_call_addr ;
   int _syscall ;
   unsigned int _arch ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
union __anonunion__sifields_25 {
   int _pad[128UL / sizeof(int ) - 4UL] ;
   struct __anonstruct__kill_26 _kill ;
   struct __anonstruct__timer_27 _timer ;
   struct __anonstruct__rt_28 _rt ;
   struct __anonstruct__sigchld_29 _sigchld ;
   struct __anonstruct__sigfault_30 _sigfault ;
   struct __anonstruct__sigpoll_31 _sigpoll ;
   struct __anonstruct__sigsys_32 _sigsys ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct_siginfo_t_24 {
   int si_signo ;
   int si_errno ;
   int si_code ;
   union __anonunion__sifields_25 _sifields ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
typedef struct __anonstruct_siginfo_t_24 siginfo_t;
#line 85 "/usr/include/signal.h"
typedef void (*__sighandler_t)(int  );
#line 24 "/usr/include/x86_64-linux-gnu/bits/sigaction.h"
union __anonunion___sigaction_handler_44 {
   void (*sa_handler)(int  ) ;
   void (*sa_sigaction)(int  , siginfo_t * , void * ) ;
};
#line 24 "/usr/include/x86_64-linux-gnu/bits/sigaction.h"
struct sigaction {
   union __anonunion___sigaction_handler_44 __sigaction_handler ;
   __sigset_t sa_mask ;
   int sa_flags ;
   void (*sa_restorer)(void) ;
};
#line 66 "/usr/include/x86_64-linux-gnu/bits/waitstatus.h"
struct __anonstruct___wait_terminated_51 {
   unsigned int __w_termsig : 7 ;
   unsigned int __w_coredump : 1 ;
   unsigned int __w_retcode : 8 ;
   unsigned int  : 16 ;
};
#line 66 "/usr/include/x86_64-linux-gnu/bits/waitstatus.h"
struct __anonstruct___wait_stopped_52 {
   unsigned int __w_stopval : 8 ;
   unsigned int __w_stopsig : 8 ;
   unsigned int  : 16 ;
};
#line 66 "/usr/include/x86_64-linux-gnu/bits/waitstatus.h"
union wait {
   int w_status ;
   struct __anonstruct___wait_terminated_51 __wait_terminated ;
   struct __anonstruct___wait_stopped_52 __wait_stopped ;
};
#line 55 "/usr/include/x86_64-linux-gnu/sys/time.h"
struct timezone {
   int tz_minuteswest ;
   int tz_dsttime ;
};
#line 61 "/usr/include/x86_64-linux-gnu/sys/time.h"
typedef struct timezone * __restrict  __timezone_ptr_t;
#line 155 "/usr/include/x86_64-linux-gnu/sys/wait.h"
struct rusage;
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_57 {
   long ru_maxrss ;
   __syscall_slong_t __ru_maxrss_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_58 {
   long ru_ixrss ;
   __syscall_slong_t __ru_ixrss_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_59 {
   long ru_idrss ;
   __syscall_slong_t __ru_idrss_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_60 {
   long ru_isrss ;
   __syscall_slong_t __ru_isrss_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_61 {
   long ru_minflt ;
   __syscall_slong_t __ru_minflt_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_62 {
   long ru_majflt ;
   __syscall_slong_t __ru_majflt_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_63 {
   long ru_nswap ;
   __syscall_slong_t __ru_nswap_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_64 {
   long ru_inblock ;
   __syscall_slong_t __ru_inblock_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_65 {
   long ru_oublock ;
   __syscall_slong_t __ru_oublock_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_66 {
   long ru_msgsnd ;
   __syscall_slong_t __ru_msgsnd_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_67 {
   long ru_msgrcv ;
   __syscall_slong_t __ru_msgrcv_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_68 {
   long ru_nsignals ;
   __syscall_slong_t __ru_nsignals_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_69 {
   long ru_nvcsw ;
   __syscall_slong_t __ru_nvcsw_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
union __anonunion____missing_field_name_70 {
   long ru_nivcsw ;
   __syscall_slong_t __ru_nivcsw_word ;
};
#line 187 "/usr/include/x86_64-linux-gnu/bits/resource.h"
struct rusage {
   struct timeval ru_utime ;
   struct timeval ru_stime ;
   union __anonunion____missing_field_name_57 __annonCompField2 ;
   union __anonunion____missing_field_name_58 __annonCompField3 ;
   union __anonunion____missing_field_name_59 __annonCompField4 ;
   union __anonunion____missing_field_name_60 __annonCompField5 ;
   union __anonunion____missing_field_name_61 __annonCompField6 ;
   union __anonunion____missing_field_name_62 __annonCompField7 ;
   union __anonunion____missing_field_name_63 __annonCompField8 ;
   union __anonunion____missing_field_name_64 __annonCompField9 ;
   union __anonunion____missing_field_name_65 __annonCompField10 ;
   union __anonunion____missing_field_name_66 __annonCompField11 ;
   union __anonunion____missing_field_name_67 __annonCompField12 ;
   union __anonunion____missing_field_name_68 __annonCompField13 ;
   union __anonunion____missing_field_name_69 __annonCompField14 ;
   union __anonunion____missing_field_name_70 __annonCompField15 ;
};
#line 502 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct hookdef;
#line 502 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct hookdef *Hookdef;
#line 505
struct job;
#line 505 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct job *Job;
#line 518
struct process;
#line 518 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct process *Process;
#line 985 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct job {
   pid_t gleader ;
   pid_t other ;
   int stat ;
   char *pwd ;
   struct process *procs ;
   struct process *auxprocs ;
   LinkList filelist ;
   int stty_in_env ;
   struct ttyinfo *ty ;
};
#line 1038 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct rusage child_times_t;
#line 1043 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct process {
   struct process *next ;
   pid_t pid ;
   char text[80] ;
   int status ;
   child_times_t ti ;
   struct timeval bgtime ;
   struct timeval endtime ;
};
#line 1053 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct execstack {
   struct execstack *next ;
   pid_t list_pipe_pid ;
   int nowait ;
   int pline_level ;
   int list_pipe_child ;
   int list_pipe_job ;
   char list_pipe_text[80] ;
   int lastval ;
   int noeval ;
   int badcshglob ;
   pid_t cmdoutpid ;
   int cmdoutval ;
   int use_cmdoutval ;
   int trap_return ;
   int trap_state ;
   int trapisfunc ;
   int traplocallevel ;
   int noerrs ;
   int this_noerrexit ;
   char *underscore ;
};
#line 1492 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct hookdef {
   Hookdef next ;
   char *name ;
   int (*def)(Hookdef  , void * ) ;
   int flags ;
   LinkList funcs ;
};
#line 477 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_110 {
   int __in ;
   int __i ;
};
#line 479 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_111 {
   int __in ;
   int __i ;
};
#line 476 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_112 {
   int __in ;
   int __i ;
};
#line 514 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_113 {
   int __in ;
   int __i ;
};
#line 514 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_114 {
   int __in ;
   int __i ;
};
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_115 {
   int __in ;
   int __i ;
};
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_116 {
   int __in ;
   int __i ;
};
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_117 {
   int __in ;
   int __i ;
};
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_118 {
   int __in ;
   int __i ;
};
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_119 {
   int __in ;
   int __i ;
};
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_120 {
   int __in ;
   int __i ;
};
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
union __anonunion_121 {
   int __in ;
   int __i ;
};
#line 781 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
struct savetrap {
   int sig ;
   int flags ;
   int local ;
   int posix ;
   void *list ;
};
#line 65 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __gid_t gid_t;
#line 149 "/home/khheo/.linuxbrew/Cellar/gcc/5.3.0/lib/gcc/x86_64-unknown-linux-gnu/5.3.0/include/stddef.h"
typedef long ptrdiff_t;
#line 495 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct funcstack;
#line 495 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct funcstack *Funcstack;
#line 1264 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct funcstack {
   Funcstack prev ;
   char *name ;
   char *filename ;
   char *caller ;
   zlong flineno ;
   zlong lineno ;
   int tp ;
};
#line 59 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
struct buf_vars;
#line 61 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
struct buf_vars {
   struct buf_vars *last ;
   char *buf ;
   int bufspc ;
   char *bp ;
   char *bufline ;
   char *bp1 ;
   char *fm ;
   int truncwidth ;
   int dontcount ;
   int trunccount ;
   char *rstring ;
   char *Rstring ;
};
#line 108 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
typedef struct buf_vars *Buf_vars;
#line 1568 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
struct highlight {
   char const   *name ;
   int mask_on ;
   int mask_off ;
};
#line 1835 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
struct colour_sequences {
   char *start ;
   char *end ;
   char *def ;
};
#line 515 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct patstralloc;
#line 515 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct patstralloc *Patstralloc;
#line 1521 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct patstralloc {
   int unmetalen ;
   int unmetalenp ;
   char *alloced ;
   char *progstrunmeta ;
   int progstrunmetalen ;
};
#line 1588 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct zpc_disables_save {
   struct zpc_disables_save *next ;
   unsigned int disables ;
};
#line 1598 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct zpc_disables_save *Zpc_disables_save;
#line 84 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
union upat {
   long l ;
   unsigned char *p ;
};
#line 89 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
typedef union upat *Upat;
#line 221 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
typedef zlong zrange_t;
#line 310 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
typedef wint_t patint_t;
#line 1862 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
struct rpat {
   char *patinstart ;
   char *patinend ;
   char *patinput ;
   char *patinpath ;
   int patinlen ;
   char *patbeginp[9] ;
   char *patendp[9] ;
   int parsfound ;
   int globdots ;
};
#line 297 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
enum lextok {
    NULLTOK = 0,
    SEPER = 1,
    NEWLIN = 2,
    SEMI = 3,
    DSEMI = 4,
    AMPER = 5,
    INPAR = 6,
    OUTPAR = 7,
    DBAR = 8,
    DAMPER = 9,
    OUTANG = 10,
    OUTANGBANG = 11,
    DOUTANG = 12,
    DOUTANGBANG = 13,
    INANG = 14,
    INOUTANG = 15,
    DINANG = 16,
    DINANGDASH = 17,
    INANGAMP = 18,
    OUTANGAMP = 19,
    AMPOUTANG = 20,
    OUTANGAMPBANG = 21,
    DOUTANGAMP = 22,
    DOUTANGAMPBANG = 23,
    TRINANG = 24,
    BAR = 25,
    BARAMP = 26,
    INOUTPAR = 27,
    DINPAR = 28,
    DOUTPAR = 29,
    AMPERBANG = 30,
    SEMIAMP = 31,
    SEMIBAR = 32,
    DOUTBRACK = 33,
    STRING = 34,
    ENVSTRING = 35,
    ENVARRAY = 36,
    ENDINPUT = 37,
    LEXERR = 38,
    BANG = 39,
    DINBRACK = 40,
    INBRACE = 41,
    OUTBRACE = 42,
    CASE = 43,
    COPROC = 44,
    DOLOOP = 45,
    DONE = 46,
    ELIF = 47,
    ELSE = 48,
    ZEND = 49,
    ESAC = 50,
    FI = 51,
    FOR = 52,
    FOREACH = 53,
    FUNC = 54,
    IF = 55,
    NOCORRECT = 56,
    REPEAT = 57,
    SELECT = 58,
    THEN = 59,
    TIME = 60,
    UNTIL = 61,
    WHILE = 62,
    TYPESET = 63
} ;
#line 799
struct eccstr;
#line 799 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct eccstr *Eccstr;
#line 801 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct eccstr {
   Eccstr left ;
   Eccstr right ;
   char *str ;
   wordcode offs ;
   wordcode aoffs ;
   int nfunc ;
};
#line 1077 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct heredocs {
   struct heredocs *next ;
   int type ;
   int pc ;
   char *str ;
};
#line 2950 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct parse_stack {
   struct heredocs *hdocs ;
   int incmdpos ;
   int aliasspaceflag ;
   int incond ;
   int inredir ;
   int incasepat ;
   int isnewlin ;
   int infor ;
   int inrepeat_ ;
   int intypeset ;
   int eclen ;
   int ecused ;
   int ecnpats ;
   Wordcode ecbuf ;
   Eccstr ecstrs ;
   int ecsoffs ;
   int ecssub ;
   int ecnfunc ;
};
#line 2942 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
struct fdhead;
#line 2942 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
typedef struct fdhead *FDHead;
#line 2944 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
struct fdhead {
   wordcode start ;
   wordcode len ;
   wordcode npats ;
   wordcode strs ;
   wordcode hlen ;
   wordcode flags ;
};
#line 2984
struct wcfunc;
#line 2984 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
typedef struct wcfunc *WCFunc;
#line 2986 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
struct wcfunc {
   char *name ;
   Eprog prog ;
   int flags ;
};
#line 48 "/usr/include/x86_64-linux-gnu/sys/utsname.h"
struct utsname {
   char sysname[65] ;
   char nodename[65] ;
   char release[65] ;
   char version[65] ;
   char machine[65] ;
   char domainname[65] ;
};
#line 1776 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct tieddata {
   char ***arrptr ;
   int joinchar ;
};
#line 248 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
typedef struct param initparam;
#line 4181 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct localename {
   char *name ;
   int category ;
};
#line 5304 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct paramtypes {
   int binflag ;
   char const   *string ;
   int typeflag ;
   int flags ;
};
#line 512 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct optname;
#line 512 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct optname *Optname;
#line 1165 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct optname {
   struct hashnode node ;
   int optno ;
};
#line 107
struct mathfunc;
#line 107 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct mathfunc *MathFunc;
#line 111 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct mathfunc {
   MathFunc next ;
   char *name ;
   int flags ;
   mnumber (*nfunc)(char * , int  , mnumber * , int  ) ;
   mnumber (*sfunc)(char * , char * , int  ) ;
   char *module ;
   int minargs ;
   int maxargs ;
   int funcid ;
};
#line 486
struct builtin;
#line 486 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct builtin *Builtin;
#line 489
struct conddef;
#line 489 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct conddef *Conddef;
#line 493
struct features;
#line 493 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct features *Features;
#line 494
struct feature_enables;
#line 494 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct feature_enables *Feature_enables;
#line 496
struct funcwrap;
#line 496 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct funcwrap *FuncWrap;
#line 506
struct linkedmod;
#line 506 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct linkedmod *Linkedmod;
#line 509
struct module;
#line 509 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct module *Module;
#line 514
struct paramdef;
#line 514 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct paramdef *Paramdef;
#line 657 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct conddef {
   Conddef next ;
   char *name ;
   int flags ;
   int (*handler)(char ** , int  ) ;
   int min ;
   int max ;
   int condid ;
   char *module ;
};
#line 1278 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct funcwrap {
   FuncWrap next ;
   int flags ;
   int (*handler)(Eprog  , FuncWrap  , char * ) ;
   Module module ;
};
#line 1348 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct builtin {
   struct hashnode node ;
   int (*handlerfunc)(char * , char ** , Options  , int  ) ;
   int minargs ;
   int maxargs ;
   int funcid ;
   char *optstr ;
   char *defopts ;
};
#line 1411 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union __anonunion_u_92 {
   void *handle ;
   Linkedmod linked ;
   char *alias ;
};
#line 1411 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct module {
   struct hashnode node ;
   union __anonunion_u_92 u ;
   LinkList autoloads ;
   LinkList deps ;
   int wrapper ;
};
#line 1442 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef int (*Module_generic_func)(void);
#line 1447 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct linkedmod {
   char *name ;
   int (*setup)(Module  ) ;
   int (*features)(Module  , char *** ) ;
   int (*enables)(Module  , int ** ) ;
   int (*boot)(Module  ) ;
   int (*cleanup)(Module  ) ;
   int (*finish)(Module  ) ;
};
#line 1461 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct features {
   Builtin bn_list ;
   int bn_size ;
   Conddef cd_list ;
   int cd_size ;
   MathFunc mf_list ;
   int mf_size ;
   Paramdef pd_list ;
   int pd_size ;
   int n_abstract ;
};
#line 1481 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct feature_enables {
   char *str ;
   Patprog pat ;
};
#line 1966 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct paramdef {
   char *name ;
   int flags ;
   void *var ;
   void const   *gsu ;
   HashNode (*getnfn)(HashTable  , char const   * ) ;
   void (*scantfn)(HashTable  , void (*)(HashNode  , int  ) , int  ) ;
   Param pm ;
};
#line 499
struct heap;
#line 499 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct heap *Heap;
#line 500
struct heapstack;
#line 500 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct heapstack *Heapstack;
#line 2726 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct heapstack {
   struct heapstack *next ;
   size_t used ;
};
#line 2736 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct heap {
   struct heap *next ;
   size_t size ;
   size_t used ;
   struct heapstack *sp ;
};
#line 113 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
union mem_align {
   zlong l ;
   double d ;
};
#line 30 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
struct mathvalue;
#line 308 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
struct mathvalue {
   char *lval ;
   Value pval ;
   mnumber val ;
};
#line 324
enum prec_type {
    MPREC_TOP = 0,
    MPREC_ARG = 1
} ;
#line 484 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct alias;
#line 484 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct alias *Alias;
#line 520
struct reswd;
#line 520 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct reswd *Reswd;
#line 1172 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct reswd {
   struct hashnode node ;
   int token ;
};
#line 1179 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct alias {
   struct hashnode node ;
   char *text ;
   int inuse ;
};
#line 2920 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct lexbufstate {
   char *ptr ;
   int siz ;
   int len ;
};
#line 2933 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct lex_stack {
   int dbparens ;
   int isfirstln ;
   int isfirstch ;
   int lexflags ;
   enum lextok tok ;
   char *tokstr ;
   char *zshlextext ;
   struct lexbufstate lexbuf ;
   int lex_add_raw ;
   char *tokstr_raw ;
   struct lexbufstate lexbuf_raw ;
   int lexstop ;
   zlong toklineno ;
};
#line 158 "/usr/include/x86_64-linux-gnu/bits/resource.h"
enum __rusage_who {
    RUSAGE_SELF = 0,
    RUSAGE_CHILDREN = -1,
    RUSAGE_THREAD = 1
} ;
#line 39 "/usr/include/x86_64-linux-gnu/sys/resource.h"
typedef enum __rusage_who __rusage_who_t;
#line 504 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct jobfile;
#line 504 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct jobfile *Jobfile;
#line 973 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union __anonunion_u_88 {
   char *name ;
   int fd ;
};
#line 973 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct jobfile {
   union __anonunion_u_88 u ;
   int is_fd ;
};
#line 137 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_110___0 {
   int __in ;
   int __i ;
};
#line 244 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_111___0 {
   int __in ;
   int __i ;
};
#line 246 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_112___0 {
   int __in ;
   int __i ;
};
#line 248 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_113___0 {
   int __in ;
   int __i ;
};
#line 242 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_114___0 {
   int __in ;
   int __i ;
};
#line 258 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_115___0 {
   int __in ;
   int __i ;
};
#line 258 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_116___0 {
   int __in ;
   int __i ;
};
#line 287 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_117___0 {
   int __in ;
   int __i ;
};
#line 287 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_118___0 {
   int __in ;
   int __i ;
};
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_119___0 {
   int __in ;
   int __i ;
};
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_120___0 {
   int __in ;
   int __i ;
};
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_121___0 {
   int __in ;
   int __i ;
};
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_122 {
   int __in ;
   int __i ;
};
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_123 {
   int __in ;
   int __i ;
};
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_124 {
   int __in ;
   int __i ;
};
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_125 {
   int __in ;
   int __i ;
};
#line 418 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_126 {
   int __in ;
   int __i ;
};
#line 427 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_127 {
   int __in ;
   int __i ;
};
#line 434 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_128 {
   int __in ;
   int __i ;
};
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_129 {
   int __in ;
   int __i ;
};
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_130 {
   int __in ;
   int __i ;
};
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_131 {
   int __in ;
   int __i ;
};
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_132 {
   int __in ;
   int __i ;
};
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_133 {
   int __in ;
   int __i ;
};
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_134 {
   int __in ;
   int __i ;
};
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_135 {
   int __in ;
   int __i ;
};
#line 573 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_136 {
   int __in ;
   int __i ;
};
#line 572 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_137 {
   int __in ;
   int __i ;
};
#line 1000 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_138 {
   int __in ;
   int __i ;
};
#line 1002 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_139 {
   int __in ;
   int __i ;
};
#line 1015 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_140 {
   int __in ;
   int __i ;
};
#line 1020 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_141 {
   int __in ;
   int __i ;
};
#line 1014 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_142 {
   int __in ;
   int __i ;
};
#line 999 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_143 {
   int __in ;
   int __i ;
};
#line 1114 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_144 {
   int __in ;
   int __i ;
};
#line 1113 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_145 {
   int __in ;
   int __i ;
};
#line 1119 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_146 {
   int __in ;
   int __i ;
};
#line 1119 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_147 {
   int __in ;
   int __i ;
};
#line 1119 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_148 {
   int __in ;
   int __i ;
};
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_149 {
   int __in ;
   int __i ;
};
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_150 {
   int __in ;
   int __i ;
};
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_151 {
   int __in ;
   int __i ;
};
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_152 {
   int __in ;
   int __i ;
};
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_153 {
   int __in ;
   int __i ;
};
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_154 {
   int __in ;
   int __i ;
};
#line 1127 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_155 {
   int __in ;
   int __i ;
};
#line 1127 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_156 {
   int __in ;
   int __i ;
};
#line 1127 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_157 {
   int __in ;
   int __i ;
};
#line 1121 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_158 {
   int __in ;
   int __i ;
};
#line 1118 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_159 {
   int __in ;
   int __i ;
};
#line 1112 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_160 {
   int __in ;
   int __i ;
};
#line 2007 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
struct bgstatus {
   pid_t pid ;
   int status ;
};
#line 2011 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
typedef struct bgstatus *Bgstatus;
#line 2415 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
struct __anonstruct_alt_sigs_161 {
   char const   *name ;
   int num ;
};
#line 2497 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_162 {
   int __in ;
   int __i ;
};
#line 2499 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_163 {
   int __in ;
   int __i ;
};
#line 2498 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_164 {
   int __in ;
   int __i ;
};
#line 2496 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
union __anonunion_165 {
   int __in ;
   int __i ;
};
#line 86 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __off_t off_t;
#line 114 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
struct instacks {
   char *buf ;
   char *bufptr ;
   Alias alias ;
   int bufleft ;
   int bufct ;
   int flags ;
};
#line 136 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __rlim_t;
#line 31 "/usr/include/x86_64-linux-gnu/bits/resource.h"
enum __rlimit_resource {
    RLIMIT_CPU = 0,
    RLIMIT_FSIZE = 1,
    RLIMIT_DATA = 2,
    RLIMIT_STACK = 3,
    RLIMIT_CORE = 4,
    __RLIMIT_RSS = 5,
    RLIMIT_NOFILE = 7,
    __RLIMIT_OFILE = 7,
    RLIMIT_AS = 9,
    __RLIMIT_NPROC = 6,
    __RLIMIT_MEMLOCK = 8,
    __RLIMIT_LOCKS = 10,
    __RLIMIT_SIGPENDING = 11,
    __RLIMIT_MSGQUEUE = 12,
    __RLIMIT_NICE = 13,
    __RLIMIT_RTPRIO = 14,
    __RLIMIT_RTTIME = 15,
    __RLIMIT_NLIMITS = 16,
    __RLIM_NLIMITS = 16
} ;
#line 131 "/usr/include/x86_64-linux-gnu/bits/resource.h"
typedef __rlim_t rlim_t;
#line 139 "/usr/include/x86_64-linux-gnu/bits/resource.h"
struct rlimit {
   rlim_t rlim_cur ;
   rlim_t rlim_max ;
};
#line 38 "/usr/include/x86_64-linux-gnu/sys/resource.h"
typedef enum __rlimit_resource __rlimit_resource_t;
#line 501 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct histent;
#line 501 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct histent *Histent;
#line 2068
enum loop_return {
    LOOP_OK = 0,
    LOOP_EMPTY = 1,
    LOOP_ERROR = 2
} ;
#line 2079
enum source_return {
    SOURCE_OK = 0,
    SOURCE_NOT_FOUND = 1,
    SOURCE_ERROR = 2
} ;
#line 2094 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct histent {
   struct hashnode node ;
   Histent up ;
   Histent down ;
   char *zle_text ;
   time_t stim ;
   time_t ftim ;
   short *words ;
   int nwords ;
   zlong histnum ;
};
#line 35 "/usr/include/x86_64-linux-gnu/bits/fcntl.h"
struct flock {
   short l_type ;
   short l_whence ;
   __off_t l_start ;
   __off_t l_len ;
   __pid_t l_pid ;
};
#line 2891 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct hist_stack {
   int histactive ;
   int histdone ;
   int stophist ;
   int hlinesz ;
   char *hline ;
   char *hptr ;
   short *chwords ;
   int chwordlen ;
   int chwordpos ;
   int (*hgetc)(void) ;
   void (*hungetc)(int  ) ;
   void (*hwaddc)(int  ) ;
   void (*hwbegin)(int  ) ;
   void (*hwend)(void) ;
   void (*addtoline)(int  ) ;
   unsigned char *cstack ;
   int csp ;
};
#line 205 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
struct histfile_stats {
   char *text ;
   time_t stim ;
   time_t mtim ;
   off_t fpos ;
   off_t fsiz ;
   zlong next_write_ev ;
};
#line 212 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
struct histsave {
   struct histfile_stats lasthist ;
   char *histfile ;
   HashTable histtab ;
   Histent hist_ring ;
   zlong curhist ;
   zlong histlinect ;
   zlong histsiz ;
   zlong savehistsiz ;
   int locallevel ;
};
#line 46 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
struct scanstatus;
#line 46 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
typedef struct scanstatus *ScanStatus;
#line 498 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct hashtable___0 *HashTable___0;
#line 1122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct hashtable___0 {
   int hsize ;
   int ct ;
   HashNode *nodes ;
   void *tmpdata ;
   unsigned int (*hash)(char const   * ) ;
   void (*emptytable)(HashTable___0  ) ;
   void (*filltable)(HashTable___0  ) ;
   int (*cmpnodes)(char const   * , char const   * ) ;
   void (*addnode)(HashTable___0  , char * , void * ) ;
   HashNode (*getnode)(HashTable___0  , char const   * ) ;
   HashNode (*getnode2)(HashTable___0  , char const   * ) ;
   HashNode (*removenode)(HashTable___0  , char const   * ) ;
   void (*disablenode)(HashNode  , int  ) ;
   void (*enablenode)(HashNode  , int  ) ;
   void (*freenode)(HashNode  ) ;
   void (*printnode)(HashNode  , int  ) ;
   void (*scantab)(HashTable___0  , void (*)(HashNode  , int  ) , int  ) ;
   ScanStatus scan ;
};
#line 58 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
struct __anonstruct_s_111 {
   HashNode *hashtab ;
   int ct ;
};
#line 58 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
union __anonunion_u_110___0 {
   struct __anonstruct_s_111 s ;
   HashNode u ;
};
#line 58 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
struct scanstatus {
   int sorted ;
   union __anonunion_u_110___0 u ;
};
#line 42 "/usr/include/grp.h"
struct group {
   char *gr_name ;
   char *gr_passwd ;
   __gid_t gr_gid ;
   char **gr_mem ;
};
#line 488 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct complist;
#line 488 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct complist *Complist;
#line 503
struct imatchdata;
#line 503 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct imatchdata *Imatchdata;
#line 1647 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct imatchdata {
   char *mstr ;
   int mlen ;
   char *ustr ;
   int ulen ;
   int flags ;
   char *replstr ;
   LinkList repllist ;
};
#line 1894 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct repldata {
   int b ;
   int e ;
   char *replstr ;
};
#line 1898 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct repldata *Repldata;
#line 41 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
struct gmatch;
#line 41 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
typedef struct gmatch *Gmatch;
#line 43 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
struct gmatch {
   char *name ;
   char *uname ;
   char **sortstrs ;
   off_t size ;
   long atime ;
   long mtime ;
   long ctime ;
   long links ;
   off_t _size ;
   long _atime ;
   long _mtime ;
   long _ctime ;
   long _links ;
   long ansec ;
   long _ansec ;
   long mnsec ;
   long _mnsec ;
   long cnsec ;
   long _cnsec ;
};
#line 117 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
typedef struct stat *Statptr;
#line 138 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
struct qual {
   struct qual *next ;
   struct qual *or ;
   int (*func)(char * , struct stat * , off_t  , char * ) ;
   off_t data ;
   int sense ;
   int amc ;
   int range ;
   int units ;
   char *sdata ;
};
#line 156 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
struct globsort {
   int tp ;
   char *exec ;
};
#line 168 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
struct globdata {
   int gd_pathpos ;
   char *gd_pathbuf ;
   int gd_matchsz ;
   int gd_matchct ;
   int gd_pathbufsz ;
   int gd_pathbufcwd ;
   Gmatch gd_matchbuf ;
   Gmatch gd_matchptr ;
   char *gd_colonmod ;
   struct qual *gd_quals ;
   int gd_qualct ;
   int gd_qualorct ;
   int gd_range ;
   int gd_amc ;
   int gd_units ;
   int gd_gf_nullglob ;
   int gd_gf_markdirs ;
   int gd_gf_noglobdots ;
   int gd_gf_listtypes ;
   int gd_gf_numsort ;
   int gd_gf_follow ;
   int gd_gf_sorts ;
   int gd_gf_nsorts ;
   struct globsort gd_gf_sortlist[12] ;
   LinkList gd_gf_pre_words ;
   LinkList gd_gf_post_words ;
   char *gd_glob_pre ;
   char *gd_glob_suf ;
};
#line 252 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
struct complist {
   Complist next ;
   Patprog pat ;
   int closure ;
   int follow ;
};
#line 485 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct asgment;
#line 485 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct asgment *Asgment;
#line 492
struct execcmd_params;
#line 492 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
typedef struct execcmd_params *Execcmd_params;
#line 709 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct multio {
   int ct ;
   int rflag ;
   int pipe ;
   int fds[8] ;
};
#line 1193 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
union __anonunion_value_89 {
   char *scalar ;
   LinkList array ;
};
#line 1193 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct asgment {
   struct linknode node ;
   char *name ;
   int is_array ;
   union __anonunion_value_89 value ;
};
#line 1400 "/home/khheo/testset/zsh-zsh-5.3.1/Src/zsh.h"
struct execcmd_params {
   LinkList args ;
   LinkList redir ;
   Wordcode beg ;
   Wordcode varspc ;
   Wordcode assignspc ;
   int type ;
   int postassigns ;
   int htok ;
};
#line 1657 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
union __anonunion_112___1 {
   int __in ;
   int __i ;
};
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.c"
struct context_stack {
   struct context_stack *next ;
   struct hist_stack hist_stack ;
   struct lex_stack lex_stack ;
   struct parse_stack parse_stack ;
};
#line 59 "/usr/include/time.h"
typedef __clock_t clock_t;
#line 34 "/usr/include/x86_64-linux-gnu/sys/times.h"
struct tms {
   clock_t tms_utime ;
   clock_t tms_stime ;
   clock_t tms_cutime ;
   clock_t tms_cstime ;
};
#line 169 "/usr/include/stdio.h"
extern struct _IO_FILE *stdout ;
#line 237
extern int fclose(FILE *__stream ) ;
#line 242
extern int fflush(FILE *__stream ) ;
#line 272
extern FILE *fopen(char const   * __restrict  __filename , char const   * __restrict  __modes ) ;
#line 362
extern int printf(char const   * __restrict  __format  , ...) ;
#line 580
extern int putchar(int __c ) ;
#line 709
extern size_t fread(void * __restrict  __ptr , size_t __size , size_t __n , FILE * __restrict  __stream ) ;
#line 773
extern int fseeko(FILE *__stream , __off_t __off , int __whence ) ;
#line 209 "/usr/include/x86_64-linux-gnu/sys/stat.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) stat)(char const   * __restrict  __file ,
                                                                                             struct stat * __restrict  __buf ) ;
#line 480 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__warn_unused_result__,
__leaf__)) realloc)(void *__ptr , size_t __size ) ;
#line 483
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) free)(void *__ptr ) ;
#line 765
extern void ( __attribute__((__nonnull__(1,4))) qsort)(void *__base , size_t __nmemb ,
                                                       size_t __size , int (*__compar)(void const   * ,
                                                                                       void const   * ) ) ;
#line 192 "/usr/include/time.h"
extern  __attribute__((__nothrow__)) time_t ( __attribute__((__leaf__)) time)(time_t *__timer ) ;
#line 243
extern  __attribute__((__nothrow__)) struct tm *( __attribute__((__leaf__)) localtime)(time_t const   *__timer ) ;
#line 69 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) memcmp)(void const   *__s1 ,
                                                                                               void const   *__s2 ,
                                                                                               size_t __n )  __attribute__((__pure__)) ;
#line 144
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcmp)(char const   *__s1 ,
                                                                                               char const   *__s2 )  __attribute__((__pure__)) ;
#line 147
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strncmp)(char const   *__s1 ,
                                                                                                char const   *__s2 ,
                                                                                                size_t __n )  __attribute__((__pure__)) ;
#line 399
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1), __leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int errflag ;
#line 24 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
void tokenize(char *s ) ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.epro"
void *zalloc(size_t size ) ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **watch ;
#line 95
char *getsparam_u(char *s ) ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.epro"
Patprog patcompile(char *exp , int inflags , char **endexp ) ;
#line 17
int pattry(Patprog prog , char *string ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.epro"
unsigned int txtattrmask ;
#line 10
void tsetcap(int cap , int flags ) ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int queueing_enabled ;
#line 9
int queue_front ;
#line 10
int queue_rear ;
#line 11
int signal_queue[128] ;
#line 12
sigset_t signal_mask_queue[128] ;
#line 20
void holdintr(void) ;
#line 21
void noholdintr(void) ;
#line 27
sigset_t signal_setmask(sigset_t set ) ;
#line 31
void zhandler(int sig ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.epro"
char *dupstring(char const   *s ) ;
#line 36 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
char *get_username(void) ;
#line 46
time_t lastwatch ;
#line 92
int ztrftime(char *buf___7 , int bufsize , char *fmt , struct tm *tm , long usec ) ;
#line 108
short typtab[256] ;
#line 126
char *metafy(char *buf___7 , int len , int heap ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.epro"
char const   * const  default_watchfmt ;
#line 6
void dowatch(void) ;
#line 7
int bin_log(char *nam  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
            Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) ;
#line 134 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
char const   * const  default_watchfmt  =    (char const   */* const  */)"%n has %a %l from %m.";
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.pro"
static time_t getlogtime(struct utmpx *u , int inout ) ;
#line 3
static char *watch3ary(int inout , struct utmpx *u , char *fmt , int prnt ) ;
#line 4
static char *watchlog2(int inout , struct utmpx *u , char *fmt , int prnt , int fini ) ;
#line 5
static void watchlog(int inout , struct utmpx *u , char **w , char *fmt ) ;
#line 6
static int ucmp(struct utmpx *u , struct utmpx *v ) ;
#line 7
static void readwtab(void) ;
#line 144 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static int wtabsz  ;
#line 145 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static struct utmpx *wtab  ;
#line 146 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static time_t lastutmpcheck  ;
#line 151 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static time_t getlogtime(struct utmpx *u , int inout ) 
{ 
  FILE *in ;
  struct utmpx uu ;
  int first ;
  int srchlimit ;
  time_t tmp ;
  time_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  time_t tmp___3 ;
  size_t tmp___4 ;
  time_t tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  time_t tmp___8 ;
  size_t tmp___9 ;
  int tmp___10 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  void *__cil_tmp23 ;
  void *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;

  {
#line 156
  first = 1;
#line 157
  srchlimit = 50;
#line 159
  if (inout) {
#line 160
    return ((time_t )u->ut_tv.tv_sec);
  }
  {
#line 161
  in = fopen((char const   */* __restrict  */)"/var/log/wtmp", (char const   */* __restrict  */)"r");
  }
#line 161
  if (! in) {
    {
#line 162
    tmp = time((time_t *)((void *)0));
    }
#line 162
    return (tmp);
  }
  {
#line 163
  fseeko(in, (__off_t )0, 2);
  }
  {
#line 164
  while (1) {
    while_continue: /* CIL Label */ ;
#line 165
    if (first) {
#line 165
      tmp___1 = -1;
    } else {
#line 165
      tmp___1 = -2;
    }
    {
#line 165
    tmp___2 = fseeko(in, (__off_t )((unsigned long )tmp___1 * sizeof(struct utmpx )),
                     1);
    }
#line 165
    if (tmp___2) {
      {
#line 166
      fclose(in);
#line 167
      tmp___0 = time((time_t *)((void *)0));
      }
#line 167
      return (tmp___0);
    }
    {
#line 169
    first = 0;
#line 170
    tmp___4 = fread((void */* __restrict  */)(& uu), sizeof(struct utmpx ), (size_t )1,
                    (FILE */* __restrict  */)in);
    }
#line 170
    if (! tmp___4) {
      {
#line 171
      fclose(in);
#line 172
      tmp___3 = time((time_t *)((void *)0));
      }
#line 172
      return (tmp___3);
    }
#line 174
    if ((time_t )uu.ut_tv.tv_sec < lastwatch) {
      {
#line 175
      fclose(in);
#line 176
      tmp___5 = time((time_t *)((void *)0));
      }
#line 176
      return (tmp___5);
    } else {
#line 174
      tmp___6 = srchlimit;
#line 174
      srchlimit --;
#line 174
      if (! tmp___6) {
        {
#line 175
        fclose(in);
#line 176
        tmp___5 = time((time_t *)((void *)0));
        }
#line 176
        return (tmp___5);
      }
    }
    {
#line 164
    tmp___7 = memcmp((void const   *)(& uu), (void const   *)u, sizeof(uu));
    }
#line 164
    if (! tmp___7) {
#line 164
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 181
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 182
    tmp___9 = fread((void */* __restrict  */)(& uu), sizeof(struct utmpx ), (size_t )1,
                    (FILE */* __restrict  */)in);
    }
#line 182
    if (! tmp___9) {
      {
#line 183
      fclose(in);
#line 184
      tmp___8 = time((time_t *)((void *)0));
      }
#line 184
      return (tmp___8);
    }
    {
#line 181
    tmp___10 = strncmp((char const   *)(uu.ut_line), (char const   *)(u->ut_line),
                       sizeof(u->ut_line));
    }
#line 181
    if (! tmp___10) {
#line 181
      goto while_break___0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 187
  fclose(in);
  }
#line 188
  return ((time_t )uu.ut_tv.tv_sec);
}
}
#line 197 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static char *watch3ary(int inout , struct utmpx *u , char *fmt , int prnt ) 
{ 
  int truth ;
  int sep ;
  char *tmp ;
  int tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  char *tmp___4 ;
  char *__cil_tmp13 ;

  {
#line 200
  truth = 1;
#line 202
  tmp = fmt;
#line 202
  fmt ++;
  {
#line 203
  if ((int )*tmp == 110) {
#line 203
    goto case_110;
  }
#line 206
  if ((int )*tmp == 97) {
#line 206
    goto case_97;
  }
#line 209
  if ((int )*tmp == 108) {
#line 209
    goto case_108;
  }
#line 217
  if ((int )*tmp == 77) {
#line 217
    goto case_77;
  }
#line 217
  if ((int )*tmp == 109) {
#line 217
    goto case_77;
  }
#line 221
  goto switch_default;
  case_110: /* CIL Label */ 
#line 204
  truth = (int )u->ut_user[0] != 0;
#line 205
  goto switch_break;
  case_97: /* CIL Label */ 
#line 207
  truth = inout;
#line 208
  goto switch_break;
  case_108: /* CIL Label */ 
  {
#line 210
  tmp___0 = strncmp((char const   *)(u->ut_line), "tty", (size_t )3);
  }
#line 210
  if (tmp___0) {
#line 213
    truth = (int )u->ut_line[0] != 0;
  } else {
#line 211
    truth = (int )u->ut_line[3] != 0;
  }
#line 214
  goto switch_break;
  case_77: /* CIL Label */ 
  case_109: /* CIL Label */ 
#line 218
  truth = (int )u->ut_host[0] != 0;
#line 219
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 222
  prnt = 0;
#line 223
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 225
  tmp___1 = fmt;
#line 225
  fmt ++;
#line 225
  sep = (int )*tmp___1;
#line 226
  if (truth) {
#line 226
    if (prnt) {
#line 226
      tmp___2 = 1;
    } else {
#line 226
      tmp___2 = 0;
    }
  } else {
#line 226
    tmp___2 = 0;
  }
  {
#line 226
  fmt = watchlog2(inout, u, fmt, tmp___2, sep);
  }
#line 227
  if (! truth) {
#line 227
    if (prnt) {
#line 227
      tmp___3 = 1;
    } else {
#line 227
      tmp___3 = 0;
    }
  } else {
#line 227
    tmp___3 = 0;
  }
  {
#line 227
  tmp___4 = watchlog2(inout, u, fmt, tmp___3, ')');
  }
#line 227
  return (tmp___4);
}
}
#line 233 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static char *watchlog2(int inout , struct utmpx *u , char *fmt , int prnt , int fini ) 
{ 
  char buf___7[40] ;
  char buf2[80] ;
  time_t timet ;
  struct tm *tm ;
  char *fm2 ;
  int len ;
  char *p ;
  int i ;
  char *tmp ;
  char const   *tmp___0 ;
  int tmp___1 ;
  char *dd ;
  char *ss ;
  int n ;
  char *tmp___2 ;
  int tmp___3 ;
  char *tmp___4 ;
  void *__cil_tmp23 ;
  void *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;

  {
  {
#line 246
  while (1) {
    while_continue: /* CIL Label */ ;
#line 246
    if (! *fmt) {
#line 246
      goto while_break;
    }
#line 247
    if ((int )*fmt == 92) {
#line 248
      fmt ++;
#line 248
      if (*fmt) {
#line 249
        if (prnt) {
          {
#line 250
          putchar((int )*fmt);
          }
        }
#line 251
        fmt ++;
      } else
#line 252
      if (fini) {
#line 253
        return (fmt);
      } else {
#line 255
        goto while_break;
      }
    } else
#line 257
    if ((int )*fmt == fini) {
#line 258
      fmt ++;
#line 258
      return (fmt);
    } else
#line 259
    if ((int )*fmt != 37) {
#line 260
      if (prnt) {
        {
#line 261
        putchar((int )*fmt);
        }
      }
#line 262
      fmt ++;
    } else {
#line 264
      fmt ++;
#line 264
      if ((int )*fmt == 40) {
        {
#line 265
        fmt ++;
#line 265
        fmt = watch3ary(inout, u, fmt, prnt);
        }
      } else
#line 266
      if (! prnt) {
#line 267
        fmt ++;
      } else {
#line 269
        tmp = fmt;
#line 269
        fmt ++;
#line 269
        fm2 = tmp;
        {
#line 270
        if ((int )*fm2 == 110) {
#line 270
          goto case_110;
        }
#line 273
        if ((int )*fm2 == 97) {
#line 273
          goto case_97;
        }
#line 276
        if ((int )*fm2 == 108) {
#line 276
          goto case_108;
        }
#line 283
        if ((int )*fm2 == 109) {
#line 283
          goto case_109;
        }
#line 290
        if ((int )*fm2 == 77) {
#line 290
          goto case_77;
        }
#line 299
        if ((int )*fm2 == 68) {
#line 299
          goto case_68;
        }
#line 299
        if ((int )*fm2 == 119) {
#line 299
          goto case_68;
        }
#line 299
        if ((int )*fm2 == 87) {
#line 299
          goto case_68;
        }
#line 299
        if ((int )*fm2 == 64) {
#line 299
          goto case_68;
        }
#line 299
        if ((int )*fm2 == 116) {
#line 299
          goto case_68;
        }
#line 299
        if ((int )*fm2 == 84) {
#line 299
          goto case_68;
        }
#line 339
        if ((int )*fm2 == 37) {
#line 339
          goto case_37;
        }
#line 342
        if ((int )*fm2 == 83) {
#line 342
          goto case_83;
        }
#line 346
        if ((int )*fm2 == 115) {
#line 346
          goto case_115;
        }
#line 350
        if ((int )*fm2 == 66) {
#line 350
          goto case_66;
        }
#line 354
        if ((int )*fm2 == 98) {
#line 354
          goto case_98;
        }
#line 358
        if ((int )*fm2 == 85) {
#line 358
          goto case_85;
        }
#line 362
        if ((int )*fm2 == 117) {
#line 362
          goto case_117;
        }
#line 366
        goto switch_default;
        case_110: /* CIL Label */ 
        {
#line 271
        printf((char const   */* __restrict  */)"%.*s", (int )sizeof(u->ut_user),
               u->ut_user);
        }
#line 272
        goto switch_break;
        case_97: /* CIL Label */ 
#line 274
        if (! inout) {
#line 274
          tmp___0 = "logged off";
        } else {
#line 274
          tmp___0 = "logged on";
        }
        {
#line 274
        printf((char const   */* __restrict  */)"%s", tmp___0);
        }
#line 275
        goto switch_break;
        case_108: /* CIL Label */ 
        {
#line 277
        tmp___1 = strncmp((char const   *)(u->ut_line), "tty", (size_t )3);
        }
#line 277
        if (tmp___1) {
          {
#line 280
          printf((char const   */* __restrict  */)"%.*s", (int )sizeof(u->ut_line),
                 u->ut_line);
          }
        } else {
          {
#line 278
          printf((char const   */* __restrict  */)"%.*s", (int )sizeof(u->ut_line) - 3,
                 u->ut_line + 3);
          }
        }
#line 281
        goto switch_break;
        case_109: /* CIL Label */ 
#line 284
        p = u->ut_host;
#line 284
        i = (int )sizeof(u->ut_host);
        {
#line 284
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 284
          if (i) {
#line 284
            if (! *p) {
#line 284
              goto while_break___0;
            }
          } else {
#line 284
            goto while_break___0;
          }
#line 285
          if ((int )*p == 46) {
#line 285
            if (! ((int )typtab[(unsigned char )*(p + 1)] & 1)) {
#line 286
              goto while_break___0;
            }
          }
          {
#line 287
          putchar((int )*p);
#line 284
          i --;
#line 284
          p ++;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
#line 289
        goto switch_break;
        case_77: /* CIL Label */ 
        {
#line 291
        printf((char const   */* __restrict  */)"%.*s", (int )sizeof(u->ut_host),
               u->ut_host);
        }
#line 292
        goto switch_break;
        case_68: /* CIL Label */ 
        case_119: /* CIL Label */ 
        case_87: /* CIL Label */ 
        case_64: /* CIL Label */ 
        case_116: /* CIL Label */ 
        case_84: /* CIL Label */ 
        {
#line 302
        if ((int )*fm2 == 116) {
#line 302
          goto case_116___0;
        }
#line 302
        if ((int )*fm2 == 64) {
#line 302
          goto case_116___0;
        }
#line 305
        if ((int )*fm2 == 84) {
#line 305
          goto case_84___0;
        }
#line 308
        if ((int )*fm2 == 119) {
#line 308
          goto case_119___0;
        }
#line 311
        if ((int )*fm2 == 87) {
#line 311
          goto case_87___0;
        }
#line 314
        if ((int )*fm2 == 68) {
#line 314
          goto case_68___0;
        }
#line 300
        goto switch_break___0;
        case_116___0: /* CIL Label */ 
        case_64___0: /* CIL Label */ 
#line 303
        fm2 = (char *)"%l:%M%p";
#line 304
        goto switch_break___0;
        case_84___0: /* CIL Label */ 
#line 306
        fm2 = (char *)"%K:%M";
#line 307
        goto switch_break___0;
        case_119___0: /* CIL Label */ 
#line 309
        fm2 = (char *)"%a %f";
#line 310
        goto switch_break___0;
        case_87___0: /* CIL Label */ 
#line 312
        fm2 = (char *)"%m/%d/%y";
#line 313
        goto switch_break___0;
        case_68___0: /* CIL Label */ 
#line 315
        if ((int )*(fm2 + 1) == 123) {
#line 317
          n = 79;
#line 319
          ss = fm2 + 2;
#line 319
          dd = buf2;
          {
#line 319
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 319
            tmp___3 = n;
#line 319
            n --;
#line 319
            if (tmp___3) {
#line 319
              if (*ss) {
#line 319
                if (! ((int )*ss != 125)) {
#line 319
                  goto while_break___1;
                }
              } else {
#line 319
                goto while_break___1;
              }
            } else {
#line 319
              goto while_break___1;
            }
#line 321
            if ((int )*ss == 92) {
#line 321
              if (*(ss + 1)) {
#line 321
                ss ++;
#line 321
                tmp___2 = ss;
              } else {
#line 321
                tmp___2 = ss;
              }
            } else {
#line 321
              tmp___2 = ss;
            }
#line 321
            *dd = *tmp___2;
#line 319
            ss ++;
#line 319
            dd ++;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 322
          if ((int )*ss == 125) {
#line 323
            *dd = (char )'\000';
#line 324
            fmt = ss + 1;
#line 325
            fm2 = buf2;
          } else {
#line 327
            fm2 = (char *)"%y-%m-%d";
          }
        } else {
#line 329
          fm2 = (char *)"%y-%m-%d";
        }
#line 330
        goto switch_break___0;
        switch_break___0: /* CIL Label */ ;
        }
        {
#line 332
        timet = getlogtime(u, inout);
#line 333
        tm = localtime((time_t const   *)(& timet));
#line 334
        len = ztrftime(buf___7, 40, fm2, tm, 0L);
        }
#line 335
        if (len > 0) {
          {
#line 336
          metafy(buf___7, len, 5);
          }
        }
#line 337
        if ((int )buf___7[0] == 32) {
#line 337
          tmp___4 = buf___7 + 1;
        } else {
#line 337
          tmp___4 = buf___7;
        }
        {
#line 337
        printf((char const   */* __restrict  */)"%s", tmp___4);
        }
#line 338
        goto switch_break;
        case_37: /* CIL Label */ 
        {
#line 340
        putchar('%');
        }
#line 341
        goto switch_break;
        case_83: /* CIL Label */ 
        {
#line 343
        txtattrmask |= 2U;
#line 344
        tsetcap(19, 1);
        }
#line 345
        goto switch_break;
        case_115: /* CIL Label */ 
        {
#line 347
        txtattrmask &= 4294967293U;
#line 348
        tsetcap(22, 5);
        }
#line 349
        goto switch_break;
        case_66: /* CIL Label */ 
        {
#line 351
        txtattrmask |= 1U;
#line 352
        tsetcap(18, 5);
        }
#line 353
        goto switch_break;
        case_98: /* CIL Label */ 
        {
#line 355
        txtattrmask &= 4294967294U;
#line 356
        tsetcap(21, 5);
        }
#line 357
        goto switch_break;
        case_85: /* CIL Label */ 
        {
#line 359
        txtattrmask |= 4U;
#line 360
        tsetcap(20, 1);
        }
#line 361
        goto switch_break;
        case_117: /* CIL Label */ 
        {
#line 363
        txtattrmask &= 4294967291U;
#line 364
        tsetcap(23, 5);
        }
#line 365
        goto switch_break;
        switch_default: /* CIL Label */ 
        {
#line 367
        putchar('%');
#line 368
        putchar((int )*fm2);
        }
#line 369
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 372
  if (prnt) {
    {
#line 373
    putchar('\n');
    }
  }
#line 375
  return (fmt);
}
}
#line 380 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static int watchlog_match(char *teststr , char *actual , int len ) 
{ 
  int ret ;
  Patprog pprog ;
  char *str ;
  char *tmp ;
  int tmp___0 ;
  sigset_t oset ;
  int tmp___1 ;
  void *__cil_tmp11 ;

  {
  {
#line 383
  ret = 0;
#line 385
  tmp = dupstring((char const   *)teststr);
#line 385
  str = tmp;
#line 387
  tokenize(str);
#line 389
  pprog = patcompile(str, 64, (char **)0);
  }
#line 389
  if (pprog) {
    {
#line 390
    queueing_enabled ++;
#line 391
    tmp___0 = pattry(pprog, actual);
    }
#line 391
    if (tmp___0) {
#line 392
      ret = 1;
    }
    {
#line 393
    while (1) {
      while_continue: /* CIL Label */ ;
#line 393
      queueing_enabled --;
#line 393
      if (! queueing_enabled) {
        {
#line 393
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 393
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 393
            if (! (queue_front != queue_rear)) {
#line 393
              goto while_break___1;
            }
            {
#line 393
            queue_front = (queue_front + 1) % 128;
#line 393
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 393
            zhandler(signal_queue[queue_front]);
#line 393
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 393
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 393
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 394
    tmp___1 = strncmp((char const   *)actual, (char const   *)teststr, (size_t )len);
    }
#line 394
    if (! tmp___1) {
#line 395
      ret = 1;
    }
  }
#line 396
  return (ret);
}
}
#line 402 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static void watchlog(int inout , struct utmpx *u , char **w , char *fmt ) 
{ 
  char *v ;
  char *vv ;
  char sav ;
  int bad ;
  int tmp ;
  int tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  size_t tmp___5 ;
  int tmp___6 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
#line 408
  if (! u->ut_user[0]) {
#line 409
    return;
  }
#line 411
  if (*w) {
    {
#line 411
    tmp = strcmp((char const   *)*w, "all");
    }
#line 411
    if (! tmp) {
      {
#line 412
      watchlog2(inout, u, fmt, 1, 0);
      }
#line 413
      return;
    }
  }
#line 415
  if (*w) {
    {
#line 415
    tmp___0 = strcmp((char const   *)*w, "notme");
    }
#line 415
    if (! tmp___0) {
      {
#line 415
      tmp___1 = get_username();
#line 415
      tmp___2 = strncmp((char const   *)(u->ut_user), (char const   *)tmp___1, sizeof(u->ut_user));
      }
#line 415
      if (tmp___2) {
        {
#line 417
        watchlog2(inout, u, fmt, 1, 0);
        }
#line 418
        return;
      }
    }
  }
  {
#line 420
  while (1) {
    while_continue: /* CIL Label */ ;
#line 420
    if (! *w) {
#line 420
      goto while_break;
    }
#line 421
    bad = 0;
#line 422
    v = *w;
#line 423
    if ((int )*v != 64) {
#line 423
      if ((int )*v != 37) {
#line 424
        vv = v;
        {
#line 424
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 424
          if (*vv) {
#line 424
            if ((int )*vv != 64) {
#line 424
              if (! ((int )*vv != 37)) {
#line 424
                goto while_break___0;
              }
            } else {
#line 424
              goto while_break___0;
            }
          } else {
#line 424
            goto while_break___0;
          }
#line 424
          vv ++;
        }
        while_break___0: /* CIL Label */ ;
        }
        {
#line 425
        sav = *vv;
#line 426
        *vv = (char )'\000';
#line 427
        tmp___3 = watchlog_match(v, u->ut_user, (int )sizeof(u->ut_user));
        }
#line 427
        if (! tmp___3) {
#line 428
          bad = 1;
        }
#line 429
        *vv = sav;
#line 430
        v = vv;
      }
    }
    {
#line 432
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 433
      if ((int )*v == 37) {
#line 434
        v ++;
#line 434
        vv = v;
        {
#line 434
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 434
          if (*vv) {
#line 434
            if (! ((int )*vv != 64)) {
#line 434
              goto while_break___2;
            }
          } else {
#line 434
            goto while_break___2;
          }
#line 434
          vv ++;
        }
        while_break___2: /* CIL Label */ ;
        }
        {
#line 435
        sav = *vv;
#line 436
        *vv = (char )'\000';
#line 437
        tmp___4 = watchlog_match(v, u->ut_line, (int )sizeof(u->ut_line));
        }
#line 437
        if (! tmp___4) {
#line 438
          bad = 1;
        }
#line 439
        *vv = sav;
#line 440
        v = vv;
      } else
#line 443
      if ((int )*v == 64) {
#line 444
        v ++;
#line 444
        vv = v;
        {
#line 444
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 444
          if (*vv) {
#line 444
            if (! ((int )*vv != 37)) {
#line 444
              goto while_break___3;
            }
          } else {
#line 444
            goto while_break___3;
          }
#line 444
          vv ++;
        }
        while_break___3: /* CIL Label */ ;
        }
        {
#line 445
        sav = *vv;
#line 446
        *vv = (char )'\000';
#line 447
        tmp___5 = strlen((char const   *)v);
#line 447
        tmp___6 = watchlog_match(v, u->ut_host, (int )tmp___5);
        }
#line 447
        if (! tmp___6) {
#line 448
          bad = 1;
        }
#line 449
        *vv = sav;
#line 450
        v = vv;
      } else {
#line 454
        goto while_break___1;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 455
    if (! bad) {
      {
#line 456
      watchlog2(inout, u, fmt, 1, 0);
      }
#line 457
      return;
    }
#line 420
    w ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 460
  return;
}
}
#line 465 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static int ucmp(struct utmpx *u , struct utmpx *v ) 
{ 
  int tmp ;

  {
#line 468
  if (u->ut_tv.tv_sec == v->ut_tv.tv_sec) {
    {
#line 469
    tmp = strncmp((char const   *)(u->ut_line), (char const   *)(v->ut_line), sizeof(u->ut_line));
    }
#line 469
    return (tmp);
  }
#line 470
  return (u->ut_tv.tv_sec - v->ut_tv.tv_sec);
}
}
#line 476 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
static void readwtab(void) 
{ 
  struct utmpx *uptr ;
  int wtabmax ;
  FILE *in ;
  void *tmp ;
  void *tmp___0 ;
  size_t tmp___1 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
  {
#line 480
  wtabmax = 32;
#line 483
  wtabsz = 0;
#line 484
  in = fopen((char const   */* __restrict  */)"/var/run/utmp", (char const   */* __restrict  */)"r");
  }
#line 484
  if (! in) {
#line 485
    return;
  }
  {
#line 486
  tmp = zalloc((unsigned long )wtabmax * sizeof(struct utmpx ));
#line 486
  wtab = (struct utmpx *)tmp;
#line 486
  uptr = wtab;
  }
  {
#line 487
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 487
    tmp___1 = fread((void */* __restrict  */)uptr, sizeof(struct utmpx ), (size_t )1,
                    (FILE */* __restrict  */)in);
    }
#line 487
    if (! tmp___1) {
#line 487
      goto while_break;
    }
#line 489
    if ((int )uptr->ut_type == 7) {
#line 494
      uptr ++;
#line 495
      wtabsz ++;
#line 495
      if (wtabsz == wtabmax) {
        {
#line 496
        wtabmax *= 2;
#line 496
        tmp___0 = realloc((void *)wtab, (unsigned long )wtabmax * sizeof(struct utmpx ));
#line 496
        wtab = (struct utmpx *)tmp___0;
#line 496
        uptr = wtab + wtabsz;
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 499
  fclose(in);
  }
#line 501
  if (wtabsz) {
    {
#line 502
    qsort((void *)wtab, (size_t )wtabsz, sizeof(struct utmpx ), (int (*)(void const   * ,
                                                                         void const   * ))(& ucmp));
    }
  }
#line 504
  return;
}
}
#line 510 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
void dowatch(void) 
{ 
  FILE *in ;
  struct utmpx *utab ;
  struct utmpx *uptr ;
  struct utmpx *wptr ;
  struct stat st___0 ;
  char **s ;
  char *fmt ;
  int utabsz ;
  int utabmax ;
  int uct ;
  int wct ;
  int tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  size_t tmp___2 ;
  struct utmpx *tmp___3 ;
  struct utmpx *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  sigset_t oset ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;

  {
  {
#line 518
  utabsz = 0;
#line 518
  utabmax = wtabsz + 4;
#line 521
  s = watch;
#line 523
  holdintr();
  }
#line 524
  if (! wtab) {
    {
#line 525
    readwtab();
#line 526
    noholdintr();
    }
#line 527
    return;
  }
  {
#line 529
  tmp = stat((char const   */* __restrict  */)"/var/run/utmp", (struct stat */* __restrict  */)(& st___0));
  }
#line 529
  if (tmp == -1) {
    {
#line 530
    noholdintr();
    }
#line 531
    return;
  } else
#line 529
  if (st___0.st_mtim.tv_sec <= lastutmpcheck) {
    {
#line 530
    noholdintr();
    }
#line 531
    return;
  }
  {
#line 533
  lastutmpcheck = st___0.st_mtim.tv_sec;
#line 534
  tmp___0 = zalloc((unsigned long )utabmax * sizeof(struct utmpx ));
#line 534
  utab = (struct utmpx *)tmp___0;
#line 534
  uptr = utab;
#line 536
  in = fopen((char const   */* __restrict  */)"/var/run/utmp", (char const   */* __restrict  */)"r");
  }
#line 536
  if (! in) {
    {
#line 537
    free((void *)utab);
#line 538
    noholdintr();
    }
#line 539
    return;
  }
  {
#line 541
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 541
    tmp___2 = fread((void */* __restrict  */)uptr, sizeof(*uptr), (size_t )1, (FILE */* __restrict  */)in);
    }
#line 541
    if (! tmp___2) {
#line 541
      goto while_break;
    }
#line 543
    if ((int )uptr->ut_type == 7) {
#line 548
      uptr ++;
#line 549
      utabsz ++;
#line 549
      if (utabsz == utabmax) {
        {
#line 550
        utabmax *= 2;
#line 550
        tmp___1 = realloc((void *)utab, (unsigned long )utabmax * sizeof(struct utmpx ));
#line 550
        utab = (struct utmpx *)tmp___1;
#line 550
        uptr = utab + utabsz;
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 553
  fclose(in);
#line 554
  noholdintr();
  }
#line 555
  if (errflag) {
    {
#line 556
    free((void *)utab);
    }
#line 557
    return;
  }
#line 559
  if (utabsz) {
    {
#line 560
    qsort((void *)utab, (size_t )utabsz, sizeof(struct utmpx ), (int (*)(void const   * ,
                                                                         void const   * ))(& ucmp));
    }
  }
#line 563
  wct = wtabsz;
#line 564
  uct = utabsz;
#line 565
  uptr = utab;
#line 566
  wptr = wtab;
#line 567
  if (errflag) {
    {
#line 568
    free((void *)utab);
    }
#line 569
    return;
  }
  {
#line 571
  queueing_enabled ++;
#line 572
  fmt = getsparam_u((char *)"WATCHFMT");
  }
#line 572
  if (! fmt) {
#line 573
    fmt = (char *)"%n has %a %l from %m.";
  }
  {
#line 574
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 574
    if (uct) {
#line 574
      goto _L___0;
    } else
#line 574
    if (wct) {
      _L___0: /* CIL Label */ 
#line 574
      if (! (! errflag)) {
#line 574
        goto while_break___0;
      }
    } else {
#line 574
      goto while_break___0;
    }
#line 575
    if (! uct) {
      {
#line 576
      wct --;
#line 576
      tmp___3 = wptr;
#line 576
      wptr ++;
#line 576
      watchlog(0, tmp___3, s, fmt);
      }
    } else
#line 575
    if (wct) {
      {
#line 575
      tmp___6 = ucmp(uptr, wptr);
      }
#line 575
      if (tmp___6 > 0) {
        {
#line 576
        wct --;
#line 576
        tmp___3 = wptr;
#line 576
        wptr ++;
#line 576
        watchlog(0, tmp___3, s, fmt);
        }
      } else {
#line 575
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 577
    if (! wct) {
      {
#line 578
      uct --;
#line 578
      tmp___4 = uptr;
#line 578
      uptr ++;
#line 578
      watchlog(1, tmp___4, s, fmt);
      }
    } else
#line 577
    if (uct) {
      {
#line 577
      tmp___5 = ucmp(uptr, wptr);
      }
#line 577
      if (tmp___5 < 0) {
        {
#line 578
        uct --;
#line 578
        tmp___4 = uptr;
#line 578
        uptr ++;
#line 578
        watchlog(1, tmp___4, s, fmt);
        }
      } else {
#line 580
        uptr ++;
#line 580
        wptr ++;
#line 580
        wct --;
#line 580
        uct --;
      }
    } else {
#line 580
      uptr ++;
#line 580
      wptr ++;
#line 580
      wct --;
#line 580
      uct --;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 581
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 581
    queueing_enabled --;
#line 581
    if (! queueing_enabled) {
      {
#line 581
      while (1) {
        while_continue___2: /* CIL Label */ ;
        {
#line 581
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 581
          if (! (queue_front != queue_rear)) {
#line 581
            goto while_break___3;
          }
          {
#line 581
          queue_front = (queue_front + 1) % 128;
#line 581
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 581
          zhandler(signal_queue[queue_front]);
#line 581
          signal_setmask(oset);
          }
        }
        while_break___3: /* CIL Label */ ;
        }
#line 581
        goto while_break___2;
      }
      while_break___2: /* CIL Label */ ;
      }
    }
#line 581
    goto while_break___1;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 582
  free((void *)wtab);
#line 583
  wtab = utab;
#line 584
  wtabsz = utabsz;
#line 585
  fflush(stdout);
  }
#line 586
  return;
}
}
#line 589 "/home/khheo/testset/zsh-zsh-5.3.1/Src/watch.c"
int bin_log(char *nam  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
            Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) 
{ 
  void *tmp ;

  {
#line 592
  if (! watch) {
#line 593
    return (1);
  }
#line 594
  if (wtab) {
    {
#line 595
    free((void *)wtab);
    }
  }
  {
#line 596
  tmp = zalloc((size_t )1);
#line 596
  wtab = (struct utmpx *)tmp;
#line 597
  wtabsz = 0;
#line 598
  lastutmpcheck = (time_t )0;
#line 599
  dowatch();
  }
#line 600
  return (0);
}
}
/* compiler builtin: 
   void __builtin_va_arg(__builtin_va_list  , unsigned long  , void * ) ;  */
/* compiler builtin: 
   void __builtin_va_start(__builtin_va_list  ) ;  */
/* compiler builtin: 
   void __builtin_va_end(__builtin_va_list  ) ;  */
#line 106 "/usr/include/x86_64-linux-gnu/sys/select.h"
extern int select(int __nfds , fd_set * __restrict  __readfds , fd_set * __restrict  __writefds ,
                  fd_set * __restrict  __exceptfds , struct timeval * __restrict  __timeout ) ;
#line 287 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) access)(char const   *__name ,
                                                                                             int __type ) ;
#line 353
extern int close(int __fd ) ;
#line 360
extern ssize_t read(int __fd , void *__buf , size_t __nbytes ) ;
#line 366
extern ssize_t write(int __fd , void const   *__buf , size_t __n ) ;
#line 444
extern unsigned int sleep(unsigned int __seconds ) ;
#line 497
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) chdir)(char const   *__path ) ;
#line 501
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) fchdir)(int __fd ) ;
#line 534
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) dup2)(int __fd ,
                                                                           int __fd2 ) ;
#line 675
extern  __attribute__((__nothrow__)) __uid_t ( __attribute__((__leaf__)) getuid)(void) ;
#line 678
extern  __attribute__((__nothrow__)) __uid_t ( __attribute__((__leaf__)) geteuid)(void) ;
#line 779
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) isatty)(int __fd ) ;
#line 809
extern  __attribute__((__nothrow__)) ssize_t ( __attribute__((__nonnull__(1,2), __leaf__)) readlink)(char const   * __restrict  __path ,
                                                                                                     char * __restrict  __buf ,
                                                                                                     size_t __len ) ;
#line 839
extern  __attribute__((__nothrow__)) __pid_t ( __attribute__((__leaf__)) tcgetpgrp)(int __fd ) ;
#line 842
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) tcsetpgrp)(int __fd ,
                                                                                __pid_t __pgrp_id ) ;
#line 435 "/usr/include/libio.h"
extern int _IO_putc(int __c , _IO_FILE *__fp ) ;
#line 170 "/usr/include/stdio.h"
extern struct _IO_FILE *stderr ;
#line 356
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 364
extern  __attribute__((__nothrow__)) int sprintf(char * __restrict  __s , char const   * __restrict  __format 
                                                 , ...) ;
#line 573
extern int fputc(int __c , FILE *__stream ) ;
#line 689
extern int fputs(char const   * __restrict  __s , FILE * __restrict  __stream ) ;
#line 715
extern size_t fwrite(void const   * __restrict  __ptr , size_t __size , size_t __n ,
                     FILE * __restrict  __s ) ;
#line 79 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **( __attribute__((__leaf__)) __ctype_b_loc)(void)  __attribute__((__const__)) ;
#line 124
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) tolower)(int __c ) ;
#line 127
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) toupper)(int __c ) ;
#line 214 "/usr/include/x86_64-linux-gnu/sys/stat.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(2), __leaf__)) fstat)(int __fd ,
                                                                                            struct stat *__buf ) ;
#line 263
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) lstat)(char const   * __restrict  __file ,
                                                                                              struct stat * __restrict  __buf ) ;
#line 127 "/usr/include/signal.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) kill)(__pid_t __pid ,
                                                                           int __sig ) ;
#line 110 "/usr/include/pwd.h"
extern struct passwd *getpwuid(__uid_t __uid ) ;
#line 116
extern struct passwd *getpwnam(char const   *__name ) ;
#line 134 "/usr/include/dirent.h"
extern DIR *( __attribute__((__nonnull__(1))) opendir)(char const   *__name ) ;
#line 149
extern int ( __attribute__((__nonnull__(1))) closedir)(DIR *__dirp ) ;
#line 162
extern struct dirent *( __attribute__((__nonnull__(1))) readdir)(DIR *__dirp ) ;
#line 139 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__leaf__)) __ctype_get_mb_cur_max)(void) ;
#line 147
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) atoi)(char const   *__nptr )  __attribute__((__pure__)) ;
#line 374
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) rand)(void) ;
#line 606
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) mktemp)(char *__template ) ;
#line 620
extern int ( __attribute__((__nonnull__(1))) mkstemp)(char *__template ) ;
#line 870
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) wctomb)(char *__s ,
                                                                             wchar_t __wchar ) ;
#line 50 "/usr/include/x86_64-linux-gnu/bits/errno.h"
extern  __attribute__((__nothrow__)) int *( __attribute__((__leaf__)) __errno_location)(void)  __attribute__((__const__)) ;
#line 195 "/usr/include/time.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) difftime)(time_t __time1 ,
                                                                                  time_t __time0 )  __attribute__((__const__)) ;
#line 205
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__leaf__)) strftime)(char * __restrict  __s ,
                                                                                  size_t __maxsize ,
                                                                                  char const   * __restrict  __format ,
                                                                                  struct tm  const  * __restrict  __tp ) ;
#line 334
extern int nanosleep(struct timespec  const  *__requested_time , struct timespec *__remaining ) ;
#line 46 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1,2), __leaf__)) memcpy)(void * __restrict  __dest ,
                                                                                                 void const   * __restrict  __src ,
                                                                                                 size_t __n ) ;
#line 66
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1), __leaf__)) memset)(void *__s ,
                                                                                               int __c ,
                                                                                               size_t __n ) ;
#line 129
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcpy)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 132
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncpy)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 137
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcat)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 236
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) strchr)(char const   *__s ,
                                                                                               int __c )  __attribute__((__pure__)) ;
#line 413
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) strerror)(int __errnum ) ;
#line 137 "/usr/include/fcntl.h"
extern int fcntl(int __fd , int __cmd  , ...) ;
#line 146
extern int ( __attribute__((__nonnull__(1))) open)(char const   *__file , int __oflag 
                                                   , ...) ;
#line 66 "/usr/include/termios.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) tcgetattr)(int __fd ,
                                                                                struct termios *__termios_p ) ;
#line 70
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) tcsetattr)(int __fd ,
                                                                                int __optional_actions ,
                                                                                struct termios  const  *__termios_p ) ;
#line 41 "/usr/include/x86_64-linux-gnu/sys/ioctl.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) ioctl)(int __fd ,
                                                                            unsigned long __request 
                                                                            , ...) ;
#line 320 "/usr/include/wchar.h"
extern  __attribute__((__nothrow__)) wchar_t *( __attribute__((__leaf__)) wmemchr)(wchar_t const   *__s ,
                                                                                   wchar_t __c ,
                                                                                   size_t __n )  __attribute__((__pure__)) ;
#line 329
extern  __attribute__((__nothrow__)) wchar_t *( __attribute__((__leaf__)) wmemcpy)(wchar_t * __restrict  __s1 ,
                                                                                   wchar_t const   * __restrict  __s2 ,
                                                                                   size_t __n ) ;
#line 365
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__leaf__)) mbrtowc)(wchar_t * __restrict  __pwc ,
                                                                                 char const   * __restrict  __s ,
                                                                                 size_t __n ,
                                                                                 mbstate_t * __restrict  __p ) ;
#line 370
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__leaf__)) wcrtomb)(char * __restrict  __s ,
                                                                                 wchar_t __wc ,
                                                                                 mbstate_t * __restrict  __ps ) ;
#line 376
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__leaf__)) mbrlen)(char const   * __restrict  __s ,
                                                                                size_t __n ,
                                                                                mbstate_t * __restrict  __ps ) ;
#line 439
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) wcwidth)(wchar_t __c ) ;
#line 111 "/usr/include/wctype.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswalnum)(wint_t __wc ) ;
#line 136
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswprint)(wint_t __wc ) ;
#line 146
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswspace)(wint_t __wc ) ;
#line 139 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.h"
sigset_t signal_block(sigset_t set ) ;
#line 142
sigset_t signal_unblock(sigset_t set ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
HashTable builtintab ;
#line 41
int stopmsg ;
#line 24 "/home/khheo/testset/zsh-zsh-5.3.1/Src/compat.epro"
char *zgetdir(struct dirsav *d___0 ) ;
#line 26
int zchdir(char *dir ) ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int noerrs ;
#line 13
int retflag ;
#line 15
unsigned char *fdtable ;
#line 16
int fdtable_size ;
#line 17
int max_zsh_fd ;
#line 18
int coprocin ;
#line 19
int coprocout ;
#line 20
int fdtable_flocks ;
#line 21
int zleactive ;
#line 25
int sfcontext ;
#line 41
Cmdnam hashcmd(char *arg0 , char **pp ) ;
#line 46
void untokenize(char *s ) ;
#line 48
void setunderscore(char *str ) ;
#line 60
int doshfunc(Shfunc shfunc , LinkList doshargs , int noreturnval ) ;
#line 26 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
void remnulargs(char *s ) ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
extern int scanhashtable(HashTable ht , int sorted , int flags1 , int flags2 , void (*scanfunc)(HashNode  ,
                                                                                                int  ) ,
                         int scanflags ) ;
#line 21
extern HashTable cmdnamtab ;
#line 22
char **pathchecked ;
#line 25
extern HashTable shfunctab ;
#line 30
extern HashTable reswdtab ;
#line 32
extern HashTable aliastab ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.epro"
HashTable nameddirtab ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int histdone ;
#line 56
void hwrep(char *rep ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
char *zunderscore ;
#line 8
int underscoreused ;
#line 10
int SHTTY ;
#line 11
FILE *shout ;
#line 14
int tclines ;
#line 15
int tccolumns ;
#line 18
int hasxn ;
#line 40
char *zleentry(int cmd  , ...) ;
#line 43
int use_exit_printed ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
pid_t mypgrp ;
#line 46
void scanjobs(void) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
char ztokens[30] ;
#line 36
int parsestr(char **s ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.epro"
LinkList newlinklist(void) ;
#line 6
LinkList znewlinklist(void) ;
#line 7
LinkNode insertlinknode(LinkList list , LinkNode node , void *dat ) ;
#line 8
LinkNode zinsertlinknode(LinkList list , LinkNode node , void *dat ) ;
#line 12
void *ugetnode(LinkList list ) ;
#line 13
void *remnode(LinkList list , LinkNode nd ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.epro"
int contflag ;
#line 7
int breaks ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.epro"
void pushheap(void) ;
#line 13
void popheap(void) ;
#line 15
void *zhalloc(size_t size ) ;
#line 16
void *hrealloc(char *p , size_t old , size_t new ) ;
#line 20
void *hcalloc(size_t size ) ;
#line 22
void *zshcalloc(size_t size ) ;
#line 23
void *zrealloc(void *ptr___0 , size_t size ) ;
#line 29
void zfree(void *p , int sz___0  __attribute__((__unused__)) ) ;
#line 30
void zsfree(char *p ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.epro"
int emulation ;
#line 7
char opts[178] ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
int locallevel ;
#line 7
char **cdpath ;
#line 9
char **mailpath ;
#line 14
char **path ;
#line 16
char *argzero ;
#line 18
char *home ;
#line 25
char *prompt4 ;
#line 29
char *sprompt ;
#line 30
char *wordchars ;
#line 31
char *ifs ;
#line 33
char *term ;
#line 37
char *pwd ;
#line 41
zlong zterm_columns ;
#line 42
zlong zterm_lines ;
#line 46
zlong lineno ;
#line 49
unsigned char bangchar ;
#line 54
int termflags ;
#line 66
HashTable paramtab ;
#line 92
zlong getiparam(char *s ) ;
#line 94
char *getsparam(char *s ) ;
#line 96
char **getaparam(char *s ) ;
#line 105
Param setiparam(char *s , zlong val ) ;
#line 188
char *zgetenv(char *name ) ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.epro"
char *promptexpand(char *s , int ns , char *rs , char *Rs , unsigned int *txtchangep ) ;
#line 12
void countprompt(char *str , int *wp , int *hp , int overf ) ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
sigset_t signal_mask(int sig ) ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.epro"
char *ztrdup(char const   *s ) ;
#line 10
wchar_t *wcs_ztrdup(wchar_t const   *s ) ;
#line 12
char *tricat(char const   *s1 , char const   *s2 , char const   *s3 ) ;
#line 13
char *zhtricat(char const   *s1 , char const   *s2 , char const   *s3 ) ;
#line 14
char *dyncat(char const   *s1 , char const   *s2 ) ;
#line 15
char *bicat(char const   *s1 , char const   *s2 ) ;
#line 16
char *dupstrpfx(char const   *s , int len ) ;
#line 17
char *ztrduppfx(char const   *s , int len ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.epro"
char nulstring[2] ;
#line 9
void singsub(char **s ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
char *scriptname  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
char *scriptfilename  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
int incompfunc  ;
#line 8
void zerr(char const   *fmt  , ...) ;
#line 9
void zerrnam(char const   *cmd , char const   *fmt  , ...) ;
#line 10
void zwarn(char const   *fmt  , ...) ;
#line 11
void zwarnnam(char const   *cmd , char const   *fmt  , ...) ;
#line 13
void zerrmsg(FILE *file , char const   *fmt , va_list ap ) ;
#line 14
int putraw(int c ) ;
#line 15
int putshout(int c ) ;
#line 16
char *nicechar_sel(int c , int quotable ) ;
#line 17
char *nicechar(int c ) ;
#line 19
int is_nicechar(int c ) ;
#line 21
void mb_charinit(void) ;
#line 22
char *wcs_nicechar_sel(wchar_t c , size_t *widthp , char **swidep , int quotable ) ;
#line 23
char *wcs_nicechar(wchar_t c , size_t *widthp , char **swidep ) ;
#line 24
int is_wcs_nicechar(wchar_t c ) ;
#line 25
int zwcwidth(wint_t wc ) ;
#line 27
char *pathprog(char *prog , char **namep ) ;
#line 28
char *findpwd(char *s ) ;
#line 29
int ispwd(char *s ) ;
#line 30
char *xsymlink(char *s , int heap ) ;
#line 31
void print_if_link(char *s , int all ) ;
#line 32
void fprintdir(char *s , FILE *f ) ;
#line 33
char *substnamedir(char *s ) ;
#line 34 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
uid_t cached_uid  ;
#line 35 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
char *cached_username  ;
#line 37
Nameddir finddir(char *s ) ;
#line 38
void adduserdir(char *s , char *t , int flags , int always ) ;
#line 39
char *getnameddir(char *name ) ;
#line 40
void addprepromptfn(void (*func)(void) ) ;
#line 41
void delprepromptfn(void (*func)(void) ) ;
#line 42 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
LinkList timedfns  ;
#line 43
void addtimedfn(void (*func)(void) , time_t when ) ;
#line 44
void deltimedfn(void (*func)(void) ) ;
#line 45 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
time_t lastmailcheck  ;
#line 46 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
time_t lastwatch  ;
#line 47
int callhookfunc(char *name , LinkList lnklst , int arrayp , int *retval ) ;
#line 48
void preprompt(void) ;
#line 49
FILE *xtrerr ;
#line 50
void printprompt4(void) ;
#line 51
void freestr(void *a ) ;
#line 52
void gettyinfo(struct ttyinfo *ti ) ;
#line 53
void settyinfo(struct ttyinfo *ti ) ;
#line 54 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
struct ttyinfo shttyinfo  ;
#line 55 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
int resetneeded  ;
#line 56 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
int winchanged  ;
#line 57
void adjustwinsize(int from ) ;
#line 58
int movefd(int fd ) ;
#line 59
int redup(int x , int y ) ;
#line 60
void addmodulefd(int fd , int fdt ) ;
#line 61
void addlockfd(int fd , int cloexec ) ;
#line 62
int zclose(int fd ) ;
#line 63
int zcloselockfd(int fd ) ;
#line 64
char *gettempname(char const   *prefix , int use_heap ) ;
#line 65
int gettempfile(char const   *prefix , int use_heap , char **tempname ) ;
#line 66
int has_token(char const   *s ) ;
#line 67
void chuck(char *str ) ;
#line 68
int tulower(int c ) ;
#line 69
int tuupper(int c ) ;
#line 70
void ztrncpy(char *s , char *t , int len ) ;
#line 71
void strucpy(char **s , char *t ) ;
#line 72
void struncpy(char **s , char *t , int n ) ;
#line 73
int arrlen(char **s ) ;
#line 74
char arrlen_ge(char **s , unsigned int lower_bound ) ;
#line 75
char arrlen_gt(char **s , unsigned int lower_bound ) ;
#line 76
char arrlen_le(char **s , unsigned int upper_bound ) ;
#line 77
char arrlen_lt(char **s , unsigned int upper_bound ) ;
#line 78
int skipparens(char inpar , char outpar , char **s ) ;
#line 79
zlong zstrtol(char const   *s , char **t , int base ) ;
#line 80
zlong zstrtol_underscore(char const   *s , char **t , int base , int underscore ) ;
#line 81
int setblock_fd(int turnonblocking , int fd , long *modep ) ;
#line 82
int setblock_stdin(void) ;
#line 83
int read_poll(int fd , int *readchar , int polltty , zlong microseconds ) ;
#line 84
int zsleep(long us ) ;
#line 85
int zsleep_random(long max_us , time_t end_time ) ;
#line 86
int checkrmall(char *s ) ;
#line 87
ssize_t read_loop(int fd , char *buf___7 , size_t len ) ;
#line 88
ssize_t write_loop(int fd , char const   *buf___7 , size_t len ) ;
#line 89
int noquery(int purge ) ;
#line 90
int getquery(char *valid_chars , int purge ) ;
#line 91
void spckword(char **s , int hist , int cmd , int ask ) ;
#line 93
char *zjoin(char **arr , int delim , int heap ) ;
#line 94
char **colonsplit(char *s , int uniq ) ;
#line 95
char **spacesplit(char *s , int allownull , int heap , int quote___0 ) ;
#line 96
char *findword(char **s , char *sep ) ;
#line 97
int wordcount(char *s , char *sep , int mul ) ;
#line 98
char *sepjoin(char **s , char *sep , int heap ) ;
#line 99
char **sepsplit(char *s , char *sep , int allownull , int heap ) ;
#line 100
Shfunc getshfunc(char *nam ) ;
#line 101
char **subst_string_by_func(Shfunc func , char *arg1 , char *orig ) ;
#line 102
char **subst_string_by_hook(char *name , char *arg1 , char *orig ) ;
#line 103
char **mkarray(char *s ) ;
#line 104
char **hmkarray(char *s ) ;
#line 105
void zbeep(void) ;
#line 106
void freearray(char **s ) ;
#line 107
int equalsplit(char *s , char **t ) ;
#line 108 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.epro"
short typtab[256]  ;
#line 109
void inittyptab(void) ;
#line 110
void makecommaspecial(int yesno ) ;
#line 111
void makebangspecial(int yesno ) ;
#line 113
int wcsiblank(wint_t wc ) ;
#line 114
int wcsitype(wchar_t c , int itype ) ;
#line 116
char *itype_end(char const   *ptr___0 , int itype , int once ) ;
#line 117
char **arrdup(char **s ) ;
#line 118
char **arrdup_max(char **s , unsigned int max ) ;
#line 119
char **zarrdup(char **s ) ;
#line 121
wchar_t **wcs_zarrdup(wchar_t **s ) ;
#line 123
void setcbreak(void) ;
#line 124
void attachtty(pid_t pgrp ) ;
#line 125
pid_t gettygrp(void) ;
#line 127
char *ztrdup_metafy(char const   *s ) ;
#line 128
char *unmetafy(char *s , int *len ) ;
#line 129
int metalen(char const   *s , int len ) ;
#line 130
char *unmeta(char const   *file_name ) ;
#line 131
int ztrcmp(char const   *s1 , char const   *s2 ) ;
#line 132
int ztrlen(char const   *s ) ;
#line 134
int ztrsub(char const   *t , char const   *s ) ;
#line 135
char *zreaddir(DIR *dir , int ignoredots ) ;
#line 136
int zputs(char const   *s , FILE *stream ) ;
#line 137
char *nicedup(char const   *s , int heap ) ;
#line 138
char *nicedupstring(char const   *s ) ;
#line 142
size_t mb_niceformat(char const   *s , FILE *stream , char **outstrp , int flags ) ;
#line 143
int is_mb_niceformat(char const   *s ) ;
#line 145
int mb_metacharlenconv_r(char const   *s , wint_t *wcp , mbstate_t *mbsp ) ;
#line 146
int mb_metacharlenconv(char const   *s , wint_t *wcp ) ;
#line 147
int mb_metastrlenend(char *ptr___0 , int width , char *eptr ) ;
#line 148
int mb_charlenconv_r(char const   *s , int slen , wint_t *wcp , mbstate_t *mbsp ) ;
#line 149
int mb_charlenconv(char const   *s , int slen , wint_t *wcp ) ;
#line 154
int zexpandtabs(char const   *s , int len , int width , int startpos , FILE *fout ,
                int all ) ;
#line 155
int hasspecial(char const   *s ) ;
#line 156
char *quotestring(char const   *s , int instring ) ;
#line 157
char *quotedzputs(char const   *s , FILE *stream ) ;
#line 158
char *dquotedztrdup(char const   *s ) ;
#line 159
char *getkeystring(char *s , int *len , int how , int *misc ) ;
#line 160
int strpfx(char const   *s , char const   *t ) ;
#line 161
int strsfx(char *s , char *t ) ;
#line 162
void init_dirsav(Dirsav d___0 ) ;
#line 163
int lchdir(char const   *path___0 , struct dirsav *d___0 , int hard ) ;
#line 164
int restoredir(struct dirsav *d___0 ) ;
#line 165
int privasserted(void) ;
#line 166
int mode_to_octal(mode_t mode ) ;
#line 4 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.pro"
static char **slashsplit(char *s ) ;
#line 5
static int xsymlinks(char *s , int full ) ;
#line 6
static void finddir_scan(HashNode hn , int flags  __attribute__((__unused__)) ) ;
#line 7
static int dircmp(char *s , char *t ) ;
#line 8
static void checkmailpath(char **s ) ;
#line 9
static void spscan(HashNode hn , int scanflags  __attribute__((__unused__)) ) ;
#line 10
static int skipwsep(char **s ) ;
#line 11
static int findsep(char **s , char *sep , int quote___0 ) ;
#line 16
static char *spname(char *oldname ) ;
#line 17
static int mindist(char *dir , char *mindistguess , char *mindistbest , int wantdir ) ;
#line 18
static int spdist(char *s , char *t , int thresh ) ;
#line 22
static int upchdir(int n ) ;
#line 59 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static struct widechar_array wordchars_wide  ;
#line 64 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static struct widechar_array ifs_wide  ;
#line 68 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static void set_widearray(char *mb_array , Widechar_array wca ) 
{ 
  wchar_t *tmpwcs ;
  size_t tmp ;
  void *tmp___0 ;
  wchar_t *wcptr ;
  wint_t wci ;
  int mblen___0 ;
  wchar_t *tmp___1 ;
  wchar_t *tmp___2 ;
  void *tmp___3 ;

  {
#line 71
  if (wca->chars) {
    {
#line 72
    free((void *)wca->chars);
#line 73
    wca->chars = (wchar_t *)((void *)0);
    }
  }
#line 75
  wca->len = (size_t )0;
#line 77
  if (! opts[116]) {
#line 78
    return;
  }
#line 80
  if (mb_array) {
    {
#line 81
    tmp = strlen((char const   *)mb_array);
#line 81
    tmp___0 = zhalloc(sizeof(wchar_t ) * tmp);
#line 81
    tmpwcs = (wchar_t *)tmp___0;
#line 82
    wcptr = tmpwcs;
#line 85
    mb_charinit();
    }
    {
#line 86
    while (1) {
      while_continue: /* CIL Label */ ;
#line 86
      if (! *mb_array) {
#line 86
        goto while_break;
      }
#line 89
      if ((int )((unsigned char )*mb_array) <= 127) {
#line 90
        mb_array ++;
#line 91
        tmp___1 = wcptr;
#line 91
        wcptr ++;
#line 91
        *tmp___1 = (wchar_t )*mb_array;
#line 92
        goto while_continue;
      }
      {
#line 95
      mblen___0 = mb_metacharlenconv((char const   *)mb_array, & wci);
      }
#line 97
      if (! mblen___0) {
#line 98
        goto while_break;
      }
#line 100
      if (wci == 4294967295U) {
#line 101
        return;
      }
#line 102
      tmp___2 = wcptr;
#line 102
      wcptr ++;
#line 102
      *tmp___2 = (wchar_t )wci;
#line 112
      mb_array += mblen___0;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 115
    wca->len = (size_t )(wcptr - tmpwcs);
#line 116
    tmp___3 = zalloc(wca->len * sizeof(wchar_t ));
#line 116
    wca->chars = (wchar_t *)tmp___3;
#line 117
    wmemcpy((wchar_t */* __restrict  */)wca->chars, (wchar_t const   */* __restrict  */)tmpwcs,
            wca->len);
    }
  }
#line 119
  return;
}
}
#line 138 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static void zwarning(char const   *cmd , char const   *fmt , va_list ap ) 
{ 
  int tmp ;
  char *prefix ;
  char const   *tmp___0 ;
  char const   *tmp___1 ;
  char const   *tmp___2 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
  {
#line 141
  tmp = isatty(2);
  }
#line 141
  if (tmp) {
    {
#line 142
    zleentry(3);
    }
  }
#line 144
  if (scriptname) {
#line 144
    tmp___1 = (char const   *)scriptname;
  } else {
#line 144
    if (argzero) {
#line 144
      tmp___0 = (char const   *)argzero;
    } else {
#line 144
      tmp___0 = "";
    }
#line 144
    tmp___1 = tmp___0;
  }
#line 144
  prefix = (char *)tmp___1;
#line 146
  if (cmd) {
#line 147
    if (! opts[159]) {
      {
#line 148
      mb_niceformat((char const   *)prefix, stderr, (char **)((void *)0), 0);
#line 149
      fputc((int )((unsigned char )':'), stderr);
      }
    } else
#line 147
    if (locallevel) {
      {
#line 148
      mb_niceformat((char const   *)prefix, stderr, (char **)((void *)0), 0);
#line 149
      fputc((int )((unsigned char )':'), stderr);
      }
    }
    {
#line 151
    mb_niceformat(cmd, stderr, (char **)((void *)0), 0);
#line 152
    fputc((int )((unsigned char )':'), stderr);
    }
  } else {
#line 160
    if (opts[159]) {
#line 160
      if (! locallevel) {
#line 160
        tmp___2 = "zsh";
      } else {
#line 160
        tmp___2 = (char const   *)prefix;
      }
    } else {
#line 160
      tmp___2 = (char const   *)prefix;
    }
    {
#line 160
    mb_niceformat(tmp___2, stderr, (char **)((void *)0), 0);
#line 161
    fputc((int )((unsigned char )':'), stderr);
    }
  }
  {
#line 164
  zerrmsg(stderr, fmt, ap);
  }
#line 165
  return;
}
}
#line 169 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void zerr(char const   *fmt  , ...) 
{ 
  va_list ap ;

  {
#line 176
  if (errflag) {
#line 176
    goto _L;
  } else
#line 176
  if (noerrs) {
    _L: /* CIL Label */ 
#line 177
    if (noerrs < 2) {
#line 178
      errflag |= 1;
    }
#line 179
    return;
  }
  {
#line 181
  errflag |= 1;
#line 183
  __builtin_va_start(ap, fmt);
#line 185
  zwarning((char const   *)((void *)0), fmt, ap);
#line 186
  __builtin_va_end(ap);
  }
#line 187
  return;
}
}
#line 190 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void zerrnam(char const   *cmd , char const   *fmt  , ...) 
{ 
  va_list ap ;

  {
#line 198
  if (errflag) {
#line 199
    return;
  } else
#line 198
  if (noerrs) {
#line 199
    return;
  }
  {
#line 200
  errflag |= 1;
#line 202
  __builtin_va_start(ap, fmt);
#line 205
  zwarning(cmd, fmt, ap);
#line 206
  __builtin_va_end(ap);
  }
#line 207
  return;
}
}
#line 210 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void zwarn(char const   *fmt  , ...) 
{ 
  va_list ap ;

  {
#line 217
  if (errflag) {
#line 218
    return;
  } else
#line 217
  if (noerrs) {
#line 218
    return;
  }
  {
#line 220
  __builtin_va_start(ap, fmt);
#line 222
  zwarning((char const   *)((void *)0), fmt, ap);
#line 223
  __builtin_va_end(ap);
  }
#line 224
  return;
}
}
#line 227 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void zwarnnam(char const   *cmd , char const   *fmt  , ...) 
{ 
  va_list ap ;

  {
#line 235
  if (errflag) {
#line 236
    return;
  } else
#line 235
  if (noerrs) {
#line 236
    return;
  }
  {
#line 238
  __builtin_va_start(ap, fmt);
#line 241
  zwarning(cmd, fmt, ap);
#line 242
  __builtin_va_end(ap);
  }
#line 243
  return;
}
}
#line 285 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void zerrmsg(FILE *file , char const   *fmt , va_list ap ) 
{ 
  char const   *str ;
  int num ;
  char *errmsg ;
  char const   *tmp ;
  char const   *tmp___0 ;
  char *s ;
  char const   *tmp___1 ;
  int tmp___2 ;
  void *tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;

  {
#line 300
  if (! opts[159]) {
#line 300
    goto _L;
  } else
#line 300
  if (locallevel) {
    _L: /* CIL Label */ 
#line 300
    if (lineno) {
      {
#line 304
      fprintf((FILE */* __restrict  */)file, (char const   */* __restrict  */)"%ld: ",
              lineno);
      }
    } else {
      {
#line 307
      fputc((int )((unsigned char )' '), file);
      }
    }
  } else {
    {
#line 307
    fputc((int )((unsigned char )' '), file);
    }
  }
  {
#line 309
  while (1) {
    while_continue: /* CIL Label */ ;
#line 309
    if (! *fmt) {
#line 309
      goto while_break;
    }
#line 310
    if ((int const   )*fmt == 37) {
#line 311
      fmt ++;
#line 312
      tmp = fmt;
#line 312
      fmt ++;
      {
#line 313
      if ((int const   )*tmp == 115) {
#line 313
        goto case_115;
      }
#line 317
      if ((int const   )*tmp == 108) {
#line 317
        goto case_108;
      }
#line 334
      if ((int const   )*tmp == 100) {
#line 334
        goto case_100;
      }
#line 338
      if ((int const   )*tmp == 37) {
#line 338
        goto case_37;
      }
#line 341
      if ((int const   )*tmp == 99) {
#line 341
        goto case_99;
      }
#line 350
      if ((int const   )*tmp == 101) {
#line 350
        goto case_101;
      }
#line 312
      goto switch_break;
      case_115: /* CIL Label */ 
      {
#line 314
      tmp___0 = __builtin_va_arg(ap, char const   *);
#line 314
      str = tmp___0;
#line 315
      mb_niceformat(str, file, (char **)((void *)0), 0);
      }
#line 316
      goto switch_break;
      case_108: /* CIL Label */ 
      {
#line 319
      tmp___1 = __builtin_va_arg(ap, char const   *);
#line 319
      str = tmp___1;
#line 320
      tmp___2 = __builtin_va_arg(ap, int );
#line 320
      num = tmp___2;
#line 321
      num = metalen(str, num);
#line 322
      tmp___3 = zhalloc((size_t )(num + 1));
#line 322
      s = (char *)tmp___3;
#line 323
      memcpy((void */* __restrict  */)s, (void const   */* __restrict  */)str, (size_t )num);
#line 324
      *(s + num) = (char )'\000';
#line 325
      mb_niceformat((char const   *)s, file, (char **)((void *)0), 0);
      }
#line 326
      goto switch_break;
      case_100: /* CIL Label */ 
      {
#line 335
      tmp___4 = __builtin_va_arg(ap, int );
#line 335
      num = tmp___4;
#line 336
      fprintf((FILE */* __restrict  */)file, (char const   */* __restrict  */)"%d",
              num);
      }
#line 337
      goto switch_break;
      case_37: /* CIL Label */ 
      {
#line 339
      _IO_putc('%', file);
      }
#line 340
      goto switch_break;
      case_99: /* CIL Label */ 
      {
#line 342
      tmp___5 = __builtin_va_arg(ap, int );
#line 342
      num = tmp___5;
#line 344
      mb_charinit();
#line 345
      tmp___6 = wcs_nicechar(num, (size_t *)((void *)0), (char **)((void *)0));
#line 345
      zputs((char const   *)tmp___6, file);
      }
#line 349
      goto switch_break;
      case_101: /* CIL Label */ 
      {
#line 352
      tmp___7 = __builtin_va_arg(ap, int );
#line 352
      num = tmp___7;
      }
#line 353
      if (num == 4) {
        {
#line 354
        fputs((char const   */* __restrict  */)"interrupt\n", (FILE */* __restrict  */)file);
#line 355
        errflag |= 1;
        }
#line 356
        return;
      }
      {
#line 358
      errmsg = strerror(num);
      }
#line 361
      if (num == 5) {
        {
#line 362
        fputs((char const   */* __restrict  */)errmsg, (FILE */* __restrict  */)file);
        }
      } else {
        {
#line 364
        tmp___8 = tulower((int )*(errmsg + 0));
#line 364
        fputc(tmp___8, file);
#line 365
        fputs((char const   */* __restrict  */)(errmsg + 1), (FILE */* __restrict  */)file);
        }
      }
#line 367
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    } else {
#line 371
      if ((int const   )*fmt == -125) {
#line 371
        fmt ++;
#line 371
        tmp___9 = (int const   )*fmt ^ 32;
      } else {
#line 371
        tmp___9 = (int const   )*fmt;
      }
      {
#line 371
      _IO_putc((int )tmp___9, file);
#line 372
      fmt ++;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 374
  _IO_putc('\n', file);
#line 375
  fflush(file);
  }
#line 376
  return;
}
}
#line 382 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int putraw(int c ) 
{ 


  {
  {
#line 385
  _IO_putc(c, stdout);
  }
#line 386
  return (0);
}
}
#line 392 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int putshout(int c ) 
{ 


  {
  {
#line 395
  _IO_putc(c, shout);
  }
#line 396
  return (0);
}
}
#line 424 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char buf[10]  ;
#line 421 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *nicechar_sel(int c , int quotable ) 
{ 
  char *s ;
  unsigned short const   **tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  unsigned short const   **tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;

  {
  {
#line 425
  s = buf;
#line 426
  c &= 255;
#line 427
  tmp = __ctype_b_loc();
  }
#line 427
  if ((int const   )*(*tmp + c) & 16384) {
#line 428
    goto done;
  }
#line 429
  if (c & 128) {
#line 430
    if (opts[136]) {
#line 431
      goto done;
    }
    {
#line 432
    tmp___0 = s;
#line 432
    s ++;
#line 432
    *tmp___0 = (char )'\\';
#line 433
    tmp___1 = s;
#line 433
    s ++;
#line 433
    *tmp___1 = (char )'M';
#line 434
    tmp___2 = s;
#line 434
    s ++;
#line 434
    *tmp___2 = (char )'-';
#line 435
    c &= 127;
#line 436
    tmp___3 = __ctype_b_loc();
    }
#line 436
    if ((int const   )*(*tmp___3 + c) & 16384) {
#line 437
      goto done;
    }
  }
#line 439
  if (c == 127) {
#line 440
    if (quotable) {
#line 441
      tmp___4 = s;
#line 441
      s ++;
#line 441
      *tmp___4 = (char )'\\';
#line 442
      tmp___5 = s;
#line 442
      s ++;
#line 442
      *tmp___5 = (char )'C';
#line 443
      tmp___6 = s;
#line 443
      s ++;
#line 443
      *tmp___6 = (char )'-';
    } else {
#line 445
      tmp___7 = s;
#line 445
      s ++;
#line 445
      *tmp___7 = (char )'^';
    }
#line 446
    c = '?';
  } else
#line 447
  if (c == 10) {
#line 448
    tmp___8 = s;
#line 448
    s ++;
#line 448
    *tmp___8 = (char )'\\';
#line 449
    c = 'n';
  } else
#line 450
  if (c == 9) {
#line 451
    tmp___9 = s;
#line 451
    s ++;
#line 451
    *tmp___9 = (char )'\\';
#line 452
    c = 't';
  } else
#line 453
  if (c < 32) {
#line 454
    if (quotable) {
#line 455
      tmp___10 = s;
#line 455
      s ++;
#line 455
      *tmp___10 = (char )'\\';
#line 456
      tmp___11 = s;
#line 456
      s ++;
#line 456
      *tmp___11 = (char )'C';
#line 457
      tmp___12 = s;
#line 457
      s ++;
#line 457
      *tmp___12 = (char )'-';
    } else {
#line 459
      tmp___13 = s;
#line 459
      s ++;
#line 459
      *tmp___13 = (char )'^';
    }
#line 460
    c += 64;
  }
  done: 
#line 469
  if ((int )typtab[(unsigned char )c] & (1 << 12)) {
#line 470
    tmp___14 = s;
#line 470
    s ++;
#line 470
    *tmp___14 = (char)-125;
#line 471
    tmp___15 = s;
#line 471
    s ++;
#line 471
    *tmp___15 = (char )(c ^ 32);
  } else {
#line 473
    tmp___16 = s;
#line 473
    s ++;
#line 473
    *tmp___16 = (char )c;
  }
#line 474
  *s = (char)0;
#line 475
  return (buf);
}
}
#line 479 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *nicechar(int c ) 
{ 
  char *tmp ;

  {
  {
#line 482
  tmp = nicechar_sel(c, 0);
  }
#line 482
  return (tmp);
}
}
#line 546 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int is_nicechar(int c ) 
{ 
  unsigned short const   **tmp ;
  int tmp___0 ;

  {
  {
#line 549
  c &= 255;
#line 550
  tmp = __ctype_b_loc();
  }
#line 550
  if ((int const   )*(*tmp + c) & 16384) {
#line 551
    return (0);
  }
#line 552
  if (c & 128) {
#line 553
    return (! opts[136]);
  }
#line 554
  if (c == 127) {
#line 554
    tmp___0 = 1;
  } else
#line 554
  if (c == 10) {
#line 554
    tmp___0 = 1;
  } else
#line 554
  if (c == 9) {
#line 554
    tmp___0 = 1;
  } else
#line 554
  if (c < 32) {
#line 554
    tmp___0 = 1;
  } else {
#line 554
    tmp___0 = 0;
  }
#line 554
  return (tmp___0);
}
}
#line 559 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static mbstate_t mb_shiftstate  ;
#line 568 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void mb_charinit(void) 
{ 


  {
  {
#line 571
  memset((void *)(& mb_shiftstate), 0, sizeof(mb_shiftstate));
  }
#line 572
  return;
}
}
#line 611 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char *buf___0  ;
#line 612 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int bufalloc  =    0;
#line 612 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int newalloc  ;
#line 608 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *wcs_nicechar_sel(wchar_t c , size_t *widthp , char **swidep , int quotable ) 
{ 
  char *s ;
  char *mbptr ;
  int ret ;
  char *mbstr ;
  size_t tmp ;
  void *tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  int tmp___13 ;
  size_t tmp___14 ;
  char *tmp___15 ;
  int tmp___16 ;
  size_t tmp___17 ;
  int wcw ;
  int tmp___18 ;
  char *tmp___19 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;

  {
  {
#line 614
  ret = 0;
#line 615
  tmp = __ctype_get_mb_cur_max();
#line 615
  tmp___0 = zhalloc(sizeof(char ) * tmp);
#line 615
  mbstr = (char *)tmp___0;
#line 624
  tmp___1 = __ctype_get_mb_cur_max();
#line 624
  newalloc = (int )(12UL + 2UL * tmp___1);
  }
#line 625
  if (bufalloc != newalloc) {
    {
#line 627
    bufalloc = newalloc;
#line 628
    tmp___2 = zrealloc((void *)buf___0, (size_t )bufalloc);
#line 628
    buf___0 = (char *)tmp___2;
    }
  }
  {
#line 631
  s = buf___0;
#line 632
  tmp___13 = iswprint((wint_t )c);
  }
#line 632
  if (! tmp___13) {
#line 632
    if (c < 128) {
#line 632
      goto _L;
    } else
#line 632
    if (! opts[136]) {
      _L: /* CIL Label */ 
#line 633
      if (c == 127) {
#line 634
        if (quotable) {
#line 635
          tmp___3 = s;
#line 635
          s ++;
#line 635
          *tmp___3 = (char )'\\';
#line 636
          tmp___4 = s;
#line 636
          s ++;
#line 636
          *tmp___4 = (char )'C';
#line 637
          tmp___5 = s;
#line 637
          s ++;
#line 637
          *tmp___5 = (char )'-';
        } else {
#line 639
          tmp___6 = s;
#line 639
          s ++;
#line 639
          *tmp___6 = (char )'^';
        }
#line 640
        c = '?';
      } else
#line 641
      if (c == 10) {
#line 642
        tmp___7 = s;
#line 642
        s ++;
#line 642
        *tmp___7 = (char )'\\';
#line 643
        c = 'n';
      } else
#line 644
      if (c == 9) {
#line 645
        tmp___8 = s;
#line 645
        s ++;
#line 645
        *tmp___8 = (char )'\\';
#line 646
        c = 't';
      } else
#line 647
      if (c < 32) {
#line 648
        if (quotable) {
#line 649
          tmp___9 = s;
#line 649
          s ++;
#line 649
          *tmp___9 = (char )'\\';
#line 650
          tmp___10 = s;
#line 650
          s ++;
#line 650
          *tmp___10 = (char )'C';
#line 651
          tmp___11 = s;
#line 651
          s ++;
#line 651
          *tmp___11 = (char )'-';
        } else {
#line 653
          tmp___12 = s;
#line 653
          s ++;
#line 653
          *tmp___12 = (char )'^';
        }
#line 654
        c += 64;
      } else
#line 655
      if (c >= 128) {
#line 656
        ret = -1;
      }
    }
  }
#line 660
  if (ret != -1) {
    {
#line 661
    tmp___14 = wcrtomb((char */* __restrict  */)mbstr, c, (mbstate_t */* __restrict  */)(& mb_shiftstate));
#line 661
    ret = (int )tmp___14;
    }
  }
#line 663
  if (ret == -1) {
    {
#line 664
    memset((void *)(& mb_shiftstate), 0, sizeof(mb_shiftstate));
    }
#line 672
    if (c >= 65536) {
      {
#line 673
      sprintf((char */* __restrict  */)buf___0, (char const   */* __restrict  */)"\\U%.8x",
              (unsigned int )c);
      }
#line 674
      if (widthp) {
#line 675
        *widthp = (size_t )10;
      }
    } else
#line 676
    if (c >= 256) {
      {
#line 677
      sprintf((char */* __restrict  */)buf___0, (char const   */* __restrict  */)"\\u%.4x",
              (unsigned int )c);
      }
#line 678
      if (widthp) {
#line 679
        *widthp = (size_t )6;
      }
    } else {
      {
#line 681
      tmp___15 = nicechar(c);
#line 681
      strcpy((char */* __restrict  */)buf___0, (char const   */* __restrict  */)tmp___15);
      }
#line 686
      if (widthp) {
        {
#line 687
        tmp___16 = ztrlen((char const   *)buf___0);
#line 687
        *widthp = (size_t )tmp___16;
        }
      }
#line 688
      if (swidep) {
        {
#line 689
        tmp___17 = strlen((char const   *)buf___0);
#line 689
        *swidep = buf___0 + tmp___17;
        }
      }
#line 690
      return (buf___0);
    }
#line 692
    if (swidep) {
#line 693
      if (widthp) {
#line 693
        *swidep = buf___0 + *widthp;
      } else {
#line 693
        *swidep = buf___0;
      }
    }
#line 694
    return (buf___0);
  }
#line 697
  if (widthp) {
    {
#line 698
    tmp___18 = wcwidth(c);
#line 698
    wcw = tmp___18;
#line 699
    *widthp = (size_t )(s - buf___0);
    }
#line 700
    if (wcw >= 0) {
#line 701
      *widthp += (size_t )wcw;
    } else {
#line 703
      (*widthp) ++;
    }
  }
#line 705
  if (swidep) {
#line 706
    *swidep = s;
  }
#line 707
  mbptr = mbstr;
  {
#line 707
  while (1) {
    while_continue: /* CIL Label */ ;
#line 707
    if (! ret) {
#line 707
      goto while_break;
    }
#line 710
    if ((int )typtab[(unsigned char )*mbptr] & (1 << 12)) {
#line 711
      tmp___19 = s;
#line 711
      s ++;
#line 711
      *tmp___19 = (char)-125;
#line 714
      *s = (char )((int )*mbptr ^ 32);
    } else {
#line 716
      *s = *mbptr;
    }
#line 707
    s ++;
#line 707
    mbptr ++;
#line 707
    ret --;
  }
  while_break: /* CIL Label */ ;
  }
#line 719
  *s = (char)0;
#line 720
  return (buf___0);
}
}
#line 724 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *wcs_nicechar(wchar_t c , size_t *widthp , char **swidep ) 
{ 
  char *tmp ;

  {
  {
#line 727
  tmp = wcs_nicechar_sel(c, widthp, swidep, 0);
  }
#line 727
  return (tmp);
}
}
#line 735 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int is_wcs_nicechar(wchar_t c ) 
{ 
  int tmp ;

  {
  {
#line 737
  tmp = iswprint((wint_t )c);
  }
#line 737
  if (! tmp) {
#line 737
    if (c < 128) {
#line 737
      goto _L;
    } else
#line 737
    if (! opts[136]) {
      _L: /* CIL Label */ 
#line 738
      if (c == 127) {
#line 739
        return (1);
      } else
#line 738
      if (c == 10) {
#line 739
        return (1);
      } else
#line 738
      if (c == 9) {
#line 739
        return (1);
      } else
#line 738
      if (c < 32) {
#line 739
        return (1);
      }
#line 740
      if (c >= 128) {
#line 741
        return (c >= 256);
      }
    }
  }
#line 744
  return (0);
}
}
#line 748 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int zwcwidth(wint_t wc ) 
{ 
  int wcw ;

  {
#line 753
  if (wc == 4294967295U) {
#line 754
    return (1);
  } else
#line 753
  if (! opts[116]) {
#line 754
    return (1);
  }
  {
#line 755
  wcw = wcwidth((wchar_t )wc);
  }
#line 757
  if (wcw < 0) {
#line 758
    return (1);
  }
#line 759
  return (wcw);
}
}
#line 775 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *pathprog(char *prog , char **namep ) 
{ 
  char **pp ;
  char ppmaxlen ;
  char *buf___7 ;
  char *funmeta ;
  struct stat st___0 ;
  int len ;
  size_t tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
#line 778
  ppmaxlen = (char)0;
#line 781
  pp = path;
  {
#line 781
  while (1) {
    while_continue: /* CIL Label */ ;
#line 781
    if (! *pp) {
#line 781
      goto while_break;
    }
    {
#line 783
    tmp = strlen((char const   *)*pp);
#line 783
    len = (int )tmp;
    }
#line 784
    if (len > (int )ppmaxlen) {
#line 785
      ppmaxlen = (char )len;
    }
#line 781
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 787
  tmp___0 = strlen((char const   *)prog);
#line 787
  tmp___1 = zhalloc(((size_t )ppmaxlen + tmp___0) + 2UL);
#line 787
  buf___7 = (char *)tmp___1;
#line 788
  pp = path;
  }
  {
#line 788
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 788
    if (! *pp) {
#line 788
      goto while_break___0;
    }
    {
#line 789
    sprintf((char */* __restrict  */)buf___7, (char const   */* __restrict  */)"%s/%s",
            *pp, prog);
#line 790
    funmeta = unmeta((char const   *)buf___7);
#line 791
    tmp___2 = access((char const   *)funmeta, 0);
    }
#line 791
    if (tmp___2 == 0) {
      {
#line 791
      tmp___3 = stat((char const   */* __restrict  */)funmeta, (struct stat */* __restrict  */)(& st___0));
      }
#line 791
      if (tmp___3 >= 0) {
#line 791
        if (! ((st___0.st_mode & 61440U) == 16384U)) {
#line 794
          if (namep) {
#line 795
            *namep = buf___7;
          }
#line 796
          return (funmeta);
        }
      }
    }
#line 788
    pp ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 800
  return ((char *)((void *)0));
}
}
#line 806 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *findpwd(char *s ) 
{ 
  char *t ;
  char *tmp ;
  char const   *tmp___0 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 811
  if ((int )*s == 47) {
    {
#line 812
    tmp = xsymlink(s, 0);
    }
#line 812
    return (tmp);
  }
#line 813
  if (*(pwd + 1)) {
#line 813
    tmp___0 = (char const   *)pwd;
  } else {
#line 813
    tmp___0 = "";
  }
  {
#line 813
  s = tricat(tmp___0, "/", (char const   *)s);
#line 814
  t = xsymlink(s, 0);
#line 815
  zsfree(s);
  }
#line 816
  return (t);
}
}
#line 823 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int ispwd(char *s ) 
{ 
  struct stat sbuf ;
  struct stat tbuf___0 ;
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  void *__cil_tmp7 ;
  void *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 829
  if ((int )*s != 47) {
#line 830
    return (0);
  }
  {
#line 832
  s = unmeta((char const   *)s);
#line 832
  tmp___0 = stat((char const   */* __restrict  */)s, (struct stat */* __restrict  */)(& sbuf));
  }
#line 832
  if (tmp___0 == 0) {
    {
#line 832
    tmp___1 = stat((char const   */* __restrict  */)".", (struct stat */* __restrict  */)(& tbuf___0));
    }
#line 832
    if (tmp___1 == 0) {
#line 833
      if (sbuf.st_dev == tbuf___0.st_dev) {
#line 833
        if (sbuf.st_ino == tbuf___0.st_ino) {
          {
#line 835
          while (1) {
            while_continue: /* CIL Label */ ;
#line 835
            if (! *s) {
#line 835
              goto while_break;
            }
#line 836
            if ((int )*(s + 0) == 46) {
#line 836
              if (! *(s + 1)) {
#line 839
                goto while_break;
              } else
#line 836
              if ((int )*(s + 1) == 47) {
#line 839
                goto while_break;
              } else
#line 836
              if ((int )*(s + 1) == 46) {
#line 836
                if (! *(s + 2)) {
#line 839
                  goto while_break;
                } else
#line 836
                if ((int )*(s + 2) == 47) {
#line 839
                  goto while_break;
                }
              }
            }
            {
#line 840
            while (1) {
              while_continue___0: /* CIL Label */ ;
#line 840
              tmp = s;
#line 840
              s ++;
#line 840
              if ((int )*tmp != 47) {
#line 840
                if (! *s) {
#line 840
                  goto while_break___0;
                }
              } else {
#line 840
                goto while_break___0;
              }
#line 841
              goto while_continue___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
          while_break: /* CIL Label */ ;
          }
#line 843
          return (! *s);
        }
      }
    }
  }
#line 845
  return (0);
}
}
#line 848 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char xbuf[8193]  ;
#line 851 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char **slashsplit(char *s ) 
{ 
  char *t ;
  char **r ;
  char **q ;
  int t0 ;
  void *tmp ;
  void *tmp___0 ;
  char **tmp___1 ;
  char **tmp___2 ;

  {
#line 857
  if (! *s) {
    {
#line 858
    tmp = zshcalloc(sizeof(char *));
    }
#line 858
    return ((char **)tmp);
  }
#line 860
  t = s;
#line 860
  t0 = 0;
  {
#line 860
  while (1) {
    while_continue: /* CIL Label */ ;
#line 860
    if (! *t) {
#line 860
      goto while_break;
    }
#line 861
    if ((int )*t == 47) {
#line 862
      t0 ++;
    }
#line 860
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 863
  tmp___0 = zalloc(sizeof(char *) * (unsigned long )(t0 + 2));
#line 863
  r = (char **)tmp___0;
#line 863
  q = r;
  }
  {
#line 865
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 865
    t = strchr((char const   *)s, '/');
    }
#line 865
    if (! t) {
#line 865
      goto while_break___0;
    }
    {
#line 866
    tmp___1 = q;
#line 866
    q ++;
#line 866
    *tmp___1 = ztrduppfx((char const   *)s, (int )(t - s));
    }
    {
#line 867
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 867
      if (! ((int )*t == 47)) {
#line 867
        goto while_break___1;
      }
#line 868
      t ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 869
    if (! *t) {
#line 870
      *q = (char *)((void *)0);
#line 871
      return (r);
    }
#line 873
    s = t;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 875
  tmp___2 = q;
#line 875
  q ++;
#line 875
  *tmp___2 = ztrdup((char const   *)s);
#line 876
  *q = (char *)((void *)0);
  }
#line 877
  return (r);
}
}
#line 883 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int xsymlinks(char *s , int full ) 
{ 
  char **pp ;
  char **opp ;
  char xbuf2[12289] ;
  char xbuf3[8193] ;
  int t0 ;
  int ret ;
  zulong xbuflen ;
  size_t tmp ;
  int tmp___0 ;
  char *p ;
  int tmp___1 ;
  int tmp___2 ;
  char *tmp___3 ;
  ssize_t tmp___4 ;
  zulong pplen ;
  size_t tmp___5 ;
  zulong len ;
  size_t tmp___6 ;
  zulong newlen ;
  size_t tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;

  {
  {
#line 888
  ret = 0;
#line 889
  tmp = strlen((char const   *)(xbuf));
#line 889
  xbuflen = tmp;
#line 891
  pp = slashsplit(s);
#line 891
  opp = pp;
  }
  {
#line 892
  while (1) {
    while_continue: /* CIL Label */ ;
#line 892
    if (xbuflen < sizeof(xbuf)) {
#line 892
      if (*pp) {
#line 892
        if (! (ret >= 0)) {
#line 892
          goto while_break;
        }
      } else {
#line 892
        goto while_break;
      }
    } else {
#line 892
      goto while_break;
    }
    {
#line 893
    tmp___0 = strcmp((char const   *)*pp, ".");
    }
#line 893
    if (! tmp___0) {
#line 894
      goto __Cont;
    }
    {
#line 895
    tmp___2 = strcmp((char const   *)*pp, "..");
    }
#line 895
    if (! tmp___2) {
      {
#line 898
      tmp___1 = strcmp((char const   *)(xbuf), "/");
      }
#line 898
      if (! tmp___1) {
#line 899
        goto __Cont;
      }
#line 900
      if (! xbuf[0]) {
#line 901
        goto __Cont;
      }
#line 902
      p = xbuf + xbuflen;
      {
#line 903
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 903
        p --;
#line 903
        if (! ((int )*p != 47)) {
#line 903
          goto while_break___0;
        }
#line 904
        xbuflen --;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 905
      *p = (char )'\000';
#line 907
      xbuflen --;
#line 908
      goto __Cont;
    }
    {
#line 910
    sprintf((char */* __restrict  */)(xbuf2), (char const   */* __restrict  */)"%s/%s",
            xbuf, *pp);
#line 911
    tmp___3 = unmeta((char const   *)(xbuf2));
#line 911
    tmp___4 = readlink((char const   */* __restrict  */)tmp___3, (char */* __restrict  */)(xbuf3),
                       (size_t )4096);
#line 911
    t0 = (int )tmp___4;
    }
#line 912
    if (t0 == -1) {
      {
#line 913
      tmp___5 = strlen((char const   *)*pp);
#line 913
      pplen = tmp___5 + 1UL;
#line 914
      xbuflen += pplen;
      }
#line 914
      if (xbuflen < sizeof(xbuf)) {
        {
#line 915
        strcat((char */* __restrict  */)(xbuf), (char const   */* __restrict  */)"/");
#line 916
        strcat((char */* __restrict  */)(xbuf), (char const   */* __restrict  */)*pp);
        }
      } else {
#line 918
        xbuf[0] = (char)0;
#line 919
        ret = -1;
#line 920
        goto while_break;
      }
    } else {
      {
#line 923
      ret = 1;
#line 924
      metafy(xbuf3, t0, 5);
      }
#line 925
      if (! full) {
#line 930
        len = xbuflen;
#line 931
        if ((int )xbuf3[0] == 47) {
          {
#line 932
          strcpy((char */* __restrict  */)(xbuf), (char const   */* __restrict  */)(xbuf3));
          }
        } else {
          {
#line 933
          tmp___6 = strlen((char const   *)(xbuf3));
#line 933
          len += tmp___6 + 1UL;
          }
#line 933
          if (len < sizeof(xbuf)) {
            {
#line 934
            strcpy((char */* __restrict  */)(xbuf + xbuflen), (char const   */* __restrict  */)"/");
#line 935
            strcpy((char */* __restrict  */)((xbuf + xbuflen) + 1), (char const   */* __restrict  */)(xbuf3));
            }
          } else {
#line 937
            xbuf[0] = (char)0;
#line 938
            ret = -1;
#line 939
            goto while_break;
          }
        }
        {
#line 942
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 942
          pp ++;
#line 942
          if (! *pp) {
#line 942
            goto while_break___1;
          }
          {
#line 943
          tmp___7 = strlen((char const   *)*pp);
#line 943
          newlen = (len + tmp___7) + 1UL;
          }
#line 944
          if (newlen < sizeof(xbuf)) {
            {
#line 945
            strcpy((char */* __restrict  */)(xbuf + len), (char const   */* __restrict  */)"/");
#line 946
            strcpy((char */* __restrict  */)((xbuf + len) + 1), (char const   */* __restrict  */)*pp);
#line 947
            len = newlen;
            }
          } else {
#line 949
            xbuf[0] = (char)1;
#line 950
            ret = -1;
#line 951
            goto while_break___1;
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 958
        goto while_break;
      }
#line 960
      if ((int )xbuf3[0] == 47) {
        {
#line 961
        strcpy((char */* __restrict  */)(xbuf), (char const   */* __restrict  */)"");
#line 962
        tmp___8 = xsymlinks(xbuf3 + 1, 1);
        }
#line 962
        if (tmp___8 < 0) {
#line 963
          ret = -1;
        } else {
          {
#line 965
          xbuflen = strlen((char const   *)(xbuf));
          }
        }
      } else {
        {
#line 967
        tmp___9 = xsymlinks(xbuf3, 1);
        }
#line 967
        if (tmp___9 < 0) {
#line 968
          ret = -1;
        } else {
          {
#line 970
          xbuflen = strlen((char const   *)(xbuf));
          }
        }
      }
    }
    __Cont: /* CIL Label */ 
#line 892
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 973
  freearray(opp);
  }
#line 974
  return (ret);
}
}
#line 985 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *xsymlink(char *s , int heap ) 
{ 
  int tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
#line 988
  if ((int )*s != 47) {
#line 989
    return ((char *)((void *)0));
  }
  {
#line 990
  xbuf[0] = (char )'\000';
#line 991
  tmp = xsymlinks(s + 1, 1);
  }
#line 991
  if (tmp < 0) {
    {
#line 992
    zwarn("path expansion failed, using root directory");
    }
  }
#line 993
  if (! xbuf[0]) {
#line 994
    if (heap) {
      {
#line 994
      tmp___0 = dupstring("/");
#line 994
      tmp___2 = tmp___0;
      }
    } else {
      {
#line 994
      tmp___1 = ztrdup("/");
#line 994
      tmp___2 = tmp___1;
      }
    }
#line 994
    return (tmp___2);
  }
#line 995
  if (heap) {
    {
#line 995
    tmp___3 = dupstring((char const   *)(xbuf));
#line 995
    tmp___5 = tmp___3;
    }
  } else {
    {
#line 995
    tmp___4 = ztrdup((char const   *)(xbuf));
#line 995
    tmp___5 = tmp___4;
    }
  }
#line 995
  return (tmp___5);
}
}
#line 999 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void print_if_link(char *s , int all ) 
{ 
  char *start ;
  char xbuflink[4097] ;
  char const   *tmp ;
  int tmp___0 ;
  char const   *tmp___1 ;
  int tmp___2 ;
  void *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 1002
  if ((int )*s == 47) {
#line 1003
    xbuf[0] = (char )'\000';
#line 1004
    if (all) {
#line 1005
      start = s + 1;
      {
#line 1007
      while (1) {
        while_continue: /* CIL Label */ ;
        {
#line 1008
        tmp___0 = xsymlinks(start, 0);
        }
#line 1008
        if (tmp___0 > 0) {
          {
#line 1009
          printf((char const   */* __restrict  */)" -> ");
          }
#line 1010
          if (xbuf[0]) {
#line 1010
            tmp = (char const   *)(xbuf);
          } else {
#line 1010
            tmp = "/";
          }
          {
#line 1010
          zputs(tmp, stdout);
          }
#line 1011
          if (! xbuf[0]) {
#line 1012
            goto while_break;
          }
          {
#line 1013
          strcpy((char */* __restrict  */)(xbuflink), (char const   */* __restrict  */)(xbuf));
#line 1014
          start = xbuflink + 1;
#line 1015
          xbuf[0] = (char )'\000';
          }
        } else {
#line 1017
          goto while_break;
        }
      }
      while_break: /* CIL Label */ ;
      }
    } else {
      {
#line 1021
      tmp___2 = xsymlinks(s + 1, 1);
      }
#line 1021
      if (tmp___2 > 0) {
        {
#line 1022
        printf((char const   */* __restrict  */)" -> ");
        }
#line 1022
        if (xbuf[0]) {
#line 1022
          tmp___1 = (char const   *)(xbuf);
        } else {
#line 1022
          tmp___1 = "/";
        }
        {
#line 1022
        zputs(tmp___1, stdout);
        }
      }
    }
  }
#line 1025
  return;
}
}
#line 1030 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void fprintdir(char *s , FILE *f ) 
{ 
  Nameddir d___0 ;
  Nameddir tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  size_t tmp___2 ;
  char *tmp___3 ;

  {
  {
#line 1033
  tmp = finddir(s);
#line 1033
  d___0 = tmp;
  }
#line 1035
  if (! d___0) {
    {
#line 1036
    tmp___0 = unmeta((char const   *)s);
#line 1036
    fputs((char const   */* __restrict  */)tmp___0, (FILE */* __restrict  */)f);
    }
  } else {
    {
#line 1038
    _IO_putc('~', f);
#line 1039
    tmp___1 = unmeta((char const   *)d___0->node.nam);
#line 1039
    fputs((char const   */* __restrict  */)tmp___1, (FILE */* __restrict  */)f);
#line 1040
    tmp___2 = strlen((char const   *)d___0->dir);
#line 1040
    tmp___3 = unmeta((char const   *)(s + tmp___2));
#line 1040
    fputs((char const   */* __restrict  */)tmp___3, (FILE */* __restrict  */)f);
    }
  }
#line 1042
  return;
}
}
#line 1052 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *substnamedir(char *s ) 
{ 
  Nameddir d___0 ;
  Nameddir tmp ;
  char *tmp___0 ;
  size_t tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *__cil_tmp8 ;

  {
  {
#line 1055
  tmp = finddir(s);
#line 1055
  d___0 = tmp;
  }
#line 1057
  if (! d___0) {
    {
#line 1058
    tmp___0 = quotestring((char const   *)s, 1);
    }
#line 1058
    return (tmp___0);
  }
  {
#line 1059
  tmp___1 = strlen((char const   *)d___0->dir);
#line 1059
  tmp___2 = quotestring((char const   *)(s + tmp___1), 1);
#line 1059
  tmp___3 = zhtricat("~", (char const   *)d___0->node.nam, (char const   *)tmp___2);
  }
#line 1059
  return (tmp___3);
}
}
#line 1074 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *get_username(void) 
{ 
  struct passwd *pswd ;
  uid_t current_uid ;
  char *__cil_tmp3 ;

  {
  {
#line 1081
  current_uid = getuid();
  }
#line 1082
  if (current_uid != cached_uid) {
    {
#line 1083
    cached_uid = current_uid;
#line 1084
    zsfree(cached_username);
#line 1085
    pswd = getpwuid(current_uid);
    }
#line 1085
    if (pswd) {
      {
#line 1086
      cached_username = ztrdup((char const   *)pswd->pw_name);
      }
    } else {
      {
#line 1088
      cached_username = ztrdup("");
      }
    }
  }
#line 1093
  return (cached_username);
}
}
#line 1098 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char *finddir_full  ;
#line 1099 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static Nameddir finddir_last  ;
#line 1100 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int finddir_best  ;
#line 1105 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static void finddir_scan(HashNode hn , int flags  __attribute__((__unused__)) ) 
{ 
  Nameddir nd ;
  int tmp ;

  {
#line 1108
  nd = (Nameddir )hn;
#line 1110
  if (nd->diff > finddir_best) {
    {
#line 1110
    tmp = dircmp(nd->dir, finddir_full);
    }
#line 1110
    if (! tmp) {
#line 1110
      if (! (nd->node.flags & (1 << 2))) {
#line 1112
        finddir_last = nd;
#line 1113
        finddir_best = nd->diff;
      }
    }
  }
#line 1115
  return;
}
}
#line 1129 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static struct nameddir homenode  =    {{(HashNode )((void *)0), (char *)"", 0}, (char *)((void *)0), 0};
#line 1130 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int ffsz  ;
#line 1126 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
Nameddir finddir(char *s ) 
{ 
  char **ares ;
  int len ;
  size_t tmp ;
  void *tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;
  size_t tmp___3 ;
  void *tmp___4 ;
  char *tmp___5 ;
  size_t tmp___6 ;
  char tmp___7 ;
  zlong tmp___8 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
#line 1137
  if (! s) {
#line 1138
    if (home) {
#line 1138
      homenode.dir = home;
    } else {
#line 1138
      homenode.dir = (char *)"";
    }
#line 1139
    if (home) {
      {
#line 1139
      tmp = strlen((char const   *)home);
#line 1139
      homenode.diff = (int )tmp;
      }
    } else {
#line 1139
      homenode.diff = 0;
    }
#line 1140
    if (homenode.diff == 1) {
#line 1141
      homenode.diff = 0;
    }
#line 1142
    if (! finddir_full) {
      {
#line 1143
      ffsz = 4097;
#line 1143
      tmp___0 = zalloc((size_t )ffsz);
#line 1143
      finddir_full = (char *)tmp___0;
      }
    }
#line 1144
    *(finddir_full + 0) = (char)0;
#line 1145
    finddir_last = (Nameddir )((void *)0);
#line 1145
    return (finddir_last);
  }
  {
#line 1159
  tmp___3 = strlen((char const   *)s);
  }
#line 1159
  if ((int )tmp___3 >= ffsz) {
    {
#line 1160
    free((void *)finddir_full);
#line 1161
    tmp___1 = strlen((char const   *)s);
#line 1161
    ffsz = (int )(tmp___1 * 2UL);
#line 1161
    tmp___2 = zalloc((size_t )ffsz);
#line 1161
    finddir_full = (char *)tmp___2;
    }
  }
  {
#line 1163
  strcpy((char */* __restrict  */)finddir_full, (char const   */* __restrict  */)s);
#line 1164
  finddir_best = 0;
#line 1165
  finddir_last = (Nameddir )((void *)0);
#line 1166
  finddir_scan(& homenode.node, 0);
#line 1167
  scanhashtable(nameddirtab, 0, 0, 0, & finddir_scan, 0);
#line 1169
  ares = subst_string_by_hook((char *)"zsh_directory_name", (char *)"d", finddir_full);
  }
#line 1170
  if (ares) {
    {
#line 1170
    tmp___7 = arrlen_ge(ares, 2U);
    }
#line 1170
    if (tmp___7) {
      {
#line 1170
      tmp___8 = zstrtol((char const   *)*(ares + 1), (char **)((void *)0), 10);
#line 1170
      len = (int )tmp___8;
      }
#line 1170
      if (len > finddir_best) {
        {
#line 1173
        tmp___4 = hcalloc(sizeof(struct nameddir ));
#line 1173
        finddir_last = (Nameddir )tmp___4;
#line 1174
        tmp___5 = dupstring((char const   *)*(ares + 0));
#line 1174
        finddir_last->node.nam = zhtricat("[", (char const   *)tmp___5, "]");
#line 1175
        finddir_last->dir = dupstrpfx((char const   *)finddir_full, len);
#line 1176
        tmp___6 = strlen((char const   *)finddir_last->node.nam);
#line 1176
        finddir_last->diff = (int )((size_t )len - tmp___6);
#line 1177
        finddir_best = len;
        }
      }
    }
  }
#line 1180
  return (finddir_last);
}
}
#line 1186 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void adduserdir(char *s , char *t , int flags , int always ) 
{ 
  Nameddir nd ;
  char *eptr ;
  HashNode tmp ;
  HashNode tmp___0 ;
  HashNode hn ;
  HashNode tmp___1 ;
  size_t tmp___2 ;
  void *tmp___3 ;
  size_t tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
#line 1193
  if (! opts[92]) {
#line 1194
    return;
  }
#line 1199
  if (flags & (1 << 1)) {
    {
#line 1199
    tmp = (*(nameddirtab->getnode2))(nameddirtab, (char const   *)s);
    }
#line 1199
    if (tmp) {
#line 1200
      return;
    }
  }
#line 1207
  if (! always) {
#line 1207
    if (! opts[10]) {
      {
#line 1207
      tmp___0 = (*(nameddirtab->getnode2))(nameddirtab, (char const   *)s);
      }
#line 1207
      if (! tmp___0) {
#line 1209
        return;
      }
    }
  }
#line 1211
  if (! t) {
#line 1211
    goto _L;
  } else
#line 1211
  if ((int )*t != 47) {
#line 1211
    goto _L;
  } else {
    {
#line 1211
    tmp___2 = strlen((char const   *)t);
    }
#line 1211
    if (tmp___2 >= 4096UL) {
      _L: /* CIL Label */ 
      {
#line 1214
      tmp___1 = (*(nameddirtab->removenode))(nameddirtab, (char const   *)s);
#line 1214
      hn = tmp___1;
      }
#line 1216
      if (hn) {
        {
#line 1217
        (*(nameddirtab->freenode))(hn);
        }
      }
#line 1218
      return;
    }
  }
  {
#line 1222
  tmp___3 = zshcalloc(sizeof(*nd));
#line 1222
  nd = (Nameddir )tmp___3;
#line 1223
  nd->node.flags = flags;
#line 1224
  tmp___4 = strlen((char const   *)t);
#line 1224
  eptr = t + tmp___4;
  }
  {
#line 1225
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1225
    if ((unsigned long )eptr > (unsigned long )t) {
#line 1225
      if (! ((int )*(eptr + -1) == 47)) {
#line 1225
        goto while_break;
      }
    } else {
#line 1225
      goto while_break;
    }
#line 1226
    eptr --;
  }
  while_break: /* CIL Label */ ;
  }
#line 1227
  if ((unsigned long )eptr == (unsigned long )t) {
    {
#line 1233
    nd->dir = ztrdup((char const   *)t);
    }
  } else {
    {
#line 1235
    nd->dir = ztrduppfx((char const   *)t, (int )(eptr - t));
    }
  }
  {
#line 1237
  tmp___5 = strcmp((char const   *)s, "PWD");
  }
#line 1237
  if (tmp___5) {
    {
#line 1237
    tmp___6 = strcmp((char const   *)s, "OLDPWD");
    }
#line 1237
    if (! tmp___6) {
#line 1238
      nd->node.flags |= 1 << 2;
    }
  } else {
#line 1238
    nd->node.flags |= 1 << 2;
  }
  {
#line 1239
  tmp___7 = ztrdup((char const   *)s);
#line 1239
  (*(nameddirtab->addnode))(nameddirtab, tmp___7, (void *)nd);
  }
#line 1240
  return;
}
}
#line 1246 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *getnameddir(char *name ) 
{ 
  Param pm ;
  char *str ;
  Nameddir nd ;
  char *tmp ;
  HashNode tmp___0 ;
  HashNode tmp___1 ;
  struct passwd *pw ;
  char *dir ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;

  {
  {
#line 1254
  tmp___0 = (*(nameddirtab->getnode))(nameddirtab, (char const   *)name);
#line 1254
  nd = (Nameddir )tmp___0;
  }
#line 1254
  if (nd) {
    {
#line 1255
    tmp = dupstring((char const   *)nd->dir);
    }
#line 1255
    return (tmp);
  }
  {
#line 1260
  tmp___1 = (*(paramtab->getnode))(paramtab, (char const   *)name);
#line 1260
  pm = (Param )tmp___1;
  }
#line 1260
  if (pm) {
#line 1260
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
      {
#line 1260
      str = getsparam(name);
      }
#line 1260
      if (str) {
#line 1260
        if ((int )*str == 47) {
          {
#line 1263
          pm->node.flags |= 1 << 30;
#line 1264
          adduserdir(name, str, 0, 1);
          }
#line 1265
          return (str);
        }
      }
    }
  }
  {
#line 1272
  pw = getpwnam((char const   *)name);
  }
#line 1272
  if (pw) {
#line 1273
    if (opts[30]) {
      {
#line 1273
      tmp___2 = xsymlink(pw->pw_dir, 0);
#line 1273
      tmp___4 = tmp___2;
      }
    } else {
      {
#line 1273
      tmp___3 = ztrdup((char const   *)pw->pw_dir);
#line 1273
      tmp___4 = tmp___3;
      }
    }
#line 1273
    dir = tmp___4;
#line 1275
    if (dir) {
      {
#line 1276
      adduserdir(name, dir, 1 << 1, 1);
#line 1277
      str = dupstring((char const   *)dir);
#line 1278
      zsfree(dir);
      }
#line 1279
      return (str);
    } else {
      {
#line 1281
      tmp___5 = dupstring((char const   *)pw->pw_dir);
      }
#line 1281
      return (tmp___5);
    }
  }
#line 1287
  return ((char *)((void *)0));
}
}
#line 1295 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int dircmp(char *s , char *t ) 
{ 


  {
#line 1298
  if (s) {
    {
#line 1299
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1299
      if (! ((int )*s == (int )*t)) {
#line 1299
        goto while_break;
      }
#line 1300
      if (! *s) {
#line 1301
        return (0);
      }
#line 1299
      s ++;
#line 1299
      t ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 1302
    if (! *s) {
#line 1302
      if ((int )*t == 47) {
#line 1303
        return (0);
      }
    }
  }
#line 1305
  return (1);
}
}
#line 1313 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static LinkList prepromptfns  ;
#line 1318 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void addprepromptfn(void (*func)(void) ) 
{ 
  Prepromptfn ppdat ;
  void *tmp ;

  {
  {
#line 1321
  tmp = zalloc(sizeof(struct prepromptfn ));
#line 1321
  ppdat = (Prepromptfn )tmp;
#line 1322
  ppdat->func = func;
  }
#line 1323
  if (! prepromptfns) {
    {
#line 1324
    prepromptfns = znewlinklist();
    }
  }
  {
#line 1325
  zinsertlinknode(prepromptfns, prepromptfns->list.last, (void *)ppdat);
  }
#line 1326
  return;
}
}
#line 1331 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void delprepromptfn(void (*func)(void) ) 
{ 
  LinkNode ln ;
  Prepromptfn ppdat ;

  {
#line 1336
  ln = prepromptfns->list.first;
  {
#line 1336
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1336
    if (! ln) {
#line 1336
      goto while_break;
    }
#line 1337
    ppdat = (Prepromptfn )ln->dat;
#line 1338
    if ((unsigned long )ppdat->func == (unsigned long )func) {
      {
#line 1339
      remnode(prepromptfns, ln);
#line 1340
      zfree((void *)ppdat, (int )sizeof(struct prepromptfn ));
      }
#line 1341
      return;
    }
#line 1336
    ln = ln->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1347
  return;
}
}
#line 1367 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void addtimedfn(void (*func)(void) , time_t when ) 
{ 
  Timedfn tfdat ;
  void *tmp ;
  LinkNode ln ;
  Timedfn tfdat2 ;
  LinkNode next___0 ;

  {
  {
#line 1370
  tmp = zalloc(sizeof(struct timedfn ));
#line 1370
  tfdat = (Timedfn )tmp;
#line 1371
  tfdat->func = func;
#line 1372
  tfdat->when = when;
  }
#line 1374
  if (! timedfns) {
    {
#line 1375
    timedfns = znewlinklist();
#line 1376
    zinsertlinknode(timedfns, timedfns->list.last, (void *)tfdat);
    }
  } else {
#line 1378
    ln = timedfns->list.first;
#line 1391
    if (! ln) {
      {
#line 1392
      zinsertlinknode(timedfns, timedfns->list.last, (void *)tfdat);
      }
#line 1393
      return;
    }
    {
#line 1395
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1397
      next___0 = ln->next;
#line 1398
      if (! next___0) {
        {
#line 1399
        zinsertlinknode(timedfns, timedfns->list.last, (void *)tfdat);
        }
#line 1400
        return;
      }
#line 1402
      tfdat2 = (Timedfn )next___0->dat;
#line 1403
      if (when < tfdat2->when) {
        {
#line 1404
        zinsertlinknode(timedfns, ln, (void *)tfdat);
        }
#line 1405
        return;
      }
#line 1407
      ln = next___0;
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 1410
  return;
}
}
#line 1426 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void deltimedfn(void (*func)(void) ) 
{ 
  LinkNode ln ;
  Timedfn ppdat ;

  {
#line 1431
  ln = timedfns->list.first;
  {
#line 1431
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1431
    if (! ln) {
#line 1431
      goto while_break;
    }
#line 1432
    ppdat = (Timedfn )ln->dat;
#line 1433
    if ((unsigned long )ppdat->func == (unsigned long )func) {
      {
#line 1434
      remnode(timedfns, ln);
#line 1435
      zfree((void *)ppdat, (int )sizeof(struct timedfn ));
      }
#line 1436
      return;
    }
#line 1431
    ln = ln->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1442
  return;
}
}
#line 1470 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int callhookfunc(char *name , LinkList lnklst , int arrayp , int *retval ) 
{ 
  Shfunc shfunc ;
  int osc ;
  int osm ;
  int stat___0 ;
  int ret ;
  int old_incompfunc ;
  char **arrptr ;
  int namlen ;
  size_t tmp ;
  char *arrnam ;
  void *tmp___0 ;
  int newret ;
  int tmp___1 ;
  char *__cil_tmp18 ;

  {
  {
#line 1478
  osc = sfcontext;
#line 1478
  osm = stopmsg;
#line 1478
  stat___0 = 1;
#line 1478
  ret = 0;
#line 1479
  old_incompfunc = incompfunc;
#line 1481
  sfcontext = 3;
#line 1482
  incompfunc = 0;
#line 1484
  shfunc = getshfunc(name);
  }
#line 1484
  if (shfunc) {
    {
#line 1485
    ret = doshfunc(shfunc, lnklst, 1);
#line 1486
    stat___0 = 0;
    }
  }
#line 1489
  if (arrayp) {
    {
#line 1491
    tmp = strlen((char const   *)name);
#line 1491
    namlen = (int )tmp;
#line 1492
    tmp___0 = zhalloc(sizeof(char ) * (unsigned long )(namlen + 11));
#line 1492
    arrnam = (char *)tmp___0;
#line 1493
    memcpy((void */* __restrict  */)arrnam, (void const   */* __restrict  */)name,
           (size_t )namlen);
#line 1494
    memcpy((void */* __restrict  */)(arrnam + namlen), (void const   */* __restrict  */)"_functions",
           (size_t )11);
#line 1496
    arrptr = getaparam(arrnam);
    }
#line 1496
    if (arrptr) {
      {
#line 1497
      arrptr = arrdup(arrptr);
      }
      {
#line 1498
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1498
        if (! *arrptr) {
#line 1498
          goto while_break;
        }
        {
#line 1499
        shfunc = getshfunc(*arrptr);
        }
#line 1499
        if (shfunc) {
          {
#line 1500
          tmp___1 = doshfunc(shfunc, lnklst, 1);
#line 1500
          newret = tmp___1;
          }
#line 1501
          if (! ret) {
#line 1502
            ret = newret;
          }
#line 1503
          stat___0 = 0;
        }
#line 1498
        arrptr ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
#line 1509
  sfcontext = osc;
#line 1510
  stopmsg = osm;
#line 1511
  incompfunc = old_incompfunc;
#line 1513
  if (retval) {
#line 1514
    *retval = ret;
  }
#line 1515
  return (stat___0);
}
}
#line 1524 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static time_t lastperiodic  ;
#line 1521 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void preprompt(void) 
{ 
  time_t currentmailcheck ;
  LinkNode ln ;
  zlong period ;
  zlong tmp ;
  zlong mailcheck ;
  zlong tmp___0 ;
  sigset_t tmp___1 ;
  sigset_t tmp___2 ;
  char *eolmark ;
  char *tmp___3 ;
  char *str ;
  int percents ;
  int w ;
  time_t tmp___4 ;
  int tmp___5 ;
  time_t tmp___6 ;
  double tmp___7 ;
  zlong tmp___8 ;
  char *mailfile ;
  char *x[2] ;
  sigset_t oset ;
  double tmp___9 ;
  Prepromptfn ppnode ;
  void *__cil_tmp24 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;
  void *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;

  {
  {
#line 1527
  tmp = getiparam((char *)"PERIOD");
#line 1527
  period = tmp;
#line 1528
  tmp___0 = getiparam((char *)"MAILCHECK");
#line 1528
  mailcheck = tmp___0;
#line 1534
  tmp___1 = signal_mask(28);
#line 1534
  signal_unblock(tmp___1);
#line 1535
  tmp___2 = signal_mask(28);
#line 1535
  signal_block(tmp___2);
  }
#line 1537
  if (opts[142]) {
#line 1537
    if (opts[140]) {
#line 1537
      if (! use_exit_printed) {
#line 1537
        if (shout) {
          {
#line 1544
          tmp___3 = getsparam((char *)"PROMPT_EOL_MARK");
#line 1544
          eolmark = tmp___3;
#line 1546
          percents = (int )opts[141];
#line 1546
          w = 0;
          }
#line 1547
          if (! eolmark) {
#line 1548
            eolmark = (char *)"%B%S%#%s%b";
          }
          {
#line 1549
          opts[141] = (char)1;
#line 1550
          str = promptexpand(eolmark, 1, (char *)((void *)0), (char *)((void *)0),
                             (unsigned int *)((void *)0));
#line 1551
          countprompt(str, & w, (int *)0, -1);
#line 1552
          opts[141] = (char )percents;
#line 1553
          zputs((char const   *)str, shout);
#line 1554
          fprintf((FILE */* __restrict  */)shout, (char const   */* __restrict  */)"%*s\r%*s\r",
                  ((int )zterm_columns - w) - ! hasxn, "", w, "");
#line 1556
          fflush(shout);
#line 1557
          free((void *)str);
          }
        }
      }
    }
  }
#line 1562
  if (! opts[120]) {
    {
#line 1563
    scanjobs();
    }
  }
#line 1564
  if (errflag) {
#line 1565
    return;
  }
  {
#line 1569
  callhookfunc((char *)"precmd", (LinkList )((void *)0), 1, (int *)((void *)0));
  }
#line 1570
  if (errflag) {
#line 1571
    return;
  }
#line 1576
  if (period) {
    {
#line 1576
    tmp___4 = time((time_t *)((void *)0));
    }
#line 1576
    if (tmp___4 > lastperiodic + period) {
      {
#line 1576
      tmp___5 = callhookfunc((char *)"periodic", (LinkList )((void *)0), 1, (int *)((void *)0));
      }
#line 1576
      if (! tmp___5) {
        {
#line 1578
        lastperiodic = time((time_t *)((void *)0));
        }
      }
    }
  }
#line 1579
  if (errflag) {
#line 1580
    return;
  }
#line 1584
  if (watch) {
    {
#line 1585
    tmp___6 = time((time_t *)((void *)0));
#line 1585
    tmp___7 = difftime(tmp___6, lastwatch);
#line 1585
    tmp___8 = getiparam((char *)"LOGCHECK");
    }
#line 1585
    if ((zlong )((int )tmp___7) > tmp___8) {
      {
#line 1586
      dowatch();
#line 1587
      lastwatch = time((time_t *)((void *)0));
      }
    }
  }
#line 1590
  if (errflag) {
#line 1591
    return;
  }
  {
#line 1594
  currentmailcheck = time((time_t *)((void *)0));
  }
#line 1595
  if (mailcheck) {
    {
#line 1595
    tmp___9 = difftime(currentmailcheck, lastmailcheck);
    }
#line 1595
    if ((zlong )tmp___9 > mailcheck) {
#line 1599
      if (mailpath) {
#line 1599
        if (*mailpath) {
#line 1599
          if (*(*mailpath)) {
            {
#line 1600
            checkmailpath(mailpath);
            }
          } else {
#line 1599
            goto _L___0;
          }
        } else {
#line 1599
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        {
#line 1602
        queueing_enabled ++;
#line 1603
        mailfile = getsparam((char *)"MAIL");
        }
#line 1603
        if (mailfile) {
#line 1603
          if (*mailfile) {
            {
#line 1606
            x[0] = mailfile;
#line 1607
            x[1] = (char *)((void *)0);
#line 1608
            checkmailpath(x);
            }
          }
        }
        {
#line 1610
        while (1) {
          while_continue: /* CIL Label */ ;
#line 1610
          queueing_enabled --;
#line 1610
          if (! queueing_enabled) {
            {
#line 1610
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 1610
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 1610
                if (! (queue_front != queue_rear)) {
#line 1610
                  goto while_break___1;
                }
                {
#line 1610
                queue_front = (queue_front + 1) % 128;
#line 1610
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1610
                zhandler(signal_queue[queue_front]);
#line 1610
                signal_setmask(oset);
                }
              }
              while_break___1: /* CIL Label */ ;
              }
#line 1610
              goto while_break___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
#line 1610
          goto while_break;
        }
        while_break: /* CIL Label */ ;
        }
      }
#line 1612
      lastmailcheck = currentmailcheck;
    }
  }
#line 1615
  if (prepromptfns) {
#line 1616
    ln = prepromptfns->list.first;
    {
#line 1616
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1616
      if (! ln) {
#line 1616
        goto while_break___2;
      }
      {
#line 1617
      ppnode = (Prepromptfn )ln->dat;
#line 1618
      (*(ppnode->func))();
#line 1616
      ln = ln->next;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  }
#line 1621
  return;
}
}
#line 1624 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static void checkmailpath(char **s ) 
{ 
  struct stat st___0 ;
  char *v ;
  char *u ;
  char c ;
  int *tmp ;
  int *tmp___0 ;
  LinkList l ;
  DIR *lock ;
  char *tmp___1 ;
  DIR *tmp___2 ;
  char buf___7[8193] ;
  char **arr ;
  char **ap ;
  int ct ;
  char *fn___0 ;
  char *tmp___3 ;
  void *tmp___4 ;
  char **tmp___5 ;
  char *tmp___6 ;
  void *tmp___7 ;
  char *usav ;
  int uusav ;
  void *tmp___8 ;
  int tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  int tmp___12 ;
  void *__cil_tmp29 ;
  void *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;

  {
  {
#line 1630
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1630
    if (! *s) {
#line 1630
      goto while_break;
    }
#line 1631
    v = *s;
    {
#line 1631
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1631
      if (*v) {
#line 1631
        if (! ((int )*v != 63)) {
#line 1631
          goto while_break___0;
        }
      } else {
#line 1631
        goto while_break___0;
      }
#line 1631
      v ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1632
    c = *v;
#line 1633
    *v = (char )'\000';
#line 1634
    if ((int )c != 63) {
#line 1635
      u = (char *)((void *)0);
    } else {
#line 1637
      u = v + 1;
    }
#line 1638
    if ((int )*(*s) == 0) {
      {
#line 1639
      *v = c;
#line 1640
      zerr("empty MAILPATH component: %s", *s);
      }
    } else {
      {
#line 1641
      tmp___11 = unmeta((char const   *)*s);
#line 1641
      tmp___12 = stat((char const   */* __restrict  */)tmp___11, (struct stat */* __restrict  */)(& st___0));
      }
#line 1641
      if (tmp___12 == -1) {
        {
#line 1642
        tmp___0 = __errno_location();
        }
#line 1642
        if (*tmp___0 != 2) {
          {
#line 1643
          tmp = __errno_location();
#line 1643
          zerr("%e: %s", *tmp, *s);
          }
        }
      } else
#line 1644
      if ((st___0.st_mode & 61440U) == 16384U) {
        {
#line 1646
        tmp___1 = unmeta((char const   *)*s);
#line 1646
        tmp___2 = opendir((char const   *)tmp___1);
#line 1646
        lock = tmp___2;
#line 1648
        ct = 1;
        }
#line 1650
        if (lock) {
          {
#line 1653
          pushheap();
#line 1654
          l = newlinklist();
          }
          {
#line 1655
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 1655
            fn___0 = zreaddir(lock, 1);
            }
#line 1655
            if (fn___0) {
#line 1655
              if (! (! errflag)) {
#line 1655
                goto while_break___1;
              }
            } else {
#line 1655
              goto while_break___1;
            }
#line 1656
            if (u) {
              {
#line 1657
              sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%s/%s?%s",
                      *s, fn___0, u);
              }
            } else {
              {
#line 1659
              sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%s/%s",
                      *s, fn___0);
              }
            }
            {
#line 1660
            tmp___3 = dupstring((char const   *)(buf___7));
#line 1660
            insertlinknode(l, l->list.last, (void *)tmp___3);
#line 1661
            ct ++;
            }
          }
          while_break___1: /* CIL Label */ ;
          }
          {
#line 1663
          closedir(lock);
#line 1664
          tmp___4 = zhalloc((unsigned long )ct * sizeof(char *));
#line 1664
          arr = (char **)tmp___4;
#line 1664
          ap = arr;
          }
          {
#line 1666
          while (1) {
            while_continue___2: /* CIL Label */ ;
            {
#line 1666
            tmp___5 = ap;
#line 1666
            ap ++;
#line 1666
            tmp___7 = ugetnode(l);
#line 1666
            tmp___6 = (char *)tmp___7;
#line 1666
            *tmp___5 = tmp___6;
            }
#line 1666
            if (! tmp___6) {
#line 1666
              goto while_break___2;
            }
          }
          while_break___2: /* CIL Label */ ;
          }
          {
#line 1667
          checkmailpath(arr);
#line 1668
          popheap();
          }
        }
      } else
#line 1670
      if (shout) {
#line 1671
        if (st___0.st_size) {
#line 1671
          if (st___0.st_atim.tv_sec <= st___0.st_mtim.tv_sec) {
#line 1671
            if (st___0.st_mtim.tv_sec >= lastmailcheck) {
#line 1673
              if (! u) {
                {
#line 1674
                fprintf((FILE */* __restrict  */)shout, (char const   */* __restrict  */)"You have new mail.\n");
#line 1675
                fflush(shout);
                }
              } else {
                {
#line 1678
                uusav = underscoreused;
#line 1680
                tmp___8 = zalloc((size_t )underscoreused);
#line 1680
                usav = (char *)tmp___8;
                }
#line 1682
                if (usav) {
                  {
#line 1683
                  memcpy((void */* __restrict  */)usav, (void const   */* __restrict  */)zunderscore,
                         (size_t )underscoreused);
                  }
                }
                {
#line 1685
                setunderscore(*s);
#line 1687
                u = dupstring((char const   *)u);
#line 1688
                tmp___9 = parsestr(& u);
                }
#line 1688
                if (! tmp___9) {
                  {
#line 1689
                  singsub(& u);
#line 1690
                  zputs((char const   *)u, shout);
#line 1691
                  fputc('\n', shout);
#line 1692
                  fflush(shout);
                  }
                }
#line 1694
                if (usav) {
                  {
#line 1695
                  setunderscore(usav);
#line 1696
                  zfree((void *)usav, uusav);
                  }
                }
              }
            }
          }
        }
#line 1700
        if (opts[112]) {
#line 1700
          if (st___0.st_atim.tv_sec > st___0.st_mtim.tv_sec) {
#line 1700
            if (st___0.st_atim.tv_sec > lastmailcheck) {
#line 1700
              if (st___0.st_size) {
                {
#line 1702
                tmp___10 = unmeta((char const   *)*s);
#line 1702
                fprintf((FILE */* __restrict  */)shout, (char const   */* __restrict  */)"The mail in %s has been read.\n",
                        tmp___10);
#line 1703
                fflush(shout);
                }
              }
            }
          }
        }
      }
    }
#line 1706
    *v = c;
#line 1707
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1709
  return;
}
}
#line 1714 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
FILE *xtrerr  =    (FILE *)0;
#line 1717 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void printprompt4(void) 
{ 
  int l ;
  int t ;
  char *s ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *__cil_tmp7 ;

  {
#line 1720
  if (! xtrerr) {
#line 1721
    xtrerr = stderr;
  }
#line 1722
  if (prompt4) {
    {
#line 1723
    t = (int )opts[175];
#line 1724
    tmp = dupstring((char const   *)prompt4);
#line 1724
    s = tmp;
#line 1726
    opts[175] = (char)0;
#line 1727
    unmetafy(s, & l);
#line 1728
    tmp___0 = metafy(s, l, 5);
#line 1728
    tmp___1 = promptexpand(tmp___0, 0, (char *)((void *)0), (char *)((void *)0), (unsigned int *)((void *)0));
#line 1728
    s = unmetafy(tmp___1, & l);
#line 1730
    opts[175] = (char )t;
#line 1732
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"%s",
            s);
#line 1733
    free((void *)s);
    }
  }
#line 1735
  return;
}
}
#line 1738 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void freestr(void *a ) 
{ 


  {
  {
#line 1741
  zsfree((char *)a);
  }
#line 1742
  return;
}
}
#line 1745 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void gettyinfo(struct ttyinfo *ti ) 
{ 
  int *tmp ;
  int tmp___0 ;
  char *__cil_tmp4 ;

  {
#line 1748
  if (SHTTY != -1) {
    {
#line 1751
    tmp___0 = tcgetattr(SHTTY, & ti->tio);
    }
#line 1751
    if (tmp___0 == -1) {
      {
#line 1755
      tmp = __errno_location();
#line 1755
      zerr("bad tcgets: %e", *tmp);
      }
    }
  }
#line 1767
  return;
}
}
#line 1770 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void settyinfo(struct ttyinfo *ti ) 
{ 
  int tmp ;
  int *tmp___0 ;

  {
#line 1773
  if (SHTTY != -1) {
    {
#line 1779
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 1779
      tmp = tcsetattr(SHTTY, 1, (struct termios  const  *)(& ti->tio));
      }
#line 1779
      if (tmp == -1) {
        {
#line 1779
        tmp___0 = __errno_location();
        }
#line 1779
        if (! (*tmp___0 == 4)) {
#line 1779
          goto while_break;
        }
      } else {
#line 1779
        goto while_break;
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 1797
  return;
}
}
#line 1816 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int adjustlines(int signalled ) 
{ 
  int oldlines ;

  {
#line 1819
  oldlines = (int )zterm_lines;
#line 1822
  if (signalled) {
#line 1823
    zterm_lines = (zlong )shttyinfo.winsize.ws_row;
  } else
#line 1822
  if (zterm_lines <= 0L) {
#line 1823
    zterm_lines = (zlong )shttyinfo.winsize.ws_row;
  } else {
#line 1825
    shttyinfo.winsize.ws_row = (unsigned short )zterm_lines;
  }
#line 1827
  if (zterm_lines <= 0L) {
#line 1829
    if (tclines > 0) {
#line 1829
      zterm_lines = (zlong )tclines;
    } else {
#line 1829
      zterm_lines = (zlong )24;
    }
  }
#line 1832
  if (zterm_lines > 2L) {
#line 1833
    termflags &= -9;
  } else {
#line 1835
    termflags |= 8;
  }
#line 1837
  return (zterm_lines != (zlong )oldlines);
}
}
#line 1840 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int adjustcolumns(int signalled ) 
{ 
  int oldcolumns ;

  {
#line 1843
  oldcolumns = (int )zterm_columns;
#line 1846
  if (signalled) {
#line 1847
    zterm_columns = (zlong )shttyinfo.winsize.ws_col;
  } else
#line 1846
  if (zterm_columns <= 0L) {
#line 1847
    zterm_columns = (zlong )shttyinfo.winsize.ws_col;
  } else {
#line 1849
    shttyinfo.winsize.ws_col = (unsigned short )zterm_columns;
  }
#line 1851
  if (zterm_columns <= 0L) {
#line 1853
    if (tccolumns > 0) {
#line 1853
      zterm_columns = (zlong )tccolumns;
    } else {
#line 1853
      zterm_columns = (zlong )80;
    }
  }
#line 1856
  if (zterm_columns > 2L) {
#line 1857
    termflags &= -17;
  } else {
#line 1859
    termflags |= 16;
  }
#line 1861
  return (zterm_columns != (zlong )oldcolumns);
}
}
#line 1875 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int getwinsz  =    1;
#line 1872 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void adjustwinsize(int from ) 
{ 
  int ttyrows ;
  int ttycols ;
  int resetzle ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;
  char *tmp___4 ;
  int tmp___5 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
#line 1877
  ttyrows = (int )shttyinfo.winsize.ws_row;
#line 1878
  ttycols = (int )shttyinfo.winsize.ws_col;
#line 1880
  resetzle = 0;
#line 1882
  if (getwinsz) {
#line 1882
    goto _L;
  } else
#line 1882
  if (from == 1) {
    _L: /* CIL Label */ 
#line 1884
    if (SHTTY == -1) {
#line 1885
      return;
    }
    {
#line 1886
    tmp___0 = ioctl(SHTTY, 21523UL, (char *)(& shttyinfo.winsize));
    }
#line 1886
    if (tmp___0 == 0) {
#line 1887
      if (ttyrows != (int )shttyinfo.winsize.ws_row) {
#line 1887
        tmp = 1;
      } else
#line 1887
      if (ttycols != (int )shttyinfo.winsize.ws_col) {
#line 1887
        tmp = 1;
      } else {
#line 1887
        tmp = 0;
      }
#line 1887
      resetzle = tmp;
#line 1889
      if (from == 0) {
#line 1889
        if (resetzle) {
#line 1889
          if (ttyrows) {
#line 1889
            if (ttycols) {
#line 1890
              from = 1;
            }
          }
        }
      }
#line 1891
      ttyrows = (int )shttyinfo.winsize.ws_row;
#line 1892
      ttycols = (int )shttyinfo.winsize.ws_col;
    } else {
#line 1895
      shttyinfo.winsize.ws_row = (unsigned short )zterm_lines;
#line 1896
      shttyinfo.winsize.ws_col = (unsigned short )zterm_columns;
#line 1897
      resetzle = from == 1;
    }
  }
  {
#line 1907
  if (from == 1) {
#line 1907
    goto case_1;
  }
#line 1907
  if (from == 0) {
#line 1907
    goto case_1;
  }
#line 1921
  if (from == 2) {
#line 1921
    goto case_2;
  }
#line 1924
  if (from == 3) {
#line 1924
    goto case_3;
  }
#line 1905
  goto switch_break;
  case_1: /* CIL Label */ 
  case_0: /* CIL Label */ 
  {
#line 1908
  getwinsz = 0;
#line 1915
  tmp___1 = adjustlines(from);
  }
#line 1915
  if (tmp___1) {
    {
#line 1915
    tmp___2 = zgetenv((char *)"LINES");
    }
#line 1915
    if (tmp___2) {
      {
#line 1916
      setiparam((char *)"LINES", zterm_lines);
      }
    }
  }
  {
#line 1917
  tmp___3 = adjustcolumns(from);
  }
#line 1917
  if (tmp___3) {
    {
#line 1917
    tmp___4 = zgetenv((char *)"COLUMNS");
    }
#line 1917
    if (tmp___4) {
      {
#line 1918
      setiparam((char *)"COLUMNS", zterm_columns);
      }
    }
  }
#line 1919
  getwinsz = 1;
#line 1920
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 1922
  resetzle = adjustlines(0);
  }
#line 1923
  goto switch_break;
  case_3: /* CIL Label */ 
  {
#line 1925
  resetzle = adjustcolumns(0);
  }
#line 1926
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 1930
  if (opts[92]) {
#line 1930
    if (from >= 2) {
#line 1930
      if ((int )shttyinfo.winsize.ws_row != ttyrows) {
#line 1930
        tmp___5 = 1;
      } else
#line 1930
      if ((int )shttyinfo.winsize.ws_col != ttycols) {
#line 1930
        tmp___5 = 1;
      } else {
#line 1930
        tmp___5 = 0;
      }
    } else {
#line 1930
      tmp___5 = 0;
    }
  } else {
#line 1930
    tmp___5 = 0;
  }
#line 1938
  if (zleactive) {
#line 1938
    if (resetzle) {
      {
#line 1940
      resetneeded = 1;
#line 1940
      winchanged = resetneeded;
#line 1943
      zleentry(4);
#line 1944
      zleentry(5);
      }
    }
  }
#line 1946
  return;
}
}
#line 1952 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static void check_fd_table(int fd ) 
{ 
  int old_size ;
  void *tmp ;

  {
#line 1955
  if (fd <= max_zsh_fd) {
#line 1956
    return;
  }
#line 1958
  if (fd >= fdtable_size) {
#line 1959
    old_size = fdtable_size;
    {
#line 1960
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1960
      if (! (fd >= fdtable_size)) {
#line 1960
        goto while_break;
      }
      {
#line 1961
      fdtable_size *= 2;
#line 1961
      tmp = zrealloc((void *)fdtable, (unsigned long )fdtable_size * sizeof(*fdtable));
#line 1961
      fdtable = (unsigned char *)tmp;
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1963
    memset((void *)(fdtable + old_size), 0, (unsigned long )(fdtable_size - old_size) * sizeof(*fdtable));
    }
  }
#line 1966
  max_zsh_fd = fd;
#line 1967
  return;
}
}
#line 1973 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int movefd(int fd ) 
{ 
  int fe ;
  int tmp ;

  {
#line 1976
  if (fd != -1) {
#line 1976
    if (fd < 10) {
      {
#line 1978
      tmp = fcntl(fd, 0, 10);
#line 1978
      fe = tmp;
#line 1988
      zclose(fd);
#line 1989
      fd = fe;
      }
    }
  }
#line 1991
  if (fd != -1) {
    {
#line 1992
    check_fd_table(fd);
#line 1993
    *(fdtable + fd) = (unsigned char)1;
    }
  }
#line 1995
  return (fd);
}
}
#line 2004 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int redup(int x , int y ) 
{ 
  int ret ;
  int tmp ;

  {
#line 2007
  ret = y;
#line 2009
  if (x < 0) {
    {
#line 2010
    zclose(y);
    }
  } else
#line 2011
  if (x != y) {
    {
#line 2012
    tmp = dup2(x, y);
    }
#line 2012
    if (tmp == -1) {
#line 2013
      ret = -1;
    } else {
      {
#line 2015
      check_fd_table(y);
#line 2016
      *(fdtable + y) = *(fdtable + x);
      }
#line 2017
      if ((int )*(fdtable + y) == 5) {
#line 2018
        *(fdtable + y) = (unsigned char)1;
      } else
#line 2017
      if ((int )*(fdtable + y) == 6) {
#line 2018
        *(fdtable + y) = (unsigned char)1;
      }
    }
#line 2024
    if ((int )*(fdtable + x) == 5) {
#line 2025
      fdtable_flocks --;
    }
    {
#line 2026
    zclose(x);
    }
  }
#line 2029
  return (ret);
}
}
#line 2052 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void addmodulefd(int fd , int fdt ) 
{ 


  {
#line 2055
  if (fd >= 0) {
    {
#line 2056
    check_fd_table(fd);
#line 2057
    *(fdtable + fd) = (unsigned char )fdt;
    }
  }
#line 2059
  return;
}
}
#line 2073 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void addlockfd(int fd , int cloexec ) 
{ 


  {
#line 2076
  if (cloexec) {
#line 2077
    if ((int )*(fdtable + fd) != 5) {
#line 2078
      fdtable_flocks ++;
    }
#line 2079
    *(fdtable + fd) = (unsigned char)5;
  } else {
#line 2081
    *(fdtable + fd) = (unsigned char)6;
  }
#line 2083
  return;
}
}
#line 2088 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int zclose(int fd ) 
{ 
  int tmp ;

  {
#line 2091
  if (fd >= 0) {
#line 2096
    if (fd <= max_zsh_fd) {
#line 2097
      if ((int )*(fdtable + fd) == 5) {
#line 2098
        fdtable_flocks --;
      }
#line 2099
      *(fdtable + fd) = (unsigned char)0;
      {
#line 2100
      while (1) {
        while_continue: /* CIL Label */ ;
#line 2100
        if (max_zsh_fd > 0) {
#line 2100
          if (! ((int )*(fdtable + max_zsh_fd) == 0)) {
#line 2100
            goto while_break;
          }
        } else {
#line 2100
          goto while_break;
        }
#line 2101
        max_zsh_fd --;
      }
      while_break: /* CIL Label */ ;
      }
#line 2102
      if (fd == coprocin) {
#line 2103
        coprocin = -1;
      }
#line 2104
      if (fd == coprocout) {
#line 2105
        coprocout = -1;
      }
    }
    {
#line 2107
    tmp = close(fd);
    }
#line 2107
    return (tmp);
  }
#line 2109
  return (-1);
}
}
#line 2117 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int zcloselockfd(int fd ) 
{ 


  {
#line 2120
  if (fd > max_zsh_fd) {
#line 2121
    return (-1);
  }
#line 2122
  if ((int )*(fdtable + fd) != 5) {
#line 2122
    if ((int )*(fdtable + fd) != 6) {
#line 2123
      return (-1);
    }
  }
  {
#line 2124
  zclose(fd);
  }
#line 2125
  return (0);
}
}
#line 2139 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *gettempname(char const   *prefix , int use_heap ) 
{ 
  char *ret ;
  char *suffix ;
  char const   *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  sigset_t oset ;
  void *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
#line 2142
  if (prefix) {
#line 2142
    tmp = ".XXXXXX";
  } else {
#line 2142
    tmp = "XXXXXX";
  }
#line 2142
  suffix = (char *)tmp;
#line 2144
  queueing_enabled ++;
#line 2145
  if (! prefix) {
    {
#line 2145
    tmp___0 = getsparam((char *)"TMPPREFIX");
#line 2145
    prefix = (char const   *)tmp___0;
    }
#line 2145
    if (! prefix) {
#line 2146
      prefix = "/tmp/zsh";
    }
  }
#line 2147
  if (use_heap) {
    {
#line 2148
    tmp___1 = unmeta(prefix);
#line 2148
    ret = dyncat((char const   *)tmp___1, (char const   *)suffix);
    }
  } else {
    {
#line 2150
    tmp___2 = unmeta(prefix);
#line 2150
    ret = bicat((char const   *)tmp___2, (char const   *)suffix);
    }
  }
  {
#line 2156
  tmp___3 = mktemp(ret);
#line 2156
  ret = tmp___3;
  }
  {
#line 2158
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2158
    queueing_enabled --;
#line 2158
    if (! queueing_enabled) {
      {
#line 2158
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2158
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 2158
          if (! (queue_front != queue_rear)) {
#line 2158
            goto while_break___1;
          }
          {
#line 2158
          queue_front = (queue_front + 1) % 128;
#line 2158
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2158
          zhandler(signal_queue[queue_front]);
#line 2158
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 2158
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 2158
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 2160
  return (ret);
}
}
#line 2167 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int gettempfile(char const   *prefix , int use_heap , char **tempname ) 
{ 
  char *fn___0 ;
  int fd ;
  char *suffix ;
  char const   *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  sigset_t oset ;
  void *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 2173
  if (prefix) {
#line 2173
    tmp = ".XXXXXX";
  } else {
#line 2173
    tmp = "XXXXXX";
  }
#line 2173
  suffix = (char *)tmp;
#line 2175
  queueing_enabled ++;
#line 2176
  if (! prefix) {
    {
#line 2176
    tmp___0 = getsparam((char *)"TMPPREFIX");
#line 2176
    prefix = (char const   *)tmp___0;
    }
#line 2176
    if (! prefix) {
#line 2177
      prefix = "/tmp/zsh";
    }
  }
#line 2178
  if (use_heap) {
    {
#line 2179
    tmp___1 = unmeta(prefix);
#line 2179
    fn___0 = dyncat((char const   *)tmp___1, (char const   *)suffix);
    }
  } else {
    {
#line 2181
    tmp___2 = unmeta(prefix);
#line 2181
    fn___0 = bicat((char const   *)tmp___2, (char const   *)suffix);
    }
  }
  {
#line 2183
  fd = mkstemp(fn___0);
  }
#line 2184
  if (fd < 0) {
#line 2185
    if (! use_heap) {
      {
#line 2186
      free((void *)fn___0);
      }
    }
#line 2187
    fn___0 = (char *)((void *)0);
  }
#line 2205
  *tempname = fn___0;
  {
#line 2207
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2207
    queueing_enabled --;
#line 2207
    if (! queueing_enabled) {
      {
#line 2207
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2207
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 2207
          if (! (queue_front != queue_rear)) {
#line 2207
            goto while_break___1;
          }
          {
#line 2207
          queue_front = (queue_front + 1) % 128;
#line 2207
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2207
          zhandler(signal_queue[queue_front]);
#line 2207
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 2207
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 2207
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 2208
  return (fd);
}
}
#line 2214 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int has_token(char const   *s ) 
{ 
  char const   *tmp ;

  {
  {
#line 2217
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2217
    if (! *s) {
#line 2217
      goto while_break;
    }
#line 2218
    tmp = s;
#line 2218
    s ++;
#line 2218
    if ((int )typtab[(unsigned char )*tmp] & (1 << 4)) {
#line 2219
      return (1);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2220
  return (0);
}
}
#line 2226 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void chuck(char *str ) 
{ 
  char tmp ;

  {
  {
#line 2229
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2229
    tmp = *(str + 1);
#line 2229
    *(str + 0) = tmp;
#line 2229
    if (! tmp) {
#line 2229
      goto while_break;
    }
#line 2230
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2231
  return;
}
}
#line 2234 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int tulower(int c ) 
{ 
  int tmp___0 ;
  int tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
  {
#line 2237
  c &= 255;
#line 2238
  tmp___2 = __ctype_b_loc();
  }
#line 2238
  if ((int const   )*(*tmp___2 + c) & 256) {
    {
#line 2238
    tmp___0 = tolower(c);
#line 2238
    tmp___1 = tmp___0;
    }
  } else {
#line 2238
    tmp___1 = c;
  }
#line 2238
  return (tmp___1);
}
}
#line 2242 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int tuupper(int c ) 
{ 
  int tmp___0 ;
  int tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
  {
#line 2245
  c &= 255;
#line 2246
  tmp___2 = __ctype_b_loc();
  }
#line 2246
  if ((int const   )*(*tmp___2 + c) & 512) {
    {
#line 2246
    tmp___0 = toupper(c);
#line 2246
    tmp___1 = tmp___0;
    }
  } else {
#line 2246
    tmp___1 = c;
  }
#line 2246
  return (tmp___1);
}
}
#line 2252 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void ztrncpy(char *s , char *t , int len ) 
{ 
  char *tmp ;
  char *tmp___0 ;
  int tmp___1 ;

  {
  {
#line 2255
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2255
    tmp___1 = len;
#line 2255
    len --;
#line 2255
    if (! tmp___1) {
#line 2255
      goto while_break;
    }
#line 2256
    tmp = s;
#line 2256
    s ++;
#line 2256
    tmp___0 = t;
#line 2256
    t ++;
#line 2256
    *tmp = *tmp___0;
  }
  while_break: /* CIL Label */ ;
  }
#line 2257
  *s = (char )'\000';
#line 2258
  return;
}
}
#line 2263 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void strucpy(char **s , char *t ) 
{ 
  char *u ;
  char *tmp ;
  char tmp___0 ;
  char *tmp___1 ;

  {
#line 2266
  u = *s;
  {
#line 2268
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2268
    tmp = u;
#line 2268
    u ++;
#line 2268
    tmp___1 = t;
#line 2268
    t ++;
#line 2268
    tmp___0 = *tmp___1;
#line 2268
    *tmp = tmp___0;
#line 2268
    if (! tmp___0) {
#line 2268
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2269
  *s = u - 1;
#line 2270
  return;
}
}
#line 2273 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void struncpy(char **s , char *t , int n ) 
{ 
  char *u ;
  char *tmp ;
  char *tmp___0 ;
  int tmp___1 ;

  {
#line 2276
  u = *s;
  {
#line 2278
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2278
    tmp___1 = n;
#line 2278
    n --;
#line 2278
    if (! tmp___1) {
#line 2278
      goto while_break;
    }
#line 2279
    tmp = u;
#line 2279
    u ++;
#line 2279
    tmp___0 = t;
#line 2279
    t ++;
#line 2279
    *tmp = *tmp___0;
  }
  while_break: /* CIL Label */ ;
  }
#line 2280
  *s = u;
#line 2281
  *u = (char )'\000';
#line 2282
  return;
}
}
#line 2288 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int arrlen(char **s ) 
{ 
  int count ;

  {
#line 2293
  count = 0;
  {
#line 2293
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2293
    if (! *s) {
#line 2293
      goto while_break;
    }
#line 2293
    s ++;
#line 2293
    count ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2294
  return (count);
}
}
#line 2300 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char arrlen_ge(char **s , unsigned int lower_bound ) 
{ 
  char **tmp ;
  unsigned int tmp___0 ;

  {
  {
#line 2303
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2303
    tmp___0 = lower_bound;
#line 2303
    lower_bound --;
#line 2303
    if (! tmp___0) {
#line 2303
      goto while_break;
    }
#line 2304
    tmp = s;
#line 2304
    s ++;
#line 2304
    if (! *tmp) {
#line 2305
      return ((char)0);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2307
  return ((char)1);
}
}
#line 2313 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char arrlen_gt(char **s , unsigned int lower_bound ) 
{ 
  char tmp ;

  {
  {
#line 2316
  tmp = arrlen_ge(s, 1U + lower_bound);
  }
#line 2316
  return (tmp);
}
}
#line 2322 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char arrlen_le(char **s , unsigned int upper_bound ) 
{ 
  char tmp ;

  {
  {
#line 2325
  tmp = arrlen_lt(s, 1U + upper_bound);
  }
#line 2325
  return (tmp);
}
}
#line 2331 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char arrlen_lt(char **s , unsigned int upper_bound ) 
{ 
  char tmp ;
  int tmp___0 ;

  {
  {
#line 2334
  tmp = arrlen_ge(s, upper_bound);
  }
#line 2334
  if (tmp) {
#line 2334
    tmp___0 = 0;
  } else {
#line 2334
    tmp___0 = 1;
  }
#line 2334
  return ((char )tmp___0);
}
}
#line 2340 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int skipparens(char inpar , char outpar , char **s ) 
{ 
  int level ;

  {
#line 2345
  if ((int )*(*s) != (int )inpar) {
#line 2346
    return (-1);
  }
#line 2348
  level = 1;
  {
#line 2348
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2348
    (*s) ++;
#line 2348
    if (*(*s)) {
#line 2348
      if (! level) {
#line 2348
        goto while_break;
      }
    } else {
#line 2348
      goto while_break;
    }
#line 2349
    if ((int )*(*s) == (int )inpar) {
#line 2350
      level ++;
    } else
#line 2351
    if ((int )*(*s) == (int )outpar) {
#line 2352
      level --;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2354
  return (level);
}
}
#line 2358 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
zlong zstrtol(char const   *s , char **t , int base ) 
{ 
  zlong tmp ;

  {
  {
#line 2361
  tmp = zstrtol_underscore(s, t, base, 0);
  }
#line 2361
  return (tmp);
}
}
#line 2369 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
zlong zstrtol_underscore(char const   *s , char **t , int base , int underscore ) 
{ 
  char const   *inp ;
  char const   *trunc ;
  zulong calc ;
  zulong newcalc ;
  int neg ;
  int tmp ;
  zlong tmp___0 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 2372
  trunc = (char const   *)((void *)0);
#line 2373
  calc = (zulong )0;
#line 2373
  newcalc = (zulong )0;
  {
#line 2376
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2376
    if (! ((int )typtab[(unsigned char )*s] & (1 << 3))) {
#line 2376
      goto while_break;
    }
#line 2377
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2379
  neg = (int const   )*s == 45;
#line 2379
  if (neg) {
#line 2380
    s ++;
  } else
#line 2381
  if ((int const   )*s == 43) {
#line 2382
    s ++;
  }
#line 2384
  if (! base) {
#line 2385
    if ((int const   )*s != 48) {
#line 2386
      base = 10;
    } else {
#line 2387
      s ++;
#line 2387
      if ((int const   )*s == 120) {
#line 2388
        base = 16;
#line 2388
        s ++;
      } else
#line 2387
      if ((int const   )*s == 88) {
#line 2388
        base = 16;
#line 2388
        s ++;
      } else
#line 2389
      if ((int const   )*s == 98) {
#line 2390
        base = 2;
#line 2390
        s ++;
      } else
#line 2389
      if ((int const   )*s == 66) {
#line 2390
        base = 2;
#line 2390
        s ++;
      } else {
#line 2392
        base = 8;
      }
    }
  }
#line 2394
  inp = s;
#line 2395
  if (base < 2) {
    {
#line 2396
    zerr("invalid base (must be 2 to 36 inclusive): %d", base);
    }
#line 2397
    return ((zlong )0);
  } else
#line 2395
  if (base > 36) {
    {
#line 2396
    zerr("invalid base (must be 2 to 36 inclusive): %d", base);
    }
#line 2397
    return ((zlong )0);
  } else
#line 2398
  if (base <= 10) {
    {
#line 2399
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2399
      if ((int const   )*s >= 48) {
#line 2399
        if (! ((int const   )*s < (int const   )(48 + base))) {
#line 2399
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 2399
      if (underscore) {
#line 2399
        if (! ((int const   )*s == 95)) {
#line 2399
          goto while_break___0;
        }
      } else {
#line 2399
        goto while_break___0;
      }
#line 2401
      if (trunc) {
#line 2402
        goto __Cont;
      } else
#line 2401
      if ((int const   )*s == 95) {
#line 2402
        goto __Cont;
      }
#line 2403
      newcalc = (calc * (zulong )base + (zulong )*s) - 48UL;
#line 2404
      if (newcalc < calc) {
#line 2406
        trunc = s;
#line 2407
        goto __Cont;
      }
#line 2409
      calc = newcalc;
      __Cont: /* CIL Label */ 
#line 2399
      s ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  } else {
    {
#line 2412
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2412
      if (! ((int )typtab[(unsigned char )*s] & 1)) {
#line 2412
        if ((int const   )*s >= 97) {
#line 2412
          if (! ((int const   )*s < (int const   )((97 + base) - 10))) {
#line 2412
            goto _L___1;
          }
        } else
        _L___1: /* CIL Label */ 
#line 2412
        if ((int const   )*s >= 65) {
#line 2412
          if (! ((int const   )*s < (int const   )((65 + base) - 10))) {
#line 2412
            goto _L___0;
          }
        } else
        _L___0: /* CIL Label */ 
#line 2412
        if (underscore) {
#line 2412
          if (! ((int const   )*s == 95)) {
#line 2412
            goto while_break___1;
          }
        } else {
#line 2412
          goto while_break___1;
        }
      }
#line 2415
      if (trunc) {
#line 2416
        goto __Cont___0;
      } else
#line 2415
      if ((int const   )*s == 95) {
#line 2416
        goto __Cont___0;
      }
#line 2417
      if ((int )typtab[(unsigned char )*s] & 1) {
#line 2417
        tmp = (int const   )*s - 48;
      } else {
#line 2417
        tmp = ((int const   )*s & 31) + 9;
      }
#line 2417
      newcalc = calc * (zulong )base + (zulong )tmp;
#line 2418
      if (newcalc < calc) {
#line 2420
        trunc = s;
#line 2421
        goto __Cont___0;
      }
#line 2423
      calc = newcalc;
      __Cont___0: /* CIL Label */ 
#line 2412
      s ++;
    }
    while_break___1: /* CIL Label */ ;
    }
  }
#line 2435
  if (! trunc) {
#line 2435
    if ((zlong )calc < 0L) {
#line 2435
      if (! neg) {
#line 2438
        trunc = s - 1;
#line 2439
        calc /= (zulong )base;
      } else
#line 2435
      if (calc & ~ (1UL << (8UL * sizeof(zulong ) - 1UL))) {
#line 2438
        trunc = s - 1;
#line 2439
        calc /= (zulong )base;
      }
    }
  }
#line 2442
  if (trunc) {
    {
#line 2443
    zwarn("number truncated after %d digits: %s", (int )(trunc - inp), inp);
    }
  }
#line 2445
  if (t) {
#line 2446
    *t = (char *)s;
  }
#line 2447
  if (neg) {
#line 2447
    tmp___0 = - ((zlong )calc);
  } else {
#line 2447
    tmp___0 = (zlong )calc;
  }
#line 2447
  return (tmp___0);
}
}
#line 2451 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int setblock_fd(int turnonblocking , int fd , long *modep ) 
{ 
  struct stat st___0 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  void *__cil_tmp9 ;

  {
  {
#line 2471
  tmp___2 = fstat(fd, & st___0);
  }
#line 2471
  if (tmp___2) {
#line 2487
    *modep = -1L;
  } else
#line 2471
  if (! ((st___0.st_mode & 61440U) == 32768U)) {
    {
#line 2472
    tmp = fcntl(fd, 3, 0);
#line 2472
    *modep = (long )tmp;
    }
#line 2473
    if (*modep != -1L) {
#line 2474
      if (! turnonblocking) {
#line 2476
        if (*modep & 2048L) {
#line 2478
          return (1);
        } else {
          {
#line 2476
          tmp___0 = fcntl(fd, 4, *modep | 2048L);
          }
#line 2476
          if (! tmp___0) {
#line 2478
            return (1);
          }
        }
      } else
#line 2479
      if (*modep & 2048L) {
        {
#line 2479
        tmp___1 = fcntl(fd, 4, *modep & -2049L);
        }
#line 2479
        if (! tmp___1) {
#line 2482
          return (1);
        }
      }
    }
  } else {
#line 2487
    *modep = -1L;
  }
#line 2488
  return (0);
}
}
#line 2494 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int setblock_stdin(void) 
{ 
  long mode ;
  int tmp ;

  {
  {
#line 2498
  tmp = setblock_fd(1, 0, & mode);
  }
#line 2498
  return (tmp);
}
}
#line 2517 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int read_poll(int fd , int *readchar , int polltty , zlong microseconds ) 
{ 
  int ret ;
  long mode ;
  char c ;
  fd_set foofd ;
  struct timeval expire_tv ;
  struct ttyinfo ti ;
  int tmp ;
  int __d0 ;
  int __d1 ;
  int tmp___0 ;
  ssize_t tmp___1 ;
  void *__cil_tmp16 ;
  void *__cil_tmp17 ;

  {
#line 2520
  ret = -1;
#line 2521
  mode = -1L;
#line 2535
  if (fd < 0) {
#line 2536
    polltty = 0;
  } else
#line 2535
  if (polltty) {
    {
#line 2535
    tmp = isatty(fd);
    }
#line 2535
    if (! tmp) {
#line 2536
      polltty = 0;
    }
  }
#line 2558
  if (polltty) {
#line 2558
    if (fd >= 0) {
      {
#line 2559
      gettyinfo(& ti);
#line 2560
      polltty = (int )ti.tio.c_cc[6];
      }
#line 2560
      if (polltty) {
        {
#line 2561
        ti.tio.c_cc[6] = (cc_t )0;
#line 2563
        ti.tio.c_cc[5] = (cc_t )((int )(microseconds / 100000L));
#line 2564
        settyinfo(& ti);
        }
      }
    }
  }
#line 2571
  expire_tv.tv_sec = (__time_t )((int )(microseconds / 1000000L));
#line 2572
  expire_tv.tv_usec = microseconds % 1000000L;
  {
#line 2573
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2573
    __asm__  volatile   ("cld; rep; "
                         "stosq": "=c" (__d0), "=D" (__d1): "a" (0), "0" (sizeof(fd_set ) / sizeof(__fd_mask )),
                         "1" (& foofd.fds_bits[0]): "memory");
#line 2573
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 2574
  if (fd > -1) {
    {
#line 2575
    foofd.fds_bits[fd / (8 * (int )sizeof(__fd_mask ))] |= 1L << fd % (8 * (int )sizeof(__fd_mask ));
#line 2576
    ret = select(fd + 1, (fd_set */* __restrict  */)(& foofd), (fd_set */* __restrict  */)((void *)0),
                 (fd_set */* __restrict  */)((void *)0), (struct timeval */* __restrict  */)(& expire_tv));
    }
  } else {
    {
#line 2578
    ret = select(0, (fd_set */* __restrict  */)((void *)0), (fd_set */* __restrict  */)((void *)0),
                 (fd_set */* __restrict  */)((void *)0), (struct timeval */* __restrict  */)(& expire_tv));
    }
  }
#line 2591
  if (fd >= 0) {
#line 2591
    if (ret < 0) {
#line 2591
      if (! errflag) {
#line 2596
        if (polltty) {
#line 2596
          goto _L;
        } else {
          {
#line 2596
          tmp___0 = setblock_fd(0, fd, & mode);
          }
#line 2596
          if (tmp___0) {
            _L: /* CIL Label */ 
            {
#line 2596
            tmp___1 = read(fd, (void *)(& c), (size_t )1);
            }
#line 2596
            if (tmp___1 > 0L) {
#line 2597
              *readchar = (int )c;
#line 2598
              ret = 1;
            }
          }
        }
#line 2600
        if (mode != -1L) {
          {
#line 2601
          fcntl(fd, 4, mode);
          }
        }
      }
    }
  }
#line 2604
  if (polltty) {
    {
#line 2605
    ti.tio.c_cc[6] = (cc_t )1;
#line 2606
    ti.tio.c_cc[5] = (cc_t )0;
#line 2607
    settyinfo(& ti);
    }
  }
#line 2610
  return (ret > 0);
}
}
#line 2620 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int zsleep(long us ) 
{ 
  struct timespec sleeptime ;
  struct timespec rem ;
  int ret ;
  int tmp ;
  int *tmp___0 ;

  {
#line 2626
  sleeptime.tv_sec = us / 1000000L;
#line 2627
  sleeptime.tv_nsec = (us % 1000000L) * 1000L;
  {
#line 2628
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2630
    tmp = nanosleep((struct timespec  const  *)(& sleeptime), & rem);
#line 2630
    ret = tmp;
    }
#line 2632
    if (ret == 0) {
#line 2633
      return (1);
    } else {
      {
#line 2634
      tmp___0 = __errno_location();
      }
#line 2634
      if (*tmp___0 != 4) {
#line 2635
        return (0);
      }
    }
#line 2636
    sleeptime = rem;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 2654 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int zsleep_random(long max_us , time_t end_time ) 
{ 
  long r ;
  time_t now ;
  time_t tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 2658
  tmp = time((time_t *)((void *)0));
#line 2658
  now = tmp;
#line 2667
  tmp___0 = rand();
#line 2667
  r = (long )(tmp___0 & 65535);
#line 2674
  r = (max_us >> 16) * r;
  }
  {
#line 2680
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2680
    if (r) {
#line 2680
      if (! (now + r / 1000000L > end_time)) {
#line 2680
        goto while_break;
      }
    } else {
#line 2680
      goto while_break;
    }
#line 2681
    r >>= 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 2682
  if (r) {
    {
#line 2683
    tmp___1 = zsleep(r);
    }
#line 2683
    return (tmp___1);
  }
#line 2684
  return (0);
}
}
#line 2688 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int checkrmall(char *s ) 
{ 
  DIR *rmd ;
  int count ;
  int max_count ;
  int ignoredots ;
  char *tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;

  {
#line 2692
  count = 0;
#line 2693
  if (! shout) {
#line 2694
    return (1);
  }
#line 2695
  if ((int )*s != 47) {
#line 2696
    if (*(pwd + 1)) {
      {
#line 2697
      s = zhtricat((char const   *)pwd, "/", (char const   *)s);
      }
    } else {
      {
#line 2699
      s = dyncat("/", (char const   *)s);
      }
    }
  }
  {
#line 2701
  max_count = 100;
#line 2702
  tmp___0 = unmeta((char const   *)s);
#line 2702
  rmd = opendir((char const   *)tmp___0);
  }
#line 2702
  if (rmd) {
#line 2703
    ignoredots = ! opts[63];
    {
#line 2704
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 2704
      tmp = zreaddir(rmd, ignoredots);
      }
#line 2704
      if (! tmp) {
#line 2704
        goto while_break;
      }
#line 2705
      count ++;
#line 2706
      if (count > max_count) {
#line 2707
        goto while_break;
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 2709
    closedir(rmd);
    }
  }
#line 2711
  if (count > max_count) {
    {
#line 2712
    fprintf((FILE */* __restrict  */)shout, (char const   */* __restrict  */)"zsh: sure you want to delete more than %d files in ",
            max_count);
    }
  } else
#line 2714
  if (count == 1) {
    {
#line 2715
    fprintf((FILE */* __restrict  */)shout, (char const   */* __restrict  */)"zsh: sure you want to delete the only file in ");
    }
  } else
#line 2716
  if (count > 0) {
    {
#line 2717
    fprintf((FILE */* __restrict  */)shout, (char const   */* __restrict  */)"zsh: sure you want to delete all %d files in ",
            count);
    }
  } else {
    {
#line 2720
    fprintf((FILE */* __restrict  */)shout, (char const   */* __restrict  */)"zsh: sure you want to delete all the files in ");
    }
  }
  {
#line 2721
  mb_niceformat((char const   *)s, shout, (char **)((void *)0), 0);
  }
#line 2722
  if (opts[155]) {
    {
#line 2723
    fputs((char const   */* __restrict  */)"? (waiting ten seconds)", (FILE */* __restrict  */)shout);
#line 2724
    fflush(shout);
#line 2725
    zbeep();
#line 2726
    sleep(10U);
#line 2727
    fputc('\n', shout);
    }
  }
#line 2729
  if (errflag) {
#line 2730
    return (0);
  }
  {
#line 2731
  fputs((char const   */* __restrict  */)" [yn]? ", (FILE */* __restrict  */)shout);
#line 2732
  fflush(shout);
#line 2733
  zbeep();
#line 2734
  tmp___1 = getquery((char *)"ny", 1);
  }
#line 2734
  return (tmp___1 == 121);
}
}
#line 2738 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
ssize_t read_loop(int fd , char *buf___7 , size_t len ) 
{ 
  ssize_t got ;
  ssize_t ret ;
  ssize_t tmp ;
  int *tmp___0 ;
  int *tmp___1 ;
  char *__cil_tmp9 ;

  {
#line 2741
  got = (ssize_t )len;
  {
#line 2743
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2744
    tmp = read(fd, (void *)buf___7, len);
#line 2744
    ret = tmp;
    }
#line 2745
    if ((size_t )ret == len) {
#line 2746
      goto while_break;
    }
#line 2747
    if (ret <= 0L) {
#line 2748
      if (ret < 0L) {
        {
#line 2749
        tmp___0 = __errno_location();
        }
#line 2749
        if (*tmp___0 == 4) {
#line 2750
          goto while_continue;
        }
#line 2751
        if (fd != SHTTY) {
          {
#line 2752
          tmp___1 = __errno_location();
#line 2752
          zwarn("read failed: %e", *tmp___1);
          }
        }
      }
#line 2754
      return (ret);
    }
#line 2756
    buf___7 += ret;
#line 2757
    len -= (size_t )ret;
  }
  while_break: /* CIL Label */ ;
  }
#line 2760
  return (got);
}
}
#line 2764 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
ssize_t write_loop(int fd , char const   *buf___7 , size_t len ) 
{ 
  ssize_t wrote ;
  ssize_t ret ;
  ssize_t tmp ;
  int *tmp___0 ;
  int *tmp___1 ;
  char *__cil_tmp9 ;

  {
#line 2767
  wrote = (ssize_t )len;
  {
#line 2769
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2770
    tmp = write(fd, (void const   *)buf___7, len);
#line 2770
    ret = tmp;
    }
#line 2771
    if ((size_t )ret == len) {
#line 2772
      goto while_break;
    }
#line 2773
    if (ret < 0L) {
      {
#line 2774
      tmp___0 = __errno_location();
      }
#line 2774
      if (*tmp___0 == 4) {
#line 2775
        goto while_continue;
      }
#line 2776
      if (fd != SHTTY) {
        {
#line 2777
        tmp___1 = __errno_location();
#line 2777
        zwarn("write failed: %e", *tmp___1);
        }
      }
#line 2778
      return ((ssize_t )-1);
    }
#line 2780
    buf___7 += ret;
#line 2781
    len -= (size_t )ret;
  }
  while_break: /* CIL Label */ ;
  }
#line 2784
  return (wrote);
}
}
#line 2787 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int read1char(int echo___0 ) 
{ 
  char c ;
  int q ;
  sigset_t oset ;
  int *tmp ;
  ssize_t tmp___0 ;
  void *__cil_tmp7 ;

  {
#line 2791
  q = queueing_enabled;
  {
#line 2793
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2793
    queueing_enabled = 0;
    {
#line 2793
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 2793
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 2793
        if (! (queue_front != queue_rear)) {
#line 2793
          goto while_break___1;
        }
        {
#line 2793
        queue_front = (queue_front + 1) % 128;
#line 2793
        oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2793
        zhandler(signal_queue[queue_front]);
#line 2793
        signal_setmask(oset);
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 2793
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 2793
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 2794
  while (1) {
    while_continue___2: /* CIL Label */ ;
    {
#line 2794
    tmp___0 = read(SHTTY, (void *)(& c), (size_t )1);
    }
#line 2794
    if (! (tmp___0 != 1L)) {
#line 2794
      goto while_break___2;
    }
    {
#line 2795
    tmp = __errno_location();
    }
#line 2795
    if (*tmp != 4) {
#line 2796
      queueing_enabled = q;
#line 2797
      return (-1);
    } else
#line 2795
    if (errflag) {
#line 2796
      queueing_enabled = q;
#line 2797
      return (-1);
    } else
#line 2795
    if (retflag) {
#line 2796
      queueing_enabled = q;
#line 2797
      return (-1);
    } else
#line 2795
    if (breaks) {
#line 2796
      queueing_enabled = q;
#line 2797
      return (-1);
    } else
#line 2795
    if (contflag) {
#line 2796
      queueing_enabled = q;
#line 2797
      return (-1);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
#line 2800
  queueing_enabled = q;
#line 2801
  if (echo___0) {
    {
#line 2802
    write_loop(SHTTY, (char const   *)(& c), (size_t )1);
    }
  }
#line 2803
  return ((int )((unsigned char )c));
}
}
#line 2807 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int noquery(int purge ) 
{ 
  int val ;
  char c ;
  ssize_t tmp ;

  {
  {
#line 2810
  val = 0;
#line 2815
  ioctl(SHTTY, 21531UL, (char *)(& val));
  }
#line 2816
  if (purge) {
    {
#line 2817
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2817
      if (! val) {
#line 2817
        goto while_break;
      }
      {
#line 2818
      tmp = read(SHTTY, (void *)(& c), (size_t )1);
#line 2817
      val --;
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 2825
  return (val);
}
}
#line 2829 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int getquery(char *valid_chars , int purge ) 
{ 
  int c ;
  int d___0 ;
  int nl___0 ;
  int isem ;
  int tmp ;
  int tmp___0 ;
  struct ttyinfo ti ;
  int tmp___1 ;
  char *tmp___2 ;
  char buf___7 ;
  mbstate_t mbs ;
  char cc ;
  size_t ret ;
  size_t tmp___3 ;
  void *__cil_tmp17 ;
  void *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;

  {
  {
#line 2832
  nl___0 = 0;
#line 2833
  tmp = strcmp((char const   *)term, "emacs");
  }
#line 2833
  if (tmp) {
#line 2833
    tmp___0 = 0;
  } else {
#line 2833
    tmp___0 = 1;
  }
  {
#line 2833
  isem = tmp___0;
#line 2836
  attachtty(mypgrp);
#line 2838
  gettyinfo(& ti);
#line 2840
  ti.tio.c_lflag &= 4294967287U;
  }
#line 2841
  if (! isem) {
#line 2842
    ti.tio.c_lflag &= 4294967293U;
#line 2843
    ti.tio.c_cc[6] = (cc_t )1;
#line 2844
    ti.tio.c_cc[5] = (cc_t )0;
  }
  {
#line 2851
  settyinfo(& ti);
#line 2853
  tmp___1 = noquery(purge);
  }
#line 2853
  if (tmp___1) {
#line 2854
    if (! isem) {
      {
#line 2855
      settyinfo(& shttyinfo);
      }
    }
    {
#line 2856
    write_loop(SHTTY, "n\n", (size_t )2);
    }
#line 2857
    return ('n');
  }
  {
#line 2860
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2860
    c = read1char(0);
    }
#line 2860
    if (! (c >= 0)) {
#line 2860
      goto while_break;
    }
#line 2861
    if (c == 89) {
#line 2862
      c = 'y';
    } else
#line 2863
    if (c == 78) {
#line 2864
      c = 'n';
    }
#line 2865
    if (! valid_chars) {
#line 2866
      goto while_break;
    }
#line 2867
    if (c == 10) {
#line 2868
      c = (int )*valid_chars;
#line 2869
      nl___0 = 1;
#line 2870
      goto while_break;
    }
    {
#line 2872
    tmp___2 = strchr((char const   *)valid_chars, c);
    }
#line 2872
    if (tmp___2) {
#line 2873
      nl___0 = 1;
#line 2874
      goto while_break;
    }
    {
#line 2876
    zbeep();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2878
  if (c >= 0) {
    {
#line 2879
    buf___7 = (char )c;
#line 2880
    write_loop(SHTTY, (char const   *)(& buf___7), (size_t )1);
    }
  }
#line 2882
  if (nl___0) {
    {
#line 2883
    write_loop(SHTTY, "\n", (size_t )1);
    }
  }
#line 2885
  if (isem) {
#line 2886
    if (c != 10) {
      {
#line 2887
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2887
        d___0 = read1char(1);
        }
#line 2887
        if (d___0 >= 0) {
#line 2887
          if (! (d___0 != 10)) {
#line 2887
            goto while_break___0;
          }
        } else {
#line 2887
          goto while_break___0;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
    }
  } else
#line 2889
  if (c != 10) {
#line 2889
    if (! valid_chars) {
#line 2891
      if (opts[116]) {
#line 2891
        if (c >= 0) {
          {
#line 2898
          cc = (char )c;
#line 2899
          memset((void *)(& mbs), 0, sizeof(mbs));
          }
          {
#line 2900
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 2901
            tmp___3 = mbrlen((char const   */* __restrict  */)(& cc), (size_t )1,
                             (mbstate_t */* __restrict  */)(& mbs));
#line 2901
            ret = tmp___3;
            }
#line 2903
            if (ret != 0xfffffffffffffffeUL) {
#line 2904
              goto while_break___1;
            }
            {
#line 2905
            c = read1char(1);
            }
#line 2906
            if (c < 0) {
#line 2907
              goto while_break___1;
            }
#line 2908
            cc = (char )c;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
      }
      {
#line 2912
      write_loop(SHTTY, "\n", (size_t )1);
      }
    }
  }
  {
#line 2915
  settyinfo(& shttyinfo);
  }
#line 2916
  return (c);
}
}
#line 2919 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int d  ;
#line 2920 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char *guess  ;
#line 2920 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char *best  ;
#line 2921 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static Patprog spckpat  ;
#line 2921 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static Patprog spnamepat  ;
#line 2924 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static void spscan(HashNode hn , int scanflags  __attribute__((__unused__)) ) 
{ 
  int nd ;
  int tmp ;
  size_t tmp___0 ;

  {
#line 2929
  if (spckpat) {
    {
#line 2929
    tmp = pattry(spckpat, hn->nam);
    }
#line 2929
    if (tmp) {
#line 2930
      return;
    }
  }
  {
#line 2932
  tmp___0 = strlen((char const   *)guess);
#line 2932
  nd = spdist(hn->nam, guess, (int )tmp___0 / 4 + 1);
  }
#line 2933
  if (nd <= d) {
#line 2934
    best = hn->nam;
#line 2935
    d = nd;
  }
#line 2937
  return;
}
}
#line 2943 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void spckword(char **s , int hist , int cmd , int ask ) 
{ 
  char *t ;
  char *correct_ignore ;
  char ic ;
  int preflen ;
  int autocd ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  HashNode tmp___3 ;
  HashNode tmp___4 ;
  HashNode tmp___5 ;
  HashNode tmp___6 ;
  HashNode tmp___7 ;
  HashNode tmp___8 ;
  char *tmp___9 ;
  Cmdnam tmp___10 ;
  int ne ;
  size_t tmp___11 ;
  size_t tmp___12 ;
  char *tmp___13 ;
  int tmp___14 ;
  Cmdnam tmp___15 ;
  char **pp ;
  char bestcd[4097] ;
  int thisdist ;
  int x ;
  char *u ;
  int tmp___16 ;
  size_t tmp___17 ;
  void *tmp___18 ;
  size_t tmp___19 ;
  void *tmp___20 ;
  char tmp___21 ;
  char *pptbuf ;
  int tmp___22 ;
  size_t tmp___23 ;
  int tmp___24 ;
  void *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;

  {
#line 2947
  ic = (char )'\000';
#line 2948
  preflen = 0;
#line 2949
  if (cmd) {
#line 2949
    if (opts[6]) {
      {
#line 2949
      tmp = strcmp((char const   *)*s, ".");
      }
#line 2949
      if (tmp) {
        {
#line 2949
        tmp___0 = strcmp((char const   *)*s, "..");
        }
#line 2949
        if (tmp___0) {
#line 2949
          tmp___1 = 1;
        } else {
#line 2949
          tmp___1 = 0;
        }
      } else {
#line 2949
        tmp___1 = 0;
      }
    } else {
#line 2949
      tmp___1 = 0;
    }
  } else {
#line 2949
    tmp___1 = 0;
  }
#line 2949
  autocd = tmp___1;
#line 2951
  if (histdone & 2) {
#line 2952
    return;
  } else
#line 2951
  if ((int )*(*s) == 45) {
#line 2952
    return;
  } else
#line 2951
  if ((int )*(*s) == 37) {
#line 2952
    return;
  }
  {
#line 2953
  tmp___2 = strcmp((char const   *)*s, "in");
  }
#line 2953
  if (! tmp___2) {
#line 2954
    return;
  }
#line 2955
  if (! *(*s + 0)) {
#line 2956
    return;
  } else
#line 2955
  if (! *(*s + 1)) {
#line 2956
    return;
  }
#line 2957
  if (cmd) {
    {
#line 2958
    tmp___4 = (*(shfunctab->getnode))(shfunctab, (char const   *)*s);
    }
#line 2958
    if (tmp___4) {
#line 2963
      return;
    } else {
      {
#line 2958
      tmp___5 = (*(builtintab->getnode))(builtintab, (char const   *)*s);
      }
#line 2958
      if (tmp___5) {
#line 2963
        return;
      } else {
        {
#line 2958
        tmp___6 = (*(cmdnamtab->getnode))(cmdnamtab, (char const   *)*s);
        }
#line 2958
        if (tmp___6) {
#line 2963
          return;
        } else {
          {
#line 2958
          tmp___7 = (*(aliastab->getnode))(aliastab, (char const   *)*s);
          }
#line 2958
          if (tmp___7) {
#line 2963
            return;
          } else {
            {
#line 2958
            tmp___8 = (*(reswdtab->getnode))(reswdtab, (char const   *)*s);
            }
#line 2958
            if (tmp___8) {
#line 2963
              return;
            } else
#line 2964
            if (opts[69]) {
              {
#line 2965
              (*(cmdnamtab->filltable))(cmdnamtab);
#line 2966
              tmp___3 = (*(cmdnamtab->getnode))(cmdnamtab, (char const   *)*s);
              }
#line 2966
              if (tmp___3) {
#line 2967
                return;
              }
            }
          }
        }
      }
    }
  }
#line 2970
  t = *s;
#line 2971
  if ((int )*t == -104) {
#line 2972
    t ++;
  } else
#line 2971
  if ((int )*t == -115) {
#line 2972
    t ++;
  } else
#line 2971
  if ((int )*t == -123) {
#line 2972
    t ++;
  }
  {
#line 2973
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2973
    if (! *t) {
#line 2973
      goto while_break;
    }
#line 2974
    if ((int )typtab[(unsigned char )*t] & (1 << 4)) {
#line 2975
      return;
    }
#line 2973
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2976
  best = (char *)((void *)0);
#line 2977
  t = *s;
  {
#line 2977
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2977
    if (! *t) {
#line 2977
      goto while_break___0;
    }
#line 2978
    if ((int )*t == 47) {
#line 2979
      goto while_break___0;
    }
#line 2977
    t ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2980
  if ((int )*(*s) == -104) {
#line 2980
    if (! *t) {
#line 2981
      return;
    }
  }
  {
#line 2983
  correct_ignore = getsparam((char *)"CORRECT_IGNORE");
  }
#line 2983
  if ((unsigned long )correct_ignore != (unsigned long )((void *)0)) {
    {
#line 2984
    correct_ignore = dupstring((char const   *)correct_ignore);
#line 2984
    tokenize(correct_ignore);
#line 2985
    remnulargs(correct_ignore);
#line 2986
    spckpat = patcompile(correct_ignore, 0, (char **)((void *)0));
    }
  } else {
#line 2988
    spckpat = (Patprog )((void *)0);
  }
  {
#line 2990
  correct_ignore = getsparam((char *)"CORRECT_IGNORE_FILE");
  }
#line 2990
  if ((unsigned long )correct_ignore != (unsigned long )((void *)0)) {
    {
#line 2991
    correct_ignore = dupstring((char const   *)correct_ignore);
#line 2991
    tokenize(correct_ignore);
#line 2992
    remnulargs(correct_ignore);
#line 2993
    spnamepat = patcompile(correct_ignore, 0, (char **)((void *)0));
    }
  } else {
#line 2995
    spnamepat = (Patprog )((void *)0);
  }
#line 2997
  if ((int )*(*s) == -123) {
#line 2997
    if (! *t) {
      {
#line 2998
      guess = *s + 1;
#line 2999
      tmp___9 = itype_end((char const   *)guess, 1 << 7, 1);
      }
#line 2999
      if ((unsigned long )tmp___9 == (unsigned long )guess) {
#line 3000
        return;
      }
      {
#line 3001
      ic = (char)-123;
#line 3002
      d = 100;
#line 3003
      scanhashtable(paramtab, 1, 0, 0, & spscan, 0);
      }
    } else {
#line 2997
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 3004
  if ((int )*(*s) == -115) {
#line 3005
    if (*t) {
#line 3006
      return;
    }
    {
#line 3007
    guess = *s + 1;
#line 3007
    tmp___10 = hashcmd(guess, pathchecked);
    }
#line 3007
    if (tmp___10) {
#line 3008
      return;
    }
    {
#line 3009
    d = 100;
#line 3010
    ic = (char)-115;
#line 3011
    scanhashtable(aliastab, 1, 0, 0, & spscan, 0);
#line 3012
    scanhashtable(cmdnamtab, 1, 0, 0, & spscan, 0);
    }
  } else {
#line 3014
    guess = *s;
#line 3015
    if ((int )*guess == -104) {
#line 3015
      goto _L;
    } else
#line 3015
    if ((int )*guess == -123) {
      _L: /* CIL Label */ 
#line 3017
      ic = *guess;
#line 3018
      t ++;
#line 3018
      if (! *t) {
#line 3019
        return;
      }
      {
#line 3020
      guess = dupstring((char const   *)guess);
#line 3021
      ne = noerrs;
#line 3022
      noerrs = 2;
#line 3023
      singsub(& guess);
#line 3024
      noerrs = ne;
      }
#line 3025
      if (! guess) {
#line 3026
        return;
      }
      {
#line 3027
      tmp___11 = strlen((char const   *)guess);
#line 3027
      tmp___12 = strlen((char const   *)t);
#line 3027
      preflen = (int )(tmp___11 - tmp___12);
      }
    }
    {
#line 3029
    tmp___13 = unmeta((char const   *)guess);
#line 3029
    tmp___14 = access((char const   *)tmp___13, 0);
    }
#line 3029
    if (tmp___14 == 0) {
#line 3030
      return;
    }
    {
#line 3031
    best = spname(guess);
    }
#line 3032
    if (! *t) {
#line 3032
      if (cmd) {
        {
#line 3033
        tmp___15 = hashcmd(guess, pathchecked);
        }
#line 3033
        if (tmp___15) {
#line 3034
          return;
        }
        {
#line 3035
        d = 100;
#line 3036
        scanhashtable(reswdtab, 1, 0, 0, & spscan, 0);
#line 3037
        scanhashtable(aliastab, 1, 0, 0, & spscan, 0);
#line 3038
        scanhashtable(shfunctab, 1, 0, 0, & spscan, 0);
#line 3039
        scanhashtable(builtintab, 1, 0, 0, & spscan, 0);
#line 3040
        scanhashtable(cmdnamtab, 1, 0, 0, & spscan, 0);
        }
#line 3041
        if (autocd) {
#line 3043
          pp = cdpath;
          {
#line 3043
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 3043
            if (! *pp) {
#line 3043
              goto while_break___1;
            }
            {
#line 3050
            thisdist = mindist(*pp, *s, bestcd, 1);
            }
#line 3050
            if (thisdist < d) {
              {
#line 3051
              best = dupstring((char const   *)(bestcd));
#line 3052
              d = thisdist;
              }
            }
#line 3043
            pp ++;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
      }
    }
  }
#line 3058
  if (errflag) {
#line 3059
    return;
  }
#line 3060
  if (best) {
    {
#line 3060
    tmp___23 = strlen((char const   *)best);
    }
#line 3060
    if ((int )tmp___23 > 1) {
      {
#line 3060
      tmp___24 = strcmp((char const   *)best, (char const   *)guess);
      }
#line 3060
      if (tmp___24) {
#line 3062
        if (ic) {
#line 3064
          if (preflen) {
            {
#line 3066
            tmp___16 = strncmp((char const   *)guess, (char const   *)best, (size_t )preflen);
            }
#line 3066
            if (tmp___16) {
#line 3067
              return;
            }
            {
#line 3069
            tmp___17 = strlen((char const   *)(best + preflen));
#line 3069
            tmp___18 = zhalloc(((size_t )(t - *s) + tmp___17) + 1UL);
#line 3069
            u = (char *)tmp___18;
#line 3070
            strncpy((char */* __restrict  */)u, (char const   */* __restrict  */)*s,
                    (size_t )(t - *s));
#line 3071
            strcpy((char */* __restrict  */)(u + (t - *s)), (char const   */* __restrict  */)(best + preflen));
            }
          } else {
            {
#line 3073
            tmp___19 = strlen((char const   *)best);
#line 3073
            tmp___20 = zhalloc(tmp___19 + 2UL);
#line 3073
            u = (char *)tmp___20;
#line 3074
            *u = (char )'\000';
#line 3075
            strcpy((char */* __restrict  */)(u + 1), (char const   */* __restrict  */)best);
            }
          }
#line 3077
          best = u;
#line 3078
          guess = *s;
#line 3079
          tmp___21 = ztokens[(int )ic - -124];
#line 3079
          *best = tmp___21;
#line 3079
          *guess = tmp___21;
        }
#line 3081
        if (ask) {
          {
#line 3082
          tmp___22 = noquery(0);
          }
#line 3082
          if (tmp___22) {
#line 3083
            x = 'n';
          } else
#line 3084
          if (shout) {
            {
#line 3086
            pptbuf = promptexpand(sprompt, 0, best, guess, (unsigned int *)((void *)0));
#line 3087
            zputs((char const   *)pptbuf, shout);
#line 3088
            free((void *)pptbuf);
#line 3089
            fflush(shout);
#line 3090
            zbeep();
#line 3091
            x = getquery((char *)"nyae", 0);
            }
#line 3092
            if (cmd) {
#line 3092
              if (x == 110) {
#line 3093
                pathchecked = path;
              }
            }
          } else {
#line 3095
            x = 'n';
          }
        } else {
#line 3097
          x = 'y';
        }
#line 3098
        if (x == 121) {
          {
#line 3099
          *s = dupstring((char const   *)best);
          }
#line 3100
          if (hist) {
            {
#line 3101
            hwrep(best);
            }
          }
        } else
#line 3102
        if (x == 97) {
#line 3103
          histdone |= 2;
        } else
#line 3104
        if (x == 101) {
#line 3105
          histdone |= 6;
        }
#line 3107
        if (ic) {
#line 3108
          *(*s) = ic;
        }
      }
    }
  }
#line 3110
  return;
}
}
#line 3119 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int ztrftimebuf(int *bufsizeptr , int decr ) 
{ 


  {
#line 3122
  if (*bufsizeptr <= decr) {
#line 3123
    return (1);
  }
#line 3124
  *bufsizeptr -= decr;
#line 3125
  return (0);
}
}
#line 3144 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int ztrftime(char *buf___7 , int bufsize , char *fmt , struct tm *tm , long usec ) 
{ 
  int hr12 ;
  int decr ;
  char *fmtstart ;
  char *origbuf ;
  int chr ;
  int tmp ;
  char *tmp___0 ;
  int strip ;
  int digs ;
  char *tmp___1 ;
  char *dstart ;
  char *dend ;
  int tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  int tmp___5 ;
  int trunc ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  char *tmp___18 ;
  char *tmp___19 ;
  char *tmp___20 ;
  char *tmp___21 ;
  char *tmp___22 ;
  char *tmp___23 ;
  char *tmp___24 ;
  char *tmp___25 ;
  char *tmp___26 ;
  char origchar ;
  int size ;
  char *tmp___27 ;
  char *last ;
  void *tmp___28 ;
  size_t tmp___29 ;
  size_t tmp___30 ;
  int tmp___31 ;
  char *tmp___32 ;
  char *tmp___33 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;

  {
#line 3158
  origbuf = buf___7;
  {
#line 3161
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3161
    if (! *fmt) {
#line 3161
      goto while_break;
    }
#line 3162
    if ((int )*fmt == -125) {
      {
#line 3163
      chr = (int )*(fmt + 1) ^ 32;
#line 3164
      tmp = ztrftimebuf(& bufsize, 1);
      }
#line 3164
      if (tmp) {
#line 3165
        return (-1);
      }
#line 3166
      tmp___0 = buf___7;
#line 3166
      buf___7 ++;
#line 3166
      *tmp___0 = (char )chr;
#line 3167
      fmt += 2;
    } else
#line 3168
    if ((int )*fmt == 37) {
#line 3170
      digs = 3;
#line 3173
      tmp___1 = fmt;
#line 3173
      fmt ++;
#line 3173
      fmtstart = tmp___1;
#line 3177
      if ((int )*fmt == 45) {
#line 3178
        strip = 1;
#line 3179
        fmt ++;
      } else {
#line 3181
        strip = 0;
      }
#line 3182
      if ((int )typtab[(unsigned char )*fmt] & 1) {
#line 3184
        dstart = fmt;
#line 3185
        dend = fmt + 1;
        {
#line 3186
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 3186
          if (! ((int )typtab[(unsigned char )*dend] & 1)) {
#line 3186
            goto while_break___0;
          }
#line 3187
          dend ++;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 3188
        if ((int )*dend == 46) {
          {
#line 3189
          fmt = dend;
#line 3190
          digs = atoi((char const   *)dstart);
          }
        }
      }
      {
#line 3199
      tmp___2 = ztrftimebuf(& bufsize, 2);
      }
#line 3199
      if (tmp___2) {
#line 3200
        return (-1);
      }
      morefmt: 
#line 3207
      if (! (fmt - fmtstart == 1L)) {
#line 3207
        if (fmt - fmtstart == 2L) {
#line 3207
          if (! strip) {
#line 3207
            goto _L;
          }
        } else
        _L: /* CIL Label */ 
#line 3207
        if (! ((int )*fmt == 46)) {
          {
#line 3208
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 3208
            if (*fmt) {
              {
#line 3208
              tmp___3 = strchr("OE^#_-0123456789", (int )*fmt);
              }
#line 3208
              if (! tmp___3) {
#line 3208
                goto while_break___1;
              }
            } else {
#line 3208
              goto while_break___1;
            }
#line 3209
            fmt ++;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 3210
          if (*fmt) {
#line 3211
            fmt ++;
#line 3212
            goto strftimehandling;
          }
        }
      }
#line 3216
      tmp___4 = fmt;
#line 3216
      fmt ++;
      {
#line 3217
      if ((int )*tmp___4 == 46) {
#line 3217
        goto case_46;
      }
#line 3231
      if ((int )*tmp___4 == 0) {
#line 3231
        goto case_0;
      }
#line 3236
      if ((int )*tmp___4 == 102) {
#line 3236
        goto case_102;
      }
#line 3239
      if ((int )*tmp___4 == 101) {
#line 3239
        goto case_101;
      }
#line 3246
      if ((int )*tmp___4 == 75) {
#line 3246
        goto case_75;
      }
#line 3250
      if ((int )*tmp___4 == 107) {
#line 3250
        goto case_107;
      }
#line 3250
      if ((int )*tmp___4 == 72) {
#line 3250
        goto case_107;
      }
#line 3261
      if ((int )*tmp___4 == 76) {
#line 3261
        goto case_76;
      }
#line 3264
      if ((int )*tmp___4 == 108) {
#line 3264
        goto case_108;
      }
#line 3275
      if ((int )*tmp___4 == 100) {
#line 3275
        goto case_100;
      }
#line 3280
      if ((int )*tmp___4 == 109) {
#line 3280
        goto case_109;
      }
#line 3285
      if ((int )*tmp___4 == 77) {
#line 3285
        goto case_77;
      }
#line 3290
      if ((int )*tmp___4 == 83) {
#line 3290
        goto case_83;
      }
#line 3295
      if ((int )*tmp___4 == 121) {
#line 3295
        goto case_121;
      }
#line 3343
      if ((int )*tmp___4 == 57) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 56) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 55) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 54) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 53) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 52) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 51) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 50) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 49) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 48) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 45) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 95) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 35) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 94) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 79) {
#line 3343
        goto case_57;
      }
#line 3343
      if ((int )*tmp___4 == 69) {
#line 3343
        goto case_57;
      }
#line 3346
      goto strftimehandling;
      case_46: /* CIL Label */ 
      {
#line 3218
      tmp___5 = ztrftimebuf(& bufsize, digs);
      }
#line 3218
      if (tmp___5) {
#line 3219
        return (-1);
      }
#line 3220
      if (digs > 6) {
#line 3221
        digs = 6;
      }
#line 3222
      if (digs < 6) {
#line 3224
        trunc = 5 - digs;
        {
#line 3224
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 3224
          if (! trunc) {
#line 3224
            goto while_break___2;
          }
#line 3225
          usec /= 10L;
#line 3224
          trunc --;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 3226
        usec = (usec + 5L) / 10L;
      }
      {
#line 3228
      sprintf((char */* __restrict  */)buf___7, (char const   */* __restrict  */)"%0*ld",
              digs, usec);
#line 3229
      buf___7 += digs;
      }
#line 3230
      goto switch_break;
      case_0: /* CIL Label */ 
#line 3233
      tmp___6 = buf___7;
#line 3233
      buf___7 ++;
#line 3233
      *tmp___6 = (char )'%';
#line 3234
      fmt --;
#line 3235
      goto switch_break;
      case_102: /* CIL Label */ 
#line 3237
      strip = 1;
      case_101: /* CIL Label */ 
#line 3240
      if (tm->tm_mday > 9) {
#line 3241
        tmp___7 = buf___7;
#line 3241
        buf___7 ++;
#line 3241
        *tmp___7 = (char )(48 + tm->tm_mday / 10);
      } else
#line 3242
      if (! strip) {
#line 3243
        tmp___8 = buf___7;
#line 3243
        buf___7 ++;
#line 3243
        *tmp___8 = (char )' ';
      }
#line 3244
      tmp___9 = buf___7;
#line 3244
      buf___7 ++;
#line 3244
      *tmp___9 = (char )(48 + tm->tm_mday % 10);
#line 3245
      goto switch_break;
      case_75: /* CIL Label */ 
#line 3247
      strip = 1;
      case_107: /* CIL Label */ 
      case_72: /* CIL Label */ 
#line 3251
      if (tm->tm_hour > 9) {
#line 3252
        tmp___10 = buf___7;
#line 3252
        buf___7 ++;
#line 3252
        *tmp___10 = (char )(48 + tm->tm_hour / 10);
      } else
#line 3253
      if (! strip) {
#line 3254
        if ((int )*(fmt + -1) == 72) {
#line 3255
          tmp___11 = buf___7;
#line 3255
          buf___7 ++;
#line 3255
          *tmp___11 = (char )'0';
        } else {
#line 3257
          tmp___12 = buf___7;
#line 3257
          buf___7 ++;
#line 3257
          *tmp___12 = (char )' ';
        }
      }
#line 3259
      tmp___13 = buf___7;
#line 3259
      buf___7 ++;
#line 3259
      *tmp___13 = (char )(48 + tm->tm_hour % 10);
#line 3260
      goto switch_break;
      case_76: /* CIL Label */ 
#line 3262
      strip = 1;
      case_108: /* CIL Label */ 
#line 3265
      hr12 = tm->tm_hour % 12;
#line 3266
      if (hr12 == 0) {
#line 3267
        hr12 = 12;
      }
#line 3268
      if (hr12 > 9) {
#line 3269
        tmp___14 = buf___7;
#line 3269
        buf___7 ++;
#line 3269
        *tmp___14 = (char )'1';
      } else
#line 3270
      if (! strip) {
#line 3271
        tmp___15 = buf___7;
#line 3271
        buf___7 ++;
#line 3271
        *tmp___15 = (char )' ';
      }
#line 3273
      tmp___16 = buf___7;
#line 3273
      buf___7 ++;
#line 3273
      *tmp___16 = (char )(48 + hr12 % 10);
#line 3274
      goto switch_break;
      case_100: /* CIL Label */ 
#line 3276
      if (tm->tm_mday > 9) {
#line 3277
        tmp___17 = buf___7;
#line 3277
        buf___7 ++;
#line 3277
        *tmp___17 = (char )(48 + tm->tm_mday / 10);
      } else
#line 3276
      if (! strip) {
#line 3277
        tmp___17 = buf___7;
#line 3277
        buf___7 ++;
#line 3277
        *tmp___17 = (char )(48 + tm->tm_mday / 10);
      }
#line 3278
      tmp___18 = buf___7;
#line 3278
      buf___7 ++;
#line 3278
      *tmp___18 = (char )(48 + tm->tm_mday % 10);
#line 3279
      goto switch_break;
      case_109: /* CIL Label */ 
#line 3281
      if (tm->tm_mon > 8) {
#line 3282
        tmp___19 = buf___7;
#line 3282
        buf___7 ++;
#line 3282
        *tmp___19 = (char )(48 + (tm->tm_mon + 1) / 10);
      } else
#line 3281
      if (! strip) {
#line 3282
        tmp___19 = buf___7;
#line 3282
        buf___7 ++;
#line 3282
        *tmp___19 = (char )(48 + (tm->tm_mon + 1) / 10);
      }
#line 3283
      tmp___20 = buf___7;
#line 3283
      buf___7 ++;
#line 3283
      *tmp___20 = (char )(48 + (tm->tm_mon + 1) % 10);
#line 3284
      goto switch_break;
      case_77: /* CIL Label */ 
#line 3286
      if (tm->tm_min > 9) {
#line 3287
        tmp___21 = buf___7;
#line 3287
        buf___7 ++;
#line 3287
        *tmp___21 = (char )(48 + tm->tm_min / 10);
      } else
#line 3286
      if (! strip) {
#line 3287
        tmp___21 = buf___7;
#line 3287
        buf___7 ++;
#line 3287
        *tmp___21 = (char )(48 + tm->tm_min / 10);
      }
#line 3288
      tmp___22 = buf___7;
#line 3288
      buf___7 ++;
#line 3288
      *tmp___22 = (char )(48 + tm->tm_min % 10);
#line 3289
      goto switch_break;
      case_83: /* CIL Label */ 
#line 3291
      if (tm->tm_sec > 9) {
#line 3292
        tmp___23 = buf___7;
#line 3292
        buf___7 ++;
#line 3292
        *tmp___23 = (char )(48 + tm->tm_sec / 10);
      } else
#line 3291
      if (! strip) {
#line 3292
        tmp___23 = buf___7;
#line 3292
        buf___7 ++;
#line 3292
        *tmp___23 = (char )(48 + tm->tm_sec / 10);
      }
#line 3293
      tmp___24 = buf___7;
#line 3293
      buf___7 ++;
#line 3293
      *tmp___24 = (char )(48 + tm->tm_sec % 10);
#line 3294
      goto switch_break;
      case_121: /* CIL Label */ 
#line 3296
      if (tm->tm_year > 9) {
#line 3297
        tmp___25 = buf___7;
#line 3297
        buf___7 ++;
#line 3297
        *tmp___25 = (char )(48 + (tm->tm_year / 10) % 10);
      } else
#line 3296
      if (! strip) {
#line 3297
        tmp___25 = buf___7;
#line 3297
        buf___7 ++;
#line 3297
        *tmp___25 = (char )(48 + (tm->tm_year / 10) % 10);
      }
#line 3298
      tmp___26 = buf___7;
#line 3298
      buf___7 ++;
#line 3298
      *tmp___26 = (char )(48 + tm->tm_year % 10);
#line 3299
      goto switch_break;
      case_57: /* CIL Label */ 
      case_56: /* CIL Label */ 
      case_55: /* CIL Label */ 
      case_54: /* CIL Label */ 
      case_53: /* CIL Label */ 
      case_52: /* CIL Label */ 
      case_51: /* CIL Label */ 
      case_50: /* CIL Label */ 
      case_49: /* CIL Label */ 
      case_48: /* CIL Label */ 
      case_45: /* CIL Label */ 
      case_95: /* CIL Label */ 
      case_35: /* CIL Label */ 
      case_94: /* CIL Label */ 
      case_79: /* CIL Label */ 
      case_69: /* CIL Label */ 
#line 3344
      goto morefmt;
      strftimehandling: 
      switch_default: /* CIL Label */ 
      {
#line 3352
      origchar = *(fmt + -1);
#line 3353
      size = (int )(fmt - fmtstart);
#line 3355
      tmp___28 = zhalloc((size_t )(size + 1));
#line 3355
      tmp___27 = (char *)tmp___28;
#line 3356
      strncpy((char */* __restrict  */)tmp___27, (char const   */* __restrict  */)fmtstart,
              (size_t )size);
#line 3357
      last = fmt - 1;
      }
#line 3358
      if ((int )*last == -125) {
#line 3367
        fmt ++;
#line 3367
        *last = (char )((int )*fmt ^ 32);
      }
      {
#line 3369
      *(tmp___27 + size) = (char )'\000';
#line 3370
      *buf___7 = (char )'\001';
#line 3371
      tmp___29 = strftime((char */* __restrict  */)buf___7, (size_t )(bufsize + 2),
                          (char const   */* __restrict  */)tmp___27, (struct tm  const  */* __restrict  */)tm);
      }
#line 3371
      if (! tmp___29) {
#line 3377
        if (*buf___7) {
#line 3377
          goto _L___0;
        } else
#line 3377
        if ((int )origchar != 112) {
#line 3377
          if ((int )origchar != 80) {
            _L___0: /* CIL Label */ 
#line 3378
            if (*buf___7) {
#line 3379
              *(buf___7 + 0) = (char )'\000';
#line 3380
              return (-1);
            }
#line 3382
            return (0);
          }
        }
      }
      {
#line 3385
      tmp___30 = strlen((char const   *)buf___7);
#line 3385
      decr = (int )tmp___30;
#line 3386
      buf___7 += decr;
#line 3387
      bufsize -= decr - 2;
      }
#line 3390
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    } else {
      {
#line 3393
      tmp___31 = ztrftimebuf(& bufsize, 1);
      }
#line 3393
      if (tmp___31) {
#line 3394
        return (-1);
      }
#line 3395
      tmp___32 = buf___7;
#line 3395
      buf___7 ++;
#line 3395
      tmp___33 = fmt;
#line 3395
      fmt ++;
#line 3395
      *tmp___32 = *tmp___33;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3398
  *buf___7 = (char )'\000';
#line 3399
  return ((int )(buf___7 - origbuf));
}
}
#line 3403 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *zjoin(char **arr , int delim , int heap ) 
{ 
  int len ;
  char **s ;
  char *ret ;
  char *ptr___0 ;
  size_t tmp ;
  int tmp___0 ;
  char *tmp___1 ;
  char const   *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  int tmp___9 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;

  {
#line 3406
  len = 0;
#line 3409
  s = arr;
  {
#line 3409
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3409
    if (! *s) {
#line 3409
      goto while_break;
    }
    {
#line 3410
    tmp = strlen((char const   *)*s);
    }
#line 3410
    if ((int )typtab[(unsigned char )delim] & (1 << 12)) {
#line 3410
      tmp___0 = 1;
    } else {
#line 3410
      tmp___0 = 0;
    }
#line 3410
    len = (int )((size_t )len + ((tmp + 1UL) + (size_t )tmp___0));
#line 3409
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3411
  if (! len) {
#line 3412
    if (heap) {
#line 3412
      tmp___2 = "";
    } else {
      {
#line 3412
      tmp___1 = ztrdup("");
#line 3412
      tmp___2 = (char const   *)tmp___1;
      }
    }
#line 3412
    return ((char *)tmp___2);
  }
#line 3413
  if (heap) {
    {
#line 3413
    tmp___3 = zhalloc((size_t )len);
#line 3413
    tmp___5 = tmp___3;
    }
  } else {
    {
#line 3413
    tmp___4 = zalloc((size_t )len);
#line 3413
    tmp___5 = tmp___4;
    }
  }
#line 3413
  ret = (char *)tmp___5;
#line 3413
  ptr___0 = ret;
#line 3414
  s = arr;
  {
#line 3414
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3414
    if (! *s) {
#line 3414
      goto while_break___0;
    }
    {
#line 3415
    strucpy(& ptr___0, *s);
    }
#line 3416
    if ((int )typtab[(unsigned char )delim] & (1 << 12)) {
#line 3417
      tmp___6 = ptr___0;
#line 3417
      ptr___0 ++;
#line 3417
      *tmp___6 = (char)-125;
#line 3418
      tmp___7 = ptr___0;
#line 3418
      ptr___0 ++;
#line 3418
      *tmp___7 = (char )(delim ^ 32);
    } else {
#line 3421
      tmp___8 = ptr___0;
#line 3421
      ptr___0 ++;
#line 3421
      *tmp___8 = (char )delim;
    }
#line 3414
    s ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 3423
  if ((int )typtab[(unsigned char )delim] & (1 << 12)) {
#line 3423
    tmp___9 = 1;
  } else {
#line 3423
    tmp___9 = 0;
  }
#line 3423
  *(ptr___0 + (-1 - tmp___9)) = (char )'\000';
#line 3424
  return (ret);
}
}
#line 3431 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **colonsplit(char *s , int uniq ) 
{ 
  int ct ;
  char *t ;
  char **ret ;
  char **ptr___0 ;
  char **p ;
  void *tmp ;
  size_t tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;
  char **tmp___3 ;
  char *tmp___4 ;

  {
#line 3437
  t = s;
#line 3437
  ct = 0;
  {
#line 3437
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3437
    if (! *t) {
#line 3437
      goto while_break;
    }
#line 3438
    if ((int )*t == 58) {
#line 3439
      ct ++;
    }
#line 3437
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3440
  tmp = zalloc(sizeof(char *) * (unsigned long )(ct + 2));
#line 3440
  ret = (char **)tmp;
#line 3440
  ptr___0 = ret;
#line 3442
  t = s;
  }
  {
#line 3443
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3444
    s = t;
    {
#line 3446
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 3446
      if (*t) {
#line 3446
        if (! ((int )*t != 58)) {
#line 3446
          goto while_break___1;
        }
      } else {
#line 3446
        goto while_break___1;
      }
#line 3446
      t ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 3447
    if (uniq) {
#line 3448
      p = ret;
      {
#line 3448
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 3448
        if (! ((unsigned long )p < (unsigned long )ptr___0)) {
#line 3448
          goto while_break___2;
        }
        {
#line 3449
        tmp___0 = strlen((char const   *)*p);
        }
#line 3449
        if ((long )((int )tmp___0) == t - s) {
          {
#line 3449
          tmp___1 = strncmp((char const   *)*p, (char const   *)s, (size_t )(t - s));
          }
#line 3449
          if (! tmp___1) {
#line 3450
            goto cont;
          }
        }
#line 3448
        p ++;
      }
      while_break___2: /* CIL Label */ ;
      }
    }
    {
#line 3451
    tmp___2 = zalloc((size_t )((t - s) + 1L));
#line 3451
    *ptr___0 = (char *)tmp___2;
#line 3452
    tmp___3 = ptr___0;
#line 3452
    ptr___0 ++;
#line 3452
    ztrncpy(*tmp___3, s, (int )(t - s));
    }
    cont: 
#line 3443
    tmp___4 = t;
#line 3443
    t ++;
#line 3443
    if (! *tmp___4) {
#line 3443
      goto while_break___0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 3456
  *ptr___0 = (char *)((void *)0);
#line 3457
  return (ret);
}
}
#line 3461 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int skipwsep(char **s ) 
{ 
  char *t ;
  int i ;
  int tmp ;

  {
#line 3464
  t = *s;
#line 3465
  i = 0;
  {
#line 3471
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3471
    if (*t) {
#line 3471
      if ((int )*t == -125) {
#line 3471
        tmp = (int )*(t + 1) ^ 32;
      } else {
#line 3471
        tmp = (int )*t;
      }
#line 3471
      if (! ((int )typtab[(unsigned char )tmp] & (1 << 13))) {
#line 3471
        goto while_break;
      }
    } else {
#line 3471
      goto while_break;
    }
#line 3472
    if ((int )*t == -125) {
#line 3473
      t ++;
    }
#line 3474
    t ++;
#line 3475
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3477
  *s = t;
#line 3478
  return (i);
}
}
#line 3492 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **spacesplit(char *s , int allownull , int heap , int quote___0 ) 
{ 
  char *t ;
  char **ret ;
  char **ptr___0 ;
  int l ;
  int tmp ;
  char *(*dup___0)(char const   * ) ;
  char *(*tmp___0)(char const   *s ) ;
  void *tmp___1 ;
  void *tmp___2 ;
  void *tmp___3 ;
  char **tmp___4 ;
  char const   *tmp___5 ;
  char **tmp___6 ;
  char *tmp___7 ;
  char *iend ;
  char *tmp___8 ;
  void *tmp___9 ;
  void *tmp___10 ;
  void *tmp___11 ;
  char **tmp___12 ;
  char **tmp___13 ;
  char **tmp___14 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;

  {
  {
#line 3496
  tmp = wordcount(s, (char *)((void *)0), - (! allownull));
#line 3496
  l = (int )(sizeof(*ret) * (unsigned long )(tmp + 1));
  }
#line 3497
  if (heap) {
#line 3497
    tmp___0 = & dupstring;
  } else {
#line 3497
    tmp___0 = & ztrdup;
  }
#line 3497
  dup___0 = tmp___0;
#line 3500
  if (heap) {
    {
#line 3500
    tmp___1 = hcalloc((size_t )l);
#line 3500
    tmp___3 = tmp___1;
    }
  } else {
    {
#line 3500
    tmp___2 = zshcalloc((size_t )l);
#line 3500
    tmp___3 = tmp___2;
    }
  }
#line 3500
  ret = (char **)tmp___3;
#line 3500
  ptr___0 = ret;
#line 3502
  if (quote___0) {
    {
#line 3507
    s = dupstring((char const   *)s);
    }
  }
  {
#line 3510
  t = s;
#line 3511
  skipwsep(& s);
#line 3512
  mb_charinit();
  }
#line 3513
  if (*s) {
    {
#line 3513
    tmp___7 = itype_end((char const   *)s, 1 << 5, 1);
    }
#line 3513
    if ((unsigned long )tmp___7 != (unsigned long )s) {
#line 3514
      tmp___4 = ptr___0;
#line 3514
      ptr___0 ++;
#line 3514
      if (allownull) {
#line 3514
        tmp___5 = "";
      } else {
#line 3514
        tmp___5 = (char const   *)(nulstring);
      }
      {
#line 3514
      *tmp___4 = (*dup___0)(tmp___5);
      }
    } else {
#line 3513
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 3515
  if (! allownull) {
#line 3515
    if ((unsigned long )t != (unsigned long )s) {
      {
#line 3516
      tmp___6 = ptr___0;
#line 3516
      ptr___0 ++;
#line 3516
      *tmp___6 = (*dup___0)("");
      }
    }
  }
  {
#line 3517
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3517
    if (! *s) {
#line 3517
      goto while_break;
    }
    {
#line 3518
    tmp___8 = itype_end((char const   *)s, 1 << 5, 1);
#line 3518
    iend = tmp___8;
    }
#line 3519
    if ((unsigned long )iend != (unsigned long )s) {
      {
#line 3520
      s = iend;
#line 3521
      skipwsep(& s);
      }
    } else
#line 3523
    if (quote___0) {
#line 3523
      if ((int )*s == 92) {
        {
#line 3524
        s ++;
#line 3525
        skipwsep(& s);
        }
      }
    }
    {
#line 3527
    t = s;
#line 3528
    findsep(& s, (char *)((void *)0), quote___0);
    }
#line 3529
    if ((unsigned long )s > (unsigned long )t) {
#line 3529
      goto _L___0;
    } else
#line 3529
    if (allownull) {
      _L___0: /* CIL Label */ 
#line 3530
      if (heap) {
        {
#line 3530
        tmp___9 = zhalloc((size_t )((s - t) + 1L));
#line 3530
        tmp___11 = tmp___9;
        }
      } else {
        {
#line 3530
        tmp___10 = zalloc((size_t )((s - t) + 1L));
#line 3530
        tmp___11 = tmp___10;
        }
      }
      {
#line 3530
      *ptr___0 = (char *)tmp___11;
#line 3532
      tmp___12 = ptr___0;
#line 3532
      ptr___0 ++;
#line 3532
      ztrncpy(*tmp___12, t, (int )(s - t));
      }
    } else {
      {
#line 3534
      tmp___13 = ptr___0;
#line 3534
      ptr___0 ++;
#line 3534
      *tmp___13 = (*dup___0)((char const   *)(nulstring));
      }
    }
    {
#line 3535
    t = s;
#line 3536
    skipwsep(& s);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3538
  if (! allownull) {
#line 3538
    if ((unsigned long )t != (unsigned long )s) {
      {
#line 3539
      tmp___14 = ptr___0;
#line 3539
      ptr___0 ++;
#line 3539
      *tmp___14 = (*dup___0)("");
      }
    }
  }
#line 3540
  *ptr___0 = (char *)((void *)0);
#line 3541
  return (ret);
}
}
#line 3565 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int findsep(char **s , char *sep , int quote___0 ) 
{ 
  int i ;
  int ilen ;
  char *t ;
  char *tt ;
  convchar_t c ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 3574
  mb_charinit();
  }
#line 3575
  if (! sep) {
#line 3576
    t = *s;
    {
#line 3576
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3576
      if (! *t) {
#line 3576
        goto while_break;
      }
#line 3577
      if (quote___0) {
#line 3577
        if ((int )*t == 92) {
#line 3578
          if ((int )*(t + 1) == 92) {
            {
#line 3579
            chuck(t);
#line 3580
            ilen = 1;
            }
#line 3581
            goto __Cont;
          } else {
            {
#line 3583
            ilen = mb_metacharlenconv((char const   *)(t + 1), & c);
#line 3584
            tmp = wcsitype((wchar_t )c, 1 << 5);
            }
#line 3584
            if (tmp) {
              {
#line 3585
              chuck(t);
              }
            } else {
#line 3589
              if ((int )typtab[(unsigned char )*t] & (1 << 5)) {
#line 3590
                goto while_break;
              }
#line 3591
              ilen = 1;
            }
          }
        } else {
#line 3577
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
        {
#line 3595
        ilen = mb_metacharlenconv((char const   *)t, & c);
#line 3596
        tmp___0 = wcsitype((wchar_t )c, 1 << 5);
        }
#line 3596
        if (tmp___0) {
#line 3597
          goto while_break;
        }
      }
      __Cont: /* CIL Label */ 
#line 3576
      t += ilen;
    }
    while_break: /* CIL Label */ ;
    }
#line 3600
    i = (unsigned long )t > (unsigned long )*s;
#line 3601
    *s = t;
#line 3602
    return (i);
  }
#line 3604
  if (! *(sep + 0)) {
#line 3609
    if (*(*s)) {
      {
#line 3610
      tmp___1 = mb_metacharlenconv((char const   *)*s, (wint_t *)((void *)0));
#line 3610
      *s += tmp___1;
      }
#line 3611
      return (1);
    }
#line 3613
    return (-1);
  }
#line 3615
  i = 0;
  {
#line 3615
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3615
    if (! *(*s)) {
#line 3615
      goto while_break___0;
    }
#line 3621
    t = sep;
#line 3621
    tt = *s;
    {
#line 3621
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 3621
      if (*t) {
#line 3621
        if (*tt) {
#line 3621
          if (! ((int )*t == (int )*tt)) {
#line 3621
            goto while_break___1;
          }
        } else {
#line 3621
          goto while_break___1;
        }
      } else {
#line 3621
        goto while_break___1;
      }
#line 3621
      t ++;
#line 3621
      tt ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 3622
    if (! *t) {
#line 3623
      return (i > 0);
    }
    {
#line 3624
    tmp___2 = mb_metacharlenconv((char const   *)*s, (wint_t *)((void *)0));
#line 3624
    *s += tmp___2;
#line 3615
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 3626
  return (-1);
}
}
#line 3630 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *findword(char **s , char *sep ) 
{ 
  char *r ;
  char *t ;
  int sl ;
  size_t tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  convchar_t c ;
  int tmp___2 ;

  {
#line 3636
  if (! *(*s)) {
#line 3637
    return ((char *)((void *)0));
  }
#line 3639
  if (sep) {
    {
#line 3640
    tmp = strlen((char const   *)sep);
#line 3640
    sl = (int )tmp;
#line 3641
    r = *s;
    }
    {
#line 3642
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 3642
      tmp___1 = findsep(s, sep, 0);
      }
#line 3642
      if (tmp___1) {
#line 3642
        goto while_break;
      }
#line 3643
      tmp___0 = *s + sl;
#line 3643
      *s = tmp___0;
#line 3643
      r = tmp___0;
    }
    while_break: /* CIL Label */ ;
    }
#line 3645
    return (r);
  }
  {
#line 3647
  mb_charinit();
#line 3648
  t = *s;
  }
  {
#line 3648
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3648
    if (! *t) {
#line 3648
      goto while_break___0;
    }
    {
#line 3650
    sl = mb_metacharlenconv((char const   *)t, & c);
#line 3651
    tmp___2 = wcsitype((wchar_t )c, 1 << 5);
    }
#line 3651
    if (! tmp___2) {
#line 3652
      goto while_break___0;
    }
#line 3648
    t += sl;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 3654
  *s = t;
#line 3655
  findsep(s, sep, 0);
  }
#line 3656
  return (t);
}
}
#line 3660 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int wordcount(char *s , char *sep , int mul ) 
{ 
  int r ;
  int sl ;
  int c ;
  size_t tmp ;
  char *t ;
  char *tmp___0 ;
  char *ie ;
  char *tmp___1 ;

  {
#line 3665
  if (sep) {
    {
#line 3666
    r = 1;
#line 3667
    tmp = strlen((char const   *)sep);
#line 3667
    sl = (int )tmp;
    }
    {
#line 3668
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 3668
      c = findsep(& s, sep, 0);
      }
#line 3668
      if (! (c >= 0)) {
#line 3668
        goto while_break;
      }
#line 3669
      if (c) {
#line 3669
        goto _L;
      } else
#line 3669
      if (mul) {
        _L: /* CIL Label */ 
#line 3669
        if (sl) {
#line 3670
          r ++;
        } else
#line 3669
        if (*(s + sl)) {
#line 3670
          r ++;
        }
      }
#line 3668
      s += sl;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 3672
    t = s;
#line 3674
    r = 0;
#line 3675
    if (mul <= 0) {
      {
#line 3676
      skipwsep(& s);
      }
    }
#line 3677
    if (*s) {
      {
#line 3677
      tmp___0 = itype_end((char const   *)s, 1 << 5, 1);
      }
#line 3677
      if ((unsigned long )tmp___0 != (unsigned long )s) {
#line 3679
        r ++;
      } else {
#line 3677
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 3677
    if (mul < 0) {
#line 3677
      if ((unsigned long )t != (unsigned long )s) {
#line 3679
        r ++;
      }
    }
    {
#line 3680
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 3680
      if (! *s) {
#line 3680
        goto while_break___0;
      }
      {
#line 3681
      tmp___1 = itype_end((char const   *)s, 1 << 5, 1);
#line 3681
      ie = tmp___1;
      }
#line 3682
      if ((unsigned long )ie != (unsigned long )s) {
#line 3683
        s = ie;
#line 3684
        if (mul <= 0) {
          {
#line 3685
          skipwsep(& s);
          }
        }
      }
      {
#line 3687
      findsep(& s, (char *)((void *)0), 0);
#line 3688
      t = s;
      }
#line 3689
      if (mul <= 0) {
        {
#line 3690
        skipwsep(& s);
        }
      }
#line 3680
      r ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 3692
    if (mul < 0) {
#line 3692
      if ((unsigned long )t != (unsigned long )s) {
#line 3693
        r ++;
      }
    }
  }
#line 3695
  return (r);
}
}
#line 3699 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *sepjoin(char **s , char *sep , int heap ) 
{ 
  char *r ;
  char *p ;
  char **t ;
  int l ;
  int sl ;
  char sepbuf[2] ;
  char *tmp ;
  char const   *tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  size_t tmp___3 ;
  size_t tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;
  void *tmp___7 ;
  void *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;

  {
#line 3706
  if (! *s) {
#line 3707
    if (heap) {
#line 3707
      tmp___0 = "";
    } else {
      {
#line 3707
      tmp = ztrdup("");
#line 3707
      tmp___0 = (char const   *)tmp;
      }
    }
#line 3707
    return ((char *)tmp___0);
  }
#line 3708
  if (! sep) {
#line 3710
    if (ifs) {
#line 3710
      if ((int )*ifs != 32) {
        {
#line 3711
        mb_charinit();
#line 3712
        tmp___1 = mb_metacharlenconv((char const   *)ifs, (wint_t *)((void *)0));
#line 3712
        sep = dupstrpfx((char const   *)ifs, tmp___1);
        }
      } else {
#line 3710
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
#line 3714
      sep = sepbuf;
#line 3714
      p = sep;
#line 3715
      tmp___2 = p;
#line 3715
      p ++;
#line 3715
      *tmp___2 = (char )' ';
#line 3716
      *p = (char )'\000';
    }
  }
  {
#line 3719
  tmp___3 = strlen((char const   *)sep);
#line 3719
  sl = (int )tmp___3;
#line 3720
  t = s;
#line 3720
  l = 1 - sl;
  }
  {
#line 3720
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3720
    if (! *t) {
#line 3720
      goto while_break;
    }
    {
#line 3720
    tmp___4 = strlen((char const   *)*t);
#line 3720
    l = (int )((size_t )l + (tmp___4 + (size_t )sl));
#line 3720
    t ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3721
  if (heap) {
    {
#line 3721
    tmp___5 = zhalloc((size_t )l);
#line 3721
    tmp___7 = tmp___5;
    }
  } else {
    {
#line 3721
    tmp___6 = zalloc((size_t )l);
#line 3721
    tmp___7 = tmp___6;
    }
  }
#line 3721
  p = (char *)tmp___7;
#line 3721
  r = p;
#line 3722
  t = s;
  {
#line 3723
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3723
    if (! *t) {
#line 3723
      goto while_break___0;
    }
    {
#line 3724
    strucpy(& p, *t);
#line 3725
    t ++;
    }
#line 3725
    if (*t) {
      {
#line 3726
      strucpy(& p, sep);
      }
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 3728
  *p = (char )'\000';
#line 3729
  return (r);
}
}
#line 3733 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **sepsplit(char *s , char *sep , int allownull , int heap ) 
{ 
  int n ;
  int sl ;
  char *t ;
  char *tt ;
  char **r ;
  char **p ;
  char **tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;
  int tmp___7 ;

  {
#line 3740
  if ((int )*(s + 0) == -95) {
#line 3740
    if (! *(s + 1)) {
#line 3741
      s ++;
    }
  }
#line 3743
  if (! sep) {
    {
#line 3744
    tmp = spacesplit(s, allownull, heap, 0);
    }
#line 3744
    return (tmp);
  }
  {
#line 3746
  tmp___0 = strlen((char const   *)sep);
#line 3746
  sl = (int )tmp___0;
#line 3747
  n = wordcount(s, sep, 1);
  }
#line 3748
  if (heap) {
    {
#line 3748
    tmp___1 = zhalloc((unsigned long )(n + 1) * sizeof(char *));
#line 3748
    tmp___3 = tmp___1;
    }
  } else {
    {
#line 3748
    tmp___2 = zalloc((unsigned long )(n + 1) * sizeof(char *));
#line 3748
    tmp___3 = tmp___2;
    }
  }
#line 3748
  p = (char **)tmp___3;
#line 3748
  r = p;
#line 3751
  t = s;
  {
#line 3751
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3751
    tmp___7 = n;
#line 3751
    n --;
#line 3751
    if (! tmp___7) {
#line 3751
      goto while_break;
    }
    {
#line 3752
    tt = t;
#line 3753
    findsep(& t, sep, 0);
    }
#line 3754
    if (heap) {
      {
#line 3754
      tmp___4 = zhalloc((size_t )((t - tt) + 1L));
#line 3754
      tmp___6 = tmp___4;
      }
    } else {
      {
#line 3754
      tmp___5 = zalloc((size_t )((t - tt) + 1L));
#line 3754
      tmp___6 = tmp___5;
      }
    }
    {
#line 3754
    *p = (char *)tmp___6;
#line 3756
    strncpy((char */* __restrict  */)*p, (char const   */* __restrict  */)tt, (size_t )(t - tt));
#line 3757
    *(*p + (t - tt)) = (char )'\000';
#line 3758
    p ++;
#line 3759
    t += sl;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3761
  *p = (char *)((void *)0);
#line 3763
  return (r);
}
}
#line 3769 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
Shfunc getshfunc(char *nam ) 
{ 
  HashNode tmp ;

  {
  {
#line 3772
  tmp = (*(shfunctab->getnode))(shfunctab, (char const   *)nam);
  }
#line 3772
  return ((Shfunc )tmp);
}
}
#line 3788 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **subst_string_by_func(Shfunc func , char *arg1 , char *orig ) 
{ 
  int osc ;
  int osm ;
  int old_incompfunc ;
  LinkList l ;
  LinkList tmp ;
  char **ret ;
  int tmp___0 ;
  char *__cil_tmp11 ;

  {
  {
#line 3791
  osc = sfcontext;
#line 3791
  osm = stopmsg;
#line 3791
  old_incompfunc = incompfunc;
#line 3792
  tmp = newlinklist();
#line 3792
  l = tmp;
#line 3795
  insertlinknode(l, l->list.last, (void *)func->node.nam);
  }
#line 3796
  if (arg1) {
    {
#line 3797
    insertlinknode(l, l->list.last, (void *)arg1);
    }
  }
  {
#line 3798
  insertlinknode(l, l->list.last, (void *)orig);
#line 3799
  sfcontext = 7;
#line 3800
  incompfunc = 0;
#line 3802
  tmp___0 = doshfunc(func, l, 1);
  }
#line 3802
  if (tmp___0) {
#line 3803
    ret = (char **)((void *)0);
  } else {
    {
#line 3805
    ret = getaparam((char *)"reply");
    }
  }
#line 3807
  sfcontext = osc;
#line 3808
  stopmsg = osm;
#line 3809
  incompfunc = old_incompfunc;
#line 3810
  return (ret);
}
}
#line 3820 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **subst_string_by_hook(char *name , char *arg1 , char *orig ) 
{ 
  Shfunc func ;
  char **ret ;
  char **arrptr ;
  int namlen ;
  size_t tmp ;
  char *arrnam ;
  void *tmp___0 ;
  char *__cil_tmp11 ;

  {
  {
#line 3824
  ret = (char **)((void *)0);
#line 3826
  func = getshfunc(name);
  }
#line 3826
  if (func) {
    {
#line 3827
    ret = subst_string_by_func(func, arg1, orig);
    }
  }
#line 3830
  if (! ret) {
    {
#line 3832
    tmp = strlen((char const   *)name);
#line 3832
    namlen = (int )tmp;
#line 3833
    tmp___0 = zhalloc(sizeof(char ) * (unsigned long )(namlen + 11));
#line 3833
    arrnam = (char *)tmp___0;
#line 3834
    memcpy((void */* __restrict  */)arrnam, (void const   */* __restrict  */)name,
           (size_t )namlen);
#line 3835
    memcpy((void */* __restrict  */)(arrnam + namlen), (void const   */* __restrict  */)"_functions",
           (size_t )11);
#line 3837
    arrptr = getaparam(arrnam);
    }
#line 3837
    if (arrptr) {
      {
#line 3839
      arrptr = arrdup(arrptr);
      }
      {
#line 3840
      while (1) {
        while_continue: /* CIL Label */ ;
#line 3840
        if (! *arrptr) {
#line 3840
          goto while_break;
        }
        {
#line 3841
        func = getshfunc(*arrptr);
        }
#line 3841
        if (func) {
          {
#line 3842
          ret = subst_string_by_func(func, arg1, orig);
          }
#line 3843
          if (ret) {
#line 3844
            goto while_break;
          }
        }
#line 3840
        arrptr ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
#line 3850
  return (ret);
}
}
#line 3854 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **mkarray(char *s ) 
{ 
  char **t ;
  unsigned long tmp ;
  void *tmp___0 ;
  char *tmp___1 ;

  {
#line 3857
  if (s) {
#line 3857
    tmp = 2UL * sizeof(s);
  } else {
#line 3857
    tmp = sizeof(s);
  }
  {
#line 3857
  tmp___0 = zalloc(tmp);
#line 3857
  t = (char **)tmp___0;
#line 3859
  tmp___1 = s;
#line 3859
  *t = tmp___1;
  }
#line 3859
  if (tmp___1) {
#line 3860
    *(t + 1) = (char *)((void *)0);
  }
#line 3861
  return (t);
}
}
#line 3865 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **hmkarray(char *s ) 
{ 
  char **t ;
  unsigned long tmp ;
  void *tmp___0 ;
  char *tmp___1 ;

  {
#line 3868
  if (s) {
#line 3868
    tmp = 2UL * sizeof(s);
  } else {
#line 3868
    tmp = sizeof(s);
  }
  {
#line 3868
  tmp___0 = zhalloc(tmp);
#line 3868
  t = (char **)tmp___0;
#line 3870
  tmp___1 = s;
#line 3870
  *t = tmp___1;
  }
#line 3870
  if (tmp___1) {
#line 3871
    *(t + 1) = (char *)((void *)0);
  }
#line 3872
  return (t);
}
}
#line 3876 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void zbeep(void) 
{ 
  char *vb ;
  int len ;
  sigset_t oset ;
  void *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 3880
  queueing_enabled ++;
#line 3881
  vb = getsparam_u((char *)"ZBEEP");
  }
#line 3881
  if (vb) {
    {
#line 3883
    vb = getkeystring(vb, & len, 7, (int *)((void *)0));
#line 3884
    write_loop(SHTTY, (char const   *)vb, (size_t )len);
    }
  } else
#line 3885
  if (opts[21]) {
    {
#line 3886
    write_loop(SHTTY, "\a", (size_t )1);
    }
  }
  {
#line 3887
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3887
    queueing_enabled --;
#line 3887
    if (! queueing_enabled) {
      {
#line 3887
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 3887
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 3887
          if (! (queue_front != queue_rear)) {
#line 3887
            goto while_break___1;
          }
          {
#line 3887
          queue_front = (queue_front + 1) % 128;
#line 3887
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3887
          zhandler(signal_queue[queue_front]);
#line 3887
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 3887
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 3887
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 3888
  return;
}
}
#line 3891 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void freearray(char **s ) 
{ 
  char **t ;
  char **tmp ;

  {
#line 3894
  t = s;
  {
#line 3898
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3898
    if (! *s) {
#line 3898
      goto while_break;
    }
    {
#line 3899
    tmp = s;
#line 3899
    s ++;
#line 3899
    zsfree(*tmp);
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3900
  free((void *)t);
  }
#line 3901
  return;
}
}
#line 3904 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int equalsplit(char *s , char **t ) 
{ 
  char *tmp ;

  {
  {
#line 3907
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3907
    if (*s) {
#line 3907
      if (! ((int )*s != 61)) {
#line 3907
        goto while_break;
      }
    } else {
#line 3907
      goto while_break;
    }
#line 3907
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3908
  if ((int )*s == 61) {
#line 3909
    tmp = s;
#line 3909
    s ++;
#line 3909
    *tmp = (char )'\000';
#line 3910
    *t = s;
#line 3911
    return (1);
  }
#line 3913
  return (0);
}
}
#line 3921 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int typtab_flags  =    0;
#line 3926 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void inittyptab(void) 
{ 
  int t0 ;
  char *s ;
  short tmp ;
  short tmp___0 ;
  char const   *tmp___1 ;
  int c ;
  int tmp___2 ;
  int c___0 ;
  int tmp___3 ;
  char const   *tmp___4 ;
  char const   *tmp___5 ;
  sigset_t oset ;
  void *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;

  {
#line 3932
  if (! (typtab_flags & 1)) {
#line 3933
    typtab_flags = 1;
#line 3934
    if (opts[92]) {
#line 3934
      if (opts[159]) {
#line 3935
        typtab_flags |= 2;
      }
    }
  }
  {
#line 3938
  queueing_enabled ++;
#line 3940
  memset((void *)(typtab), 0, sizeof(typtab));
#line 3941
  t0 = 0;
  }
  {
#line 3941
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3941
    if (! (t0 != 32)) {
#line 3941
      goto while_break;
    }
#line 3942
    tmp = (short )(1 << 9);
#line 3942
    typtab[t0 + 128] = tmp;
#line 3942
    typtab[t0] = tmp;
#line 3941
    t0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3943
  typtab[127] = (short )(1 << 9);
#line 3944
  t0 = '0';
  {
#line 3944
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3944
    if (! (t0 <= 57)) {
#line 3944
      goto while_break___0;
    }
#line 3945
    typtab[t0] = (short )((((1 | (1 << 1)) | (1 << 10)) | (1 << 7)) | (1 << 8));
#line 3944
    t0 ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 3946
  t0 = 'a';
  {
#line 3946
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 3946
    if (! (t0 <= 122)) {
#line 3946
      goto while_break___1;
    }
#line 3947
    tmp___0 = (short )(((((1 << 6) | (1 << 1)) | (1 << 7)) | (1 << 8)) | (1 << 10));
#line 3947
    typtab[(t0 - 97) + 65] = tmp___0;
#line 3947
    typtab[t0] = tmp___0;
#line 3946
    t0 ++;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 3961
  typtab['_'] = (short )((1 << 7) | (1 << 8));
#line 3962
  typtab[(unsigned char)155] = (short )(1 << 8);
#line 3962
  typtab['.'] = typtab[(unsigned char)155];
#line 3962
  typtab['-'] = typtab['.'];
#line 3963
  typtab[' '] = (short )((int )typtab[32] | ((1 << 2) | (1 << 3)));
#line 3964
  typtab['\t'] = (short )((int )typtab[9] | ((1 << 2) | (1 << 3)));
#line 3965
  typtab['\n'] = (short )((int )typtab[10] | (1 << 3));
#line 3966
  typtab['\000'] = (short )((int )typtab[0] | (1 << 12));
#line 3967
  typtab[(unsigned char)131] = (short )((int )typtab[(unsigned char)131] | (1 << 12));
#line 3968
  typtab[(unsigned char)162] = (short )((int )typtab[(unsigned char)162] | (1 << 12));
#line 3969
  t0 = 132;
  {
#line 3969
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 3969
    if (! (t0 <= 156)) {
#line 3969
      goto while_break___2;
    }
#line 3970
    typtab[t0] = (short )((int )typtab[t0] | ((1 << 4) | (1 << 12)));
#line 3969
    t0 ++;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 3971
  t0 = 157;
  {
#line 3971
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 3971
    if (! (t0 <= 161)) {
#line 3971
      goto while_break___3;
    }
#line 3972
    typtab[t0] = (short )((int )typtab[t0] | (((1 << 4) | (1 << 12)) | (1 << 14)));
#line 3971
    t0 ++;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 3973
  if (ifs) {
#line 3973
    s = ifs;
  } else {
#line 3973
    if (emulation & ((1 << 2) | (1 << 3))) {
#line 3973
      tmp___1 = " \t\n";
    } else {
#line 3973
      tmp___1 = " \t\n\203 ";
    }
#line 3973
    s = (char *)tmp___1;
  }
  {
#line 3973
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 3973
    if (! *s) {
#line 3973
      goto while_break___4;
    }
#line 3975
    if ((int )*s == -125) {
#line 3975
      s ++;
#line 3975
      tmp___2 = (int )*s ^ 32;
    } else {
#line 3975
      tmp___2 = (int )*s;
    }
#line 3975
    c = (int )((unsigned char )tmp___2);
#line 3977
    if (! ((c & -128) == 0)) {
#line 3979
      goto __Cont;
    }
#line 3982
    if ((int )typtab[(unsigned char )c] & (1 << 3)) {
#line 3983
      if ((int )*(s + 1) == c) {
#line 3984
        s ++;
      } else {
#line 3986
        typtab[c] = (short )((int )typtab[c] | (1 << 13));
      }
    }
#line 3988
    typtab[c] = (short )((int )typtab[c] | (1 << 5));
    __Cont: /* CIL Label */ 
#line 3973
    s ++;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 3990
  if (wordchars) {
#line 3990
    s = wordchars;
  } else {
#line 3990
    s = (char *)"*?_-.[]~=/&;!#$%^(){}<>";
  }
  {
#line 3990
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 3990
    if (! *s) {
#line 3990
      goto while_break___5;
    }
#line 3991
    if ((int )*s == -125) {
#line 3991
      s ++;
#line 3991
      tmp___3 = (int )*s ^ 32;
    } else {
#line 3991
      tmp___3 = (int )*s;
    }
#line 3991
    c___0 = (int )((unsigned char )tmp___3);
#line 3993
    if (! ((c___0 & -128) == 0)) {
#line 4001
      goto __Cont___0;
    }
#line 4004
    typtab[c___0] = (short )((int )typtab[c___0] | (1 << 10));
    __Cont___0: /* CIL Label */ 
#line 3990
    s ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  {
#line 4007
  set_widearray(wordchars, & wordchars_wide);
  }
#line 4008
  if (ifs) {
#line 4008
    tmp___5 = (char const   *)ifs;
  } else {
#line 4008
    if (emulation & ((1 << 2) | (1 << 3))) {
#line 4008
      tmp___4 = " \t\n";
    } else {
#line 4008
      tmp___4 = " \t\n\203 ";
    }
#line 4008
    tmp___5 = tmp___4;
  }
  {
#line 4008
  set_widearray((char *)tmp___5, & ifs_wide);
#line 4011
  s = (char *)"#$^*()=|{}[]`<>?~;&\n\t \\\'\"";
  }
  {
#line 4011
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 4011
    if (! *s) {
#line 4011
      goto while_break___6;
    }
#line 4012
    typtab[(unsigned char )*s] = (short )((int )typtab[(unsigned char )*s] | (1 << 11));
#line 4011
    s ++;
  }
  while_break___6: /* CIL Label */ ;
  }
#line 4013
  if (typtab_flags & 4) {
#line 4014
    typtab[(unsigned char )','] = (short )((int )typtab[(unsigned char)44] | (1 << 11));
  }
#line 4015
  if (opts[17]) {
#line 4015
    if (bangchar) {
#line 4015
      if (typtab_flags & 2) {
#line 4016
        typtab_flags |= 8;
#line 4017
        typtab[bangchar] = (short )((int )typtab[bangchar] | (1 << 11));
      } else {
#line 4019
        typtab_flags &= -9;
      }
    } else {
#line 4019
      typtab_flags &= -9;
    }
  } else {
#line 4019
    typtab_flags &= -9;
  }
#line 4020
  s = (char *)"#^*()|[]<>?~\\";
  {
#line 4020
  while (1) {
    while_continue___7: /* CIL Label */ ;
#line 4020
    if (! *s) {
#line 4020
      goto while_break___7;
    }
#line 4021
    typtab[(unsigned char )*s] = (short )((int )typtab[(unsigned char )*s] | (1 << 15));
#line 4020
    s ++;
  }
  while_break___7: /* CIL Label */ ;
  }
  {
#line 4023
  while (1) {
    while_continue___8: /* CIL Label */ ;
#line 4023
    queueing_enabled --;
#line 4023
    if (! queueing_enabled) {
      {
#line 4023
      while (1) {
        while_continue___9: /* CIL Label */ ;
        {
#line 4023
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 4023
          if (! (queue_front != queue_rear)) {
#line 4023
            goto while_break___10;
          }
          {
#line 4023
          queue_front = (queue_front + 1) % 128;
#line 4023
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 4023
          zhandler(signal_queue[queue_front]);
#line 4023
          signal_setmask(oset);
          }
        }
        while_break___10: /* CIL Label */ ;
        }
#line 4023
        goto while_break___9;
      }
      while_break___9: /* CIL Label */ ;
      }
    }
#line 4023
    goto while_break___8;
  }
  while_break___8: /* CIL Label */ ;
  }
#line 4024
  return;
}
}
#line 4027 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void makecommaspecial(int yesno ) 
{ 


  {
#line 4030
  if (yesno != 0) {
#line 4031
    typtab_flags |= 4;
#line 4032
    typtab[(unsigned char )','] = (short )((int )typtab[(unsigned char)44] | (1 << 11));
  } else {
#line 4034
    typtab_flags &= -5;
#line 4035
    typtab[(unsigned char )','] = (short )((int )typtab[(unsigned char)44] & ~ (1 << 11));
  }
#line 4037
  return;
}
}
#line 4040 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void makebangspecial(int yesno ) 
{ 


  {
#line 4047
  if (yesno == 0) {
#line 4048
    typtab[bangchar] = (short )((int )typtab[bangchar] & ~ (1 << 11));
  } else
#line 4049
  if (typtab_flags & 8) {
#line 4050
    typtab[bangchar] = (short )((int )typtab[bangchar] | (1 << 11));
  }
#line 4052
  return;
}
}
#line 4059 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int wcsiblank(wint_t wc ) 
{ 
  int tmp ;

  {
  {
#line 4062
  tmp = iswspace(wc);
  }
#line 4062
  if (tmp) {
#line 4062
    if (wc != 10U) {
#line 4063
      return (1);
    }
  }
#line 4064
  return (0);
}
}
#line 4078 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int wcsitype(wchar_t c , int itype ) 
{ 
  int len ;
  mbstate_t mbs ;
  char *outstr ;
  size_t tmp ;
  void *tmp___0 ;
  size_t tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  wchar_t *tmp___5 ;
  int tmp___6 ;
  wchar_t *tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  void *__cil_tmp17 ;

  {
  {
#line 4083
  tmp = __ctype_get_mb_cur_max();
#line 4083
  tmp___0 = zhalloc(sizeof(char ) * tmp);
#line 4083
  outstr = (char *)tmp___0;
  }
#line 4085
  if (! opts[116]) {
#line 4086
    return ((int )typtab[(unsigned char )c] & itype);
  }
  {
#line 4095
  memset((void *)(& mbs), 0, sizeof(mbs));
#line 4096
  tmp___1 = wcrtomb((char */* __restrict  */)outstr, c, (mbstate_t */* __restrict  */)(& mbs));
#line 4096
  len = (int )tmp___1;
  }
#line 4098
  if (len == 0) {
#line 4100
    return ((int )typtab[(unsigned char)0] & itype);
  } else
#line 4101
  if (len == 1) {
#line 4101
    if (((int )*(outstr + 0) & -128) == 0) {
#line 4102
      return ((int )typtab[(unsigned char )*(outstr + 0)] & itype);
    } else {
#line 4101
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    {
#line 4105
    if (itype == 1 << 7) {
#line 4105
      goto case_exp;
    }
#line 4110
    if (itype == 1 << 10) {
#line 4110
      goto case_exp___0;
    }
#line 4124
    if (itype == 1 << 5) {
#line 4124
      goto case_exp___1;
    }
#line 4127
    goto switch_default;
    case_exp: /* CIL Label */ 
#line 4106
    if (! opts[132]) {
#line 4107
      return (0);
    }
    {
#line 4108
    tmp___2 = iswalnum((wint_t )c);
    }
#line 4108
    return (tmp___2);
    case_exp___0: /* CIL Label */ 
    {
#line 4111
    tmp___3 = iswalnum((wint_t )c);
    }
#line 4111
    if (tmp___3) {
#line 4112
      return (1);
    }
#line 4120
    if (c != 0) {
      {
#line 4120
      tmp___4 = wcwidth(c);
      }
#line 4120
      if (tmp___4 == 0) {
#line 4121
        return (1);
      }
    }
    {
#line 4122
    tmp___5 = wmemchr((wchar_t const   *)wordchars_wide.chars, c, wordchars_wide.len);
    }
#line 4122
    if (tmp___5) {
#line 4122
      tmp___6 = 1;
    } else {
#line 4122
      tmp___6 = 0;
    }
#line 4122
    return (tmp___6);
    case_exp___1: /* CIL Label */ 
    {
#line 4125
    tmp___7 = wmemchr((wchar_t const   *)ifs_wide.chars, c, ifs_wide.len);
    }
#line 4125
    if (tmp___7) {
#line 4125
      tmp___8 = 1;
    } else {
#line 4125
      tmp___8 = 0;
    }
#line 4125
    return (tmp___8);
    switch_default: /* CIL Label */ 
    {
#line 4128
    tmp___9 = iswalnum((wint_t )c);
    }
#line 4128
    return (tmp___9);
    switch_break: /* CIL Label */ ;
    }
  }
}
}
#line 4152 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *itype_end(char const   *ptr___0 , int itype , int once ) 
{ 
  int len ;
  wint_t wc ;
  int chr ;
  int tmp ;
  int tmp___0 ;
  wchar_t *tmp___1 ;
  wchar_t *tmp___2 ;
  int tmp___3 ;
  int chr___0 ;
  int tmp___4 ;
  int tmp___5 ;

  {
#line 4156
  if (opts[116]) {
#line 4156
    if (itype != 1 << 7) {
#line 4156
      goto _L___1;
    } else
#line 4156
    if (! opts[132]) {
      _L___1: /* CIL Label */ 
      {
#line 4158
      mb_charinit();
      }
      {
#line 4159
      while (1) {
        while_continue: /* CIL Label */ ;
#line 4159
        if (! *ptr___0) {
#line 4159
          goto while_break;
        }
#line 4161
        if ((int )typtab[(unsigned char )*ptr___0] & (1 << 4)) {
#line 4163
          len = 1;
#line 4164
          if (! ((int )typtab[(unsigned char )*ptr___0] & itype)) {
#line 4165
            goto while_break;
          }
        } else {
          {
#line 4168
          len = mb_metacharlenconv(ptr___0, & wc);
          }
#line 4170
          if (! len) {
#line 4171
            goto while_break;
          }
#line 4173
          if (wc == 4294967295U) {
#line 4175
            if ((int const   )*ptr___0 == -125) {
#line 4175
              tmp = (int const   )*(ptr___0 + 1) ^ 32;
            } else {
#line 4175
              tmp = (int const   )*ptr___0;
            }
#line 4175
            chr = (int )((unsigned char )tmp);
#line 4177
            if (chr > 127) {
#line 4178
              goto while_break;
            } else
#line 4177
            if (! ((int )typtab[(unsigned char )chr] & itype)) {
#line 4178
              goto while_break;
            }
          } else
#line 4179
          if (len == 1) {
#line 4179
            if (((int const   )*ptr___0 & -128) == 0) {
#line 4181
              if (! ((int )typtab[(unsigned char )*ptr___0] & itype)) {
#line 4182
                goto while_break;
              }
            } else {
#line 4179
              goto _L;
            }
          } else {
            _L: /* CIL Label */ 
            {
#line 4188
            if (itype == 1 << 10) {
#line 4188
              goto case_exp;
            }
#line 4195
            if (itype == 1 << 5) {
#line 4195
              goto case_exp___0;
            }
#line 4200
            goto switch_default;
            case_exp: /* CIL Label */ 
            {
#line 4189
            tmp___0 = iswalnum(wc);
            }
#line 4189
            if (! tmp___0) {
              {
#line 4189
              tmp___1 = wmemchr((wchar_t const   *)wordchars_wide.chars, (wchar_t )wc,
                                wordchars_wide.len);
              }
#line 4189
              if (! tmp___1) {
#line 4192
                return ((char *)ptr___0);
              }
            }
#line 4193
            goto switch_break;
            case_exp___0: /* CIL Label */ 
            {
#line 4196
            tmp___2 = wmemchr((wchar_t const   *)ifs_wide.chars, (wchar_t )wc, ifs_wide.len);
            }
#line 4196
            if (! tmp___2) {
#line 4197
              return ((char *)ptr___0);
            }
#line 4198
            goto switch_break;
            switch_default: /* CIL Label */ 
            {
#line 4201
            tmp___3 = iswalnum(wc);
            }
#line 4201
            if (! tmp___3) {
#line 4202
              return ((char *)ptr___0);
            }
            switch_break: /* CIL Label */ ;
            }
          }
        }
#line 4206
        ptr___0 += len;
#line 4208
        if (once) {
#line 4209
          goto while_break;
        }
      }
      while_break: /* CIL Label */ ;
      }
    } else {
#line 4156
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    {
#line 4213
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4214
      if ((int const   )*ptr___0 == -125) {
#line 4214
        tmp___4 = (int const   )*(ptr___0 + 1) ^ 32;
      } else {
#line 4214
        tmp___4 = (int const   )*ptr___0;
      }
#line 4214
      chr___0 = (int )((unsigned char )tmp___4);
#line 4215
      if (! ((int )typtab[(unsigned char )chr___0] & itype)) {
#line 4216
        goto while_break___0;
      }
#line 4217
      if ((int const   )*ptr___0 == -125) {
#line 4217
        tmp___5 = 2;
      } else {
#line 4217
        tmp___5 = 1;
      }
#line 4217
      ptr___0 += tmp___5;
#line 4219
      if (once) {
#line 4220
        goto while_break___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 4232
  return ((char *)ptr___0);
}
}
#line 4236 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **arrdup(char **s ) 
{ 
  char **x ;
  char **y ;
  int tmp ;
  void *tmp___0 ;
  char **tmp___1 ;
  char *tmp___2 ;
  char **tmp___3 ;

  {
  {
#line 4241
  tmp = arrlen(s);
#line 4241
  tmp___0 = zhalloc(sizeof(char *) * (unsigned long )(tmp + 1));
#line 4241
  x = (char **)tmp___0;
#line 4241
  y = x;
  }
  {
#line 4243
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4243
    tmp___1 = x;
#line 4243
    x ++;
#line 4243
    tmp___3 = s;
#line 4243
    s ++;
#line 4243
    tmp___2 = dupstring((char const   *)*tmp___3);
#line 4243
    *tmp___1 = tmp___2;
    }
#line 4243
    if (! tmp___2) {
#line 4243
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4245
  return (y);
}
}
#line 4251 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **arrdup_max(char **s , unsigned int max ) 
{ 
  char **x ;
  char **y ;
  char **send ;
  int len ;
  void *tmp ;
  char **tmp___0 ;
  char **tmp___1 ;

  {
#line 4255
  len = 0;
#line 4257
  if (max) {
    {
#line 4258
    len = arrlen(s);
    }
  }
#line 4261
  if (max > (unsigned int )len) {
#line 4262
    max = (unsigned int )len;
  }
  {
#line 4264
  tmp = zhalloc(sizeof(char *) * (unsigned long )(max + 1U));
#line 4264
  x = (char **)tmp;
#line 4264
  y = x;
#line 4266
  send = s + max;
  }
  {
#line 4267
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4267
    if (! ((unsigned long )s < (unsigned long )send)) {
#line 4267
      goto while_break;
    }
    {
#line 4268
    tmp___0 = x;
#line 4268
    x ++;
#line 4268
    tmp___1 = s;
#line 4268
    s ++;
#line 4268
    *tmp___0 = dupstring((char const   *)*tmp___1);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4269
  *x = (char *)((void *)0);
#line 4271
  return (y);
}
}
#line 4275 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char **zarrdup(char **s ) 
{ 
  char **x ;
  char **y ;
  int tmp ;
  void *tmp___0 ;
  char **tmp___1 ;
  char *tmp___2 ;
  char **tmp___3 ;

  {
  {
#line 4280
  tmp = arrlen(s);
#line 4280
  tmp___0 = zalloc(sizeof(char *) * (unsigned long )(tmp + 1));
#line 4280
  x = (char **)tmp___0;
#line 4280
  y = x;
  }
  {
#line 4282
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4282
    tmp___1 = x;
#line 4282
    x ++;
#line 4282
    tmp___3 = s;
#line 4282
    s ++;
#line 4282
    tmp___2 = ztrdup((char const   *)*tmp___3);
#line 4282
    *tmp___1 = tmp___2;
    }
#line 4282
    if (! tmp___2) {
#line 4282
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4284
  return (y);
}
}
#line 4290 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
wchar_t **wcs_zarrdup(wchar_t **s ) 
{ 
  wchar_t **x ;
  wchar_t **y ;
  int tmp ;
  void *tmp___0 ;
  wchar_t **tmp___1 ;
  wchar_t *tmp___2 ;
  wchar_t **tmp___3 ;

  {
  {
#line 4295
  tmp = arrlen((char **)s);
#line 4295
  tmp___0 = zalloc(sizeof(wchar_t *) * (unsigned long )(tmp + 1));
#line 4295
  x = (wchar_t **)tmp___0;
#line 4295
  y = x;
  }
  {
#line 4297
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4297
    tmp___1 = x;
#line 4297
    x ++;
#line 4297
    tmp___3 = s;
#line 4297
    s ++;
#line 4297
    tmp___2 = wcs_ztrdup((wchar_t const   *)*tmp___3);
#line 4297
    *tmp___1 = tmp___2;
    }
#line 4297
    if (! tmp___2) {
#line 4297
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4299
  return (y);
}
}
#line 4309 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char newname[4097]  ;
#line 4305 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char *spname(char *oldname ) 
{ 
  char *p ;
  char spnameguess[4097] ;
  char spnamebest[4097] ;
  char *new ;
  char *old ;
  int bestdist ;
  int thisdist ;
  int thresh ;
  int maxthresh ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char tmp___2 ;
  char *tmp___3 ;
  void *__cil_tmp16 ;
  void *__cil_tmp17 ;

  {
#line 4310
  new = newname;
#line 4310
  old = oldname;
#line 4311
  bestdist = 0;
#line 4311
  maxthresh = 0;
  {
#line 4318
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4319
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4319
      if (! ((int )*old == 47)) {
#line 4319
        goto while_break___0;
      }
#line 4320
      if ((unsigned long )(new - newname) >= sizeof(newname) - 1UL) {
#line 4321
        return ((char *)((void *)0));
      }
#line 4322
      tmp = new;
#line 4322
      new ++;
#line 4322
      tmp___0 = old;
#line 4322
      old ++;
#line 4322
      *tmp = *tmp___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 4324
    *new = (char )'\000';
#line 4325
    if ((int )*old == 0) {
#line 4326
      return (newname);
    }
#line 4327
    p = spnameguess;
    {
#line 4328
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 4328
      if ((int )*old != 47) {
#line 4328
        if (! ((int )*old != 0)) {
#line 4328
          goto while_break___1;
        }
      } else {
#line 4328
        goto while_break___1;
      }
#line 4329
      if ((unsigned long )p < (unsigned long )(spnameguess + 4096)) {
#line 4330
        tmp___1 = p;
#line 4330
        p ++;
#line 4330
        *tmp___1 = *old;
      }
#line 4328
      old ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 4331
    *p = (char )'\000';
#line 4334
    thresh = (int )(p - spnameguess) / 4 + 1;
#line 4335
    if (thresh < 3) {
#line 4336
      thresh = 3;
    } else
#line 4337
    if (thresh > 100) {
#line 4338
      thresh = 100;
    }
    {
#line 4339
    thisdist = mindist(newname, spnameguess, spnamebest, (int )*old == 47);
    }
#line 4340
    if (thisdist >= thresh) {
#line 4348
      if (bestdist < maxthresh) {
        {
#line 4349
        strcpy((char */* __restrict  */)new, (char const   */* __restrict  */)(spnameguess));
#line 4350
        strcat((char */* __restrict  */)new, (char const   */* __restrict  */)old);
        }
#line 4351
        return (newname);
      } else {
#line 4353
        return ((char *)((void *)0));
      }
    } else {
#line 4355
      maxthresh = bestdist + thresh;
#line 4356
      bestdist += thisdist;
    }
#line 4358
    p = spnamebest;
    {
#line 4358
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 4358
      tmp___3 = p;
#line 4358
      p ++;
#line 4358
      tmp___2 = *tmp___3;
#line 4358
      *new = tmp___2;
#line 4358
      if (! tmp___2) {
#line 4358
        goto while_break___2;
      }
#line 4359
      new ++;
    }
    while_break___2: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 4364 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int mindist(char *dir , char *mindistguess , char *mindistbest , int wantdir ) 
{ 
  int mindistd ;
  int nd ;
  DIR *dd ;
  char *fn___0 ;
  char *buf___7 ;
  struct stat st___0 ;
  size_t dirlen ;
  size_t tmp ;
  void *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  size_t tmp___4 ;
  size_t tmp___5 ;
  void *tmp___6 ;
  char *tmp___7 ;
  int tmp___8 ;
  char *tmp___9 ;
  void *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;

  {
#line 4374
  if ((int )*(dir + 0) == 0) {
#line 4375
    dir = (char *)".";
  }
  {
#line 4376
  mindistd = 100;
#line 4378
  dirlen = strlen((char const   *)dir);
#line 4378
  tmp = strlen((char const   *)mindistguess);
#line 4378
  tmp___0 = zalloc((dirlen + tmp) + 2UL);
#line 4378
  buf___7 = (char *)tmp___0;
  }
#line 4378
  if (! buf___7) {
#line 4379
    return (0);
  }
  {
#line 4380
  sprintf((char */* __restrict  */)buf___7, (char const   */* __restrict  */)"%s/%s",
          dir, mindistguess);
#line 4382
  tmp___1 = unmeta((char const   *)buf___7);
#line 4382
  tmp___2 = stat((char const   */* __restrict  */)tmp___1, (struct stat */* __restrict  */)(& st___0));
  }
#line 4382
  if (tmp___2 == 0) {
#line 4382
    if (! wantdir) {
      {
#line 4383
      strcpy((char */* __restrict  */)mindistbest, (char const   */* __restrict  */)mindistguess);
#line 4384
      free((void *)buf___7);
      }
#line 4385
      return (0);
    } else
#line 4382
    if ((st___0.st_mode & 61440U) == 16384U) {
      {
#line 4383
      strcpy((char */* __restrict  */)mindistbest, (char const   */* __restrict  */)mindistguess);
#line 4384
      free((void *)buf___7);
      }
#line 4385
      return (0);
    }
  }
  {
#line 4388
  tmp___9 = unmeta((char const   *)dir);
#line 4388
  dd = opendir((char const   *)tmp___9);
  }
#line 4388
  if (dd) {
    {
#line 4389
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 4389
      fn___0 = zreaddir(dd, 0);
      }
#line 4389
      if (! fn___0) {
#line 4389
        goto while_break;
      }
#line 4390
      if (spnamepat) {
        {
#line 4390
        tmp___3 = pattry(spnamepat, fn___0);
        }
#line 4390
        if (tmp___3) {
#line 4391
          goto while_continue;
        }
      }
      {
#line 4392
      tmp___4 = strlen((char const   *)mindistguess);
#line 4392
      nd = spdist(fn___0, mindistguess, (int )tmp___4 / 4 + 1);
      }
#line 4394
      if (nd <= mindistd) {
#line 4395
        if (wantdir) {
          {
#line 4396
          tmp___5 = strlen((char const   *)fn___0);
#line 4396
          tmp___6 = zrealloc((void *)buf___7, (dirlen + tmp___5) + 2UL);
#line 4396
          buf___7 = (char *)tmp___6;
          }
#line 4396
          if (! buf___7) {
#line 4397
            goto while_continue;
          }
          {
#line 4398
          sprintf((char */* __restrict  */)buf___7, (char const   */* __restrict  */)"%s/%s",
                  dir, fn___0);
#line 4399
          tmp___7 = unmeta((char const   *)buf___7);
#line 4399
          tmp___8 = stat((char const   */* __restrict  */)tmp___7, (struct stat */* __restrict  */)(& st___0));
          }
#line 4399
          if (tmp___8 != 0) {
#line 4400
            goto while_continue;
          } else
#line 4399
          if (! ((st___0.st_mode & 61440U) == 16384U)) {
#line 4400
            goto while_continue;
          }
        }
        {
#line 4402
        strcpy((char */* __restrict  */)mindistbest, (char const   */* __restrict  */)fn___0);
#line 4403
        mindistd = nd;
        }
#line 4404
        if (mindistd == 0) {
#line 4405
          goto while_break;
        }
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 4408
    closedir(dd);
    }
  }
  {
#line 4410
  free((void *)buf___7);
  }
#line 4411
  return (mindistd);
}
}
#line 4415 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int spdist(char *s , char *t , int thresh ) 
{ 
  char *p ;
  char *q ;
  char qwertykeymap[155] ;
  char dvorakkeymap[155] ;
  char const   *keymap ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  size_t tmp___5 ;
  size_t tmp___6 ;
  int t0 ;
  char *z ;
  int tmp___7 ;
  int tmp___8 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;

  {
#line 4420
  qwertykeymap[0] = (char )'\n';
#line 4420
  qwertykeymap[1] = (char )'\n';
#line 4420
  qwertykeymap[2] = (char )'\n';
#line 4420
  qwertykeymap[3] = (char )'\n';
#line 4420
  qwertykeymap[4] = (char )'\n';
#line 4420
  qwertykeymap[5] = (char )'\n';
#line 4420
  qwertykeymap[6] = (char )'\n';
#line 4420
  qwertykeymap[7] = (char )'\n';
#line 4420
  qwertykeymap[8] = (char )'\n';
#line 4420
  qwertykeymap[9] = (char )'\n';
#line 4420
  qwertykeymap[10] = (char )'\n';
#line 4420
  qwertykeymap[11] = (char )'\n';
#line 4420
  qwertykeymap[12] = (char )'\n';
#line 4420
  qwertykeymap[13] = (char )'\n';
#line 4420
  qwertykeymap[14] = (char )'\t';
#line 4420
  qwertykeymap[15] = (char )'1';
#line 4420
  qwertykeymap[16] = (char )'2';
#line 4420
  qwertykeymap[17] = (char )'3';
#line 4420
  qwertykeymap[18] = (char )'4';
#line 4420
  qwertykeymap[19] = (char )'5';
#line 4420
  qwertykeymap[20] = (char )'6';
#line 4420
  qwertykeymap[21] = (char )'7';
#line 4420
  qwertykeymap[22] = (char )'8';
#line 4420
  qwertykeymap[23] = (char )'9';
#line 4420
  qwertykeymap[24] = (char )'0';
#line 4420
  qwertykeymap[25] = (char )'-';
#line 4420
  qwertykeymap[26] = (char )'=';
#line 4420
  qwertykeymap[27] = (char )'\t';
#line 4420
  qwertykeymap[28] = (char )'\t';
#line 4420
  qwertykeymap[29] = (char )'q';
#line 4420
  qwertykeymap[30] = (char )'w';
#line 4420
  qwertykeymap[31] = (char )'e';
#line 4420
  qwertykeymap[32] = (char )'r';
#line 4420
  qwertykeymap[33] = (char )'t';
#line 4420
  qwertykeymap[34] = (char )'y';
#line 4420
  qwertykeymap[35] = (char )'u';
#line 4420
  qwertykeymap[36] = (char )'i';
#line 4420
  qwertykeymap[37] = (char )'o';
#line 4420
  qwertykeymap[38] = (char )'p';
#line 4420
  qwertykeymap[39] = (char )'[';
#line 4420
  qwertykeymap[40] = (char )']';
#line 4420
  qwertykeymap[41] = (char )'\t';
#line 4420
  qwertykeymap[42] = (char )'\t';
#line 4420
  qwertykeymap[43] = (char )'a';
#line 4420
  qwertykeymap[44] = (char )'s';
#line 4420
  qwertykeymap[45] = (char )'d';
#line 4420
  qwertykeymap[46] = (char )'f';
#line 4420
  qwertykeymap[47] = (char )'g';
#line 4420
  qwertykeymap[48] = (char )'h';
#line 4420
  qwertykeymap[49] = (char )'j';
#line 4420
  qwertykeymap[50] = (char )'k';
#line 4420
  qwertykeymap[51] = (char )'l';
#line 4420
  qwertykeymap[52] = (char )';';
#line 4420
  qwertykeymap[53] = (char )'\'';
#line 4420
  qwertykeymap[54] = (char )'\n';
#line 4420
  qwertykeymap[55] = (char )'\t';
#line 4420
  qwertykeymap[56] = (char )'\t';
#line 4420
  qwertykeymap[57] = (char )'z';
#line 4420
  qwertykeymap[58] = (char )'x';
#line 4420
  qwertykeymap[59] = (char )'c';
#line 4420
  qwertykeymap[60] = (char )'v';
#line 4420
  qwertykeymap[61] = (char )'b';
#line 4420
  qwertykeymap[62] = (char )'n';
#line 4420
  qwertykeymap[63] = (char )'m';
#line 4420
  qwertykeymap[64] = (char )',';
#line 4420
  qwertykeymap[65] = (char )'.';
#line 4420
  qwertykeymap[66] = (char )'/';
#line 4420
  qwertykeymap[67] = (char )'\t';
#line 4420
  qwertykeymap[68] = (char )'\t';
#line 4420
  qwertykeymap[69] = (char )'\t';
#line 4420
  qwertykeymap[70] = (char )'\n';
#line 4420
  qwertykeymap[71] = (char )'\n';
#line 4420
  qwertykeymap[72] = (char )'\n';
#line 4420
  qwertykeymap[73] = (char )'\n';
#line 4420
  qwertykeymap[74] = (char )'\n';
#line 4420
  qwertykeymap[75] = (char )'\n';
#line 4420
  qwertykeymap[76] = (char )'\n';
#line 4420
  qwertykeymap[77] = (char )'\n';
#line 4420
  qwertykeymap[78] = (char )'\n';
#line 4420
  qwertykeymap[79] = (char )'\n';
#line 4420
  qwertykeymap[80] = (char )'\n';
#line 4420
  qwertykeymap[81] = (char )'\n';
#line 4420
  qwertykeymap[82] = (char )'\n';
#line 4420
  qwertykeymap[83] = (char )'\n';
#line 4420
  qwertykeymap[84] = (char )'\t';
#line 4420
  qwertykeymap[85] = (char )'!';
#line 4420
  qwertykeymap[86] = (char )'@';
#line 4420
  qwertykeymap[87] = (char )'#';
#line 4420
  qwertykeymap[88] = (char )'$';
#line 4420
  qwertykeymap[89] = (char )'%';
#line 4420
  qwertykeymap[90] = (char )'^';
#line 4420
  qwertykeymap[91] = (char )'&';
#line 4420
  qwertykeymap[92] = (char )'*';
#line 4420
  qwertykeymap[93] = (char )'(';
#line 4420
  qwertykeymap[94] = (char )')';
#line 4420
  qwertykeymap[95] = (char )'_';
#line 4420
  qwertykeymap[96] = (char )'+';
#line 4420
  qwertykeymap[97] = (char )'\t';
#line 4420
  qwertykeymap[98] = (char )'\t';
#line 4420
  qwertykeymap[99] = (char )'Q';
#line 4420
  qwertykeymap[100] = (char )'W';
#line 4420
  qwertykeymap[101] = (char )'E';
#line 4420
  qwertykeymap[102] = (char )'R';
#line 4420
  qwertykeymap[103] = (char )'T';
#line 4420
  qwertykeymap[104] = (char )'Y';
#line 4420
  qwertykeymap[105] = (char )'U';
#line 4420
  qwertykeymap[106] = (char )'I';
#line 4420
  qwertykeymap[107] = (char )'O';
#line 4420
  qwertykeymap[108] = (char )'P';
#line 4420
  qwertykeymap[109] = (char )'{';
#line 4420
  qwertykeymap[110] = (char )'}';
#line 4420
  qwertykeymap[111] = (char )'\t';
#line 4420
  qwertykeymap[112] = (char )'\t';
#line 4420
  qwertykeymap[113] = (char )'A';
#line 4420
  qwertykeymap[114] = (char )'S';
#line 4420
  qwertykeymap[115] = (char )'D';
#line 4420
  qwertykeymap[116] = (char )'F';
#line 4420
  qwertykeymap[117] = (char )'G';
#line 4420
  qwertykeymap[118] = (char )'H';
#line 4420
  qwertykeymap[119] = (char )'J';
#line 4420
  qwertykeymap[120] = (char )'K';
#line 4420
  qwertykeymap[121] = (char )'L';
#line 4420
  qwertykeymap[122] = (char )':';
#line 4420
  qwertykeymap[123] = (char )'\"';
#line 4420
  qwertykeymap[124] = (char )'\n';
#line 4420
  qwertykeymap[125] = (char )'\t';
#line 4420
  qwertykeymap[126] = (char )'\t';
#line 4420
  qwertykeymap[127] = (char )'Z';
#line 4420
  qwertykeymap[128] = (char )'X';
#line 4420
  qwertykeymap[129] = (char )'C';
#line 4420
  qwertykeymap[130] = (char )'V';
#line 4420
  qwertykeymap[131] = (char )'B';
#line 4420
  qwertykeymap[132] = (char )'N';
#line 4420
  qwertykeymap[133] = (char )'M';
#line 4420
  qwertykeymap[134] = (char )'<';
#line 4420
  qwertykeymap[135] = (char )'>';
#line 4420
  qwertykeymap[136] = (char )'?';
#line 4420
  qwertykeymap[137] = (char )'\n';
#line 4420
  qwertykeymap[138] = (char )'\n';
#line 4420
  qwertykeymap[139] = (char )'\t';
#line 4420
  qwertykeymap[140] = (char )'\n';
#line 4420
  qwertykeymap[141] = (char )'\n';
#line 4420
  qwertykeymap[142] = (char )'\n';
#line 4420
  qwertykeymap[143] = (char )'\n';
#line 4420
  qwertykeymap[144] = (char )'\n';
#line 4420
  qwertykeymap[145] = (char )'\n';
#line 4420
  qwertykeymap[146] = (char )'\n';
#line 4420
  qwertykeymap[147] = (char )'\n';
#line 4420
  qwertykeymap[148] = (char )'\n';
#line 4420
  qwertykeymap[149] = (char )'\n';
#line 4420
  qwertykeymap[150] = (char )'\n';
#line 4420
  qwertykeymap[151] = (char )'\n';
#line 4420
  qwertykeymap[152] = (char )'\n';
#line 4420
  qwertykeymap[153] = (char )'\n';
#line 4420
  qwertykeymap[154] = (char )'\000';
#line 4432
  dvorakkeymap[0] = (char )'\n';
#line 4432
  dvorakkeymap[1] = (char )'\n';
#line 4432
  dvorakkeymap[2] = (char )'\n';
#line 4432
  dvorakkeymap[3] = (char )'\n';
#line 4432
  dvorakkeymap[4] = (char )'\n';
#line 4432
  dvorakkeymap[5] = (char )'\n';
#line 4432
  dvorakkeymap[6] = (char )'\n';
#line 4432
  dvorakkeymap[7] = (char )'\n';
#line 4432
  dvorakkeymap[8] = (char )'\n';
#line 4432
  dvorakkeymap[9] = (char )'\n';
#line 4432
  dvorakkeymap[10] = (char )'\n';
#line 4432
  dvorakkeymap[11] = (char )'\n';
#line 4432
  dvorakkeymap[12] = (char )'\n';
#line 4432
  dvorakkeymap[13] = (char )'\n';
#line 4432
  dvorakkeymap[14] = (char )'\t';
#line 4432
  dvorakkeymap[15] = (char )'1';
#line 4432
  dvorakkeymap[16] = (char )'2';
#line 4432
  dvorakkeymap[17] = (char )'3';
#line 4432
  dvorakkeymap[18] = (char )'4';
#line 4432
  dvorakkeymap[19] = (char )'5';
#line 4432
  dvorakkeymap[20] = (char )'6';
#line 4432
  dvorakkeymap[21] = (char )'7';
#line 4432
  dvorakkeymap[22] = (char )'8';
#line 4432
  dvorakkeymap[23] = (char )'9';
#line 4432
  dvorakkeymap[24] = (char )'0';
#line 4432
  dvorakkeymap[25] = (char )'[';
#line 4432
  dvorakkeymap[26] = (char )']';
#line 4432
  dvorakkeymap[27] = (char )'\t';
#line 4432
  dvorakkeymap[28] = (char )'\t';
#line 4432
  dvorakkeymap[29] = (char )'\'';
#line 4432
  dvorakkeymap[30] = (char )',';
#line 4432
  dvorakkeymap[31] = (char )'.';
#line 4432
  dvorakkeymap[32] = (char )'p';
#line 4432
  dvorakkeymap[33] = (char )'y';
#line 4432
  dvorakkeymap[34] = (char )'f';
#line 4432
  dvorakkeymap[35] = (char )'g';
#line 4432
  dvorakkeymap[36] = (char )'c';
#line 4432
  dvorakkeymap[37] = (char )'r';
#line 4432
  dvorakkeymap[38] = (char )'l';
#line 4432
  dvorakkeymap[39] = (char )'/';
#line 4432
  dvorakkeymap[40] = (char )'=';
#line 4432
  dvorakkeymap[41] = (char )'\t';
#line 4432
  dvorakkeymap[42] = (char )'\t';
#line 4432
  dvorakkeymap[43] = (char )'a';
#line 4432
  dvorakkeymap[44] = (char )'o';
#line 4432
  dvorakkeymap[45] = (char )'e';
#line 4432
  dvorakkeymap[46] = (char )'u';
#line 4432
  dvorakkeymap[47] = (char )'i';
#line 4432
  dvorakkeymap[48] = (char )'d';
#line 4432
  dvorakkeymap[49] = (char )'h';
#line 4432
  dvorakkeymap[50] = (char )'t';
#line 4432
  dvorakkeymap[51] = (char )'n';
#line 4432
  dvorakkeymap[52] = (char )'s';
#line 4432
  dvorakkeymap[53] = (char )'-';
#line 4432
  dvorakkeymap[54] = (char )'\n';
#line 4432
  dvorakkeymap[55] = (char )'\t';
#line 4432
  dvorakkeymap[56] = (char )'\t';
#line 4432
  dvorakkeymap[57] = (char )';';
#line 4432
  dvorakkeymap[58] = (char )'q';
#line 4432
  dvorakkeymap[59] = (char )'j';
#line 4432
  dvorakkeymap[60] = (char )'k';
#line 4432
  dvorakkeymap[61] = (char )'x';
#line 4432
  dvorakkeymap[62] = (char )'b';
#line 4432
  dvorakkeymap[63] = (char )'m';
#line 4432
  dvorakkeymap[64] = (char )'w';
#line 4432
  dvorakkeymap[65] = (char )'v';
#line 4432
  dvorakkeymap[66] = (char )'z';
#line 4432
  dvorakkeymap[67] = (char )'\t';
#line 4432
  dvorakkeymap[68] = (char )'\t';
#line 4432
  dvorakkeymap[69] = (char )'\t';
#line 4432
  dvorakkeymap[70] = (char )'\n';
#line 4432
  dvorakkeymap[71] = (char )'\n';
#line 4432
  dvorakkeymap[72] = (char )'\n';
#line 4432
  dvorakkeymap[73] = (char )'\n';
#line 4432
  dvorakkeymap[74] = (char )'\n';
#line 4432
  dvorakkeymap[75] = (char )'\n';
#line 4432
  dvorakkeymap[76] = (char )'\n';
#line 4432
  dvorakkeymap[77] = (char )'\n';
#line 4432
  dvorakkeymap[78] = (char )'\n';
#line 4432
  dvorakkeymap[79] = (char )'\n';
#line 4432
  dvorakkeymap[80] = (char )'\n';
#line 4432
  dvorakkeymap[81] = (char )'\n';
#line 4432
  dvorakkeymap[82] = (char )'\n';
#line 4432
  dvorakkeymap[83] = (char )'\n';
#line 4432
  dvorakkeymap[84] = (char )'\t';
#line 4432
  dvorakkeymap[85] = (char )'!';
#line 4432
  dvorakkeymap[86] = (char )'@';
#line 4432
  dvorakkeymap[87] = (char )'#';
#line 4432
  dvorakkeymap[88] = (char )'$';
#line 4432
  dvorakkeymap[89] = (char )'%';
#line 4432
  dvorakkeymap[90] = (char )'^';
#line 4432
  dvorakkeymap[91] = (char )'&';
#line 4432
  dvorakkeymap[92] = (char )'*';
#line 4432
  dvorakkeymap[93] = (char )'(';
#line 4432
  dvorakkeymap[94] = (char )')';
#line 4432
  dvorakkeymap[95] = (char )'{';
#line 4432
  dvorakkeymap[96] = (char )'}';
#line 4432
  dvorakkeymap[97] = (char )'\t';
#line 4432
  dvorakkeymap[98] = (char )'\t';
#line 4432
  dvorakkeymap[99] = (char )'\"';
#line 4432
  dvorakkeymap[100] = (char )'<';
#line 4432
  dvorakkeymap[101] = (char )'>';
#line 4432
  dvorakkeymap[102] = (char )'P';
#line 4432
  dvorakkeymap[103] = (char )'Y';
#line 4432
  dvorakkeymap[104] = (char )'F';
#line 4432
  dvorakkeymap[105] = (char )'G';
#line 4432
  dvorakkeymap[106] = (char )'C';
#line 4432
  dvorakkeymap[107] = (char )'R';
#line 4432
  dvorakkeymap[108] = (char )'L';
#line 4432
  dvorakkeymap[109] = (char )'?';
#line 4432
  dvorakkeymap[110] = (char )'+';
#line 4432
  dvorakkeymap[111] = (char )'\t';
#line 4432
  dvorakkeymap[112] = (char )'\t';
#line 4432
  dvorakkeymap[113] = (char )'A';
#line 4432
  dvorakkeymap[114] = (char )'O';
#line 4432
  dvorakkeymap[115] = (char )'E';
#line 4432
  dvorakkeymap[116] = (char )'U';
#line 4432
  dvorakkeymap[117] = (char )'I';
#line 4432
  dvorakkeymap[118] = (char )'D';
#line 4432
  dvorakkeymap[119] = (char )'H';
#line 4432
  dvorakkeymap[120] = (char )'T';
#line 4432
  dvorakkeymap[121] = (char )'N';
#line 4432
  dvorakkeymap[122] = (char )'S';
#line 4432
  dvorakkeymap[123] = (char )'_';
#line 4432
  dvorakkeymap[124] = (char )'\n';
#line 4432
  dvorakkeymap[125] = (char )'\t';
#line 4432
  dvorakkeymap[126] = (char )'\t';
#line 4432
  dvorakkeymap[127] = (char )':';
#line 4432
  dvorakkeymap[128] = (char )'Q';
#line 4432
  dvorakkeymap[129] = (char )'J';
#line 4432
  dvorakkeymap[130] = (char )'K';
#line 4432
  dvorakkeymap[131] = (char )'X';
#line 4432
  dvorakkeymap[132] = (char )'B';
#line 4432
  dvorakkeymap[133] = (char )'M';
#line 4432
  dvorakkeymap[134] = (char )'W';
#line 4432
  dvorakkeymap[135] = (char )'V';
#line 4432
  dvorakkeymap[136] = (char )'Z';
#line 4432
  dvorakkeymap[137] = (char )'\n';
#line 4432
  dvorakkeymap[138] = (char )'\n';
#line 4432
  dvorakkeymap[139] = (char )'\t';
#line 4432
  dvorakkeymap[140] = (char )'\n';
#line 4432
  dvorakkeymap[141] = (char )'\n';
#line 4432
  dvorakkeymap[142] = (char )'\n';
#line 4432
  dvorakkeymap[143] = (char )'\n';
#line 4432
  dvorakkeymap[144] = (char )'\n';
#line 4432
  dvorakkeymap[145] = (char )'\n';
#line 4432
  dvorakkeymap[146] = (char )'\n';
#line 4432
  dvorakkeymap[147] = (char )'\n';
#line 4432
  dvorakkeymap[148] = (char )'\n';
#line 4432
  dvorakkeymap[149] = (char )'\n';
#line 4432
  dvorakkeymap[150] = (char )'\n';
#line 4432
  dvorakkeymap[151] = (char )'\n';
#line 4432
  dvorakkeymap[152] = (char )'\n';
#line 4432
  dvorakkeymap[153] = (char )'\n';
#line 4432
  dvorakkeymap[154] = (char )'\000';
#line 4445
  if (opts[177]) {
#line 4446
    keymap = (char const   *)(dvorakkeymap);
  } else {
#line 4448
    keymap = (char const   *)(qwertykeymap);
  }
  {
#line 4450
  tmp = strcmp((char const   *)s, (char const   *)t);
  }
#line 4450
  if (! tmp) {
#line 4451
    return (0);
  }
#line 4453
  p = s;
#line 4453
  q = t;
  {
#line 4453
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4453
    if (*p) {
      {
#line 4453
      tmp___0 = tulower((int )*p);
#line 4453
      tmp___1 = tulower((int )*q);
      }
#line 4453
      if (! (tmp___0 == tmp___1)) {
#line 4453
        goto while_break;
      }
    } else {
#line 4453
      goto while_break;
    }
#line 4453
    p ++;
#line 4453
    q ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4454
  if (! *p) {
#line 4454
    if (! *q) {
#line 4455
      return (1);
    }
  }
#line 4456
  if (! thresh) {
#line 4457
    return (200);
  }
#line 4458
  p = s;
#line 4458
  q = t;
  {
#line 4458
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4458
    if (*p) {
#line 4458
      if (! *q) {
#line 4458
        goto while_break___0;
      }
    } else {
#line 4458
      goto while_break___0;
    }
#line 4459
    if (! ((int )*p == (int )*q)) {
#line 4461
      if ((int )*(p + 1) == (int )*(q + 0)) {
#line 4461
        if ((int )*(q + 1) == (int )*(p + 0)) {
          {
#line 4462
          tmp___2 = spdist(p + 2, q + 2, thresh - 1);
          }
#line 4462
          return (tmp___2 + 1);
        } else {
#line 4461
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 4463
      if ((int )*(p + 1) == (int )*(q + 0)) {
        {
#line 4464
        tmp___3 = spdist(p + 1, q + 0, thresh - 1);
        }
#line 4464
        return (tmp___3 + 2);
      } else
#line 4465
      if ((int )*(p + 0) == (int )*(q + 1)) {
        {
#line 4466
        tmp___4 = spdist(p + 0, q + 1, thresh - 1);
        }
#line 4466
        return (tmp___4 + 2);
      } else
#line 4467
      if ((int )*p != (int )*q) {
#line 4468
        goto while_break___0;
      }
    }
    __Cont: /* CIL Label */ 
#line 4458
    p ++;
#line 4458
    q ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4469
  if (! *p) {
    {
#line 4469
    tmp___5 = strlen((char const   *)q);
    }
#line 4469
    if (tmp___5 == 1UL) {
#line 4470
      return (2);
    } else {
#line 4469
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 4469
  if (! *q) {
    {
#line 4469
    tmp___6 = strlen((char const   *)p);
    }
#line 4469
    if (tmp___6 == 1UL) {
#line 4470
      return (2);
    }
  }
#line 4471
  p = s;
#line 4471
  q = t;
  {
#line 4471
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 4471
    if (*p) {
#line 4471
      if (! *q) {
#line 4471
        goto while_break___1;
      }
    } else {
#line 4471
      goto while_break___1;
    }
#line 4472
    if ((int )*(p + 0) != (int )*(q + 0)) {
#line 4472
      if ((int )*(p + 1) == (int )*(q + 1)) {
        {
#line 4478
        z = strchr(keymap, (int )*(p + 0));
        }
#line 4478
        if (z) {
#line 4478
          if ((int )*z == 10) {
            {
#line 4479
            tmp___7 = spdist(p + 1, q + 1, thresh - 1);
            }
#line 4479
            return (tmp___7 + 1);
          } else
#line 4478
          if ((int )*z == 9) {
            {
#line 4479
            tmp___7 = spdist(p + 1, q + 1, thresh - 1);
            }
#line 4479
            return (tmp___7 + 1);
          }
        } else {
          {
#line 4479
          tmp___7 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4479
          return (tmp___7 + 1);
        }
#line 4480
        t0 = (int )(z - (char *)keymap);
#line 4481
        if ((int )*q == (int )*(keymap + (t0 - 15))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        } else
#line 4481
        if ((int )*q == (int )*(keymap + (t0 - 14))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        } else
#line 4481
        if ((int )*q == (int )*(keymap + (t0 - 13))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        } else
#line 4481
        if ((int )*q == (int )*(keymap + (t0 - 1))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        } else
#line 4481
        if ((int )*q == (int )*(keymap + (t0 + 1))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        } else
#line 4481
        if ((int )*q == (int )*(keymap + (t0 + 13))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        } else
#line 4481
        if ((int )*q == (int )*(keymap + (t0 + 14))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        } else
#line 4481
        if ((int )*q == (int )*(keymap + (t0 + 15))) {
          {
#line 4486
          tmp___8 = spdist(p + 1, q + 1, thresh - 1);
          }
#line 4486
          return (tmp___8 + 2);
        }
#line 4487
        return (200);
      } else {
#line 4472
        goto _L___1;
      }
    } else
    _L___1: /* CIL Label */ 
#line 4488
    if ((int )*p != (int )*q) {
#line 4489
      goto while_break___1;
    }
#line 4471
    p ++;
#line 4471
    q ++;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 4490
  return (200);
}
}
#line 4496 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void setcbreak(void) 
{ 
  struct ttyinfo ti ;
  void *__cil_tmp2 ;

  {
  {
#line 4501
  ti = shttyinfo;
#line 4503
  ti.tio.c_lflag &= 4294967293U;
#line 4504
  ti.tio.c_cc[6] = (cc_t )1;
#line 4505
  ti.tio.c_cc[5] = (cc_t )0;
#line 4509
  settyinfo(& ti);
  }
#line 4510
  return;
}
}
#line 4518 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int ep  =    0;
#line 4515 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void attachtty(pid_t pgrp ) 
{ 
  int *tmp ;
  int *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp6 ;

  {
#line 4520
  if (opts[115]) {
#line 4520
    if (opts[92]) {
#line 4522
      if (SHTTY != -1) {
        {
#line 4522
        tmp___2 = tcsetpgrp(SHTTY, pgrp);
        }
#line 4522
        if (tmp___2 == -1) {
#line 4522
          if (! ep) {
#line 4533
            if (pgrp != mypgrp) {
              {
#line 4533
              tmp___1 = kill(- pgrp, 0);
              }
#line 4533
              if (tmp___1 == -1) {
                {
#line 4534
                attachtty(mypgrp);
                }
              } else {
#line 4533
                goto _L;
              }
            } else {
              _L: /* CIL Label */ 
              {
#line 4536
              tmp___0 = __errno_location();
              }
#line 4536
              if (*tmp___0 != 25) {
                {
#line 4538
                tmp = __errno_location();
#line 4538
                zwarn("can\'t set tty pgrp: %e", *tmp);
#line 4539
                fflush(stderr);
                }
              }
#line 4541
              opts[115] = (char)0;
#line 4542
              ep = 1;
            }
          }
        }
      }
    }
  }
#line 4546
  return;
}
}
#line 4551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
pid_t gettygrp(void) 
{ 
  pid_t arg ;

  {
#line 4556
  if (SHTTY == -1) {
#line 4557
    return (-1);
  }
  {
#line 4560
  arg = tcgetpgrp(SHTTY);
  }
#line 4565
  return (arg);
}
}
#line 4597 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char mbuf[8193]  ;
#line 4592 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *metafy(char *buf___7 , int len , int heap ) 
{ 
  int meta___0 ;
  char *t ;
  char *p ;
  char *e ;
  char *tmp ;
  char *tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;
  void *tmp___7 ;
  char *tmp___8 ;
  char tmp___9 ;

  {
#line 4595
  meta___0 = 0;
#line 4599
  if (len == -1) {
#line 4600
    e = buf___7;
#line 4600
    len = 0;
    {
#line 4600
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4600
      if (! *e) {
#line 4600
        goto while_break;
      }
#line 4601
      tmp = e;
#line 4601
      e ++;
#line 4601
      if ((int )typtab[(unsigned char )*tmp] & (1 << 12)) {
#line 4602
        meta___0 ++;
      }
#line 4600
      len ++;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 4604
    e = buf___7;
    {
#line 4604
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4604
      if (! ((unsigned long )e < (unsigned long )(buf___7 + len))) {
#line 4604
        goto while_break___0;
      }
#line 4605
      tmp___0 = e;
#line 4605
      e ++;
#line 4605
      if ((int )typtab[(unsigned char )*tmp___0] & (1 << 12)) {
#line 4606
        meta___0 ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 4608
  if (meta___0) {
#line 4608
    goto _L;
  } else
#line 4608
  if (heap == 3) {
#line 4608
    goto _L;
  } else
#line 4608
  if (heap == 6) {
    _L: /* CIL Label */ 
    {
#line 4610
    if (heap == 0) {
#line 4610
      goto case_0;
    }
#line 4613
    if (heap == 7) {
#line 4613
      goto case_7;
    }
#line 4617
    if (heap == 3) {
#line 4617
      goto case_3;
    }
#line 4617
    if (heap == 4) {
#line 4617
      goto case_3;
    }
#line 4621
    if (heap == 6) {
#line 4621
      goto case_6;
    }
#line 4621
    if (heap == 1) {
#line 4621
      goto case_6;
    }
#line 4624
    if (heap == 2) {
#line 4624
      goto case_2;
    }
#line 4609
    goto switch_break;
    case_0: /* CIL Label */ 
    {
#line 4611
    tmp___1 = zrealloc((void *)buf___7, (size_t )((len + meta___0) + 1));
#line 4611
    buf___7 = (char *)tmp___1;
    }
#line 4612
    goto switch_break;
    case_7: /* CIL Label */ 
    {
#line 4614
    tmp___2 = hrealloc(buf___7, (size_t )len, (size_t )((len + meta___0) + 1));
#line 4614
    buf___7 = (char *)tmp___2;
    }
#line 4615
    goto switch_break;
    case_3: /* CIL Label */ 
    case_4: /* CIL Label */ 
    {
#line 4618
    tmp___3 = zalloc((size_t )((len + meta___0) + 1));
#line 4618
    tmp___4 = memcpy((void */* __restrict  */)tmp___3, (void const   */* __restrict  */)buf___7,
                     (size_t )len);
#line 4618
    buf___7 = (char *)tmp___4;
    }
#line 4619
    goto switch_break;
    case_6: /* CIL Label */ 
    case_1: /* CIL Label */ 
    {
#line 4622
    tmp___5 = zhalloc((size_t )((len + meta___0) + 1));
#line 4622
    tmp___6 = memcpy((void */* __restrict  */)tmp___5, (void const   */* __restrict  */)buf___7,
                     (size_t )len);
#line 4622
    buf___7 = (char *)tmp___6;
    }
#line 4623
    goto switch_break;
    case_2: /* CIL Label */ 
    {
#line 4631
    tmp___7 = memcpy((void */* __restrict  */)(mbuf), (void const   */* __restrict  */)buf___7,
                     (size_t )len);
#line 4631
    buf___7 = (char *)tmp___7;
    }
#line 4632
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 4642
    p = buf___7 + len;
#line 4643
    t = (buf___7 + len) + meta___0;
#line 4643
    e = t;
    {
#line 4644
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 4644
      if (! meta___0) {
#line 4644
        goto while_break___1;
      }
#line 4645
      t --;
#line 4645
      p --;
#line 4645
      tmp___9 = *p;
#line 4645
      *t = tmp___9;
#line 4645
      if ((int )typtab[(unsigned char )tmp___9] & (1 << 12)) {
#line 4646
        tmp___8 = t;
#line 4646
        t --;
#line 4646
        *tmp___8 = (char )((int )*tmp___8 ^ 32);
#line 4647
        *t = (char)-125;
#line 4648
        meta___0 --;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
  }
#line 4652
  *e = (char )'\000';
#line 4653
  return (buf___7);
}
}
#line 4665 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *ztrdup_metafy(char const   *s ) 
{ 
  char *tmp ;

  {
#line 4669
  if (! s) {
#line 4670
    return ((char *)((void *)0));
  }
  {
#line 4675
  tmp = metafy((char *)s, -1, 3);
  }
#line 4675
  return (tmp);
}
}
#line 4690 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *unmetafy(char *s , int *len ) 
{ 
  char *p ;
  char *t ;
  char *tmp ;
  char *tmp___0 ;
  char tmp___1 ;
  char *tmp___2 ;

  {
#line 4695
  p = s;
  {
#line 4695
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4695
    if (*p) {
#line 4695
      if (! ((int )*p != -125)) {
#line 4695
        goto while_break;
      }
    } else {
#line 4695
      goto while_break;
    }
#line 4695
    p ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4696
  t = p;
  {
#line 4696
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4696
    tmp___2 = p;
#line 4696
    p ++;
#line 4696
    tmp___1 = *tmp___2;
#line 4696
    *t = tmp___1;
#line 4696
    if (! tmp___1) {
#line 4696
      goto while_break___0;
    }
#line 4697
    tmp___0 = t;
#line 4697
    t ++;
#line 4697
    if ((int )*tmp___0 == -125) {
#line 4697
      if (*p) {
#line 4698
        tmp = p;
#line 4698
        p ++;
#line 4698
        *(t + -1) = (char )((int )*tmp ^ 32);
      }
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4699
  if (len) {
#line 4700
    *len = (int )(t - s);
  }
#line 4701
  return (s);
}
}
#line 4708 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int metalen(char const   *s , int len ) 
{ 
  int mlen ;
  char const   *tmp ;
  int tmp___0 ;

  {
#line 4711
  mlen = len;
  {
#line 4713
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4713
    tmp___0 = len;
#line 4713
    len --;
#line 4713
    if (! tmp___0) {
#line 4713
      goto while_break;
    }
#line 4714
    tmp = s;
#line 4714
    s ++;
#line 4714
    if ((int const   )*tmp == -125) {
#line 4715
      mlen ++;
#line 4716
      s ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4719
  return (mlen);
}
}
#line 4733 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char *fn  ;
#line 4734 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int sz  ;
#line 4730 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *unmeta(char const   *file_name ) 
{ 
  char *p ;
  char const   *t ;
  int newsz ;
  int meta___0 ;
  void *tmp ;
  char const   *tmp___0 ;
  char tmp___1 ;
  char const   *tmp___2 ;

  {
#line 4739
  if (! file_name) {
#line 4740
    return ((char *)((void *)0));
  }
#line 4742
  meta___0 = 0;
#line 4743
  t = file_name;
  {
#line 4743
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4743
    if (! *t) {
#line 4743
      goto while_break;
    }
#line 4744
    if ((int const   )*t == -125) {
#line 4745
      meta___0 = 1;
    }
#line 4743
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4747
  if (! meta___0) {
#line 4751
    if (sz > 16384) {
      {
#line 4752
      zfree((void *)fn, sz);
#line 4753
      fn = (char *)((void *)0);
#line 4754
      sz = 0;
      }
    }
#line 4756
    return ((char *)file_name);
  }
#line 4759
  newsz = (int )((t - file_name) + 1L);
#line 4768
  if (! fn) {
#line 4768
    goto _L;
  } else
#line 4768
  if (newsz > sz) {
#line 4768
    goto _L;
  } else
#line 4768
  if (sz > 16384) {
#line 4768
    if (newsz <= 16384) {
      _L: /* CIL Label */ 
#line 4770
      if (fn) {
        {
#line 4771
        zfree((void *)fn, sz);
        }
      }
      {
#line 4772
      sz = newsz;
#line 4773
      tmp = zalloc((size_t )sz);
#line 4773
      fn = (char *)tmp;
      }
#line 4774
      if (! fn) {
#line 4775
        sz = 0;
#line 4779
        return ((char *)((void *)0));
      }
    }
  }
#line 4783
  t = file_name;
#line 4783
  p = fn;
  {
#line 4783
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4783
    if (! *t) {
#line 4783
      goto while_break___0;
    }
#line 4784
    tmp___2 = t;
#line 4784
    t ++;
#line 4784
    tmp___1 = (char )*tmp___2;
#line 4784
    *p = tmp___1;
#line 4784
    if ((int )tmp___1 == -125) {
#line 4784
      if (*t) {
#line 4785
        tmp___0 = t;
#line 4785
        t ++;
#line 4785
        *p = (char )((int const   )*tmp___0 ^ 32);
      }
    }
#line 4783
    p ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4786
  *p = (char )'\000';
#line 4787
  return (fn);
}
}
#line 4807 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int ztrcmp(char const   *s1 , char const   *s2 ) 
{ 
  int c1 ;
  int c2 ;

  {
  {
#line 4812
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4812
    if (*s1) {
#line 4812
      if (! ((int const   )*s1 == (int const   )*s2)) {
#line 4812
        goto while_break;
      }
    } else {
#line 4812
      goto while_break;
    }
#line 4813
    s1 ++;
#line 4814
    s2 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4817
  c1 = (int )*s1;
#line 4817
  if (c1) {
#line 4819
    if (c1 == 131) {
#line 4820
      s1 ++;
#line 4820
      c1 = (int )((int const   )*s1 ^ 32);
    }
  } else {
#line 4818
    c1 = -1;
  }
#line 4821
  c2 = (int )*s2;
#line 4821
  if (c2) {
#line 4823
    if (c2 == 131) {
#line 4824
      s2 ++;
#line 4824
      c2 = (int )((int const   )*s2 ^ 32);
    }
  } else {
#line 4822
    c2 = -1;
  }
#line 4826
  if (c1 == c2) {
#line 4827
    return (0);
  } else
#line 4828
  if (c1 < c2) {
#line 4829
    return (-1);
  } else {
#line 4831
    return (1);
  }
}
}
#line 4837 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int ztrlen(char const   *s ) 
{ 
  int l ;
  char const   *tmp ;

  {
#line 4842
  l = 0;
  {
#line 4842
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4842
    if (! *s) {
#line 4842
      goto while_break;
    }
#line 4843
    tmp = s;
#line 4843
    s ++;
#line 4843
    if ((int const   )*tmp == -125) {
#line 4850
      s ++;
    }
#line 4842
    l ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4853
  return (l);
}
}
#line 4888 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int ztrsub(char const   *t , char const   *s ) 
{ 
  int l ;
  char const   *tmp ;

  {
#line 4891
  l = (int )(t - s);
  {
#line 4893
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4893
    if (! ((unsigned long )s != (unsigned long )t)) {
#line 4893
      goto while_break;
    }
#line 4894
    tmp = s;
#line 4894
    s ++;
#line 4894
    if ((int const   )*tmp == -125) {
#line 4900
      s ++;
#line 4901
      l --;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4904
  return (l);
}
}
#line 4908 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *zreaddir(DIR *dir , int ignoredots ) 
{ 
  struct dirent *de ;
  char *tmp ;

  {
  {
#line 4919
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4920
    de = readdir(dir);
    }
#line 4921
    if (! de) {
#line 4922
      return ((char *)((void *)0));
    }
#line 4919
    if (ignoredots) {
#line 4919
      if ((int )de->d_name[0] == 46) {
#line 4919
        if (! (! de->d_name[1])) {
#line 4919
          if ((int )de->d_name[1] == 46) {
#line 4919
            if (! (! de->d_name[2])) {
#line 4919
              goto while_break;
            }
          } else {
#line 4919
            goto while_break;
          }
        }
      } else {
#line 4919
        goto while_break;
      }
    } else {
#line 4919
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4950
  tmp = metafy(de->d_name, -1, 2);
  }
#line 4950
  return (tmp);
}
}
#line 4956 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int zputs(char const   *s , FILE *stream ) 
{ 
  int c ;
  int tmp ;

  {
  {
#line 4961
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4961
    if (! *s) {
#line 4961
      goto while_break;
    }
#line 4962
    if ((int const   )*s == -125) {
#line 4963
      s ++;
#line 4963
      c = (int )((int const   )*s ^ 32);
    } else
#line 4964
    if ((int )typtab[(unsigned char )*s] & (1 << 4)) {
#line 4965
      s ++;
#line 4966
      goto while_continue;
    } else {
#line 4968
      c = (int )*s;
    }
    {
#line 4969
    s ++;
#line 4970
    tmp = fputc(c, stream);
    }
#line 4970
    if (tmp < 0) {
#line 4971
      return (-1);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4973
  return (0);
}
}
#line 5007 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *nicedupstring(char const   *s ) 
{ 
  char *tmp ;

  {
  {
#line 5010
  tmp = nicedup(s, 1);
  }
#line 5010
  return (tmp);
}
}
#line 5083 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
size_t mb_niceformat(char const   *s , FILE *stream , char **outstrp , int flags ) 
{ 
  size_t l ;
  size_t newl ;
  int umlen ;
  int outalloc ;
  int outleft ;
  int eol ;
  wchar_t c ;
  char *ums ;
  char *ptr___0 ;
  char *fmt ;
  char *outstr ;
  char *outptr ;
  mbstate_t mbs ;
  size_t tmp ;
  void *tmp___0 ;
  size_t cnt ;
  size_t tmp___1 ;
  size_t tmp___2 ;
  int outlen ;
  size_t tmp___3 ;
  int outoffset ;
  void *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  void *__cil_tmp29 ;
  char *__cil_tmp30 ;

  {
#line 5086
  l = (size_t )0;
#line 5087
  eol = 0;
#line 5092
  if (outstrp) {
    {
#line 5093
    tmp = strlen(s);
#line 5093
    outalloc = (int )(5UL * tmp);
#line 5093
    outleft = outalloc;
#line 5094
    tmp___0 = zalloc((size_t )outalloc);
#line 5094
    outstr = (char *)tmp___0;
#line 5094
    outptr = outstr;
    }
  } else {
#line 5096
    outalloc = 0;
#line 5096
    outleft = outalloc;
#line 5097
    outstr = (char *)((void *)0);
#line 5097
    outptr = outstr;
  }
  {
#line 5100
  ums = ztrdup(s);
#line 5106
  untokenize(ums);
#line 5107
  ptr___0 = unmetafy(ums, & umlen);
#line 5109
  memset((void *)(& mbs), 0, sizeof(mbs));
  }
  {
#line 5110
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5110
    if (! (umlen > 0)) {
#line 5110
      goto while_break;
    }
#line 5111
    if (eol) {
#line 5111
      tmp___2 = (size_t )-1;
    } else {
      {
#line 5111
      tmp___1 = mbrtowc((wchar_t */* __restrict  */)(& c), (char const   */* __restrict  */)ptr___0,
                        (size_t )umlen, (mbstate_t */* __restrict  */)(& mbs));
#line 5111
      tmp___2 = tmp___1;
      }
    }
#line 5111
    cnt = tmp___2;
    {
#line 5114
    if (cnt == 0xfffffffffffffffeUL) {
#line 5114
      goto case_18446744073709551614;
    }
#line 5117
    if (cnt == 0xffffffffffffffffUL) {
#line 5117
      goto case_18446744073709551615;
    }
#line 5125
    if (cnt == 0UL) {
#line 5125
      goto case_0;
    }
#line 5130
    goto switch_default;
    case_18446744073709551614: /* CIL Label */ 
#line 5115
    eol = 1;
    case_18446744073709551615: /* CIL Label */ 
    {
#line 5119
    fmt = nicechar_sel((int )*ptr___0, flags & 2);
#line 5120
    newl = strlen((char const   *)fmt);
#line 5121
    cnt = (size_t )1;
#line 5123
    memset((void *)(& mbs), 0, sizeof(mbs));
    }
#line 5124
    goto switch_break;
    case_0: /* CIL Label */ 
#line 5128
    cnt = (size_t )1;
    switch_default: /* CIL Label */ 
#line 5131
    if (c == 39) {
#line 5131
      if (flags & 2) {
#line 5132
        fmt = (char *)"\\\'";
#line 5133
        newl = (size_t )2;
      } else {
        {
#line 5136
        fmt = wcs_nicechar_sel(c, & newl, (char **)((void *)0), flags & 2);
        }
      }
    } else {
      {
#line 5136
      fmt = wcs_nicechar_sel(c, & newl, (char **)((void *)0), flags & 2);
      }
    }
#line 5137
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 5140
    umlen = (int )((size_t )umlen - cnt);
#line 5141
    ptr___0 += cnt;
#line 5142
    l += newl;
#line 5144
    if (stream) {
      {
#line 5145
      zputs((char const   *)fmt, stream);
      }
    }
#line 5146
    if (outstr) {
      {
#line 5148
      tmp___3 = strlen((char const   *)fmt);
#line 5148
      outlen = (int )tmp___3;
      }
#line 5149
      if (outlen >= outleft) {
        {
#line 5151
        outoffset = (int )(outptr - outstr);
#line 5153
        outleft += outalloc;
#line 5154
        outalloc *= 2;
#line 5155
        tmp___4 = zrealloc((void *)outstr, (size_t )outalloc);
#line 5155
        outstr = (char *)tmp___4;
#line 5156
        outptr = outstr + outoffset;
        }
      }
      {
#line 5158
      memcpy((void */* __restrict  */)outptr, (void const   */* __restrict  */)fmt,
             (size_t )outlen);
#line 5160
      outptr += outlen;
#line 5162
      outleft -= outlen;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 5166
  free((void *)ums);
  }
#line 5167
  if (outstrp) {
#line 5168
    *outptr = (char )'\000';
#line 5170
    if (flags & 4) {
#line 5171
      *outstrp = outstr;
    } else {
#line 5173
      if (flags & 1) {
        {
#line 5173
        tmp___5 = dupstring((char const   *)outstr);
#line 5173
        *outstrp = tmp___5;
        }
      } else {
        {
#line 5173
        tmp___6 = ztrdup((char const   *)outstr);
#line 5173
        *outstrp = tmp___6;
        }
      }
      {
#line 5175
      free((void *)outstr);
      }
    }
  }
#line 5179
  return (l);
}
}
#line 5187 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int is_mb_niceformat(char const   *s ) 
{ 
  int umlen ;
  int eol ;
  int ret ;
  wchar_t c ;
  char *ums ;
  char *ptr___0 ;
  mbstate_t mbs ;
  size_t cnt ;
  size_t tmp ;
  size_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  void *__cil_tmp14 ;

  {
  {
#line 5190
  eol = 0;
#line 5190
  ret = 0;
#line 5195
  ums = ztrdup(s);
#line 5196
  untokenize(ums);
#line 5197
  ptr___0 = unmetafy(ums, & umlen);
#line 5199
  memset((void *)(& mbs), 0, sizeof(mbs));
  }
  {
#line 5200
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5200
    if (! (umlen > 0)) {
#line 5200
      goto while_break;
    }
#line 5201
    if (eol) {
#line 5201
      tmp___0 = (size_t )-1;
    } else {
      {
#line 5201
      tmp = mbrtowc((wchar_t */* __restrict  */)(& c), (char const   */* __restrict  */)ptr___0,
                    (size_t )umlen, (mbstate_t */* __restrict  */)(& mbs));
#line 5201
      tmp___0 = tmp;
      }
    }
#line 5201
    cnt = tmp___0;
    {
#line 5204
    if (cnt == 0xfffffffffffffffeUL) {
#line 5204
      goto case_18446744073709551614;
    }
#line 5207
    if (cnt == 0xffffffffffffffffUL) {
#line 5207
      goto case_18446744073709551615;
    }
#line 5217
    if (cnt == 0UL) {
#line 5217
      goto case_0;
    }
#line 5222
    goto switch_default;
    case_18446744073709551614: /* CIL Label */ 
#line 5205
    eol = 1;
    case_18446744073709551615: /* CIL Label */ 
    {
#line 5209
    tmp___1 = is_nicechar((int )*ptr___0);
    }
#line 5209
    if (tmp___1) {
#line 5210
      ret = 1;
#line 5211
      goto switch_break;
    }
    {
#line 5213
    cnt = (size_t )1;
#line 5215
    memset((void *)(& mbs), 0, sizeof(mbs));
    }
#line 5216
    goto switch_break;
    case_0: /* CIL Label */ 
#line 5220
    cnt = (size_t )1;
    switch_default: /* CIL Label */ 
    {
#line 5223
    tmp___2 = is_wcs_nicechar(c);
    }
#line 5223
    if (tmp___2) {
#line 5224
      ret = 1;
    }
#line 5225
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 5228
    if (ret) {
#line 5229
      goto while_break;
    }
#line 5231
    umlen = (int )((size_t )umlen - cnt);
#line 5232
    ptr___0 += cnt;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 5235
  free((void *)ums);
  }
#line 5237
  return (ret);
}
}
#line 5243 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *nicedup(char const   *s , int heap ) 
{ 
  char *retstr ;
  int tmp ;

  {
#line 5248
  if (heap) {
#line 5248
    tmp = 1;
  } else {
#line 5248
    tmp = 0;
  }
  {
#line 5248
  mb_niceformat(s, (FILE *)((void *)0), & retstr, tmp);
  }
#line 5250
  return (retstr);
}
}
#line 5261 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int mb_metacharlenconv_r(char const   *s , wint_t *wcp , mbstate_t *mbsp ) 
{ 
  size_t ret ;
  char inchar ;
  char const   *ptr___0 ;
  wchar_t wc ;

  {
#line 5264
  ret = (size_t )-1;
#line 5269
  if ((int )((unsigned char )*s) <= 127) {
#line 5270
    if (wcp) {
#line 5271
      *wcp = (wint_t )*s;
    }
#line 5272
    return (1);
  }
#line 5275
  ptr___0 = s;
  {
#line 5275
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5275
    if (! *ptr___0) {
#line 5275
      goto while_break;
    }
#line 5276
    if ((int const   )*ptr___0 == -125) {
#line 5277
      ptr___0 ++;
#line 5277
      inchar = (char )((int const   )*ptr___0 ^ 32);
    } else
#line 5280
    if ((int )typtab[(unsigned char )*ptr___0] & (1 << 12)) {
#line 5287
      goto while_break;
    } else {
#line 5289
      inchar = (char )*ptr___0;
    }
    {
#line 5290
    ptr___0 ++;
#line 5291
    ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)(& inchar),
                  (size_t )1, (mbstate_t */* __restrict  */)mbsp);
    }
#line 5293
    if (ret == 0xffffffffffffffffUL) {
#line 5294
      goto while_break;
    }
#line 5295
    if (ret == 0xfffffffffffffffeUL) {
#line 5296
      goto __Cont;
    }
#line 5297
    if (wcp) {
#line 5298
      *wcp = (wint_t )wc;
    }
#line 5299
    return ((int )(ptr___0 - s));
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 5302
  if (wcp) {
#line 5303
    *wcp = 4294967295U;
  }
  {
#line 5305
  memset((void *)mbsp, 0, sizeof(*mbsp));
  }
#line 5306
  if ((unsigned long )ptr___0 > (unsigned long )s) {
#line 5307
    return (1 + ((int const   )*s == -125));
  } else {
#line 5309
    return (0);
  }
}
}
#line 5324 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int mb_metacharlenconv(char const   *s , wint_t *wcp ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
#line 5327
  if (! opts[116]) {
#line 5327
    goto _L;
  } else
#line 5327
  if ((int )((unsigned char )*s) <= 127) {
    _L: /* CIL Label */ 
#line 5329
    if (wcp) {
#line 5330
      if ((int const   )*s == -125) {
#line 5330
        tmp = (int const   )*(s + 1) ^ 32;
      } else {
#line 5330
        tmp = (int const   )*s;
      }
#line 5330
      *wcp = (wint_t )tmp;
    }
#line 5331
    return (1 + ((int const   )*s == -125));
  }
#line 5343
  if ((int )typtab[(unsigned char )*s] & (1 << 4)) {
#line 5344
    if (wcp) {
#line 5345
      *wcp = 4294967295U;
    }
#line 5346
    return (1);
  }
  {
#line 5349
  tmp___0 = mb_metacharlenconv_r(s, wcp, & mb_shiftstate);
  }
#line 5349
  return (tmp___0);
}
}
#line 5368 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int mb_metastrlenend(char *ptr___0 , int width , char *eptr ) 
{ 
  char inchar ;
  char *laststart ;
  size_t ret ;
  wchar_t wc ;
  int num ;
  int num_in_char ;
  int complete ;
  int tmp ;
  int wcw ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 5376
  if (! opts[116]) {
    {
#line 5377
    tmp = ztrlen((char const   *)ptr___0);
    }
#line 5377
    return (tmp);
  }
  {
#line 5379
  laststart = ptr___0;
#line 5380
  ret = (size_t )-1;
#line 5381
  num_in_char = 0;
#line 5381
  num = num_in_char;
#line 5382
  complete = 1;
#line 5384
  memset((void *)(& mb_shiftstate), 0, sizeof(mb_shiftstate));
  }
  {
#line 5385
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5385
    if (*ptr___0) {
#line 5385
      if (eptr) {
#line 5385
        if ((unsigned long )ptr___0 >= (unsigned long )eptr) {
#line 5385
          goto while_break;
        }
      }
    } else {
#line 5385
      goto while_break;
    }
#line 5386
    if ((int )*ptr___0 == -125) {
#line 5387
      ptr___0 ++;
#line 5387
      inchar = (char )((int )*ptr___0 ^ 32);
    } else {
#line 5389
      inchar = *ptr___0;
    }
#line 5390
    ptr___0 ++;
#line 5392
    if (complete) {
#line 5392
      if ((int )((unsigned char )inchar) <= 127) {
#line 5397
        num ++;
#line 5398
        laststart = ptr___0;
#line 5399
        num_in_char = 0;
#line 5400
        goto while_continue;
      }
    }
    {
#line 5403
    ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)(& inchar),
                  (size_t )1, (mbstate_t */* __restrict  */)(& mb_shiftstate));
    }
#line 5405
    if (ret == 0xfffffffffffffffeUL) {
#line 5421
      num_in_char ++;
#line 5422
      complete = 0;
    } else {
#line 5424
      if (ret == 0xffffffffffffffffUL) {
        {
#line 5426
        memset((void *)(& mb_shiftstate), 0, sizeof(mb_shiftstate));
#line 5427
        ptr___0 = (laststart + ((int )*laststart == -125)) + 1;
#line 5428
        num ++;
        }
      } else
#line 5429
      if (width) {
        {
#line 5434
        tmp___0 = wcwidth(wc);
#line 5434
        wcw = tmp___0;
        }
#line 5435
        if (wcw > 0) {
#line 5436
          if (width == 1) {
#line 5437
            num += wcw;
          } else {
#line 5439
            num ++;
          }
        }
      } else {
#line 5442
        num ++;
      }
#line 5443
      laststart = ptr___0;
#line 5444
      num_in_char = 0;
#line 5445
      complete = 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 5450
  if (num_in_char) {
#line 5450
    tmp___1 = 1;
  } else {
#line 5450
    tmp___1 = 0;
  }
#line 5450
  return (num + tmp___1);
}
}
#line 5460 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int mb_charlenconv_r(char const   *s , int slen , wint_t *wcp , mbstate_t *mbsp ) 
{ 
  size_t ret ;
  char inchar ;
  char const   *ptr___0 ;
  wchar_t wc ;

  {
#line 5463
  ret = (size_t )-1;
#line 5468
  if (slen) {
#line 5468
    if ((int )((unsigned char )*s) <= 127) {
#line 5469
      if (wcp) {
#line 5470
        *wcp = (wint_t )*s;
      }
#line 5471
      return (1);
    }
  }
#line 5474
  ptr___0 = s;
  {
#line 5474
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5474
    if (! slen) {
#line 5474
      goto while_break;
    }
    {
#line 5475
    inchar = (char )*ptr___0;
#line 5476
    ptr___0 ++;
#line 5477
    slen --;
#line 5478
    ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)(& inchar),
                  (size_t )1, (mbstate_t */* __restrict  */)mbsp);
    }
#line 5480
    if (ret == 0xffffffffffffffffUL) {
#line 5481
      goto while_break;
    }
#line 5482
    if (ret == 0xfffffffffffffffeUL) {
#line 5483
      goto __Cont;
    }
#line 5484
    if (wcp) {
#line 5485
      *wcp = (wint_t )wc;
    }
#line 5486
    return ((int )(ptr___0 - s));
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 5489
  if (wcp) {
#line 5490
    *wcp = 4294967295U;
  }
  {
#line 5492
  memset((void *)mbsp, 0, sizeof(*mbsp));
  }
#line 5493
  if ((unsigned long )ptr___0 > (unsigned long )s) {
#line 5494
    return (1);
  } else {
#line 5496
    return (0);
  }
}
}
#line 5506 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int mb_charlenconv(char const   *s , int slen , wint_t *wcp ) 
{ 
  int tmp ;

  {
#line 5509
  if (! opts[116]) {
#line 5509
    goto _L;
  } else
#line 5509
  if ((int )((unsigned char )*s) <= 127) {
    _L: /* CIL Label */ 
#line 5510
    if (wcp) {
#line 5511
      *wcp = (wint_t )*s;
    }
#line 5512
    return (1);
  }
  {
#line 5515
  tmp = mb_charlenconv_r(s, slen, wcp, & mb_shiftstate);
  }
#line 5515
  return (tmp);
}
}
#line 5573 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int zexpandtabs(char const   *s , int len , int width , int startpos , FILE *fout ,
                int all ) 
{ 
  int at_start ;
  mbstate_t mbs ;
  size_t ret ;
  wchar_t wc ;
  char const   *sstart ;
  int wcw ;
  int tmp ;
  void *__cil_tmp14 ;

  {
  {
#line 5577
  at_start = 1;
#line 5584
  memset((void *)(& mbs), 0, sizeof(mbs));
  }
  {
#line 5587
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5587
    if (! len) {
#line 5587
      goto while_break;
    }
#line 5588
    if ((int const   )*s == 9) {
#line 5589
      if (all) {
#line 5589
        goto _L;
      } else
#line 5589
      if (at_start) {
        _L: /* CIL Label */ 
#line 5590
        s ++;
#line 5591
        len --;
#line 5592
        if (width <= 0) {
          {
#line 5594
          fputc(' ', fout);
#line 5595
          startpos ++;
          }
        } else
#line 5592
        if (! (startpos % width)) {
          {
#line 5594
          fputc(' ', fout);
#line 5595
          startpos ++;
          }
        }
#line 5597
        if (width <= 0) {
#line 5598
          goto while_continue;
        }
        {
#line 5599
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 5599
          if (! (startpos % width)) {
#line 5599
            goto while_break___0;
          }
          {
#line 5600
          fputc(' ', fout);
#line 5601
          startpos ++;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
      } else {
        {
#line 5610
        startpos += width - startpos % width;
#line 5611
        s ++;
#line 5612
        len --;
#line 5613
        fputc('\t', fout);
        }
      }
#line 5615
      goto while_continue;
    } else
#line 5616
    if ((int const   )*s == 10) {
#line 5616
      goto _L___0;
    } else
#line 5616
    if ((int const   )*s == 13) {
      _L___0: /* CIL Label */ 
      {
#line 5617
      fputc((int )*s, fout);
#line 5618
      s ++;
#line 5619
      len --;
#line 5620
      startpos = 0;
#line 5621
      at_start = 1;
      }
#line 5622
      goto while_continue;
    }
#line 5625
    at_start = 0;
#line 5627
    if (opts[116]) {
      {
#line 5628
      sstart = s;
#line 5629
      ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)s,
                    (size_t )len, (mbstate_t */* __restrict  */)(& mbs));
      }
#line 5630
      if (ret == 0xffffffffffffffffUL) {
        {
#line 5632
        memset((void *)(& mbs), 0, sizeof(mbs));
#line 5633
        s ++;
#line 5634
        len --;
        }
      } else
#line 5635
      if (ret == 0xfffffffffffffffeUL) {
#line 5637
        s ++;
#line 5638
        len --;
      } else {
#line 5640
        s += ret;
#line 5641
        len -= (int )ret;
      }
#line 5643
      if (ret == 0xffffffffffffffffUL) {
#line 5644
        startpos ++;
      } else
#line 5643
      if (ret == 0xfffffffffffffffeUL) {
#line 5644
        startpos ++;
      } else {
        {
#line 5646
        tmp = wcwidth(wc);
#line 5646
        wcw = tmp;
        }
#line 5647
        if (wcw > 0) {
#line 5648
          startpos += wcw;
        }
      }
      {
#line 5650
      fwrite((void const   */* __restrict  */)sstart, (size_t )(s - sstart), (size_t )1,
             (FILE */* __restrict  */)fout);
      }
#line 5652
      goto while_continue;
    }
    {
#line 5655
    fputc((int )*s, fout);
#line 5656
    s ++;
#line 5657
    len --;
#line 5658
    startpos ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 5661
  return (startpos);
}
}
#line 5667 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int hasspecial(char const   *s ) 
{ 
  int tmp ;

  {
  {
#line 5670
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5670
    if (! *s) {
#line 5670
      goto while_break;
    }
#line 5671
    if ((int const   )*s == -125) {
#line 5671
      s ++;
#line 5671
      tmp = (int const   )*s ^ 32;
    } else {
#line 5671
      tmp = (int const   )*s;
    }
#line 5671
    if ((int )typtab[(unsigned char )tmp] & (1 << 11)) {
#line 5672
      return (1);
    }
#line 5670
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 5674
  return (0);
}
}
#line 5678 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static char *addunprintable(char *v , char const   *u , char const   *uend ) 
{ 
  int c ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  char *tmp___18 ;
  char *tmp___19 ;
  char *tmp___20 ;

  {
  {
#line 5681
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5681
    if (! ((unsigned long )u < (unsigned long )uend)) {
#line 5681
      goto while_break;
    }
#line 5688
    if ((int const   )*u == -125) {
#line 5689
      u ++;
#line 5689
      c = (int )((unsigned char )((int const   )*u ^ 32));
    } else {
#line 5691
      c = (int )((unsigned char )*u);
    }
    {
#line 5693
    if (c == 0) {
#line 5693
      goto case_0;
    }
#line 5702
    if (c == 7) {
#line 5702
      goto case_7;
    }
#line 5703
    if (c == 8) {
#line 5703
      goto case_8;
    }
#line 5704
    if (c == 12) {
#line 5704
      goto case_12;
    }
#line 5705
    if (c == 10) {
#line 5705
      goto case_10;
    }
#line 5706
    if (c == 13) {
#line 5706
      goto case_13;
    }
#line 5707
    if (c == 9) {
#line 5707
      goto case_9;
    }
#line 5708
    if (c == 11) {
#line 5708
      goto case_11;
    }
#line 5710
    goto switch_default;
    case_0: /* CIL Label */ 
#line 5694
    tmp = v;
#line 5694
    v ++;
#line 5694
    *tmp = (char )'\\';
#line 5695
    tmp___0 = v;
#line 5695
    v ++;
#line 5695
    *tmp___0 = (char )'0';
#line 5696
    if (48 <= (int )*(u + 1)) {
#line 5696
      if ((int const   )*(u + 1) <= 55) {
#line 5697
        tmp___1 = v;
#line 5697
        v ++;
#line 5697
        *tmp___1 = (char )'0';
#line 5698
        tmp___2 = v;
#line 5698
        v ++;
#line 5698
        *tmp___2 = (char )'0';
      }
    }
#line 5700
    goto switch_break;
    case_7: /* CIL Label */ 
#line 5702
    tmp___3 = v;
#line 5702
    v ++;
#line 5702
    *tmp___3 = (char )'\\';
#line 5702
    tmp___4 = v;
#line 5702
    v ++;
#line 5702
    *tmp___4 = (char )'a';
#line 5702
    goto switch_break;
    case_8: /* CIL Label */ 
#line 5703
    tmp___5 = v;
#line 5703
    v ++;
#line 5703
    *tmp___5 = (char )'\\';
#line 5703
    tmp___6 = v;
#line 5703
    v ++;
#line 5703
    *tmp___6 = (char )'b';
#line 5703
    goto switch_break;
    case_12: /* CIL Label */ 
#line 5704
    tmp___7 = v;
#line 5704
    v ++;
#line 5704
    *tmp___7 = (char )'\\';
#line 5704
    tmp___8 = v;
#line 5704
    v ++;
#line 5704
    *tmp___8 = (char )'f';
#line 5704
    goto switch_break;
    case_10: /* CIL Label */ 
#line 5705
    tmp___9 = v;
#line 5705
    v ++;
#line 5705
    *tmp___9 = (char )'\\';
#line 5705
    tmp___10 = v;
#line 5705
    v ++;
#line 5705
    *tmp___10 = (char )'n';
#line 5705
    goto switch_break;
    case_13: /* CIL Label */ 
#line 5706
    tmp___11 = v;
#line 5706
    v ++;
#line 5706
    *tmp___11 = (char )'\\';
#line 5706
    tmp___12 = v;
#line 5706
    v ++;
#line 5706
    *tmp___12 = (char )'r';
#line 5706
    goto switch_break;
    case_9: /* CIL Label */ 
#line 5707
    tmp___13 = v;
#line 5707
    v ++;
#line 5707
    *tmp___13 = (char )'\\';
#line 5707
    tmp___14 = v;
#line 5707
    v ++;
#line 5707
    *tmp___14 = (char )'t';
#line 5707
    goto switch_break;
    case_11: /* CIL Label */ 
#line 5708
    tmp___15 = v;
#line 5708
    v ++;
#line 5708
    *tmp___15 = (char )'\\';
#line 5708
    tmp___16 = v;
#line 5708
    v ++;
#line 5708
    *tmp___16 = (char )'v';
#line 5708
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 5711
    tmp___17 = v;
#line 5711
    v ++;
#line 5711
    *tmp___17 = (char )'\\';
#line 5712
    tmp___18 = v;
#line 5712
    v ++;
#line 5712
    *tmp___18 = (char )(48 + ((c >> 6) & 7));
#line 5713
    tmp___19 = v;
#line 5713
    v ++;
#line 5713
    *tmp___19 = (char )(48 + ((c >> 3) & 7));
#line 5714
    tmp___20 = v;
#line 5714
    v ++;
#line 5714
    *tmp___20 = (char )(48 + (c & 7));
#line 5715
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 5681
    u ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 5719
  return (v);
}
}
#line 5736 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *quotestring(char const   *s , int instring ) 
{ 
  char const   *u ;
  char *v ;
  int alloclen ;
  char *buf___7 ;
  int shownull ;
  int quotesub ;
  int slen ;
  char *quotestart ;
  convchar_t cc ;
  char const   *uend ;
  size_t tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char const   *tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char const   *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  int dobackslash ;
  char c ;
  char const   *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char const   *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  char const   *tmp___18 ;
  char c___0 ;
  int tmp___19 ;
  int tmp___20 ;
  char beg ;
  int level ;
  char *tmp___21 ;
  char const   *tmp___22 ;
  char *tmp___23 ;
  char const   *tmp___24 ;
  char *tmp___25 ;
  char const   *tmp___26 ;
  char *tmp___27 ;
  char const   *tmp___28 ;
  char *tmp___29 ;
  char *addq ;
  char *tmp___30 ;
  char const   *tmp___31 ;
  char *tmp___32 ;
  char *tmp___33 ;
  char *tmp___34 ;
  char *tmp___35 ;
  char *tmp___36 ;
  char *tmp___37 ;
  char const   *tmp___38 ;
  char *tmp___39 ;
  char *tmp___40 ;
  char *tmp___41 ;
  char *tmp___42 ;
  char *tmp___43 ;
  char *tmp___44 ;
  char *tmp___45 ;
  char *tmp___46 ;
  char *tmp___47 ;
  char *tmp___48 ;
  char *tmp___49 ;
  char *tmp___50 ;
  int inmath ;
  char *tmp___51 ;
  char const   *tmp___52 ;
  char uc ;
  char *tmp___53 ;
  char const   *tmp___54 ;
  char *tmp___55 ;
  char const   *tmp___56 ;
  int tmp___57 ;
  char *tmp___58 ;
  char *tmp___59 ;
  char const   *tmp___60 ;
  char *tmp___61 ;
  char const   *tmp___62 ;
  char *tmp___63 ;
  char *tmp___64 ;
  char *tmp___65 ;
  int tmp___66 ;
  char *tmp___67 ;

  {
  {
#line 5743
  shownull = 0;
#line 5752
  quotesub = 0;
#line 5757
  tmp = strlen(s);
#line 5757
  slen = (int )tmp;
  }
  {
#line 5760
  if (instring == 8) {
#line 5760
    goto case_8;
  }
#line 5764
  if (instring == 1) {
#line 5764
    goto case_1;
  }
#line 5773
  if (instring == 7) {
#line 5773
    goto case_7;
  }
#line 5777
  if (instring == 6) {
#line 5777
    goto case_6;
  }
#line 5786
  goto switch_default;
  case_8: /* CIL Label */ 
#line 5761
  shownull = 1;
#line 5762
  instring = 1;
  case_1: /* CIL Label */ 
#line 5770
  alloclen = slen * 7 + 1;
#line 5771
  goto switch_break;
  case_7: /* CIL Label */ 
#line 5774
  alloclen = slen * 2 + 1;
#line 5775
  goto switch_break;
  case_6: /* CIL Label */ 
#line 5782
  alloclen = slen * 4 + 3;
#line 5783
  shownull = 1;
#line 5783
  quotesub = shownull;
#line 5784
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 5787
  alloclen = slen * 4 + 1;
#line 5788
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 5790
  if (! *s) {
#line 5790
    if (shownull) {
#line 5791
      alloclen += 2;
    }
  }
  {
#line 5793
  tmp___0 = zshcalloc((size_t )alloclen);
#line 5793
  buf___7 = (char *)tmp___0;
#line 5793
  v = buf___7;
#line 5793
  quotestart = v;
#line 5798
  u = s;
  }
#line 5799
  if (instring == 4) {
#line 5804
    if ((int )typtab[(unsigned char )*u] & (1 << 14)) {
#line 5805
      u ++;
    }
    {
#line 5810
    mb_charinit();
    }
    {
#line 5811
    while (1) {
      while_continue: /* CIL Label */ ;
#line 5811
      if (! *u) {
#line 5811
        goto while_break;
      }
      {
#line 5812
      tmp___1 = mb_metacharlenconv(u, & cc);
#line 5812
      uend = u + tmp___1;
      }
#line 5814
      if (cc != 4294967295U) {
        {
#line 5814
        tmp___6 = iswprint(cc);
        }
#line 5814
        if (tmp___6) {
          {
#line 5821
          if (cc == 39U) {
#line 5821
            goto case_39;
          }
#line 5821
          if (cc == 92U) {
#line 5821
            goto case_39;
          }
#line 5825
          goto switch_default___0;
          case_39: /* CIL Label */ 
          case_92: /* CIL Label */ 
#line 5822
          tmp___2 = v;
#line 5822
          v ++;
#line 5822
          *tmp___2 = (char )'\\';
#line 5823
          goto switch_break___0;
          switch_default___0: /* CIL Label */ 
#line 5826
          if (opts[17]) {
#line 5826
            if (cc == (convchar_t )((wchar_t )bangchar)) {
#line 5827
              tmp___3 = v;
#line 5827
              v ++;
#line 5827
              *tmp___3 = (char )'\\';
            }
          }
#line 5828
          goto switch_break___0;
          switch_break___0: /* CIL Label */ ;
          }
          {
#line 5830
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 5830
            if (! ((unsigned long )u < (unsigned long )uend)) {
#line 5830
              goto while_break___0;
            }
#line 5831
            tmp___4 = v;
#line 5831
            v ++;
#line 5831
            tmp___5 = u;
#line 5831
            u ++;
#line 5831
            *tmp___4 = (char )*tmp___5;
          }
          while_break___0: /* CIL Label */ ;
          }
        } else {
          {
#line 5834
          v = addunprintable(v, u, uend);
#line 5835
          u = uend;
          }
        }
      } else {
        {
#line 5834
        v = addunprintable(v, u, uend);
#line 5835
        u = uend;
        }
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else
#line 5838
  if (instring == 7) {
    {
#line 5839
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 5839
      if (! *u) {
#line 5839
        goto while_break___1;
      }
#line 5840
      if ((int )typtab[(unsigned char )*u] & (1 << 15)) {
#line 5841
        tmp___7 = v;
#line 5841
        v ++;
#line 5841
        *tmp___7 = (char )'\\';
      }
#line 5842
      tmp___8 = v;
#line 5842
      v ++;
#line 5842
      tmp___9 = u;
#line 5842
      u ++;
#line 5842
      *tmp___8 = (char )*tmp___9;
    }
    while_break___1: /* CIL Label */ ;
    }
  } else {
#line 5845
    if (shownull) {
#line 5847
      if (! *u) {
#line 5848
        tmp___10 = v;
#line 5848
        v ++;
#line 5848
        *tmp___10 = (char )'\'';
#line 5849
        tmp___11 = v;
#line 5849
        v ++;
#line 5849
        *tmp___11 = (char )'\'';
      }
    }
    {
#line 5856
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 5856
      if (! *u) {
#line 5856
        goto while_break___2;
      }
#line 5857
      dobackslash = 0;
#line 5858
      if ((int const   )*u == -109) {
#line 5858
        goto _L___13;
      } else
#line 5858
      if ((int const   )*u == -103) {
        _L___13: /* CIL Label */ 
#line 5859
        tmp___12 = u;
#line 5859
        u ++;
#line 5859
        c = (char )*tmp___12;
#line 5861
        tmp___13 = v;
#line 5861
        v ++;
#line 5861
        *tmp___13 = c;
        {
#line 5862
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 5862
          if (*u) {
#line 5862
            if (! ((int const   )*u != (int const   )c)) {
#line 5862
              goto while_break___3;
            }
          } else {
#line 5862
            goto while_break___3;
          }
#line 5863
          tmp___14 = v;
#line 5863
          v ++;
#line 5863
          tmp___15 = u;
#line 5863
          u ++;
#line 5863
          *tmp___14 = (char )*tmp___15;
        }
        while_break___3: /* CIL Label */ ;
        }
#line 5864
        tmp___16 = v;
#line 5864
        v ++;
#line 5864
        *tmp___16 = c;
#line 5865
        if (*u) {
#line 5866
          u ++;
        }
#line 5867
        goto while_continue___2;
      } else
#line 5868
      if ((int const   )*u == -116) {
#line 5868
        goto _L___12;
      } else
#line 5868
      if ((int const   )*u == 36) {
        _L___12: /* CIL Label */ 
#line 5868
        if ((int const   )*(u + 1) == 39) {
#line 5868
          if (instring == 3) {
#line 5876
            tmp___17 = v;
#line 5876
            v ++;
#line 5876
            tmp___18 = u;
#line 5876
            u ++;
#line 5876
            *tmp___17 = (char )*tmp___18;
          } else {
#line 5868
            goto _L___11;
          }
        } else {
#line 5868
          goto _L___11;
        }
      } else
      _L___11: /* CIL Label */ 
#line 5877
      if ((int const   )*u == -123) {
#line 5877
        goto _L___9;
      } else
#line 5877
      if ((int const   )*u == -116) {
        _L___9: /* CIL Label */ 
#line 5877
        if ((int const   )*(u + 1) == -120) {
#line 5877
          goto _L___8;
        } else
#line 5877
        if ((int const   )*(u + 1) == -111) {
#line 5877
          goto _L___8;
        } else
#line 5877
        if ((int const   )*(u + 1) == -113) {
          _L___8: /* CIL Label */ 
#line 5879
          if ((int const   )*(u + 1) == -120) {
#line 5879
            tmp___20 = -118;
          } else {
#line 5879
            if ((int const   )*(u + 1) == -113) {
#line 5879
              tmp___19 = -112;
            } else {
#line 5879
              tmp___19 = -110;
            }
#line 5879
            tmp___20 = tmp___19;
          }
#line 5879
          c___0 = (char )tmp___20;
#line 5881
          beg = (char )*u;
#line 5882
          level = 0;
#line 5884
          tmp___21 = v;
#line 5884
          v ++;
#line 5884
          tmp___22 = u;
#line 5884
          u ++;
#line 5884
          *tmp___21 = (char )*tmp___22;
#line 5885
          tmp___23 = v;
#line 5885
          v ++;
#line 5885
          tmp___24 = u;
#line 5885
          u ++;
#line 5885
          *tmp___23 = (char )*tmp___24;
          {
#line 5886
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 5886
            if (*u) {
#line 5886
              if (! ((int const   )*u != (int const   )c___0)) {
#line 5886
                if (! level) {
#line 5886
                  goto while_break___4;
                }
              }
            } else {
#line 5886
              goto while_break___4;
            }
#line 5887
            if ((int const   )*u == (int const   )beg) {
#line 5888
              level ++;
            } else
#line 5889
            if ((int const   )*u == (int const   )c___0) {
#line 5890
              level --;
            }
#line 5891
            tmp___25 = v;
#line 5891
            v ++;
#line 5891
            tmp___26 = u;
#line 5891
            u ++;
#line 5891
            *tmp___25 = (char )*tmp___26;
          }
          while_break___4: /* CIL Label */ ;
          }
#line 5893
          if (*u) {
#line 5894
            tmp___27 = v;
#line 5894
            v ++;
#line 5894
            tmp___28 = u;
#line 5894
            u ++;
#line 5894
            *tmp___27 = (char )*tmp___28;
          }
#line 5895
          goto while_continue___2;
        } else {
#line 5877
          goto _L___7;
        }
      } else
      _L___7: /* CIL Label */ 
#line 5897
      if ((int )typtab[(unsigned char )*u] & (1 << 11)) {
#line 5897
        if ((int const   )*u != 61) {
#line 5897
          if ((int const   )*u != 126) {
#line 5897
            goto _L___4;
          } else {
#line 5897
            goto _L___6;
          }
        } else
        _L___6: /* CIL Label */ 
#line 5897
        if ((unsigned long )u == (unsigned long )s) {
#line 5897
          goto _L___4;
        } else
#line 5897
        if (opts[111]) {
#line 5897
          if ((int const   )*(u + -1) == 61) {
#line 5897
            goto _L___4;
          } else
#line 5897
          if ((int const   )*(u + -1) == 58) {
#line 5897
            goto _L___4;
          } else {
#line 5897
            goto _L___5;
          }
        } else
        _L___5: /* CIL Label */ 
#line 5897
        if ((int const   )*u == 126) {
#line 5897
          if (opts[52]) {
            _L___4: /* CIL Label */ 
#line 5897
            if (instring == 1) {
#line 5897
              goto _L___0;
            } else
#line 5897
            if (instring == 6) {
#line 5897
              goto _L___0;
            } else
#line 5897
            if (opts[17]) {
#line 5897
              if ((int const   )*u == (int const   )((char )bangchar)) {
#line 5897
                if (instring != 2) {
#line 5897
                  goto _L___0;
                } else {
#line 5897
                  goto _L___3;
                }
              } else {
#line 5897
                goto _L___3;
              }
            } else
            _L___3: /* CIL Label */ 
#line 5897
            if (instring == 3) {
#line 5897
              if ((int const   )*u == 36) {
#line 5897
                goto _L___0;
              } else
#line 5897
              if ((int const   )*u == 96) {
#line 5897
                goto _L___0;
              } else
#line 5897
              if ((int const   )*u == 34) {
#line 5897
                goto _L___0;
              } else
#line 5897
              if ((int const   )*u == 92) {
#line 5897
                goto _L___0;
              } else {
#line 5897
                goto _L___1;
              }
            } else
            _L___1: /* CIL Label */ 
#line 5897
            if (instring == 2) {
#line 5897
              if ((int const   )*u == 39) {
                _L___0: /* CIL Label */ 
#line 5910
                if (instring == 6) {
#line 5911
                  if (quotesub == 1) {
#line 5915
                    if ((int const   )*u == 39) {
#line 5919
                      tmp___29 = v;
#line 5919
                      v ++;
#line 5919
                      *tmp___29 = (char )'\\';
                    } else {
#line 5924
                      if ((unsigned long )v > (unsigned long )quotestart) {
#line 5928
                        addq = v;
                        {
#line 5928
                        while (1) {
                          while_continue___5: /* CIL Label */ ;
#line 5928
                          if (! ((unsigned long )addq > (unsigned long )quotestart)) {
#line 5928
                            goto while_break___5;
                          }
#line 5929
                          *addq = *(addq + -1);
#line 5928
                          addq --;
                        }
                        while_break___5: /* CIL Label */ ;
                        }
                      }
#line 5931
                      *quotestart = (char )'\'';
#line 5932
                      v ++;
#line 5933
                      quotesub = 2;
                    }
#line 5935
                    tmp___30 = v;
#line 5935
                    v ++;
#line 5935
                    tmp___31 = u;
#line 5935
                    u ++;
#line 5935
                    *tmp___30 = (char )*tmp___31;
#line 5939
                    quotestart = v;
                  } else
#line 5940
                  if ((int const   )*u == 39) {
#line 5941
                    if (! opts[149]) {
#line 5942
                      tmp___32 = v;
#line 5942
                      v ++;
#line 5942
                      *tmp___32 = (char )'\'';
#line 5943
                      tmp___33 = v;
#line 5943
                      v ++;
#line 5943
                      *tmp___33 = (char )'\\';
#line 5944
                      tmp___34 = v;
#line 5944
                      v ++;
#line 5944
                      *tmp___34 = (char )'\'';
#line 5946
                      quotesub = 1;
#line 5947
                      quotestart = v;
                    } else {
#line 5950
                      tmp___35 = v;
#line 5950
                      v ++;
#line 5950
                      *tmp___35 = (char )'\'';
#line 5951
                      tmp___36 = v;
#line 5951
                      v ++;
#line 5951
                      *tmp___36 = (char )'\'';
                    }
#line 5954
                    u ++;
                  } else {
#line 5957
                    tmp___37 = v;
#line 5957
                    v ++;
#line 5957
                    tmp___38 = u;
#line 5957
                    u ++;
#line 5957
                    *tmp___37 = (char )*tmp___38;
                  }
#line 5959
                  goto while_continue___2;
                } else
#line 5960
                if ((int const   )*u == 10) {
#line 5960
                  goto _L;
                } else
#line 5960
                if (instring == 2) {
#line 5960
                  if ((int const   )*u == 39) {
                    _L: /* CIL Label */ 
#line 5962
                    if ((int const   )*u == 10) {
#line 5963
                      tmp___39 = v;
#line 5963
                      v ++;
#line 5963
                      *tmp___39 = (char )'$';
#line 5964
                      tmp___40 = v;
#line 5964
                      v ++;
#line 5964
                      *tmp___40 = (char )'\'';
#line 5965
                      tmp___41 = v;
#line 5965
                      v ++;
#line 5965
                      *tmp___41 = (char )'\\';
#line 5966
                      tmp___42 = v;
#line 5966
                      v ++;
#line 5966
                      *tmp___42 = (char )'n';
#line 5967
                      tmp___43 = v;
#line 5967
                      v ++;
#line 5967
                      *tmp___43 = (char )'\'';
                    } else
#line 5968
                    if (! opts[149]) {
#line 5969
                      tmp___44 = v;
#line 5969
                      v ++;
#line 5969
                      *tmp___44 = (char )'\'';
#line 5970
                      if ((int const   )*u == 39) {
#line 5971
                        tmp___45 = v;
#line 5971
                        v ++;
#line 5971
                        *tmp___45 = (char )'\\';
                      }
#line 5972
                      tmp___46 = v;
#line 5972
                      v ++;
#line 5972
                      *tmp___46 = (char )*u;
#line 5973
                      tmp___47 = v;
#line 5973
                      v ++;
#line 5973
                      *tmp___47 = (char )'\'';
                    } else {
#line 5975
                      tmp___48 = v;
#line 5975
                      v ++;
#line 5975
                      *tmp___48 = (char )'\'';
#line 5975
                      tmp___49 = v;
#line 5975
                      v ++;
#line 5975
                      *tmp___49 = (char )'\'';
                    }
#line 5976
                    u ++;
#line 5977
                    goto while_continue___2;
                  } else {
#line 5984
                    dobackslash = 1;
                  }
                } else {
#line 5984
                  dobackslash = 1;
                }
              }
            }
          }
        }
      }
#line 5988
      if ((int )typtab[(unsigned char )*u] & (1 << 4)) {
#line 5988
        goto _L___15;
      } else
#line 5988
      if (instring != 1) {
        _L___15: /* CIL Label */ 
#line 5990
        if (dobackslash) {
#line 5991
          tmp___50 = v;
#line 5991
          v ++;
#line 5991
          *tmp___50 = (char )'\\';
        }
#line 5992
        if ((int const   )*u == -119) {
#line 5997
          inmath = 1;
#line 5998
          tmp___51 = v;
#line 5998
          v ++;
#line 5998
          tmp___52 = u;
#line 5998
          u ++;
#line 5998
          *tmp___51 = (char )*tmp___52;
          {
#line 5999
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 6000
            uc = (char )*u;
#line 6001
            tmp___53 = v;
#line 6001
            v ++;
#line 6001
            tmp___54 = u;
#line 6001
            u ++;
#line 6001
            *tmp___53 = (char )*tmp___54;
#line 6002
            if ((int )uc == 0) {
#line 6003
              goto while_break___6;
            } else
#line 6004
            if ((int )uc == -117) {
#line 6004
              inmath --;
#line 6004
              if (inmath) {
#line 6004
                goto _L___14;
              } else {
#line 6005
                goto while_break___6;
              }
            } else
            _L___14: /* CIL Label */ 
#line 6006
            if ((int )uc == -119) {
#line 6007
              inmath ++;
            }
          }
          while_break___6: /* CIL Label */ ;
          }
        } else {
#line 6010
          tmp___55 = v;
#line 6010
          v ++;
#line 6010
          tmp___56 = u;
#line 6010
          u ++;
#line 6010
          *tmp___55 = (char )*tmp___56;
        }
#line 6011
        goto while_continue___2;
      }
      {
#line 6018
      tmp___57 = mb_metacharlenconv(u, & cc);
#line 6018
      uend = u + tmp___57;
      }
#line 6019
      if (cc != 4294967295U) {
        {
#line 6019
        tmp___66 = iswprint(cc);
        }
#line 6019
        if (tmp___66) {
#line 6024
          if (dobackslash) {
#line 6025
            tmp___58 = v;
#line 6025
            v ++;
#line 6025
            *tmp___58 = (char )'\\';
          }
          {
#line 6026
          while (1) {
            while_continue___7: /* CIL Label */ ;
#line 6026
            if (! ((unsigned long )u < (unsigned long )uend)) {
#line 6026
              goto while_break___7;
            }
#line 6027
            if ((int const   )*u == -125) {
#line 6028
              tmp___59 = v;
#line 6028
              v ++;
#line 6028
              tmp___60 = u;
#line 6028
              u ++;
#line 6028
              *tmp___59 = (char )*tmp___60;
            }
#line 6029
            tmp___61 = v;
#line 6029
            v ++;
#line 6029
            tmp___62 = u;
#line 6029
            u ++;
#line 6029
            *tmp___61 = (char )*tmp___62;
          }
          while_break___7: /* CIL Label */ ;
          }
        } else {
#line 6019
          goto _L___16;
        }
      } else {
        _L___16: /* CIL Label */ 
        {
#line 6033
        tmp___63 = v;
#line 6033
        v ++;
#line 6033
        *tmp___63 = (char )'$';
#line 6034
        tmp___64 = v;
#line 6034
        v ++;
#line 6034
        *tmp___64 = (char )'\'';
#line 6035
        v = addunprintable(v, u, uend);
#line 6036
        tmp___65 = v;
#line 6036
        v ++;
#line 6036
        *tmp___65 = (char )'\'';
#line 6037
        u = uend;
        }
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  }
#line 6041
  if (quotesub == 2) {
#line 6042
    tmp___67 = v;
#line 6042
    v ++;
#line 6042
    *tmp___67 = (char )'\'';
  }
  {
#line 6043
  *v = (char )'\000';
#line 6045
  v = dupstring((char const   *)buf___7);
#line 6046
  zfree((void *)buf___7, alloclen);
  }
#line 6047
  return (v);
}
}
#line 6059 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *quotedzputs(char const   *s , FILE *stream ) 
{ 
  int inquote ;
  int c ;
  char *outstr ;
  char *ptr___0 ;
  char *tmp ;
  char *substr ;
  size_t tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  char *tmp___3 ;
  int tmp___4 ;
  char const   *cptr ;
  int l ;
  size_t tmp___5 ;
  int tmp___6 ;
  void *tmp___7 ;
  int tmp___8 ;
  char *tmp___9 ;
  int tmp___10 ;
  char *tmp___11 ;
  int tmp___12 ;
  char *tmp___13 ;
  int tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  int tmp___18 ;
  char *tmp___19 ;
  int tmp___20 ;
  char *tmp___21 ;
  int tmp___22 ;
  char *tmp___23 ;
  char *tmp___24 ;
  int tmp___25 ;
  char *tmp___26 ;
  int tmp___27 ;
  char *tmp___28 ;
  int tmp___29 ;
  char *tmp___30 ;
  char *tmp___31 ;
  char *tmp___32 ;
  int tmp___33 ;
  char *tmp___34 ;
  char *tmp___35 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;
  char *__cil_tmp50 ;
  char *__cil_tmp51 ;

  {
#line 6062
  inquote = 0;
#line 6066
  if (! *s) {
#line 6067
    if (! stream) {
      {
#line 6068
      tmp = dupstring("\'\'");
      }
#line 6068
      return (tmp);
    }
    {
#line 6069
    fputs((char const   */* __restrict  */)"\'\'", (FILE */* __restrict  */)stream);
    }
#line 6070
    return ((char *)((void *)0));
  }
  {
#line 6074
  tmp___2 = is_mb_niceformat(s);
  }
#line 6074
  if (tmp___2) {
#line 6075
    if (stream) {
      {
#line 6076
      fputs((char const   */* __restrict  */)"$\'", (FILE */* __restrict  */)stream);
#line 6077
      mb_niceformat(s, stream, (char **)((void *)0), 2);
#line 6078
      fputc('\'', stream);
      }
#line 6079
      return ((char *)((void *)0));
    } else {
      {
#line 6082
      mb_niceformat(s, (FILE *)((void *)0), & substr, 6);
#line 6083
      tmp___0 = strlen((char const   *)substr);
#line 6083
      tmp___1 = zhalloc(4UL + tmp___0);
#line 6083
      outstr = (char *)tmp___1;
#line 6084
      sprintf((char */* __restrict  */)outstr, (char const   */* __restrict  */)"$\'%s\'",
              substr);
#line 6085
      free((void *)substr);
      }
#line 6086
      return (outstr);
    }
  }
  {
#line 6091
  tmp___4 = hasspecial(s);
  }
#line 6091
  if (! tmp___4) {
#line 6092
    if (stream) {
      {
#line 6093
      zputs(s, stream);
      }
#line 6094
      return ((char *)((void *)0));
    } else {
      {
#line 6096
      tmp___3 = dupstring(s);
      }
#line 6096
      return (tmp___3);
    }
  }
#line 6100
  if (! stream) {
    {
#line 6102
    tmp___5 = strlen(s);
#line 6102
    l = (int )(tmp___5 + 2UL);
#line 6103
    cptr = s;
    }
    {
#line 6103
    while (1) {
      while_continue: /* CIL Label */ ;
#line 6103
      if (! *cptr) {
#line 6103
        goto while_break;
      }
#line 6104
      if ((int const   )*cptr == -125) {
#line 6105
        cptr ++;
      } else
#line 6106
      if ((int const   )*cptr == 39) {
#line 6107
        if (opts[149]) {
#line 6107
          tmp___6 = 1;
        } else {
#line 6107
          tmp___6 = 3;
        }
#line 6107
        l += tmp___6;
      }
#line 6103
      cptr ++;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 6109
    tmp___7 = zhalloc((size_t )(l + 1));
#line 6109
    outstr = (char *)tmp___7;
#line 6109
    ptr___0 = outstr;
    }
  } else {
#line 6111
    outstr = (char *)((void *)0);
#line 6111
    ptr___0 = outstr;
  }
#line 6113
  if (opts[149]) {
#line 6115
    if (stream) {
      {
#line 6116
      tmp___8 = fputc('\'', stream);
      }
#line 6116
      if (tmp___8 < 0) {
#line 6117
        return ((char *)((void *)0));
      }
    } else {
#line 6119
      tmp___9 = ptr___0;
#line 6119
      ptr___0 ++;
#line 6119
      *tmp___9 = (char )'\'';
    }
    {
#line 6120
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 6120
      if (! *s) {
#line 6120
        goto while_break___0;
      }
#line 6121
      if ((int const   )*s == -125) {
#line 6122
        s ++;
#line 6122
        c = (int )((int const   )*s ^ 32);
      } else {
#line 6124
        c = (int )*s;
      }
#line 6125
      s ++;
#line 6126
      if (c == 39) {
#line 6127
        if (stream) {
          {
#line 6128
          tmp___10 = fputc('\'', stream);
          }
#line 6128
          if (tmp___10 < 0) {
#line 6129
            return ((char *)((void *)0));
          }
        } else {
#line 6131
          tmp___11 = ptr___0;
#line 6131
          ptr___0 ++;
#line 6131
          *tmp___11 = (char )'\'';
        }
      } else
#line 6132
      if (c == 10) {
#line 6132
        if (opts[43]) {
#line 6133
          if (stream) {
            {
#line 6134
            tmp___12 = fputc('\\', stream);
            }
#line 6134
            if (tmp___12 < 0) {
#line 6135
              return ((char *)((void *)0));
            }
          } else {
#line 6137
            tmp___13 = ptr___0;
#line 6137
            ptr___0 ++;
#line 6137
            *tmp___13 = (char )'\\';
          }
        }
      }
#line 6139
      if (stream) {
        {
#line 6140
        tmp___14 = fputc(c, stream);
        }
#line 6140
        if (tmp___14 < 0) {
#line 6141
          return ((char *)((void *)0));
        }
      } else
#line 6143
      if ((int )typtab[(unsigned char )c] & (1 << 12)) {
#line 6144
        tmp___15 = ptr___0;
#line 6144
        ptr___0 ++;
#line 6144
        *tmp___15 = (char)-125;
#line 6145
        tmp___16 = ptr___0;
#line 6145
        ptr___0 ++;
#line 6145
        *tmp___16 = (char )(c ^ 32);
      } else {
#line 6147
        tmp___17 = ptr___0;
#line 6147
        ptr___0 ++;
#line 6147
        *tmp___17 = (char )c;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 6150
    if (stream) {
      {
#line 6151
      tmp___18 = fputc('\'', stream);
      }
#line 6151
      if (tmp___18 < 0) {
#line 6152
        return ((char *)((void *)0));
      }
    } else {
#line 6154
      tmp___19 = ptr___0;
#line 6154
      ptr___0 ++;
#line 6154
      *tmp___19 = (char )'\'';
    }
  } else {
    {
#line 6157
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 6157
      if (! *s) {
#line 6157
        goto while_break___1;
      }
#line 6158
      if ((int const   )*s == -125) {
#line 6159
        s ++;
#line 6159
        c = (int )((int const   )*s ^ 32);
      } else {
#line 6161
        c = (int )*s;
      }
#line 6162
      s ++;
#line 6163
      if (c == 39) {
#line 6164
        if (inquote) {
#line 6165
          if (stream) {
            {
#line 6166
            tmp___20 = _IO_putc('\'', stream);
            }
#line 6166
            if (tmp___20 < 0) {
#line 6167
              return ((char *)((void *)0));
            }
          } else {
#line 6169
            tmp___21 = ptr___0;
#line 6169
            ptr___0 ++;
#line 6169
            *tmp___21 = (char )'\'';
          }
#line 6170
          inquote = 0;
        }
#line 6172
        if (stream) {
          {
#line 6173
          tmp___22 = fputs((char const   */* __restrict  */)"\\\'", (FILE */* __restrict  */)stream);
          }
#line 6173
          if (tmp___22 < 0) {
#line 6174
            return ((char *)((void *)0));
          }
        } else {
#line 6176
          tmp___23 = ptr___0;
#line 6176
          ptr___0 ++;
#line 6176
          *tmp___23 = (char )'\\';
#line 6177
          tmp___24 = ptr___0;
#line 6177
          ptr___0 ++;
#line 6177
          *tmp___24 = (char )'\'';
        }
      } else {
#line 6180
        if (! inquote) {
#line 6181
          if (stream) {
            {
#line 6182
            tmp___25 = fputc('\'', stream);
            }
#line 6182
            if (tmp___25 < 0) {
#line 6183
              return ((char *)((void *)0));
            }
          } else {
#line 6185
            tmp___26 = ptr___0;
#line 6185
            ptr___0 ++;
#line 6185
            *tmp___26 = (char )'\'';
          }
#line 6186
          inquote = 1;
        }
#line 6188
        if (c == 10) {
#line 6188
          if (opts[43]) {
#line 6189
            if (stream) {
              {
#line 6190
              tmp___27 = fputc('\\', stream);
              }
#line 6190
              if (tmp___27 < 0) {
#line 6191
                return ((char *)((void *)0));
              }
            } else {
#line 6193
              tmp___28 = ptr___0;
#line 6193
              ptr___0 ++;
#line 6193
              *tmp___28 = (char )'\\';
            }
          }
        }
#line 6195
        if (stream) {
          {
#line 6196
          tmp___29 = fputc(c, stream);
          }
#line 6196
          if (tmp___29 < 0) {
#line 6197
            return ((char *)((void *)0));
          }
        } else
#line 6199
        if ((int )typtab[(unsigned char )c] & (1 << 12)) {
#line 6200
          tmp___30 = ptr___0;
#line 6200
          ptr___0 ++;
#line 6200
          *tmp___30 = (char)-125;
#line 6201
          tmp___31 = ptr___0;
#line 6201
          ptr___0 ++;
#line 6201
          *tmp___31 = (char )(c ^ 32);
        } else {
#line 6203
          tmp___32 = ptr___0;
#line 6203
          ptr___0 ++;
#line 6203
          *tmp___32 = (char )c;
        }
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 6207
    if (inquote) {
#line 6208
      if (stream) {
        {
#line 6209
        tmp___33 = fputc('\'', stream);
        }
#line 6209
        if (tmp___33 < 0) {
#line 6210
          return ((char *)((void *)0));
        }
      } else {
#line 6212
        tmp___34 = ptr___0;
#line 6212
        ptr___0 ++;
#line 6212
        *tmp___34 = (char )'\'';
      }
    }
  }
#line 6215
  if (! stream) {
#line 6216
    tmp___35 = ptr___0;
#line 6216
    ptr___0 ++;
#line 6216
    *tmp___35 = (char )'\000';
  }
#line 6218
  return (outstr);
}
}
#line 6224 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *dquotedztrdup(char const   *s ) 
{ 
  int len ;
  size_t tmp ;
  char *buf___7 ;
  void *tmp___0 ;
  char *p ;
  char *ret ;
  int inquote ;
  int c ;
  char const   *tmp___1 ;
  char const   *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  int pending ;
  char *tmp___10 ;
  int c___0 ;
  char const   *tmp___11 ;
  char const   *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  char *tmp___18 ;
  char *tmp___19 ;

  {
  {
#line 6227
  tmp = strlen(s);
#line 6227
  len = (int )(tmp * 4UL + 2UL);
#line 6228
  tmp___0 = zalloc((size_t )len);
#line 6228
  buf___7 = (char *)tmp___0;
#line 6229
  p = buf___7;
  }
#line 6231
  if (opts[43]) {
#line 6232
    inquote = 0;
    {
#line 6234
    while (1) {
      while_continue: /* CIL Label */ ;
#line 6234
      if (! *s) {
#line 6234
        goto while_break;
      }
#line 6235
      tmp___1 = s;
#line 6235
      s ++;
#line 6235
      c = (int )*tmp___1;
#line 6237
      if (c == -125) {
#line 6238
        tmp___2 = s;
#line 6238
        s ++;
#line 6238
        c = (int )((int const   )*tmp___2 ^ 32);
      }
      {
#line 6242
      if (c == 96) {
#line 6242
        goto case_96;
      }
#line 6242
      if (c == 36) {
#line 6242
        goto case_96;
      }
#line 6242
      if (c == 34) {
#line 6242
        goto case_96;
      }
#line 6250
      goto switch_default;
      case_96: /* CIL Label */ 
      case_36: /* CIL Label */ 
      case_34: /* CIL Label */ 
#line 6243
      if (inquote) {
#line 6244
        tmp___3 = p;
#line 6244
        p ++;
#line 6244
        *tmp___3 = (char )'\"';
#line 6245
        inquote = 0;
      }
#line 6247
      tmp___4 = p;
#line 6247
      p ++;
#line 6247
      *tmp___4 = (char )'\\';
#line 6248
      tmp___5 = p;
#line 6248
      p ++;
#line 6248
      *tmp___5 = (char )c;
#line 6249
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 6251
      if (! inquote) {
#line 6252
        tmp___6 = p;
#line 6252
        p ++;
#line 6252
        *tmp___6 = (char )'\"';
#line 6253
        inquote = 1;
      }
#line 6255
      if (c == 10) {
#line 6256
        tmp___7 = p;
#line 6256
        p ++;
#line 6256
        *tmp___7 = (char )'\\';
      }
#line 6257
      tmp___8 = p;
#line 6257
      p ++;
#line 6257
      *tmp___8 = (char )c;
#line 6258
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 6261
    if (inquote) {
#line 6262
      tmp___9 = p;
#line 6262
      p ++;
#line 6262
      *tmp___9 = (char )'\"';
    }
  } else {
#line 6264
    pending = 0;
#line 6266
    tmp___10 = p;
#line 6266
    p ++;
#line 6266
    *tmp___10 = (char )'\"';
    {
#line 6267
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 6267
      if (! *s) {
#line 6267
        goto while_break___0;
      }
#line 6268
      tmp___11 = s;
#line 6268
      s ++;
#line 6268
      c___0 = (int )*tmp___11;
#line 6270
      if (c___0 == -125) {
#line 6271
        tmp___12 = s;
#line 6271
        s ++;
#line 6271
        c___0 = (int )((int const   )*tmp___12 ^ 32);
      }
      {
#line 6273
      if (c___0 == 92) {
#line 6273
        goto case_92;
      }
#line 6281
      if (c___0 == 96) {
#line 6281
        goto case_96___0;
      }
#line 6281
      if (c___0 == 36) {
#line 6281
        goto case_96___0;
      }
#line 6281
      if (c___0 == 34) {
#line 6281
        goto case_96___0;
      }
#line 6286
      goto switch_default___0;
      case_92: /* CIL Label */ 
#line 6274
      if (pending) {
#line 6275
        tmp___13 = p;
#line 6275
        p ++;
#line 6275
        *tmp___13 = (char )'\\';
      }
#line 6276
      tmp___14 = p;
#line 6276
      p ++;
#line 6276
      *tmp___14 = (char )'\\';
#line 6277
      pending = 1;
#line 6278
      goto switch_break___0;
      case_96___0: /* CIL Label */ 
      case_36___0: /* CIL Label */ 
      case_34___0: /* CIL Label */ 
#line 6282
      if (pending) {
#line 6283
        tmp___15 = p;
#line 6283
        p ++;
#line 6283
        *tmp___15 = (char )'\\';
      }
#line 6284
      tmp___16 = p;
#line 6284
      p ++;
#line 6284
      *tmp___16 = (char )'\\';
      switch_default___0: /* CIL Label */ 
#line 6287
      tmp___17 = p;
#line 6287
      p ++;
#line 6287
      *tmp___17 = (char )c___0;
#line 6288
      pending = 0;
#line 6289
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 6292
    if (pending) {
#line 6293
      tmp___18 = p;
#line 6293
      p ++;
#line 6293
      *tmp___18 = (char )'\\';
    }
#line 6294
    tmp___19 = p;
#line 6294
    p ++;
#line 6294
    *tmp___19 = (char )'\"';
  }
  {
#line 6296
  ret = metafy(buf___7, (int )(p - buf___7), 3);
#line 6297
  zfree((void *)buf___7, len);
  }
#line 6298
  return (ret);
}
}
#line 6416 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
char *getkeystring(char *s , int *len , int how , int *misc ) 
{ 
  char *buf___7 ;
  char tmp[1] ;
  char *t ;
  char *tdest ;
  char *u ;
  char *sstart ;
  char *tbuf___0 ;
  char svchar ;
  int meta___0 ;
  int control ;
  int ignoring ;
  int i ;
  wint_t wval ;
  int count ;
  int maxlen ;
  size_t tmp___0 ;
  void *tmp___1 ;
  size_t tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  int miscadded ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  char tmp___18 ;
  char *t2 ;
  char *tmp___19 ;
  char *tmp___20 ;
  char *tmp___21 ;
  char *tmp___22 ;
  char *tmp___23 ;
  char *tmp___24 ;
  int tmp___25 ;
  zlong tmp___26 ;
  char *tmp___27 ;
  char *tmp___28 ;
  char *tmp___29 ;
  wint_t wc ;
  int len___0 ;
  char *tmp___30 ;
  char *tmp___31 ;
  char *tmp___32 ;
  char *tmp___33 ;
  char *tmp___34 ;
  char *tmp___35 ;
  char *tmp___36 ;
  char *t2___0 ;
  char *tmp___37 ;
  char *tmp___38 ;
  char *tmp___39 ;
  char *tmp___40 ;
  void *__cil_tmp66 ;
  char *__cil_tmp67 ;

  {
#line 6420
  tdest = (char *)((void *)0);
#line 6420
  u = (char *)((void *)0);
#line 6420
  sstart = s;
#line 6420
  tbuf___0 = (char *)((void *)0);
#line 6421
  svchar = (char )'\000';
#line 6422
  meta___0 = 0;
#line 6422
  control = 0;
#line 6422
  ignoring = 0;
#line 6446
  if (how & 64) {
#line 6447
    buf___7 = tmp;
#line 6447
    t = buf___7;
  } else {
#line 6450
    maxlen = 1;
#line 6459
    t = s;
    {
#line 6459
    while (1) {
      while_continue: /* CIL Label */ ;
#line 6459
      if (! *t) {
#line 6459
        goto while_break;
      }
#line 6460
      if ((int )*t == 92) {
#line 6461
        if (! *(t + 1)) {
#line 6462
          maxlen ++;
#line 6463
          goto while_break;
        }
#line 6465
        if ((int )*(t + 1) == 117) {
          {
#line 6466
          tmp___0 = __ctype_get_mb_cur_max();
#line 6466
          maxlen = (int )((size_t )maxlen + tmp___0 * 2UL);
          }
        } else
#line 6465
        if ((int )*(t + 1) == 85) {
          {
#line 6466
          tmp___0 = __ctype_get_mb_cur_max();
#line 6466
          maxlen = (int )((size_t )maxlen + tmp___0 * 2UL);
          }
        } else {
#line 6468
          maxlen += 2;
        }
#line 6470
        t ++;
      } else {
#line 6472
        maxlen ++;
      }
#line 6459
      t ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 6474
    if (how & 16) {
      {
#line 6492
      tmp___1 = zhalloc((size_t )maxlen);
#line 6492
      tdest = (char *)tmp___1;
#line 6492
      buf___7 = tdest;
#line 6493
      tmp___2 = __ctype_get_mb_cur_max();
#line 6493
      tmp___3 = zhalloc(tmp___2 * 3UL + 1UL);
#line 6493
      tbuf___0 = (char *)tmp___3;
#line 6493
      t = tbuf___0;
      }
    } else {
      {
#line 6495
      tmp___4 = zhalloc((size_t )maxlen);
#line 6495
      buf___7 = (char *)tmp___4;
#line 6495
      t = buf___7;
      }
    }
  }
  {
#line 6498
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 6498
    if (! *s) {
#line 6498
      goto while_break___0;
    }
#line 6499
    if ((int )*s == 92) {
#line 6499
      if (*(s + 1)) {
#line 6501
        if (how & 128) {
#line 6501
          if (s - sstart < (long )*misc) {
#line 6502
            (*misc) --;
#line 6503
            miscadded = 1;
          } else {
#line 6505
            miscadded = 0;
          }
        } else {
#line 6505
          miscadded = 0;
        }
#line 6506
        s ++;
        {
#line 6507
        if ((int )*s == 97) {
#line 6507
          goto case_97;
        }
#line 6514
        if ((int )*s == 110) {
#line 6514
          goto case_110;
        }
#line 6517
        if ((int )*s == 98) {
#line 6517
          goto case_98;
        }
#line 6520
        if ((int )*s == 116) {
#line 6520
          goto case_116;
        }
#line 6523
        if ((int )*s == 118) {
#line 6523
          goto case_118;
        }
#line 6526
        if ((int )*s == 102) {
#line 6526
          goto case_102;
        }
#line 6529
        if ((int )*s == 114) {
#line 6529
          goto case_114;
        }
#line 6532
        if ((int )*s == 69) {
#line 6532
          goto case_69;
        }
#line 6540
        if ((int )*s == 101) {
#line 6540
          goto case_101;
        }
#line 6543
        if ((int )*s == 77) {
#line 6543
          goto case_77;
        }
#line 6555
        if ((int )*s == 67) {
#line 6555
          goto case_67;
        }
#line 6567
        if ((int )*s == -125) {
#line 6567
          goto case_neg_125;
        }
#line 6572
        if ((int )*s == 45) {
#line 6572
          goto case_45;
        }
#line 6578
        if ((int )*s == 99) {
#line 6578
          goto case_99;
        }
#line 6586
        if ((int )*s == 85) {
#line 6586
          goto case_85;
        }
#line 6590
        if ((int )*s == 117) {
#line 6590
          goto case_117;
        }
#line 6709
        if ((int )*s == 92) {
#line 6709
          goto case_92;
        }
#line 6709
        if ((int )*s == 39) {
#line 6709
          goto case_92;
        }
#line 6721
        goto def;
        case_97: /* CIL Label */ 
#line 6509
        tmp___5 = t;
#line 6509
        t ++;
#line 6509
        *tmp___5 = (char )'\a';
#line 6513
        goto switch_break;
        case_110: /* CIL Label */ 
#line 6515
        tmp___6 = t;
#line 6515
        t ++;
#line 6515
        *tmp___6 = (char )'\n';
#line 6516
        goto switch_break;
        case_98: /* CIL Label */ 
#line 6518
        tmp___7 = t;
#line 6518
        t ++;
#line 6518
        *tmp___7 = (char )'\b';
#line 6519
        goto switch_break;
        case_116: /* CIL Label */ 
#line 6521
        tmp___8 = t;
#line 6521
        t ++;
#line 6521
        *tmp___8 = (char )'\t';
#line 6522
        goto switch_break;
        case_118: /* CIL Label */ 
#line 6524
        tmp___9 = t;
#line 6524
        t ++;
#line 6524
        *tmp___9 = (char )'\v';
#line 6525
        goto switch_break;
        case_102: /* CIL Label */ 
#line 6527
        tmp___10 = t;
#line 6527
        t ++;
#line 6527
        *tmp___10 = (char )'\f';
#line 6528
        goto switch_break;
        case_114: /* CIL Label */ 
#line 6530
        tmp___11 = t;
#line 6530
        t ++;
#line 6530
        *tmp___11 = (char )'\r';
#line 6531
        goto switch_break;
        case_69: /* CIL Label */ 
#line 6533
        if (! (how & 2)) {
#line 6534
          tmp___12 = t;
#line 6534
          t ++;
#line 6534
          *tmp___12 = (char )'\\';
#line 6534
          s --;
#line 6535
          if (miscadded) {
#line 6536
            (*misc) ++;
          }
#line 6537
          goto __Cont;
        }
        case_101: /* CIL Label */ 
#line 6541
        tmp___13 = t;
#line 6541
        t ++;
#line 6541
        *tmp___13 = (char )'\033';
#line 6542
        goto switch_break;
        case_77: /* CIL Label */ 
#line 6545
        if (how & 2) {
#line 6546
          if ((int )*(s + 1) == 45) {
#line 6547
            s ++;
          }
#line 6548
          meta___0 = 1 + control;
        } else {
#line 6550
          if (miscadded) {
#line 6551
            (*misc) ++;
          }
#line 6552
          tmp___14 = t;
#line 6552
          t ++;
#line 6552
          *tmp___14 = (char )'\\';
#line 6552
          s --;
        }
#line 6554
        goto __Cont;
        case_67: /* CIL Label */ 
#line 6557
        if (how & 2) {
#line 6558
          if ((int )*(s + 1) == 45) {
#line 6559
            s ++;
          }
#line 6560
          control = 1;
        } else {
#line 6562
          if (miscadded) {
#line 6563
            (*misc) ++;
          }
#line 6564
          tmp___15 = t;
#line 6564
          t ++;
#line 6564
          *tmp___15 = (char )'\\';
#line 6564
          s --;
        }
#line 6566
        goto __Cont;
        case_neg_125: /* CIL Label */ 
#line 6568
        if (miscadded) {
#line 6569
          (*misc) ++;
        }
#line 6570
        tmp___16 = t;
#line 6570
        t ++;
#line 6570
        *tmp___16 = (char )'\\';
#line 6570
        s --;
#line 6571
        goto switch_break;
        case_45: /* CIL Label */ 
#line 6573
        if (how & 32) {
#line 6574
          *misc = 1;
#line 6575
          goto switch_break;
        }
#line 6577
        goto def;
        case_99: /* CIL Label */ 
#line 6579
        if (how & 8) {
#line 6580
          *misc = 1;
#line 6581
          *t = (char )'\000';
#line 6582
          *len = (int )(t - buf___7);
#line 6583
          return (buf___7);
        }
#line 6585
        goto def;
        case_85: /* CIL Label */ 
#line 6587
        if (how & 128) {
#line 6587
          if (s - sstart < (long )*misc) {
#line 6588
            *misc -= 4;
          }
        }
        case_117: /* CIL Label */ 
#line 6591
        if (how & 128) {
#line 6591
          if (s - sstart < (long )*misc) {
#line 6592
            *misc -= 6;
          }
        }
#line 6599
        wval = (wint_t )0;
#line 6600
        if ((int )*s == 117) {
#line 6600
          i = 4;
        } else {
#line 6600
          i = 8;
        }
        {
#line 6600
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 6600
          if (! (i > 0)) {
#line 6600
            goto while_break___1;
          }
#line 6601
          s ++;
#line 6601
          if (*s) {
#line 6601
            if ((int )typtab[(unsigned char )*s] & 1) {
#line 6602
              wval = wval * 16U + (wint_t )((int )*s - 48);
            } else {
#line 6601
              goto _L___0;
            }
          } else
          _L___0: /* CIL Label */ 
#line 6603
          if (*s) {
#line 6603
            if ((int )*s >= 97) {
#line 6603
              if ((int )*s <= 102) {
#line 6605
                wval = (wval * 16U + (wint_t )((int )*s & 31)) + 9U;
              } else {
#line 6603
                goto _L;
              }
            } else
            _L: /* CIL Label */ 
#line 6603
            if ((int )*s >= 65) {
#line 6603
              if ((int )*s <= 70) {
#line 6605
                wval = (wval * 16U + (wint_t )((int )*s & 31)) + 9U;
              } else {
#line 6607
                s --;
#line 6608
                goto while_break___1;
              }
            } else {
#line 6607
              s --;
#line 6608
              goto while_break___1;
            }
          } else {
#line 6607
            s --;
#line 6608
            goto while_break___1;
          }
#line 6600
          i --;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 6611
        if (how & 64) {
#line 6612
          *misc = (int )wval;
#line 6613
          return (s + 1);
        }
        {
#line 6616
        count = wctomb(t, (wchar_t )wval);
        }
#line 6617
        if (count == -1) {
          {
#line 6618
          zerr("character not in range");
          }
#line 6619
          if (how & 16) {
            {
#line 6619
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 6619
              tmp___17 = tdest;
#line 6619
              tdest ++;
#line 6619
              s ++;
#line 6619
              tmp___18 = *s;
#line 6619
              *tmp___17 = tmp___18;
#line 6619
              if (! tmp___18) {
#line 6619
                goto while_break___2;
              }
#line 6619
              if (how & 128) {
#line 6619
                if (s - sstart > (long )*misc) {
#line 6619
                  (*misc) ++;
                }
              }
#line 6619
              if ((int )*s == -99) {
#line 6619
                *len = (int )((s - sstart) + 1L);
#line 6619
                *tdest = (char )'\000';
#line 6619
                return (buf___7);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 6619
            *len = (int )(tdest - buf___7);
#line 6619
            return (buf___7);
          }
#line 6619
          *t = (char )'\000';
#line 6619
          *len = (int )(t - buf___7);
#line 6619
          return (buf___7);
        }
#line 6621
        if (how & 128) {
#line 6621
          if (s - sstart < (long )*misc) {
#line 6622
            *misc += count;
          }
        }
#line 6623
        t += count;
#line 6695
        if (how & 16) {
#line 6697
          t2 = tbuf___0;
          {
#line 6697
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 6697
            if (! ((unsigned long )t2 < (unsigned long )t)) {
#line 6697
              goto while_break___3;
            }
#line 6698
            if ((int )typtab[(unsigned char )*t2] & (1 << 12)) {
#line 6699
              tmp___19 = tdest;
#line 6699
              tdest ++;
#line 6699
              *tmp___19 = (char)-125;
#line 6700
              tmp___20 = tdest;
#line 6700
              tdest ++;
#line 6700
              *tmp___20 = (char )((int )*t2 ^ 32);
            } else {
#line 6702
              tmp___21 = tdest;
#line 6702
              tdest ++;
#line 6702
              *tmp___21 = *t2;
            }
#line 6697
            t2 ++;
          }
          while_break___3: /* CIL Label */ ;
          }
#line 6705
          t = tbuf___0;
        }
#line 6707
        goto __Cont;
        case_92: /* CIL Label */ 
        case_39: /* CIL Label */ 
#line 6710
        if (how & 16) {
#line 6717
          tmp___22 = t;
#line 6717
          t ++;
#line 6717
          *tmp___22 = *s;
#line 6718
          goto switch_break;
        }
        def: 
        switch_default: /* CIL Label */ 
#line 6724
        if ((int )typtab[(unsigned char )*s] & 1) {
#line 6724
          if ((int )*s < 56) {
#line 6724
            goto _L___1;
          } else {
#line 6724
            goto _L___2;
          }
        } else
        _L___2: /* CIL Label */ 
#line 6724
        if ((int )*s == 120) {
          _L___1: /* CIL Label */ 
#line 6725
          if (! (how & 1)) {
#line 6726
            if ((int )*s == 48) {
#line 6727
              s ++;
            } else
#line 6728
            if ((int )*s != 120) {
#line 6729
              tmp___23 = t;
#line 6729
              t ++;
#line 6729
              *tmp___23 = (char )'\\';
#line 6729
              s --;
#line 6730
              goto __Cont;
            }
          }
#line 6733
          if (*(s + 1)) {
#line 6733
            if (*(s + 2)) {
#line 6733
              if (*(s + 3)) {
#line 6734
                svchar = *(s + 3);
#line 6735
                *(s + 3) = (char )'\000';
#line 6736
                u = s;
              }
            }
          }
#line 6738
          tmp___24 = t;
#line 6738
          t ++;
#line 6738
          if ((int )*s == 120) {
#line 6738
            tmp___25 = 16;
          } else {
#line 6738
            tmp___25 = 8;
          }
          {
#line 6738
          tmp___26 = zstrtol((char const   *)(s + ((int )*s == 120)), & s, tmp___25);
#line 6738
          *tmp___24 = (char )tmp___26;
          }
#line 6740
          if (how & 256) {
#line 6740
            if ((int )*(t + -1) == 37) {
#line 6741
              tmp___27 = t;
#line 6741
              t ++;
#line 6741
              *tmp___27 = (char )'%';
            }
          }
#line 6742
          if (svchar) {
#line 6743
            *(u + 3) = svchar;
#line 6744
            svchar = (char )'\000';
          }
#line 6746
          s --;
        } else {
#line 6748
          if (! (how & 2)) {
#line 6748
            if ((int )*s != 92) {
#line 6749
              if (miscadded) {
#line 6750
                (*misc) ++;
              }
#line 6751
              tmp___28 = t;
#line 6751
              t ++;
#line 6751
              *tmp___28 = (char )'\\';
            }
          }
#line 6753
          tmp___29 = t;
#line 6753
          t ++;
#line 6753
          *tmp___29 = *s;
        }
#line 6755
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
      } else {
#line 6499
        goto _L___10;
      }
    } else
    _L___10: /* CIL Label */ 
#line 6757
    if (how & 16) {
#line 6757
      if ((int )*s == -99) {
#line 6759
        *len = (int )((s - sstart) + 1L);
#line 6760
        *tdest = (char )'\000';
#line 6761
        return (buf___7);
      } else {
#line 6757
        goto _L___9;
      }
    } else
    _L___9: /* CIL Label */ 
#line 6762
    if ((int )*s == 94) {
#line 6762
      if (! control) {
#line 6762
        if (how & 4) {
#line 6762
          if (*(s + 1)) {
#line 6763
            control = 1;
#line 6764
            goto __Cont;
          } else {
#line 6762
            goto _L___8;
          }
        } else {
#line 6762
          goto _L___8;
        }
      } else {
#line 6762
        goto _L___8;
      }
    } else
    _L___8: /* CIL Label */ 
#line 6766
    if (how & 64) {
#line 6766
      if (opts[116]) {
#line 6766
        if ((int )((unsigned char )*s) > 127) {
          {
#line 6770
          len___0 = mb_metacharlenconv((char const   *)s, & wc);
          }
#line 6771
          if (wc != 4294967295U) {
#line 6772
            *misc = (int )wc;
#line 6773
            return (s + len___0);
          }
        } else {
#line 6766
          goto _L___5;
        }
      } else {
#line 6766
        goto _L___5;
      }
    } else
    _L___5: /* CIL Label */ 
#line 6777
    if ((int )*s == -125) {
#line 6778
      tmp___30 = t;
#line 6778
      t ++;
#line 6778
      s ++;
#line 6778
      *tmp___30 = (char )((int )*s ^ 32);
    } else
#line 6780
    if ((int )typtab[(unsigned char )*s] & (1 << 4)) {
#line 6789
      if (meta___0) {
#line 6789
        goto _L___3;
      } else
#line 6789
      if (control) {
        _L___3: /* CIL Label */ 
#line 6799
        if (how & 16) {
#line 6799
          if ((int )*s == -97) {
#line 6800
            tmp___31 = t;
#line 6800
            t ++;
#line 6800
            s ++;
#line 6800
            *tmp___31 = *s;
          } else {
#line 6802
            tmp___32 = t;
#line 6802
            t ++;
#line 6802
            *tmp___32 = ztokens[(int )*s - -124];
          }
        } else {
#line 6802
          tmp___32 = t;
#line 6802
          t ++;
#line 6802
          *tmp___32 = ztokens[(int )*s - -124];
        }
      } else
#line 6803
      if (how & 16) {
#line 6808
        tmp___33 = tdest;
#line 6808
        tdest ++;
#line 6808
        *tmp___33 = *s;
#line 6809
        if ((int )*s == -97) {
#line 6819
          tmp___34 = tdest;
#line 6819
          tdest ++;
#line 6819
          s ++;
#line 6819
          *tmp___34 = *s;
        }
#line 6822
        t = tbuf___0;
#line 6823
        goto __Cont;
      } else {
#line 6825
        tmp___35 = t;
#line 6825
        t ++;
#line 6825
        *tmp___35 = *s;
      }
    } else {
#line 6827
      tmp___36 = t;
#line 6827
      t ++;
#line 6827
      *tmp___36 = *s;
    }
#line 6829
    if (meta___0 == 2) {
#line 6830
      *(t + -1) = (char )((int )*(t + -1) | 128);
#line 6831
      meta___0 = 0;
    }
#line 6833
    if (control) {
#line 6834
      if ((int )*(t + -1) == 63) {
#line 6835
        *(t + -1) = (char)127;
      } else {
#line 6837
        *(t + -1) = (char )((int )*(t + -1) & 159);
      }
#line 6838
      control = 0;
    }
#line 6840
    if (meta___0) {
#line 6841
      *(t + -1) = (char )((int )*(t + -1) | 128);
#line 6842
      meta___0 = 0;
    }
#line 6844
    if (how & 16) {
#line 6846
      t2___0 = tbuf___0;
      {
#line 6846
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 6846
        if (! ((unsigned long )t2___0 < (unsigned long )t)) {
#line 6846
          goto while_break___4;
        }
#line 6851
        if (opts[134]) {
#line 6852
          if ((int )*t2___0 == 0) {
#line 6853
            ignoring = 1;
          }
#line 6854
          if (ignoring) {
#line 6855
            goto while_break___4;
          }
        }
#line 6857
        if ((int )typtab[(unsigned char )*t2___0] & (1 << 12)) {
#line 6858
          tmp___37 = tdest;
#line 6858
          tdest ++;
#line 6858
          *tmp___37 = (char)-125;
#line 6859
          tmp___38 = tdest;
#line 6859
          tdest ++;
#line 6859
          *tmp___38 = (char )((int )*t2___0 ^ 32);
        } else {
#line 6861
          tmp___39 = tdest;
#line 6861
          tdest ++;
#line 6861
          *tmp___39 = *t2___0;
        }
#line 6846
        t2___0 ++;
      }
      while_break___4: /* CIL Label */ ;
      }
#line 6867
      t = tbuf___0;
    }
#line 6869
    if (how & 64) {
#line 6869
      if ((unsigned long )t != (unsigned long )(tmp)) {
#line 6870
        *misc = (int )((unsigned char )tmp[0]);
#line 6871
        return (s + 1);
      }
    }
    __Cont: /* CIL Label */ 
#line 6498
    s ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 6881
  *t = (char )'\000';
#line 6882
  if (how & 16) {
#line 6883
    *tdest = (char )'\000';
  }
#line 6884
  if (how & 64) {
#line 6885
    *misc = 0;
  } else {
#line 6887
    if (how & 16) {
#line 6887
      tmp___40 = tdest;
    } else {
#line 6887
      tmp___40 = t;
    }
#line 6887
    *len = (int )(tmp___40 - buf___7);
  }
#line 6888
  return (buf___7);
}
}
#line 6894 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int strpfx(char const   *s , char const   *t ) 
{ 


  {
  {
#line 6897
  while (1) {
    while_continue: /* CIL Label */ ;
#line 6897
    if (*s) {
#line 6897
      if (! ((int const   )*s == (int const   )*t)) {
#line 6897
        goto while_break;
      }
    } else {
#line 6897
      goto while_break;
    }
#line 6898
    s ++;
#line 6898
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 6899
  return (! *s);
}
}
#line 6905 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int strsfx(char *s , char *t ) 
{ 
  int ls ;
  size_t tmp ;
  int lt ;
  size_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 6908
  tmp = strlen((char const   *)s);
#line 6908
  ls = (int )tmp;
#line 6908
  tmp___0 = strlen((char const   *)t);
#line 6908
  lt = (int )tmp___0;
  }
#line 6910
  if (ls <= lt) {
    {
#line 6911
    tmp___1 = strcmp((char const   *)((t + lt) - ls), (char const   *)s);
    }
#line 6911
    if (tmp___1) {
#line 6911
      tmp___2 = 0;
    } else {
#line 6911
      tmp___2 = 1;
    }
#line 6911
    return (tmp___2);
  }
#line 6912
  return (0);
}
}
#line 6916 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
static int upchdir(int n ) 
{ 
  char buf___7[4097] ;
  char *s ;
  int err ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *__cil_tmp10 ;

  {
#line 6921
  err = -1;
  {
#line 6923
  while (1) {
    while_continue: /* CIL Label */ ;
#line 6923
    if (! (n > 0)) {
#line 6923
      goto while_break;
    }
#line 6924
    s = buf___7;
    {
#line 6924
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 6924
      if ((unsigned long )s < (unsigned long )((buf___7 + 4096) - 4)) {
#line 6924
        tmp___2 = n;
#line 6924
        n --;
#line 6924
        if (! tmp___2) {
#line 6924
          goto while_break___0;
        }
      } else {
#line 6924
        goto while_break___0;
      }
#line 6925
      tmp = s;
#line 6925
      s ++;
#line 6925
      *tmp = (char )'.';
#line 6925
      tmp___0 = s;
#line 6925
      s ++;
#line 6925
      *tmp___0 = (char )'.';
#line 6925
      tmp___1 = s;
#line 6925
      s ++;
#line 6925
      *tmp___1 = (char )'/';
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 6926
    *(s + -1) = (char )'\000';
#line 6927
    tmp___3 = chdir((char const   *)(buf___7));
    }
#line 6927
    if (tmp___3) {
#line 6928
      return (err);
    }
#line 6929
    err = -2;
  }
  while_break: /* CIL Label */ ;
  }
#line 6931
  return (0);
}
}
#line 6941 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
void init_dirsav(Dirsav d___0 ) 
{ 
  dev_t tmp ;
  int tmp___0 ;

  {
#line 6944
  tmp = (dev_t )0;
#line 6944
  d___0->dev = tmp;
#line 6944
  d___0->ino = tmp;
#line 6945
  d___0->dirname = (char *)((void *)0);
#line 6946
  tmp___0 = -1;
#line 6946
  d___0->level = tmp___0;
#line 6946
  d___0->dirfd = tmp___0;
#line 6947
  return;
}
}
#line 6960 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int lchdir(char const   *path___0 , struct dirsav *d___0 , int hard ) 
{ 
  char const   *pptr ;
  int level ;
  struct stat st1 ;
  struct dirsav ds ;
  char buf___7[4097] ;
  char *ptr___0 ;
  int err ;
  struct stat st2 ;
  int close_dir ;
  char const   *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  int *tmp___3 ;
  int tmp___4 ;
  char *tmp___5 ;
  char const   *tmp___6 ;
  int *tmp___7 ;
  int tmp___8 ;
  int *tmp___9 ;
  int tmp___10 ;
  int *tmp___11 ;
  int tmp___12 ;
  int restoreerr ;
  int *tmp___13 ;
  int i ;
  char const   *cdest ;
  int tmp___14 ;
  int *tmp___15 ;
  int *tmp___16 ;
  int tmp___17 ;
  int *tmp___18 ;
  void *__cil_tmp36 ;
  void *__cil_tmp37 ;
  void *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;

  {
#line 6973
  close_dir = 0;
#line 6976
  if (! d___0) {
    {
#line 6977
    init_dirsav(& ds);
#line 6978
    d___0 = & ds;
    }
  }
#line 6981
  if ((int const   )*path___0 == 47) {
#line 6981
    goto _L___0;
  } else
#line 6981
  if (! hard) {
    _L___0: /* CIL Label */ 
#line 6981
    if ((unsigned long )d___0 != (unsigned long )(& ds)) {
#line 6986
      level = -1;
    } else
#line 6981
    if (hard) {
#line 6986
      level = -1;
    } else {
#line 6981
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 6992
    level = 0;
#line 6993
    if (! d___0->dev) {
#line 6993
      if (! d___0->ino) {
        {
#line 6994
        stat((char const   */* __restrict  */)".", (struct stat */* __restrict  */)(& st1));
#line 6995
        d___0->dev = st1.st_dev;
#line 6996
        d___0->ino = st1.st_ino;
        }
      }
    }
  }
#line 7001
  if (! hard) {
#line 7004
    if ((unsigned long )d___0 != (unsigned long )(& ds)) {
#line 7005
      pptr = path___0;
      {
#line 7005
      while (1) {
        while_continue: /* CIL Label */ ;
#line 7005
        if (! *pptr) {
#line 7005
          goto while_break;
        }
        {
#line 7006
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 7006
          if (*pptr) {
#line 7006
            tmp = pptr;
#line 7006
            pptr ++;
#line 7006
            if (! ((int const   )*tmp != 47)) {
#line 7006
              goto while_break___0;
            }
          } else {
#line 7006
            goto while_break___0;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
        {
#line 7007
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 7007
          if (! ((int const   )*pptr == 47)) {
#line 7007
            goto while_break___1;
          }
#line 7008
          pptr ++;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 7005
        level ++;
      }
      while_break: /* CIL Label */ ;
      }
#line 7010
      d___0->level = level;
    }
    {
#line 7012
    tmp___0 = zchdir((char *)path___0);
    }
#line 7012
    return (tmp___0);
  }
#line 7017
  if (d___0->dirfd < 0) {
    {
#line 7018
    close_dir = 1;
#line 7019
    tmp___1 = open(".", 256);
#line 7019
    d___0->dirfd = tmp___1;
    }
#line 7019
    if (tmp___1 < 0) {
      {
#line 7019
      tmp___2 = zgetdir(d___0);
      }
#line 7019
      if (tmp___2) {
#line 7019
        if ((int )*(d___0->dirname) != 47) {
          {
#line 7021
          d___0->dirfd = open("..", 256);
          }
        }
      }
    }
  }
#line 7024
  if ((int const   )*path___0 == 47) {
    {
#line 7025
    tmp___4 = chdir("/");
    }
#line 7025
    if (tmp___4 < 0) {
      {
#line 7026
      tmp___3 = __errno_location();
#line 7026
      zwarn("failed to chdir(/): %e", *tmp___3);
      }
    }
  }
  {
#line 7027
  while (1) {
    while_continue___2: /* CIL Label */ ;
    {
#line 7028
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 7028
      if (! ((int const   )*path___0 == 47)) {
#line 7028
        goto while_break___3;
      }
#line 7029
      path___0 ++;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 7030
    if (! *path___0) {
#line 7031
      if ((unsigned long )d___0 == (unsigned long )(& ds)) {
        {
#line 7032
        zsfree(ds.dirname);
        }
      } else {
#line 7034
        d___0->level = level;
      }
#line 7036
      if (d___0->dirfd >= 0) {
#line 7036
        if (close_dir) {
          {
#line 7037
          close(d___0->dirfd);
#line 7038
          d___0->dirfd = -1;
          }
        }
      }
#line 7041
      return (0);
    }
#line 7043
    pptr = path___0;
    {
#line 7043
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 7043
      pptr ++;
#line 7043
      if (*pptr) {
#line 7043
        if (! ((int const   )*pptr != 47)) {
#line 7043
          goto while_break___4;
        }
      } else {
#line 7043
        goto while_break___4;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
#line 7044
    if (pptr - path___0 > 4096L) {
#line 7045
      err = 36;
#line 7046
      goto while_break___2;
    }
#line 7048
    ptr___0 = buf___7;
    {
#line 7048
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 7048
      if (! ((unsigned long )path___0 != (unsigned long )pptr)) {
#line 7048
        goto while_break___5;
      }
#line 7049
      tmp___5 = ptr___0;
#line 7049
      ptr___0 ++;
#line 7049
      tmp___6 = path___0;
#line 7049
      path___0 ++;
#line 7049
      *tmp___5 = (char )*tmp___6;
    }
    while_break___5: /* CIL Label */ ;
    }
    {
#line 7050
    *ptr___0 = (char)0;
#line 7051
    tmp___8 = lstat((char const   */* __restrict  */)(buf___7), (struct stat */* __restrict  */)(& st1));
    }
#line 7051
    if (tmp___8) {
      {
#line 7052
      tmp___7 = __errno_location();
#line 7052
      err = *tmp___7;
      }
#line 7053
      goto while_break___2;
    }
#line 7055
    if (! ((st1.st_mode & 61440U) == 16384U)) {
#line 7056
      err = 20;
#line 7057
      goto while_break___2;
    }
    {
#line 7059
    tmp___10 = chdir((char const   *)(buf___7));
    }
#line 7059
    if (tmp___10) {
      {
#line 7060
      tmp___9 = __errno_location();
#line 7060
      err = *tmp___9;
      }
#line 7061
      goto while_break___2;
    }
#line 7063
    if (level >= 0) {
#line 7064
      level ++;
    }
    {
#line 7065
    tmp___12 = lstat((char const   */* __restrict  */)".", (struct stat */* __restrict  */)(& st2));
    }
#line 7065
    if (tmp___12) {
      {
#line 7066
      tmp___11 = __errno_location();
#line 7066
      err = *tmp___11;
      }
#line 7067
      goto while_break___2;
    }
#line 7069
    if (st1.st_dev != st2.st_dev) {
#line 7070
      err = 20;
#line 7071
      goto while_break___2;
    } else
#line 7069
    if (st1.st_ino != st2.st_ino) {
#line 7070
      err = 20;
#line 7071
      goto while_break___2;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  {
#line 7074
  tmp___17 = restoredir(d___0);
  }
#line 7074
  if (tmp___17) {
    {
#line 7075
    tmp___13 = __errno_location();
#line 7075
    restoreerr = *tmp___13;
#line 7081
    i = 0;
    }
    {
#line 7081
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 7081
      if (! (i < 2)) {
#line 7081
        goto while_break___6;
      }
#line 7083
      if (i) {
#line 7084
        cdest = "/";
      } else {
#line 7086
        if (! home) {
#line 7087
          goto __Cont;
        }
#line 7088
        cdest = (char const   *)home;
      }
      {
#line 7090
      zsfree(pwd);
#line 7091
      pwd = ztrdup(cdest);
#line 7092
      tmp___14 = chdir((char const   *)pwd);
      }
#line 7092
      if (tmp___14 == 0) {
#line 7093
        goto while_break___6;
      }
      __Cont: /* CIL Label */ 
#line 7081
      i ++;
    }
    while_break___6: /* CIL Label */ ;
    }
#line 7095
    if (i == 2) {
      {
#line 7096
      tmp___15 = __errno_location();
#line 7096
      zerr("lost current directory, failed to cd to /: %e", *tmp___15);
      }
    } else {
      {
#line 7098
      zerr("lost current directory: %e: changed to `%s\'", restoreerr, pwd);
      }
    }
#line 7100
    if ((unsigned long )d___0 == (unsigned long )(& ds)) {
      {
#line 7101
      zsfree(ds.dirname);
      }
    }
#line 7103
    if (d___0->dirfd >= 0) {
#line 7103
      if (close_dir) {
        {
#line 7104
        close(d___0->dirfd);
#line 7105
        d___0->dirfd = -1;
        }
      }
    }
    {
#line 7108
    tmp___16 = __errno_location();
#line 7108
    *tmp___16 = err;
    }
#line 7109
    return (-2);
  }
#line 7111
  if ((unsigned long )d___0 == (unsigned long )(& ds)) {
    {
#line 7112
    zsfree(ds.dirname);
    }
  }
#line 7114
  if (d___0->dirfd >= 0) {
#line 7114
    if (close_dir) {
      {
#line 7115
      close(d___0->dirfd);
#line 7116
      d___0->dirfd = -1;
      }
    }
  }
  {
#line 7119
  tmp___18 = __errno_location();
#line 7119
  *tmp___18 = err;
  }
#line 7120
  return (-1);
}
}
#line 7125 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int restoredir(struct dirsav *d___0 ) 
{ 
  int err ;
  struct stat sbuf ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  void *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 7128
  err = 0;
#line 7131
  if (d___0->dirname) {
#line 7131
    if ((int )*(d___0->dirname) == 47) {
      {
#line 7132
      tmp = chdir((char const   *)d___0->dirname);
      }
#line 7132
      return (tmp);
    }
  }
#line 7134
  if (d___0->dirfd >= 0) {
    {
#line 7135
    tmp___1 = fchdir(d___0->dirfd);
    }
#line 7135
    if (tmp___1) {
      {
#line 7144
      close(d___0->dirfd);
#line 7145
      err = -1;
#line 7145
      d___0->dirfd = err;
      }
    } else
#line 7136
    if (! d___0->dirname) {
#line 7137
      return (0);
    } else {
      {
#line 7138
      tmp___0 = chdir((char const   *)d___0->dirname);
      }
#line 7138
      if (tmp___0) {
        {
#line 7139
        close(d___0->dirfd);
#line 7140
        d___0->dirfd = -1;
#line 7141
        err = -2;
        }
      }
    }
  } else
#line 7149
  if (d___0->level > 0) {
    {
#line 7150
    err = upchdir(d___0->level);
    }
  } else
#line 7151
  if (d___0->level < 0) {
#line 7152
    err = -1;
  }
#line 7153
  if (d___0->dev) {
#line 7153
    goto _L;
  } else
#line 7153
  if (d___0->ino) {
    _L: /* CIL Label */ 
    {
#line 7154
    stat((char const   */* __restrict  */)".", (struct stat */* __restrict  */)(& sbuf));
    }
#line 7155
    if (sbuf.st_ino != d___0->ino) {
#line 7156
      err = -2;
    } else
#line 7155
    if (sbuf.st_dev != d___0->dev) {
#line 7156
      err = -2;
    }
  }
#line 7158
  return (err);
}
}
#line 7168 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int privasserted(void) 
{ 
  __uid_t tmp ;

  {
  {
#line 7171
  tmp = geteuid();
  }
#line 7171
  if (! tmp) {
#line 7172
    return (1);
  }
#line 7190
  return (0);
}
}
#line 7194 "/home/khheo/testset/zsh-zsh-5.3.1/Src/utils.c"
int mode_to_octal(mode_t mode ) 
{ 
  int m ;

  {
#line 7197
  m = 0;
#line 7199
  if (mode & 2048U) {
#line 7200
    m |= 2048;
  }
#line 7201
  if (mode & 1024U) {
#line 7202
    m |= 1024;
  }
#line 7203
  if (mode & 512U) {
#line 7204
    m |= 512;
  }
#line 7205
  if (mode & 256U) {
#line 7206
    m |= 256;
  }
#line 7207
  if (mode & 128U) {
#line 7208
    m |= 128;
  }
#line 7209
  if (mode & 64U) {
#line 7210
    m |= 64;
  }
#line 7211
  if (mode & (unsigned int )(256 >> 3)) {
#line 7212
    m |= 32;
  }
#line 7213
  if (mode & (unsigned int )(128 >> 3)) {
#line 7214
    m |= 16;
  }
#line 7215
  if (mode & (unsigned int )(64 >> 3)) {
#line 7216
    m |= 8;
  }
#line 7217
  if (mode & (unsigned int )((256 >> 3) >> 3)) {
#line 7218
    m |= 4;
  }
#line 7219
  if (mode & (unsigned int )((128 >> 3) >> 3)) {
#line 7220
    m |= 2;
  }
#line 7221
  if (mode & (unsigned int )((64 >> 3) >> 3)) {
#line 7222
    m |= 1;
  }
#line 7223
  return (m);
}
}
#line 35 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
void useeprog(Eprog p ) ;
#line 36
void freeeprog(Eprog p ) ;
#line 37
char *ecgetstr(Estate s , int dup___0 , int *tokflag ) ;
#line 41
LinkList ecgetredirs(Estate s ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.epro"
int text_expand_tabs  ;
#line 6
int is_cond_binary_op(char const   *str ) ;
#line 7
void zoutputtab(FILE *outf ) ;
#line 8
char *getpermtext(Eprog prog , Wordcode c , int start_indent ) ;
#line 9
char *getjobtext(Eprog prog , Wordcode c ) ;
#line 10
void getredirs(LinkList redirs ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.pro"
static void taddchr(int c ) ;
#line 3
static void taddstr(char const   *s ) ;
#line 4
static void taddlist(Estate state , int num ) ;
#line 5
static void taddassignlist(Estate state , wordcode count ) ;
#line 6
static void taddnl(int no_semicolon ) ;
#line 7
static void gettext2(Estate state ) ;
#line 48 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static char const   *cond_binary_ops[16]  = 
#line 48 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
  {      "=",      "==",      "!=",      "<", 
        ">",      "-nt",      "-ot",      "-ef", 
        "-eq",      "-ne",      "-lt",      "-gt", 
        "-le",      "-ge",      "=~",      (char const   *)((void *)0)};
#line 53 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static char *tptr  ;
#line 53 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static char *tbuf  ;
#line 53 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static char *tlim  ;
#line 53 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static char *tpending  ;
#line 54 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static int tsiz  ;
#line 54 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static int tindent  ;
#line 54 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static int tnewlins  ;
#line 54 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static int tjob  ;
#line 57 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
int is_cond_binary_op(char const   *str ) 
{ 
  char const   **op___0 ;
  int tmp ;

  {
#line 61
  op___0 = cond_binary_ops;
  {
#line 61
  while (1) {
    while_continue: /* CIL Label */ ;
#line 61
    if (! *op___0) {
#line 61
      goto while_break;
    }
    {
#line 63
    tmp = strcmp(str, *op___0);
    }
#line 63
    if (! tmp) {
#line 64
      return (1);
    }
#line 61
    op___0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 66
  return (0);
}
}
#line 69 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void dec_tindent(void) 
{ 


  {
#line 73
  if (tindent > 0) {
#line 74
    tindent --;
  }
#line 75
  return;
}
}
#line 88 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void taddpending(char *str1 , char *str2 ) 
{ 
  int len ;
  size_t tmp ;
  size_t tmp___0 ;
  int oldlen ;
  size_t tmp___1 ;
  void *tmp___2 ;
  void *tmp___3 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
  {
#line 91
  tmp = strlen((char const   *)str1);
#line 91
  tmp___0 = strlen((char const   *)str2);
#line 91
  len = (int )((tmp + tmp___0) + 1UL);
  }
#line 101
  if (tpending) {
    {
#line 102
    tmp___1 = strlen((char const   *)tpending);
#line 102
    oldlen = (int )tmp___1;
#line 103
    tmp___2 = zrealloc((void *)tpending, (size_t )((len + oldlen) + 1));
#line 103
    tpending = (char *)tmp___2;
#line 104
    sprintf((char */* __restrict  */)(tpending + oldlen), (char const   */* __restrict  */)"\n%s%s",
            str1, str2);
    }
  } else {
    {
#line 106
    tmp___3 = zalloc((size_t )len);
#line 106
    tpending = (char *)tmp___3;
#line 107
    sprintf((char */* __restrict  */)tpending, (char const   */* __restrict  */)"%s%s",
            str1, str2);
    }
  }
#line 109
  return;
}
}
#line 113 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void tdopending(void) 
{ 


  {
#line 116
  if (tpending) {
    {
#line 117
    taddchr('\n');
#line 118
    taddstr((char const   *)tpending);
#line 119
    zsfree(tpending);
#line 120
    tpending = (char *)((void *)0);
    }
  }
#line 122
  return;
}
}
#line 127 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void taddchr(int c ) 
{ 
  char *tmp ;
  void *tmp___0 ;

  {
#line 130
  tmp = tptr;
#line 130
  tptr ++;
#line 130
  *tmp = (char )c;
#line 131
  if ((unsigned long )tptr == (unsigned long )tlim) {
#line 132
    if (! tbuf) {
#line 133
      tptr --;
#line 134
      return;
    }
    {
#line 136
    tsiz *= 2;
#line 136
    tmp___0 = zrealloc((void *)tbuf, (size_t )tsiz);
#line 136
    tbuf = (char *)tmp___0;
#line 137
    tlim = tbuf + tsiz;
#line 138
    tptr = tbuf + tsiz / 2;
    }
  }
#line 140
  return;
}
}
#line 145 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void taddstr(char const   *s ) 
{ 
  int sl ;
  size_t tmp ;
  char c ;
  int x ;
  void *tmp___0 ;
  char *tmp___1 ;
  char const   *tmp___2 ;

  {
  {
#line 148
  tmp = strlen(s);
#line 148
  sl = (int )tmp;
  }
  {
#line 151
  while (1) {
    while_continue: /* CIL Label */ ;
#line 151
    if (! ((unsigned long )(tptr + sl) >= (unsigned long )tlim)) {
#line 151
      goto while_break;
    }
#line 152
    x = (int )(tptr - tbuf);
#line 154
    if (! tbuf) {
#line 155
      return;
    }
    {
#line 156
    tsiz *= 2;
#line 156
    tmp___0 = zrealloc((void *)tbuf, (size_t )tsiz);
#line 156
    tbuf = (char *)tmp___0;
#line 157
    tlim = tbuf + tsiz;
#line 158
    tptr = tbuf + x;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 160
  if (tnewlins) {
    {
#line 161
    memcpy((void */* __restrict  */)tptr, (void const   */* __restrict  */)s, (size_t )sl);
#line 162
    tptr += sl;
    }
  } else {
    {
#line 164
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 164
      tmp___2 = s;
#line 164
      s ++;
#line 164
      c = (char )*tmp___2;
#line 164
      if (! c) {
#line 164
        goto while_break___0;
      }
#line 165
      tmp___1 = tptr;
#line 165
      tptr ++;
#line 165
      if ((int )c == 10) {
#line 165
        *tmp___1 = (char )' ';
      } else {
#line 165
        *tmp___1 = c;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 166
  return;
}
}
#line 169 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void taddlist(Estate state , int num ) 
{ 
  char *tmp ;
  int tmp___0 ;

  {
#line 172
  if (num) {
    {
#line 173
    while (1) {
      while_continue: /* CIL Label */ ;
#line 173
      tmp___0 = num;
#line 173
      num --;
#line 173
      if (! tmp___0) {
#line 173
        goto while_break;
      }
      {
#line 174
      tmp = ecgetstr(state, 0, (int *)((void *)0));
#line 174
      taddstr((char const   *)tmp);
#line 175
      taddchr(' ');
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 177
    tptr --;
  }
#line 179
  return;
}
}
#line 183 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void taddassign(wordcode code , Estate state , int typeset ) 
{ 
  char *tmp ;
  char *tmp___0 ;
  char *__cil_tmp6 ;

  {
  {
#line 187
  tmp = ecgetstr(state, 0, (int *)((void *)0));
#line 187
  taddstr((char const   *)tmp);
  }
#line 189
  if (((code >> 5) & 2U) >> 1 == 1U) {
#line 190
    if (typeset) {
      {
#line 192
      ecgetstr(state, 0, (int *)((void *)0));
#line 193
      taddchr(' ');
      }
#line 194
      return;
    }
    {
#line 196
    taddchr('+');
    }
  }
  {
#line 198
  taddchr('=');
  }
#line 199
  if (((code >> 5) & 1U) == 1U) {
    {
#line 200
    taddchr('(');
#line 201
    taddlist(state, (int )((code >> 5) >> 2));
#line 202
    taddstr(") ");
    }
  } else {
    {
#line 204
    tmp___0 = ecgetstr(state, 0, (int *)((void *)0));
#line 204
    taddstr((char const   *)tmp___0);
#line 205
    taddchr(' ');
    }
  }
#line 207
  return;
}
}
#line 212 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void taddassignlist(Estate state , wordcode count ) 
{ 
  wordcode code ;
  Wordcode tmp ;
  wordcode tmp___0 ;

  {
#line 215
  if (count) {
    {
#line 216
    taddchr(' ');
    }
  }
  {
#line 217
  while (1) {
    while_continue: /* CIL Label */ ;
#line 217
    tmp___0 = count;
#line 217
    count --;
#line 217
    if (! tmp___0) {
#line 217
      goto while_break;
    }
    {
#line 218
    tmp = state->pc;
#line 218
    (state->pc) ++;
#line 218
    code = *tmp;
#line 219
    taddassign(code, state, 1);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 221
  return;
}
}
#line 226 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void taddnl(int no_semicolon ) 
{ 
  int t0 ;
  int t1 ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 231
  if (tnewlins) {
    {
#line 232
    tdopending();
#line 233
    taddchr('\n');
#line 234
    t0 = 0;
    }
    {
#line 234
    while (1) {
      while_continue: /* CIL Label */ ;
#line 234
      if (! (t0 != tindent)) {
#line 234
        goto while_break;
      }
#line 235
      if (text_expand_tabs >= 0) {
#line 236
        if (text_expand_tabs) {
#line 238
          t1 = 0;
          {
#line 238
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 238
            if (! (t1 < text_expand_tabs)) {
#line 238
              goto while_break___0;
            }
            {
#line 239
            taddchr(' ');
#line 238
            t1 ++;
            }
          }
          while_break___0: /* CIL Label */ ;
          }
        } else {
          {
#line 241
          taddchr('\t');
          }
        }
      }
#line 234
      t0 ++;
    }
    while_break: /* CIL Label */ ;
    }
  } else
#line 244
  if (no_semicolon) {
    {
#line 245
    taddstr(" ");
    }
  } else {
    {
#line 247
    taddstr("; ");
    }
  }
#line 249
  return;
}
}
#line 262 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
void zoutputtab(FILE *outf ) 
{ 
  int i ;

  {
#line 265
  if (text_expand_tabs < 0) {
#line 266
    return;
  }
#line 267
  if (text_expand_tabs) {
#line 269
    i = 0;
    {
#line 269
    while (1) {
      while_continue: /* CIL Label */ ;
#line 269
      if (! (i < text_expand_tabs)) {
#line 269
        goto while_break;
      }
      {
#line 270
      fputc(' ', outf);
#line 269
      i ++;
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 272
    fputc('\t', outf);
    }
  }
#line 273
  return;
}
}
#line 278 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
char *getpermtext(Eprog prog , Wordcode c , int start_indent ) 
{ 
  struct estate s ;
  void *tmp ;
  sigset_t oset ;
  void *__cil_tmp7 ;

  {
#line 283
  queueing_enabled ++;
#line 285
  if (! c) {
#line 286
    c = prog->prog;
  }
  {
#line 288
  useeprog(prog);
#line 290
  s.prog = prog;
#line 291
  s.pc = c;
#line 292
  s.strs = prog->strs;
#line 294
  tindent = start_indent;
#line 295
  tnewlins = 1;
#line 296
  tsiz = 32;
#line 296
  tmp = zalloc((size_t )tsiz);
#line 296
  tbuf = (char *)tmp;
#line 297
  tptr = tbuf;
#line 298
  tlim = tbuf + tsiz;
#line 299
  tjob = 0;
  }
#line 300
  if (prog->len) {
    {
#line 301
    gettext2(& s);
    }
  }
  {
#line 302
  *tptr = (char )'\000';
#line 303
  freeeprog(prog);
#line 304
  untokenize(tbuf);
  }
  {
#line 306
  while (1) {
    while_continue: /* CIL Label */ ;
#line 306
    queueing_enabled --;
#line 306
    if (! queueing_enabled) {
      {
#line 306
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 306
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 306
          if (! (queue_front != queue_rear)) {
#line 306
            goto while_break___1;
          }
          {
#line 306
          queue_front = (queue_front + 1) % 128;
#line 306
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 306
          zhandler(signal_queue[queue_front]);
#line 306
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 306
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 306
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 308
  return (tbuf);
}
}
#line 317 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static char jbuf[80]  ;
#line 314 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
char *getjobtext(Eprog prog , Wordcode c ) 
{ 
  struct estate s ;
  sigset_t oset ;
  void *__cil_tmp5 ;

  {
#line 321
  queueing_enabled ++;
#line 323
  if (! c) {
#line 324
    c = prog->prog;
  }
  {
#line 326
  useeprog(prog);
#line 327
  s.prog = prog;
#line 328
  s.pc = c;
#line 329
  s.strs = prog->strs;
#line 331
  tindent = 0;
#line 332
  tnewlins = 0;
#line 333
  tbuf = (char *)((void *)0);
#line 334
  tptr = jbuf;
#line 335
  tlim = (tptr + 80) - 1;
#line 336
  tjob = 1;
#line 337
  gettext2(& s);
#line 338
  *tptr = (char )'\000';
#line 339
  freeeprog(prog);
#line 340
  untokenize(jbuf);
  }
  {
#line 342
  while (1) {
    while_continue: /* CIL Label */ ;
#line 342
    queueing_enabled --;
#line 342
    if (! queueing_enabled) {
      {
#line 342
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 342
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 342
          if (! (queue_front != queue_rear)) {
#line 342
            goto while_break___1;
          }
          {
#line 342
          queue_front = (queue_front + 1) % 128;
#line 342
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 342
          zhandler(signal_queue[queue_front]);
#line 342
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 342
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 342
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 344
  return (jbuf);
}
}
#line 391 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static Tstack tstack  ;
#line 391 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static Tstack tfree  ;
#line 393 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static Tstack tpush(wordcode code , int pop___0 ) 
{ 
  Tstack s ;
  void *tmp ;

  {
#line 398
  s = tfree;
#line 398
  if (s) {
#line 399
    tfree = s->prev;
  } else {
    {
#line 401
    tmp = zalloc(sizeof(*s));
#line 401
    s = (Tstack )tmp;
    }
  }
#line 403
  s->prev = tstack;
#line 404
  tstack = s;
#line 405
  s->code = code;
#line 406
  s->pop = pop___0;
#line 408
  return (s);
}
}
#line 412 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static void gettext2(Estate state ) 
{ 
  Tstack s ;
  Tstack n ;
  int stack___0 ;
  wordcode code ;
  Wordcode tmp ;
  char const   *tmp___0 ;
  Wordcode tmp___1 ;
  char const   *tmp___2 ;
  char const   *tmp___3 ;
  char const   *tmp___4 ;
  Wordcode tmp___5 ;
  Wordcode tmp___6 ;
  int tmp___7 ;
  Wordcode tmp___8 ;
  Wordcode p ;
  Wordcode end ;
  int nargs ;
  Wordcode tmp___9 ;
  int nargs___0 ;
  Wordcode tmp___10 ;
  Wordcode tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  Wordcode tmp___15 ;
  Wordcode tmp___16 ;
  char *tmp___17 ;
  Wordcode tmp___18 ;
  char const   *tmp___19 ;
  char *tmp___20 ;
  Wordcode end___0 ;
  wordcode ialts ;
  char *tmp___21 ;
  Wordcode prev_pc ;
  Wordcode tmp___22 ;
  Wordcode tmp___23 ;
  char *tmp___24 ;
  wordcode tmp___25 ;
  Wordcode prev_pc___0 ;
  wordcode ialts___0 ;
  Wordcode tmp___26 ;
  Wordcode tmp___27 ;
  char *tmp___28 ;
  wordcode tmp___29 ;
  Wordcode end___1 ;
  Wordcode tmp___30 ;
  int ctype ;
  Wordcode tmp___31 ;
  Wordcode tmp___32 ;
  Wordcode tmp___33 ;
  Wordcode tmp___34 ;
  Wordcode tmp___35 ;
  char *tmp___36 ;
  char *name ;
  char *tmp___37 ;
  char *tmp___38 ;
  char *tmp___39 ;
  char *tmp___40 ;
  char *tmp___41 ;
  char c2[4] ;
  char *tmp___42 ;
  char *tmp___43 ;
  void *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;
  char *__cil_tmp85 ;
  char *__cil_tmp86 ;
  char *__cil_tmp87 ;
  char *__cil_tmp88 ;
  char *__cil_tmp89 ;
  char *__cil_tmp90 ;
  char *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;
  char *__cil_tmp94 ;
  char *__cil_tmp95 ;
  char *__cil_tmp96 ;
  char *__cil_tmp97 ;
  char *__cil_tmp98 ;
  char *__cil_tmp99 ;
  char *__cil_tmp100 ;
  char *__cil_tmp101 ;
  char *__cil_tmp102 ;
  char *__cil_tmp103 ;
  char *__cil_tmp104 ;
  char *__cil_tmp105 ;
  char *__cil_tmp106 ;
  char *__cil_tmp107 ;
  char *__cil_tmp108 ;
  char *__cil_tmp109 ;
  char *__cil_tmp110 ;
  char *__cil_tmp111 ;
  char *__cil_tmp112 ;
  char *__cil_tmp113 ;
  char *__cil_tmp114 ;
  char *__cil_tmp115 ;
  char *__cil_tmp116 ;
  char *__cil_tmp117 ;
  char *__cil_tmp118 ;
  char *__cil_tmp119 ;
  char *__cil_tmp120 ;
  char *__cil_tmp121 ;
  char *__cil_tmp122 ;
  char *__cil_tmp123 ;
  char *__cil_tmp124 ;
  char *__cil_tmp125 ;
  char *__cil_tmp126 ;
  char *__cil_tmp127 ;
  char *__cil_tmp128 ;
  char *__cil_tmp129 ;
  char *__cil_tmp130 ;
  char *__cil_tmp131 ;
  char *__cil_tmp132 ;
  char *__cil_tmp133 ;
  char *__cil_tmp134 ;
  char *__cil_tmp135 ;
  char *__cil_tmp136 ;
  char *__cil_tmp137 ;
  char *__cil_tmp138 ;
  char *__cil_tmp139 ;
  char *__cil_tmp140 ;
  char *__cil_tmp141 ;
  char *__cil_tmp142 ;
  char *__cil_tmp143 ;
  char *__cil_tmp144 ;
  char *__cil_tmp145 ;
  char *__cil_tmp146 ;

  {
#line 416
  stack___0 = 0;
  {
#line 419
  while (1) {
    while_continue: /* CIL Label */ ;
#line 420
    if (stack___0) {
#line 421
      s = tstack;
#line 421
      if (! s) {
#line 422
        goto while_break;
      }
#line 423
      if (s->pop) {
#line 424
        tstack = s->prev;
#line 425
        s->prev = tfree;
#line 426
        tfree = s;
      }
#line 428
      code = s->code;
#line 429
      stack___0 = 0;
    } else {
#line 431
      s = (Tstack )((void *)0);
#line 432
      tmp = state->pc;
#line 432
      (state->pc) ++;
#line 432
      code = *tmp;
    }
    {
#line 435
    if ((code & (wordcode )((1 << 5) - 1)) == 1U) {
#line 435
      goto case_1;
    }
#line 457
    if ((code & (wordcode )((1 << 5) - 1)) == 2U) {
#line 457
      goto case_2;
    }
#line 482
    if ((code & (wordcode )((1 << 5) - 1)) == 3U) {
#line 482
      goto case_3;
    }
#line 496
    if ((code & (wordcode )((1 << 5) - 1)) == 4U) {
#line 496
      goto case_4;
    }
#line 506
    if ((code & (wordcode )((1 << 5) - 1)) == 5U) {
#line 506
      goto case_5;
    }
#line 509
    if ((code & (wordcode )((1 << 5) - 1)) == 6U) {
#line 509
      goto case_6;
    }
#line 513
    if ((code & (wordcode )((1 << 5) - 1)) == 7U) {
#line 513
      goto case_7;
    }
#line 518
    if ((code & (wordcode )((1 << 5) - 1)) == 8U) {
#line 518
      goto case_8;
    }
#line 536
    if ((code & (wordcode )((1 << 5) - 1)) == 9U) {
#line 536
      goto case_9;
    }
#line 554
    if ((code & (wordcode )((1 << 5) - 1)) == 10U) {
#line 554
      goto case_10;
    }
#line 568
    if ((code & (wordcode )((1 << 5) - 1)) == 11U) {
#line 568
      goto case_11;
    }
#line 620
    if ((code & (wordcode )((1 << 5) - 1)) == 12U) {
#line 620
      goto case_12;
    }
#line 650
    if ((code & (wordcode )((1 << 5) - 1)) == 13U) {
#line 650
      goto case_13;
    }
#line 670
    if ((code & (wordcode )((1 << 5) - 1)) == 14U) {
#line 670
      goto case_14;
    }
#line 690
    if ((code & (wordcode )((1 << 5) - 1)) == 15U) {
#line 690
      goto case_15;
    }
#line 706
    if ((code & (wordcode )((1 << 5) - 1)) == 16U) {
#line 706
      goto case_16;
    }
#line 805
    if ((code & (wordcode )((1 << 5) - 1)) == 17U) {
#line 805
      goto case_17;
    }
#line 846
    if ((code & (wordcode )((1 << 5) - 1)) == 18U) {
#line 846
      goto case_18;
    }
#line 957
    if ((code & (wordcode )((1 << 5) - 1)) == 19U) {
#line 957
      goto case_19___0;
    }
#line 963
    if ((code & (wordcode )((1 << 5) - 1)) == 20U) {
#line 963
      goto case_20;
    }
#line 967
    if ((code & (wordcode )((1 << 5) - 1)) == 21U) {
#line 967
      goto case_21;
    }
#line 991
    if ((code & (wordcode )((1 << 5) - 1)) == 0U) {
#line 991
      goto case_0___0;
    }
#line 994
    goto switch_default___2;
    case_1: /* CIL Label */ 
#line 436
    if (! s) {
      {
#line 437
      s = tpush(code, (int )((code >> 5) & (unsigned int )(1 << 4)));
#line 438
      stack___0 = 0;
      }
    } else {
#line 440
      if ((code >> 5) & (unsigned int )(1 << 2)) {
        {
#line 441
        taddstr(" &");
        }
#line 442
        if ((code >> 5) & (unsigned int )(1 << 3)) {
          {
#line 443
          taddstr("|");
          }
        }
      }
#line 445
      stack___0 = (int )((code >> 5) & (unsigned int )(1 << 4));
#line 445
      if (! stack___0) {
#line 446
        if (tnewlins) {
          {
#line 447
          taddnl(0);
          }
        } else {
#line 449
          if ((code >> 5) & (unsigned int )(1 << 2)) {
#line 449
            tmp___0 = " ";
          } else {
#line 449
            tmp___0 = "; ";
          }
          {
#line 449
          taddstr(tmp___0);
          }
        }
#line 450
        tmp___1 = state->pc;
#line 450
        (state->pc) ++;
#line 450
        s->code = *tmp___1;
#line 451
        s->pop = (int )((s->code >> 5) & (unsigned int )(1 << 4));
      }
    }
#line 454
    if (! stack___0) {
#line 454
      if ((s->code >> 5) & (unsigned int )(1 << 5)) {
#line 455
        (state->pc) ++;
      }
    }
#line 456
    goto switch_break;
    case_2: /* CIL Label */ 
#line 458
    if (! s) {
#line 459
      if (! (((code >> 5) & 28U) & 16U)) {
#line 459
        if ((*(state->pc) & (wordcode )((1 << 5) - 1)) != 3U) {
#line 461
          stack___0 = -1;
        }
      }
#line 462
      if (((code >> 5) & 28U) & 8U) {
#line 463
        if (stack___0) {
#line 463
          tmp___2 = "!";
        } else {
#line 463
          tmp___2 = "! ";
        }
        {
#line 463
        taddstr(tmp___2);
        }
      }
#line 464
      if (((code >> 5) & 28U) & 4U) {
#line 465
        if (stack___0) {
#line 465
          tmp___3 = "coproc";
        } else {
#line 465
          tmp___3 = "coproc ";
        }
        {
#line 465
        taddstr(tmp___3);
        }
      }
      {
#line 466
      s = tpush(code, ((code >> 5) & 3U) == 0U);
      }
    } else {
#line 468
      stack___0 = ((code >> 5) & 3U) == 0U;
#line 468
      if (! stack___0) {
#line 469
        if (((code >> 5) & 3U) == 2U) {
#line 469
          tmp___4 = " || ";
        } else {
#line 469
          tmp___4 = " && ";
        }
        {
#line 469
        taddstr(tmp___4);
#line 471
        tmp___5 = state->pc;
#line 471
        (state->pc) ++;
#line 471
        s->code = *tmp___5;
#line 472
        s->pop = ((s->code >> 5) & 3U) == 0U;
        }
#line 473
        if (((s->code >> 5) & 28U) & 8U) {
          {
#line 474
          taddstr("! ");
          }
        }
#line 475
        if (((s->code >> 5) & 28U) & 4U) {
          {
#line 476
          taddstr("coproc ");
          }
        }
      }
    }
#line 479
    if (stack___0 < 1) {
#line 479
      if (((s->code >> 5) & 28U) & 16U) {
#line 480
        (state->pc) ++;
      }
    }
#line 481
    goto switch_break;
    case_3: /* CIL Label */ 
#line 483
    if (! s) {
      {
#line 484
      tpush(code, ((code >> 5) & 1U) == 0U);
      }
#line 485
      if (((code >> 5) & 1U) == 1U) {
#line 486
        (state->pc) ++;
      }
    } else {
#line 488
      stack___0 = ((code >> 5) & 1U) == 0U;
#line 488
      if (! stack___0) {
        {
#line 489
        taddstr(" | ");
#line 490
        tmp___6 = state->pc;
#line 490
        (state->pc) ++;
#line 490
        s->code = *tmp___6;
#line 491
        tmp___7 = ((s->code >> 5) & 1U) == 0U;
#line 491
        s->pop = tmp___7;
        }
#line 491
        if (! tmp___7) {
#line 492
          (state->pc) ++;
        }
      }
    }
#line 495
    goto switch_break;
    case_4: /* CIL Label */ 
#line 497
    if (! s) {
      {
#line 498
      (state->pc) --;
#line 499
      n = tpush(code, 1);
#line 500
      n->u._redir.list = ecgetredirs(state);
      }
    } else {
      {
#line 502
      getredirs(s->u._redir.list);
#line 503
      stack___0 = 1;
      }
    }
#line 505
    goto switch_break;
    case_5: /* CIL Label */ 
    {
#line 507
    taddassign(code, state, 0);
    }
#line 508
    goto switch_break;
    case_6: /* CIL Label */ 
    {
#line 510
    taddlist(state, (int )(code >> 5));
#line 511
    stack___0 = 1;
    }
#line 512
    goto switch_break;
    case_7: /* CIL Label */ 
    {
#line 514
    taddlist(state, (int )(code >> 5));
#line 515
    tmp___8 = state->pc;
#line 515
    (state->pc) ++;
#line 515
    taddassignlist(state, *tmp___8);
#line 516
    stack___0 = 1;
    }
#line 517
    goto switch_break;
    case_8: /* CIL Label */ 
#line 519
    if (! s) {
      {
#line 520
      taddstr("(");
#line 521
      tindent ++;
#line 522
      taddnl(1);
#line 523
      n = tpush(code, 1);
#line 524
      n->u._subsh.end = state->pc + (code >> 5);
#line 526
      (state->pc) ++;
      }
    } else {
      {
#line 528
      state->pc = s->u._subsh.end;
#line 529
      dec_tindent();
#line 531
      taddnl(0);
#line 532
      taddstr(")");
#line 533
      stack___0 = 1;
      }
    }
#line 535
    goto switch_break;
    case_9: /* CIL Label */ 
#line 537
    if (! s) {
      {
#line 538
      taddstr("{");
#line 539
      tindent ++;
#line 540
      taddnl(1);
#line 541
      n = tpush(code, 1);
#line 542
      n->u._subsh.end = state->pc + (code >> 5);
#line 544
      (state->pc) ++;
      }
    } else {
      {
#line 546
      state->pc = s->u._subsh.end;
#line 547
      dec_tindent();
#line 549
      taddnl(0);
#line 550
      taddstr("}");
#line 551
      stack___0 = 1;
      }
    }
#line 553
    goto switch_break;
    case_10: /* CIL Label */ 
#line 555
    if (! s) {
      {
#line 556
      taddstr("time");
      }
#line 557
      if (code >> 5 == 1U) {
        {
#line 558
        taddchr(' ');
#line 559
        tindent ++;
#line 560
        tpush(code, 1);
        }
      } else {
#line 562
        stack___0 = 1;
      }
    } else {
      {
#line 564
      dec_tindent();
#line 565
      stack___0 = 1;
      }
    }
#line 567
    goto switch_break;
    case_11: /* CIL Label */ 
#line 569
    if (! s) {
      {
#line 570
      p = state->pc;
#line 571
      end = p + (code >> 5);
#line 572
      tmp___9 = state->pc;
#line 572
      (state->pc) ++;
#line 572
      nargs = (int )*tmp___9;
#line 574
      taddlist(state, nargs);
      }
#line 575
      if (nargs) {
        {
#line 576
        taddstr(" ");
        }
      }
#line 577
      if (tjob) {
        {
#line 578
        taddstr("() { ... }");
#line 579
        state->pc = end;
        }
#line 580
        if (! nargs) {
#line 586
          state->pc += *end;
        }
#line 588
        stack___0 = 1;
      } else {
        {
#line 590
        taddstr("() {");
#line 591
        tindent ++;
#line 592
        taddnl(1);
#line 593
        n = tpush(code, 1);
#line 594
        n->u._funcdef.strs = state->strs;
#line 595
        n->u._funcdef.end = end;
#line 596
        n->u._funcdef.nargs = nargs;
#line 597
        state->strs += *(state->pc);
#line 598
        state->pc += 3;
        }
      }
    } else {
      {
#line 601
      state->strs = s->u._funcdef.strs;
#line 602
      state->pc = s->u._funcdef.end;
#line 603
      dec_tindent();
#line 604
      taddnl(0);
#line 605
      taddstr("}");
      }
#line 606
      if (s->u._funcdef.nargs == 0) {
#line 609
        tmp___10 = state->pc;
#line 609
        (state->pc) ++;
#line 609
        s->u._funcdef.end += *tmp___10;
#line 610
        tmp___11 = state->pc;
#line 610
        (state->pc) ++;
#line 610
        nargs___0 = (int )*tmp___11;
#line 611
        if (nargs___0) {
          {
#line 612
          taddstr(" ");
#line 613
          taddlist(state, nargs___0);
          }
        }
#line 615
        state->pc = s->u._funcdef.end;
      }
#line 617
      stack___0 = 1;
    }
#line 619
    goto switch_break;
    case_12: /* CIL Label */ 
#line 621
    if (! s) {
      {
#line 622
      taddstr("for ");
      }
#line 623
      if (((code >> 5) & 3U) == 2U) {
        {
#line 624
        taddstr("((");
#line 625
        tmp___12 = ecgetstr(state, 0, (int *)((void *)0));
#line 625
        taddstr((char const   *)tmp___12);
#line 626
        taddstr("; ");
#line 627
        tmp___13 = ecgetstr(state, 0, (int *)((void *)0));
#line 627
        taddstr((char const   *)tmp___13);
#line 628
        taddstr("; ");
#line 629
        tmp___14 = ecgetstr(state, 0, (int *)((void *)0));
#line 629
        taddstr((char const   *)tmp___14);
#line 630
        taddstr(")) do");
        }
      } else {
        {
#line 632
        tmp___15 = state->pc;
#line 632
        (state->pc) ++;
#line 632
        taddlist(state, (int )*tmp___15);
        }
#line 633
        if (((code >> 5) & 3U) == 1U) {
          {
#line 634
          taddstr(" in ");
#line 635
          tmp___16 = state->pc;
#line 635
          (state->pc) ++;
#line 635
          taddlist(state, (int )*tmp___16);
          }
        }
        {
#line 637
        taddnl(0);
#line 638
        taddstr("do");
        }
      }
      {
#line 640
      tindent ++;
#line 641
      taddnl(0);
#line 642
      tpush(code, 1);
      }
    } else {
      {
#line 644
      dec_tindent();
#line 645
      taddnl(0);
#line 646
      taddstr("done");
#line 647
      stack___0 = 1;
      }
    }
#line 649
    goto switch_break;
    case_13: /* CIL Label */ 
#line 651
    if (! s) {
      {
#line 652
      taddstr("select ");
#line 653
      tmp___17 = ecgetstr(state, 0, (int *)((void *)0));
#line 653
      taddstr((char const   *)tmp___17);
      }
#line 654
      if (((code >> 5) & 1U) == 1U) {
        {
#line 655
        taddstr(" in ");
#line 656
        tmp___18 = state->pc;
#line 656
        (state->pc) ++;
#line 656
        taddlist(state, (int )*tmp___18);
        }
      }
      {
#line 658
      taddnl(0);
#line 659
      taddstr("do");
#line 660
      taddnl(0);
#line 661
      tindent ++;
#line 662
      tpush(code, 1);
      }
    } else {
      {
#line 664
      dec_tindent();
#line 665
      taddnl(0);
#line 666
      taddstr("done");
#line 667
      stack___0 = 1;
      }
    }
#line 669
    goto switch_break;
    case_14: /* CIL Label */ 
#line 671
    if (! s) {
#line 672
      if (((code >> 5) & 1U) == 1U) {
#line 672
        tmp___19 = "until ";
      } else {
#line 672
        tmp___19 = "while ";
      }
      {
#line 672
      taddstr(tmp___19);
#line 674
      tindent ++;
#line 675
      tpush(code, 0);
      }
    } else
#line 676
    if (! s->pop) {
      {
#line 677
      dec_tindent();
#line 678
      taddnl(0);
#line 679
      taddstr("do");
#line 680
      tindent ++;
#line 681
      taddnl(0);
#line 682
      s->pop = 1;
      }
    } else {
      {
#line 684
      dec_tindent();
#line 685
      taddnl(0);
#line 686
      taddstr("done");
#line 687
      stack___0 = 1;
      }
    }
#line 689
    goto switch_break;
    case_15: /* CIL Label */ 
#line 691
    if (! s) {
      {
#line 692
      taddstr("repeat ");
#line 693
      tmp___20 = ecgetstr(state, 0, (int *)((void *)0));
#line 693
      taddstr((char const   *)tmp___20);
#line 694
      taddnl(0);
#line 695
      taddstr("do");
#line 696
      tindent ++;
#line 697
      taddnl(0);
#line 698
      tpush(code, 1);
      }
    } else {
      {
#line 700
      dec_tindent();
#line 701
      taddnl(0);
#line 702
      taddstr("done");
#line 703
      stack___0 = 1;
      }
    }
#line 705
    goto switch_break;
    case_16: /* CIL Label */ 
#line 707
    if (! s) {
      {
#line 708
      end___0 = state->pc + ((code >> 5) >> 3);
#line 711
      taddstr("case ");
#line 712
      tmp___21 = ecgetstr(state, 0, (int *)((void *)0));
#line 712
      taddstr((char const   *)tmp___21);
#line 713
      taddstr(" in");
      }
#line 715
      if ((unsigned long )state->pc >= (unsigned long )end___0) {
#line 716
        if (tnewlins) {
          {
#line 717
          taddnl(0);
          }
        } else {
          {
#line 719
          taddchr(' ');
          }
        }
        {
#line 720
        taddstr("esac");
#line 721
        stack___0 = 1;
        }
      } else {
#line 724
        tindent ++;
#line 725
        if (tnewlins) {
          {
#line 726
          taddnl(0);
          }
        } else {
          {
#line 728
          taddchr(' ');
          }
        }
        {
#line 729
        taddstr("(");
#line 730
        tmp___22 = state->pc;
#line 730
        (state->pc) ++;
#line 730
        code = *tmp___22;
#line 731
        tmp___23 = state->pc;
#line 731
        (state->pc) ++;
#line 731
        prev_pc = tmp___23;
#line 732
        ialts = *prev_pc;
        }
        {
#line 733
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 733
          tmp___25 = ialts;
#line 733
          ialts --;
#line 733
          if (! tmp___25) {
#line 733
            goto while_break___0;
          }
          {
#line 734
          tmp___24 = ecgetstr(state, 0, (int *)((void *)0));
#line 734
          taddstr((char const   *)tmp___24);
#line 735
          (state->pc) ++;
          }
#line 736
          if (ialts) {
            {
#line 737
            taddstr(" | ");
            }
          }
        }
        while_break___0: /* CIL Label */ ;
        }
        {
#line 739
        taddstr(") ");
#line 740
        tindent ++;
#line 741
        n = tpush(code, 0);
#line 742
        n->u._case.end = end___0;
#line 743
        n->pop = (unsigned long )(prev_pc + ((code >> 5) >> 3)) >= (unsigned long )end___0;
        }
      }
    } else
#line 745
    if ((unsigned long )state->pc < (unsigned long )s->u._case.end) {
      {
#line 748
      dec_tindent();
      }
      {
#line 750
      if (((code >> 5) & 7U) == 1U) {
#line 750
        goto case_1___0;
      }
#line 754
      if (((code >> 5) & 7U) == 2U) {
#line 754
        goto case_2___0;
      }
#line 758
      goto switch_default;
      case_1___0: /* CIL Label */ 
      {
#line 751
      taddstr(" ;;");
      }
#line 752
      goto switch_break___0;
      case_2___0: /* CIL Label */ 
      {
#line 755
      taddstr(" ;&");
      }
#line 756
      goto switch_break___0;
      switch_default: /* CIL Label */ 
      {
#line 759
      taddstr(" ;|");
      }
#line 760
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
#line 762
      if (tnewlins) {
        {
#line 763
        taddnl(0);
        }
      } else {
        {
#line 765
        taddchr(' ');
        }
      }
      {
#line 766
      taddstr("(");
#line 767
      tmp___26 = state->pc;
#line 767
      (state->pc) ++;
#line 767
      code = *tmp___26;
#line 768
      tmp___27 = state->pc;
#line 768
      (state->pc) ++;
#line 768
      prev_pc___0 = tmp___27;
#line 769
      ialts___0 = *prev_pc___0;
      }
      {
#line 770
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 770
        tmp___29 = ialts___0;
#line 770
        ialts___0 --;
#line 770
        if (! tmp___29) {
#line 770
          goto while_break___1;
        }
        {
#line 771
        tmp___28 = ecgetstr(state, 0, (int *)((void *)0));
#line 771
        taddstr((char const   *)tmp___28);
#line 772
        (state->pc) ++;
        }
#line 773
        if (ialts___0) {
          {
#line 774
          taddstr(" | ");
          }
        }
      }
      while_break___1: /* CIL Label */ ;
      }
      {
#line 776
      taddstr(") ");
#line 777
      tindent ++;
#line 778
      s->code = code;
#line 779
      s->pop = (unsigned long )(prev_pc___0 + ((code >> 5) >> 3)) >= (unsigned long )s->u._case.end;
      }
    } else {
      {
#line 782
      dec_tindent();
      }
      {
#line 784
      if (((code >> 5) & 7U) == 1U) {
#line 784
        goto case_1___1;
      }
#line 788
      if (((code >> 5) & 7U) == 2U) {
#line 788
        goto case_2___1;
      }
#line 792
      goto switch_default___0;
      case_1___1: /* CIL Label */ 
      {
#line 785
      taddstr(" ;;");
      }
#line 786
      goto switch_break___1;
      case_2___1: /* CIL Label */ 
      {
#line 789
      taddstr(" ;&");
      }
#line 790
      goto switch_break___1;
      switch_default___0: /* CIL Label */ 
      {
#line 793
      taddstr(" ;|");
      }
#line 794
      goto switch_break___1;
      switch_break___1: /* CIL Label */ ;
      }
      {
#line 796
      dec_tindent();
      }
#line 797
      if (tnewlins) {
        {
#line 798
        taddnl(0);
        }
      } else {
        {
#line 800
        taddchr(' ');
        }
      }
      {
#line 801
      taddstr("esac");
#line 802
      stack___0 = 1;
      }
    }
#line 804
    goto switch_break;
    case_17: /* CIL Label */ 
#line 806
    if (! s) {
      {
#line 807
      end___1 = state->pc + ((code >> 5) >> 2);
#line 809
      taddstr("if ");
#line 810
      tindent ++;
#line 811
      (state->pc) ++;
#line 813
      n = tpush(code, 0);
#line 814
      n->u._if.end = end___1;
#line 815
      n->u._if.cond = 1;
      }
    } else
#line 816
    if (s->pop) {
#line 817
      stack___0 = 1;
    } else
#line 818
    if (s->u._if.cond) {
      {
#line 819
      dec_tindent();
#line 820
      taddnl(0);
#line 821
      taddstr("then");
#line 822
      tindent ++;
#line 823
      taddnl(0);
#line 824
      s->u._if.cond = 0;
      }
    } else
#line 825
    if ((unsigned long )state->pc < (unsigned long )s->u._if.end) {
      {
#line 826
      dec_tindent();
#line 827
      taddnl(0);
#line 828
      tmp___30 = state->pc;
#line 828
      (state->pc) ++;
#line 828
      code = *tmp___30;
      }
#line 829
      if (((code >> 5) & 3U) == 2U) {
        {
#line 830
        taddstr("elif ");
#line 831
        tindent ++;
#line 832
        s->u._if.cond = 1;
        }
      } else {
        {
#line 834
        taddstr("else");
#line 835
        tindent ++;
#line 836
        taddnl(0);
        }
      }
    } else {
      {
#line 839
      s->pop = 1;
#line 840
      dec_tindent();
#line 841
      taddnl(0);
#line 842
      taddstr("fi");
#line 843
      stack___0 = 1;
      }
    }
#line 845
    goto switch_break;
    case_18: /* CIL Label */ 
#line 850
    if (! s) {
      {
#line 851
      taddstr("[[ ");
#line 852
      n = tpush(code, 1);
#line 853
      n->u._cond.par = 2;
      }
    } else
#line 854
    if (s->u._cond.par == 2) {
      {
#line 855
      taddstr(" ]]");
#line 856
      stack___0 = 1;
      }
#line 857
      goto switch_break;
    } else
#line 858
    if (s->u._cond.par == 1) {
      {
#line 859
      taddstr(" )");
#line 860
      stack___0 = 1;
      }
#line 861
      goto switch_break;
    } else
#line 862
    if (((s->code >> 5) & 127U) == 1U) {
      {
#line 863
      taddstr(" && ");
#line 864
      tmp___31 = state->pc;
#line 864
      (state->pc) ++;
#line 864
      code = *tmp___31;
      }
#line 865
      if (((code >> 5) & 127U) == 2U) {
        {
#line 866
        taddstr("( ");
#line 867
        n = tpush(code, 1);
#line 868
        n->u._cond.par = 1;
        }
      }
    } else
#line 870
    if (((s->code >> 5) & 127U) == 2U) {
      {
#line 871
      taddstr(" || ");
#line 872
      tmp___32 = state->pc;
#line 872
      (state->pc) ++;
#line 872
      code = *tmp___32;
      }
#line 873
      if (((code >> 5) & 127U) == 1U) {
        {
#line 874
        taddstr("( ");
#line 875
        n = tpush(code, 1);
#line 876
        n->u._cond.par = 1;
        }
      }
    }
    {
#line 879
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 879
      if (! (! stack___0)) {
#line 879
        goto while_break___2;
      }
#line 880
      ctype = (int )((code >> 5) & 127U);
      {
#line 881
      if (ctype == 0) {
#line 881
        goto case_0;
      }
#line 890
      if (ctype == 1) {
#line 890
        goto case_1___2;
      }
#line 900
      if (ctype == 2) {
#line 900
        goto case_2___2;
      }
#line 910
      if (ctype == 18) {
#line 910
        goto case_18___0;
      }
#line 916
      if (ctype == 19) {
#line 916
        goto case_19;
      }
#line 928
      goto switch_default___1;
      case_0: /* CIL Label */ 
      {
#line 882
      taddstr("! ");
#line 883
      tmp___33 = state->pc;
#line 883
      (state->pc) ++;
#line 883
      code = *tmp___33;
      }
#line 884
      if (((code >> 5) & 127U) <= 2U) {
        {
#line 885
        taddstr("( ");
#line 886
        n = tpush(code, 1);
#line 887
        n->u._cond.par = 1;
        }
      }
#line 889
      goto switch_break___2;
      case_1___2: /* CIL Label */ 
      {
#line 891
      n = tpush(code, 1);
#line 892
      n->u._cond.par = 0;
#line 893
      tmp___34 = state->pc;
#line 893
      (state->pc) ++;
#line 893
      code = *tmp___34;
      }
#line 894
      if (((code >> 5) & 127U) == 2U) {
        {
#line 895
        taddstr("( ");
#line 896
        n = tpush(code, 1);
#line 897
        n->u._cond.par = 1;
        }
      }
#line 899
      goto switch_break___2;
      case_2___2: /* CIL Label */ 
      {
#line 901
      n = tpush(code, 1);
#line 902
      n->u._cond.par = 0;
#line 903
      tmp___35 = state->pc;
#line 903
      (state->pc) ++;
#line 903
      code = *tmp___35;
      }
#line 904
      if (((code >> 5) & 127U) == 1U) {
        {
#line 905
        taddstr("( ");
#line 906
        n = tpush(code, 1);
#line 907
        n->u._cond.par = 1;
        }
      }
#line 909
      goto switch_break___2;
      case_18___0: /* CIL Label */ 
      {
#line 911
      tmp___36 = ecgetstr(state, 0, (int *)((void *)0));
#line 911
      taddstr((char const   *)tmp___36);
#line 912
      taddchr(' ');
#line 913
      taddlist(state, (int )((code >> 5) >> 7));
#line 914
      stack___0 = 1;
      }
#line 915
      goto switch_break___2;
      case_19: /* CIL Label */ 
      {
#line 918
      tmp___37 = ecgetstr(state, 0, (int *)((void *)0));
#line 918
      name = tmp___37;
#line 920
      tmp___38 = ecgetstr(state, 0, (int *)((void *)0));
#line 920
      taddstr((char const   *)tmp___38);
#line 921
      taddchr(' ');
#line 922
      taddstr((char const   *)name);
#line 923
      taddchr(' ');
#line 924
      tmp___39 = ecgetstr(state, 0, (int *)((void *)0));
#line 924
      taddstr((char const   *)tmp___39);
#line 925
      stack___0 = 1;
      }
#line 927
      goto switch_break___2;
      switch_default___1: /* CIL Label */ 
#line 929
      if (ctype < 18) {
        {
#line 931
        tmp___40 = ecgetstr(state, 0, (int *)((void *)0));
#line 931
        taddstr((char const   *)tmp___40);
#line 932
        taddstr(" ");
#line 933
        taddstr(cond_binary_ops[ctype - 3]);
#line 934
        taddstr(" ");
#line 935
        tmp___41 = ecgetstr(state, 0, (int *)((void *)0));
#line 935
        taddstr((char const   *)tmp___41);
        }
#line 936
        if (ctype == 3) {
#line 939
          (state->pc) ++;
        } else
#line 936
        if (ctype == 4) {
#line 939
          (state->pc) ++;
        } else
#line 936
        if (ctype == 5) {
#line 939
          (state->pc) ++;
        }
      } else {
        {
#line 944
        c2[0] = (char )'-';
#line 945
        c2[1] = (char )ctype;
#line 946
        c2[2] = (char )' ';
#line 947
        c2[3] = (char )'\000';
#line 948
        taddstr((char const   *)(c2));
#line 949
        tmp___42 = ecgetstr(state, 0, (int *)((void *)0));
#line 949
        taddstr((char const   *)tmp___42);
        }
      }
#line 951
      stack___0 = 1;
#line 952
      goto switch_break___2;
      switch_break___2: /* CIL Label */ ;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
#line 956
    goto switch_break;
    case_19___0: /* CIL Label */ 
    {
#line 958
    taddstr("((");
#line 959
    tmp___43 = ecgetstr(state, 0, (int *)((void *)0));
#line 959
    taddstr((char const   *)tmp___43);
#line 960
    taddstr("))");
#line 961
    stack___0 = 1;
    }
#line 962
    goto switch_break;
    case_20: /* CIL Label */ 
    {
#line 964
    taddstr("builtin autoload -X");
#line 965
    stack___0 = 1;
    }
#line 966
    goto switch_break;
    case_21: /* CIL Label */ 
#line 968
    if (! s) {
      {
#line 969
      taddstr("{");
#line 970
      tindent ++;
#line 971
      taddnl(0);
#line 972
      n = tpush(code, 0);
#line 973
      (state->pc) ++;
#line 975
      n->u._subsh.end = state->pc + (*(state->pc + -1) >> 5);
      }
    } else
#line 976
    if (! s->pop) {
      {
#line 977
      state->pc = s->u._subsh.end;
#line 978
      dec_tindent();
#line 979
      taddnl(0);
#line 980
      taddstr("} always {");
#line 981
      tindent ++;
#line 982
      taddnl(0);
#line 983
      s->pop = 1;
      }
    } else {
      {
#line 985
      dec_tindent();
#line 986
      taddnl(0);
#line 987
      taddstr("}");
#line 988
      stack___0 = 1;
      }
    }
#line 990
    goto switch_break;
    case_0___0: /* CIL Label */ 
#line 992
    stack___0 = 1;
#line 993
    goto switch_break;
    switch_default___2: /* CIL Label */ ;
#line 996
    return;
    switch_break: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 999
  tdopending();
  }
#line 1000
  return;
}
}
#line 1007 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
static char *fstr[18]  = 
#line 1007
  {      (char *)">",      (char *)">|",      (char *)">>",      (char *)">>|", 
        (char *)"&>",      (char *)"&>|",      (char *)"&>>",      (char *)"&>>|", 
        (char *)"<>",      (char *)"<",      (char *)"<<",      (char *)"<<-", 
        (char *)"<<<",      (char *)"<&",      (char *)">&",      (char *)((void *)0), 
        (char *)"<",      (char *)">"};
#line 1003 "/home/khheo/testset/zsh-zsh-5.3.1/Src/text.c"
void getredirs(LinkList redirs ) 
{ 
  LinkNode n ;
  Redir f ;
  int tmp ;
  int fnamelen ;
  int sav ;
  size_t tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;
  sigset_t oset ;
  void *__cil_tmp12 ;

  {
  {
#line 1013
  queueing_enabled ++;
#line 1015
  taddchr(' ');
#line 1016
  n = redirs->list.first;
  }
  {
#line 1016
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1016
    if (! n) {
#line 1016
      goto while_break;
    }
#line 1017
    f = (Redir )n->dat;
    {
#line 1034
    if (f->type == 17) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 16) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 14) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 13) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 12) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 8) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 9) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 7) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 6) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 5) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 4) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 3) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 2) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 1) {
#line 1034
      goto case_17;
    }
#line 1034
    if (f->type == 0) {
#line 1034
      goto case_17;
    }
#line 1019
    goto switch_break;
    case_17: /* CIL Label */ 
    case_16: /* CIL Label */ 
    case_14: /* CIL Label */ 
    case_13: /* CIL Label */ 
    case_12: /* CIL Label */ 
    case_8: /* CIL Label */ 
    case_9: /* CIL Label */ 
    case_7: /* CIL Label */ 
    case_6: /* CIL Label */ 
    case_5: /* CIL Label */ 
    case_4: /* CIL Label */ 
    case_3: /* CIL Label */ 
    case_2: /* CIL Label */ 
    case_1: /* CIL Label */ 
    case_0: /* CIL Label */ 
#line 1035
    if (f->varid) {
      {
#line 1036
      taddchr('{');
#line 1037
      taddstr((char const   *)f->varid);
#line 1038
      taddchr('}');
      }
    } else {
#line 1039
      if (f->type >= 8) {
#line 1039
        if (f->type <= 13) {
#line 1039
          tmp = 0;
        } else {
#line 1039
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 1039
      if (f->type == 16) {
#line 1039
        tmp = 0;
      } else {
#line 1039
        tmp = 1;
      }
#line 1039
      if (f->fd1 != tmp) {
        {
#line 1040
        taddchr(48 + f->fd1);
        }
      }
    }
#line 1041
    if (f->type == 12) {
#line 1041
      if (f->flags & 1) {
#line 1043
        if (tnewlins) {
          {
#line 1049
          taddstr((char const   *)fstr[10]);
#line 1050
          taddstr((char const   *)f->here_terminator);
#line 1051
          taddpending(f->name, f->munged_here_terminator);
          }
        } else {
          {
#line 1054
          taddstr((char const   *)fstr[12]);
#line 1059
          tmp___0 = strlen((char const   *)f->name);
#line 1059
          fnamelen = (int )tmp___0;
          }
#line 1060
          if (fnamelen > 0) {
#line 1060
            if ((int )*(f->name + (fnamelen - 1)) == 10) {
#line 1061
              sav = 1;
#line 1062
              *(f->name + (fnamelen - 1)) = (char )'\000';
            } else {
#line 1064
              sav = 0;
            }
          } else {
#line 1064
            sav = 0;
          }
          {
#line 1070
          tmp___3 = has_token((char const   *)f->name);
          }
#line 1070
          if (tmp___3) {
            {
#line 1075
            taddchr('\"');
#line 1076
            tmp___2 = quotestring((char const   *)f->name, 3);
#line 1076
            taddstr((char const   *)tmp___2);
#line 1077
            taddchr('\"');
            }
          } else {
            {
#line 1071
            taddchr('\'');
#line 1072
            tmp___1 = quotestring((char const   *)f->name, 2);
#line 1072
            taddstr((char const   *)tmp___1);
#line 1073
            taddchr('\'');
            }
          }
#line 1079
          if (sav) {
#line 1080
            *(f->name + (fnamelen - 1)) = (char )'\n';
          }
        }
      } else {
#line 1041
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      {
#line 1083
      taddstr((char const   *)fstr[f->type]);
      }
#line 1084
      if (f->type != 13) {
#line 1084
        if (f->type != 14) {
          {
#line 1085
          taddchr(' ');
          }
        }
      }
      {
#line 1086
      taddstr((char const   *)f->name);
      }
    }
    {
#line 1088
    taddchr(' ');
    }
#line 1089
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 1016
    n = n->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1101
  tptr --;
  {
#line 1103
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1103
    queueing_enabled --;
#line 1103
    if (! queueing_enabled) {
      {
#line 1103
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 1103
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 1103
          if (! (queue_front != queue_rear)) {
#line 1103
            goto while_break___2;
          }
          {
#line 1103
          queue_front = (queue_front + 1) % 128;
#line 1103
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1103
          zhandler(signal_queue[queue_front]);
#line 1103
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 1103
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 1103
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1104
  return;
}
}
#line 603 "/usr/include/unistd.h"
extern  __attribute__((__noreturn__)) void _exit(int __status ) ;
#line 628
extern  __attribute__((__nothrow__)) __pid_t ( __attribute__((__leaf__)) getpid)(void) ;
#line 50 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1,2), __leaf__)) memmove)(void *__dest ,
                                                                                                  void const   *__src ,
                                                                                                  size_t __n ) ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
LinkList dirstack ;
#line 42
void zexit(int val , int from_where ) ;
#line 25 "/home/khheo/testset/zsh-zsh-5.3.1/Src/compat.epro"
char *zgetcwd(void) ;
#line 37 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
char *findcmd(char *arg0 , int docopy , int default_path ) ;
#line 52
LinkList getoutput(char *cmd , int qt ) ;
#line 54
char *getoutputfile(char *cmd , char **eptr ) ;
#line 55
char *getproc(char *cmd , char **eptr ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
int badcshglob ;
#line 11
void zglob(LinkList list , LinkNode np , int nountok ) ;
#line 13
int hasbraces(char *str ) ;
#line 15
void xpandbraces(LinkList list , LinkNode *np ) ;
#line 17
int getmatch(char **sp___0 , char *pat , int fl , int n , char *replstr ) ;
#line 18
void getmatcharr(char ***ap , char *pat , int fl , int n , char *replstr ) ;
#line 25
void shtokenize(char *s ) ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
extern void deletehashtable(HashTable ht ) ;
#line 9
extern HashNode addhashnode2(HashTable ht , char *nam , void *nodeptr ) ;
#line 11
extern HashNode gethashnode2(HashTable ht , char const   *nam ) ;
#line 29 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
char *hsubl ;
#line 30
char *hsubr ;
#line 59
int chabspath(char **junkptr ) ;
#line 60
int chrealpath(char **junkptr ) ;
#line 61
int remtpath(char **junkptr ) ;
#line 62
int remtext(char **junkptr ) ;
#line 63
int rembutext(char **junkptr ) ;
#line 64
int remlpaths(char **junkptr ) ;
#line 65
char *casemodify(char *str , int how ) ;
#line 66
int subst(char **strptr , char *in , char *out , int gbal ) ;
#line 76
LinkList bufferwords(LinkList list , char *buf___7 , int *index___0 , int flags ) ;
#line 37 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int parsestrnoerr(char **s ) ;
#line 38
char *parse_subscript(char *s , int sub , int endchar ) ;
#line 39
int parse_subst_string(char *s ) ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.epro"
void insertlinklist(LinkList l , LinkNode where , LinkList x ) ;
#line 14
void *uremnode(LinkList list , LinkNode nd ) ;
#line 16
int countlinknodes(LinkList list ) ;
#line 21
char **hlinklist2array(LinkList list , int copy ) ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
int outputradix ;
#line 10
int outputunderscore ;
#line 12
mnumber matheval(char *s ) ;
#line 13
zlong mathevali(char *s ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **pparams ;
#line 20
char *oldpwd ;
#line 39
zlong mypid ;
#line 63
struct gsu_array  const  vararray_gsu ;
#line 72
char **paramvalarr(HashTable ht , int flags ) ;
#line 76
Param createparam(char *name , int flags ) ;
#line 80
int getindex(char **pptr , Value v , int flags ) ;
#line 82
Value fetchvalue(Value v , char **pptr , int bracks , int flags ) ;
#line 83
char *getstrvalue(Value v ) ;
#line 84
char **getarrvalue(Value v ) ;
#line 100
Param setsparam(char *s , char *val ) ;
#line 102
Param setaparam(char *s , char **aval ) ;
#line 103
Param sethparam(char *s , char **val ) ;
#line 134
HashTable newuniqtable(zlong size ) ;
#line 136
void zhuniqarray(char **x ) ;
#line 194
char *convbase_underscore(char *s , zlong v , int base , int underscore ) ;
#line 196
char *convfloat_underscore(double dval , int underscore ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.epro"
void strmetasort(char **array , int sortwhat , int *unmetalenp ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.epro"
void prefork(LinkList list , int flags , int *ret_flags ) ;
#line 7
char *quotesubst(char *str ) ;
#line 8
void globlist(LinkList list , int nountok ) ;
#line 10
void filesub(char **namptr , int assign ) ;
#line 11
char *equalsubstr(char *str , int assign , int nomatch ) ;
#line 12
int filesubstr(char **namptr , int assign ) ;
#line 13
char *get_strarg(char *s , int *lenp ) ;
#line 14
void modify(char **str , char **ptr___0 ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.pro"
static char *stringsubstquote(char *strstart , char **pstrdpos ) ;
#line 3
static LinkNode stringsubst(LinkList list , LinkNode node , int pf_flags , int *ret_flags ,
                            int asssub ) ;
#line 4
static int multsub(char **s , int pf_flags , char ***a , int *isarr , char *sep ,
                   int *ms_flags ) ;
#line 5
static char *strcatsub(char **d___0 , char *pb , char *pe , char *src , int l , char *s ,
                       int glbsub , int copied ) ;
#line 6
static int get_intarg(char **s , int *delmatchp ) ;
#line 7
static LinkNode paramsubst(LinkList l , LinkNode n , char **str , int qt , int pf_flags ,
                           int *ret_flags ) ;
#line 8
static char *arithsubst(char *a , char **bptr , char *rest ) ;
#line 9
static char *dstackent(char ch , int val ) ;
#line 36 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
char nulstring[2]  = {      (char)-95,      (char )'\000'};
#line 56 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
void prefork(LinkList list , int flags , int *ret_flags ) 
{ 
  LinkNode node ;
  LinkNode stop ;
  int keep ;
  int asssub ;
  int tmp ;
  int ret_flags_local ;
  char *cptr ;
  sigset_t oset ;
  int tmp___0 ;
  char *cptr___0 ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  void *__cil_tmp16 ;
  void *__cil_tmp17 ;
  void *__cil_tmp18 ;

  {
#line 59
  stop = (LinkNode )0;
#line 60
  keep = 0;
#line 60
  if (flags & 1) {
#line 60
    if (opts[98]) {
#line 60
      tmp = 1;
    } else {
#line 60
      tmp = 0;
    }
  } else {
#line 60
    tmp = 0;
  }
#line 60
  asssub = tmp;
#line 61
  ret_flags_local = 0;
#line 62
  if (! ret_flags) {
#line 63
    ret_flags = & ret_flags_local;
  }
#line 65
  queueing_enabled ++;
#line 66
  node = list->list.first;
  {
#line 66
  while (1) {
    while_continue: /* CIL Label */ ;
#line 66
    if (! node) {
#line 66
      goto while_break;
    }
#line 67
    if (opts[157]) {
      {
#line 77
      cptr = (char *)node->dat;
#line 78
      filesub(& cptr, flags & 3);
#line 83
      node->dat = (void *)cptr;
      }
    }
    {
#line 85
    node = stringsubst(list, node, flags & -4, ret_flags, asssub);
    }
#line 85
    if (! node) {
      {
#line 88
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 88
        queueing_enabled --;
#line 88
        if (! queueing_enabled) {
          {
#line 88
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 88
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 88
              if (! (queue_front != queue_rear)) {
#line 88
                goto while_break___2;
              }
              {
#line 88
              queue_front = (queue_front + 1) % 128;
#line 88
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 88
              zhandler(signal_queue[queue_front]);
#line 88
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 88
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 88
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 89
      return;
    }
#line 66
    node = node->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  node = list->list.first;
  {
#line 92
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 92
    if (! node) {
#line 92
      goto while_break___3;
    }
#line 93
    if ((unsigned long )node == (unsigned long )stop) {
#line 94
      keep = 0;
    }
#line 95
    if (*((char *)node->dat)) {
      {
#line 96
      remnulargs((char *)node->dat);
      }
#line 97
      if (! opts[87]) {
#line 97
        if (! (flags & 4)) {
#line 98
          if (! keep) {
#line 99
            stop = node->next;
          }
          {
#line 100
          while (1) {
            while_continue___4: /* CIL Label */ ;
            {
#line 100
            tmp___0 = hasbraces((char *)node->dat);
            }
#line 100
            if (! tmp___0) {
#line 100
              goto while_break___4;
            }
            {
#line 101
            keep = 1;
#line 102
            xpandbraces(list, & node);
            }
          }
          while_break___4: /* CIL Label */ ;
          }
        }
      }
#line 105
      if (! opts[157]) {
        {
#line 106
        cptr___0 = (char *)node->dat;
#line 107
        filesub(& cptr___0, flags & 3);
#line 108
        node->dat = (void *)cptr___0;
        }
      }
    } else
#line 110
    if (! (flags & 4)) {
#line 110
      if (! keep) {
        {
#line 111
        uremnode(list, node);
        }
      }
    }
#line 112
    if (errflag) {
      {
#line 113
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 113
        queueing_enabled --;
#line 113
        if (! queueing_enabled) {
          {
#line 113
          while (1) {
            while_continue___6: /* CIL Label */ ;
            {
#line 113
            while (1) {
              while_continue___7: /* CIL Label */ ;
#line 113
              if (! (queue_front != queue_rear)) {
#line 113
                goto while_break___7;
              }
              {
#line 113
              queue_front = (queue_front + 1) % 128;
#line 113
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 113
              zhandler(signal_queue[queue_front]);
#line 113
              signal_setmask(oset___0);
              }
            }
            while_break___7: /* CIL Label */ ;
            }
#line 113
            goto while_break___6;
          }
          while_break___6: /* CIL Label */ ;
          }
        }
#line 113
        goto while_break___5;
      }
      while_break___5: /* CIL Label */ ;
      }
#line 114
      return;
    }
#line 92
    node = node->next;
  }
  while_break___3: /* CIL Label */ ;
  }
  {
#line 117
  while (1) {
    while_continue___8: /* CIL Label */ ;
#line 117
    queueing_enabled --;
#line 117
    if (! queueing_enabled) {
      {
#line 117
      while (1) {
        while_continue___9: /* CIL Label */ ;
        {
#line 117
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 117
          if (! (queue_front != queue_rear)) {
#line 117
            goto while_break___10;
          }
          {
#line 117
          queue_front = (queue_front + 1) % 128;
#line 117
          oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 117
          zhandler(signal_queue[queue_front]);
#line 117
          signal_setmask(oset___1);
          }
        }
        while_break___10: /* CIL Label */ ;
        }
#line 117
        goto while_break___9;
      }
      while_break___9: /* CIL Label */ ;
      }
    }
#line 117
    goto while_break___8;
  }
  while_break___8: /* CIL Label */ ;
  }
#line 118
  return;
}
}
#line 130 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *stringsubstquote(char *strstart , char **pstrdpos ) 
{ 
  int len ;
  char *strdpos ;
  char *strsub ;
  char *strret ;
  size_t tmp ;

  {
  {
#line 134
  strdpos = *pstrdpos;
#line 136
  strsub = getkeystring(strdpos + 2, & len, 19, (int *)((void *)0));
#line 138
  len += 2;
  }
#line 140
  if ((unsigned long )strstart != (unsigned long )strdpos) {
#line 141
    *strdpos = (char )'\000';
#line 142
    if (*(strdpos + len)) {
      {
#line 143
      strret = zhtricat((char const   *)strstart, (char const   *)strsub, (char const   *)(strdpos + len));
      }
    } else {
      {
#line 145
      strret = dyncat((char const   *)strstart, (char const   *)strsub);
      }
    }
  } else
#line 146
  if (*(strdpos + len)) {
    {
#line 147
    strret = dyncat((char const   *)strsub, (char const   *)(strdpos + len));
    }
  } else
#line 148
  if (*strsub) {
#line 149
    strret = strsub;
  } else {
    {
#line 152
    strret = dupstring((char const   *)(nulstring));
    }
  }
  {
#line 155
  tmp = strlen((char const   *)strsub);
#line 155
  *pstrdpos = (strret + (strdpos - strstart)) + tmp;
  }
#line 157
  return (strret);
}
}
#line 161 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static LinkNode stringsubst(LinkList list , LinkNode node , int pf_flags , int *ret_flags ,
                            int asssub ) 
{ 
  int qt ;
  char *str3 ;
  char *str ;
  char c ;
  char *subst___0 ;
  char *rest ;
  char *snew ;
  char *sptr ;
  int str3len ;
  int sublen ;
  int restlen ;
  size_t tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  char *str2 ;
  int tmp___2 ;
  char tmp___3 ;
  LinkList pl ;
  char *s ;
  char *str2___0 ;
  char endchar ;
  int l1 ;
  int l2 ;
  int mathpar ;
  char *tmp___4 ;
  int tmp___5 ;
  size_t tmp___6 ;
  void *tmp___7 ;
  void *tmp___8 ;
  size_t tmp___9 ;
  LinkNode n ;
  void *tmp___10 ;
  size_t tmp___11 ;
  size_t tmp___12 ;
  void *tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  LinkNode tmp___16 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;

  {
#line 166
  str3 = (char *)node->dat;
#line 167
  str = str3;
  {
#line 169
  while (1) {
    while_continue: /* CIL Label */ ;
#line 169
    if (! errflag) {
#line 169
      c = *str;
#line 169
      if (! c) {
#line 169
        goto while_break;
      }
    } else {
#line 169
      goto while_break;
    }
#line 170
    c = *str;
#line 170
    if ((int )c == -108) {
#line 170
      goto _L;
    } else
#line 170
    if ((int )c == -106) {
#line 170
      goto _L;
    } else
#line 170
    if ((unsigned long )str == (unsigned long )str3) {
#line 170
      if ((int )c == -115) {
        _L: /* CIL Label */ 
#line 170
        if ((int )*(str + 1) == -120) {
#line 174
          str3len = (int )(str - str3);
#line 176
          if ((int )c == -108) {
            {
#line 177
            subst___0 = getproc(str, & rest);
            }
          } else
#line 176
          if ((int )c == -106) {
            {
#line 177
            subst___0 = getproc(str, & rest);
            }
          } else {
            {
#line 179
            subst___0 = getoutputfile(str, & rest);
            }
          }
#line 180
          if (errflag) {
#line 181
            return ((LinkNode )((void *)0));
          }
#line 182
          if (! subst___0) {
#line 183
            subst___0 = (char *)"";
#line 183
            rest = subst___0;
          }
          {
#line 185
          tmp = strlen((char const   *)subst___0);
#line 185
          sublen = (int )tmp;
#line 186
          tmp___0 = strlen((char const   *)rest);
#line 186
          restlen = (int )tmp___0;
#line 187
          tmp___1 = hcalloc((size_t )(((str3len + sublen) + restlen) + 1));
#line 187
          snew = (char *)tmp___1;
#line 187
          sptr = snew;
          }
#line 188
          if (str3len) {
            {
#line 189
            memcpy((void */* __restrict  */)sptr, (void const   */* __restrict  */)str3,
                   (size_t )str3len);
#line 190
            sptr += str3len;
            }
          }
#line 192
          if (sublen) {
            {
#line 193
            memcpy((void */* __restrict  */)sptr, (void const   */* __restrict  */)subst___0,
                   (size_t )sublen);
#line 194
            sptr += sublen;
            }
          }
#line 196
          if (restlen) {
            {
#line 197
            memcpy((void */* __restrict  */)sptr, (void const   */* __restrict  */)rest,
                   (size_t )restlen);
            }
          }
#line 198
          *(sptr + restlen) = (char )'\000';
#line 199
          str3 = snew;
#line 200
          str = (snew + str3len) + sublen;
#line 201
          node->dat = (void *)str3;
        } else {
#line 203
          str ++;
        }
      } else {
#line 203
        str ++;
      }
    } else {
#line 203
      str ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 205
  str = str3;
  {
#line 207
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 207
    if (! errflag) {
#line 207
      c = *str;
#line 207
      if (! c) {
#line 207
        goto while_break___0;
      }
    } else {
#line 207
      goto while_break___0;
    }
#line 208
    qt = (int )c == -116;
#line 208
    if (qt) {
#line 208
      goto _L___4;
    } else
#line 208
    if ((int )c == -123) {
      _L___4: /* CIL Label */ 
#line 209
      c = *(str + 1);
#line 209
      if ((int )c == -120) {
#line 209
        goto _L___1;
      } else
#line 209
      if ((int )c == -119) {
        _L___1: /* CIL Label */ 
#line 210
        if (! qt) {
#line 211
          list->list.flags |= 1;
        }
#line 212
        str ++;
#line 213
        goto comsub;
      } else
#line 214
      if ((int )c == -111) {
        {
#line 216
        str2 = str;
#line 217
        str2 ++;
#line 218
        tmp___2 = skipparens((char)-111, (char)-110, & str2);
        }
#line 218
        if (tmp___2) {
          {
#line 219
          zerr("closing bracket missing");
          }
#line 220
          return ((LinkNode )((void *)0));
        }
        {
#line 222
        tmp___3 = (char )'\000';
#line 222
        *str = tmp___3;
#line 222
        *(str2 + -1) = tmp___3;
#line 223
        str = arithsubst(str + 2, & str3, str2);
#line 224
        node->dat = (void *)str3;
        }
#line 225
        goto while_continue___0;
      } else
#line 226
      if ((int )c == -99) {
        {
#line 227
        str3 = stringsubstquote(str3, & str);
#line 228
        node->dat = (void *)str3;
        }
#line 229
        goto while_continue___0;
      } else {
#line 243
        if (opts[163]) {
#line 243
          if (! (pf_flags & 32)) {
#line 246
            pf_flags |= 16;
          } else {
#line 243
            goto _L___0;
          }
        } else
        _L___0: /* CIL Label */ 
#line 243
        if (pf_flags & 8) {
#line 246
          pf_flags |= 16;
        }
        {
#line 247
        node = paramsubst(list, node, & str, qt, pf_flags & 84, ret_flags);
        }
#line 251
        if (errflag) {
#line 252
          return ((LinkNode )((void *)0));
        } else
#line 251
        if (! node) {
#line 252
          return ((LinkNode )((void *)0));
        }
#line 253
        str3 = (char *)node->dat;
#line 254
        goto while_continue___0;
      }
    } else {
#line 256
      qt = (int )c == -103;
#line 256
      if (qt) {
#line 256
        goto comsub;
      } else {
#line 256
        if ((int )c == -109) {
#line 256
          tmp___14 = list->list.flags | 1;
#line 256
          list->list.flags = tmp___14;
#line 256
          tmp___15 = tmp___14;
        } else {
#line 256
          tmp___15 = 0;
        }
#line 256
        if (tmp___15) {
          comsub: 
#line 259
          str2___0 = str;
#line 263
          if ((int )c == -120) {
            {
#line 264
            endchar = (char)-118;
#line 265
            *(str + -1) = (char )'\000';
#line 270
            skipparens((char)-120, (char)-118, & str);
#line 272
            str --;
            }
          } else
#line 273
          if ((int )c == -119) {
#line 278
            mathpar = 1;
#line 279
            *(str + -1) = (char )'\000';
            {
#line 280
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 280
              if (mathpar) {
#line 280
                if (! *str) {
#line 280
                  goto while_break___1;
                }
              } else {
#line 280
                goto while_break___1;
              }
#line 281
              str ++;
#line 282
              if ((int )*str == -117) {
#line 283
                mathpar --;
              } else
#line 284
              if ((int )*str == -119) {
#line 285
                mathpar ++;
              }
            }
            while_break___1: /* CIL Label */ ;
            }
#line 287
            if ((int )*str != -117) {
              {
#line 288
              zerr("failed to find end of math substitution");
              }
#line 289
              return ((LinkNode )((void *)0));
            }
#line 291
            *(str + -1) = (char )'\000';
#line 292
            if (opts[51]) {
              {
#line 293
              str = arithsubst(str2___0 + 2, & str3, str + 1);
              }
            } else {
              {
#line 295
              strncpy((char */* __restrict  */)str3, (char const   */* __restrict  */)str2___0,
                      (size_t )1);
              }
            }
#line 296
            node->dat = (void *)str3;
#line 297
            goto while_continue___0;
          } else {
#line 299
            endchar = c;
#line 300
            *str = (char )'\000';
            {
#line 302
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 302
              str ++;
#line 302
              if (! ((int )*str != (int )endchar)) {
#line 302
                goto while_break___2;
              }
#line 303
              if (! *str) {
                {
#line 304
                zerr("failed to find end of command substitution");
                }
#line 305
                return ((LinkNode )((void *)0));
              }
            }
            while_break___2: /* CIL Label */ ;
            }
          }
#line 309
          tmp___4 = str;
#line 309
          str ++;
#line 309
          *tmp___4 = (char )'\000';
#line 317
          str = str2___0;
          {
#line 317
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 317
            str ++;
#line 317
            c = *str;
#line 317
            if (! c) {
#line 317
              goto while_break___3;
            }
#line 318
            if ((int )typtab[(unsigned char )c] & (1 << 4)) {
#line 318
              if ((int )c != -95) {
#line 318
                if ((int )endchar != -118) {
#line 318
                  if ((int )c == -97) {
#line 318
                    if (! ((int )*(str + 1) == 36)) {
#line 318
                      if (! ((int )*(str + 1) == 92)) {
#line 318
                        if (! ((int )*(str + 1) == 96)) {
#line 318
                          if (qt) {
#line 318
                            if (! ((int )*(str + 1) == 34)) {
#line 322
                              *str = ztokens[(int )c - -124];
                            }
                          } else {
#line 322
                            *str = ztokens[(int )c - -124];
                          }
                        }
                      }
                    }
                  } else {
#line 322
                    *str = ztokens[(int )c - -124];
                  }
                } else {
#line 322
                  *str = ztokens[(int )c - -124];
                }
              }
            }
          }
          while_break___3: /* CIL Label */ ;
          }
#line 323
          str ++;
#line 324
          if (qt) {
#line 324
            tmp___5 = 1;
          } else
#line 324
          if (pf_flags & 4) {
#line 324
            tmp___5 = 1;
          } else {
#line 324
            tmp___5 = 0;
          }
          {
#line 324
          pl = getoutput(str2___0 + 1, tmp___5);
          }
#line 324
          if (! pl) {
            {
#line 326
            zerr("parse error in command substitution");
            }
#line 327
            return ((LinkNode )((void *)0));
          }
#line 329
          if ((int )endchar == -118) {
#line 330
            str2___0 --;
          }
          {
#line 331
          tmp___8 = ugetnode(pl);
#line 331
          s = (char *)tmp___8;
          }
#line 331
          if (! s) {
            {
#line 332
            tmp___6 = strlen((char const   *)str);
#line 332
            tmp___7 = memmove((void *)str2___0, (void const   *)str, tmp___6 + 1UL);
#line 332
            str = (char *)tmp___7;
            }
#line 333
            goto while_continue___0;
          }
#line 335
          if (! qt) {
#line 335
            if (pf_flags & 4) {
#line 335
              if (opts[65]) {
                {
#line 336
                shtokenize(s);
                }
              }
            }
          }
          {
#line 337
          l1 = (int )(str2___0 - str3);
#line 338
          tmp___9 = strlen((char const   *)s);
#line 338
          l2 = (int )tmp___9;
          }
#line 339
          if ((unsigned long )pl->list.first != (unsigned long )((void *)0)) {
            {
#line 340
            n = pl->list.last;
#line 341
            tmp___10 = hcalloc((size_t )((l1 + l2) + 1));
#line 341
            str2___0 = (char *)tmp___10;
#line 342
            strcpy((char */* __restrict  */)str2___0, (char const   */* __restrict  */)str3);
#line 343
            strcpy((char */* __restrict  */)(str2___0 + l1), (char const   */* __restrict  */)s);
#line 344
            node->dat = (void *)str2___0;
#line 345
            insertlinklist(pl, node, list);
#line 346
            node = n;
#line 346
            s = (char *)node->dat;
#line 347
            l1 = 0;
#line 348
            tmp___11 = strlen((char const   *)s);
#line 348
            l2 = (int )tmp___11;
            }
          }
          {
#line 350
          tmp___12 = strlen((char const   *)str);
#line 350
          tmp___13 = hcalloc(((size_t )(l1 + l2) + tmp___12) + 1UL);
#line 350
          str2___0 = (char *)tmp___13;
          }
#line 351
          if (l1) {
            {
#line 352
            strcpy((char */* __restrict  */)str2___0, (char const   */* __restrict  */)str3);
            }
          }
          {
#line 353
          strcpy((char */* __restrict  */)(str2___0 + l1), (char const   */* __restrict  */)s);
#line 354
          str = strcpy((char */* __restrict  */)((str2___0 + l1) + l2), (char const   */* __restrict  */)str);
#line 355
          str3 = str2___0;
#line 356
          node->dat = (void *)str3;
          }
#line 357
          goto while_continue___0;
        } else
#line 358
        if (asssub) {
#line 358
          if ((int )c == 61) {
#line 358
            goto _L___2;
          } else
#line 358
          if ((int )c == -115) {
            _L___2: /* CIL Label */ 
#line 358
            if ((unsigned long )str != (unsigned long )str3) {
#line 363
              pf_flags |= 4;
            }
          }
        }
      }
    }
#line 365
    str ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 367
  if (errflag) {
#line 367
    tmp___16 = (LinkNode )((void *)0);
  } else {
#line 367
    tmp___16 = node;
  }
#line 367
  return (tmp___16);
}
}
#line 387 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
char *quotesubst(char *str ) 
{ 
  char *s ;

  {
#line 390
  s = str;
  {
#line 392
  while (1) {
    while_continue: /* CIL Label */ ;
#line 392
    if (! *s) {
#line 392
      goto while_break;
    }
#line 393
    if ((int )*s == -123) {
#line 393
      if ((int )*(s + 1) == -99) {
        {
#line 394
        str = stringsubstquote(str, & s);
        }
      } else {
#line 396
        s ++;
      }
    } else {
#line 396
      s ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 399
  remnulargs(str);
  }
#line 400
  return (str);
}
}
#line 404 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
void globlist(LinkList list , int nountok ) 
{ 
  LinkNode node ;
  LinkNode next___0 ;
  char *__cil_tmp5 ;

  {
#line 409
  badcshglob = 0;
#line 410
  node = list->list.first;
  {
#line 410
  while (1) {
    while_continue: /* CIL Label */ ;
#line 410
    if (! errflag) {
#line 410
      if (! node) {
#line 410
        goto while_break;
      }
    } else {
#line 410
      goto while_break;
    }
    {
#line 411
    next___0 = node->next;
#line 412
    zglob(list, node, nountok);
#line 410
    node = next___0;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 414
  if (noerrs) {
#line 415
    badcshglob = 0;
  } else
#line 416
  if (badcshglob == 1) {
    {
#line 417
    zerr("no match");
    }
  }
#line 418
  return;
}
}
#line 423 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
void singsub(char **s ) 
{ 
  union linkroot foo ;
  struct linknode __n0 ;
  void *tmp ;

  {
  {
#line 428
  while (1) {
    while_continue: /* CIL Label */ ;
#line 428
    foo.list.first = & __n0;
#line 428
    foo.list.last = & __n0;
#line 428
    foo.list.flags = 0;
#line 428
    __n0.next = (LinkNode )((void *)0);
#line 428
    __n0.prev = & foo.node;
#line 428
    __n0.dat = (void *)*s;
#line 428
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 430
  prefork(& foo, 4, (int *)((void *)0));
  }
#line 431
  if (errflag) {
#line 432
    return;
  }
  {
#line 433
  tmp = ugetnode(& foo);
#line 433
  *s = (char *)tmp;
  }
#line 435
  return;
}
}
#line 453 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static int multsub(char **s , int pf_flags , char ***a , int *isarr , char *sep ,
                   int *ms_flags ) 
{ 
  int l ;
  char **r ;
  char **p ;
  char *x ;
  union linkroot foo ;
  struct linknode __n0 ;
  char c ;
  int tmp ;
  LinkNode n ;
  int inq ;
  int inp ;
  int rawc ;
  convchar_t c___0 ;
  int tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;
  char **tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  char *__cil_tmp26 ;

  {
#line 458
  x = *s;
#line 461
  if (pf_flags & 8) {
    {
#line 466
    while (1) {
      while_continue: /* CIL Label */ ;
#line 466
      if (! *x) {
#line 466
        goto while_break;
      }
#line 467
      l = (int )*x == -125;
#line 467
      if (l) {
#line 467
        tmp = (int )*(x + 1) ^ 32;
      } else {
#line 467
        tmp = (int )*x;
      }
#line 467
      c = (char )tmp;
#line 468
      l ++;
#line 469
      if (! ((int )typtab[(unsigned char )c] & (1 << 13))) {
#line 470
        goto while_break;
      }
#line 471
      *ms_flags |= 1;
#line 466
      x += l;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 475
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 475
    foo.list.first = & __n0;
#line 475
    foo.list.last = & __n0;
#line 475
    foo.list.flags = 0;
#line 475
    __n0.next = (LinkNode )((void *)0);
#line 475
    __n0.prev = & foo.node;
#line 475
    __n0.dat = (void *)x;
#line 475
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 477
  if (pf_flags & 8) {
    {
#line 478
    n = foo.list.first;
#line 479
    inq = 0;
#line 479
    inp = 0;
#line 480
    mb_charinit();
    }
    {
#line 481
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 481
      if (! *x) {
#line 481
        goto while_break___1;
      }
#line 482
      rawc = -1;
#line 484
      if ((int )typtab[(unsigned char )*x] & (1 << 4)) {
#line 486
        rawc = (int )*x;
#line 487
        l = 1;
      } else {
        {
#line 489
        l = mb_metacharlenconv((char const   *)x, & c___0);
        }
#line 490
        if (! inq) {
#line 490
          if (! inp) {
            {
#line 490
            tmp___1 = wcsitype((wchar_t )c___0, 1 << 5);
            }
#line 490
            if (tmp___1) {
#line 491
              *x = (char )'\000';
#line 492
              x += l;
              {
#line 492
              while (1) {
                while_continue___2: /* CIL Label */ ;
#line 492
                if (! *x) {
#line 492
                  goto while_break___2;
                }
#line 493
                if ((int )typtab[(unsigned char )*x] & (1 << 4)) {
#line 495
                  rawc = (int )*x;
#line 496
                  l = 1;
#line 497
                  goto while_break___2;
                }
                {
#line 499
                l = mb_metacharlenconv((char const   *)x, & c___0);
#line 500
                tmp___0 = wcsitype((wchar_t )c___0, 1 << 5);
                }
#line 500
                if (! tmp___0) {
#line 501
                  goto while_break___2;
                }
#line 492
                x += l;
              }
              while_break___2: /* CIL Label */ ;
              }
#line 503
              if (! *x) {
#line 504
                *ms_flags |= 2;
#line 505
                goto while_break___1;
              }
              {
#line 507
              insertlinknode(& foo, n, (void *)x);
#line 507
              n = n->next;
              }
            }
          }
        }
      }
      {
#line 513
      if (rawc == -109) {
#line 513
        goto case_neg_109;
      }
#line 513
      if (rawc == -99) {
#line 513
        goto case_neg_109;
      }
#line 513
      if (rawc == -98) {
#line 513
        goto case_neg_109;
      }
#line 517
      if (rawc == -120) {
#line 517
        goto case_neg_120;
      }
#line 520
      if (rawc == -118) {
#line 520
        goto case_neg_118;
      }
#line 524
      if (rawc == -96) {
#line 524
        goto case_neg_96;
      }
#line 524
      if (rawc == -97) {
#line 524
        goto case_neg_96;
      }
#line 510
      goto switch_break;
      case_neg_109: /* CIL Label */ 
      case_neg_99: /* CIL Label */ 
      case_neg_98: /* CIL Label */ 
#line 515
      inq = ! inq;
#line 516
      goto switch_break;
      case_neg_120: /* CIL Label */ 
#line 518
      inp ++;
#line 519
      goto switch_break;
      case_neg_118: /* CIL Label */ 
#line 521
      inp --;
#line 522
      goto switch_break;
      case_neg_96: /* CIL Label */ 
      case_neg_97: /* CIL Label */ 
      {
#line 526
      x += l;
#line 527
      l = mb_metacharlenconv((char const   *)x, (wint_t *)((void *)0));
      }
#line 528
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
#line 481
      x += l;
    }
    while_break___1: /* CIL Label */ ;
    }
  }
  {
#line 533
  prefork(& foo, pf_flags, ms_flags);
  }
#line 534
  if (errflag) {
#line 535
    if (isarr) {
#line 536
      *isarr = 0;
    }
#line 537
    return (0);
  }
  {
#line 540
  l = countlinknodes(& foo);
  }
#line 540
  if (l > 1) {
#line 540
    goto _L;
  } else
#line 540
  if (foo.list.flags & 1) {
#line 540
    if (a) {
      _L: /* CIL Label */ 
      {
#line 541
      tmp___2 = hcalloc((unsigned long )(l + 1) * sizeof(char *));
#line 541
      r = (char **)tmp___2;
#line 541
      p = r;
      }
      {
#line 542
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 542
        if (! ((unsigned long )foo.list.first != (unsigned long )((void *)0))) {
#line 542
          goto while_break___3;
        }
        {
#line 543
        tmp___3 = p;
#line 543
        p ++;
#line 543
        tmp___4 = ugetnode(& foo);
#line 543
        *tmp___3 = (char *)tmp___4;
        }
      }
      while_break___3: /* CIL Label */ ;
      }
#line 544
      *p = (char *)((void *)0);
#line 549
      if (a) {
#line 549
        if (l > 1) {
#line 550
          *a = r;
#line 551
          *isarr = 1 << 5;
#line 552
          return (0);
        } else
#line 549
        if (foo.list.flags & 1) {
#line 550
          *a = r;
#line 551
          *isarr = 1 << 5;
#line 552
          return (0);
        }
      }
      {
#line 554
      *s = sepjoin(r, sep, 1);
      }
#line 555
      if (isarr) {
#line 556
        *isarr = 0;
      }
#line 557
      return (0);
    }
  }
#line 559
  if (l) {
    {
#line 560
    tmp___5 = ugetnode(& foo);
#line 560
    *s = (char *)tmp___5;
    }
  } else {
    {
#line 562
    *s = dupstring("");
    }
  }
#line 563
  if (isarr) {
#line 564
    *isarr = 0;
  }
#line 565
  return (! l);
}
}
#line 574 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
void filesub(char **namptr , int assign ) 
{ 
  char *eql ;
  char *sub ;
  char *str ;
  char *ptr___0 ;
  int len ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 577
  eql = (char *)((void *)0);
#line 577
  sub = (char *)((void *)0);
#line 580
  filesubstr(namptr, assign);
  }
#line 582
  if (! assign) {
#line 583
    return;
  }
#line 585
  if (assign & 1) {
#line 586
    if (*(*namptr + 1)) {
      {
#line 586
      sub = strchr((char const   *)(*namptr + 1), -115);
#line 586
      eql = sub;
      }
#line 586
      if (eql) {
#line 587
        str = sub + 1;
#line 588
        if ((int )*(sub + 1) == -104) {
#line 588
          goto _L;
        } else
#line 588
        if ((int )*(sub + 1) == -115) {
          _L: /* CIL Label */ 
          {
#line 588
          tmp = filesubstr(& str, assign);
          }
#line 588
          if (tmp) {
            {
#line 589
            *(sub + 1) = (char )'\000';
#line 590
            *namptr = dyncat((char const   *)*namptr, (char const   *)str);
            }
          }
        }
      } else {
#line 593
        return;
      }
    } else {
#line 593
      return;
    }
  }
#line 596
  ptr___0 = *namptr;
  {
#line 597
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 597
    sub = strchr((char const   *)ptr___0, ':');
    }
#line 597
    if (! sub) {
#line 597
      goto while_break;
    }
#line 598
    str = sub + 1;
#line 599
    len = (int )(sub - *namptr);
#line 600
    if ((unsigned long )sub > (unsigned long )eql) {
#line 600
      if ((int )*(sub + 1) == -104) {
#line 600
        goto _L___0;
      } else
#line 600
      if ((int )*(sub + 1) == -115) {
        _L___0: /* CIL Label */ 
        {
#line 600
        tmp___0 = filesubstr(& str, assign);
        }
#line 600
        if (tmp___0) {
          {
#line 603
          *(sub + 1) = (char )'\000';
#line 604
          *namptr = dyncat((char const   *)*namptr, (char const   *)str);
          }
        }
      }
    }
#line 606
    ptr___0 = (*namptr + len) + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 608
  return;
}
}
#line 622 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
char *equalsubstr(char *str , int assign , int nomatch ) 
{ 
  char *pp ;
  char *cnam ;
  char *cmdstr ;
  char *ret ;
  char *__cil_tmp8 ;

  {
#line 627
  pp = str;
  {
#line 627
  while (1) {
    while_continue: /* CIL Label */ ;
#line 627
    if (! *pp) {
#line 627
      goto while_break;
    } else
#line 627
    if ((int )*pp == -120) {
#line 627
      goto while_break;
    } else
#line 627
    if (assign) {
#line 627
      if ((int )*pp == 58) {
#line 627
        goto while_break;
      }
    }
#line 627
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 629
  cmdstr = dupstrpfx((char const   *)str, (int )(pp - str));
#line 630
  untokenize(cmdstr);
#line 631
  remnulargs(cmdstr);
#line 632
  cnam = findcmd(cmdstr, 1, 0);
  }
#line 632
  if (! cnam) {
#line 633
    if (nomatch) {
      {
#line 634
      zerr("%s not found", cmdstr);
      }
    }
#line 635
    return ((char *)((void *)0));
  }
  {
#line 637
  ret = dupstring((char const   *)cnam);
  }
#line 638
  if (*pp) {
    {
#line 639
    ret = dyncat((char const   *)ret, (char const   *)pp);
    }
  }
#line 640
  return (ret);
}
}
#line 644 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
int filesubstr(char **namptr , int assign ) 
{ 
  char *str ;
  char *ptr___0 ;
  char *tmp ;
  char *res ;
  char *ptr2 ;
  int val ;
  zlong tmp___0 ;
  char const   *tmp___1 ;
  char *tmp___2 ;
  char **arr ;
  char *ds ;
  char *untok ;
  char *hom ;
  char *expn ;
  char *tmp___3 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;

  {
#line 647
  str = *namptr;
#line 649
  if ((int )*str == -104) {
#line 649
    if ((int )*(str + 1) != 61) {
#line 649
      if ((int )*(str + 1) != -115) {
#line 653
        if ((int )*(str + 1) == -101) {
#line 654
          *(str + 1) = (char )'-';
        }
        {
#line 655
        tmp___0 = zstrtol((char const   *)(str + 1), & ptr___0, 10);
#line 655
        val = (int )tmp___0;
        }
#line 656
        if (! *(str + 1)) {
#line 656
          goto _L___7;
        } else
#line 656
        if ((int )*(str + 1) == 47) {
#line 656
          goto _L___7;
        } else
#line 656
        if ((int )*(str + 1) == -120) {
#line 656
          goto _L___7;
        } else
#line 656
        if (assign) {
#line 656
          if ((int )*(str + 1) == 58) {
            _L___7: /* CIL Label */ 
#line 657
            if (home) {
#line 657
              tmp___1 = (char const   *)home;
            } else {
#line 657
              tmp___1 = "";
            }
            {
#line 657
            *namptr = dyncat(tmp___1, (char const   *)(str + 1));
            }
#line 658
            return (1);
          } else {
#line 656
            goto _L___8;
          }
        } else
        _L___8: /* CIL Label */ 
#line 659
        if ((int )*(str + 1) == 43) {
#line 659
          if (! *(str + 2)) {
            {
#line 660
            *namptr = dyncat((char const   *)pwd, (char const   *)(str + 2));
            }
#line 661
            return (1);
          } else
#line 659
          if ((int )*(str + 2) == 47) {
            {
#line 660
            *namptr = dyncat((char const   *)pwd, (char const   *)(str + 2));
            }
#line 661
            return (1);
          } else
#line 659
          if ((int )*(str + 2) == -120) {
            {
#line 660
            *namptr = dyncat((char const   *)pwd, (char const   *)(str + 2));
            }
#line 661
            return (1);
          } else
#line 659
          if (assign) {
#line 659
            if ((int )*(str + 2) == 58) {
              {
#line 660
              *namptr = dyncat((char const   *)pwd, (char const   *)(str + 2));
              }
#line 661
              return (1);
            } else {
#line 659
              goto _L___6;
            }
          } else {
#line 659
            goto _L___6;
          }
        } else
        _L___6: /* CIL Label */ 
#line 662
        if ((int )*(str + 1) == 45) {
#line 662
          if (! *(str + 2)) {
#line 662
            goto _L___5;
          } else
#line 662
          if ((int )*(str + 2) == 47) {
#line 662
            goto _L___5;
          } else
#line 662
          if ((int )*(str + 2) == -120) {
#line 662
            goto _L___5;
          } else
#line 662
          if (assign) {
#line 662
            if ((int )*(str + 2) == 58) {
              _L___5: /* CIL Label */ 
#line 663
              tmp = oldpwd;
#line 663
              if (tmp) {
#line 663
                tmp___2 = tmp;
              } else {
#line 663
                tmp___2 = pwd;
              }
              {
#line 663
              *namptr = dyncat((char const   *)tmp___2, (char const   *)(str + 2));
              }
#line 664
              return (1);
            } else {
#line 662
              goto _L___4;
            }
          } else {
#line 662
            goto _L___4;
          }
        } else
        _L___4: /* CIL Label */ 
#line 665
        if ((int )*(str + 1) == -111) {
          {
#line 665
          ptr2 = strchr((char const   *)(str + 2), -110);
          }
#line 665
          if (ptr2) {
            {
#line 668
            tmp = dupstrpfx((char const   *)(str + 2), (int )(ptr2 - (str + 2)));
#line 668
            untokenize(tmp);
#line 669
            remnulargs(tmp);
#line 670
            arr = subst_string_by_hook((char *)"zsh_directory_name", (char *)"n",
                                       tmp);
            }
#line 671
            if (arr) {
#line 671
              res = *arr;
            } else {
#line 671
              res = (char *)((void *)0);
            }
#line 672
            if (res) {
              {
#line 673
              *namptr = dyncat((char const   *)res, (char const   *)(ptr2 + 1));
              }
#line 674
              return (1);
            }
#line 676
            if (opts[119]) {
              {
#line 677
              zerr("no directory expansion: ~[%s]", tmp);
              }
            }
#line 678
            return (0);
          } else {
#line 665
            goto _L___3;
          }
        } else
        _L___3: /* CIL Label */ 
#line 679
        if (! ((int )typtab[(unsigned char )*(str + 1)] & (1 << 3))) {
#line 679
          if (! *ptr___0) {
#line 679
            goto _L___2;
          } else
#line 679
          if ((int )*ptr___0 == 47) {
#line 679
            goto _L___2;
          } else
#line 679
          if ((int )*ptr___0 == -120) {
#line 679
            goto _L___2;
          } else
#line 679
          if (assign) {
#line 679
            if ((int )*ptr___0 == 58) {
              _L___2: /* CIL Label */ 
#line 679
              if (! ((int )typtab[(unsigned char )*(str + 1)] & 1)) {
#line 679
                goto _L___0;
              } else
#line 679
              if (ptr___0 - str < 4L) {
                _L___0: /* CIL Label */ 
#line 683
                if (val < 0) {
#line 684
                  val = - val;
                }
                {
#line 685
                ds = dstackent(*(str + 1), val);
                }
#line 686
                if (! ds) {
#line 687
                  return (0);
                }
                {
#line 688
                *namptr = dyncat((char const   *)ds, (char const   *)ptr___0);
                }
#line 689
                return (1);
              } else {
#line 679
                goto _L___1;
              }
            } else {
#line 679
              goto _L___1;
            }
          } else {
#line 679
            goto _L___1;
          }
        } else {
          _L___1: /* CIL Label */ 
          {
#line 690
          ptr___0 = itype_end((char const   *)(str + 1), 1 << 8, 0);
          }
#line 690
          if ((unsigned long )ptr___0 != (unsigned long )(str + 1)) {
#line 693
            if (! (! *ptr___0)) {
#line 693
              if (! ((int )*ptr___0 == 47)) {
#line 693
                if (! ((int )*ptr___0 == -120)) {
#line 693
                  if (assign) {
#line 693
                    if (! ((int )*ptr___0 == 58)) {
#line 694
                      return (0);
                    }
                  } else {
#line 694
                    return (0);
                  }
                }
              }
            }
            {
#line 695
            str ++;
#line 695
            untok = dupstring((char const   *)str);
#line 696
            *(untok + (ptr___0 - str)) = (char)0;
#line 697
            untokenize(untok);
#line 699
            hom = getnameddir(untok);
            }
#line 699
            if (! hom) {
#line 700
              if (opts[119]) {
#line 700
                if (opts[51]) {
                  {
#line 701
                  zerr("no such user or named directory: %s", untok);
                  }
                }
              }
#line 702
              return (0);
            }
            {
#line 704
            *namptr = dyncat((char const   *)hom, (char const   *)ptr___0);
            }
#line 705
            return (1);
          }
        }
      } else {
#line 649
        goto _L___10;
      }
    } else {
#line 649
      goto _L___10;
    }
  } else
  _L___10: /* CIL Label */ 
#line 707
  if ((int )*str == -115) {
#line 707
    if (opts[48]) {
#line 707
      if (*(str + 1)) {
        {
#line 708
        tmp___3 = equalsubstr(str + 1, assign, (int )opts[119]);
#line 708
        expn = tmp___3;
        }
#line 709
        if (expn) {
#line 710
          *namptr = expn;
#line 711
          return (1);
        }
      }
    }
  }
#line 714
  return (0);
}
}
#line 721 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *strcatsub(char **d___0 , char *pb , char *pe , char *src , int l , char *s ,
                       int glbsub , int copied ) 
{ 
  char *dest ;
  int pl ;
  char *tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;

  {
#line 726
  pl = (int )(pe - pb);
#line 728
  if (! pl) {
#line 728
    if (! s) {
#line 728
      goto _L___0;
    } else
#line 728
    if (! *s) {
      _L___0: /* CIL Label */ 
#line 729
      if (copied) {
#line 729
        dest = src;
      } else {
        {
#line 729
        tmp = dupstring((char const   *)src);
#line 729
        dest = tmp;
        }
      }
#line 729
      *d___0 = dest;
#line 730
      if (glbsub) {
        {
#line 731
        shtokenize(dest);
        }
      }
    } else {
#line 728
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 733
    if (s) {
      {
#line 733
      tmp___0 = strlen((char const   *)s);
#line 733
      tmp___1 = tmp___0;
      }
    } else {
#line 733
      tmp___1 = (size_t )0;
    }
    {
#line 733
    tmp___2 = hcalloc(((size_t )(pl + l) + tmp___1) + 1UL);
#line 733
    dest = (char *)tmp___2;
#line 733
    *d___0 = dest;
#line 734
    strncpy((char */* __restrict  */)dest, (char const   */* __restrict  */)pb, (size_t )pl);
#line 735
    dest += pl;
#line 736
    strcpy((char */* __restrict  */)dest, (char const   */* __restrict  */)src);
    }
#line 737
    if (glbsub) {
      {
#line 738
      shtokenize(dest);
      }
    }
#line 739
    dest += l;
#line 740
    if (s) {
      {
#line 741
      strcpy((char */* __restrict  */)dest, (char const   */* __restrict  */)s);
      }
    }
  }
#line 743
  return (dest);
}
}
#line 755 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static int wcpadwidth(wchar_t wc , int multi_width ) 
{ 
  int width ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 762
  if (multi_width == 0) {
#line 762
    goto case_0;
  }
#line 765
  if (multi_width == 1) {
#line 765
    goto case_1;
  }
#line 771
  goto switch_default;
  case_0: /* CIL Label */ 
#line 763
  return (1);
  case_1: /* CIL Label */ 
  {
#line 766
  width = wcwidth(wc);
  }
#line 767
  if (width >= 0) {
#line 768
    return (width);
  }
#line 769
  return (0);
  switch_default: /* CIL Label */ 
  {
#line 772
  tmp___1 = wcwidth(wc);
  }
#line 772
  if (tmp___1 > 0) {
#line 772
    tmp___0 = 1;
  } else {
#line 772
    tmp___0 = 0;
  }
#line 772
  return (tmp___0);
  switch_break: /* CIL Label */ ;
  }
}
}
#line 800 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *dopadding(char *str , int prenum , int postnum , char *preone , char *postone ,
                       char *premul , char *postmul , int multi_width ) 
{ 
  char *def ;
  char *ret ;
  char *t ;
  char *r ;
  int ls ;
  int ls2 ;
  int lpreone ;
  int lpostone ;
  int lpremul ;
  int lpostmul ;
  int lr ;
  int f ;
  int m ;
  int c ;
  int cc ;
  int cl ;
  convchar_t cchar ;
  char *tmpifs ;
  char const   *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  size_t tmp___3 ;
  size_t tmp___4 ;
  size_t tmp___5 ;
  size_t tmp___6 ;
  size_t tmp___7 ;
  void *tmp___8 ;
  int tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  int tmp___17 ;
  char *tmp___18 ;
  char *tmp___19 ;
  char *tmp___20 ;
  char *tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  int tmp___24 ;
  char *tmp___25 ;
  char *tmp___26 ;
  int tmp___27 ;
  char *tmp___28 ;
  char *tmp___29 ;
  int tmp___30 ;
  int tmp___31 ;
  char *tmp___32 ;
  char *tmp___33 ;
  int tmp___34 ;
  char *tmp___35 ;
  char *tmp___36 ;
  int tmp___37 ;
  char *tmp___38 ;
  char *tmp___39 ;
  int tmp___40 ;
  char *tmp___41 ;
  char *tmp___42 ;
  char *tmp___43 ;
  char *tmp___44 ;
  int tmp___45 ;
  int tmp___46 ;
  char *tmp___47 ;
  char *tmp___48 ;
  int tmp___49 ;
  int tmp___50 ;
  char *tmp___51 ;
  char *tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  char *tmp___56 ;
  char *tmp___57 ;
  int tmp___58 ;
  char *tmp___59 ;
  char *tmp___60 ;
  int tmp___61 ;
  int tmp___62 ;
  char *tmp___63 ;
  char *tmp___64 ;
  int tmp___65 ;
  int tmp___66 ;
  int tmp___67 ;
  char *tmp___68 ;
  char *tmp___69 ;
  char *tmp___70 ;
  char *tmp___71 ;
  char *tmp___72 ;
  char *tmp___73 ;
  int tmp___74 ;
  int tmp___75 ;
  char *tmp___76 ;
  char *tmp___77 ;
  int tmp___78 ;
  int tmp___79 ;
  char *tmp___80 ;
  char *tmp___81 ;
  int tmp___82 ;
  int tmp___83 ;
  char *tmp___84 ;
  char *tmp___85 ;
  int tmp___86 ;
  int tmp___87 ;
  char *tmp___88 ;
  char *tmp___89 ;
  int tmp___90 ;
  int tmp___91 ;
  int tmp___92 ;
  char *tmp___93 ;
  char *tmp___94 ;
  int tmp___95 ;
  int tmp___96 ;
  char *__cil_tmp125 ;
  char *__cil_tmp126 ;

  {
  {
#line 812
  mb_charinit();
  }
#line 813
  if (! ifs) {
#line 813
    goto _L;
  } else
#line 813
  if (*ifs) {
    _L: /* CIL Label */ 
#line 814
    if (ifs) {
#line 814
      tmp = (char const   *)ifs;
    } else {
#line 814
      tmp = " \t\n\203 ";
    }
    {
#line 814
    tmpifs = (char *)tmp;
#line 815
    tmp___0 = mb_metacharlenconv((char const   *)tmpifs, (wint_t *)((void *)0));
#line 815
    def = dupstrpfx((char const   *)tmpifs, tmp___0);
    }
  } else {
#line 817
    def = (char *)"";
  }
#line 818
  if (preone) {
#line 818
    if (! *preone) {
#line 819
      preone = def;
    }
  }
#line 820
  if (postone) {
#line 820
    if (! *postone) {
#line 821
      postone = def;
    }
  }
#line 822
  if (! premul) {
#line 823
    premul = def;
  } else
#line 822
  if (! *premul) {
#line 823
    premul = def;
  }
#line 824
  if (! postmul) {
#line 825
    postmul = def;
  } else
#line 824
  if (! *postmul) {
#line 825
    postmul = def;
  }
  {
#line 827
  ls = mb_metastrlenend(str, multi_width, (char *)((void *)0));
  }
#line 828
  if (preone) {
    {
#line 828
    tmp___1 = mb_metastrlenend(preone, multi_width, (char *)((void *)0));
#line 828
    lpreone = tmp___1;
    }
  } else {
#line 828
    lpreone = 0;
  }
#line 829
  if (postone) {
    {
#line 829
    tmp___2 = mb_metastrlenend(postone, multi_width, (char *)((void *)0));
#line 829
    lpostone = tmp___2;
    }
  } else {
#line 829
    lpostone = 0;
  }
  {
#line 830
  lpremul = mb_metastrlenend(premul, multi_width, (char *)((void *)0));
#line 831
  lpostmul = mb_metastrlenend(postmul, multi_width, (char *)((void *)0));
  }
#line 833
  if (prenum + postnum == ls) {
#line 834
    return (str);
  }
  {
#line 843
  tmp___3 = strlen((char const   *)str);
#line 843
  tmp___4 = strlen((char const   *)premul);
#line 843
  tmp___5 = strlen((char const   *)postmul);
#line 843
  lr = (int )((tmp___3 + tmp___4 * (size_t )prenum) + tmp___5 * (size_t )postnum);
  }
#line 847
  if (preone) {
    {
#line 848
    tmp___6 = strlen((char const   *)preone);
#line 848
    lr = (int )((size_t )lr + tmp___6);
    }
  }
#line 849
  if (postone) {
    {
#line 850
    tmp___7 = strlen((char const   *)postone);
#line 850
    lr = (int )((size_t )lr + tmp___7);
    }
  }
  {
#line 851
  tmp___8 = zhalloc((size_t )(lr + 1));
#line 851
  ret = (char *)tmp___8;
#line 851
  r = ret;
  }
#line 853
  if (prenum) {
#line 857
    if (postnum) {
#line 864
      ls2 = ls / 2;
#line 867
      f = prenum - ls2;
#line 868
      if (f <= 0) {
        {
#line 870
        f = - f;
#line 871
        mb_charinit();
        }
        {
#line 872
        while (1) {
          while_continue: /* CIL Label */ ;
#line 872
          if (! (f > 0)) {
#line 872
            goto while_break;
          }
          {
#line 873
          cl = mb_metacharlenconv((char const   *)str, & cchar);
          }
#line 874
          if (! cl) {
#line 875
            goto while_break;
          }
          {
#line 876
          str += cl;
#line 877
          tmp___9 = wcpadwidth((wchar_t )cchar, multi_width);
#line 877
          f -= tmp___9;
          }
        }
        while_break: /* CIL Label */ ;
        }
#line 880
        c = prenum;
        {
#line 880
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 880
          if (! (c > 0)) {
#line 880
            goto while_break___0;
          }
          {
#line 881
          cl = mb_metacharlenconv((char const   *)str, & cchar);
          }
#line 882
          if (! cl) {
#line 883
            goto while_break___0;
          }
          {
#line 884
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 884
            tmp___12 = cl;
#line 884
            cl --;
#line 884
            if (! tmp___12) {
#line 884
              goto while_break___1;
            }
#line 885
            tmp___10 = r;
#line 885
            r ++;
#line 885
            tmp___11 = str;
#line 885
            str ++;
#line 885
            *tmp___10 = *tmp___11;
          }
          while_break___1: /* CIL Label */ ;
          }
          {
#line 886
          tmp___13 = wcpadwidth((wchar_t )cchar, multi_width);
#line 886
          c -= tmp___13;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
      } else {
#line 889
        if (f <= lpreone) {
#line 890
          if (preone) {
            {
#line 894
            mb_charinit();
#line 896
            f = lpreone - f;
#line 898
            t = preone;
            }
            {
#line 898
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 898
              if (! (f > 0)) {
#line 898
                goto while_break___2;
              }
              {
#line 899
              cl = mb_metacharlenconv((char const   *)t, & cchar);
              }
#line 900
              if (! cl) {
#line 901
                goto while_break___2;
              }
              {
#line 902
              t += cl;
#line 903
              tmp___14 = wcpadwidth((wchar_t )cchar, multi_width);
#line 903
              f -= tmp___14;
              }
            }
            while_break___2: /* CIL Label */ ;
            }
            {
#line 906
            while (1) {
              while_continue___3: /* CIL Label */ ;
#line 906
              if (! *t) {
#line 906
                goto while_break___3;
              }
#line 907
              tmp___15 = r;
#line 907
              r ++;
#line 907
              tmp___16 = t;
#line 907
              t ++;
#line 907
              *tmp___15 = *tmp___16;
            }
            while_break___3: /* CIL Label */ ;
            }
          }
        } else {
#line 910
          f -= lpreone;
#line 911
          if (lpremul) {
#line 912
            m = f % lpremul;
#line 912
            if (m) {
              {
#line 916
              mb_charinit();
#line 918
              m = lpremul - m;
#line 919
              t = premul;
              }
              {
#line 919
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 919
                if (! (m > 0)) {
#line 919
                  goto while_break___4;
                }
                {
#line 920
                cl = mb_metacharlenconv((char const   *)t, & cchar);
                }
#line 921
                if (! cl) {
#line 922
                  goto while_break___4;
                }
                {
#line 923
                t += cl;
#line 924
                tmp___17 = wcpadwidth((wchar_t )cchar, multi_width);
#line 924
                m -= tmp___17;
                }
              }
              while_break___4: /* CIL Label */ ;
              }
              {
#line 927
              while (1) {
                while_continue___5: /* CIL Label */ ;
#line 927
                if (! *t) {
#line 927
                  goto while_break___5;
                }
#line 928
                tmp___18 = r;
#line 928
                r ++;
#line 928
                tmp___19 = t;
#line 928
                t ++;
#line 928
                *tmp___18 = *tmp___19;
              }
              while_break___5: /* CIL Label */ ;
              }
            }
#line 930
            cc = f / lpremul;
            {
#line 930
            while (1) {
              while_continue___6: /* CIL Label */ ;
#line 930
              tmp___24 = cc;
#line 930
              cc --;
#line 930
              if (! tmp___24) {
#line 930
                goto while_break___6;
              }
              {
#line 932
              mb_charinit();
#line 933
              c = lpremul;
#line 933
              t = premul;
              }
              {
#line 933
              while (1) {
                while_continue___7: /* CIL Label */ ;
#line 933
                if (! (c > 0)) {
#line 933
                  goto while_break___7;
                }
                {
#line 934
                cl = mb_metacharlenconv((char const   *)t, & cchar);
                }
#line 935
                if (! cl) {
#line 936
                  goto while_break___7;
                }
                {
#line 937
                while (1) {
                  while_continue___8: /* CIL Label */ ;
#line 937
                  tmp___22 = cl;
#line 937
                  cl --;
#line 937
                  if (! tmp___22) {
#line 937
                    goto while_break___8;
                  }
#line 938
                  tmp___20 = r;
#line 938
                  r ++;
#line 938
                  tmp___21 = t;
#line 938
                  t ++;
#line 938
                  *tmp___20 = *tmp___21;
                }
                while_break___8: /* CIL Label */ ;
                }
                {
#line 939
                tmp___23 = wcpadwidth((wchar_t )cchar, multi_width);
#line 939
                c -= tmp___23;
                }
              }
              while_break___7: /* CIL Label */ ;
              }
            }
            while_break___6: /* CIL Label */ ;
            }
          }
#line 943
          if (preone) {
            {
#line 945
            while (1) {
              while_continue___9: /* CIL Label */ ;
#line 945
              if (! *preone) {
#line 945
                goto while_break___9;
              }
#line 946
              tmp___25 = r;
#line 946
              r ++;
#line 946
              tmp___26 = preone;
#line 946
              preone ++;
#line 946
              *tmp___25 = *tmp___26;
            }
            while_break___9: /* CIL Label */ ;
            }
          }
        }
#line 950
        c = ls2;
        {
#line 950
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 950
          if (! (c > 0)) {
#line 950
            goto while_break___10;
          }
          {
#line 951
          cl = mb_metacharlenconv((char const   *)str, & cchar);
          }
#line 952
          if (! cl) {
#line 953
            goto while_break___10;
          }
          {
#line 954
          tmp___27 = wcpadwidth((wchar_t )cchar, multi_width);
#line 954
          c -= tmp___27;
          }
          {
#line 955
          while (1) {
            while_continue___11: /* CIL Label */ ;
#line 955
            tmp___30 = cl;
#line 955
            cl --;
#line 955
            if (! tmp___30) {
#line 955
              goto while_break___11;
            }
#line 956
            tmp___28 = r;
#line 956
            r ++;
#line 956
            tmp___29 = str;
#line 956
            str ++;
#line 956
            *tmp___28 = *tmp___29;
          }
          while_break___11: /* CIL Label */ ;
          }
        }
        while_break___10: /* CIL Label */ ;
        }
      }
#line 960
      ls2 = ls - ls2;
#line 962
      f = postnum - ls2;
#line 963
      if (f <= 0) {
        {
#line 965
        mb_charinit();
#line 966
        c = postnum;
        }
        {
#line 966
        while (1) {
          while_continue___12: /* CIL Label */ ;
#line 966
          if (! (c > 0)) {
#line 966
            goto while_break___12;
          }
          {
#line 967
          cl = mb_metacharlenconv((char const   *)str, & cchar);
          }
#line 968
          if (! cl) {
#line 969
            goto while_break___12;
          }
          {
#line 970
          tmp___31 = wcpadwidth((wchar_t )cchar, multi_width);
#line 970
          c -= tmp___31;
          }
          {
#line 971
          while (1) {
            while_continue___13: /* CIL Label */ ;
#line 971
            tmp___34 = cl;
#line 971
            cl --;
#line 971
            if (! tmp___34) {
#line 971
              goto while_break___13;
            }
#line 972
            tmp___32 = r;
#line 972
            r ++;
#line 972
            tmp___33 = str;
#line 972
            str ++;
#line 972
            *tmp___32 = *tmp___33;
          }
          while_break___13: /* CIL Label */ ;
          }
        }
        while_break___12: /* CIL Label */ ;
        }
      } else {
        {
#line 976
        while (1) {
          while_continue___14: /* CIL Label */ ;
#line 976
          if (! *str) {
#line 976
            goto while_break___14;
          }
#line 977
          tmp___35 = r;
#line 977
          r ++;
#line 977
          tmp___36 = str;
#line 977
          str ++;
#line 977
          *tmp___35 = *tmp___36;
        }
        while_break___14: /* CIL Label */ ;
        }
#line 978
        if (f <= lpostone) {
#line 979
          if (postone) {
#line 981
            c = f;
            {
#line 981
            while (1) {
              while_continue___15: /* CIL Label */ ;
#line 981
              if (! (c > 0)) {
#line 981
                goto while_break___15;
              }
              {
#line 982
              cl = mb_metacharlenconv((char const   *)postone, & cchar);
              }
#line 983
              if (! cl) {
#line 984
                goto while_break___15;
              }
              {
#line 985
              tmp___37 = wcpadwidth((wchar_t )cchar, multi_width);
#line 985
              c -= tmp___37;
              }
              {
#line 986
              while (1) {
                while_continue___16: /* CIL Label */ ;
#line 986
                tmp___40 = cl;
#line 986
                cl --;
#line 986
                if (! tmp___40) {
#line 986
                  goto while_break___16;
                }
#line 987
                tmp___38 = r;
#line 987
                r ++;
#line 987
                tmp___39 = postone;
#line 987
                postone ++;
#line 987
                *tmp___38 = *tmp___39;
              }
              while_break___16: /* CIL Label */ ;
              }
            }
            while_break___15: /* CIL Label */ ;
            }
          }
        } else {
#line 991
          if (postone) {
#line 992
            f -= lpostone;
            {
#line 994
            while (1) {
              while_continue___17: /* CIL Label */ ;
#line 994
              if (! *postone) {
#line 994
                goto while_break___17;
              }
#line 995
              tmp___41 = r;
#line 995
              r ++;
#line 995
              tmp___42 = postone;
#line 995
              postone ++;
#line 995
              *tmp___41 = *tmp___42;
            }
            while_break___17: /* CIL Label */ ;
            }
          }
#line 997
          if (lpostmul) {
#line 998
            cc = f / lpostmul;
            {
#line 998
            while (1) {
              while_continue___18: /* CIL Label */ ;
#line 998
              tmp___45 = cc;
#line 998
              cc --;
#line 998
              if (! tmp___45) {
#line 998
                goto while_break___18;
              }
#line 1000
              t = postmul;
              {
#line 1000
              while (1) {
                while_continue___19: /* CIL Label */ ;
#line 1000
                if (! *t) {
#line 1000
                  goto while_break___19;
                }
#line 1001
                tmp___43 = r;
#line 1001
                r ++;
#line 1001
                tmp___44 = t;
#line 1001
                t ++;
#line 1001
                *tmp___43 = *tmp___44;
              }
              while_break___19: /* CIL Label */ ;
              }
            }
            while_break___18: /* CIL Label */ ;
            }
#line 1003
            m = f % lpostmul;
#line 1003
            if (m) {
              {
#line 1005
              mb_charinit();
              }
              {
#line 1006
              while (1) {
                while_continue___20: /* CIL Label */ ;
#line 1006
                if (! (m > 0)) {
#line 1006
                  goto while_break___20;
                }
                {
#line 1007
                cl = mb_metacharlenconv((char const   *)postmul, & cchar);
                }
#line 1008
                if (! cl) {
#line 1009
                  goto while_break___20;
                }
                {
#line 1010
                tmp___46 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1010
                m -= tmp___46;
                }
                {
#line 1011
                while (1) {
                  while_continue___21: /* CIL Label */ ;
#line 1011
                  tmp___49 = cl;
#line 1011
                  cl --;
#line 1011
                  if (! tmp___49) {
#line 1011
                    goto while_break___21;
                  }
#line 1012
                  tmp___47 = r;
#line 1012
                  r ++;
#line 1012
                  tmp___48 = postmul;
#line 1012
                  postmul ++;
#line 1012
                  *tmp___47 = *tmp___48;
                }
                while_break___21: /* CIL Label */ ;
                }
              }
              while_break___20: /* CIL Label */ ;
              }
            }
          }
        }
      }
    } else {
#line 1022
      f = prenum - ls;
#line 1023
      if (f <= 0) {
        {
#line 1030
        f = - f;
#line 1031
        mb_charinit();
        }
        {
#line 1032
        while (1) {
          while_continue___22: /* CIL Label */ ;
#line 1032
          if (! (f > 0)) {
#line 1032
            goto while_break___22;
          }
          {
#line 1033
          cl = mb_metacharlenconv((char const   *)str, & cchar);
          }
#line 1034
          if (! cl) {
#line 1035
            goto while_break___22;
          }
          {
#line 1036
          str += cl;
#line 1037
          tmp___50 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1037
          f -= tmp___50;
          }
        }
        while_break___22: /* CIL Label */ ;
        }
#line 1040
        c = prenum;
        {
#line 1040
        while (1) {
          while_continue___23: /* CIL Label */ ;
#line 1040
          if (! (c > 0)) {
#line 1040
            goto while_break___23;
          }
          {
#line 1041
          cl = mb_metacharlenconv((char const   *)str, & cchar);
          }
#line 1042
          if (! cl) {
#line 1043
            goto while_break___23;
          }
          {
#line 1044
          while (1) {
            while_continue___24: /* CIL Label */ ;
#line 1044
            tmp___53 = cl;
#line 1044
            cl --;
#line 1044
            if (! tmp___53) {
#line 1044
              goto while_break___24;
            }
#line 1045
            tmp___51 = r;
#line 1045
            r ++;
#line 1045
            tmp___52 = str;
#line 1045
            str ++;
#line 1045
            *tmp___51 = *tmp___52;
          }
          while_break___24: /* CIL Label */ ;
          }
          {
#line 1046
          tmp___54 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1046
          c -= tmp___54;
          }
        }
        while_break___23: /* CIL Label */ ;
        }
      } else {
#line 1052
        if (f <= lpreone) {
#line 1053
          if (preone) {
            {
#line 1058
            c = f;
#line 1063
            f = lpreone - f;
#line 1064
            mb_charinit();
#line 1065
            t = preone;
            }
            {
#line 1065
            while (1) {
              while_continue___25: /* CIL Label */ ;
#line 1065
              if (! (f > 0)) {
#line 1065
                goto while_break___25;
              }
              {
#line 1066
              cl = mb_metacharlenconv((char const   *)t, & cchar);
              }
#line 1067
              if (! cl) {
#line 1068
                goto while_break___25;
              }
              {
#line 1069
              t += cl;
#line 1070
              tmp___55 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1070
              f -= tmp___55;
              }
            }
            while_break___25: /* CIL Label */ ;
            }
            {
#line 1073
            while (1) {
              while_continue___26: /* CIL Label */ ;
#line 1073
              if (! *t) {
#line 1073
                goto while_break___26;
              }
#line 1074
              tmp___56 = r;
#line 1074
              r ++;
#line 1074
              tmp___57 = t;
#line 1074
              t ++;
#line 1074
              *tmp___56 = *tmp___57;
            }
            while_break___26: /* CIL Label */ ;
            }
          }
        } else {
#line 1081
          f -= lpreone;
#line 1082
          if (lpremul) {
#line 1083
            m = f % lpremul;
#line 1083
            if (m) {
              {
#line 1088
              c = m;
#line 1090
              m = lpremul - m;
#line 1091
              mb_charinit();
#line 1092
              t = premul;
              }
              {
#line 1092
              while (1) {
                while_continue___27: /* CIL Label */ ;
#line 1092
                if (! (m > 0)) {
#line 1092
                  goto while_break___27;
                }
                {
#line 1093
                cl = mb_metacharlenconv((char const   *)t, & cchar);
                }
#line 1094
                if (! cl) {
#line 1095
                  goto while_break___27;
                }
                {
#line 1096
                t += cl;
#line 1097
                tmp___58 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1097
                m -= tmp___58;
                }
              }
              while_break___27: /* CIL Label */ ;
              }
              {
#line 1100
              while (1) {
                while_continue___28: /* CIL Label */ ;
#line 1100
                if (! (c > 0)) {
#line 1100
                  goto while_break___28;
                }
                {
#line 1101
                cl = mb_metacharlenconv((char const   *)t, & cchar);
                }
#line 1102
                if (! cl) {
#line 1103
                  goto while_break___28;
                }
                {
#line 1104
                while (1) {
                  while_continue___29: /* CIL Label */ ;
#line 1104
                  tmp___61 = cl;
#line 1104
                  cl --;
#line 1104
                  if (! tmp___61) {
#line 1104
                    goto while_break___29;
                  }
#line 1105
                  tmp___59 = r;
#line 1105
                  r ++;
#line 1105
                  tmp___60 = t;
#line 1105
                  t ++;
#line 1105
                  *tmp___59 = *tmp___60;
                }
                while_break___29: /* CIL Label */ ;
                }
                {
#line 1106
                tmp___62 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1106
                c -= tmp___62;
                }
              }
              while_break___28: /* CIL Label */ ;
              }
            }
#line 1109
            cc = f / lpremul;
            {
#line 1109
            while (1) {
              while_continue___30: /* CIL Label */ ;
#line 1109
              tmp___67 = cc;
#line 1109
              cc --;
#line 1109
              if (! tmp___67) {
#line 1109
                goto while_break___30;
              }
              {
#line 1113
              mb_charinit();
#line 1114
              c = lpremul;
#line 1114
              t = premul;
              }
              {
#line 1114
              while (1) {
                while_continue___31: /* CIL Label */ ;
#line 1114
                if (! (c > 0)) {
#line 1114
                  goto while_break___31;
                }
                {
#line 1115
                cl = mb_metacharlenconv((char const   *)t, & cchar);
                }
#line 1116
                if (! cl) {
#line 1117
                  goto while_break___31;
                }
                {
#line 1118
                while (1) {
                  while_continue___32: /* CIL Label */ ;
#line 1118
                  tmp___65 = cl;
#line 1118
                  cl --;
#line 1118
                  if (! tmp___65) {
#line 1118
                    goto while_break___32;
                  }
#line 1119
                  tmp___63 = r;
#line 1119
                  r ++;
#line 1119
                  tmp___64 = t;
#line 1119
                  t ++;
#line 1119
                  *tmp___63 = *tmp___64;
                }
                while_break___32: /* CIL Label */ ;
                }
                {
#line 1120
                tmp___66 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1120
                c -= tmp___66;
                }
              }
              while_break___31: /* CIL Label */ ;
              }
            }
            while_break___30: /* CIL Label */ ;
            }
          }
#line 1124
          if (preone) {
            {
#line 1134
            while (1) {
              while_continue___33: /* CIL Label */ ;
#line 1134
              if (! *preone) {
#line 1134
                goto while_break___33;
              }
#line 1135
              tmp___68 = r;
#line 1135
              r ++;
#line 1135
              tmp___69 = preone;
#line 1135
              preone ++;
#line 1135
              *tmp___68 = *tmp___69;
            }
            while_break___33: /* CIL Label */ ;
            }
          }
        }
        {
#line 1139
        while (1) {
          while_continue___34: /* CIL Label */ ;
#line 1139
          if (! *str) {
#line 1139
            goto while_break___34;
          }
#line 1140
          tmp___70 = r;
#line 1140
          r ++;
#line 1140
          tmp___71 = str;
#line 1140
          str ++;
#line 1140
          *tmp___70 = *tmp___71;
        }
        while_break___34: /* CIL Label */ ;
        }
      }
    }
  } else
#line 1143
  if (postnum) {
    {
#line 1147
    f = postnum - ls;
#line 1148
    mb_charinit();
    }
#line 1149
    if (f <= 0) {
#line 1154
      c = postnum;
      {
#line 1154
      while (1) {
        while_continue___35: /* CIL Label */ ;
#line 1154
        if (! (c > 0)) {
#line 1154
          goto while_break___35;
        }
        {
#line 1155
        cl = mb_metacharlenconv((char const   *)str, & cchar);
        }
#line 1156
        if (! cl) {
#line 1157
          goto while_break___35;
        }
        {
#line 1158
        while (1) {
          while_continue___36: /* CIL Label */ ;
#line 1158
          tmp___74 = cl;
#line 1158
          cl --;
#line 1158
          if (! tmp___74) {
#line 1158
            goto while_break___36;
          }
#line 1159
          tmp___72 = r;
#line 1159
          r ++;
#line 1159
          tmp___73 = str;
#line 1159
          str ++;
#line 1159
          *tmp___72 = *tmp___73;
        }
        while_break___36: /* CIL Label */ ;
        }
        {
#line 1160
        tmp___75 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1160
        c -= tmp___75;
        }
      }
      while_break___35: /* CIL Label */ ;
      }
    } else {
#line 1168
      c = ls;
      {
#line 1168
      while (1) {
        while_continue___37: /* CIL Label */ ;
#line 1168
        if (! *str) {
#line 1168
          goto while_break___37;
        }
        {
#line 1169
        cl = mb_metacharlenconv((char const   *)str, & cchar);
        }
#line 1170
        if (! cl) {
#line 1171
          goto while_break___37;
        }
        {
#line 1172
        while (1) {
          while_continue___38: /* CIL Label */ ;
#line 1172
          tmp___78 = cl;
#line 1172
          cl --;
#line 1172
          if (! tmp___78) {
#line 1172
            goto while_break___38;
          }
#line 1173
          tmp___76 = r;
#line 1173
          r ++;
#line 1173
          tmp___77 = str;
#line 1173
          str ++;
#line 1173
          *tmp___76 = *tmp___77;
        }
        while_break___38: /* CIL Label */ ;
        }
        {
#line 1174
        tmp___79 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1174
        c -= tmp___79;
        }
      }
      while_break___37: /* CIL Label */ ;
      }
      {
#line 1176
      mb_charinit();
      }
#line 1177
      if (f <= lpostone) {
#line 1178
        if (postone) {
#line 1183
          c = f;
          {
#line 1183
          while (1) {
            while_continue___39: /* CIL Label */ ;
#line 1183
            if (! (c > 0)) {
#line 1183
              goto while_break___39;
            }
            {
#line 1184
            cl = mb_metacharlenconv((char const   *)postone, & cchar);
            }
#line 1185
            if (! cl) {
#line 1186
              goto while_break___39;
            }
            {
#line 1187
            while (1) {
              while_continue___40: /* CIL Label */ ;
#line 1187
              tmp___82 = cl;
#line 1187
              cl --;
#line 1187
              if (! tmp___82) {
#line 1187
                goto while_break___40;
              }
#line 1188
              tmp___80 = r;
#line 1188
              r ++;
#line 1188
              tmp___81 = postone;
#line 1188
              postone ++;
#line 1188
              *tmp___80 = *tmp___81;
            }
            while_break___40: /* CIL Label */ ;
            }
            {
#line 1189
            tmp___83 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1189
            c -= tmp___83;
            }
          }
          while_break___39: /* CIL Label */ ;
          }
        }
      } else {
#line 1193
        if (postone) {
#line 1194
          f -= lpostone;
#line 1196
          c = lpostone;
          {
#line 1196
          while (1) {
            while_continue___41: /* CIL Label */ ;
#line 1196
            if (! *postone) {
#line 1196
              goto while_break___41;
            }
            {
#line 1197
            cl = mb_metacharlenconv((char const   *)postone, & cchar);
            }
#line 1198
            if (! cl) {
#line 1199
              goto while_break___41;
            }
            {
#line 1200
            while (1) {
              while_continue___42: /* CIL Label */ ;
#line 1200
              tmp___86 = cl;
#line 1200
              cl --;
#line 1200
              if (! tmp___86) {
#line 1200
                goto while_break___42;
              }
#line 1201
              tmp___84 = r;
#line 1201
              r ++;
#line 1201
              tmp___85 = postone;
#line 1201
              postone ++;
#line 1201
              *tmp___84 = *tmp___85;
            }
            while_break___42: /* CIL Label */ ;
            }
            {
#line 1202
            tmp___87 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1202
            c -= tmp___87;
            }
          }
          while_break___41: /* CIL Label */ ;
          }
        }
#line 1205
        if (lpostmul) {
#line 1207
          cc = f / lpostmul;
          {
#line 1207
          while (1) {
            while_continue___43: /* CIL Label */ ;
#line 1207
            tmp___92 = cc;
#line 1207
            cc --;
#line 1207
            if (! tmp___92) {
#line 1207
              goto while_break___43;
            }
            {
#line 1208
            mb_charinit();
#line 1209
            c = lpostmul;
#line 1209
            t = postmul;
            }
            {
#line 1209
            while (1) {
              while_continue___44: /* CIL Label */ ;
#line 1209
              if (! *t) {
#line 1209
                goto while_break___44;
              }
              {
#line 1210
              cl = mb_metacharlenconv((char const   *)t, & cchar);
              }
#line 1211
              if (! cl) {
#line 1212
                goto while_break___44;
              }
              {
#line 1213
              while (1) {
                while_continue___45: /* CIL Label */ ;
#line 1213
                tmp___90 = cl;
#line 1213
                cl --;
#line 1213
                if (! tmp___90) {
#line 1213
                  goto while_break___45;
                }
#line 1214
                tmp___88 = r;
#line 1214
                r ++;
#line 1214
                tmp___89 = t;
#line 1214
                t ++;
#line 1214
                *tmp___88 = *tmp___89;
              }
              while_break___45: /* CIL Label */ ;
              }
              {
#line 1215
              tmp___91 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1215
              c -= tmp___91;
              }
            }
            while_break___44: /* CIL Label */ ;
            }
          }
          while_break___43: /* CIL Label */ ;
          }
#line 1222
          m = f % lpostmul;
#line 1222
          if (m) {
            {
#line 1223
            mb_charinit();
            }
            {
#line 1224
            while (1) {
              while_continue___46: /* CIL Label */ ;
#line 1224
              if (! (m > 0)) {
#line 1224
                goto while_break___46;
              }
              {
#line 1225
              cl = mb_metacharlenconv((char const   *)postmul, & cchar);
              }
#line 1226
              if (! cl) {
#line 1227
                goto while_break___46;
              }
              {
#line 1228
              while (1) {
                while_continue___47: /* CIL Label */ ;
#line 1228
                tmp___95 = cl;
#line 1228
                cl --;
#line 1228
                if (! tmp___95) {
#line 1228
                  goto while_break___47;
                }
#line 1229
                tmp___93 = r;
#line 1229
                r ++;
#line 1229
                tmp___94 = postmul;
#line 1229
                postmul ++;
#line 1229
                *tmp___93 = *tmp___94;
              }
              while_break___47: /* CIL Label */ ;
              }
              {
#line 1230
              tmp___96 = wcpadwidth((wchar_t )cchar, multi_width);
#line 1230
              m -= tmp___96;
              }
            }
            while_break___46: /* CIL Label */ ;
            }
          }
        }
      }
    }
  }
#line 1237
  *r = (char )'\000';
#line 1239
  return (ret);
}
}
#line 1255 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
char *get_strarg(char *s , int *lenp ) 
{ 
  convchar_t del ;
  int len ;
  char ctok ;
  int tmp ;
  convchar_t del2 ;
  int tmp___0 ;

  {
  {
#line 1260
  ctok = (char)0;
#line 1262
  mb_charinit();
#line 1263
  len = mb_metacharlenconv((char const   *)s, & del);
  }
#line 1264
  if (! len) {
#line 1265
    *lenp = 0;
#line 1266
    return (s);
  }
#line 1270
  if (del == 4294967295U) {
#line 1271
    if ((int )*s == -125) {
#line 1271
      tmp = (int )*(s + 1) ^ 32;
    } else {
#line 1271
      tmp = (int )*s;
    }
#line 1271
    del = (wint_t )tmp;
  }
#line 1273
  s += len;
  {
#line 1275
  if (del == 40U) {
#line 1275
    goto case_40;
  }
#line 1278
  if (del == 91U) {
#line 1278
    goto case_91;
  }
#line 1281
  if (del == 123U) {
#line 1281
    goto case_123;
  }
#line 1284
  if (del == 60U) {
#line 1284
    goto case_60;
  }
#line 1287
  if (del == 4294967176U) {
#line 1287
    goto case_4294967176;
  }
#line 1290
  if (del == 4294967188U) {
#line 1290
    goto case_4294967188;
  }
#line 1293
  if (del == 4294967183U) {
#line 1293
    goto case_4294967183;
  }
#line 1296
  if (del == 4294967185U) {
#line 1296
    goto case_4294967185;
  }
#line 1274
  goto switch_break;
  case_40: /* CIL Label */ 
#line 1276
  del = (convchar_t )41;
#line 1277
  goto switch_break;
  case_91: /* CIL Label */ 
#line 1279
  del = (convchar_t )93;
#line 1280
  goto switch_break;
  case_123: /* CIL Label */ 
#line 1282
  del = (convchar_t )125;
#line 1283
  goto switch_break;
  case_60: /* CIL Label */ 
#line 1285
  del = (convchar_t )62;
#line 1286
  goto switch_break;
  case_4294967176: /* CIL Label */ 
#line 1288
  ctok = (char)-118;
#line 1289
  goto switch_break;
  case_4294967188: /* CIL Label */ 
#line 1291
  ctok = (char)-107;
#line 1292
  goto switch_break;
  case_4294967183: /* CIL Label */ 
#line 1294
  ctok = (char)-112;
#line 1295
  goto switch_break;
  case_4294967185: /* CIL Label */ 
#line 1297
  ctok = (char)-110;
#line 1298
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 1301
  if (ctok) {
    {
#line 1306
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1306
      if (*s) {
#line 1306
        if (! ((int )*s != (int )ctok)) {
#line 1306
          goto while_break;
        }
      } else {
#line 1306
        goto while_break;
      }
#line 1307
      s ++;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 1310
    len = 0;
    {
#line 1311
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1311
      if (! *s) {
#line 1311
        goto while_break___0;
      }
      {
#line 1312
      len = mb_metacharlenconv((char const   *)s, & del2);
      }
#line 1314
      if (del2 == 4294967295U) {
#line 1315
        if ((int )*s == -125) {
#line 1315
          tmp___0 = (int )*(s + 1) ^ 32;
        } else {
#line 1315
          tmp___0 = (int )*s;
        }
#line 1315
        del2 = (wint_t )tmp___0;
      }
#line 1317
      if (del == del2) {
#line 1318
        goto while_break___0;
      }
#line 1319
      s += len;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 1323
  *lenp = len;
#line 1324
  return (s);
}
}
#line 1335 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static int get_intarg(char **s , int *delmatchp ) 
{ 
  int arglen ;
  char *t ;
  char *tmp ;
  char *p ;
  char sav ;
  zlong ret ;
  int tmp___0 ;

  {
  {
#line 1339
  tmp = get_strarg(*s, & arglen);
#line 1339
  t = tmp;
#line 1343
  *delmatchp = 0;
  }
#line 1344
  if (! *t) {
#line 1345
    return (-1);
  }
  {
#line 1346
  sav = *t;
#line 1347
  *t = (char )'\000';
#line 1348
  p = dupstring((char const   *)(*s + arglen));
#line 1349
  *s = t + arglen;
#line 1350
  *t = sav;
#line 1351
  tmp___0 = parsestr(& p);
  }
#line 1351
  if (tmp___0) {
#line 1352
    return (-1);
  }
  {
#line 1353
  singsub(& p);
  }
#line 1354
  if (errflag) {
#line 1355
    return (-1);
  }
  {
#line 1356
  ret = mathevali(p);
  }
#line 1357
  if (errflag) {
#line 1358
    return (-1);
  }
#line 1359
  if (ret < 0L) {
#line 1360
    ret = - ret;
  }
#line 1361
  *delmatchp = arglen;
#line 1362
  return ((int )ret);
}
}
#line 1367 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static int subst_parse_str(char **sp___0 , int single , int err ) 
{ 
  char *s ;
  int qt ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 1372
  s = dupstring((char const   *)*sp___0);
#line 1372
  *sp___0 = s;
  }
#line 1374
  if (err) {
    {
#line 1374
    tmp = parsestr(& s);
#line 1374
    tmp___1 = tmp;
    }
  } else {
    {
#line 1374
    tmp___0 = parsestrnoerr(& s);
#line 1374
    tmp___1 = tmp___0;
    }
  }
#line 1374
  if (! tmp___1) {
#line 1375
    *sp___0 = s;
#line 1376
    if (! single) {
#line 1377
      qt = 0;
      {
#line 1379
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1379
        if (! *s) {
#line 1379
          goto while_break;
        }
#line 1380
        if (! qt) {
#line 1381
          if ((int )*s == -116) {
#line 1382
            *s = (char)-123;
          } else
#line 1383
          if ((int )*s == -103) {
#line 1384
            *s = (char)-109;
          }
        }
#line 1386
        if ((int )*s == -98) {
#line 1387
          qt = ! qt;
        }
#line 1379
        s ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
#line 1390
    return (0);
  }
#line 1392
  return (1);
}
}
#line 1397 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *substevalchar(char *ptr___0 ) 
{ 
  zlong ires ;
  zlong tmp ;
  int len ;
  char buf___7[11] ;
  void *tmp___0 ;
  char *tmp___1 ;
  void *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
  {
#line 1400
  tmp = mathevali(ptr___0);
#line 1400
  ires = tmp;
#line 1401
  len = 0;
  }
#line 1403
  if (errflag) {
#line 1404
    return ((char *)((void *)0));
  }
#line 1406
  if (opts[116]) {
#line 1406
    if (ires > 127L) {
      {
#line 1411
      sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"\\U%.8x",
              (unsigned int )ires & 4294967295U);
#line 1412
      ptr___0 = getkeystring(buf___7, & len, 7, (int *)((void *)0));
      }
    }
  }
#line 1414
  if (len == 0) {
    {
#line 1417
    tmp___0 = zhalloc((size_t )2);
#line 1417
    ptr___0 = (char *)tmp___0;
#line 1418
    len = 1;
#line 1419
    sprintf((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)"%c",
            (int )ires);
    }
  }
  {
#line 1421
  tmp___1 = metafy(ptr___0, len, 1);
  }
#line 1421
  return (tmp___1);
}
}
#line 1429 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *untok_and_escape(char *s , int escapes , int tok_arg ) 
{ 
  int klen ;
  char *dst ;
  char *pstart ;
  char *pend ;
  char *tmp ;

  {
#line 1433
  dst = (char *)((void *)0);
#line 1435
  if (escapes) {
#line 1435
    if ((int )*s == -123) {
#line 1435
      goto _L;
    } else
#line 1435
    if ((int )*s == -116) {
      _L: /* CIL Label */ 
#line 1435
      if (*(s + 1)) {
#line 1436
        pstart = s + 1;
#line 1437
        pend = pstart;
        {
#line 1437
        while (1) {
          while_continue: /* CIL Label */ ;
#line 1437
          if (! *pend) {
#line 1437
            goto while_break;
          }
#line 1438
          if (! ((int )typtab[(unsigned char )*pend] & (1 << 7))) {
#line 1439
            goto while_break;
          }
#line 1437
          pend ++;
        }
        while_break: /* CIL Label */ ;
        }
#line 1440
        if (! *pend) {
          {
#line 1441
          tmp = getsparam(pstart);
#line 1441
          dst = dupstring((char const   *)tmp);
          }
        }
      }
    }
  }
#line 1444
  if ((unsigned long )dst == (unsigned long )((void *)0)) {
    {
#line 1445
    dst = dupstring((char const   *)s);
#line 1445
    untokenize(dst);
    }
#line 1446
    if (escapes) {
      {
#line 1447
      dst = getkeystring(dst, & klen, 3, (int *)((void *)0));
#line 1448
      dst = metafy(dst, klen, 7);
      }
    }
  }
#line 1451
  if (tok_arg) {
    {
#line 1452
    shtokenize(dst);
    }
  }
#line 1453
  return (dst);
}
}
#line 1467 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *check_colon_subscript(char *str , char **endp ) 
{ 
  int sav ;
  int tmp ;

  {
#line 1473
  if (! *str) {
#line 1474
    return ((char *)((void *)0));
  } else
#line 1473
  if ((int )typtab[(unsigned char )*str] & (1 << 6)) {
#line 1474
    return ((char *)((void *)0));
  } else
#line 1473
  if ((int )*str == 38) {
#line 1474
    return ((char *)((void *)0));
  }
  {
#line 1476
  *endp = parse_subscript(str, 0, ':');
  }
#line 1477
  if (! *endp) {
    {
#line 1479
    *endp = parse_subscript(str, 0, '\000');
    }
#line 1480
    if (! *endp) {
#line 1481
      return ((char *)((void *)0));
    }
  }
  {
#line 1483
  sav = (int )*(*endp);
#line 1484
  *(*endp) = (char )'\000';
#line 1485
  str = dupstring((char const   *)str);
#line 1486
  tmp = parsestr(& str);
  }
#line 1486
  if (tmp) {
#line 1487
    return ((char *)((void *)0));
  }
  {
#line 1488
  singsub(& str);
#line 1489
  remnulargs(str);
#line 1490
  untokenize(str);
#line 1492
  *(*endp) = (char )sav;
  }
#line 1493
  return (str);
}
}
#line 1519 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static LinkNode paramsubst(LinkList l , LinkNode n , char **str , int qt , int pf_flags ,
                           int *ret_flags ) 
{ 
  char *aptr ;
  char c ;
  char cc ;
  char *s ;
  char *fstr___0 ;
  char *idbeg ;
  char *idend ;
  char *ostr ;
  int colf ;
  int isarr ;
  int plan9 ;
  int globsubst ;
  int evalchar ;
  int getlen ;
  int whichlen ;
  int chkset ;
  int vunset ;
  int wantt ;
  int spbreak ;
  int tmp ;
  char *val ;
  char **aval ;
  struct value vbuf ;
  Value v ;
  int flags ;
  int flnum ;
  int sortit ;
  int indord ;
  int unique ;
  int casmod ;
  int quotemod ;
  int quotetype ;
  int quoteerr ;
  int mods ;
  int shsplit ;
  int ssub ;
  char *sep ;
  char *spsep ;
  char *premul ;
  char *postmul ;
  char *preone ;
  char *postone ;
  char *replstr ;
  zlong prenum ;
  zlong postnum ;
  int multi_width ;
  int copied ;
  int arrasg ;
  int eval___0 ;
  int aspar ;
  int presc ;
  int getkeys ;
  int nojoin ;
  int tmp___0 ;
  int tmp___1 ;
  char inbrace ;
  char hkeys ;
  char hvals ;
  int subexp ;
  int horrible_offset_hack ;
  int ms_flags ;
  int fetch_needed ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *t ;
  char sav ;
  int tt ;
  zlong num ;
  int escapes ;
  int tok_arg ;
  int arglen ;
  int dellen ;
  char *del0 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  int sav___0 ;
  int quoted ;
  int outtok ;
  char *tmp___11 ;
  void *tmp___12 ;
  char ***tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  char *ov ;
  int tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  char **tmp___22 ;
  int f ;
  Param pm ;
  char *os ;
  int tmp___23 ;
  void *tmp___24 ;
  int tmp___25 ;
  int tmp___26 ;
  int tmp___27 ;
  int tmplen ;
  char **tmp___28 ;
  int tmp___29 ;
  char **tmp___30 ;
  char tmp___31 ;
  int tmp___32 ;
  int bct ;
  char *tmp___33 ;
  char *ptr___0 ;
  int tmp___34 ;
  int split_flags ;
  char ***tmp___35 ;
  char sav___1 ;
  int l___0 ;
  int split_flags___0 ;
  int tmp___36 ;
  char *arr[2] ;
  char **t___0 ;
  char **a ;
  char **p ;
  void *tmp___37 ;
  char **tmp___38 ;
  char **tmp___39 ;
  int tmp___40 ;
  char **tmp___41 ;
  Param pm___0 ;
  Param tmp___42 ;
  HashTable tmp___43 ;
  char *tmp___44 ;
  char const   *tmp___45 ;
  __pid_t tmp___46 ;
  int one ;
  int oef ;
  int haserr ;
  char **ap ;
  char **zip ;
  int shortest ;
  char *tmp___47 ;
  char *sval ;
  char **out ;
  int alen ;
  int ziplen ;
  int outlen ;
  int i ;
  void *tmp___48 ;
  int intersect ;
  int tmp___49 ;
  char **compare ;
  char **ap___0 ;
  char **apsrc ;
  char *tmp___50 ;
  HashTable ht ;
  int tmp___51 ;
  HashTable tmp___52 ;
  int present ;
  void *tmp___53 ;
  HashNode tmp___54 ;
  int tmp___55 ;
  HashNode tmp___56 ;
  int tmp___57 ;
  char const   *tmp___58 ;
  char *check_offset2 ;
  char *check_offset ;
  char *tmp___59 ;
  zlong offset ;
  zlong tmp___60 ;
  zlong length ;
  int length_set ;
  int offset_hack_argzero ;
  int alen___0 ;
  int count ;
  char **srcptr ;
  char **dstptr ;
  char **newarr ;
  void *tmp___61 ;
  char **tmp___62 ;
  char **tmp___63 ;
  char **tmp___64 ;
  int tmp___65 ;
  char *sptr ;
  char *eptr ;
  int given_offset ;
  int tmp___66 ;
  int tmp___67 ;
  int tmp___68 ;
  int tmp___69 ;
  char *ss ;
  char **ap___1 ;
  char **pp ;
  int tmp___70 ;
  void *tmp___71 ;
  char **tmp___72 ;
  char *tmp___73 ;
  char **tmp___74 ;
  char *t___1 ;
  int one___0 ;
  int oef___0 ;
  int haserr___0 ;
  char **aval2 ;
  char **avptr ;
  char **av2ptr ;
  int tmp___75 ;
  void *tmp___76 ;
  char *tmp___77 ;
  long len ;
  char buf___7[14] ;
  char **ctr ;
  int sl ;
  int tmp___78 ;
  int tmp___79 ;
  int tmp___80 ;
  int tmp___81 ;
  int tmp___82 ;
  int tmp___83 ;
  int force_split ;
  int tmp___84 ;
  char *tmp___85 ;
  char **ap___2 ;
  char **ap2 ;
  int tmp___86 ;
  void *tmp___87 ;
  char **tmp___88 ;
  char **tmp___89 ;
  char **tmp___90 ;
  int len___0 ;
  char **ap___3 ;
  char **ap2___0 ;
  int tmp___91 ;
  void *tmp___92 ;
  char **tmp___93 ;
  int ops ;
  int opb ;
  int opp ;
  char **ap___4 ;
  char *tmps ;
  char *tmps___0 ;
  int pre ;
  int post ;
  char **ap___5 ;
  int sl___0 ;
  char *tmp___94 ;
  size_t tmp___95 ;
  void *tmp___96 ;
  char tmp___97 ;
  int one___1 ;
  int oef___1 ;
  int haserr___1 ;
  int tmp___98 ;
  int sl___1 ;
  char *tmp___99 ;
  size_t tmp___100 ;
  void *tmp___101 ;
  char tmp___102 ;
  int one___2 ;
  int oef___2 ;
  int haserr___2 ;
  char **ap___6 ;
  LinkList list ;
  char **ap___7 ;
  char *tmp___103 ;
  char *tmp___104 ;
  char *x ;
  char *y ;
  int xlen ;
  int i___0 ;
  LinkNode on ;
  int vallen ;
  size_t tmp___105 ;
  size_t tmp___106 ;
  void *tmp___107 ;
  char *copy ;
  char **end ;
  int tmp___108 ;
  char **start ;
  char **tmp___109 ;
  char **tmp___110 ;
  LinkNode tn ;
  union linkroot tl ;
  struct linknode __n0 ;
  LinkNode tmp___111 ;
  int tmp___112 ;
  int tmp___113 ;
  size_t tmp___114 ;
  char **tmp___115 ;
  int tmp___116 ;
  int tmp___117 ;
  size_t tmp___118 ;
  int tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  size_t tmp___124 ;
  int xlen___0 ;
  char *x___0 ;
  char *y___0 ;
  int tmp___125 ;
  int tmp___126 ;
  size_t tmp___127 ;
  void *__cil_tmp310 ;
  void *__cil_tmp311 ;
  char *__cil_tmp312 ;
  char *__cil_tmp313 ;
  char *__cil_tmp314 ;
  char *__cil_tmp315 ;
  char *__cil_tmp316 ;
  char *__cil_tmp317 ;
  char *__cil_tmp318 ;
  char *__cil_tmp319 ;
  char *__cil_tmp320 ;
  char *__cil_tmp321 ;
  char *__cil_tmp322 ;
  char *__cil_tmp323 ;
  char *__cil_tmp324 ;
  char *__cil_tmp325 ;
  char *__cil_tmp326 ;
  char *__cil_tmp327 ;
  char *__cil_tmp328 ;
  char *__cil_tmp329 ;
  char *__cil_tmp330 ;
  char *__cil_tmp331 ;
  char *__cil_tmp332 ;
  char *__cil_tmp333 ;
  char *__cil_tmp334 ;
  char *__cil_tmp335 ;
  char *__cil_tmp336 ;
  char *__cil_tmp337 ;
  char *__cil_tmp338 ;
  char *__cil_tmp339 ;
  char *__cil_tmp340 ;
  char *__cil_tmp341 ;
  char *__cil_tmp342 ;
  char *__cil_tmp343 ;
  char *__cil_tmp344 ;
  char *__cil_tmp345 ;
  char *__cil_tmp346 ;
  char *__cil_tmp347 ;
  char *__cil_tmp348 ;
  char *__cil_tmp349 ;
  char *__cil_tmp350 ;
  char *__cil_tmp351 ;
  char *__cil_tmp352 ;
  char *__cil_tmp353 ;
  char *__cil_tmp354 ;
  char *__cil_tmp355 ;
  char *__cil_tmp356 ;
  char *__cil_tmp357 ;
  char *__cil_tmp358 ;
  char *__cil_tmp359 ;
  char *__cil_tmp360 ;
  char *__cil_tmp361 ;
  char *__cil_tmp362 ;
  char *__cil_tmp363 ;
  char *__cil_tmp364 ;
  char *__cil_tmp365 ;
  char *__cil_tmp366 ;
  char *__cil_tmp367 ;
  char *__cil_tmp368 ;
  char *__cil_tmp369 ;
  char *__cil_tmp370 ;
  char *__cil_tmp371 ;
  char *__cil_tmp372 ;
  char *__cil_tmp373 ;
  char *__cil_tmp374 ;
  char *__cil_tmp375 ;
  char *__cil_tmp376 ;
  char *__cil_tmp377 ;
  char *__cil_tmp378 ;
  char *__cil_tmp379 ;
  char *__cil_tmp380 ;
  char *__cil_tmp381 ;
  char *__cil_tmp382 ;
  char *__cil_tmp383 ;
  char *__cil_tmp384 ;
  char *__cil_tmp385 ;
  char *__cil_tmp386 ;
  char *__cil_tmp387 ;

  {
#line 1523
  aptr = *str;
#line 1524
  s = aptr;
#line 1524
  ostr = (char *)n->dat;
#line 1552
  isarr = 0;
#line 1557
  plan9 = (int )opts[148];
#line 1563
  globsubst = (int )opts[65];
#line 1567
  evalchar = 0;
#line 1572
  getlen = 0;
#line 1573
  whichlen = 0;
#line 1577
  chkset = 0;
#line 1585
  vunset = 0;
#line 1591
  wantt = 0;
#line 1599
  if (pf_flags & 16) {
#line 1599
    if (! (pf_flags & 4)) {
#line 1599
      if (! qt) {
#line 1599
        tmp = 1;
      } else {
#line 1599
        tmp = 0;
      }
    } else {
#line 1599
      tmp = 0;
    }
  } else {
#line 1599
    tmp = 0;
  }
#line 1599
  spbreak = tmp;
#line 1602
  val = (char *)((void *)0);
#line 1602
  aval = (char **)((void *)0);
#line 1608
  v = (Value )((void *)0);
#line 1614
  flags = 0;
#line 1616
  flnum = 0;
#line 1622
  sortit = 0;
#line 1622
  indord = 0;
#line 1624
  unique = 0;
#line 1626
  casmod = 0;
#line 1633
  quotemod = 0;
#line 1633
  quotetype = 0;
#line 1633
  quoteerr = 0;
#line 1640
  mods = 0;
#line 1648
  shsplit = 0;
#line 1653
  ssub = pf_flags & 4;
#line 1660
  sep = (char *)((void *)0);
#line 1660
  spsep = (char *)((void *)0);
#line 1666
  premul = (char *)((void *)0);
#line 1666
  postmul = (char *)((void *)0);
#line 1666
  preone = (char *)((void *)0);
#line 1666
  postone = (char *)((void *)0);
#line 1668
  replstr = (char *)((void *)0);
#line 1670
  prenum = (zlong )0;
#line 1670
  postnum = (zlong )0;
#line 1673
  multi_width = 0;
#line 1681
  copied = 0;
#line 1687
  arrasg = 0;
#line 1692
  eval___0 = 0;
#line 1697
  aspar = 0;
#line 1701
  presc = 0;
#line 1705
  getkeys = -1;
#line 1711
  if (pf_flags & 16) {
#line 1711
    if (ifs) {
#line 1711
      if (*ifs) {
#line 1711
        tmp___0 = 0;
      } else {
#line 1711
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 1711
    if (! qt) {
#line 1711
      tmp___0 = 1;
    } else {
#line 1711
      tmp___0 = 0;
    }
#line 1711
    tmp___1 = tmp___0;
  } else {
#line 1711
    tmp___1 = 0;
  }
  {
#line 1711
  nojoin = tmp___1;
#line 1717
  inbrace = (char)0;
#line 1722
  hkeys = (char)0;
#line 1729
  hvals = (char)0;
#line 1743
  horrible_offset_hack = 0;
#line 1751
  ms_flags = 0;
#line 1759
  tmp___2 = s;
#line 1759
  s ++;
#line 1759
  *tmp___2 = (char )'\000';
#line 1767
  c = *s;
#line 1768
  tmp___3 = itype_end((char const   *)s, 1 << 7, 1);
  }
#line 1768
  if ((unsigned long )tmp___3 == (unsigned long )s) {
#line 1768
    if ((int )*s != 35) {
#line 1768
      if ((int )c != -124) {
#line 1768
        if ((int )c != 45) {
#line 1768
          if ((int )c != 33) {
#line 1768
            if ((int )c != 36) {
#line 1768
              if ((int )c != -123) {
#line 1768
                if ((int )c != -116) {
#line 1768
                  if ((int )c != 63) {
#line 1768
                    if ((int )c != -105) {
#line 1768
                      if ((int )c != 42) {
#line 1768
                        if ((int )c != -121) {
#line 1768
                          if ((int )c != 64) {
#line 1768
                            if ((int )c != 123) {
#line 1768
                              if ((int )c != -113) {
#line 1768
                                if ((int )c != 61) {
#line 1768
                                  if ((int )c != -115) {
#line 1768
                                    if ((int )c != -122) {
#line 1768
                                      if ((int )c != 94) {
#line 1768
                                        if ((int )c != 126) {
#line 1768
                                          if ((int )c != -104) {
#line 1768
                                            if ((int )c != 43) {
#line 1774
                                              *(s + -1) = (char )'$';
#line 1775
                                              *str = s;
#line 1776
                                              return (n);
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 1783
  if ((int )c == -113) {
#line 1784
    inbrace = (char)1;
#line 1785
    s ++;
#line 1794
    c = *s;
#line 1794
    if ((int )c == 33) {
#line 1794
      if ((int )*(s + 1) != -112) {
#line 1794
        if (emulation & (1 << 2)) {
#line 1795
          hkeys = (char )(1 << 1);
#line 1796
          s ++;
        } else {
#line 1794
          goto _L___3;
        }
      } else {
#line 1794
        goto _L___3;
      }
    } else
    _L___3: /* CIL Label */ 
#line 1797
    if ((int )c == 40) {
#line 1797
      goto _L___1;
    } else
#line 1797
    if ((int )c == -120) {
      _L___1: /* CIL Label */ 
#line 1799
      tt = 0;
#line 1806
      escapes = 0;
#line 1811
      tok_arg = 0;
#line 1813
      s ++;
      {
#line 1813
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1813
        c = *s;
#line 1813
        if ((int )c != 41) {
#line 1813
          if (! ((int )c != -118)) {
#line 1813
            goto while_break;
          }
        } else {
#line 1813
          goto while_break;
        }
        {
#line 1820
        if ((int )c == -118) {
#line 1820
          goto case_neg_118;
        }
#line 1820
        if ((int )c == 41) {
#line 1820
          goto case_neg_118;
        }
#line 1824
        if ((int )c == -104) {
#line 1824
          goto case_neg_104;
        }
#line 1824
        if ((int )c == 126) {
#line 1824
          goto case_neg_104;
        }
#line 1827
        if ((int )c == 65) {
#line 1827
          goto case_65;
        }
#line 1830
        if ((int )c == 64) {
#line 1830
          goto case_64;
        }
#line 1833
        if ((int )c == 77) {
#line 1833
          goto case_77;
        }
#line 1836
        if ((int )c == 82) {
#line 1836
          goto case_82;
        }
#line 1839
        if ((int )c == 66) {
#line 1839
          goto case_66;
        }
#line 1842
        if ((int )c == 69) {
#line 1842
          goto case_69;
        }
#line 1845
        if ((int )c == 78) {
#line 1845
          goto case_78;
        }
#line 1848
        if ((int )c == 83) {
#line 1848
          goto case_83;
        }
#line 1851
        if ((int )c == 73) {
#line 1851
          goto case_73;
        }
#line 1859
        if ((int )c == 76) {
#line 1859
          goto case_76;
        }
#line 1862
        if ((int )c == 85) {
#line 1862
          goto case_85;
        }
#line 1865
        if ((int )c == 67) {
#line 1865
          goto case_67;
        }
#line 1869
        if ((int )c == 111) {
#line 1869
          goto case_111;
        }
#line 1873
        if ((int )c == 79) {
#line 1873
          goto case_79;
        }
#line 1876
        if ((int )c == 105) {
#line 1876
          goto case_105;
        }
#line 1879
        if ((int )c == 110) {
#line 1879
          goto case_110;
        }
#line 1882
        if ((int )c == 97) {
#line 1882
          goto case_97;
        }
#line 1887
        if ((int )c == 68) {
#line 1887
          goto case_68;
        }
#line 1890
        if ((int )c == 86) {
#line 1890
          goto case_86;
        }
#line 1894
        if ((int )c == 113) {
#line 1894
          goto case_113;
        }
#line 1913
        if ((int )c == 98) {
#line 1913
          goto case_98;
        }
#line 1919
        if ((int )c == 81) {
#line 1919
          goto case_81;
        }
#line 1922
        if ((int )c == 88) {
#line 1922
          goto case_88;
        }
#line 1926
        if ((int )c == 101) {
#line 1926
          goto case_101;
        }
#line 1929
        if ((int )c == 80) {
#line 1929
          goto case_80;
        }
#line 1933
        if ((int )c == 99) {
#line 1933
          goto case_99;
        }
#line 1936
        if ((int )c == 119) {
#line 1936
          goto case_119;
        }
#line 1939
        if ((int )c == 87) {
#line 1939
          goto case_87;
        }
#line 1943
        if ((int )c == 102) {
#line 1943
          goto case_102;
        }
#line 1946
        if ((int )c == 70) {
#line 1946
          goto case_70;
        }
#line 1950
        if ((int )c == 48) {
#line 1950
          goto case_48;
        }
#line 1957
        if ((int )c == 115) {
#line 1957
          goto case_115;
        }
#line 1960
        if ((int )c == 106) {
#line 1960
          goto case_106;
        }
#line 1977
        if ((int )c == 108) {
#line 1977
          goto case_108;
        }
#line 1980
        if ((int )c == 114) {
#line 1980
          goto case_114;
        }
#line 2033
        if ((int )c == 109) {
#line 2033
          goto case_109;
        }
#line 2039
        if ((int )c == 112) {
#line 2039
          goto case_112;
        }
#line 2043
        if ((int )c == 107) {
#line 2043
          goto case_107;
        }
#line 2046
        if ((int )c == 118) {
#line 2046
          goto case_118;
        }
#line 2050
        if ((int )c == 116) {
#line 2050
          goto case_116;
        }
#line 2054
        if ((int )c == 37) {
#line 2054
          goto case_37;
        }
#line 2058
        if ((int )c == 103) {
#line 2058
          goto case_103;
        }
#line 2088
        if ((int )c == 122) {
#line 2088
          goto case_122;
        }
#line 2092
        if ((int )c == 90) {
#line 2092
          goto case_90;
        }
#line 2125
        if ((int )c == 117) {
#line 2125
          goto case_117;
        }
#line 2130
        if ((int )c == -124) {
#line 2130
          goto case_neg_124;
        }
#line 2130
        if ((int )c == 35) {
#line 2130
          goto case_neg_124;
        }
#line 2134
        if ((int )c == 95) {
#line 2134
          goto case_95;
        }
#line 2153
        goto flagerr;
        case_neg_118: /* CIL Label */ 
        case_41: /* CIL Label */ 
#line 1822
        goto switch_break;
        case_neg_104: /* CIL Label */ 
        case_126: /* CIL Label */ 
#line 1825
        tok_arg = ! tok_arg;
#line 1826
        goto switch_break;
        case_65: /* CIL Label */ 
#line 1828
        arrasg ++;
#line 1829
        goto switch_break;
        case_64: /* CIL Label */ 
#line 1831
        nojoin = 2;
#line 1832
        goto switch_break;
        case_77: /* CIL Label */ 
#line 1834
        flags |= 8;
#line 1835
        goto switch_break;
        case_82: /* CIL Label */ 
#line 1837
        flags |= 16;
#line 1838
        goto switch_break;
        case_66: /* CIL Label */ 
#line 1840
        flags |= 32;
#line 1841
        goto switch_break;
        case_69: /* CIL Label */ 
#line 1843
        flags |= 64;
#line 1844
        goto switch_break;
        case_78: /* CIL Label */ 
#line 1846
        flags |= 128;
#line 1847
        goto switch_break;
        case_83: /* CIL Label */ 
#line 1849
        flags |= 4;
#line 1850
        goto switch_break;
        case_73: /* CIL Label */ 
        {
#line 1852
        s ++;
#line 1853
        flnum = get_intarg(& s, & dellen);
        }
#line 1854
        if (flnum < 0) {
#line 1855
          goto flagerr;
        }
#line 1856
        s --;
#line 1857
        goto switch_break;
        case_76: /* CIL Label */ 
#line 1860
        casmod = 2;
#line 1861
        goto switch_break;
        case_85: /* CIL Label */ 
#line 1863
        casmod = 1;
#line 1864
        goto switch_break;
        case_67: /* CIL Label */ 
#line 1866
        casmod = 3;
#line 1867
        goto switch_break;
        case_111: /* CIL Label */ 
#line 1870
        if (! sortit) {
#line 1871
          sortit |= 16;
        }
#line 1872
        goto switch_break;
        case_79: /* CIL Label */ 
#line 1874
        sortit |= 4;
#line 1875
        goto switch_break;
        case_105: /* CIL Label */ 
#line 1877
        sortit |= 1;
#line 1878
        goto switch_break;
        case_110: /* CIL Label */ 
#line 1880
        sortit |= 2;
#line 1881
        goto switch_break;
        case_97: /* CIL Label */ 
#line 1883
        sortit |= 16;
#line 1884
        indord = 1;
#line 1885
        goto switch_break;
        case_68: /* CIL Label */ 
#line 1888
        mods |= 1;
#line 1889
        goto switch_break;
        case_86: /* CIL Label */ 
#line 1891
        mods |= 2;
#line 1892
        goto switch_break;
        case_113: /* CIL Label */ 
#line 1895
        if (quotetype == 4) {
#line 1897
          goto flagerr;
        } else
#line 1895
        if (quotetype == 7) {
#line 1897
          goto flagerr;
        }
#line 1898
        if ((int )*(s + 1) == 45) {
#line 1898
          goto _L___0;
        } else
#line 1898
        if ((int )*(s + 1) == 43) {
          _L___0: /* CIL Label */ 
#line 1899
          if (quotemod) {
#line 1900
            goto flagerr;
          }
#line 1901
          s ++;
#line 1902
          quotemod = 1;
#line 1903
          if ((int )*s == 45) {
#line 1903
            quotetype = 6;
          } else {
#line 1903
            quotetype = 9;
          }
        } else {
#line 1906
          if (quotetype == 6) {
#line 1908
            goto flagerr;
          }
#line 1910
          quotemod ++;
#line 1910
          quotetype ++;
        }
#line 1912
        goto switch_break;
        case_98: /* CIL Label */ 
#line 1914
        if (quotemod) {
#line 1915
          goto flagerr;
        } else
#line 1914
        if (quotetype != 0) {
#line 1915
          goto flagerr;
        }
#line 1916
        quotemod = 1;
#line 1917
        quotetype = 7;
#line 1918
        goto switch_break;
        case_81: /* CIL Label */ 
#line 1920
        quotemod --;
#line 1921
        goto switch_break;
        case_88: /* CIL Label */ 
#line 1923
        quoteerr = 1;
#line 1924
        goto switch_break;
        case_101: /* CIL Label */ 
#line 1927
        eval___0 = 1;
#line 1928
        goto switch_break;
        case_80: /* CIL Label */ 
#line 1930
        aspar = 1;
#line 1931
        goto switch_break;
        case_99: /* CIL Label */ 
#line 1934
        whichlen = 1;
#line 1935
        goto switch_break;
        case_119: /* CIL Label */ 
#line 1937
        whichlen = 2;
#line 1938
        goto switch_break;
        case_87: /* CIL Label */ 
#line 1940
        whichlen = 3;
#line 1941
        goto switch_break;
        case_102: /* CIL Label */ 
#line 1944
        spsep = (char *)"\n";
#line 1945
        goto switch_break;
        case_70: /* CIL Label */ 
#line 1947
        sep = (char *)"\n";
#line 1948
        goto switch_break;
        case_48: /* CIL Label */ 
        {
#line 1951
        tmp___4 = zhalloc((size_t )3);
#line 1951
        spsep = (char *)tmp___4;
#line 1952
        *(spsep + 0) = (char)-125;
#line 1953
        *(spsep + 1) = (char)32;
#line 1954
        *(spsep + 2) = (char )'\000';
        }
#line 1955
        goto switch_break;
        case_115: /* CIL Label */ 
#line 1958
        tt = 1;
        case_106: /* CIL Label */ 
        {
#line 1961
        s ++;
#line 1961
        t = get_strarg(s, & arglen);
        }
#line 1962
        if (*t) {
#line 1963
          sav = *t;
#line 1964
          *t = (char )'\000';
#line 1965
          if (tt) {
            {
#line 1966
            spsep = untok_and_escape(s + arglen, escapes, tok_arg);
            }
          } else {
            {
#line 1969
            sep = untok_and_escape(s + arglen, escapes, tok_arg);
            }
          }
#line 1971
          *t = sav;
#line 1972
          s = (t + arglen) - 1;
        } else {
#line 1974
          goto flagerr;
        }
#line 1975
        goto switch_break;
        case_108: /* CIL Label */ 
#line 1978
        tt = 1;
        case_114: /* CIL Label */ 
        {
#line 1981
        s ++;
#line 1983
        del0 = s;
#line 1984
        tmp___5 = get_intarg(& s, & dellen);
#line 1984
        num = (zlong )tmp___5;
        }
#line 1985
        if (num < 0L) {
#line 1986
          goto flagerr;
        }
#line 1987
        if (tt) {
#line 1988
          prenum = num;
        } else {
#line 1990
          postnum = num;
        }
#line 1992
        if (! dellen) {
#line 1994
          s --;
#line 1995
          goto switch_break;
        } else {
          {
#line 1992
          tmp___6 = memcmp((void const   *)del0, (void const   *)s, (size_t )dellen);
          }
#line 1992
          if (tmp___6) {
#line 1994
            s --;
#line 1995
            goto switch_break;
          }
        }
        {
#line 1997
        t = get_strarg(s, & arglen);
        }
#line 1998
        if (! *t) {
#line 1999
          goto flagerr;
        }
#line 2000
        sav = *t;
#line 2001
        *t = (char )'\000';
#line 2002
        if (tt) {
          {
#line 2003
          premul = untok_and_escape(s + arglen, escapes, tok_arg);
          }
        } else {
          {
#line 2006
          postmul = untok_and_escape(s + arglen, escapes, tok_arg);
          }
        }
        {
#line 2008
        *t = sav;
#line 2009
        sav = *s;
#line 2010
        s = t + arglen;
#line 2012
        tmp___7 = memcmp((void const   *)del0, (void const   *)s, (size_t )dellen);
        }
#line 2012
        if (tmp___7) {
#line 2014
          s --;
#line 2015
          goto switch_break;
        }
        {
#line 2017
        t = get_strarg(s, & arglen);
        }
#line 2018
        if (! *t) {
#line 2019
          goto flagerr;
        }
#line 2020
        sav = *t;
#line 2021
        *t = (char )'\000';
#line 2022
        if (tt) {
          {
#line 2023
          preone = untok_and_escape(s + arglen, escapes, tok_arg);
          }
        } else {
          {
#line 2026
          postone = untok_and_escape(s + arglen, escapes, tok_arg);
          }
        }
#line 2028
        *t = sav;
#line 2030
        s = (t + arglen) - 1;
#line 2031
        goto switch_break;
        case_109: /* CIL Label */ 
#line 2035
        multi_width ++;
#line 2037
        goto switch_break;
        case_112: /* CIL Label */ 
#line 2040
        escapes = 1;
#line 2041
        goto switch_break;
        case_107: /* CIL Label */ 
#line 2044
        hkeys = (char )(1 << 1);
#line 2045
        goto switch_break;
        case_118: /* CIL Label */ 
#line 2047
        hvals = (char)1;
#line 2048
        goto switch_break;
        case_116: /* CIL Label */ 
#line 2051
        wantt = 1;
#line 2052
        goto switch_break;
        case_37: /* CIL Label */ 
#line 2055
        presc ++;
#line 2056
        goto switch_break;
        case_103: /* CIL Label */ 
        {
#line 2059
        s ++;
#line 2059
        t = get_strarg(s, & arglen);
        }
#line 2060
        if (getkeys < 0) {
#line 2061
          getkeys = 0;
        }
#line 2062
        if (*t) {
#line 2063
          sav = *t;
#line 2064
          *t = (char)0;
          {
#line 2065
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 2065
            s ++;
#line 2065
            if (! *s) {
#line 2065
              goto while_break___0;
            }
            {
#line 2067
            if ((int )*s == 101) {
#line 2067
              goto case_101___0;
            }
#line 2070
            if ((int )*s == 111) {
#line 2070
              goto case_111___0;
            }
#line 2073
            if ((int )*s == 99) {
#line 2073
              goto case_99___0;
            }
#line 2077
            goto switch_default;
            case_101___0: /* CIL Label */ 
#line 2068
            getkeys |= 2;
#line 2069
            goto switch_break___0;
            case_111___0: /* CIL Label */ 
#line 2071
            getkeys |= 1;
#line 2072
            goto switch_break___0;
            case_99___0: /* CIL Label */ 
#line 2074
            getkeys |= 4;
#line 2075
            goto switch_break___0;
            switch_default: /* CIL Label */ 
#line 2078
            *t = sav;
#line 2079
            goto flagerr;
            switch_break___0: /* CIL Label */ ;
            }
          }
          while_break___0: /* CIL Label */ ;
          }
#line 2082
          *t = sav;
#line 2083
          s = (t + arglen) - 1;
        } else {
#line 2085
          goto flagerr;
        }
#line 2086
        goto switch_break;
        case_122: /* CIL Label */ 
#line 2089
        shsplit = 1;
#line 2090
        goto switch_break;
        case_90: /* CIL Label */ 
        {
#line 2093
        s ++;
#line 2093
        t = get_strarg(s, & arglen);
        }
#line 2094
        if (*t) {
#line 2095
          sav = *t;
#line 2096
          *t = (char)0;
          {
#line 2097
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 2097
            s ++;
#line 2097
            if (! *s) {
#line 2097
              goto while_break___1;
            }
            {
#line 2099
            if ((int )*s == 99) {
#line 2099
              goto case_99___1;
            }
#line 2104
            if ((int )*s == 67) {
#line 2104
              goto case_67___0;
            }
#line 2109
            if ((int )*s == 110) {
#line 2109
              goto case_110___0;
            }
#line 2114
            goto switch_default___0;
            case_99___1: /* CIL Label */ 
#line 2101
            shsplit |= 4;
#line 2102
            goto switch_break___1;
            case_67___0: /* CIL Label */ 
#line 2106
            shsplit |= 8;
#line 2107
            goto switch_break___1;
            case_110___0: /* CIL Label */ 
#line 2111
            shsplit |= 16;
#line 2112
            goto switch_break___1;
            switch_default___0: /* CIL Label */ 
#line 2115
            *t = sav;
#line 2116
            goto flagerr;
            switch_break___1: /* CIL Label */ ;
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 2119
          *t = sav;
#line 2120
          s = (t + arglen) - 1;
        } else {
#line 2122
          goto flagerr;
        }
#line 2123
        goto switch_break;
        case_117: /* CIL Label */ 
#line 2126
        unique = 1;
#line 2127
        goto switch_break;
        case_neg_124: /* CIL Label */ 
        case_35: /* CIL Label */ 
#line 2131
        evalchar = 1;
#line 2132
        goto switch_break;
        case_95: /* CIL Label */ 
        {
#line 2135
        s ++;
#line 2135
        t = get_strarg(s, & arglen);
        }
#line 2136
        if (*t) {
#line 2137
          sav = *t;
#line 2138
          *t = (char)0;
          {
#line 2139
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2139
            s ++;
#line 2139
            if (! *s) {
#line 2139
              goto while_break___2;
            }
            {
#line 2142
            goto switch_default___1;
            switch_default___1: /* CIL Label */ 
#line 2143
            *t = sav;
#line 2144
            goto flagerr;
            switch_break___2: /* CIL Label */ ;
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 2147
          *t = sav;
#line 2148
          s = (t + arglen) - 1;
        } else {
#line 2150
          goto flagerr;
        }
#line 2151
        goto switch_break;
        flagerr: 
        switch_default___2: /* CIL Label */ 
        {
#line 2155
        zerr("error in flags");
        }
#line 2156
        return ((LinkNode )((void *)0));
        switch_break: /* CIL Label */ ;
        }
#line 1813
        s ++;
#line 1813
        tt = 0;
      }
      while_break: /* CIL Label */ ;
      }
#line 2159
      s ++;
    }
  }
#line 2167
  if (! premul) {
#line 2168
    premul = (char *)" ";
  }
#line 2169
  if (! postmul) {
#line 2170
    postmul = (char *)" ";
  }
  {
#line 2177
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 2178
    c = *s;
#line 2178
    if ((int )c == 94) {
#line 2178
      goto _L___18;
    } else
#line 2178
    if ((int )c == -122) {
      _L___18: /* CIL Label */ 
#line 2180
      s ++;
#line 2180
      c = *s;
#line 2180
      if ((int )c == 94) {
#line 2181
        plan9 = 0;
#line 2182
        s ++;
      } else
#line 2180
      if ((int )c == -122) {
#line 2181
        plan9 = 0;
#line 2182
        s ++;
      } else {
#line 2184
        plan9 = 1;
      }
    } else {
#line 2185
      c = *s;
#line 2185
      if ((int )c == 61) {
#line 2185
        goto _L___17;
      } else
#line 2185
      if ((int )c == -115) {
        _L___17: /* CIL Label */ 
#line 2187
        s ++;
#line 2187
        c = *s;
#line 2187
        if ((int )c == 61) {
#line 2187
          goto _L___4;
        } else
#line 2187
        if ((int )c == -115) {
          _L___4: /* CIL Label */ 
#line 2188
          spbreak = 0;
#line 2189
          if (nojoin < 2) {
#line 2190
            nojoin = 0;
          }
#line 2191
          s ++;
        } else {
#line 2193
          spbreak = 2;
#line 2194
          if (nojoin < 2) {
#line 2195
            if (ifs) {
#line 2195
              if (*ifs) {
#line 2195
                tmp___8 = 0;
              } else {
#line 2195
                tmp___8 = 1;
              }
            } else {
#line 2195
              tmp___8 = 1;
            }
#line 2195
            nojoin = tmp___8;
          }
        }
      } else
#line 2197
      if ((int )c == 35) {
#line 2197
        goto _L___16;
      } else
#line 2197
      if ((int )c == -124) {
        _L___16: /* CIL Label */ 
#line 2197
        if (inbrace) {
#line 2197
          goto _L___15;
        } else
#line 2197
        if (! opts[132]) {
          _L___15: /* CIL Label */ 
          {
#line 2197
          tmp___10 = itype_end((char const   *)(s + 1), 1 << 7, 0);
          }
#line 2197
          if ((unsigned long )tmp___10 != (unsigned long )(s + 1)) {
#line 2215
            getlen = 1 + whichlen;
#line 2215
            s ++;
          } else {
#line 2197
            cc = *(s + 1);
#line 2197
            if ((int )cc == 42) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == -121) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == 64) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == 63) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == -105) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == 36) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == -123) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == -116) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == 35) {
#line 2197
              goto _L___13;
            } else
#line 2197
            if ((int )cc == -124) {
              _L___13: /* CIL Label */ 
#line 2197
              if ((int )*(s + 2) == -112) {
#line 2215
                getlen = 1 + whichlen;
#line 2215
                s ++;
              } else {
#line 2197
                goto _L___12;
              }
            } else
            _L___12: /* CIL Label */ 
#line 2197
            if ((int )cc == 45) {
#line 2215
              getlen = 1 + whichlen;
#line 2215
              s ++;
            } else
#line 2197
            if ((int )cc == 58) {
#line 2197
              if ((int )*(s + 2) == 45) {
#line 2215
                getlen = 1 + whichlen;
#line 2215
                s ++;
              } else {
#line 2197
                goto _L___11;
              }
            } else
            _L___11: /* CIL Label */ 
#line 2197
            if ((int )cc == 36) {
#line 2197
              goto _L___10;
            } else
#line 2197
            if ((int )cc == -123) {
#line 2197
              goto _L___10;
            } else
#line 2197
            if ((int )cc == -116) {
              _L___10: /* CIL Label */ 
#line 2197
              if ((int )*(s + 2) == -113) {
#line 2215
                getlen = 1 + whichlen;
#line 2215
                s ++;
              } else
#line 2197
              if ((int )*(s + 2) == -120) {
#line 2215
                getlen = 1 + whichlen;
#line 2215
                s ++;
              } else {
#line 2197
                goto _L___14;
              }
            } else {
#line 2197
              goto _L___14;
            }
          }
        } else {
#line 2197
          goto _L___14;
        }
      } else
      _L___14: /* CIL Label */ 
#line 2223
      if ((int )c == 126) {
#line 2223
        goto _L___8;
      } else
#line 2223
      if ((int )c == -104) {
        _L___8: /* CIL Label */ 
#line 2225
        s ++;
#line 2225
        c = *s;
#line 2225
        if ((int )c == 126) {
#line 2226
          globsubst = 0;
#line 2227
          s ++;
        } else
#line 2225
        if ((int )c == -104) {
#line 2226
          globsubst = 0;
#line 2227
          s ++;
        } else {
#line 2229
          globsubst = 2;
        }
      } else
#line 2230
      if ((int )c == 43) {
        {
#line 2236
        tmp___9 = itype_end((char const   *)(s + 1), 1 << 7, 0);
        }
#line 2236
        if ((unsigned long )tmp___9 != (unsigned long )(s + 1)) {
#line 2238
          chkset = 1;
#line 2238
          s ++;
        } else
#line 2236
        if (aspar) {
#line 2236
          if ((int )*(s + 1) == 36) {
#line 2236
            goto _L___7;
          } else
#line 2236
          if ((int )*(s + 1) == -123) {
#line 2236
            goto _L___7;
          } else
#line 2236
          if ((int )*(s + 1) == -116) {
            _L___7: /* CIL Label */ 
#line 2236
            if ((int )*(s + 2) == -113) {
#line 2238
              chkset = 1;
#line 2238
              s ++;
            } else
#line 2236
            if ((int )*(s + 2) == -120) {
#line 2238
              chkset = 1;
#line 2238
              s ++;
            } else {
#line 2236
              goto _L___6;
            }
          } else {
#line 2236
            goto _L___6;
          }
        } else
        _L___6: /* CIL Label */ 
#line 2239
        if (! inbrace) {
#line 2241
          *aptr = (char )'$';
#line 2242
          *str = aptr + 1;
#line 2243
          return (n);
        } else {
          {
#line 2245
          zerr("bad substitution");
          }
#line 2246
          return ((LinkNode )((void *)0));
        }
      } else
#line 2248
      if (inbrace) {
#line 2248
        if ((int )typtab[(unsigned char )*s] & (1 << 14)) {
#line 2255
          s ++;
        } else {
#line 2257
          goto while_break___3;
        }
      } else {
#line 2257
        goto while_break___3;
      }
    }
  }
  while_break___3: /* CIL Label */ ;
  }
#line 2260
  if (qt) {
#line 2261
    globsubst = 0;
  }
#line 2274
  idbeg = s;
#line 2275
  if (inbrace) {
#line 2275
    if (*(s + -1)) {
#line 2275
      if ((int )*s == 36) {
#line 2275
        goto _L___20;
      } else
#line 2275
      if ((int )*s == -123) {
#line 2275
        goto _L___20;
      } else
#line 2275
      if ((int )*s == -116) {
        _L___20: /* CIL Label */ 
#line 2275
        if ((int )*(s + 1) == -113) {
#line 2275
          tmp___16 = 1;
        } else
#line 2275
        if ((int )*(s + 1) == -120) {
#line 2275
          tmp___16 = 1;
        } else
#line 2275
        if ((int )*(s + 1) == -119) {
#line 2275
          tmp___16 = 1;
        } else {
#line 2275
          tmp___16 = 0;
        }
      } else {
#line 2275
        tmp___16 = 0;
      }
    } else {
#line 2275
      tmp___16 = 0;
    }
  } else {
#line 2275
    tmp___16 = 0;
  }
#line 2275
  subexp = tmp___16;
#line 2275
  if (subexp) {
#line 2278
    quoted = (int )*s == -116;
#line 2281
    tmp___11 = s;
#line 2281
    s ++;
#line 2281
    val = tmp___11;
    {
#line 2283
    if ((int )*s == -113) {
#line 2283
      goto case_neg_113;
    }
#line 2286
    if ((int )*s == -120) {
#line 2286
      goto case_neg_120;
    }
#line 2289
    if ((int )*s == -119) {
#line 2289
      goto case_neg_119;
    }
#line 2292
    goto switch_default___3;
    case_neg_113: /* CIL Label */ 
#line 2284
    outtok = -112;
#line 2285
    goto switch_break___3;
    case_neg_120: /* CIL Label */ 
#line 2287
    outtok = -118;
#line 2288
    goto switch_break___3;
    case_neg_119: /* CIL Label */ 
#line 2290
    outtok = -117;
#line 2291
    goto switch_break___3;
    switch_default___3: /* CIL Label */ ;
#line 2295
    return ((LinkNode )((void *)0));
    switch_break___3: /* CIL Label */ ;
    }
    {
#line 2297
    skipparens(*s, (char )outtok, & s);
#line 2298
    sav___0 = (int )*s;
#line 2299
    *s = (char)0;
    }
#line 2307
    if (aspar) {
#line 2307
      tmp___13 = (char ***)((void *)0);
    } else {
#line 2307
      tmp___13 = & aval;
    }
    {
#line 2307
    tmp___14 = multsub(& val, 64, tmp___13, & isarr, (char *)((void *)0), & ms_flags);
    }
#line 2307
    if (tmp___14) {
#line 2307
      if (quoted) {
        {
#line 2310
        isarr = -1;
#line 2311
        tmp___12 = hcalloc(sizeof(char *));
#line 2311
        aval = (char **)tmp___12;
#line 2312
        aspar = 0;
        }
      } else {
#line 2307
        goto _L___19;
      }
    } else
    _L___19: /* CIL Label */ 
#line 2313
    if (aspar) {
#line 2314
      idbeg = val;
    }
#line 2315
    *s = (char )sav___0;
    {
#line 2320
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2320
      if (! ((int )typtab[(unsigned char )*s] & (1 << 14))) {
#line 2320
        goto while_break___4;
      }
#line 2321
      s ++;
    }
    while_break___4: /* CIL Label */ ;
    }
#line 2322
    if (ms_flags & 4) {
#line 2332
      if (isarr) {
#line 2333
        if (*(aval + 0)) {
#line 2333
          if (*(aval + 1)) {
            {
#line 2334
            zerr("parameter name reference used with array");
            }
#line 2335
            return ((LinkNode )((void *)0));
          }
        }
#line 2337
        val = *(aval + 0);
#line 2338
        isarr = 0;
      }
      {
#line 2340
      s = dyncat((char const   *)val, (char const   *)s);
#line 2342
      subexp = 0;
      }
#line 2348
      if (aspar) {
#line 2348
        if (! (pf_flags & 64)) {
#line 2348
          tmp___15 = 1;
        } else {
#line 2348
          tmp___15 = 0;
        }
      } else {
#line 2348
        tmp___15 = 0;
      }
#line 2348
      fetch_needed = tmp___15;
    } else {
#line 2350
      fetch_needed = 0;
    }
#line 2351
    v = (Value )((void *)0);
  } else {
#line 2353
    fetch_needed = aspar;
  }
#line 2354
  if (fetch_needed) {
#line 2364
    if (qt) {
#line 2364
      tmp___17 = 1 << 8;
    } else {
#line 2364
      tmp___17 = 0;
    }
    {
#line 2364
    v = fetchvalue(& vbuf, & s, 1, tmp___17);
    }
#line 2364
    if (v) {
      {
#line 2365
      idbeg = getstrvalue(v);
#line 2365
      val = idbeg;
#line 2366
      subexp = 1;
      }
    } else {
#line 2368
      vunset = 1;
    }
  }
#line 2370
  if (aspar) {
#line 2370
    if (pf_flags & 64) {
#line 2378
      aspar = 0;
#line 2379
      *ret_flags |= 4;
    }
  }
#line 2387
  if (! subexp) {
#line 2387
    goto _L___22;
  } else
#line 2387
  if (aspar) {
    _L___22: /* CIL Label */ 
#line 2388
    ov = val;
#line 2415
    if (arrasg) {
#line 2415
      tmp___18 = 1 << 6;
    } else {
#line 2415
      tmp___18 = 0;
    }
#line 2415
    if (qt) {
#line 2415
      tmp___19 = 1 << 8;
    } else {
#line 2415
      tmp___19 = 0;
    }
#line 2415
    if (wantt) {
#line 2415
      tmp___21 = -1;
    } else {
#line 2415
      if (! opts[94]) {
#line 2415
        tmp___20 = 1;
      } else
#line 2415
      if (inbrace) {
#line 2415
        tmp___20 = 1;
      } else {
#line 2415
        tmp___20 = -1;
      }
#line 2415
      tmp___21 = tmp___20;
    }
#line 2415
    if (subexp) {
#line 2415
      tmp___22 = & ov;
    } else {
#line 2415
      tmp___22 = & s;
    }
    {
#line 2415
    v = fetchvalue(& vbuf, tmp___22, tmp___21, (((int )hkeys | (int )hvals) | tmp___18) | tmp___19);
    }
#line 2415
    if (v) {
#line 2415
      if (v->pm) {
#line 2415
        if ((v->pm)->node.flags & (1 << 25)) {
#line 2423
          vunset = 1;
        } else {
#line 2415
          goto _L___21;
        }
      } else
      _L___21: /* CIL Label */ 
#line 2415
      if (v->flags & 2) {
#line 2423
        vunset = 1;
      }
    } else {
#line 2423
      vunset = 1;
    }
#line 2425
    if (wantt) {
#line 2430
      if (v) {
#line 2430
        if (v->pm) {
#line 2430
          if (! ((v->pm)->node.flags & (1 << 25))) {
#line 2431
            f = (v->pm)->node.flags;
            {
#line 2434
            if ((f & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2434
              goto case_0;
            }
#line 2435
            if ((f & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2435
              goto case_1;
            }
#line 2436
            if ((f & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2436
              goto case_exp;
            }
#line 2438
            if ((f & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2438
              goto case_exp___0;
            }
#line 2438
            if ((f & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2438
              goto case_exp___0;
            }
#line 2439
            if ((f & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 2439
              goto case_exp___2;
            }
#line 2433
            goto switch_break___4;
            case_0: /* CIL Label */ 
#line 2434
            val = (char *)"scalar";
#line 2434
            goto switch_break___4;
            case_1: /* CIL Label */ 
#line 2435
            val = (char *)"array";
#line 2435
            goto switch_break___4;
            case_exp: /* CIL Label */ 
#line 2436
            val = (char *)"integer";
#line 2436
            goto switch_break___4;
            case_exp___0: /* CIL Label */ 
            case_exp___1: /* CIL Label */ 
#line 2438
            val = (char *)"float";
#line 2438
            goto switch_break___4;
            case_exp___2: /* CIL Label */ 
#line 2439
            val = (char *)"association";
#line 2439
            goto switch_break___4;
            switch_break___4: /* CIL Label */ ;
            }
            {
#line 2441
            val = dupstring((char const   *)val);
            }
#line 2442
            if ((v->pm)->level) {
              {
#line 2443
              val = dyncat((char const   *)val, "-local");
              }
            }
#line 2444
            if (f & (1 << 5)) {
              {
#line 2445
              val = dyncat((char const   *)val, "-left");
              }
            }
#line 2446
            if (f & (1 << 6)) {
              {
#line 2447
              val = dyncat((char const   *)val, "-right_blanks");
              }
            }
#line 2448
            if (f & (1 << 7)) {
              {
#line 2449
              val = dyncat((char const   *)val, "-right_zeros");
              }
            }
#line 2450
            if (f & (1 << 8)) {
              {
#line 2451
              val = dyncat((char const   *)val, "-lower");
              }
            }
#line 2452
            if (f & (1 << 9)) {
              {
#line 2453
              val = dyncat((char const   *)val, "-upper");
              }
            }
#line 2454
            if (f & (1 << 10)) {
              {
#line 2455
              val = dyncat((char const   *)val, "-readonly");
              }
            }
#line 2456
            if (f & (1 << 11)) {
              {
#line 2457
              val = dyncat((char const   *)val, "-tag");
              }
            }
#line 2458
            if (f & (1 << 16)) {
              {
#line 2459
              val = dyncat((char const   *)val, "-tag_local");
              }
            }
#line 2460
            if (f & (1 << 12)) {
              {
#line 2461
              val = dyncat((char const   *)val, "-export");
              }
            }
#line 2462
            if (f & (1 << 13)) {
              {
#line 2463
              val = dyncat((char const   *)val, "-unique");
              }
            }
#line 2464
            if (f & (1 << 14)) {
              {
#line 2465
              val = dyncat((char const   *)val, "-hide");
              }
            }
#line 2466
            if (f & (1 << 15)) {
              {
#line 2467
              val = dyncat((char const   *)val, "-hideval");
              }
            }
#line 2468
            if (f & (1 << 22)) {
              {
#line 2469
              val = dyncat((char const   *)val, "-special");
              }
            }
#line 2470
            vunset = 0;
          } else {
            {
#line 2472
            val = dupstring("");
            }
          }
        } else {
          {
#line 2472
          val = dupstring("");
          }
        }
      } else {
        {
#line 2472
        val = dupstring("");
        }
      }
#line 2474
      v = (Value )((void *)0);
#line 2475
      isarr = 0;
    }
  }
  {
#line 2483
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 2483
    if (! v) {
#line 2483
      if (inbrace) {
#line 2483
        goto _L___23;
      } else
#line 2483
      if (! opts[94]) {
#line 2483
        if (vunset) {
          _L___23: /* CIL Label */ 
#line 2483
          if (! ((int )*s == 91)) {
#line 2483
            if (! ((int )*s == -111)) {
#line 2483
              goto while_break___5;
            }
          }
        } else {
#line 2483
          goto while_break___5;
        }
      } else {
#line 2483
        goto while_break___5;
      }
    }
#line 2484
    if (! v) {
#line 2497
      os = s;
#line 2499
      if (! ((int )*s == 91)) {
#line 2499
        if (! ((int )*s == -111)) {
#line 2500
          goto while_break___5;
        }
      }
#line 2501
      if (vunset) {
        {
#line 2502
        val = dupstring("");
#line 2503
        isarr = 0;
        }
      }
#line 2505
      if (isarr) {
#line 2505
        tmp___23 = 1;
      } else {
#line 2505
        tmp___23 = 0;
      }
      {
#line 2505
      pm = createparam(nulstring, tmp___23);
      }
#line 2507
      if (isarr) {
#line 2508
        pm->u.arr = aval;
      } else {
#line 2510
        pm->u.str = val;
      }
      {
#line 2511
      tmp___24 = hcalloc(sizeof(*v));
#line 2511
      v = (Value )tmp___24;
#line 2512
      v->isarr = isarr;
#line 2513
      v->pm = pm;
#line 2514
      v->end = -1;
      }
#line 2515
      if (qt) {
#line 2515
        tmp___25 = 1 << 8;
      } else {
#line 2515
        tmp___25 = 0;
      }
      {
#line 2515
      tmp___26 = getindex(& s, v, tmp___25);
      }
#line 2515
      if (tmp___26) {
#line 2516
        goto while_break___5;
      } else
#line 2515
      if ((unsigned long )s == (unsigned long )os) {
#line 2516
        goto while_break___5;
      }
    }
#line 2531
    isarr = v->isarr;
#line 2531
    if (isarr) {
#line 2537
      if (v->isarr == 1 << 2) {
        {
#line 2538
        tmp___27 = 0;
#line 2538
        v->isarr = tmp___27;
#line 2538
        isarr = tmp___27;
#line 2539
        val = dupstring((char const   *)(v->pm)->node.nam);
        }
      } else {
        {
#line 2541
        aval = getarrvalue(v);
        }
      }
    } else {
#line 2544
      if ((v->pm)->node.flags & 1) {
#line 2557
        tmplen = -1;
#line 2559
        if (v->start < 0) {
          {
#line 2560
          tmp___28 = (*(((v->pm)->gsu.a)->getfn))(v->pm);
#line 2560
          tmplen = arrlen(tmp___28);
          }
#line 2561
          if (v->flags & 1) {
#line 2561
            tmp___29 = 1;
          } else {
#line 2561
            tmp___29 = 0;
          }
#line 2561
          v->start += tmplen + tmp___29;
        }
#line 2563
        if (! (v->flags & 1)) {
#line 2564
          if (v->start < 0) {
#line 2568
            vunset = 1;
          } else {
#line 2564
            if (tmplen != -1) {
#line 2564
              tmp___32 = v->start >= tmplen;
            } else {
              {
#line 2564
              tmp___30 = (*(((v->pm)->gsu.a)->getfn))(v->pm);
#line 2564
              tmp___31 = arrlen_le(tmp___30, (unsigned int )v->start);
#line 2564
              tmp___32 = (int )tmp___31;
              }
            }
#line 2564
            if (tmp___32) {
#line 2568
              vunset = 1;
            }
          }
        }
      }
#line 2570
      if (! vunset) {
        {
#line 2579
        v->flags |= 4;
#line 2580
        val = getstrvalue(v);
        }
      }
    }
#line 2584
    if (v) {
#line 2584
      if (v->pm) {
#line 2584
        if ((unsigned long )(v->pm)->gsu.a == (unsigned long )(& vararray_gsu)) {
#line 2584
          if ((unsigned long )((char ***)(v->pm)->u.data) == (unsigned long )(& pparams)) {
#line 2586
            horrible_offset_hack = 1;
          } else {
#line 2588
            horrible_offset_hack = 0;
          }
        } else {
#line 2588
          horrible_offset_hack = 0;
        }
      } else {
#line 2588
        horrible_offset_hack = 0;
      }
    } else {
#line 2588
      horrible_offset_hack = 0;
    }
#line 2596
    v = (Value )((void *)0);
#line 2597
    if (! inbrace) {
#line 2598
      goto while_break___5;
    }
  }
  while_break___5: /* CIL Label */ ;
  }
#line 2608
  if (inbrace) {
#line 2608
    c = *s;
#line 2608
    if ((int )c != 45) {
#line 2608
      if ((int )c != 43) {
#line 2608
        if ((int )c != 58) {
#line 2608
          if ((int )c != 37) {
#line 2608
            if ((int )c != 47) {
#line 2608
              if ((int )c != 61) {
#line 2608
                if ((int )c != -115) {
#line 2608
                  if ((int )c != 35) {
#line 2608
                    if ((int )c != -124) {
#line 2608
                      if ((int )c != 63) {
#line 2608
                        if ((int )c != -105) {
#line 2608
                          if ((int )c != 125) {
#line 2608
                            if ((int )c != -112) {
                              {
#line 2614
                              zerr("bad substitution");
                              }
#line 2615
                              return ((LinkNode )((void *)0));
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 2641
  if (isarr) {
#line 2642
    if (nojoin) {
#line 2643
      isarr = -1;
    }
#line 2644
    if (qt) {
#line 2644
      if (! getlen) {
#line 2644
        if (isarr > 0) {
          {
#line 2645
          val = sepjoin(aval, sep, 1);
#line 2646
          isarr = 0;
          }
        }
      }
    }
  }
#line 2650
  idend = s;
#line 2651
  if (inbrace) {
    {
#line 2657
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 2657
      if (! ((int )typtab[(unsigned char )*s] & (1 << 14))) {
#line 2657
        goto while_break___6;
      }
#line 2658
      s ++;
    }
    while_break___6: /* CIL Label */ ;
    }
  }
#line 2665
  colf = (int )*s == 58;
#line 2665
  if (colf) {
#line 2666
    s ++;
  }
#line 2671
  fstr___0 = s;
#line 2672
  if (inbrace) {
#line 2674
    bct = 1;
    {
#line 2674
    while (1) {
      while_continue___7: /* CIL Label */ ;
#line 2674
      c = *fstr___0;
#line 2674
      if (! c) {
#line 2674
        goto while_break___7;
      }
#line 2675
      if ((int )c == -113) {
#line 2676
        bct ++;
      } else
#line 2677
      if ((int )c == -112) {
#line 2677
        bct --;
#line 2677
        if (! bct) {
#line 2678
          goto while_break___7;
        }
      }
#line 2674
      fstr___0 ++;
    }
    while_break___7: /* CIL Label */ ;
    }
#line 2681
    if (bct) {
      noclosebrace: 
      {
#line 2683
      zerr("closing brace expected");
      }
#line 2684
      return ((LinkNode )((void *)0));
    }
#line 2686
    if (c) {
#line 2687
      tmp___33 = fstr___0;
#line 2687
      fstr___0 ++;
#line 2687
      *tmp___33 = (char )'\000';
    }
  }
#line 2693
  if (inbrace) {
#line 2693
    c = *s;
#line 2693
    if ((int )c == 45) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == 43) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == 58) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == 61) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == -115) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == 37) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == 35) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == -124) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == 63) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == -105) {
#line 2693
      goto _L___38;
    } else
#line 2693
    if ((int )c == 47) {
      _L___38: /* CIL Label */ 
#line 2707
      if (! flnum) {
#line 2708
        flnum ++;
      }
#line 2709
      if ((int )c == 37) {
#line 2710
        flags |= 1;
      }
#line 2713
      if ((int )c == 37) {
#line 2713
        goto _L___24;
      } else
#line 2713
      if ((int )c == 35) {
#line 2713
        goto _L___24;
      } else
#line 2713
      if ((int )c == -124) {
        _L___24: /* CIL Label */ 
#line 2713
        if ((int )c == (int )*(s + 1)) {
#line 2714
          s ++;
#line 2716
          flags |= 2;
        }
      }
#line 2718
      s ++;
#line 2719
      if ((int )*(s + -1) == 47) {
#line 2725
        if (flags & 4) {
#line 2725
          flags = 0;
        } else {
#line 2725
          flags = 2;
        }
#line 2726
        c = *s;
#line 2726
        if ((int )c == 47) {
#line 2728
          flags |= 512;
#line 2729
          s ++;
#line 2729
          c = *s;
        }
#line 2732
        if ((int )c == 35) {
#line 2738
          flags |= 4096;
#line 2739
          s ++;
        } else
#line 2732
        if ((int )c == -124) {
#line 2738
          flags |= 4096;
#line 2739
          s ++;
        }
#line 2741
        if ((int )*s == 37) {
#line 2743
          flags |= 1;
#line 2744
          s ++;
        }
#line 2746
        if (! (flags & 4097)) {
#line 2748
          flags |= 4;
        }
#line 2759
        ptr___0 = s;
        {
#line 2759
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 2759
          c = *ptr___0;
#line 2759
          if (c) {
#line 2759
            if (! ((int )c != 47)) {
#line 2759
              goto while_break___8;
            }
          } else {
#line 2759
            goto while_break___8;
          }
#line 2761
          if ((int )c == -97) {
#line 2761
            goto _L___25;
          } else
#line 2761
          if ((int )c == -96) {
#line 2761
            goto _L___25;
          } else
#line 2761
          if ((int )c == 92) {
            _L___25: /* CIL Label */ 
#line 2761
            if (*(ptr___0 + 1)) {
#line 2763
              if ((int )*(ptr___0 + 1) == 47) {
                {
#line 2764
                chuck(ptr___0);
                }
              } else {
#line 2766
                ptr___0 ++;
              }
            }
          }
#line 2759
          ptr___0 ++;
        }
        while_break___8: /* CIL Label */ ;
        }
#line 2769
        if (*ptr___0) {
#line 2769
          if (*(ptr___0 + 1)) {
#line 2769
            replstr = ptr___0 + 1;
          } else {
#line 2769
            replstr = (char *)"";
          }
        } else {
#line 2769
          replstr = (char *)"";
        }
#line 2770
        *ptr___0 = (char )'\000';
      }
#line 2774
      if (colf) {
#line 2775
        flags |= 256;
      }
#line 2781
      if (! (flags & 248)) {
#line 2782
        flags |= 16;
      }
#line 2789
      if (colf) {
#line 2789
        if (! vunset) {
#line 2790
          if (isarr) {
#line 2790
            vunset = ! *aval;
          } else {
#line 2790
            if (! *val) {
#line 2790
              tmp___34 = 1;
            } else
#line 2790
            if ((int )*val == -95) {
#line 2790
              if (! *(val + 1)) {
#line 2790
                tmp___34 = 1;
              } else {
#line 2790
                tmp___34 = 0;
              }
            } else {
#line 2790
              tmp___34 = 0;
            }
#line 2790
            vunset = tmp___34;
          }
#line 2791
          vunset *= -1;
        }
      }
      {
#line 2795
      if ((int )*(s + -1) == 43) {
#line 2795
        goto case_43;
      }
#line 2804
      if ((int )*(s + -1) == 45) {
#line 2804
        goto case_45;
      }
#line 2836
      if ((int )*(s + -1) == 58) {
#line 2836
        goto case_58;
      }
#line 2844
      if ((int )*(s + -1) == -115) {
#line 2844
        goto case_neg_115;
      }
#line 2844
      if ((int )*(s + -1) == 61) {
#line 2844
        goto case_neg_115;
      }
#line 2924
      if ((int )*(s + -1) == -105) {
#line 2924
        goto case_neg_105;
      }
#line 2924
      if ((int )*(s + -1) == 63) {
#line 2924
        goto case_neg_105;
      }
#line 2954
      if ((int )*(s + -1) == 47) {
#line 2954
        goto case_47;
      }
#line 2954
      if ((int )*(s + -1) == -124) {
#line 2954
        goto case_47;
      }
#line 2954
      if ((int )*(s + -1) == 35) {
#line 2954
        goto case_47;
      }
#line 2954
      if ((int )*(s + -1) == 37) {
#line 2954
        goto case_47;
      }
#line 2794
      goto switch_break___5;
      case_43: /* CIL Label */ 
#line 2796
      if (vunset) {
        {
#line 2797
        val = dupstring("");
#line 2798
        copied = 1;
#line 2799
        isarr = 0;
        }
#line 2800
        goto switch_break___5;
      }
#line 2802
      vunset = 1;
      case_45: /* CIL Label */ 
#line 2805
      if (vunset) {
        {
#line 2807
        val = dupstring((char const   *)s);
        }
#line 2815
        if (spbreak) {
#line 2816
          split_flags = 16;
#line 2817
          if (! aspar) {
#line 2818
            split_flags |= 8;
          }
        } else {
#line 2825
          split_flags = 32;
        }
#line 2827
        if (aspar) {
#line 2827
          tmp___35 = (char ***)((void *)0);
        } else {
#line 2827
          tmp___35 = & aval;
        }
        {
#line 2827
        multsub(& val, split_flags, tmp___35, & isarr, (char *)((void *)0), & ms_flags);
#line 2829
        copied = 1;
#line 2830
        spbreak = 0;
        }
#line 2832
        if (globsubst != 2) {
#line 2833
          globsubst = 0;
        }
      }
#line 2835
      goto switch_break___5;
      case_58: /* CIL Label */ 
#line 2838
      if ((int )*s != 61) {
#line 2838
        if ((int )*s != -115) {
#line 2839
          goto noclosebrace;
        }
      }
#line 2840
      vunset = 1;
#line 2841
      s ++;
      case_neg_115: /* CIL Label */ 
      case_61: /* CIL Label */ 
#line 2845
      if (vunset) {
        {
#line 2846
        sav___1 = *idend;
#line 2849
        *idend = (char )'\000';
#line 2850
        val = dupstring((char const   *)s);
        }
#line 2851
        if (spsep) {
#line 2851
          goto _L___26;
        } else
#line 2851
        if (! arrasg) {
          _L___26: /* CIL Label */ 
#line 2855
          if (spbreak) {
#line 2855
            tmp___36 = 4;
          } else {
#line 2855
            tmp___36 = 32;
          }
          {
#line 2855
          multsub(& val, tmp___36, (char ***)((void *)0), & isarr, (char *)((void *)0),
                  & ms_flags);
          }
        } else {
#line 2859
          if (spbreak) {
#line 2860
            split_flags___0 = 24;
          } else {
#line 2862
            split_flags___0 = 32;
          }
          {
#line 2863
          multsub(& val, split_flags___0, & aval, & isarr, (char *)((void *)0), & ms_flags);
#line 2865
          spbreak = 0;
          }
        }
#line 2867
        if (arrasg) {
#line 2870
          if (spsep) {
#line 2870
            goto _L___27;
          } else
#line 2870
          if (spbreak) {
            _L___27: /* CIL Label */ 
            {
#line 2871
            aval = sepsplit(val, spsep, 0, 1);
            }
#line 2872
            if (nojoin) {
#line 2872
              isarr = 1;
            } else {
#line 2872
              isarr = 2;
            }
            {
#line 2873
            l___0 = arrlen(aval);
            }
#line 2874
            if (l___0) {
#line 2874
              if (! *(*(aval + (l___0 - 1)))) {
#line 2875
                l___0 --;
              }
            }
#line 2876
            if (l___0) {
#line 2876
              if (! *(*aval)) {
#line 2877
                l___0 --;
#line 2877
                t___0 = aval + 1;
              } else {
#line 2879
                t___0 = aval;
              }
            } else {
#line 2879
              t___0 = aval;
            }
          } else
#line 2880
          if (! isarr) {
#line 2881
            if (! *val) {
#line 2881
              if (arrasg > 1) {
#line 2882
                arr[0] = (char *)((void *)0);
#line 2883
                l___0 = 0;
              } else {
#line 2885
                arr[0] = val;
#line 2886
                arr[1] = (char *)((void *)0);
#line 2887
                l___0 = 1;
              }
            } else {
#line 2885
              arr[0] = val;
#line 2886
              arr[1] = (char *)((void *)0);
#line 2887
              l___0 = 1;
            }
#line 2889
            aval = arr;
#line 2889
            t___0 = aval;
          } else {
            {
#line 2891
            l___0 = arrlen(aval);
#line 2891
            t___0 = aval;
            }
          }
          {
#line 2892
          tmp___37 = zalloc(sizeof(char *) * (unsigned long )(l___0 + 1));
#line 2892
          a = (char **)tmp___37;
#line 2892
          p = a;
          }
          {
#line 2893
          while (1) {
            while_continue___9: /* CIL Label */ ;
#line 2893
            tmp___40 = l___0;
#line 2893
            l___0 --;
#line 2893
            if (! tmp___40) {
#line 2893
              goto while_break___9;
            }
            {
#line 2894
            untokenize(*t___0);
#line 2895
            tmp___38 = p;
#line 2895
            p ++;
#line 2895
            tmp___39 = t___0;
#line 2895
            t___0 ++;
#line 2895
            *tmp___38 = ztrdup((char const   *)*tmp___39);
            }
          }
          while_break___9: /* CIL Label */ ;
          }
#line 2897
          tmp___41 = p;
#line 2897
          p ++;
#line 2897
          *tmp___41 = (char *)((void *)0);
#line 2898
          if (arrasg > 1) {
            {
#line 2899
            tmp___42 = sethparam(idbeg, a);
#line 2899
            pm___0 = tmp___42;
            }
#line 2900
            if (pm___0) {
              {
#line 2901
              tmp___43 = (*((pm___0->gsu.h)->getfn))(pm___0);
#line 2901
              aval = paramvalarr(tmp___43, (int )hkeys | (int )hvals);
              }
            }
          } else {
            {
#line 2903
            setaparam(idbeg, a);
            }
          }
#line 2904
          isarr = 1;
        } else {
          {
#line 2906
          untokenize(val);
#line 2907
          tmp___44 = ztrdup((char const   *)val);
#line 2907
          setsparam(idbeg, tmp___44);
          }
        }
#line 2909
        *idend = sav___1;
#line 2910
        copied = 1;
#line 2911
        if (isarr) {
#line 2912
          if (nojoin) {
#line 2913
            isarr = -1;
          }
#line 2914
          if (qt) {
#line 2914
            if (! getlen) {
#line 2914
              if (isarr > 0) {
#line 2914
                if (! spsep) {
#line 2914
                  if (spbreak < 2) {
                    {
#line 2915
                    val = sepjoin(aval, sep, 1);
#line 2916
                    isarr = 0;
                    }
                  }
                }
              }
            }
          }
#line 2918
          spsep = (char *)((void *)0);
#line 2918
          sep = spsep;
#line 2919
          spbreak = 0;
        }
      }
#line 2922
      goto switch_break___5;
      case_neg_105: /* CIL Label */ 
      case_63: /* CIL Label */ 
#line 2925
      if (vunset) {
#line 2926
        if (opts[51]) {
#line 2927
          *idend = (char )'\000';
#line 2928
          if (*s) {
#line 2928
            tmp___45 = (char const   *)s;
          } else {
#line 2928
            tmp___45 = "parameter not set";
          }
          {
#line 2928
          zerr("%s: %s", idbeg, tmp___45);
#line 2935
          errflag |= 4;
          }
#line 2936
          if (! opts[92]) {
            {
#line 2937
            tmp___46 = getpid();
            }
#line 2937
            if (mypid == (zlong )tmp___46) {
              {
#line 2942
              stopmsg = 1;
#line 2943
              zexit(1, 0);
              }
            } else {
              {
#line 2945
              _exit(1);
              }
            }
          }
        }
#line 2948
        return ((LinkNode )((void *)0));
      }
#line 2950
      goto switch_break___5;
      case_47: /* CIL Label */ 
      case_neg_124___0: /* CIL Label */ 
      case_35___0: /* CIL Label */ 
      case_37___0: /* CIL Label */ 
#line 2963
      one = noerrs;
#line 2963
      oef = errflag;
#line 2965
      if (! quoteerr) {
#line 2966
        noerrs = 1;
      }
      {
#line 2967
      haserr = parse_subst_string(s);
#line 2968
      noerrs = one;
      }
#line 2969
      if (! quoteerr) {
#line 2971
        errflag = oef | (errflag & 2);
#line 2972
        if (haserr) {
          {
#line 2973
          shtokenize(s);
          }
        }
      } else
#line 2974
      if (haserr) {
        {
#line 2975
        zerr("parse error in ${...%c...} substitution", (int )*(s + -1));
        }
#line 2976
        return ((LinkNode )((void *)0));
      } else
#line 2974
      if (errflag) {
        {
#line 2975
        zerr("parse error in ${...%c...} substitution", (int )*(s + -1));
        }
#line 2976
        return ((LinkNode )((void *)0));
      }
      {
#line 3003
      singsub(& s);
      }
#line 3013
      if (! vunset) {
#line 3013
        if (isarr) {
#line 3015
          if (! copied) {
            {
#line 3016
            aval = arrdup(aval);
#line 3017
            copied = 1;
            }
          }
#line 3019
          ap = aval;
          {
#line 3019
          while (1) {
            while_continue___10: /* CIL Label */ ;
#line 3019
            if (! *ap) {
#line 3019
              goto while_break___10;
            }
            {
#line 3020
            untokenize(*ap);
#line 3019
            ap ++;
            }
          }
          while_break___10: /* CIL Label */ ;
          }
          {
#line 3022
          getmatcharr(& aval, s, flags, flnum, replstr);
          }
        } else {
#line 3013
          goto _L___28;
        }
      } else {
        _L___28: /* CIL Label */ 
#line 3024
        if (vunset) {
#line 3025
          if (vunset > 0) {
#line 3025
            if (! opts[171]) {
              {
#line 3026
              *idend = (char )'\000';
#line 3027
              zerr("%s: parameter not set", idbeg);
              }
#line 3028
              return ((LinkNode )((void *)0));
            }
          }
          {
#line 3030
          val = dupstring("");
          }
        }
#line 3032
        if (! copied) {
          {
#line 3033
          val = dupstring((char const   *)val);
#line 3034
          copied = 1;
#line 3035
          untokenize(val);
          }
        }
        {
#line 3037
        getmatch(& val, s, flags, flnum, replstr);
        }
      }
#line 3039
      goto switch_break___5;
      switch_break___5: /* CIL Label */ ;
      }
    } else {
#line 2693
      goto _L___37;
    }
  } else
  _L___37: /* CIL Label */ 
#line 3041
  if (inbrace) {
#line 3041
    if ((int )*s == 94) {
#line 3041
      goto _L___36;
    } else
#line 3041
    if ((int )*s == -122) {
      _L___36: /* CIL Label */ 
#line 3043
      shortest = 1;
#line 3044
      s ++;
#line 3045
      if ((int )*s == 94) {
#line 3046
        shortest = 0;
#line 3047
        s ++;
      } else
#line 3045
      if ((int )*s == -122) {
#line 3046
        shortest = 0;
#line 3047
        s ++;
      }
      {
#line 3049
      tmp___47 = itype_end((char const   *)s, 1 << 7, 0);
      }
#line 3049
      if (*tmp___47) {
        {
#line 3050
        untokenize(s);
#line 3051
        zerr("not an identifier: %s", s);
        }
#line 3052
        return ((LinkNode )((void *)0));
      }
#line 3054
      if (vunset) {
#line 3055
        if (vunset > 0) {
#line 3055
          if (! opts[171]) {
            {
#line 3056
            *idend = (char )'\000';
#line 3057
            zerr("%s: parameter not set", idbeg);
            }
#line 3058
            return ((LinkNode )((void *)0));
          }
        }
        {
#line 3060
        val = dupstring("");
        }
      } else {
        {
#line 3063
        zip = getaparam(s);
        }
#line 3064
        if (! zip) {
          {
#line 3065
          sval = getsparam(s);
          }
#line 3066
          if (sval) {
            {
#line 3067
            zip = hmkarray(sval);
            }
          }
        }
#line 3069
        if (! isarr) {
          {
#line 3069
          aval = mkarray(val);
          }
        }
#line 3070
        if (zip) {
          {
#line 3072
          i = 0;
#line 3073
          alen = arrlen(aval);
#line 3074
          ziplen = arrlen(zip);
          }
#line 3075
          if (shortest ^ (alen > ziplen)) {
#line 3075
            outlen = alen;
          } else {
#line 3075
            outlen = ziplen;
          }
#line 3076
          if (! shortest) {
#line 3076
            if (alen == 0) {
#line 3076
              goto _L___30;
            } else
#line 3076
            if (ziplen == 0) {
              _L___30: /* CIL Label */ 
#line 3077
              if (ziplen) {
                {
#line 3078
                aval = arrdup(zip);
                }
              }
            } else {
#line 3076
              goto _L___29;
            }
          } else {
            _L___29: /* CIL Label */ 
            {
#line 3080
            tmp___48 = zhalloc(sizeof(char *) * (unsigned long )(2 * outlen + 1));
#line 3080
            out = (char **)tmp___48;
            }
            {
#line 3081
            while (1) {
              while_continue___11: /* CIL Label */ ;
#line 3081
              if (! (i < outlen)) {
#line 3081
                goto while_break___11;
              }
#line 3082
              if (copied) {
#line 3083
                *(out + i * 2) = *(aval + i % alen);
              } else {
                {
#line 3085
                *(out + i * 2) = dupstring((char const   *)*(aval + i % alen));
                }
              }
              {
#line 3086
              *(out + (i * 2 + 1)) = dupstring((char const   *)*(zip + i % ziplen));
#line 3087
              i ++;
              }
            }
            while_break___11: /* CIL Label */ ;
            }
#line 3089
            *(out + i * 2) = (char *)((void *)0);
#line 3090
            aval = out;
#line 3091
            copied = 1;
#line 3092
            isarr = 1;
          }
        } else {
#line 3095
          if (! opts[171]) {
            {
#line 3096
            zerr("%s: parameter not set", s);
            }
#line 3097
            return ((LinkNode )((void *)0));
          }
          {
#line 3099
          val = dupstring("");
          }
        }
      }
    } else {
#line 3041
      goto _L___35;
    }
  } else
  _L___35: /* CIL Label */ 
#line 3102
  if (inbrace) {
#line 3102
    if ((int )*s == 124) {
#line 3102
      goto _L___34;
    } else
#line 3102
    if ((int )*s == -114) {
#line 3102
      goto _L___34;
    } else
#line 3102
    if ((int )*s == 42) {
#line 3102
      goto _L___34;
    } else
#line 3102
    if ((int )*s == -121) {
      _L___34: /* CIL Label */ 
#line 3104
      if ((int )*s == 42) {
#line 3104
        tmp___49 = 1;
      } else
#line 3104
      if ((int )*s == -121) {
#line 3104
        tmp___49 = 1;
      } else {
#line 3104
        tmp___49 = 0;
      }
      {
#line 3104
      intersect = tmp___49;
#line 3106
      s ++;
#line 3107
      tmp___50 = itype_end((char const   *)s, 1 << 7, 0);
      }
#line 3107
      if (*tmp___50) {
        {
#line 3108
        untokenize(s);
#line 3109
        zerr("not an identifier: %s", s);
        }
#line 3110
        return ((LinkNode )((void *)0));
      }
      {
#line 3112
      compare = getaparam(s);
      }
#line 3113
      if (compare) {
        {
#line 3114
        tmp___51 = arrlen(compare);
#line 3114
        tmp___52 = newuniqtable((zlong )(tmp___51 + 1));
#line 3114
        ht = tmp___52;
#line 3116
        ap___0 = compare;
        }
        {
#line 3116
        while (1) {
          while_continue___12: /* CIL Label */ ;
#line 3116
          if (! *ap___0) {
#line 3116
            goto while_break___12;
          }
          {
#line 3117
          tmp___53 = zhalloc(sizeof(struct hashnode ));
#line 3117
          addhashnode2(ht, *ap___0, (void *)((HashNode )tmp___53));
#line 3116
          ap___0 ++;
          }
        }
        while_break___12: /* CIL Label */ ;
        }
#line 3119
        if (! vunset) {
#line 3119
          if (isarr) {
#line 3120
            if (! copied) {
              {
#line 3121
              aval = arrdup(aval);
#line 3122
              copied = 1;
              }
            }
#line 3124
            apsrc = aval;
#line 3124
            ap___0 = apsrc;
            {
#line 3124
            while (1) {
              while_continue___13: /* CIL Label */ ;
#line 3124
              if (! *apsrc) {
#line 3124
                goto while_break___13;
              }
              {
#line 3125
              untokenize(*apsrc);
#line 3126
              tmp___54 = gethashnode2(ht, (char const   *)*apsrc);
#line 3126
              present = (unsigned long )tmp___54 != (unsigned long )((void *)0);
              }
#line 3127
              if (intersect) {
#line 3127
                tmp___55 = present;
              } else {
#line 3127
                tmp___55 = ! present;
              }
#line 3127
              if (tmp___55) {
#line 3128
                if ((unsigned long )ap___0 != (unsigned long )apsrc) {
#line 3129
                  *ap___0 = *apsrc;
                }
#line 3131
                ap___0 ++;
              }
#line 3124
              apsrc ++;
            }
            while_break___13: /* CIL Label */ ;
            }
#line 3134
            *ap___0 = (char *)((void *)0);
          } else {
#line 3119
            goto _L___31;
          }
        } else
        _L___31: /* CIL Label */ 
#line 3136
        if (vunset) {
#line 3137
          if (vunset > 0) {
#line 3137
            if (! opts[171]) {
              {
#line 3138
              *idend = (char )'\000';
#line 3139
              zerr("%s: parameter not set", idbeg);
#line 3140
              deletehashtable(ht);
              }
#line 3141
              return ((LinkNode )((void *)0));
            }
          }
          {
#line 3143
          val = dupstring("");
          }
        } else {
          {
#line 3145
          tmp___56 = gethashnode2(ht, (char const   *)val);
#line 3145
          present = (unsigned long )tmp___56 != (unsigned long )((void *)0);
          }
#line 3146
          if (intersect) {
#line 3146
            tmp___57 = ! present;
          } else {
#line 3146
            tmp___57 = present;
          }
#line 3146
          if (tmp___57) {
            {
#line 3147
            val = dupstring("");
            }
          }
        }
        {
#line 3150
        deletehashtable(ht);
        }
      } else
#line 3151
      if (intersect) {
#line 3157
        if (! vunset) {
#line 3158
          if (isarr) {
            {
#line 3159
            aval = hmkarray((char *)((void *)0));
            }
          } else {
            {
#line 3161
            val = dupstring("");
            }
          }
        }
      }
#line 3165
      if (vunset) {
#line 3166
        if (vunset > 0) {
#line 3166
          if (! opts[171]) {
            {
#line 3167
            *idend = (char )'\000';
#line 3168
            zerr("%s: parameter not set", idbeg);
            }
#line 3169
            return ((LinkNode )((void *)0));
          }
        }
        {
#line 3171
        val = dupstring("");
        }
      }
    } else {
#line 3102
      goto _L___33;
    }
  } else {
    _L___33: /* CIL Label */ 
#line 3179
    if (chkset) {
#line 3180
      if (vunset) {
#line 3180
        tmp___58 = "0";
      } else {
#line 3180
        tmp___58 = "1";
      }
      {
#line 3180
      val = dupstring(tmp___58);
#line 3181
      isarr = 0;
      }
    } else
#line 3182
    if (vunset) {
#line 3183
      if (vunset > 0) {
#line 3183
        if (! opts[171]) {
          {
#line 3184
          *idend = (char )'\000';
#line 3185
          zerr("%s: parameter not set", idbeg);
          }
#line 3186
          return ((LinkNode )((void *)0));
        }
      }
      {
#line 3188
      val = dupstring("");
      }
    }
#line 3190
    if (colf) {
#line 3190
      if (inbrace) {
        {
#line 3198
        tmp___59 = check_colon_subscript(s, & check_offset2);
#line 3198
        check_offset = tmp___59;
        }
#line 3199
        if (check_offset) {
          {
#line 3200
          tmp___60 = mathevali(check_offset);
#line 3200
          offset = tmp___60;
#line 3201
          length = (zlong )0;
#line 3202
          length_set = 0;
#line 3203
          offset_hack_argzero = 0;
          }
#line 3204
          if (errflag) {
#line 3205
            return ((LinkNode )((void *)0));
          }
#line 3206
          if (*check_offset2) {
#line 3206
            if ((int )*check_offset2 != 58) {
              {
#line 3207
              zerr("invalid subscript: %s", check_offset);
              }
#line 3208
              return ((LinkNode )((void *)0));
            }
          }
#line 3210
          if (*check_offset2) {
            {
#line 3211
            check_offset = check_colon_subscript(check_offset2 + 1, & check_offset2);
            }
#line 3213
            if (*check_offset2) {
#line 3213
              if ((int )*check_offset2 != 58) {
                {
#line 3214
                zerr("invalid length: %s", check_offset);
                }
#line 3215
                return ((LinkNode )((void *)0));
              }
            }
#line 3217
            if (check_offset) {
              {
#line 3218
              length = mathevali(check_offset);
#line 3219
              length_set = 1;
              }
#line 3220
              if (errflag) {
#line 3221
                return ((LinkNode )((void *)0));
              }
            }
          }
#line 3224
          if (isarr) {
#line 3228
            if (horrible_offset_hack) {
#line 3236
              if (offset == 0L) {
#line 3237
                offset_hack_argzero = 1;
              } else
#line 3238
              if (offset > 0L) {
#line 3239
                offset --;
              }
            }
            {
#line 3243
            alen___0 = arrlen(aval);
            }
#line 3244
            if (offset < 0L) {
#line 3245
              offset += (zlong )alen___0;
#line 3246
              if (offset < 0L) {
#line 3247
                offset = (zlong )0;
              }
            }
#line 3249
            if (offset_hack_argzero) {
#line 3250
              alen___0 ++;
            }
#line 3251
            if (length_set) {
#line 3252
              if (length < 0L) {
#line 3253
                length += (zlong )alen___0 - offset;
              }
#line 3254
              if (length < 0L) {
                {
#line 3255
                zerr("substring expression: %d < %d", (int )(length + offset), (int )offset);
                }
#line 3257
                return ((LinkNode )((void *)0));
              }
            } else {
#line 3260
              length = (zlong )alen___0;
            }
#line 3261
            if (offset > (zlong )alen___0) {
#line 3262
              offset = (zlong )alen___0;
            }
#line 3263
            if (offset + length > (zlong )alen___0) {
#line 3264
              length = (zlong )alen___0 - offset;
            }
            {
#line 3265
            count = (int )length;
#line 3266
            srcptr = aval + offset;
#line 3267
            tmp___61 = zhalloc((unsigned long )(length + 1L) * sizeof(char *));
#line 3267
            dstptr = (char **)tmp___61;
#line 3267
            newarr = dstptr;
            }
#line 3269
            if (count) {
#line 3269
              if (offset_hack_argzero) {
                {
#line 3270
                tmp___62 = dstptr;
#line 3270
                dstptr ++;
#line 3270
                *tmp___62 = dupstring((char const   *)argzero);
#line 3271
                count --;
                }
              }
            }
            {
#line 3273
            while (1) {
              while_continue___14: /* CIL Label */ ;
#line 3273
              tmp___65 = count;
#line 3273
              count --;
#line 3273
              if (! tmp___65) {
#line 3273
                goto while_break___14;
              }
              {
#line 3274
              tmp___63 = dstptr;
#line 3274
              dstptr ++;
#line 3274
              tmp___64 = srcptr;
#line 3274
              srcptr ++;
#line 3274
              *tmp___63 = dupstring((char const   *)*tmp___64);
              }
            }
            while_break___14: /* CIL Label */ ;
            }
#line 3275
            *dstptr = (char *)((void *)0);
#line 3276
            aval = newarr;
          } else {
#line 3280
            if (offset < 0L) {
              {
#line 3281
              mb_charinit();
#line 3282
              sptr = val;
              }
              {
#line 3282
              while (1) {
                while_continue___15: /* CIL Label */ ;
#line 3282
                if (! *sptr) {
#line 3282
                  goto while_break___15;
                }
                {
#line 3283
                tmp___66 = mb_metacharlenconv((char const   *)sptr, (wint_t *)((void *)0));
#line 3283
                sptr += tmp___66;
#line 3284
                offset ++;
                }
              }
              while_break___15: /* CIL Label */ ;
              }
#line 3286
              if (offset < 0L) {
#line 3287
                offset = (zlong )0;
              }
            }
            {
#line 3289
            given_offset = (int )offset;
#line 3290
            mb_charinit();
            }
#line 3291
            if (length_set) {
#line 3291
              if (length < 0L) {
#line 3292
                length -= offset;
              }
            }
#line 3293
            sptr = val;
            {
#line 3293
            while (1) {
              while_continue___16: /* CIL Label */ ;
#line 3293
              if (*sptr) {
#line 3293
                if (! offset) {
#line 3293
                  goto while_break___16;
                }
              } else {
#line 3293
                goto while_break___16;
              }
              {
#line 3294
              tmp___67 = mb_metacharlenconv((char const   *)sptr, (wint_t *)((void *)0));
#line 3294
              sptr += tmp___67;
#line 3295
              offset --;
              }
            }
            while_break___16: /* CIL Label */ ;
            }
#line 3297
            if (length_set) {
#line 3298
              if (length < 0L) {
                {
#line 3299
                mb_charinit();
#line 3300
                eptr = val;
                }
                {
#line 3300
                while (1) {
                  while_continue___17: /* CIL Label */ ;
#line 3300
                  if (! *eptr) {
#line 3300
                    goto while_break___17;
                  }
                  {
#line 3301
                  tmp___68 = mb_metacharlenconv((char const   *)eptr, (wint_t *)((void *)0));
#line 3301
                  eptr += tmp___68;
#line 3302
                  length ++;
                  }
                }
                while_break___17: /* CIL Label */ ;
                }
#line 3304
                if (length < 0L) {
                  {
#line 3305
                  zerr("substring expression: %d < %d", (int )(length + (zlong )given_offset),
                       given_offset);
                  }
#line 3308
                  return ((LinkNode )((void *)0));
                }
              }
#line 3311
              eptr = sptr;
              {
#line 3311
              while (1) {
                while_continue___18: /* CIL Label */ ;
#line 3311
                if (*eptr) {
#line 3311
                  if (! length) {
#line 3311
                    goto while_break___18;
                  }
                } else {
#line 3311
                  goto while_break___18;
                }
                {
#line 3312
                tmp___69 = mb_metacharlenconv((char const   *)eptr, (wint_t *)((void *)0));
#line 3312
                eptr += tmp___69;
#line 3313
                length --;
                }
              }
              while_break___18: /* CIL Label */ ;
              }
              {
#line 3315
              val = dupstrpfx((char const   *)sptr, (int )(eptr - sptr));
              }
            } else {
              {
#line 3317
              val = dupstring((char const   *)sptr);
              }
            }
          }
#line 3320
          if (! *check_offset2) {
#line 3321
            colf = 0;
          } else {
#line 3323
            s = check_offset2 + 1;
          }
        }
      }
    }
#line 3327
    if (colf) {
#line 3332
      s --;
#line 3333
      if (! opts[94]) {
#line 3333
        goto _L___32;
      } else
#line 3333
      if (inbrace) {
        _L___32: /* CIL Label */ 
#line 3334
        if (! isarr) {
          {
#line 3335
          modify(& val, & s);
          }
        } else {
          {
#line 3338
          ap___1 = aval;
#line 3339
          tmp___70 = arrlen(aval);
#line 3339
          tmp___71 = hcalloc(sizeof(char *) * (unsigned long )(tmp___70 + 1));
#line 3339
          aval = (char **)tmp___71;
#line 3339
          pp = aval;
          }
          {
#line 3342
          while (1) {
            while_continue___19: /* CIL Label */ ;
#line 3342
            tmp___74 = ap___1;
#line 3342
            ap___1 ++;
#line 3342
            tmp___73 = *tmp___74;
#line 3342
            *pp = tmp___73;
#line 3342
            if (! tmp___73) {
#line 3342
              goto while_break___19;
            }
            {
#line 3343
            ss = s;
#line 3344
            tmp___72 = pp;
#line 3344
            pp ++;
#line 3344
            modify(tmp___72, & ss);
            }
          }
          while_break___19: /* CIL Label */ ;
          }
#line 3346
          if ((unsigned long )pp == (unsigned long )aval) {
            {
#line 3347
            t___1 = (char *)"";
#line 3348
            ss = s;
#line 3349
            modify(& t___1, & ss);
            }
          }
#line 3351
          s = ss;
        }
#line 3353
        copied = 1;
#line 3354
        if (inbrace) {
#line 3354
          if (*s) {
#line 3355
            if ((int )*s == 58) {
#line 3355
              if (! ((int )typtab[(unsigned char )*(s + 1)] & (1 << 12))) {
                {
#line 3356
                zerr("unrecognized modifier `%c\'", (int )*(s + 1));
                }
              } else {
                {
#line 3358
                zerr("unrecognized modifier");
                }
              }
            } else {
              {
#line 3358
              zerr("unrecognized modifier");
              }
            }
#line 3359
            return ((LinkNode )((void *)0));
          }
        }
      }
    }
#line 3363
    if (! inbrace) {
#line 3364
      fstr___0 = s;
    }
  }
#line 3366
  if (errflag) {
#line 3367
    return ((LinkNode )((void *)0));
  }
#line 3368
  if (evalchar) {
#line 3369
    one___0 = noerrs;
#line 3369
    oef___0 = errflag;
#line 3369
    haserr___0 = 0;
#line 3371
    if (! quoteerr) {
#line 3372
      noerrs = 1;
    }
#line 3377
    if (isarr) {
      {
#line 3380
      tmp___75 = arrlen(aval);
#line 3380
      tmp___76 = zhalloc((unsigned long )(tmp___75 + 1) * sizeof(char *));
#line 3380
      aval2 = (char **)tmp___76;
#line 3382
      avptr = aval;
#line 3382
      av2ptr = aval2;
      }
      {
#line 3382
      while (1) {
        while_continue___20: /* CIL Label */ ;
#line 3382
        if (! *avptr) {
#line 3382
          goto while_break___20;
        }
        {
#line 3385
        tmp___77 = substevalchar(*avptr);
#line 3385
        *av2ptr = tmp___77;
        }
#line 3385
        if (! tmp___77) {
#line 3386
          haserr___0 = 1;
#line 3387
          goto while_break___20;
        }
#line 3382
        avptr ++;
#line 3382
        av2ptr ++;
      }
      while_break___20: /* CIL Label */ ;
      }
#line 3390
      *av2ptr = (char *)((void *)0);
#line 3391
      aval = aval2;
    } else {
      {
#line 3394
      val = substevalchar(val);
      }
#line 3394
      if (! val) {
#line 3395
        haserr___0 = 1;
      }
    }
#line 3397
    noerrs = one___0;
#line 3398
    if (! quoteerr) {
#line 3400
      errflag = oef___0 | (errflag & 2);
    }
#line 3402
    if (haserr___0) {
#line 3403
      return ((LinkNode )((void *)0));
    } else
#line 3402
    if (errflag) {
#line 3403
      return ((LinkNode )((void *)0));
    }
#line 3404
    ms_flags = 0;
  }
#line 3413
  if (getlen) {
#line 3414
    len = 0L;
#line 3417
    if (isarr) {
#line 3419
      if (sep) {
        {
#line 3419
        tmp___78 = mb_metastrlenend(sep, 0, (char *)((void *)0));
#line 3419
        tmp___79 = tmp___78;
        }
      } else {
#line 3419
        tmp___79 = 1;
      }
#line 3419
      sl = tmp___79;
#line 3421
      if (getlen == 1) {
#line 3422
        ctr = aval;
        {
#line 3422
        while (1) {
          while_continue___21: /* CIL Label */ ;
#line 3422
          if (! *ctr) {
#line 3422
            goto while_break___21;
          }
#line 3422
          ctr ++;
#line 3422
          len ++;
        }
        while_break___21: /* CIL Label */ ;
        }
      } else
#line 3423
      if (getlen == 2) {
#line 3424
        if (*aval) {
#line 3425
          len = (long )(- sl);
#line 3425
          ctr = aval;
          {
#line 3425
          while (1) {
            while_continue___22: /* CIL Label */ ;
            {
#line 3425
            tmp___80 = mb_metastrlenend(*ctr, multi_width, (char *)((void *)0));
#line 3425
            len += (long )(sl + tmp___80);
#line 3425
            ctr ++;
            }
#line 3425
            if (! *ctr) {
#line 3425
              goto while_break___22;
            }
          }
          while_break___22: /* CIL Label */ ;
          }
        }
      } else {
#line 3430
        ctr = aval;
        {
#line 3430
        while (1) {
          while_continue___23: /* CIL Label */ ;
#line 3430
          if (! *ctr) {
#line 3430
            goto while_break___23;
          }
          {
#line 3430
          tmp___81 = wordcount(*ctr, spsep, getlen > 3);
#line 3430
          len += (long )tmp___81;
#line 3430
          ctr ++;
          }
        }
        while_break___23: /* CIL Label */ ;
        }
      }
    } else
#line 3434
    if (getlen < 3) {
      {
#line 3435
      tmp___82 = mb_metastrlenend(val, multi_width, (char *)((void *)0));
#line 3435
      len = (long )tmp___82;
      }
    } else {
      {
#line 3437
      tmp___83 = wordcount(val, spsep, getlen > 3);
#line 3437
      len = (long )tmp___83;
      }
    }
    {
#line 3440
    sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%ld",
            len);
#line 3441
    val = dupstring((char const   *)(buf___7));
#line 3442
    isarr = 0;
#line 3443
    ms_flags = 0;
    }
  }
#line 3449
  if (isarr) {
#line 3450
    l->list.flags |= 1;
  } else {
#line 3452
    l->list.flags &= -2;
  }
#line 3453
  if (isarr > 0) {
#line 3453
    if (! plan9) {
#line 3453
      if (! aval) {
        {
#line 3454
        val = dupstring("");
#line 3455
        isarr = 0;
        }
      } else
#line 3453
      if (! *(aval + 0)) {
        {
#line 3454
        val = dupstring("");
#line 3455
        isarr = 0;
        }
      } else {
#line 3453
        goto _L___40;
      }
    } else {
#line 3453
      goto _L___40;
    }
  } else
  _L___40: /* CIL Label */ 
#line 3456
  if (isarr) {
#line 3456
    if (aval) {
#line 3456
      if (*(aval + 0)) {
#line 3456
        if (! *(aval + 1)) {
#line 3461
          val = *(aval + 0);
#line 3462
          isarr = 0;
        }
      }
    }
  }
#line 3469
  if (ssub) {
#line 3469
    goto _L___42;
  } else
#line 3469
  if (spbreak) {
#line 3469
    goto _L___42;
  } else
#line 3469
  if (spsep) {
#line 3469
    goto _L___42;
  } else
#line 3469
  if (sep) {
    _L___42: /* CIL Label */ 
#line 3470
    if (! ssub) {
#line 3470
      if (spbreak) {
#line 3470
        tmp___84 = 1;
      } else
#line 3470
      if (spsep) {
#line 3470
        tmp___84 = 1;
      } else {
#line 3470
        tmp___84 = 0;
      }
    } else {
#line 3470
      tmp___84 = 0;
    }
#line 3470
    force_split = tmp___84;
#line 3471
    if (isarr) {
#line 3473
      if (nojoin == 0) {
        {
#line 3474
        val = sepjoin(aval, sep, 1);
#line 3475
        isarr = 0;
#line 3476
        ms_flags = 0;
        }
      } else
#line 3473
      if (sep) {
        {
#line 3474
        val = sepjoin(aval, sep, 1);
#line 3475
        isarr = 0;
#line 3476
        ms_flags = 0;
        }
      } else
#line 3477
      if (force_split) {
#line 3477
        if (spsep) {
#line 3477
          goto _L___41;
        } else
#line 3477
        if (nojoin == 2) {
          _L___41: /* CIL Label */ 
#line 3482
          if (nojoin == 1) {
#line 3482
            tmp___85 = (char *)((void *)0);
          } else {
#line 3482
            tmp___85 = spsep;
          }
          {
#line 3482
          val = sepjoin(aval, tmp___85, 1);
#line 3483
          isarr = 0;
          }
        }
      }
    }
#line 3486
    if (force_split) {
#line 3486
      if (! isarr) {
        {
#line 3487
        aval = sepsplit(val, spsep, 0, 1);
        }
#line 3488
        if (! aval) {
          {
#line 3489
          val = dupstring("");
          }
        } else
#line 3488
        if (! *(aval + 0)) {
          {
#line 3489
          val = dupstring("");
          }
        } else
#line 3490
        if (! *(aval + 1)) {
#line 3491
          val = *(aval + 0);
        } else
#line 3493
        if (nojoin) {
#line 3493
          isarr = 1;
        } else {
#line 3493
          isarr = 2;
        }
      }
    }
#line 3495
    if (isarr) {
#line 3496
      l->list.flags |= 1;
    } else {
#line 3498
      l->list.flags &= -2;
    }
  }
#line 3503
  if (casmod != 0) {
#line 3504
    copied = 1;
#line 3505
    if (isarr) {
      {
#line 3508
      ap___2 = aval;
#line 3509
      tmp___86 = arrlen(aval);
#line 3509
      tmp___87 = zhalloc(sizeof(char *) * (unsigned long )(tmp___86 + 1));
#line 3509
      aval = (char **)tmp___87;
#line 3509
      ap2 = aval;
      }
      {
#line 3511
      while (1) {
        while_continue___24: /* CIL Label */ ;
#line 3511
        if (! *ap___2) {
#line 3511
          goto while_break___24;
        }
        {
#line 3512
        tmp___88 = ap2;
#line 3512
        ap2 ++;
#line 3512
        tmp___89 = ap___2;
#line 3512
        ap___2 ++;
#line 3512
        *tmp___88 = casemodify(*tmp___89, casmod);
        }
      }
      while_break___24: /* CIL Label */ ;
      }
#line 3513
      tmp___90 = ap2;
#line 3513
      ap2 ++;
#line 3513
      *tmp___90 = (char *)((void *)0);
    } else {
      {
#line 3515
      val = casemodify(val, casmod);
      }
    }
  }
#line 3521
  if (getkeys >= 0) {
#line 3524
    copied = 1;
#line 3525
    if (isarr) {
      {
#line 3528
      ap___3 = aval;
#line 3529
      tmp___91 = arrlen(aval);
#line 3529
      tmp___92 = zhalloc(sizeof(char *) * (unsigned long )(tmp___91 + 1));
#line 3529
      aval = (char **)tmp___92;
#line 3530
      ap2___0 = aval;
      }
      {
#line 3530
      while (1) {
        while_continue___25: /* CIL Label */ ;
#line 3530
        if (! *ap___3) {
#line 3530
          goto while_break___25;
        }
        {
#line 3531
        *ap2___0 = getkeystring(*ap___3, & len___0, getkeys, (int *)((void *)0));
#line 3532
        *ap2___0 = metafy(*ap2___0, len___0, 1);
#line 3530
        ap___3 ++;
#line 3530
        ap2___0 ++;
        }
      }
      while_break___25: /* CIL Label */ ;
      }
#line 3534
      tmp___93 = ap2___0;
#line 3534
      ap2___0 ++;
#line 3534
      *tmp___93 = (char *)((void *)0);
    } else {
      {
#line 3536
      val = getkeystring(val, & len___0, getkeys, (int *)((void *)0));
#line 3537
      val = metafy(val, len___0, 1);
      }
    }
  }
#line 3543
  if (presc) {
#line 3544
    ops = (int )opts[143];
#line 3544
    opb = (int )opts[139];
#line 3545
    opp = (int )opts[141];
#line 3547
    if (presc < 2) {
#line 3548
      opts[141] = (char)1;
#line 3549
      opts[139] = (char)0;
#line 3549
      opts[143] = opts[139];
    }
#line 3559
    if (isarr) {
#line 3562
      if (! copied) {
        {
#line 3563
        aval = arrdup(aval);
#line 3563
        copied = 1;
        }
      }
#line 3564
      ap___4 = aval;
      {
#line 3565
      while (1) {
        while_continue___26: /* CIL Label */ ;
#line 3565
        if (! *ap___4) {
#line 3565
          goto while_break___26;
        }
        {
#line 3567
        untokenize(*ap___4);
#line 3568
        tmps = promptexpand(*ap___4, 0, (char *)((void *)0), (char *)((void *)0),
                            (unsigned int *)((void *)0));
#line 3569
        *ap___4 = dupstring((char const   *)tmps);
#line 3570
        free((void *)tmps);
#line 3565
        ap___4 ++;
        }
      }
      while_break___26: /* CIL Label */ ;
      }
    } else {
#line 3574
      if (! copied) {
        {
#line 3575
        val = dupstring((char const   *)val);
#line 3575
        copied = 1;
        }
      }
      {
#line 3576
      untokenize(val);
#line 3577
      tmps___0 = promptexpand(val, 0, (char *)((void *)0), (char *)((void *)0), (unsigned int *)((void *)0));
#line 3578
      val = dupstring((char const   *)tmps___0);
#line 3579
      free((void *)tmps___0);
      }
    }
#line 3581
    opts[143] = (char )ops;
#line 3582
    opts[139] = (char )opb;
#line 3583
    opts[141] = (char )opp;
  }
#line 3589
  if (quotemod) {
#line 3590
    pre = 0;
#line 3590
    post = 0;
#line 3592
    if (quotemod > 0) {
      {
#line 3595
      if (quotetype == 4) {
#line 3595
        goto case_4;
      }
#line 3604
      if (quotetype == 7) {
#line 3604
        goto case_7;
      }
#line 3604
      if (quotetype == 1) {
#line 3604
        goto case_7;
      }
#line 3604
      if (quotetype == 6) {
#line 3604
        goto case_7;
      }
#line 3608
      goto switch_default___4;
      case_4: /* CIL Label */ 
#line 3597
      pre = 2;
#line 3598
      post = 1;
#line 3599
      goto switch_break___6;
      case_7: /* CIL Label */ 
      case_1___0: /* CIL Label */ 
      case_6: /* CIL Label */ 
#line 3606
      goto switch_break___6;
      switch_default___4: /* CIL Label */ 
#line 3609
      post = 1;
#line 3609
      pre = post;
#line 3610
      goto switch_break___6;
      switch_break___6: /* CIL Label */ ;
      }
    }
#line 3613
    if (isarr) {
#line 3616
      if (! copied) {
        {
#line 3617
        aval = arrdup(aval);
#line 3617
        copied = 1;
        }
      }
#line 3618
      ap___5 = aval;
#line 3620
      if (quotemod > 0) {
#line 3621
        if (quotetype == 9) {
          {
#line 3622
          while (1) {
            while_continue___27: /* CIL Label */ ;
#line 3622
            if (! *ap___5) {
#line 3622
              goto while_break___27;
            }
            {
#line 3623
            *ap___5 = quotedzputs((char const   *)*ap___5, (FILE *)((void *)0));
#line 3622
            ap___5 ++;
            }
          }
          while_break___27: /* CIL Label */ ;
          }
        } else
#line 3624
        if (quotetype > 1) {
          {
#line 3628
          while (1) {
            while_continue___28: /* CIL Label */ ;
#line 3628
            if (! *ap___5) {
#line 3628
              goto while_break___28;
            }
            {
#line 3629
            tmp___94 = quotestring((char const   *)*ap___5, quotetype);
#line 3630
            tmp___95 = strlen((char const   *)tmp___94);
#line 3630
            sl___0 = (int )tmp___95;
#line 3631
            tmp___96 = zhalloc((size_t )(((pre + sl___0) + post) + 1));
#line 3631
            *ap___5 = (char *)tmp___96;
#line 3632
            strcpy((char */* __restrict  */)(*ap___5 + pre), (char const   */* __restrict  */)tmp___94);
            }
#line 3633
            if (pre) {
#line 3634
              if (quotetype != 3) {
#line 3634
                tmp___97 = (char )'\'';
              } else {
#line 3634
                tmp___97 = (char )'\"';
              }
#line 3634
              *(*(ap___5 + 0) + (pre + sl___0)) = tmp___97;
#line 3634
              *(*(ap___5 + 0) + (pre - 1)) = tmp___97;
            }
#line 3636
            *(*(ap___5 + 0) + ((pre + sl___0) + post)) = (char )'\000';
#line 3637
            if (quotetype == 4) {
#line 3638
              *(*(ap___5 + 0) + 0) = (char )'$';
            }
#line 3628
            ap___5 ++;
          }
          while_break___28: /* CIL Label */ ;
          }
        } else {
          {
#line 3641
          while (1) {
            while_continue___29: /* CIL Label */ ;
#line 3641
            if (! *ap___5) {
#line 3641
              goto while_break___29;
            }
            {
#line 3642
            *ap___5 = quotestring((char const   *)*ap___5, 8);
#line 3641
            ap___5 ++;
            }
          }
          while_break___29: /* CIL Label */ ;
          }
        }
      } else {
#line 3644
        one___1 = noerrs;
#line 3644
        oef___1 = errflag;
#line 3644
        haserr___1 = 0;
#line 3646
        if (! quoteerr) {
#line 3647
          noerrs = 1;
        }
        {
#line 3648
        while (1) {
          while_continue___30: /* CIL Label */ ;
#line 3648
          if (! *ap___5) {
#line 3648
            goto while_break___30;
          }
          {
#line 3649
          tmp___98 = parse_subst_string(*ap___5);
#line 3649
          haserr___1 |= tmp___98;
#line 3650
          remnulargs(*ap___5);
#line 3651
          untokenize(*ap___5);
#line 3648
          ap___5 ++;
          }
        }
        while_break___30: /* CIL Label */ ;
        }
#line 3653
        noerrs = one___1;
#line 3654
        if (! quoteerr) {
#line 3656
          errflag = oef___1 | (errflag & 2);
        } else
#line 3658
        if (haserr___1) {
          {
#line 3659
          zerr("parse error in parameter value");
          }
#line 3660
          return ((LinkNode )((void *)0));
        } else
#line 3658
        if (errflag) {
          {
#line 3659
          zerr("parse error in parameter value");
          }
#line 3660
          return ((LinkNode )((void *)0));
        }
      }
    } else {
#line 3664
      if (! copied) {
        {
#line 3665
        val = dupstring((char const   *)val);
#line 3665
        copied = 1;
        }
      }
#line 3666
      if (quotemod > 0) {
#line 3667
        if (quotetype == 9) {
          {
#line 3668
          val = quotedzputs((char const   *)val, (FILE *)((void *)0));
          }
        } else
#line 3669
        if (quotetype > 1) {
          {
#line 3672
          tmp___99 = quotestring((char const   *)val, quotetype);
#line 3673
          tmp___100 = strlen((char const   *)tmp___99);
#line 3673
          sl___1 = (int )tmp___100;
#line 3674
          tmp___101 = zhalloc((size_t )(((pre + sl___1) + post) + 1));
#line 3674
          val = (char *)tmp___101;
#line 3675
          strcpy((char */* __restrict  */)(val + pre), (char const   */* __restrict  */)tmp___99);
          }
#line 3676
          if (pre) {
#line 3677
            if (quotetype != 3) {
#line 3677
              tmp___102 = (char )'\'';
            } else {
#line 3677
              tmp___102 = (char )'\"';
            }
#line 3677
            *(val + (pre + sl___1)) = tmp___102;
#line 3677
            *(val + (pre - 1)) = tmp___102;
          }
#line 3679
          *(val + ((pre + sl___1) + post)) = (char )'\000';
#line 3680
          if (quotetype == 4) {
#line 3681
            *(val + 0) = (char )'$';
          }
        } else {
          {
#line 3683
          val = quotestring((char const   *)val, 8);
          }
        }
      } else {
#line 3685
        one___2 = noerrs;
#line 3685
        oef___2 = errflag;
#line 3687
        if (! quoteerr) {
#line 3688
          noerrs = 1;
        }
        {
#line 3689
        haserr___2 = parse_subst_string(val);
#line 3690
        noerrs = one___2;
        }
#line 3691
        if (! quoteerr) {
#line 3693
          errflag = oef___2 | (errflag & 2);
        } else
#line 3695
        if (haserr___2) {
          {
#line 3696
          zerr("parse error in parameter value");
          }
#line 3697
          return ((LinkNode )((void *)0));
        } else
#line 3695
        if (errflag) {
          {
#line 3696
          zerr("parse error in parameter value");
          }
#line 3697
          return ((LinkNode )((void *)0));
        }
        {
#line 3699
        remnulargs(val);
#line 3700
        untokenize(val);
        }
      }
    }
  }
#line 3708
  if (mods) {
#line 3709
    if (isarr) {
#line 3711
      if (! copied) {
        {
#line 3712
        aval = arrdup(aval);
#line 3712
        copied = 1;
        }
      }
#line 3713
      ap___6 = aval;
      {
#line 3713
      while (1) {
        while_continue___31: /* CIL Label */ ;
#line 3713
        if (! *ap___6) {
#line 3713
          goto while_break___31;
        }
#line 3714
        if (mods & 1) {
          {
#line 3715
          *ap___6 = substnamedir(*ap___6);
          }
        }
#line 3716
        if (mods & 2) {
          {
#line 3717
          *ap___6 = nicedupstring((char const   *)*ap___6);
          }
        }
#line 3713
        ap___6 ++;
      }
      while_break___31: /* CIL Label */ ;
      }
    } else {
#line 3720
      if (! copied) {
        {
#line 3721
        val = dupstring((char const   *)val);
#line 3721
        copied = 1;
        }
      }
#line 3722
      if (mods & 1) {
        {
#line 3723
        val = substnamedir(val);
        }
      }
#line 3724
      if (mods & 2) {
        {
#line 3725
        val = nicedupstring((char const   *)val);
        }
      }
    }
  }
#line 3733
  if (shsplit) {
#line 3734
    list = (LinkList )((void *)0);
#line 3736
    if (isarr) {
#line 3738
      ap___7 = aval;
      {
#line 3738
      while (1) {
        while_continue___32: /* CIL Label */ ;
#line 3738
        if (! *ap___7) {
#line 3738
          goto while_break___32;
        }
        {
#line 3739
        list = bufferwords(list, *ap___7, (int *)((void *)0), shsplit);
#line 3738
        ap___7 ++;
        }
      }
      while_break___32: /* CIL Label */ ;
      }
#line 3740
      isarr = 0;
    } else {
      {
#line 3742
      list = bufferwords((LinkList )((void *)0), val, (int *)((void *)0), shsplit);
      }
    }
#line 3744
    if (! list) {
      {
#line 3745
      val = dupstring("");
      }
    } else
#line 3744
    if (! list->list.first) {
      {
#line 3745
      val = dupstring("");
      }
    } else
#line 3746
    if (! (list->list.first)->next) {
#line 3747
      val = (char *)(list->list.first)->dat;
    } else {
      {
#line 3749
      aval = hlinklist2array(list, 0);
      }
#line 3750
      if (nojoin) {
#line 3750
        isarr = 1;
      } else {
#line 3750
        isarr = 2;
      }
#line 3751
      l->list.flags |= 1;
    }
#line 3753
    copied = 1;
  }
#line 3774
  if (ms_flags & 1) {
#line 3774
    if ((unsigned long )aptr > (unsigned long )ostr) {
      {
#line 3775
      tmp___103 = dupstrpfx((char const   *)ostr, (int )(aptr - ostr));
#line 3775
      insertlinknode(l, n, (void *)tmp___103);
#line 3775
      n = n->next;
#line 3776
      ostr = aptr;
      }
    }
  }
#line 3779
  if (ms_flags & 2) {
#line 3779
    if (*fstr___0) {
      {
#line 3780
      tmp___104 = dupstring((char const   *)fstr___0);
#line 3780
      insertlinknode(l, n, (void *)tmp___104);
#line 3781
      *fstr___0 = (char )'\000';
      }
    }
  }
#line 3783
  if (isarr) {
#line 3788
    on = n;
#line 3791
    if (unique) {
#line 3792
      if (! copied) {
        {
#line 3793
        aval = arrdup(aval);
        }
      }
      {
#line 3795
      i___0 = arrlen(aval);
      }
#line 3796
      if (i___0 > 1) {
        {
#line 3797
        zhuniqarray(aval);
        }
      }
    }
#line 3799
    if (! *(aval + 0)) {
#line 3799
      goto _L___43;
    } else
#line 3799
    if (! *(aval + 1)) {
      _L___43: /* CIL Label */ 
#line 3799
      if (! plan9) {
#line 3811
        if ((unsigned long )aptr > (unsigned long )((char *)n->dat)) {
#line 3811
          if ((int )*(aptr + -1) == -98) {
#line 3811
            if ((int )*fstr___0 == -98) {
#line 3813
              aptr --;
#line 3813
              *aptr = (char )'\000';
#line 3813
              fstr___0 ++;
            }
          }
        }
#line 3814
        if (*(aval + 0)) {
          {
#line 3814
          tmp___105 = strlen((char const   *)*(aval + 0));
#line 3814
          vallen = (int )tmp___105;
          }
        } else {
#line 3814
          vallen = 0;
        }
        {
#line 3815
        tmp___106 = strlen((char const   *)fstr___0);
#line 3815
        tmp___107 = hcalloc(((size_t )((aptr - ostr) + (long )vallen) + tmp___106) + 1UL);
#line 3815
        y = (char *)tmp___107;
#line 3816
        strcpy((char */* __restrict  */)y, (char const   */* __restrict  */)ostr);
#line 3817
        *str = y + (aptr - ostr);
        }
#line 3818
        if (vallen) {
          {
#line 3820
          strcpy((char */* __restrict  */)*str, (char const   */* __restrict  */)*(aval + 0));
#line 3821
          *str += vallen;
          }
        }
        {
#line 3823
        strcpy((char */* __restrict  */)*str, (char const   */* __restrict  */)fstr___0);
#line 3824
        n->dat = (void *)y;
        }
#line 3825
        return (n);
      }
    }
#line 3828
    if (sortit != 0) {
#line 3829
      if (! copied) {
        {
#line 3830
        aval = arrdup(aval);
        }
      }
#line 3831
      if (indord) {
#line 3832
        if (sortit & 4) {
          {
#line 3834
          tmp___108 = arrlen(aval);
#line 3834
          end = (aval + tmp___108) - 1;
#line 3834
          start = aval;
          }
          {
#line 3837
          while (1) {
            while_continue___33: /* CIL Label */ ;
#line 3837
            if (! ((unsigned long )start < (unsigned long )end)) {
#line 3837
              goto while_break___33;
            }
#line 3838
            copy = *end;
#line 3839
            tmp___109 = end;
#line 3839
            end --;
#line 3839
            *tmp___109 = *start;
#line 3840
            tmp___110 = start;
#line 3840
            start ++;
#line 3840
            *tmp___110 = copy;
          }
          while_break___33: /* CIL Label */ ;
          }
        }
      } else {
        {
#line 3851
        strmetasort(aval, sortit, (int *)((void *)0));
        }
      }
    }
#line 3854
    if (plan9) {
#line 3859
      fstr___0 --;
#line 3859
      *fstr___0 = (char)-94;
      {
#line 3860
      while (1) {
        while_continue___34: /* CIL Label */ ;
#line 3860
        tl.list.first = & __n0;
#line 3860
        tl.list.last = & __n0;
#line 3860
        tl.list.flags = 0;
#line 3860
        __n0.next = (LinkNode )((void *)0);
#line 3860
        __n0.prev = & tl.node;
#line 3860
        __n0.dat = (void *)fstr___0;
#line 3860
        goto while_break___34;
      }
      while_break___34: /* CIL Label */ ;
      }
#line 3861
      if (! eval___0) {
        {
#line 3861
        tmp___111 = stringsubst(& tl, tl.list.first, ssub, ret_flags, 0);
        }
#line 3861
        if (! tmp___111) {
#line 3862
          return ((LinkNode )((void *)0));
        }
      }
#line 3863
      *str = aptr;
#line 3864
      tn = tl.list.first;
      {
#line 3865
      while (1) {
        while_continue___35: /* CIL Label */ ;
#line 3865
        tmp___115 = aval;
#line 3865
        aval ++;
#line 3865
        x = *tmp___115;
#line 3865
        if (! x) {
#line 3865
          goto while_break___35;
        }
#line 3866
        if (prenum) {
          {
#line 3867
          x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                        multi_width);
          }
        } else
#line 3866
        if (postnum) {
          {
#line 3867
          x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                        multi_width);
          }
        }
#line 3873
        if (eval___0) {
#line 3873
          if (qt) {
#line 3873
            if (! nojoin) {
#line 3873
              tmp___112 = 1;
            } else {
#line 3873
              tmp___112 = 0;
            }
          } else {
#line 3873
            tmp___112 = 0;
          }
          {
#line 3873
          tmp___113 = subst_parse_str(& x, tmp___112, quoteerr);
          }
#line 3873
          if (tmp___113) {
#line 3874
            return ((LinkNode )((void *)0));
          }
        }
        {
#line 3875
        tmp___114 = strlen((char const   *)x);
#line 3875
        xlen = (int )tmp___114;
#line 3876
        tn = tl.list.first;
        }
        {
#line 3876
        while (1) {
          while_continue___36: /* CIL Label */ ;
#line 3876
          if (tn) {
#line 3876
            y = (char *)tn->dat;
#line 3876
            if (! ((int )*y == -94)) {
#line 3876
              goto while_break___36;
            }
          } else {
#line 3876
            goto while_break___36;
          }
          {
#line 3879
          strcatsub(& y, ostr, aptr, x, xlen, y + 1, globsubst, copied);
          }
#line 3881
          if (qt) {
#line 3881
            if (! *y) {
#line 3881
              if (isarr != 2) {
                {
#line 3882
                y = dupstring((char const   *)(nulstring));
                }
              }
            }
          }
#line 3883
          if (plan9) {
#line 3884
            n->dat = (void *)y;
#line 3884
            plan9 = 0;
          } else {
            {
#line 3886
            insertlinknode(l, n, (void *)y);
#line 3886
            n = n->next;
            }
          }
#line 3876
          tn = tn->next;
        }
        while_break___36: /* CIL Label */ ;
        }
      }
      while_break___35: /* CIL Label */ ;
      }
      {
#line 3889
      while (1) {
        while_continue___37: /* CIL Label */ ;
#line 3889
        if (! tn) {
#line 3889
          goto while_break___37;
        }
#line 3890
        y = (char *)tn->dat;
#line 3891
        if ((int )*y == -94) {
#line 3892
          goto __Cont;
        }
#line 3893
        if (qt) {
#line 3893
          if (! *y) {
#line 3893
            if (isarr != 2) {
              {
#line 3894
              y = dupstring((char const   *)(nulstring));
              }
            }
          }
        }
#line 3895
        if (plan9) {
#line 3896
          n->dat = (void *)y;
#line 3896
          plan9 = 0;
        } else {
          {
#line 3898
          insertlinknode(l, n, (void *)y);
#line 3898
          n = n->next;
          }
        }
        __Cont: /* CIL Label */ 
#line 3889
        tn = tn->next;
      }
      while_break___37: /* CIL Label */ ;
      }
#line 3900
      if (plan9) {
        {
#line 3901
        uremnode(l, n);
        }
#line 3902
        return (n);
      }
    } else {
#line 3913
      x = *(aval + 0);
#line 3914
      if (prenum) {
        {
#line 3915
        x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                      multi_width);
        }
      } else
#line 3914
      if (postnum) {
        {
#line 3915
        x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                      multi_width);
        }
      }
#line 3921
      if (eval___0) {
#line 3921
        if (qt) {
#line 3921
          if (! nojoin) {
#line 3921
            tmp___116 = 1;
          } else {
#line 3921
            tmp___116 = 0;
          }
        } else {
#line 3921
          tmp___116 = 0;
        }
        {
#line 3921
        tmp___117 = subst_parse_str(& x, tmp___116, quoteerr);
        }
#line 3921
        if (tmp___117) {
#line 3922
          return ((LinkNode )((void *)0));
        }
      }
      {
#line 3923
      tmp___118 = strlen((char const   *)x);
#line 3923
      xlen = (int )tmp___118;
#line 3924
      strcatsub(& y, ostr, aptr, x, xlen, (char *)((void *)0), globsubst, copied);
      }
#line 3925
      if (qt) {
#line 3925
        if (! *y) {
#line 3925
          if (isarr != 2) {
            {
#line 3926
            y = dupstring((char const   *)(nulstring));
            }
          }
        }
      }
#line 3927
      n->dat = (void *)y;
#line 3929
      i___0 = 1;
      {
#line 3931
      while (1) {
        while_continue___38: /* CIL Label */ ;
#line 3931
        if (! *(aval + (i___0 + 1))) {
#line 3931
          goto while_break___38;
        }
#line 3932
        tmp___119 = i___0;
#line 3932
        i___0 ++;
#line 3932
        x = *(aval + tmp___119);
#line 3933
        if (prenum) {
          {
#line 3934
          x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                        multi_width);
          }
        } else
#line 3933
        if (postnum) {
          {
#line 3934
          x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                        multi_width);
          }
        }
#line 3940
        if (eval___0) {
#line 3940
          if (qt) {
#line 3940
            if (! nojoin) {
#line 3940
              tmp___120 = 1;
            } else {
#line 3940
              tmp___120 = 0;
            }
          } else {
#line 3940
            tmp___120 = 0;
          }
          {
#line 3940
          tmp___121 = subst_parse_str(& x, tmp___120, quoteerr);
          }
#line 3940
          if (tmp___121) {
#line 3941
            return ((LinkNode )((void *)0));
          }
        }
#line 3942
        if (qt) {
#line 3942
          if (! *x) {
#line 3942
            if (isarr != 2) {
              {
#line 3943
              y = dupstring((char const   *)(nulstring));
              }
            } else {
#line 3942
              goto _L___45;
            }
          } else {
#line 3942
            goto _L___45;
          }
        } else {
          _L___45: /* CIL Label */ 
          {
#line 3945
          y = dupstring((char const   *)x);
          }
#line 3946
          if (globsubst) {
            {
#line 3947
            shtokenize(y);
            }
          }
        }
        {
#line 3949
        insertlinknode(l, n, (void *)y);
#line 3949
        n = n->next;
        }
      }
      while_break___38: /* CIL Label */ ;
      }
#line 3952
      x = *(aval + i___0);
#line 3953
      if (prenum) {
        {
#line 3954
        x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                      multi_width);
        }
      } else
#line 3953
      if (postnum) {
        {
#line 3954
        x = dopadding(x, (int )prenum, (int )postnum, preone, postone, premul, postmul,
                      multi_width);
        }
      }
#line 3960
      if (eval___0) {
#line 3960
        if (qt) {
#line 3960
          if (! nojoin) {
#line 3960
            tmp___122 = 1;
          } else {
#line 3960
            tmp___122 = 0;
          }
        } else {
#line 3960
          tmp___122 = 0;
        }
        {
#line 3960
        tmp___123 = subst_parse_str(& x, tmp___122, quoteerr);
        }
#line 3960
        if (tmp___123) {
#line 3961
          return ((LinkNode )((void *)0));
        }
      }
      {
#line 3962
      tmp___124 = strlen((char const   *)x);
#line 3962
      xlen = (int )tmp___124;
#line 3963
      *str = strcatsub(& y, aptr, aptr, x, xlen, fstr___0, globsubst, copied);
      }
#line 3964
      if (qt) {
#line 3964
        if (! *y) {
#line 3964
          if (isarr != 2) {
            {
#line 3965
            y = dupstring((char const   *)(nulstring));
            }
          }
        }
      }
      {
#line 3966
      insertlinknode(l, n, (void *)y);
#line 3966
      n = n->next;
      }
    }
#line 3975
    n = on;
#line 3975
    *str = (char *)n->dat;
  } else {
#line 3986
    x___0 = val;
#line 3987
    if (! x___0) {
#line 3990
      return ((LinkNode )((void *)0));
    }
#line 3992
    if (prenum) {
      {
#line 3993
      x___0 = dopadding(x___0, (int )prenum, (int )postnum, preone, postone, premul,
                        postmul, multi_width);
      }
    } else
#line 3992
    if (postnum) {
      {
#line 3993
      x___0 = dopadding(x___0, (int )prenum, (int )postnum, preone, postone, premul,
                        postmul, multi_width);
      }
    }
#line 3999
    if (eval___0) {
#line 3999
      if (qt) {
#line 3999
        if (! nojoin) {
#line 3999
          tmp___125 = 1;
        } else {
#line 3999
          tmp___125 = 0;
        }
      } else {
#line 3999
        tmp___125 = 0;
      }
      {
#line 3999
      tmp___126 = subst_parse_str(& x___0, tmp___125, quoteerr);
      }
#line 3999
      if (tmp___126) {
#line 4000
        return ((LinkNode )((void *)0));
      }
    }
    {
#line 4001
    tmp___127 = strlen((char const   *)x___0);
#line 4001
    xlen___0 = (int )tmp___127;
#line 4002
    *str = strcatsub(& y___0, ostr, aptr, x___0, xlen___0, fstr___0, globsubst, copied);
    }
#line 4003
    if (qt) {
#line 4003
      if (! *y___0) {
        {
#line 4004
        y___0 = dupstring((char const   *)(nulstring));
        }
      }
    }
#line 4005
    n->dat = (void *)y___0;
  }
#line 4007
  if (eval___0) {
#line 4008
    *str = (char *)n->dat;
  }
#line 4010
  return (n);
}
}
#line 4022 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *arithsubst(char *a , char **bptr , char *rest ) 
{ 
  char *s ;
  char *t ;
  char buf___7[(int )(sizeof(zlong ) * 8UL + 4UL)] ;
  char *b ;
  mnumber v ;
  char *tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  size_t tmp___2 ;
  void *tmp___3 ;
  char tmp___4 ;
  char *tmp___5 ;
  char tmp___6 ;
  char *tmp___7 ;
  void *__cil_tmp18 ;

  {
  {
#line 4025
  s = *bptr;
#line 4029
  singsub(& a);
#line 4030
  v = matheval(a);
  }
#line 4031
  if (v.type & 2) {
#line 4031
    if (! outputradix) {
      {
#line 4032
      b = convfloat_underscore(v.u.d, outputunderscore);
      }
    } else {
#line 4031
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 4034
    if (v.type & 2) {
#line 4035
      v.u.l = (zlong )v.u.d;
    }
    {
#line 4036
    b = convbase_underscore(buf___7, v.u.l, outputradix, outputunderscore);
    }
  }
  {
#line 4038
  tmp___0 = strlen((char const   *)*bptr);
#line 4038
  tmp___1 = strlen((char const   *)b);
#line 4038
  tmp___2 = strlen((char const   *)rest);
#line 4038
  tmp___3 = hcalloc(((tmp___0 + tmp___1) + tmp___2) + 1UL);
#line 4038
  tmp = (char *)tmp___3;
#line 4038
  *bptr = tmp;
#line 4038
  t = tmp;
#line 4040
  t --;
  }
  {
#line 4041
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4041
    t ++;
#line 4041
    tmp___5 = s;
#line 4041
    s ++;
#line 4041
    tmp___4 = *tmp___5;
#line 4041
    *t = tmp___4;
#line 4041
    if (! tmp___4) {
#line 4041
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4042
  t --;
  {
#line 4043
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4043
    t ++;
#line 4043
    tmp___7 = b;
#line 4043
    b ++;
#line 4043
    tmp___6 = *tmp___7;
#line 4043
    *t = tmp___6;
#line 4043
    if (! tmp___6) {
#line 4043
      goto while_break___0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 4044
  strcat((char */* __restrict  */)t, (char const   */* __restrict  */)rest);
  }
#line 4045
  return (t);
}
}
#line 4062 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
void modify(char **str , char **ptr___0 ) 
{ 
  char *ptr1 ;
  char *ptr2 ;
  char *ptr3 ;
  char *lptr ;
  char c ;
  char *test ;
  char *sep ;
  char *t ;
  char *tt ;
  char tc ;
  char *e ;
  char *copy ;
  char *all ;
  char *tmp ;
  char sav ;
  char sav1 ;
  char *ptr1end ;
  int gbal ;
  int wall ;
  int rec ;
  int al ;
  int nl___0 ;
  int charlen ;
  int dellen ;
  convchar_t del ;
  int tmp___0 ;
  convchar_t del2 ;
  int tmp___1 ;
  convchar_t del3 ;
  int tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *copy2 ;
  char *tmp___5 ;
  int one ;
  int oef ;
  char *tmp___6 ;
  char *tmp___7 ;
  size_t tmp___8 ;
  size_t tmp___9 ;
  void *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *copy2___0 ;
  char *tmp___17 ;
  int one___0 ;
  int oef___0 ;
  char *tmp___18 ;
  char *tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;

  {
#line 4070
  test = (char *)((void *)0);
#line 4072
  if ((int )*(*ptr___0) == 58) {
    {
#line 4073
    *str = dupstring((char const   *)*str);
    }
  }
  {
#line 4075
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4075
    if (! ((int )*(*ptr___0) == 58)) {
#line 4075
      goto while_break;
    }
#line 4076
    lptr = *ptr___0;
#line 4077
    (*ptr___0) ++;
#line 4078
    gbal = 0;
#line 4078
    wall = gbal;
#line 4079
    rec = 1;
#line 4080
    c = (char )'\000';
#line 4081
    sep = (char *)((void *)0);
    {
#line 4083
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4083
      if (! c) {
#line 4083
        if (! *(*ptr___0)) {
#line 4083
          goto while_break___0;
        }
      } else {
#line 4083
        goto while_break___0;
      }
      {
#line 4096
      if ((int )*(*ptr___0) == 80) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 81) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 113) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 117) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 108) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 116) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 101) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 114) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 104) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 99) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 65) {
#line 4096
        goto case_80;
      }
#line 4096
      if ((int )*(*ptr___0) == 97) {
#line 4096
        goto case_80;
      }
#line 4100
      if ((int )*(*ptr___0) == 115) {
#line 4100
        goto case_115;
      }
#line 4194
      if ((int )*(*ptr___0) == 38) {
#line 4194
        goto case_38;
      }
#line 4198
      if ((int )*(*ptr___0) == 103) {
#line 4198
        goto case_103;
      }
#line 4203
      if ((int )*(*ptr___0) == 119) {
#line 4203
        goto case_119;
      }
#line 4207
      if ((int )*(*ptr___0) == 87) {
#line 4207
        goto case_87;
      }
#line 4220
      if ((int )*(*ptr___0) == 102) {
#line 4220
        goto case_102;
      }
#line 4224
      if ((int )*(*ptr___0) == 70) {
#line 4224
        goto case_70;
      }
#line 4228
      goto switch_default;
      case_80: /* CIL Label */ 
      case_81: /* CIL Label */ 
      case_113: /* CIL Label */ 
      case_117: /* CIL Label */ 
      case_108: /* CIL Label */ 
      case_116: /* CIL Label */ 
      case_101: /* CIL Label */ 
      case_114: /* CIL Label */ 
      case_104: /* CIL Label */ 
      case_99: /* CIL Label */ 
      case_65: /* CIL Label */ 
      case_97: /* CIL Label */ 
#line 4097
      c = *(*ptr___0);
#line 4098
      goto switch_break;
      case_115: /* CIL Label */ 
      {
#line 4101
      c = *(*ptr___0);
#line 4102
      (*ptr___0) ++;
#line 4103
      ptr1 = *ptr___0;
#line 4104
      mb_charinit();
#line 4105
      charlen = mb_metacharlenconv((char const   *)ptr1, & del);
      }
#line 4107
      if (del == 4294967295U) {
#line 4108
        if ((int )*ptr1 == -125) {
#line 4108
          tmp___0 = (int )*(ptr1 + 1) ^ 32;
        } else {
#line 4108
          tmp___0 = (int )*ptr1;
        }
#line 4108
        del = (wint_t )tmp___0;
      }
#line 4110
      ptr1 += charlen;
#line 4111
      ptr2 = ptr1;
#line 4111
      charlen = 0;
      {
#line 4111
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 4111
        if (! *ptr2) {
#line 4111
          goto while_break___1;
        }
#line 4113
        if ((int )*ptr2 == -97) {
#line 4113
          goto _L;
        } else
#line 4113
        if ((int )*ptr2 == 92) {
          _L: /* CIL Label */ 
#line 4113
          if (*(ptr2 + 1)) {
#line 4115
            if ((int )*ptr2 == 92) {
#line 4116
              *ptr2 = (char)-97;
            }
#line 4117
            charlen = 2;
#line 4118
            goto __Cont;
          }
        }
        {
#line 4120
        charlen = mb_metacharlenconv((char const   *)ptr2, & del2);
        }
#line 4122
        if (del2 == 4294967295U) {
#line 4123
          if ((int )*ptr2 == -125) {
#line 4123
            tmp___1 = (int )*(ptr2 + 1) ^ 32;
          } else {
#line 4123
            tmp___1 = (int )*ptr2;
          }
#line 4123
          del2 = (wint_t )tmp___1;
        }
#line 4126
        if (del2 == del) {
#line 4127
          goto while_break___1;
        }
        __Cont: /* CIL Label */ 
#line 4111
        ptr2 += charlen;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 4129
      if (! *ptr2) {
        {
#line 4130
        zerr("bad substitution");
        }
#line 4131
        return;
      }
#line 4133
      ptr1end = ptr2;
#line 4134
      ptr2 += charlen;
#line 4135
      sav1 = *ptr1end;
#line 4136
      *ptr1end = (char )'\000';
#line 4137
      ptr3 = ptr2;
#line 4137
      charlen = 0;
      {
#line 4137
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 4137
        if (! *ptr3) {
#line 4137
          goto while_break___2;
        }
#line 4139
        if ((int )*ptr3 == -97) {
#line 4139
          goto _L___0;
        } else
#line 4139
        if ((int )*ptr3 == 92) {
          _L___0: /* CIL Label */ 
#line 4139
          if (*(ptr3 + 1)) {
#line 4141
            if ((int )*ptr3 == 92) {
#line 4142
              *ptr3 = (char)-97;
            }
#line 4143
            charlen = 2;
#line 4144
            goto __Cont___0;
          }
        }
        {
#line 4146
        charlen = mb_metacharlenconv((char const   *)ptr3, & del3);
        }
#line 4148
        if (del3 == 4294967295U) {
#line 4149
          if ((int )*ptr3 == -125) {
#line 4149
            tmp___2 = (int )*(ptr3 + 1) ^ 32;
          } else {
#line 4149
            tmp___2 = (int )*ptr3;
          }
#line 4149
          del3 = (wint_t )tmp___2;
        }
#line 4152
        if (del3 == del) {
#line 4153
          goto while_break___2;
        }
        __Cont___0: /* CIL Label */ 
#line 4137
        ptr3 += charlen;
      }
      while_break___2: /* CIL Label */ ;
      }
#line 4155
      sav = *ptr3;
#line 4156
      *ptr3 = (char )'\000';
#line 4157
      if (*ptr1) {
        {
#line 4158
        zsfree(hsubl);
#line 4159
        hsubl = ztrdup((char const   *)ptr1);
        }
      }
#line 4161
      if (! hsubl) {
        {
#line 4162
        zerr("no previous substitution");
        }
#line 4163
        return;
      }
      {
#line 4165
      zsfree(hsubr);
#line 4166
      tt = hsubl;
      }
      {
#line 4166
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 4166
        if (! *tt) {
#line 4166
          goto while_break___3;
        }
#line 4167
        if ((int )typtab[(unsigned char )*tt] & (1 << 14)) {
#line 4167
          if ((int )*tt != -96) {
            {
#line 4168
            tmp___3 = tt;
#line 4168
            tt --;
#line 4168
            chuck(tmp___3);
            }
          }
        }
#line 4166
        tt ++;
      }
      while_break___3: /* CIL Label */ ;
      }
#line 4169
      if (! opts[84]) {
        {
#line 4170
        untokenize(hsubl);
        }
      }
      {
#line 4171
      hsubr = ztrdup((char const   *)ptr2);
#line 4171
      tt = hsubr;
      }
      {
#line 4171
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 4171
        if (! *tt) {
#line 4171
          goto while_break___4;
        }
#line 4172
        if ((int )typtab[(unsigned char )*tt] & (1 << 14)) {
#line 4172
          if ((int )*tt != -96) {
#line 4173
            if ((int )*tt == -97) {
#line 4173
              if ((int )*(tt + 1) == 38) {
#line 4179
                *tt = (char )'\\';
              } else
#line 4173
              if ((int )*(tt + 1) == 92) {
#line 4179
                *tt = (char )'\\';
              } else {
                {
#line 4181
                tmp___4 = tt;
#line 4181
                tt --;
#line 4181
                chuck(tmp___4);
                }
              }
            } else {
              {
#line 4181
              tmp___4 = tt;
#line 4181
              tt --;
#line 4181
              chuck(tmp___4);
              }
            }
          }
        }
#line 4171
        tt ++;
      }
      while_break___4: /* CIL Label */ ;
      }
#line 4185
      *ptr1end = sav1;
#line 4186
      *ptr3 = sav;
#line 4187
      *ptr___0 = ptr3 - 1;
#line 4188
      if (*ptr3) {
#line 4190
        *ptr___0 += charlen;
      }
#line 4192
      goto switch_break;
      case_38: /* CIL Label */ 
#line 4195
      c = (char )'s';
#line 4196
      goto switch_break;
      case_103: /* CIL Label */ 
#line 4199
      (*ptr___0) ++;
#line 4200
      gbal = 1;
#line 4201
      goto switch_break;
      case_119: /* CIL Label */ 
#line 4204
      wall = 1;
#line 4205
      (*ptr___0) ++;
#line 4206
      goto switch_break;
      case_87: /* CIL Label */ 
      {
#line 4208
      wall = 1;
#line 4209
      (*ptr___0) ++;
#line 4210
      ptr2 = *ptr___0;
#line 4210
      ptr1 = get_strarg(ptr2, & charlen);
#line 4211
      sav = *ptr1;
      }
#line 4211
      if (sav) {
#line 4212
        *ptr1 = (char )'\000';
      }
      {
#line 4213
      sep = dupstring((char const   *)(ptr2 + charlen));
      }
#line 4214
      if (sav) {
#line 4215
        *ptr1 = sav;
      }
#line 4216
      *ptr___0 = ptr1 + charlen;
#line 4217
      c = (char )'\000';
#line 4218
      goto switch_break;
      case_102: /* CIL Label */ 
#line 4221
      rec = -1;
#line 4222
      (*ptr___0) ++;
#line 4223
      goto switch_break;
      case_70: /* CIL Label */ 
      {
#line 4225
      (*ptr___0) ++;
#line 4226
      rec = get_intarg(ptr___0, & dellen);
      }
#line 4227
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 4229
      *ptr___0 = lptr;
#line 4230
      return;
      switch_break: /* CIL Label */ ;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 4233
    (*ptr___0) ++;
#line 4234
    if (! c) {
#line 4235
      *ptr___0 = lptr;
#line 4236
      return;
    }
#line 4238
    if (rec < 0) {
      {
#line 4239
      test = dupstring((char const   *)*str);
      }
    }
    {
#line 4241
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 4241
      tmp___21 = rec;
#line 4241
      rec --;
#line 4241
      if (! tmp___21) {
#line 4241
        goto while_break___5;
      }
#line 4242
      if (wall) {
#line 4243
        al = 0;
#line 4244
        all = (char *)((void *)0);
#line 4245
        e = *str;
#line 4245
        t = e;
        {
#line 4245
        while (1) {
          while_continue___6: /* CIL Label */ ;
          {
#line 4245
          tt = findword(& e, sep);
          }
#line 4245
          if (! tt) {
#line 4245
            goto while_break___6;
          }
#line 4246
          tc = *e;
#line 4247
          *e = (char )'\000';
#line 4248
          if ((int )c != 108) {
#line 4248
            if ((int )c != 117) {
              {
#line 4249
              copy = dupstring((char const   *)tt);
              }
            }
          }
#line 4250
          *e = tc;
          {
#line 4252
          if ((int )c == 97) {
#line 4252
            goto case_97___0;
          }
#line 4255
          if ((int )c == 65) {
#line 4255
            goto case_65___0;
          }
#line 4258
          if ((int )c == 99) {
#line 4258
            goto case_99___0;
          }
#line 4265
          if ((int )c == 104) {
#line 4265
            goto case_104___0;
          }
#line 4268
          if ((int )c == 114) {
#line 4268
            goto case_114___0;
          }
#line 4271
          if ((int )c == 101) {
#line 4271
            goto case_101___0;
          }
#line 4274
          if ((int )c == 116) {
#line 4274
            goto case_116___0;
          }
#line 4277
          if ((int )c == 108) {
#line 4277
            goto case_108___0;
          }
#line 4280
          if ((int )c == 117) {
#line 4280
            goto case_117___0;
          }
#line 4283
          if ((int )c == 115) {
#line 4283
            goto case_115___0;
          }
#line 4287
          if ((int )c == 113) {
#line 4287
            goto case_113___0;
          }
#line 4290
          if ((int )c == 81) {
#line 4290
            goto case_81___0;
          }
#line 4303
          if ((int )c == 80) {
#line 4303
            goto case_80___0;
          }
#line 4251
          goto switch_break___0;
          case_97___0: /* CIL Label */ 
          {
#line 4253
          chabspath(& copy);
          }
#line 4254
          goto switch_break___0;
          case_65___0: /* CIL Label */ 
          {
#line 4256
          chrealpath(& copy);
          }
#line 4257
          goto switch_break___0;
          case_99___0: /* CIL Label */ 
          {
#line 4260
          tmp___5 = equalsubstr(copy, 0, 0);
#line 4260
          copy2 = tmp___5;
          }
#line 4261
          if (copy2) {
#line 4262
            copy = copy2;
          }
#line 4263
          goto switch_break___0;
          case_104___0: /* CIL Label */ 
          {
#line 4266
          remtpath(& copy);
          }
#line 4267
          goto switch_break___0;
          case_114___0: /* CIL Label */ 
          {
#line 4269
          remtext(& copy);
          }
#line 4270
          goto switch_break___0;
          case_101___0: /* CIL Label */ 
          {
#line 4272
          rembutext(& copy);
          }
#line 4273
          goto switch_break___0;
          case_116___0: /* CIL Label */ 
          {
#line 4275
          remlpaths(& copy);
          }
#line 4276
          goto switch_break___0;
          case_108___0: /* CIL Label */ 
          {
#line 4278
          copy = casemodify(tt, 2);
          }
#line 4279
          goto switch_break___0;
          case_117___0: /* CIL Label */ 
          {
#line 4281
          copy = casemodify(tt, 1);
          }
#line 4282
          goto switch_break___0;
          case_115___0: /* CIL Label */ 
#line 4284
          if (hsubl) {
#line 4284
            if (hsubr) {
              {
#line 4285
              subst(& copy, hsubl, hsubr, gbal);
              }
            }
          }
#line 4286
          goto switch_break___0;
          case_113___0: /* CIL Label */ 
          {
#line 4288
          copy = quotestring((char const   *)copy, 8);
          }
#line 4289
          goto switch_break___0;
          case_81___0: /* CIL Label */ 
          {
#line 4292
          one = noerrs;
#line 4292
          oef = errflag;
#line 4294
          noerrs = 1;
#line 4295
          parse_subst_string(copy);
#line 4296
          noerrs = one;
#line 4298
          errflag = oef | (errflag & 2);
#line 4299
          remnulargs(copy);
#line 4300
          untokenize(copy);
          }
#line 4302
          goto switch_break___0;
          case_80___0: /* CIL Label */ 
#line 4304
          if ((int )*copy != 47) {
            {
#line 4305
            tmp___6 = zgetcwd();
#line 4305
            tmp___7 = metafy(tmp___6, -1, 6);
#line 4305
            copy = zhtricat((char const   *)tmp___7, "/", (char const   *)copy);
            }
          }
          {
#line 4307
          copy = xsymlink(copy, 1);
          }
#line 4308
          goto switch_break___0;
          switch_break___0: /* CIL Label */ ;
          }
          {
#line 4310
          tc = *tt;
#line 4311
          *tt = (char )'\000';
#line 4312
          tmp___8 = strlen((char const   *)t);
#line 4312
          tmp___9 = strlen((char const   *)copy);
#line 4312
          nl___0 = (int )(((size_t )al + tmp___8) + tmp___9);
#line 4313
          tmp___10 = zhalloc((size_t )(nl___0 + 1));
#line 4313
          tmp = (char *)tmp___10;
#line 4313
          ptr1 = tmp;
          }
#line 4314
          if (all) {
#line 4315
            ptr2 = all;
            {
#line 4315
            while (1) {
              while_continue___7: /* CIL Label */ ;
#line 4315
              if (! *ptr2) {
#line 4315
                goto while_break___7;
              }
#line 4316
              tmp___11 = ptr1;
#line 4316
              ptr1 ++;
#line 4316
              tmp___12 = ptr2;
#line 4316
              ptr2 ++;
#line 4316
              *tmp___11 = *tmp___12;
            }
            while_break___7: /* CIL Label */ ;
            }
          }
#line 4317
          ptr2 = t;
          {
#line 4317
          while (1) {
            while_continue___8: /* CIL Label */ ;
#line 4317
            if (! *ptr2) {
#line 4317
              goto while_break___8;
            }
#line 4318
            tmp___13 = ptr1;
#line 4318
            ptr1 ++;
#line 4318
            tmp___14 = ptr2;
#line 4318
            ptr2 ++;
#line 4318
            *tmp___13 = *tmp___14;
          }
          while_break___8: /* CIL Label */ ;
          }
#line 4319
          *tt = tc;
#line 4320
          ptr2 = copy;
          {
#line 4320
          while (1) {
            while_continue___9: /* CIL Label */ ;
#line 4320
            if (! *ptr2) {
#line 4320
              goto while_break___9;
            }
#line 4321
            tmp___15 = ptr1;
#line 4321
            ptr1 ++;
#line 4321
            tmp___16 = ptr2;
#line 4321
            ptr2 ++;
#line 4321
            *tmp___15 = *tmp___16;
          }
          while_break___9: /* CIL Label */ ;
          }
#line 4322
          *ptr1 = (char )'\000';
#line 4323
          al = nl___0;
#line 4324
          all = tmp;
#line 4325
          t = e;
        }
        while_break___6: /* CIL Label */ ;
        }
#line 4327
        if (! all) {
          {
#line 4328
          *str = dupstring("");
          }
        } else {
#line 4330
          *str = all;
        }
      } else {
        {
#line 4334
        if ((int )c == 97) {
#line 4334
          goto case_97___1;
        }
#line 4337
        if ((int )c == 65) {
#line 4337
          goto case_65___1;
        }
#line 4340
        if ((int )c == 99) {
#line 4340
          goto case_99___1;
        }
#line 4347
        if ((int )c == 104) {
#line 4347
          goto case_104___1;
        }
#line 4350
        if ((int )c == 114) {
#line 4350
          goto case_114___1;
        }
#line 4353
        if ((int )c == 101) {
#line 4353
          goto case_101___1;
        }
#line 4356
        if ((int )c == 116) {
#line 4356
          goto case_116___1;
        }
#line 4359
        if ((int )c == 108) {
#line 4359
          goto case_108___1;
        }
#line 4362
        if ((int )c == 117) {
#line 4362
          goto case_117___1;
        }
#line 4365
        if ((int )c == 115) {
#line 4365
          goto case_115___1;
        }
#line 4369
        if ((int )c == 113) {
#line 4369
          goto case_113___1;
        }
#line 4372
        if ((int )c == 81) {
#line 4372
          goto case_81___1;
        }
#line 4385
        if ((int )c == 80) {
#line 4385
          goto case_80___1;
        }
#line 4333
        goto switch_break___1;
        case_97___1: /* CIL Label */ 
        {
#line 4335
        chabspath(str);
        }
#line 4336
        goto switch_break___1;
        case_65___1: /* CIL Label */ 
        {
#line 4338
        chrealpath(str);
        }
#line 4339
        goto switch_break___1;
        case_99___1: /* CIL Label */ 
        {
#line 4342
        tmp___17 = equalsubstr(*str, 0, 0);
#line 4342
        copy2___0 = tmp___17;
        }
#line 4343
        if (copy2___0) {
#line 4344
          *str = copy2___0;
        }
#line 4345
        goto switch_break___1;
        case_104___1: /* CIL Label */ 
        {
#line 4348
        remtpath(str);
        }
#line 4349
        goto switch_break___1;
        case_114___1: /* CIL Label */ 
        {
#line 4351
        remtext(str);
        }
#line 4352
        goto switch_break___1;
        case_101___1: /* CIL Label */ 
        {
#line 4354
        rembutext(str);
        }
#line 4355
        goto switch_break___1;
        case_116___1: /* CIL Label */ 
        {
#line 4357
        remlpaths(str);
        }
#line 4358
        goto switch_break___1;
        case_108___1: /* CIL Label */ 
        {
#line 4360
        *str = casemodify(*str, 2);
        }
#line 4361
        goto switch_break___1;
        case_117___1: /* CIL Label */ 
        {
#line 4363
        *str = casemodify(*str, 1);
        }
#line 4364
        goto switch_break___1;
        case_115___1: /* CIL Label */ 
#line 4366
        if (hsubl) {
#line 4366
          if (hsubr) {
            {
#line 4367
            subst(str, hsubl, hsubr, gbal);
            }
          }
        }
#line 4368
        goto switch_break___1;
        case_113___1: /* CIL Label */ 
        {
#line 4370
        *str = quotestring((char const   *)*str, 1);
        }
#line 4371
        goto switch_break___1;
        case_81___1: /* CIL Label */ 
        {
#line 4374
        one___0 = noerrs;
#line 4374
        oef___0 = errflag;
#line 4376
        noerrs = 1;
#line 4377
        parse_subst_string(*str);
#line 4378
        noerrs = one___0;
#line 4380
        errflag = oef___0 | (errflag & 2);
#line 4381
        remnulargs(*str);
#line 4382
        untokenize(*str);
        }
#line 4384
        goto switch_break___1;
        case_80___1: /* CIL Label */ 
#line 4386
        if ((int )*(*str) != 47) {
          {
#line 4387
          tmp___18 = zgetcwd();
#line 4387
          tmp___19 = metafy(tmp___18, -1, 6);
#line 4387
          *str = zhtricat((char const   *)tmp___19, "/", (char const   *)*str);
          }
        }
        {
#line 4389
        *str = xsymlink(*str, 1);
        }
#line 4390
        goto switch_break___1;
        switch_break___1: /* CIL Label */ ;
        }
      }
#line 4393
      if (rec < 0) {
        {
#line 4394
        tmp___20 = strcmp((char const   *)test, (char const   *)*str);
        }
#line 4394
        if (tmp___20) {
          {
#line 4397
          test = dupstring((char const   *)*str);
          }
        } else {
#line 4395
          rec = 0;
        }
      }
    }
    while_break___5: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4401
  return;
}
}
#line 4406 "/home/khheo/testset/zsh-zsh-5.3.1/Src/subst.c"
static char *dstackent(char ch , int val ) 
{ 
  int backwards ;
  LinkNode end ;
  LinkNode n ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp8 ;

  {
#line 4410
  end = (LinkNode )dirstack;
#line 4412
  if (opts[145]) {
#line 4412
    tmp = '+';
  } else {
#line 4412
    tmp = '-';
  }
#line 4412
  backwards = (int )ch == tmp;
#line 4413
  if (! backwards) {
#line 4413
    tmp___0 = val;
#line 4413
    val --;
#line 4413
    if (! tmp___0) {
#line 4414
      return (pwd);
    }
  }
#line 4415
  if (backwards) {
#line 4416
    n = dirstack->list.last;
    {
#line 4416
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4416
      if ((unsigned long )n != (unsigned long )end) {
#line 4416
        if (! val) {
#line 4416
          goto while_break;
        }
      } else {
#line 4416
        goto while_break;
      }
#line 4416
      val --;
#line 4416
      n = n->prev;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 4418
    end = (LinkNode )((void *)0);
#line 4418
    n = dirstack->list.first;
    {
#line 4418
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4418
      if (n) {
#line 4418
        if (! val) {
#line 4418
          goto while_break___0;
        }
      } else {
#line 4418
        goto while_break___0;
      }
#line 4418
      val --;
#line 4418
      n = n->next;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 4419
  if ((unsigned long )n == (unsigned long )end) {
#line 4420
    if (backwards) {
#line 4420
      if (! val) {
#line 4421
        return (pwd);
      }
    }
#line 4422
    if (opts[119]) {
      {
#line 4423
      zerr("not enough directory stack entries.");
      }
    }
#line 4424
    return ((char *)((void *)0));
  }
#line 4426
  return ((char *)n->dat);
}
}
#line 147 "/usr/include/wchar.h"
extern  __attribute__((__nothrow__)) wchar_t *( __attribute__((__leaf__)) wcscpy)(wchar_t * __restrict  __dest ,
                                                                                  wchar_t const   * __restrict  __src ) ;
#line 287
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__leaf__)) wcslen)(wchar_t const   *__s )  __attribute__((__pure__)) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.epro"
char *dupstring_wlen(char const   *s , unsigned int len ) ;
#line 7
char *dupstring_glen(char const   *s , unsigned int *len_ret ) ;
#line 18
char *appstr(char *base , char const   *append ) ;
#line 19
char *strend(char *str ) ;
#line 32 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *dupstring(char const   *s ) 
{ 
  char *t ;
  size_t tmp ;
  void *tmp___0 ;

  {
#line 37
  if (! s) {
#line 38
    return ((char *)((void *)0));
  }
  {
#line 39
  tmp = strlen((char const   *)((char *)s));
#line 39
  tmp___0 = zhalloc(tmp + 1UL);
#line 39
  t = (char *)tmp___0;
#line 40
  strcpy((char */* __restrict  */)t, (char const   */* __restrict  */)s);
  }
#line 41
  return (t);
}
}
#line 47 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *dupstring_wlen(char const   *s , unsigned int len ) 
{ 
  char *t ;
  void *tmp ;

  {
#line 52
  if (! s) {
#line 53
    return ((char *)((void *)0));
  }
  {
#line 54
  tmp = zhalloc((size_t )(len + 1U));
#line 54
  t = (char *)tmp;
#line 55
  strcpy((char */* __restrict  */)t, (char const   */* __restrict  */)s);
  }
#line 56
  return (t);
}
}
#line 62 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *dupstring_glen(char const   *s , unsigned int *len_ret ) 
{ 
  char *t ;
  unsigned int tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;

  {
#line 67
  if (! s) {
#line 68
    return ((char *)((void *)0));
  }
  {
#line 69
  tmp___0 = strlen((char const   *)((char *)s));
#line 69
  tmp = (unsigned int )tmp___0;
#line 69
  *len_ret = tmp;
#line 69
  tmp___1 = zhalloc((size_t )(tmp + 1U));
#line 69
  t = (char *)tmp___1;
#line 70
  strcpy((char */* __restrict  */)t, (char const   */* __restrict  */)s);
  }
#line 71
  return (t);
}
}
#line 75 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *ztrdup(char const   *s ) 
{ 
  char *t ;
  size_t tmp ;
  void *tmp___0 ;

  {
#line 80
  if (! s) {
#line 81
    return ((char *)((void *)0));
  }
  {
#line 82
  tmp = strlen((char const   *)((char *)s));
#line 82
  tmp___0 = zalloc(tmp + 1UL);
#line 82
  t = (char *)tmp___0;
#line 83
  strcpy((char */* __restrict  */)t, (char const   */* __restrict  */)s);
  }
#line 84
  return (t);
}
}
#line 90 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
wchar_t *wcs_ztrdup(wchar_t const   *s ) 
{ 
  wchar_t *t ;
  size_t tmp ;
  void *tmp___0 ;

  {
#line 95
  if (! s) {
#line 96
    return ((wchar_t *)((void *)0));
  }
  {
#line 97
  tmp = wcslen((wchar_t const   *)((wchar_t *)s));
#line 97
  tmp___0 = zalloc(sizeof(wchar_t ) * (tmp + 1UL));
#line 97
  t = (wchar_t *)tmp___0;
#line 98
  wcscpy((wchar_t */* __restrict  */)t, (wchar_t const   */* __restrict  */)s);
  }
#line 99
  return (t);
}
}
#line 108 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *tricat(char const   *s1 , char const   *s2 , char const   *s3 ) 
{ 
  char *ptr___0 ;
  size_t l1 ;
  size_t tmp ;
  size_t l2 ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 113
  tmp = strlen(s1);
#line 113
  l1 = tmp;
#line 114
  tmp___0 = strlen(s2);
#line 114
  l2 = tmp___0;
#line 116
  tmp___1 = strlen(s3);
#line 116
  tmp___2 = zalloc(((l1 + l2) + tmp___1) + 1UL);
#line 116
  ptr___0 = (char *)tmp___2;
#line 117
  strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)s1);
#line 118
  strcpy((char */* __restrict  */)(ptr___0 + l1), (char const   */* __restrict  */)s2);
#line 119
  strcpy((char */* __restrict  */)((ptr___0 + l1) + l2), (char const   */* __restrict  */)s3);
  }
#line 120
  return (ptr___0);
}
}
#line 124 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *zhtricat(char const   *s1 , char const   *s2 , char const   *s3 ) 
{ 
  char *ptr___0 ;
  size_t l1 ;
  size_t tmp ;
  size_t l2 ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 128
  tmp = strlen(s1);
#line 128
  l1 = tmp;
#line 129
  tmp___0 = strlen(s2);
#line 129
  l2 = tmp___0;
#line 131
  tmp___1 = strlen(s3);
#line 131
  tmp___2 = zhalloc(((l1 + l2) + tmp___1) + 1UL);
#line 131
  ptr___0 = (char *)tmp___2;
#line 132
  strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)s1);
#line 133
  strcpy((char */* __restrict  */)(ptr___0 + l1), (char const   */* __restrict  */)s2);
#line 134
  strcpy((char */* __restrict  */)((ptr___0 + l1) + l2), (char const   */* __restrict  */)s3);
  }
#line 135
  return (ptr___0);
}
}
#line 141 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *dyncat(char const   *s1 , char const   *s2 ) 
{ 
  char *ptr___0 ;
  size_t l1 ;
  size_t tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 146
  tmp = strlen(s1);
#line 146
  l1 = tmp;
#line 148
  tmp___0 = strlen(s2);
#line 148
  tmp___1 = zhalloc((l1 + tmp___0) + 1UL);
#line 148
  ptr___0 = (char *)tmp___1;
#line 149
  strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)s1);
#line 150
  strcpy((char */* __restrict  */)(ptr___0 + l1), (char const   */* __restrict  */)s2);
  }
#line 151
  return (ptr___0);
}
}
#line 155 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *bicat(char const   *s1 , char const   *s2 ) 
{ 
  char *ptr___0 ;
  size_t l1 ;
  size_t tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 160
  tmp = strlen(s1);
#line 160
  l1 = tmp;
#line 162
  tmp___0 = strlen(s2);
#line 162
  tmp___1 = zalloc((l1 + tmp___0) + 1UL);
#line 162
  ptr___0 = (char *)tmp___1;
#line 163
  strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)s1);
#line 164
  strcpy((char */* __restrict  */)(ptr___0 + l1), (char const   */* __restrict  */)s2);
  }
#line 165
  return (ptr___0);
}
}
#line 171 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *dupstrpfx(char const   *s , int len ) 
{ 
  char *r ;
  void *tmp ;

  {
  {
#line 174
  tmp = zhalloc((size_t )(len + 1));
#line 174
  r = (char *)tmp;
#line 176
  memcpy((void */* __restrict  */)r, (void const   */* __restrict  */)s, (size_t )len);
#line 177
  *(r + len) = (char )'\000';
  }
#line 178
  return (r);
}
}
#line 182 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *ztrduppfx(char const   *s , int len ) 
{ 
  char *r ;
  void *tmp ;

  {
  {
#line 186
  tmp = zalloc((size_t )(len + 1));
#line 186
  r = (char *)tmp;
#line 188
  memcpy((void */* __restrict  */)r, (void const   */* __restrict  */)s, (size_t )len);
#line 189
  *(r + len) = (char )'\000';
  }
#line 190
  return (r);
}
}
#line 196 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *appstr(char *base , char const   *append ) 
{ 
  size_t tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  char *tmp___2 ;

  {
  {
#line 199
  tmp = strlen((char const   *)base);
#line 199
  tmp___0 = strlen(append);
#line 199
  tmp___1 = realloc((void *)base, (tmp + tmp___0) + 1UL);
#line 199
  tmp___2 = strcat((char */* __restrict  */)tmp___1, (char const   */* __restrict  */)append);
  }
#line 199
  return (tmp___2);
}
}
#line 206 "/home/khheo/testset/zsh-zsh-5.3.1/Src/string.c"
char *strend(char *str ) 
{ 
  size_t tmp ;

  {
#line 209
  if ((int )*str == 0) {
#line 210
    return (str);
  }
  {
#line 211
  tmp = strlen((char const   *)str);
  }
#line 211
  return ((str + tmp) - 1);
}
}
#line 151 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcoll)(char const   *__s1 ,
                                                                                                char const   *__s2 )  __attribute__((__pure__)) ;
#line 194 "/usr/include/wctype.h"
extern  __attribute__((__nothrow__)) wint_t ( __attribute__((__leaf__)) towlower)(wint_t __wc ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.epro"
int zstrcmp(char const   *as , char const   *bs , int sortflags ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.pro"
static int eltpcmp(void const   *a , void const   *b ) ;
#line 34 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.c"
static int sortdir  ;
#line 37 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.c"
static int sortnumeric  ;
#line 40 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.c"
static int eltpcmp(void const   *a , void const   *b ) 
{ 
  SortElt ae ;
  SortElt be ;
  char const   *as ;
  char const   *bs ;
  char const   *ao ;
  int cmp ;
  char const   *cmpa ;
  char const   *cmpb ;
  char const   *laststarta ;
  int len ;
  int tmp ;

  {
#line 43
  ae = (SortElt )*((SortElt const   *)a);
#line 44
  be = (SortElt )*((SortElt const   *)b);
#line 45
  as = ae->cmp;
#line 45
  bs = be->cmp;
#line 46
  ao = as;
#line 49
  if (ae->len != -1) {
#line 49
    goto _L;
  } else
#line 49
  if (be->len != -1) {
    _L: /* CIL Label */ 
#line 61
    laststarta = as;
#line 63
    if (ae->len != -1) {
#line 64
      len = ae->len;
#line 65
      if (be->len != -1) {
#line 65
        if (len > be->len) {
#line 66
          len = be->len;
        }
      }
    } else {
#line 69
      len = be->len;
    }
#line 71
    cmpa = as;
#line 71
    cmpb = bs;
    {
#line 71
    while (1) {
      while_continue: /* CIL Label */ ;
#line 71
      if ((int const   )*cmpa == (int const   )*cmpb) {
#line 71
        tmp = len;
#line 71
        len --;
#line 71
        if (! tmp) {
#line 71
          goto while_break;
        }
      } else {
#line 71
        goto while_break;
      }
#line 72
      if (! *cmpa) {
#line 77
        if (ae->len == -1) {
#line 78
          goto while_break;
        } else
#line 77
        if (be->len == -1) {
#line 78
          goto while_break;
        }
#line 79
        laststarta = cmpa + 1;
      }
#line 71
      cmpa ++;
#line 71
      cmpb ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 82
    if ((int const   )*cmpa == (int const   )*cmpb) {
#line 82
      if (ae->len != be->len) {
#line 90
        if (ae->len != -1) {
#line 91
          if (be->len != -1) {
#line 96
            return ((ae->len - be->len) * sortdir);
          } else {
#line 102
            return (sortdir);
          }
        } else {
#line 109
          return (- sortdir);
        }
      }
    }
#line 113
    bs += laststarta - as;
#line 114
    as += laststarta - as;
  }
  {
#line 117
  cmp = strcoll(as, bs);
  }
#line 119
  if (sortnumeric) {
    {
#line 120
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 120
      if ((int const   )*as == (int const   )*bs) {
#line 120
        if (! *as) {
#line 120
          goto while_break___0;
        }
      } else {
#line 120
        goto while_break___0;
      }
#line 120
      as ++;
#line 120
      bs ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 124
    if ((int )typtab[(unsigned char )*as] & 1) {
#line 124
      goto _L___1;
    } else
#line 124
    if ((int )typtab[(unsigned char )*bs] & 1) {
      _L___1: /* CIL Label */ 
      {
#line 125
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 125
        if ((unsigned long )as > (unsigned long )ao) {
#line 125
          if (! ((int )typtab[(unsigned char )*(as + -1)] & 1)) {
#line 125
            goto while_break___1;
          }
        } else {
#line 125
          goto while_break___1;
        }
#line 125
        as --;
#line 125
        bs --;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 126
      if ((int )typtab[(unsigned char )*as] & 1) {
#line 126
        if ((int )typtab[(unsigned char )*bs] & 1) {
          {
#line 127
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 127
            if (! ((int const   )*as == 48)) {
#line 127
              goto while_break___2;
            }
#line 128
            as ++;
          }
          while_break___2: /* CIL Label */ ;
          }
          {
#line 129
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 129
            if (! ((int const   )*bs == 48)) {
#line 129
              goto while_break___3;
            }
#line 130
            bs ++;
          }
          while_break___3: /* CIL Label */ ;
          }
          {
#line 131
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 131
            if ((int )typtab[(unsigned char )*as] & 1) {
#line 131
              if (! ((int const   )*as == (int const   )*bs)) {
#line 131
                goto while_break___4;
              }
            } else {
#line 131
              goto while_break___4;
            }
#line 131
            as ++;
#line 131
            bs ++;
          }
          while_break___4: /* CIL Label */ ;
          }
#line 132
          if ((int )typtab[(unsigned char )*as] & 1) {
#line 132
            goto _L___0;
          } else
#line 132
          if ((int )typtab[(unsigned char )*bs] & 1) {
            _L___0: /* CIL Label */ 
#line 133
            cmp = (int )((unsigned char )*as) - (int )((unsigned char )*bs);
            {
#line 134
            while (1) {
              while_continue___5: /* CIL Label */ ;
#line 134
              if ((int )typtab[(unsigned char )*as] & 1) {
#line 134
                if (! ((int )typtab[(unsigned char )*bs] & 1)) {
#line 134
                  goto while_break___5;
                }
              } else {
#line 134
                goto while_break___5;
              }
#line 135
              as ++;
#line 135
              bs ++;
            }
            while_break___5: /* CIL Label */ ;
            }
#line 136
            if ((int )typtab[(unsigned char )*as] & 1) {
#line 136
              if (! ((int )typtab[(unsigned char )*bs] & 1)) {
#line 137
                return (sortdir);
              }
            }
#line 138
            if ((int )typtab[(unsigned char )*bs] & 1) {
#line 138
              if (! ((int )typtab[(unsigned char )*as] & 1)) {
#line 139
                return (- sortdir);
              }
            }
          }
        }
      }
    }
  }
#line 149
  return (sortdir * cmp);
}
}
#line 161 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.c"
int zstrcmp(char const   *as , char const   *bs , int sortflags ) 
{ 
  struct sortelt ae ;
  struct sortelt be ;
  struct sortelt *aeptr ;
  struct sortelt *beptr ;
  int oldsortdir ;
  int oldsortnumeric ;
  int ret ;

  {
#line 165
  oldsortdir = sortdir;
#line 165
  oldsortnumeric = sortnumeric;
#line 167
  ae.cmp = as;
#line 168
  be.cmp = bs;
#line 169
  ae.len = -1;
#line 170
  be.len = -1;
#line 172
  aeptr = & ae;
#line 173
  beptr = & be;
#line 175
  sortdir = 1;
#line 176
  if (sortflags & 2) {
#line 176
    sortnumeric = 1;
  } else {
#line 176
    sortnumeric = 0;
  }
  {
#line 178
  ret = eltpcmp((void const   *)(& aeptr), (void const   *)(& beptr));
#line 181
  sortnumeric = oldsortnumeric;
#line 182
  sortdir = oldsortdir;
  }
#line 184
  return (ret);
}
}
#line 198 "/home/khheo/testset/zsh-zsh-5.3.1/Src/sort.c"
void strmetasort(char **array , int sortwhat , int *unmetalenp ) 
{ 
  char **arrptr ;
  SortElt *sortptrarr ;
  SortElt *sortptrarrptr ;
  SortElt sortarr ;
  SortElt sortarrptr ;
  int oldsortdir ;
  int oldsortnumeric ;
  int nsort ;
  void *tmp ;
  void *tmp___0 ;
  char *metaptr ;
  int needlen ;
  int needalloc ;
  int count ;
  int tmp___1 ;
  char *s ;
  char *t ;
  char *src ;
  char *dst ;
  int len ;
  int tmp___2 ;
  size_t tmp___3 ;
  void *tmp___4 ;
  char *t___0 ;
  char tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char tmp___8 ;
  char *tmp___9 ;
  char *send ;
  mbstate_t mbsin ;
  mbstate_t mbsout ;
  int clen ;
  wchar_t wc ;
  size_t tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  int tmp___13 ;
  char *tmp___14 ;
  wint_t tmp___15 ;
  size_t tmp___16 ;
  char *tmp___17 ;
  char *tmp___18 ;
  int tmp___19 ;
  char *end ;
  char *tmp___20 ;
  char *tmp___21 ;
  char **tmp___22 ;
  SortElt *tmp___23 ;
  int tmp___24 ;
  void *__cil_tmp54 ;
  void *__cil_tmp55 ;

  {
  {
#line 212
  nsort = arrlen(array);
  }
#line 213
  if (nsort < 2) {
#line 214
    return;
  }
  {
#line 216
  pushheap();
#line 218
  tmp = zhalloc((unsigned long )nsort * sizeof(SortElt ));
#line 218
  sortptrarr = (SortElt *)tmp;
#line 219
  tmp___0 = zhalloc((unsigned long )nsort * sizeof(struct sortelt ));
#line 219
  sortarr = (SortElt )tmp___0;
#line 220
  arrptr = array;
#line 220
  sortptrarrptr = sortptrarr;
#line 220
  sortarrptr = sortarr;
  }
  {
#line 220
  while (1) {
    while_continue: /* CIL Label */ ;
#line 220
    if (! *arrptr) {
#line 220
      goto while_break;
    }
#line 224
    *sortptrarrptr = sortarrptr;
#line 225
    sortarrptr->orig = *arrptr;
#line 227
    if (unmetalenp) {
#line 232
      count = *(unmetalenp + (arrptr - array));
#line 234
      sortarrptr->origlen = count;
#line 235
      metaptr = *arrptr;
      {
#line 235
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 235
        if ((int )*metaptr != 0) {
#line 235
          tmp___1 = count;
#line 235
          count --;
#line 235
          if (! tmp___1) {
#line 235
            goto while_break___0;
          }
        } else {
#line 235
          goto while_break___0;
        }
#line 235
        metaptr ++;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 238
      needlen = count != 0;
    } else {
#line 245
      needlen = 0;
#line 246
      metaptr = *arrptr;
      {
#line 246
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 246
        if (*metaptr) {
#line 246
          if (! ((int )*metaptr != -125)) {
#line 246
            goto while_break___1;
          }
        } else {
#line 246
          goto while_break___1;
        }
#line 246
        metaptr ++;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 254
    needalloc = sortwhat & 9;
#line 254
    if (needalloc) {
#line 254
      goto _L;
    } else
#line 254
    if ((int )*metaptr == -125) {
      _L: /* CIL Label */ 
#line 257
      src = *arrptr;
#line 259
      if (sortwhat & 1) {
#line 259
        tmp___2 = 2;
      } else {
#line 259
        tmp___2 = 1;
      }
      {
#line 259
      tmp___3 = strlen((char const   *)src);
#line 259
      tmp___4 = zhalloc((size_t )tmp___2 * tmp___3 + 1UL);
#line 259
      dst = (char *)tmp___4;
#line 259
      sortarrptr->cmp = (char const   *)dst;
      }
#line 262
      if (unmetalenp) {
#line 264
        len = *(unmetalenp + (arrptr - array));
      } else
#line 265
      if ((int )*metaptr != 0) {
#line 270
        t___0 = dst + (metaptr - src);
#line 272
        if ((unsigned long )metaptr != (unsigned long )src) {
          {
#line 273
          memcpy((void */* __restrict  */)dst, (void const   */* __restrict  */)src,
                 (size_t )(metaptr - src));
          }
        }
        {
#line 274
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 274
          tmp___9 = metaptr;
#line 274
          metaptr ++;
#line 274
          tmp___8 = *tmp___9;
#line 274
          *t___0 = tmp___8;
#line 274
          if (! tmp___8) {
#line 274
            goto while_break___2;
          }
#line 275
          tmp___7 = t___0;
#line 275
          t___0 ++;
#line 275
          if ((int )*tmp___7 == -125) {
#line 276
            tmp___6 = metaptr;
#line 276
            metaptr ++;
#line 276
            tmp___5 = (char )((int )*tmp___6 ^ 32);
#line 276
            *(t___0 + -1) = tmp___5;
#line 276
            if ((int )tmp___5 == 0) {
#line 277
              needlen = 1;
            }
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 280
        len = (int )(t___0 - dst);
#line 281
        src = dst;
      } else {
#line 292
        len = (int )(metaptr - src);
      }
#line 294
      if (sortwhat & 1) {
#line 295
        send = src + len;
#line 297
        if (opts[116]) {
          {
#line 309
          memset((void *)(& mbsin), 0, sizeof(mbstate_t ));
#line 310
          memset((void *)(& mbsout), 0, sizeof(mbstate_t ));
#line 312
          s = src;
#line 312
          t = dst;
          }
          {
#line 312
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 312
            if (! ((unsigned long )s < (unsigned long )send)) {
#line 312
              goto while_break___3;
            }
            {
#line 313
            tmp___10 = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)s,
                               (size_t )(send - s), (mbstate_t */* __restrict  */)(& mbsin));
#line 313
            clen = (int )tmp___10;
            }
#line 314
            if (clen < 0) {
              {
#line 316
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 316
                if (! ((unsigned long )s < (unsigned long )send)) {
#line 316
                  goto while_break___4;
                }
                {
#line 317
                tmp___11 = t;
#line 317
                t ++;
#line 317
                tmp___12 = s;
#line 317
                s ++;
#line 317
                tmp___13 = tulower((int )*tmp___12);
#line 317
                *tmp___11 = (char )tmp___13;
                }
              }
              while_break___4: /* CIL Label */ ;
              }
#line 318
              goto while_break___3;
            }
#line 320
            if (clen == 0) {
#line 322
              tmp___14 = t;
#line 322
              t ++;
#line 322
              *tmp___14 = (char )'\000';
#line 323
              s ++;
#line 324
              goto __Cont;
            }
            {
#line 326
            s += clen;
#line 327
            tmp___15 = towlower((wint_t )wc);
#line 327
            wc = (wchar_t )tmp___15;
#line 328
            tmp___16 = wcrtomb((char */* __restrict  */)t, wc, (mbstate_t */* __restrict  */)(& mbsout));
#line 328
            clen = (int )tmp___16;
#line 329
            t += clen;
            }
            __Cont: /* CIL Label */ ;
          }
          while_break___3: /* CIL Label */ ;
          }
#line 332
          *t = (char )'\000';
#line 333
          len = (int )(t - dst);
        } else {
#line 336
          s = src;
#line 336
          t = dst;
          {
#line 336
          while (1) {
            while_continue___5: /* CIL Label */ ;
#line 336
            if (! ((unsigned long )s < (unsigned long )send)) {
#line 336
              goto while_break___5;
            }
            {
#line 337
            tmp___17 = t;
#line 337
            t ++;
#line 337
            tmp___18 = s;
#line 337
            s ++;
#line 337
            tmp___19 = tulower((int )*tmp___18);
#line 337
            *tmp___17 = (char )tmp___19;
            }
          }
          while_break___5: /* CIL Label */ ;
          }
        }
#line 338
        src = dst;
      }
#line 340
      if (sortwhat & 8) {
#line 341
        end = (src + len) + 1;
#line 343
        s = src;
#line 343
        t = dst;
        {
#line 343
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 343
          if (! ((unsigned long )s < (unsigned long )end)) {
#line 343
            goto while_break___6;
          }
#line 344
          if ((int )*s == 92) {
#line 345
            s ++;
#line 346
            len --;
          }
#line 348
          tmp___20 = t;
#line 348
          t ++;
#line 348
          tmp___21 = s;
#line 348
          s ++;
#line 348
          *tmp___20 = *tmp___21;
        }
        while_break___6: /* CIL Label */ ;
        }
      }
#line 352
      if (needlen) {
#line 352
        sortarrptr->len = len;
      } else {
#line 352
        sortarrptr->len = -1;
      }
    } else {
#line 358
      sortarrptr->cmp = (char const   *)*arrptr;
#line 359
      if (needlen) {
#line 359
        sortarrptr->len = *(unmetalenp + (arrptr - array));
      } else {
#line 359
        sortarrptr->len = -1;
      }
    }
#line 220
    arrptr ++;
#line 220
    sortptrarrptr ++;
#line 220
    sortarrptr ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 365
  oldsortdir = sortdir;
#line 366
  oldsortnumeric = sortnumeric;
#line 368
  if (sortwhat & 4) {
#line 368
    sortdir = -1;
  } else {
#line 368
    sortdir = 1;
  }
#line 369
  if (sortwhat & 2) {
#line 369
    sortnumeric = 1;
  } else {
#line 369
    sortnumeric = 0;
  }
  {
#line 371
  qsort((void *)sortptrarr, (size_t )nsort, sizeof(SortElt ), & eltpcmp);
#line 373
  sortnumeric = oldsortnumeric;
#line 374
  sortdir = oldsortdir;
#line 375
  arrptr = array;
#line 375
  sortptrarrptr = sortptrarr;
  }
  {
#line 375
  while (1) {
    while_continue___7: /* CIL Label */ ;
#line 375
    tmp___24 = nsort;
#line 375
    nsort --;
#line 375
    if (! tmp___24) {
#line 375
      goto while_break___7;
    }
#line 376
    if (unmetalenp) {
#line 377
      *(unmetalenp + (arrptr - array)) = (*sortptrarrptr)->origlen;
    }
#line 378
    tmp___22 = arrptr;
#line 378
    arrptr ++;
#line 378
    tmp___23 = sortptrarrptr;
#line 378
    sortptrarrptr ++;
#line 378
    *tmp___22 = (*tmp___23)->orig;
  }
  while_break___7: /* CIL Label */ ;
  }
  {
#line 381
  popheap();
  }
#line 382
  return;
}
}
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signames.epro"
char *sig_msg[33] ;
#line 7
char *sigs[35] ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signames.c"
char *sig_msg[33]  = 
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signames.c"
  {      (char *)"done",      (char *)"hangup",      (char *)"interrupt",      (char *)"quit", 
        (char *)"illegal hardware instruction",      (char *)"trace trap",      (char *)"abort",      (char *)"bus error", 
        (char *)"floating point exception",      (char *)"killed",      (char *)"user-defined signal 1",      (char *)"segmentation fault", 
        (char *)"user-defined signal 2",      (char *)"broken pipe",      (char *)"alarm",      (char *)"terminated", 
        (char *)"SIGSTKFLT",      (char *)"death of child",      (char *)"continued",      (char *)"suspended (signal)", 
        (char *)"suspended",      (char *)"suspended (tty input)",      (char *)"suspended (tty output)",      (char *)"urgent condition", 
        (char *)"cpu limit exceeded",      (char *)"file size limit exceeded",      (char *)"virtual time alarm",      (char *)"profile signal", 
        (char *)"window size changed",      (char *)"pollable event occurred",      (char *)"power fail",      (char *)"invalid system call", 
        (char *)((void *)0)};
#line 64 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signames.c"
char *sigs[35]  = 
#line 64
  {      (char *)"EXIT",      (char *)"HUP",      (char *)"INT",      (char *)"QUIT", 
        (char *)"ILL",      (char *)"TRAP",      (char *)"ABRT",      (char *)"BUS", 
        (char *)"FPE",      (char *)"KILL",      (char *)"USR1",      (char *)"SEGV", 
        (char *)"USR2",      (char *)"PIPE",      (char *)"ALRM",      (char *)"TERM", 
        (char *)"STKFLT",      (char *)"CHLD",      (char *)"CONT",      (char *)"STOP", 
        (char *)"TSTP",      (char *)"TTIN",      (char *)"TTOU",      (char *)"URG", 
        (char *)"XCPU",      (char *)"XFSZ",      (char *)"VTALRM",      (char *)"PROF", 
        (char *)"WINCH",      (char *)"POLL",      (char *)"PWR",      (char *)"SYS", 
        (char *)"ZERR",      (char *)"DEBUG",      (char *)((void *)0)};
#line 432 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) unsigned int ( __attribute__((__leaf__)) alarm)(unsigned int __seconds ) ;
#line 102 "/usr/include/signal.h"
extern  __attribute__((__nothrow__)) __sighandler_t ( __attribute__((__leaf__)) signal)(int __sig ,
                                                                                        void (*__handler)(int  ) ) ;
#line 134
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) killpg)(__pid_t __pgrp ,
                                                                             int __sig ) ;
#line 215
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) sigemptyset)(sigset_t *__set ) ;
#line 218
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) sigfillset)(sigset_t *__set ) ;
#line 221
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) sigaddset)(sigset_t *__set ,
                                                                                                int __signo ) ;
#line 248
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) sigprocmask)(int __how ,
                                                                                  sigset_t const   * __restrict  __set ,
                                                                                  sigset_t * __restrict  __oset ) ;
#line 256
extern int ( __attribute__((__nonnull__(1))) sigsuspend)(sigset_t const   *__set ) ;
#line 259
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) sigaction)(int __sig ,
                                                                                struct sigaction  const  * __restrict  __act ,
                                                                                struct sigaction * __restrict  __oact ) ;
#line 71 "/usr/include/x86_64-linux-gnu/sys/time.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) gettimeofday)(struct timeval * __restrict  __tv ,
                                                                                                   __timezone_ptr_t __tz ) ;
#line 162 "/usr/include/x86_64-linux-gnu/sys/wait.h"
extern  __attribute__((__nothrow__)) __pid_t wait3(union wait *__stat_loc , int __options ,
                                                   struct rusage *__usage ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.epro"
void zcontext_save(void) ;
#line 8
void zcontext_restore(void) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int noerrexit ;
#line 10
int trap_state ;
#line 11
int trap_return ;
#line 22
pid_t cmdoutpid ;
#line 23
int cmdoutval ;
#line 24
int use_cmdoutval ;
#line 26
struct execstack *exstack ;
#line 35
int list_pipe ;
#line 36
int simple_pline ;
#line 42
int forklevel ;
#line 44
void execode(Eprog p , int dont_change_job , int exiting , char *context ) ;
#line 56
Emulation_options sticky_emulation_dup(Emulation_options src , int useheap ) ;
#line 64
void execsave(void) ;
#line 65
void execrestore(void) ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
extern HashNode removehashnode(HashTable ht , char const   *nam ) ;
#line 32 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
char *chline ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
struct hookdef zshhooks[3] ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.epro"
void inerrflush(void) ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int thisjob ;
#line 10
struct job *jobtab ;
#line 12
int maxjob ;
#line 23
int findproc(pid_t pid , Job *jptr , Process *pptr , int aux ) ;
#line 25
void get_usage(void) ;
#line 27
void check_cursh_sig(int sig ) ;
#line 29
void update_job(Job jn ) ;
#line 51
void addbgstatus(pid_t pid , int status ) ;
#line 56
HashNode gettrapnode(int sig , int ignoredisable ) ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.epro"
void freelinklist(LinkList list , void (*freefunc)(void * ) ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.epro"
int loops ;
#line 17
zlong try_tryflag ;
#line 35 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
int runhookdef(Hookdef h , void *d___0 ) ;
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong lastval ;
#line 157
zlong ttyidlegetfn(Param pm  __attribute__((__unused__)) ) ;
#line 27 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int empty_eprog(Eprog p ) ;
#line 34
Eprog dupeprog(Eprog p , int heap ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int sigtrapped[34]  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
Eprog siglists[34]  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int nsigtrapped  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int queueing_enabled  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int queue_front  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int queue_rear  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int signal_queue[128]  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
sigset_t signal_mask_queue[128]  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int trap_queueing_enabled  ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int trap_queue_front  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int trap_queue_rear  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int trap_queue[128]  ;
#line 18
void install_handler(int sig ) ;
#line 19
void intr(void) ;
#line 28
int signal_suspend(int sig  __attribute__((__unused__)) , int wait_cmd ) ;
#line 29 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int last_signal  ;
#line 30
void wait_for_processes(void) ;
#line 32
void killrunjobs(int from_signal ) ;
#line 33
int killjb(Job jn , int sig ) ;
#line 34
int settrap(int sig , Eprog l , int flags ) ;
#line 35
void unsettrap(int sig ) ;
#line 36
HashNode removetrap(int sig ) ;
#line 37
void starttrapscope(void) ;
#line 38
void endtrapscope(void) ;
#line 39
void queue_traps(int wait_cmd ) ;
#line 40
void unqueue_traps(void) ;
#line 41 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int intrap  ;
#line 42 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int trapisfunc  ;
#line 43 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.epro"
int traplocallevel  ;
#line 44
void dotrap(int sig ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.pro"
static int exit_trap_posix  ;
#line 5
static int handletrap(int sig ) ;
#line 6
static void dotrapargs(int sig , int *sigtr , void *sigfn ) ;
#line 119 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void install_handler(int sig ) 
{ 
  struct sigaction act ;
  void *__cil_tmp3 ;

  {
  {
#line 125
  act.__sigaction_handler.sa_handler = & zhandler;
#line 126
  sigemptyset(& act.sa_mask);
#line 127
  act.sa_flags = 0;
  }
#line 129
  if (opts[92]) {
#line 130
    act.sa_flags |= 536870912;
  }
  {
#line 132
  sigaction(sig, (struct sigaction  const  */* __restrict  */)(& act), (struct sigaction */* __restrict  */)((struct sigaction *)((void *)0)));
  }
#line 154
  return;
}
}
#line 159 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void intr(void) 
{ 


  {
#line 162
  if (opts[92]) {
    {
#line 163
    install_handler(2);
    }
  }
#line 164
  return;
}
}
#line 180 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void holdintr(void) 
{ 
  sigset_t tmp ;
  void *__cil_tmp2 ;

  {
#line 183
  if (opts[92]) {
    {
#line 184
    tmp = signal_mask(2);
#line 184
    signal_block(tmp);
    }
  }
#line 185
  return;
}
}
#line 190 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void noholdintr(void) 
{ 
  sigset_t tmp ;
  void *__cil_tmp2 ;

  {
#line 193
  if (opts[92]) {
    {
#line 194
    tmp = signal_mask(2);
#line 194
    signal_unblock(tmp);
    }
  }
#line 195
  return;
}
}
#line 201 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
sigset_t signal_mask(int sig ) 
{ 
  sigset_t set ;
  void *__cil_tmp3 ;

  {
  {
#line 206
  sigemptyset(& set);
  }
#line 207
  if (sig) {
    {
#line 208
    sigaddset(& set, sig);
    }
  }
#line 209
  return (set);
}
}
#line 219 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
sigset_t signal_block(sigset_t set ) 
{ 
  sigset_t oset ;
  void *__cil_tmp3 ;

  {
  {
#line 225
  sigprocmask(0, (sigset_t const   */* __restrict  */)(& set), (sigset_t */* __restrict  */)(& oset));
  }
#line 253
  return (oset);
}
}
#line 263 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
sigset_t signal_unblock(sigset_t set ) 
{ 
  sigset_t oset ;
  void *__cil_tmp3 ;

  {
  {
#line 269
  sigprocmask(1, (sigset_t const   */* __restrict  */)(& set), (sigset_t */* __restrict  */)(& oset));
  }
#line 302
  return (oset);
}
}
#line 309 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
sigset_t signal_setmask(sigset_t set ) 
{ 
  sigset_t oset ;
  void *__cil_tmp3 ;

  {
  {
#line 315
  sigprocmask(2, (sigset_t const   */* __restrict  */)(& set), (sigset_t */* __restrict  */)(& oset));
  }
#line 350
  return (oset);
}
}
#line 359 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
int signal_suspend(int sig  __attribute__((__unused__)) , int wait_cmd ) 
{ 
  int ret ;
  sigset_t set ;
  void *__cil_tmp5 ;

  {
  {
#line 370
  sigemptyset(& set);
  }
#line 377
  if (! wait_cmd) {
#line 377
    if (! opts[169]) {
#line 377
      if (! (sigtrapped[2] & ~ (1 << 1))) {
        {
#line 379
        sigaddset(& set, 2);
        }
      }
    }
  }
  {
#line 388
  ret = sigsuspend((sigset_t const   *)(& set));
  }
#line 411
  return (ret);
}
}
#line 426 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void wait_for_processes(void) 
{ 
  int old_errno ;
  int *tmp ;
  int status ;
  Job jn ;
  Process pn ;
  pid_t pid ;
  pid_t *procsubpid ;
  int *procsubval ;
  int cont ;
  struct execstack *es ;
  struct rusage ru ;
  union __anonunion_110 __constr_expr_0 ;
  union __anonunion_111 __constr_expr_1 ;
  union __anonunion_112 __constr_expr_2 ;
  int *tmp___0 ;
  int *tmp___1 ;
  int *tmp___2 ;
  struct timezone dummy_tz ;
  union __anonunion_113 __constr_expr_3 ;
  union __anonunion_114 __constr_expr_4 ;
  int tmp___3 ;
  int tmp___4 ;
  int val ;
  union __anonunion_116 __constr_expr_6 ;
  union __anonunion_118 __constr_expr_8 ;
  union __anonunion_119 __constr_expr_9 ;
  int tmp___5 ;
  union __anonunion_120 __constr_expr_10 ;
  int tmp___6 ;
  union __anonunion_121 __constr_expr_11 ;
  sigset_t oset ;
  void *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;

  {
  {
#line 430
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 432
    tmp = __errno_location();
#line 432
    old_errno = *tmp;
#line 437
    procsubpid = & cmdoutpid;
#line 438
    procsubval = & cmdoutval;
#line 439
    cont = 0;
#line 440
    es = exstack;
#line 457
    pid = wait3((union wait *)((void *)(& status)), 11, & ru);
    }
#line 469
    if (! pid) {
#line 470
      goto while_break;
    }
    {
#line 473
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 474
      if (pid == *procsubpid) {
#line 475
        *procsubpid = 0;
#line 476
        __constr_expr_2.__in = status;
#line 476
        if ((int )((signed char )((__constr_expr_2.__i & 127) + 1)) >> 1 > 0) {
#line 477
          __constr_expr_0.__in = status;
#line 477
          *procsubval = 128 | (__constr_expr_0.__i & 127);
        } else {
#line 479
          __constr_expr_1.__in = status;
#line 479
          *procsubval = (__constr_expr_1.__i & 65280) >> 8;
        }
        {
#line 480
        use_cmdoutval = 1;
#line 481
        get_usage();
#line 482
        cont = 1;
        }
#line 483
        goto while_break___0;
      }
#line 485
      if (! es) {
#line 486
        goto while_break___0;
      }
#line 487
      procsubpid = & es->cmdoutpid;
#line 488
      procsubval = & es->cmdoutval;
#line 489
      es = es->next;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 491
    if (cont) {
#line 492
      goto __Cont;
    }
#line 495
    if (pid == -1) {
      {
#line 496
      tmp___1 = __errno_location();
      }
#line 496
      if (*tmp___1 != 10) {
        {
#line 497
        tmp___0 = __errno_location();
#line 497
        zerr("wait failed: %e", *tmp___0);
        }
      }
      {
#line 499
      tmp___2 = __errno_location();
#line 499
      *tmp___2 = old_errno;
      }
#line 500
      goto while_break;
    }
    {
#line 507
    queueing_enabled ++;
#line 513
    tmp___4 = findproc(pid, & jn, & pn, 0);
    }
#line 513
    if (tmp___4) {
#line 514
      if (jn->stat & 16384) {
#line 514
        goto _L___0;
      } else
#line 514
      if (list_pipe) {
#line 514
        if (thisjob == -1) {
#line 514
          goto _L___0;
        } else
#line 514
        if ((jobtab + thisjob)->stat & 16384) {
          _L___0: /* CIL Label */ 
#line 514
          __constr_expr_3.__in = status;
#line 514
          if ((__constr_expr_3.__i & 255) == 127) {
#line 514
            __constr_expr_4.__in = status;
#line 514
            if ((__constr_expr_4.__i & 65280) >> 8 == 20) {
              {
#line 519
              killjb(jn, 18);
#line 520
              zwarn("job can\'t be suspended");
              }
            } else {
              {
#line 524
              gettimeofday((struct timeval */* __restrict  */)(& pn->endtime), (__timezone_ptr_t )(& dummy_tz));
#line 525
              pn->status = status;
#line 526
              pn->ti = ru;
              }
            }
          } else {
            {
#line 524
            gettimeofday((struct timeval */* __restrict  */)(& pn->endtime), (__timezone_ptr_t )(& dummy_tz));
#line 525
            pn->status = status;
#line 526
            pn->ti = ru;
            }
          }
        } else {
          {
#line 524
          gettimeofday((struct timeval */* __restrict  */)(& pn->endtime), (__timezone_ptr_t )(& dummy_tz));
#line 525
          pn->status = status;
#line 526
          pn->ti = ru;
          }
        }
      } else {
        {
#line 524
        gettimeofday((struct timeval */* __restrict  */)(& pn->endtime), (__timezone_ptr_t )(& dummy_tz));
#line 525
        pn->status = status;
#line 526
        pn->ti = ru;
        }
      }
      {
#line 531
      update_job(jn);
      }
    } else {
      {
#line 532
      tmp___3 = findproc(pid, & jn, & pn, 1);
      }
#line 532
      if (tmp___3) {
        {
#line 533
        pn->status = status;
#line 534
        update_job(jn);
        }
      } else {
        {
#line 541
        get_usage();
        }
      }
    }
#line 549
    if (jn) {
#line 549
      if (! (jn->stat & 17408)) {
#line 549
        if (jn - jobtab != (long )thisjob) {
#line 551
          __constr_expr_11.__in = status;
#line 551
          if ((int )((signed char )((__constr_expr_11.__i & 127) + 1)) >> 1 > 0) {
#line 551
            __constr_expr_6.__in = status;
#line 551
            tmp___6 = 128 | (__constr_expr_6.__i & 127);
          } else {
#line 551
            __constr_expr_10.__in = status;
#line 551
            if ((__constr_expr_10.__i & 255) == 127) {
#line 551
              __constr_expr_8.__in = status;
#line 551
              tmp___5 = 128 | ((__constr_expr_8.__i & 65280) >> 8);
            } else {
#line 551
              __constr_expr_9.__in = status;
#line 551
              tmp___5 = (__constr_expr_9.__i & 65280) >> 8;
            }
#line 551
            tmp___6 = tmp___5;
          }
          {
#line 551
          val = tmp___6;
#line 556
          addbgstatus(pid, val);
          }
        }
      }
    }
    {
#line 559
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 559
      queueing_enabled --;
#line 559
      if (! queueing_enabled) {
        {
#line 559
        while (1) {
          while_continue___2: /* CIL Label */ ;
          {
#line 559
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 559
            if (! (queue_front != queue_rear)) {
#line 559
              goto while_break___3;
            }
            {
#line 559
            queue_front = (queue_front + 1) % 128;
#line 559
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 559
            zhandler(signal_queue[queue_front]);
#line 559
            signal_setmask(oset);
            }
          }
          while_break___3: /* CIL Label */ ;
          }
#line 559
          goto while_break___2;
        }
        while_break___2: /* CIL Label */ ;
        }
      }
#line 559
      goto while_break___1;
    }
    while_break___1: /* CIL Label */ ;
    }
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 561
  return;
}
}
#line 566 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void zhandler(int sig ) 
{ 
  sigset_t newmask ;
  sigset_t oldmask ;
  int temp_rear ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int idle ;
  zlong tmp___3 ;
  int tmout ;
  zlong tmp___4 ;
  int tmp___5 ;
  void *__cil_tmp14 ;
  void *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
  {
#line 576
  last_signal = sig;
#line 579
  sigfillset(& newmask);
#line 581
  oldmask = signal_block(newmask);
  }
#line 599
  if (queueing_enabled) {
#line 600
    queue_rear ++;
#line 600
    temp_rear = queue_rear % 128;
#line 604
    if (temp_rear != queue_front) {
#line 606
      queue_rear = temp_rear;
#line 608
      signal_queue[queue_rear] = sig;
#line 610
      signal_mask_queue[queue_rear] = oldmask;
    }
#line 613
    return;
  }
  {
#line 617
  signal_setmask(oldmask);
  }
  {
#line 620
  if (sig == 17) {
#line 620
    goto case_17;
  }
#line 624
  if (sig == 13) {
#line 624
    goto case_13;
  }
#line 635
  if (sig == 1) {
#line 635
    goto case_1;
  }
#line 642
  if (sig == 2) {
#line 642
    goto case_2;
  }
#line 658
  if (sig == 28) {
#line 658
    goto case_28;
  }
#line 664
  if (sig == 14) {
#line 664
    goto case_14;
  }
#line 684
  goto switch_default;
  case_17: /* CIL Label */ 
  {
#line 621
  wait_for_processes();
  }
#line 622
  goto switch_break;
  case_13: /* CIL Label */ 
  {
#line 625
  tmp___0 = handletrap(13);
  }
#line 625
  if (! tmp___0) {
#line 626
    if (! opts[92]) {
      {
#line 627
      _exit(13);
      }
    } else {
      {
#line 628
      tmp = isatty(SHTTY);
      }
#line 628
      if (! tmp) {
        {
#line 629
        stopmsg = 1;
#line 630
        zexit(13, 1);
        }
      }
    }
  }
#line 633
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 636
  tmp___1 = handletrap(1);
  }
#line 636
  if (! tmp___1) {
    {
#line 637
    stopmsg = 1;
#line 638
    zexit(1, 1);
    }
  }
#line 640
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 643
  tmp___2 = handletrap(2);
  }
#line 643
  if (! tmp___2) {
#line 644
    if (opts[138]) {
#line 644
      goto _L;
    } else
#line 644
    if (opts[153]) {
      _L: /* CIL Label */ 
#line 644
      if (opts[92]) {
#line 644
        if (noerrexit < 0) {
          {
#line 646
          zexit(2, 1);
          }
        }
      }
    }
#line 647
    if (list_pipe) {
      {
#line 648
      breaks = loops;
#line 649
      errflag |= 2;
#line 650
      inerrflush();
#line 651
      check_cursh_sig(2);
      }
    } else
#line 647
    if (chline) {
      {
#line 648
      breaks = loops;
#line 649
      errflag |= 2;
#line 650
      inerrflush();
#line 651
      check_cursh_sig(2);
      }
    } else
#line 647
    if (simple_pline) {
      {
#line 648
      breaks = loops;
#line 649
      errflag |= 2;
#line 650
      inerrflush();
#line 651
      check_cursh_sig(2);
      }
    }
#line 653
    lastval = (zlong )130;
  }
#line 655
  goto switch_break;
  case_28: /* CIL Label */ 
  {
#line 659
  adjustwinsize(1);
#line 660
  handletrap(28);
  }
#line 661
  goto switch_break;
  case_14: /* CIL Label */ 
  {
#line 665
  tmp___5 = handletrap(14);
  }
#line 665
  if (! tmp___5) {
    {
#line 666
    tmp___3 = ttyidlegetfn((Param )((void *)0));
#line 666
    idle = (int )tmp___3;
#line 667
    tmp___4 = getiparam((char *)"TMOUT");
#line 667
    tmout = (int )tmp___4;
    }
#line 668
    if (idle >= 0) {
#line 668
      if (idle < tmout) {
        {
#line 669
        alarm((unsigned int )(tmout - idle));
        }
      } else {
        {
#line 676
        noerrs = 0;
#line 676
        errflag = noerrs;
#line 677
        zwarn("timeout");
#line 678
        stopmsg = 1;
#line 679
        zexit(14, 1);
        }
      }
    } else {
      {
#line 676
      noerrs = 0;
#line 676
      errflag = noerrs;
#line 677
      zwarn("timeout");
#line 678
      stopmsg = 1;
#line 679
      zexit(14, 1);
      }
    }
  }
#line 682
  goto switch_break;
  switch_default: /* CIL Label */ 
  {
#line 685
  handletrap(sig);
  }
#line 686
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 697
  return;
}
}
#line 703 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void killrunjobs(int from_signal ) 
{ 
  int i ;
  int killed ;
  __pid_t tmp ;
  int tmp___0 ;
  char *__cil_tmp6 ;

  {
#line 706
  killed = 0;
#line 708
  if (! opts[86]) {
#line 709
    return;
  }
#line 710
  i = 1;
  {
#line 710
  while (1) {
    while_continue: /* CIL Label */ ;
#line 710
    if (! (i <= maxjob)) {
#line 710
      goto while_break;
    }
#line 711
    if (from_signal) {
#line 711
      goto _L;
    } else
#line 711
    if (i != thisjob) {
      _L: /* CIL Label */ 
#line 711
      if ((jobtab + i)->stat & 16) {
#line 711
        if (! ((jobtab + i)->stat & 32)) {
#line 711
          if (! ((jobtab + i)->stat & 2)) {
            {
#line 714
            tmp = getpid();
            }
#line 714
            if ((jobtab + i)->gleader != tmp) {
              {
#line 714
              tmp___0 = killpg((jobtab + i)->gleader, 1);
              }
#line 714
              if (tmp___0 != -1) {
#line 716
                killed ++;
              }
            }
          }
        }
      }
    }
#line 710
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 718
  if (killed) {
    {
#line 719
    zwarn("warning: %d jobs SIGHUPed", killed);
    }
  }
#line 720
  return;
}
}
#line 726 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
int killjb(Job jn , int sig ) 
{ 
  Process pn ;
  int err ;
  int tmp ;
  int *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int *tmp___3 ;
  int tmp___4 ;
  int *tmp___5 ;
  int tmp___6 ;
  int *tmp___7 ;
  int tmp___8 ;
  int *tmp___9 ;
  int tmp___10 ;
  int *tmp___11 ;

  {
#line 730
  err = 0;
#line 732
  if (opts[115]) {
#line 733
    if (jn->stat & 128) {
#line 734
      if (sig == 18) {
#line 735
        pn = (jobtab + jn->other)->procs;
        {
#line 735
        while (1) {
          while_continue: /* CIL Label */ ;
#line 735
          if (! pn) {
#line 735
            goto while_break;
          }
          {
#line 736
          tmp___1 = killpg(pn->pid, sig);
          }
#line 736
          if (tmp___1 == -1) {
            {
#line 737
            tmp = kill(pn->pid, sig);
            }
#line 737
            if (tmp == -1) {
              {
#line 737
              tmp___0 = __errno_location();
              }
#line 737
              if (*tmp___0 != 3) {
#line 738
                err = -1;
              }
            }
          }
#line 735
          pn = pn->next;
        }
        while_break: /* CIL Label */ ;
        }
#line 746
        pn = jn->procs;
        {
#line 746
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 746
          if (! pn->next) {
#line 746
            goto while_break___0;
          }
          {
#line 747
          tmp___2 = kill(pn->pid, sig);
          }
#line 747
          if (tmp___2 == -1) {
            {
#line 747
            tmp___3 = __errno_location();
            }
#line 747
            if (*tmp___3 != 3) {
#line 748
              err = -1;
            }
          }
#line 746
          pn = pn->next;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 754
        if (! (jobtab + jn->other)->procs) {
#line 754
          if (pn) {
            {
#line 755
            tmp___4 = kill(pn->pid, sig);
            }
#line 755
            if (tmp___4 == -1) {
              {
#line 755
              tmp___5 = __errno_location();
              }
#line 755
              if (*tmp___5 != 3) {
#line 756
                err = -1;
              }
            }
          }
        }
#line 758
        return (err);
      }
      {
#line 760
      tmp___6 = killpg((jobtab + jn->other)->gleader, sig);
      }
#line 760
      if (tmp___6 == -1) {
        {
#line 760
        tmp___7 = __errno_location();
        }
#line 760
        if (*tmp___7 != 3) {
#line 761
          err = -1;
        }
      }
      {
#line 763
      tmp___8 = killpg(jn->gleader, sig);
      }
#line 763
      if (tmp___8 == -1) {
        {
#line 763
        tmp___9 = __errno_location();
        }
#line 763
        if (*tmp___9 != 3) {
#line 764
          err = -1;
        }
      }
#line 766
      return (err);
    } else {
      {
#line 769
      tmp___10 = killpg(jn->gleader, sig);
      }
#line 769
      return (tmp___10);
    }
  }
#line 771
  pn = jn->procs;
  {
#line 771
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 771
    if (! pn) {
#line 771
      goto while_break___1;
    }
    {
#line 772
    err = kill(pn->pid, sig);
    }
#line 772
    if (err == -1) {
      {
#line 772
      tmp___11 = __errno_location();
      }
#line 772
      if (*tmp___11 != 3) {
#line 772
        if (sig != 0) {
#line 773
          return (-1);
        }
      }
    }
#line 771
    pn = pn->next;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 774
  return (err);
}
}
#line 786 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
static LinkList savetraps  ;
#line 787 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
static int dontsavetrap  ;
#line 794 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
static void dosavetrap(int sig , int level ) 
{ 
  struct savetrap *st___0 ;
  void *tmp ;
  Shfunc shf ;
  Shfunc newshf ;
  void *tmp___0 ;
  HashNode tmp___1 ;
  Eprog tmp___2 ;
  int tmp___3 ;

  {
  {
#line 798
  tmp = zalloc(sizeof(*st___0));
#line 798
  st___0 = (struct savetrap *)tmp;
#line 799
  st___0->sig = sig;
#line 800
  st___0->local = level;
  }
#line 801
  if (sig == 0) {
#line 801
    st___0->posix = exit_trap_posix;
  } else {
#line 801
    st___0->posix = 0;
  }
#line 802
  tmp___3 = sigtrapped[sig];
#line 802
  st___0->flags = tmp___3;
#line 802
  if (tmp___3 & (1 << 2)) {
    {
#line 807
    newshf = (Shfunc )((void *)0);
#line 808
    tmp___1 = gettrapnode(sig, 1);
#line 808
    shf = (Shfunc )tmp___1;
    }
#line 808
    if (shf) {
      {
#line 810
      tmp___0 = zshcalloc(sizeof(*newshf));
#line 810
      newshf = (Shfunc )tmp___0;
#line 811
      newshf->node.nam = ztrdup((char const   *)shf->node.nam);
#line 812
      newshf->node.flags = shf->node.flags;
#line 813
      newshf->funcdef = dupeprog(shf->funcdef, 0);
#line 814
      newshf->filename = ztrdup((char const   *)shf->filename);
      }
#line 815
      if (shf->sticky) {
        {
#line 816
        newshf->sticky = sticky_emulation_dup(shf->sticky, 0);
        }
      } else {
#line 818
        newshf->sticky = (Emulation_options )0;
      }
#line 819
      if (shf->node.flags & (1 << 9)) {
#line 820
        (newshf->funcdef)->shf = newshf;
      }
    }
#line 826
    st___0->list = (void *)newshf;
  } else
#line 827
  if (sigtrapped[sig]) {
#line 828
    if (siglists[sig]) {
      {
#line 828
      tmp___2 = dupeprog(siglists[sig], 0);
#line 828
      st___0->list = (void *)tmp___2;
      }
    } else {
#line 828
      st___0->list = (void *)0;
    }
  } else {
#line 831
    st___0->list = (void *)0;
  }
#line 833
  if (! savetraps) {
    {
#line 834
    savetraps = znewlinklist();
    }
  }
  {
#line 838
  zinsertlinknode(savetraps, (LinkNode )savetraps, (void *)st___0);
  }
#line 839
  return;
}
}
#line 857 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
int settrap(int sig , Eprog l , int flags ) 
{ 
  int tmp ;
  sigset_t oset ;
  void *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 860
  if (sig == -1) {
#line 861
    return (1);
  }
#line 862
  if (opts[115]) {
#line 862
    if (sig == 22) {
      {
#line 863
      zerr("can\'t trap SIG%s in interactive shells", sigs[sig]);
      }
#line 864
      return (1);
    } else
#line 862
    if (sig == 20) {
      {
#line 863
      zerr("can\'t trap SIG%s in interactive shells", sigs[sig]);
      }
#line 864
      return (1);
    } else
#line 862
    if (sig == 21) {
      {
#line 863
      zerr("can\'t trap SIG%s in interactive shells", sigs[sig]);
      }
#line 864
      return (1);
    }
  }
  {
#line 871
  queueing_enabled ++;
#line 872
  unsettrap(sig);
#line 876
  siglists[sig] = l;
  }
#line 877
  if (! (flags & (1 << 2))) {
    {
#line 877
    tmp = empty_eprog(l);
    }
#line 877
    if (tmp) {
#line 878
      sigtrapped[sig] = 1 << 1;
#line 879
      if (sig) {
#line 879
        if (sig <= 31) {
#line 879
          if (sig != 28) {
#line 879
            if (sig != 17) {
              {
#line 884
              signal(sig, (void (*)(int  ))1);
              }
            }
          }
        }
      }
    } else {
#line 877
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 886
    nsigtrapped ++;
#line 887
    sigtrapped[sig] = 1;
#line 888
    if (sig) {
#line 888
      if (sig <= 31) {
#line 888
        if (sig != 28) {
#line 888
          if (sig != 17) {
            {
#line 893
            install_handler(sig);
            }
          }
        }
      }
    }
  }
#line 895
  sigtrapped[sig] |= flags;
#line 901
  if (sig == 0) {
#line 903
    exit_trap_posix = (int )opts[135];
#line 905
    if (! exit_trap_posix) {
#line 906
      sigtrapped[sig] |= locallevel << 4;
    }
  } else {
#line 909
    sigtrapped[sig] |= locallevel << 4;
  }
  {
#line 910
  while (1) {
    while_continue: /* CIL Label */ ;
#line 910
    queueing_enabled --;
#line 910
    if (! queueing_enabled) {
      {
#line 910
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 910
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 910
          if (! (queue_front != queue_rear)) {
#line 910
            goto while_break___1;
          }
          {
#line 910
          queue_front = (queue_front + 1) % 128;
#line 910
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 910
          zhandler(signal_queue[queue_front]);
#line 910
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 910
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 910
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 911
  return (0);
}
}
#line 915 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void unsettrap(int sig ) 
{ 
  HashNode hn ;
  sigset_t oset ;
  void *__cil_tmp4 ;

  {
  {
#line 920
  queueing_enabled ++;
#line 921
  hn = removetrap(sig);
  }
#line 922
  if (hn) {
    {
#line 923
    (*(shfunctab->freenode))(hn);
    }
  }
  {
#line 924
  while (1) {
    while_continue: /* CIL Label */ ;
#line 924
    queueing_enabled --;
#line 924
    if (! queueing_enabled) {
      {
#line 924
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 924
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 924
          if (! (queue_front != queue_rear)) {
#line 924
            goto while_break___1;
          }
          {
#line 924
          queue_front = (queue_front + 1) % 128;
#line 924
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 924
          zhandler(signal_queue[queue_front]);
#line 924
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 924
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 924
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 925
  return;
}
}
#line 928 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
HashNode removetrap(int sig ) 
{ 
  int trapped ;
  int tmp ;
  sigset_t oset ;
  HashNode node ;
  HashNode tmp___0 ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  void *__cil_tmp9 ;
  void *__cil_tmp10 ;
  void *__cil_tmp11 ;

  {
#line 933
  if (sig == -1) {
#line 935
    return ((HashNode )((void *)0));
  } else
#line 933
  if (opts[115]) {
#line 933
    if (sig == 22) {
#line 935
      return ((HashNode )((void *)0));
    } else
#line 933
    if (sig == 20) {
#line 935
      return ((HashNode )((void *)0));
    } else
#line 933
    if (sig == 21) {
#line 935
      return ((HashNode )((void *)0));
    }
  }
#line 937
  queueing_enabled ++;
#line 938
  trapped = sigtrapped[sig];
#line 949
  if (! dontsavetrap) {
#line 949
    if (sig == 0) {
#line 949
      tmp = ! opts[135];
    } else {
#line 949
      tmp = (int )opts[108];
    }
#line 949
    if (tmp) {
#line 949
      if (locallevel) {
#line 949
        if (! trapped) {
          {
#line 953
          dosavetrap(sig, locallevel);
          }
        } else
#line 949
        if (locallevel > sigtrapped[sig] >> 4) {
          {
#line 953
          dosavetrap(sig, locallevel);
          }
        }
      }
    }
  }
#line 955
  if (! trapped) {
    {
#line 956
    while (1) {
      while_continue: /* CIL Label */ ;
#line 956
      queueing_enabled --;
#line 956
      if (! queueing_enabled) {
        {
#line 956
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 956
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 956
            if (! (queue_front != queue_rear)) {
#line 956
              goto while_break___1;
            }
            {
#line 956
            queue_front = (queue_front + 1) % 128;
#line 956
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 956
            zhandler(signal_queue[queue_front]);
#line 956
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 956
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 956
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 957
    return ((HashNode )((void *)0));
  }
#line 959
  if (sigtrapped[sig] & 1) {
#line 960
    nsigtrapped --;
  }
#line 961
  sigtrapped[sig] = 0;
#line 962
  if (sig == 2) {
#line 962
    if (opts[92]) {
      {
#line 965
      intr();
#line 966
      noholdintr();
      }
    } else {
#line 962
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 967
  if (sig == 1) {
    {
#line 968
    install_handler(sig);
    }
  } else
#line 969
  if (sig == 13) {
#line 969
    if (opts[92]) {
#line 969
      if (! forklevel) {
        {
#line 970
        install_handler(sig);
        }
      } else {
#line 969
        goto _L___0;
      }
    } else {
#line 969
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 971
  if (sig) {
#line 971
    if (sig <= 31) {
#line 971
      if (sig != 28) {
#line 971
        if (sig != 17) {
          {
#line 976
          signal(sig, (void (*)(int  ))0);
          }
        }
      }
    }
  }
#line 977
  if (sig == 0) {
#line 978
    exit_trap_posix = 0;
  }
#line 988
  if (trapped & (1 << 2)) {
    {
#line 989
    tmp___0 = gettrapnode(sig, 1);
#line 989
    node = tmp___0;
    }
#line 995
    if (node) {
      {
#line 996
      removehashnode(shfunctab, (char const   *)node->nam);
      }
    }
    {
#line 997
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 997
      queueing_enabled --;
#line 997
      if (! queueing_enabled) {
        {
#line 997
        while (1) {
          while_continue___3: /* CIL Label */ ;
          {
#line 997
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 997
            if (! (queue_front != queue_rear)) {
#line 997
              goto while_break___4;
            }
            {
#line 997
            queue_front = (queue_front + 1) % 128;
#line 997
            oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 997
            zhandler(signal_queue[queue_front]);
#line 997
            signal_setmask(oset___0);
            }
          }
          while_break___4: /* CIL Label */ ;
          }
#line 997
          goto while_break___3;
        }
        while_break___3: /* CIL Label */ ;
        }
      }
#line 997
      goto while_break___2;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 999
    return (node);
  } else
#line 1000
  if (siglists[sig]) {
    {
#line 1001
    freeeprog(siglists[sig]);
#line 1002
    siglists[sig] = (Eprog )((void *)0);
    }
  }
  {
#line 1004
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 1004
    queueing_enabled --;
#line 1004
    if (! queueing_enabled) {
      {
#line 1004
      while (1) {
        while_continue___6: /* CIL Label */ ;
        {
#line 1004
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 1004
          if (! (queue_front != queue_rear)) {
#line 1004
            goto while_break___7;
          }
          {
#line 1004
          queue_front = (queue_front + 1) % 128;
#line 1004
          oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 1004
          zhandler(signal_queue[queue_front]);
#line 1004
          signal_setmask(oset___1);
          }
        }
        while_break___7: /* CIL Label */ ;
        }
#line 1004
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
    }
#line 1004
    goto while_break___5;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 1006
  return ((HashNode )((void *)0));
}
}
#line 1010 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void starttrapscope(void) 
{ 


  {
#line 1014
  if (intrap) {
#line 1015
    return;
  }
#line 1022
  if (sigtrapped[0]) {
#line 1022
    if (! exit_trap_posix) {
      {
#line 1023
      locallevel ++;
#line 1024
      unsettrap(0);
#line 1025
      locallevel --;
      }
    }
  }
#line 1027
  return;
}
}
#line 1035 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void endtrapscope(void) 
{ 
  LinkNode ln ;
  struct savetrap *st___0 ;
  int exittr ;
  void *exitfn ;
  HashNode tmp ;
  int sig ;
  int tmp___0 ;
  char *__cil_tmp8 ;

  {
#line 1040
  exittr = 0;
#line 1041
  exitfn = (void *)0;
#line 1048
  if (! intrap) {
#line 1048
    if (! exit_trap_posix) {
#line 1048
      exittr = sigtrapped[0];
#line 1048
      if (exittr) {
#line 1050
        if (exittr & (1 << 2)) {
          {
#line 1051
          tmp = removehashnode(shfunctab, "TRAPEXIT");
#line 1051
          exitfn = (void *)tmp;
          }
        } else {
#line 1053
          exitfn = (void *)siglists[0];
#line 1054
          siglists[0] = (Eprog )((void *)0);
        }
#line 1056
        if (sigtrapped[0] & 1) {
#line 1057
          nsigtrapped --;
        }
#line 1058
        sigtrapped[0] = 0;
      }
    }
  }
#line 1061
  if (savetraps) {
    {
#line 1062
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1062
      ln = savetraps->list.first;
#line 1062
      if (ln) {
#line 1062
        st___0 = (struct savetrap *)ln->dat;
#line 1062
        if (st___0) {
#line 1062
          if (! (st___0->local > locallevel)) {
#line 1062
            goto while_break;
          }
        } else {
#line 1062
          goto while_break;
        }
      } else {
#line 1062
        goto while_break;
      }
      {
#line 1065
      sig = st___0->sig;
#line 1067
      remnode(savetraps, ln);
      }
#line 1069
      if (st___0->flags) {
#line 1069
        if ((unsigned long )st___0->list != (unsigned long )((void *)0)) {
#line 1071
          dontsavetrap ++;
#line 1072
          if (st___0->flags & (1 << 2)) {
            {
#line 1073
            settrap(sig, (Eprog )((void *)0), 1 << 2);
            }
          } else {
            {
#line 1075
            settrap(sig, (Eprog )st___0->list, 0);
            }
          }
#line 1076
          if (sig == 0) {
#line 1077
            exit_trap_posix = st___0->posix;
          }
#line 1078
          dontsavetrap --;
#line 1085
          tmp___0 = st___0->flags;
#line 1085
          sigtrapped[sig] = tmp___0;
#line 1085
          if (tmp___0 & (1 << 2)) {
            {
#line 1086
            (*(shfunctab->addnode))(shfunctab, ((Shfunc )st___0->list)->node.nam,
                                    (void *)((Shfunc )st___0->list));
            }
          }
        } else {
#line 1069
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 1088
      if (sigtrapped[sig]) {
#line 1093
        if (sig != 0) {
          {
#line 1094
          unsettrap(sig);
          }
        } else
#line 1093
        if (! exit_trap_posix) {
          {
#line 1094
          unsettrap(sig);
          }
        }
      }
      {
#line 1097
      zfree((void *)st___0, (int )sizeof(*st___0));
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 1101
  if (exittr) {
    {
#line 1107
    dotrapargs(0, & exittr, exitfn);
    }
#line 1108
    if (exittr & (1 << 2)) {
      {
#line 1109
      (*(shfunctab->freenode))((HashNode )exitfn);
      }
    } else {
      {
#line 1111
      freeeprog((Eprog )exitfn);
      }
    }
  }
#line 1115
  return;
}
}
#line 1127 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
static int handletrap(int sig ) 
{ 
  int temp_rear ;
  int tmout ;
  zlong tmp ;
  char *__cil_tmp5 ;

  {
#line 1130
  if (! sigtrapped[sig]) {
#line 1131
    return (0);
  }
#line 1133
  if (trap_queueing_enabled) {
#line 1136
    trap_queue_rear ++;
#line 1136
    temp_rear = trap_queue_rear % 128;
#line 1140
    if (temp_rear != trap_queue_front) {
#line 1141
      trap_queue_rear = temp_rear;
#line 1142
      trap_queue[trap_queue_rear] = sig;
    }
#line 1144
    return (1);
  }
  {
#line 1147
  dotrap(sig);
  }
#line 1149
  if (sig == 14) {
    {
#line 1158
    tmp = getiparam((char *)"TMOUT");
#line 1158
    tmout = (int )tmp;
    }
#line 1158
    if (tmout) {
      {
#line 1159
      alarm((unsigned int )tmout);
      }
    }
  }
#line 1162
  return (1);
}
}
#line 1179 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void queue_traps(int wait_cmd ) 
{ 


  {
#line 1182
  if (! opts[169]) {
#line 1182
    if (! wait_cmd) {
#line 1187
      trap_queueing_enabled = 1;
    }
  }
#line 1189
  return;
}
}
#line 1196 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void unqueue_traps(void) 
{ 


  {
#line 1199
  trap_queueing_enabled = 0;
  {
#line 1200
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1200
    if (! (trap_queue_front != trap_queue_rear)) {
#line 1200
      goto while_break;
    }
    {
#line 1201
    trap_queue_front = (trap_queue_front + 1) % 128;
#line 1202
    handletrap(trap_queue[trap_queue_front]);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1204
  return;
}
}
#line 1236 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
static void dotrapargs(int sig , int *sigtr , void *sigfn ) 
{ 
  LinkList args ;
  char *name ;
  char num[4] ;
  int obreaks ;
  int oretflag ;
  int olastval ;
  int isfunc ;
  int traperr ;
  int new_trap_state ;
  int new_trap_return ;
  int osc ;
  int old_incompfunc ;
  HashNode hn ;
  HashNode tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  sigset_t oset ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
#line 1241
  obreaks = breaks;
#line 1242
  oretflag = retflag;
#line 1243
  olastval = (int )lastval;
#line 1257
  if (*sigtr & (1 << 1)) {
#line 1258
    return;
  } else
#line 1257
  if (! sigfn) {
#line 1258
    return;
  } else
#line 1257
  if (errflag) {
#line 1258
    return;
  }
#line 1268
  if (intrap) {
    {
#line 1272
    if (sig == 32) {
#line 1272
      goto case_32;
    }
#line 1272
    if (sig == 33) {
#line 1272
      goto case_32;
    }
#line 1272
    if (sig == 0) {
#line 1272
      goto case_32;
    }
#line 1269
    goto switch_break;
    case_32: /* CIL Label */ 
    case_33: /* CIL Label */ 
    case_0: /* CIL Label */ 
#line 1273
    return;
    switch_break: /* CIL Label */ ;
    }
  }
  {
#line 1277
  queueing_enabled ++;
#line 1279
  intrap ++;
#line 1280
  *sigtr |= 1 << 1;
#line 1282
  zcontext_save();
#line 1284
  execsave();
#line 1285
  retflag = 0;
#line 1285
  breaks = retflag;
#line 1286
  traplocallevel = locallevel;
#line 1287
  runhookdef(zshhooks + 1, (void *)0);
  }
#line 1288
  if (*sigtr & (1 << 2)) {
    {
#line 1289
    osc = sfcontext;
#line 1289
    old_incompfunc = incompfunc;
#line 1290
    tmp = gettrapnode(sig, 0);
#line 1290
    hn = tmp;
#line 1292
    args = znewlinklist();
    }
#line 1300
    if (hn) {
      {
#line 1301
      name = ztrdup((char const   *)hn->nam);
      }
    } else {
      {
#line 1303
      tmp___0 = strlen((char const   *)sigs[sig]);
#line 1303
      tmp___1 = zalloc(5UL + tmp___0);
#line 1303
      name = (char *)tmp___1;
#line 1304
      sprintf((char */* __restrict  */)name, (char const   */* __restrict  */)"TRAP%s",
              sigs[sig]);
      }
    }
    {
#line 1306
    zinsertlinknode(args, args->list.last, (void *)name);
#line 1307
    sprintf((char */* __restrict  */)(num), (char const   */* __restrict  */)"%d",
            sig);
#line 1308
    zinsertlinknode(args, args->list.last, (void *)(num));
#line 1310
    trap_return = -1;
#line 1311
    trap_state = 1;
#line 1312
    isfunc = 1;
#line 1312
    trapisfunc = isfunc;
#line 1314
    sfcontext = 2;
#line 1315
    incompfunc = 0;
#line 1316
    doshfunc((Shfunc )sigfn, args, 1);
#line 1317
    sfcontext = osc;
#line 1318
    incompfunc = old_incompfunc;
#line 1319
    freelinklist(args, (void (*)(void * ))((void *)0));
#line 1320
    zsfree(name);
    }
  } else {
    {
#line 1322
    trap_return = -2;
#line 1323
    trap_state = 1;
#line 1324
    isfunc = 0;
#line 1324
    trapisfunc = isfunc;
#line 1326
    execode((Eprog )sigfn, 1, 0, (char *)"trap");
    }
  }
  {
#line 1328
  runhookdef(zshhooks + 2, (void *)0);
#line 1330
  traperr = errflag;
#line 1333
  new_trap_state = trap_state;
#line 1334
  new_trap_return = trap_return;
#line 1336
  execrestore();
#line 1337
  zcontext_restore();
  }
#line 1339
  if (new_trap_state == 2) {
#line 1339
    if (isfunc) {
#line 1339
      if (new_trap_return == 0) {
#line 1339
        goto _L;
      } else {
#line 1339
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 1342
      if (isfunc) {
#line 1343
        breaks = loops;
#line 1352
        if (sig == 2) {
#line 1353
          errflag |= 2;
        } else
#line 1352
        if (sig == 3) {
#line 1353
          errflag |= 2;
        } else {
#line 1355
          errflag |= 1;
        }
      }
#line 1357
      lastval = (zlong )new_trap_return;
#line 1359
      retflag = 1;
    }
  } else {
    _L: /* CIL Label */ 
#line 1361
    if (traperr) {
#line 1361
      if (! (emulation & (1 << 3))) {
#line 1362
        lastval = (zlong )1;
      } else {
#line 1368
        lastval = (zlong )olastval;
      }
    } else {
#line 1368
      lastval = (zlong )olastval;
    }
#line 1370
    if (try_tryflag) {
#line 1371
      if (traperr) {
#line 1372
        errflag |= 1;
      } else {
#line 1374
        errflag &= -2;
      }
    }
#line 1376
    breaks += obreaks;
#line 1378
    retflag = oretflag;
#line 1379
    if (breaks > loops) {
#line 1380
      breaks = loops;
    }
  }
#line 1387
  if (zleactive) {
#line 1387
    if (resetneeded) {
      {
#line 1388
      zleentry(5);
      }
    }
  }
#line 1390
  if (*sigtr != 1 << 1) {
#line 1391
    *sigtr &= ~ (1 << 1);
  }
#line 1392
  intrap --;
  {
#line 1394
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1394
    queueing_enabled --;
#line 1394
    if (! queueing_enabled) {
      {
#line 1394
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 1394
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 1394
          if (! (queue_front != queue_rear)) {
#line 1394
            goto while_break___1;
          }
          {
#line 1394
          queue_front = (queue_front + 1) % 128;
#line 1394
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1394
          zhandler(signal_queue[queue_front]);
#line 1394
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 1394
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 1394
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 1395
  return;
}
}
#line 1400 "/home/khheo/testset/zsh-zsh-5.3.1/Src/signals.c"
void dotrap(int sig ) 
{ 
  void *funcprog ;
  int q ;
  HashNode hn ;
  HashNode tmp ;
  sigset_t oset ;
  void *__cil_tmp7 ;

  {
#line 1404
  q = queueing_enabled;
#line 1406
  if (sigtrapped[sig] & (1 << 2)) {
    {
#line 1407
    tmp = gettrapnode(sig, 0);
#line 1407
    hn = tmp;
    }
#line 1408
    if (hn) {
#line 1409
      funcprog = (void *)hn;
    } else {
#line 1414
      funcprog = (void *)0;
    }
  } else {
#line 1417
    funcprog = (void *)siglists[sig];
  }
#line 1424
  if (sigtrapped[sig] & (1 << 1)) {
#line 1425
    return;
  } else
#line 1424
  if (! funcprog) {
#line 1425
    return;
  } else
#line 1424
  if (errflag) {
#line 1425
    return;
  }
  {
#line 1427
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1427
    queueing_enabled = 0;
    {
#line 1427
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 1427
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1427
        if (! (queue_front != queue_rear)) {
#line 1427
          goto while_break___1;
        }
        {
#line 1427
        queue_front = (queue_front + 1) % 128;
#line 1427
        oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1427
        zhandler(signal_queue[queue_front]);
#line 1427
        signal_setmask(oset);
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1427
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1427
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1429
  dotrapargs(sig, sigtrapped + sig, funcprog);
#line 1431
  queueing_enabled = q;
  }
#line 1432
  return;
}
}
#line 684 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) __gid_t ( __attribute__((__leaf__)) getegid)(void) ;
#line 764 "/home/khheo/.linuxbrew/include/ncursesw/term.h"
extern char *tgoto(char const   * , int  , int  ) ;
#line 767
extern int tgetnum(char const   * ) ;
#line 768
extern int tputs(char const   * , int  , int (*)(int  ) ) ;
#line 27 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
Funcstack funcstack ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
zlong curhist ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
char *tcstr[34] ;
#line 13
int tclen[34] ;
#line 20
int tccolours ;
#line 28
int init_term(void) ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **psvar ;
#line 36
char *ttystrname ;
#line 48
zlong shlvl ;
#line 53
struct timeval shtimer ;
#line 193
void convbase(char *s , zlong v , int base ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.epro"
unsigned int txtattrmask  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.epro"
unsigned char *cmdstack  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.epro"
int cmdsp  ;
#line 9
void stradd(char *d___0 ) ;
#line 11
int putstr(int d___0 ) ;
#line 13
void cmdpush(int cmdtok ) ;
#line 14
void cmdpop(void) ;
#line 15
int match_colour(char const   **teststrp , int is_fg , int colour ) ;
#line 16
void match_highlight(char const   *teststr , int *on_var ) ;
#line 17
int output_highlight(int atr , char *buf___7 ) ;
#line 18
void set_default_colour_sequences(void) ;
#line 19
void allocate_colour_buffer(void) ;
#line 20
void free_colour_buffer(void) ;
#line 21
void set_colour_attribute(int atr , int fg_bg , int flags ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.pro"
static int putpromptchar(int doprint , int endchar , unsigned int *txtchangep ) ;
#line 3
static void pputc(char c ) ;
#line 4
static void addbufspc(int need ) ;
#line 5
static int prompttrunc(int arg , int truncchar , int doprint , int endchar , unsigned int *txtchangep ) ;
#line 47 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static char *cmdnames[32]  = 
#line 47 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
  {      (char *)"for",      (char *)"while",      (char *)"repeat",      (char *)"select", 
        (char *)"until",      (char *)"if",      (char *)"then",      (char *)"else", 
        (char *)"elif",      (char *)"math",      (char *)"cond",      (char *)"cmdor", 
        (char *)"cmdand",      (char *)"pipe",      (char *)"errpipe",      (char *)"foreach", 
        (char *)"case",      (char *)"function",      (char *)"subsh",      (char *)"cursh", 
        (char *)"array",      (char *)"quote",      (char *)"dquote",      (char *)"bquote", 
        (char *)"cmdsubst",      (char *)"mathsubst",      (char *)"elif-then",      (char *)"heredoc", 
        (char *)"heredocd",      (char *)"brace",      (char *)"braceparam",      (char *)"always"};
#line 111 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static Buf_vars bv  ;
#line 118 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static void promptpath(char *p , int npath , int tilde ) 
{ 
  char *modp ;
  Nameddir nd ;
  size_t tmp ;
  char *sptr ;
  size_t tmp___0 ;
  char cbu ;
  char *__cil_tmp10 ;

  {
#line 121
  modp = p;
#line 124
  if (tilde) {
    {
#line 124
    nd = finddir(p);
    }
#line 124
    if (nd) {
      {
#line 125
      tmp = strlen((char const   *)nd->dir);
#line 125
      modp = tricat("~", (char const   *)nd->node.nam, (char const   *)(p + tmp));
      }
    }
  }
#line 127
  if (npath) {
#line 129
    if (npath > 0) {
      {
#line 130
      tmp___0 = strlen((char const   *)modp);
#line 130
      sptr = modp + tmp___0;
      }
      {
#line 130
      while (1) {
        while_continue: /* CIL Label */ ;
#line 130
        if (! ((unsigned long )sptr > (unsigned long )modp)) {
#line 130
          goto while_break;
        }
#line 131
        if ((int )*sptr == 47) {
#line 131
          npath --;
#line 131
          if (! npath) {
#line 132
            sptr ++;
#line 133
            goto while_break;
          }
        }
#line 130
        sptr --;
      }
      while_break: /* CIL Label */ ;
      }
#line 136
      if ((int )*sptr == 47) {
#line 136
        if (*(sptr + 1)) {
#line 136
          if ((unsigned long )sptr != (unsigned long )modp) {
#line 137
            sptr ++;
          }
        }
      }
      {
#line 138
      stradd(sptr);
      }
    } else {
#line 141
      sptr = modp + 1;
      {
#line 141
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 141
        if (! *sptr) {
#line 141
          goto while_break___0;
        }
#line 142
        if ((int )*sptr == 47) {
#line 142
          npath ++;
#line 142
          if (! npath) {
#line 143
            goto while_break___0;
          }
        }
#line 141
        sptr ++;
      }
      while_break___0: /* CIL Label */ ;
      }
      {
#line 144
      cbu = *sptr;
#line 145
      *sptr = (char)0;
#line 146
      stradd(modp);
#line 147
      *sptr = cbu;
      }
    }
  } else {
    {
#line 150
    stradd(modp);
    }
  }
#line 152
  if ((unsigned long )p != (unsigned long )modp) {
    {
#line 153
    zsfree(modp);
    }
  }
#line 154
  return;
}
}
#line 170 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
char *promptexpand(char *s , int ns , char *rs , char *Rs , unsigned int *txtchangep ) 
{ 
  struct buf_vars new_vars ;
  char *tmp ;
  int olderr ;
  int oldval ;
  int tmp___0 ;
  void *tmp___1 ;
  char *tmp___2 ;
  char *__cil_tmp13 ;

  {
#line 175
  if (! s) {
    {
#line 176
    tmp = ztrdup("");
    }
#line 176
    return (tmp);
  }
#line 178
  if (termflags & 2) {
#line 178
    if (! opts[92]) {
      {
#line 179
      init_term();
      }
    }
  }
#line 181
  if (opts[143]) {
    {
#line 182
    olderr = errflag;
#line 183
    oldval = (int )lastval;
#line 185
    s = dupstring((char const   *)s);
#line 186
    tmp___0 = parsestr(& s);
    }
#line 186
    if (! tmp___0) {
      {
#line 187
      singsub(& s);
      }
    }
#line 192
    if ((int )*s == -95) {
#line 192
      if ((int )*(s + 1) == 0) {
#line 193
        *s = (char )'\000';
      }
    }
#line 199
    errflag = olderr | (errflag & 2);
#line 200
    lastval = (zlong )oldval;
  }
  {
#line 203
  memset((void *)(& new_vars), 0, sizeof(new_vars));
#line 204
  new_vars.last = bv;
#line 205
  bv = & new_vars;
#line 207
  new_vars.rstring = rs;
#line 208
  new_vars.Rstring = Rs;
#line 209
  new_vars.fm = s;
#line 210
  new_vars.bufspc = 256;
#line 211
  tmp___1 = zshcalloc((size_t )new_vars.bufspc);
#line 211
  new_vars.buf = (char *)tmp___1;
#line 211
  new_vars.bufline = new_vars.buf;
#line 211
  new_vars.bp = new_vars.bufline;
#line 212
  new_vars.bp1 = (char *)((void *)0);
#line 213
  new_vars.truncwidth = 0;
#line 215
  putpromptchar(1, '\000', txtchangep);
#line 216
  addbufspc(2);
  }
#line 217
  if (new_vars.dontcount) {
#line 218
    tmp___2 = new_vars.bp;
#line 218
    (new_vars.bp) ++;
#line 218
    *tmp___2 = (char)-118;
  }
#line 219
  *(new_vars.bp) = (char )'\000';
#line 220
  if (! ns) {
#line 222
    new_vars.bp = new_vars.buf;
    {
#line 222
    while (1) {
      while_continue: /* CIL Label */ ;
#line 222
      if (! *(new_vars.bp)) {
#line 222
        goto while_break;
      }
#line 223
      if ((int )*(new_vars.bp) == -125) {
#line 224
        new_vars.bp += 2;
      } else
#line 225
      if ((int )*(new_vars.bp) == -120) {
        {
#line 227
        chuck(new_vars.bp);
        }
      } else
#line 225
      if ((int )*(new_vars.bp) == -118) {
        {
#line 227
        chuck(new_vars.bp);
        }
      } else
#line 225
      if ((int )*(new_vars.bp) == -95) {
        {
#line 227
        chuck(new_vars.bp);
        }
      } else {
#line 229
        (new_vars.bp) ++;
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 233
  bv = new_vars.last;
#line 235
  return (new_vars.buf);
}
}
#line 239 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static int parsecolorchar(int arg , int is_fg ) 
{ 
  char *ep___0 ;
  char oc ;
  char *col ;
  char *coll ;

  {
#line 242
  if ((int )*(bv->fm + 1) == 123) {
    {
#line 244
    bv->fm += 2;
#line 245
    ep___0 = strchr((char const   *)bv->fm, '}');
    }
#line 245
    if (ep___0) {
      {
#line 246
      oc = *ep___0;
#line 247
      *ep___0 = (char )'\000';
#line 250
      col = promptexpand(bv->fm, 0, (char *)((void *)0), (char *)((void *)0), (unsigned int *)((void *)0));
#line 250
      coll = col;
#line 251
      *ep___0 = oc;
#line 252
      arg = match_colour((char const   **)(& coll), is_fg, 0);
#line 253
      free((void *)col);
#line 254
      bv->fm = ep___0;
      }
    } else {
      {
#line 256
      arg = match_colour((char const   **)(& bv->fm), is_fg, 0);
      }
#line 257
      if ((int )*(bv->fm) != 125) {
#line 258
        (bv->fm) --;
      }
    }
  } else {
    {
#line 261
    arg = match_colour((char const   **)((void *)0), 1, arg);
    }
  }
#line 262
  return (arg);
}
}
#line 270 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static int putpromptchar(int doprint , int endchar , unsigned int *txtchangep ) 
{ 
  char *ss ;
  char *hostnam ;
  int t0 ;
  int arg ;
  int test ;
  int sep ;
  int j ;
  int numjobs ;
  int len ;
  struct tm *tm ;
  struct timezone dummy_tz ;
  struct timeval tv ;
  time_t timet ;
  Nameddir nd ;
  int minus ;
  zlong tmp ;
  int tc ;
  int otruncwidth ;
  zlong tmp___0 ;
  size_t tmp___1 ;
  char *tmp___2 ;
  __uid_t tmp___3 ;
  __gid_t tmp___4 ;
  Funcstack fsptr ;
  time_t tmp___5 ;
  char tmp___6 ;
  int tmp___7 ;
  char tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  char *tmp___15 ;
  size_t tmp___16 ;
  size_t tmp___17 ;
  sigset_t oset ;
  sigset_t oset___0 ;
  size_t tmp___18 ;
  char *tmp___19 ;
  char *tmp___20 ;
  sigset_t oset___1 ;
  unsigned int tmp___21 ;
  int tmp___22 ;
  unsigned int tmp___23 ;
  int tmp___24 ;
  unsigned int tmp___25 ;
  int tmp___26 ;
  unsigned int tmp___27 ;
  int tmp___28 ;
  unsigned int tmp___29 ;
  int tmp___30 ;
  unsigned int tmp___31 ;
  int tmp___32 ;
  unsigned int tmp___33 ;
  int tmp___34 ;
  unsigned int tmp___35 ;
  int tmp___36 ;
  unsigned int tmp___37 ;
  int tmp___38 ;
  unsigned int tmp___39 ;
  int tmp___40 ;
  zlong tmp___41 ;
  int tmp___42 ;
  int tmp___43 ;
  char *tmp___44 ;
  int tmp___45 ;
  char *tmp___46 ;
  int tmp___47 ;
  char *tmp___48 ;
  char *tmp___49 ;
  char *tmfmt ;
  char *dd ;
  char *tmbuf ;
  void *tmp___50 ;
  char *tmp___51 ;
  size_t tmp___52 ;
  size_t tmp___53 ;
  char *tmp___54 ;
  int tmp___56 ;
  int tmp___58 ;
  size_t tmp___59 ;
  size_t tmp___60 ;
  char *tmp___61 ;
  char *tmp___62 ;
  int tmp___64 ;
  int tmp___65 ;
  char tmp___66 ;
  char *tmp___67 ;
  int tmp___68 ;
  char *tmp___69 ;
  int tmp___70 ;
  char *tmp___71 ;
  int tmp___72 ;
  char *tmp___73 ;
  int tmp___74 ;
  int depth ;
  Funcstack fsptr___0 ;
  size_t tmp___75 ;
  zlong flineno ;
  size_t tmp___76 ;
  size_t tmp___77 ;
  char const   *tmp___78 ;
  char *tmp___79 ;
  size_t tmp___80 ;
  char c ;
  int tmp___81 ;
  void *__cil_tmp115 ;
  void *__cil_tmp116 ;
  void *__cil_tmp117 ;
  char *__cil_tmp118 ;
  char *__cil_tmp119 ;
  char *__cil_tmp120 ;
  char *__cil_tmp121 ;
  char *__cil_tmp122 ;
  char *__cil_tmp123 ;
  char *__cil_tmp124 ;
  char *__cil_tmp125 ;
  char *__cil_tmp126 ;
  char *__cil_tmp127 ;
  char *__cil_tmp128 ;
  char *__cil_tmp129 ;
  char *__cil_tmp130 ;
  char *__cil_tmp131 ;
  char *__cil_tmp132 ;
  char *__cil_tmp133 ;
  char *__cil_tmp134 ;
  char *__cil_tmp135 ;
  char *__cil_tmp136 ;

  {
  {
#line 281
  while (1) {
    while_continue: /* CIL Label */ ;
#line 281
    if (*(bv->fm)) {
#line 281
      if (! ((int )*(bv->fm) != endchar)) {
#line 281
        goto while_break;
      }
    } else {
#line 281
      goto while_break;
    }
#line 282
    arg = 0;
#line 283
    if ((int )*(bv->fm) == 37) {
#line 283
      if (opts[141]) {
#line 284
        minus = 0;
#line 285
        (bv->fm) ++;
#line 286
        if ((int )*(bv->fm) == 45) {
#line 287
          minus = 1;
#line 288
          (bv->fm) ++;
        }
#line 290
        if ((int )typtab[(unsigned char )*(bv->fm)] & 1) {
          {
#line 291
          tmp = zstrtol((char const   *)bv->fm, & bv->fm, 10);
#line 291
          arg = (int )tmp;
          }
#line 292
          if (minus) {
#line 293
            arg *= -1;
          }
        } else
#line 294
        if (minus) {
#line 295
          arg = -1;
        }
#line 296
        if ((int )*(bv->fm) == 40) {
#line 299
          (bv->fm) ++;
#line 299
          if ((int )typtab[(unsigned char )*(bv->fm)] & 1) {
            {
#line 300
            tmp___0 = zstrtol((char const   *)bv->fm, & bv->fm, 10);
#line 300
            arg = (int )tmp___0;
            }
          } else
#line 301
          if (arg < 0) {
#line 303
            arg *= -1;
          }
#line 305
          test = 0;
#line 306
          ss = pwd;
#line 307
          tc = (int )*(bv->fm);
          {
#line 310
          if (tc == 126) {
#line 310
            goto case_126;
          }
#line 310
          if (tc == 46) {
#line 310
            goto case_126;
          }
#line 310
          if (tc == 99) {
#line 310
            goto case_126;
          }
#line 316
          if (tc == 67) {
#line 316
            goto case_67;
          }
#line 316
          if (tc == 47) {
#line 316
            goto case_67;
          }
#line 330
          if (tc == 119) {
#line 330
            goto case_119;
          }
#line 330
          if (tc == 68) {
#line 330
            goto case_119;
          }
#line 330
          if (tc == 100) {
#line 330
            goto case_119;
          }
#line 330
          if (tc == 84) {
#line 330
            goto case_119;
          }
#line 330
          if (tc == 116) {
#line 330
            goto case_119;
          }
#line 351
          if (tc == 63) {
#line 351
            goto case_63;
          }
#line 355
          if (tc == 35) {
#line 355
            goto case_35;
          }
#line 359
          if (tc == 103) {
#line 359
            goto case_103;
          }
#line 363
          if (tc == 106) {
#line 363
            goto case_106;
          }
#line 370
          if (tc == 108) {
#line 370
            goto case_108;
          }
#line 378
          if (tc == 101) {
#line 378
            goto case_101;
          }
#line 389
          if (tc == 76) {
#line 389
            goto case_76;
          }
#line 393
          if (tc == 83) {
#line 393
            goto case_83;
          }
#line 397
          if (tc == 118) {
#line 397
            goto case_118;
          }
#line 401
          if (tc == 86) {
#line 401
            goto case_86;
          }
#line 407
          if (tc == 95) {
#line 407
            goto case_95;
          }
#line 410
          if (tc == 33) {
#line 410
            goto case_33;
          }
#line 413
          goto switch_default;
          case_126: /* CIL Label */ 
          case_46: /* CIL Label */ 
          case_99: /* CIL Label */ 
          {
#line 311
          nd = finddir(ss);
          }
#line 311
          if (nd) {
            {
#line 312
            arg --;
#line 313
            tmp___1 = strlen((char const   *)nd->dir);
#line 313
            ss += tmp___1;
            }
          }
          case_67: /* CIL Label */ 
          case_47: /* CIL Label */ 
#line 318
          tmp___2 = ss;
#line 318
          ss ++;
#line 318
          if ((int )*tmp___2 == 47) {
#line 318
            if (*ss) {
#line 319
              arg --;
            }
          }
          {
#line 320
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 320
            if (! *ss) {
#line 320
              goto while_break___0;
            }
#line 321
            if ((int )*ss == 47) {
#line 322
              arg --;
            }
#line 320
            ss ++;
          }
          while_break___0: /* CIL Label */ ;
          }
#line 323
          if (arg <= 0) {
#line 324
            test = 1;
          }
#line 325
          goto switch_break;
          case_119: /* CIL Label */ 
          case_68: /* CIL Label */ 
          case_100: /* CIL Label */ 
          case_84: /* CIL Label */ 
          case_116: /* CIL Label */ 
          {
#line 331
          timet = time((time_t *)((void *)0));
#line 332
          tm = localtime((time_t const   *)(& timet));
          }
          {
#line 334
          if (tc == 116) {
#line 334
            goto case_116___0;
          }
#line 337
          if (tc == 84) {
#line 337
            goto case_84___0;
          }
#line 340
          if (tc == 100) {
#line 340
            goto case_100___0;
          }
#line 343
          if (tc == 68) {
#line 343
            goto case_68___0;
          }
#line 346
          if (tc == 119) {
#line 346
            goto case_119___0;
          }
#line 333
          goto switch_break___0;
          case_116___0: /* CIL Label */ 
#line 335
          test = arg == tm->tm_min;
#line 336
          goto switch_break___0;
          case_84___0: /* CIL Label */ 
#line 338
          test = arg == tm->tm_hour;
#line 339
          goto switch_break___0;
          case_100___0: /* CIL Label */ 
#line 341
          test = arg == tm->tm_mday;
#line 342
          goto switch_break___0;
          case_68___0: /* CIL Label */ 
#line 344
          test = arg == tm->tm_mon;
#line 345
          goto switch_break___0;
          case_119___0: /* CIL Label */ 
#line 347
          test = arg == tm->tm_wday;
#line 348
          goto switch_break___0;
          switch_break___0: /* CIL Label */ ;
          }
#line 350
          goto switch_break;
          case_63: /* CIL Label */ 
#line 352
          if (lastval == (zlong )arg) {
#line 353
            test = 1;
          }
#line 354
          goto switch_break;
          case_35: /* CIL Label */ 
          {
#line 356
          tmp___3 = geteuid();
          }
#line 356
          if (tmp___3 == (uid_t )arg) {
#line 357
            test = 1;
          }
#line 358
          goto switch_break;
          case_103: /* CIL Label */ 
          {
#line 360
          tmp___4 = getegid();
          }
#line 360
          if (tmp___4 == (gid_t )arg) {
#line 361
            test = 1;
          }
#line 362
          goto switch_break;
          case_106: /* CIL Label */ 
#line 364
          numjobs = 0;
#line 364
          j = 1;
          {
#line 364
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 364
            if (! (j <= maxjob)) {
#line 364
              goto while_break___1;
            }
#line 365
            if ((jobtab + j)->stat) {
#line 365
              if ((jobtab + j)->procs) {
#line 365
                if (! ((jobtab + j)->stat & 32)) {
#line 366
                  numjobs ++;
                }
              }
            }
#line 364
            j ++;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 367
          if (numjobs >= arg) {
#line 368
            test = 1;
          }
#line 369
          goto switch_break;
          case_108: /* CIL Label */ 
          {
#line 371
          *(bv->bp) = (char )'\000';
#line 372
          countprompt(bv->bufline, & t0, (int *)0, 0);
          }
#line 373
          if (minus) {
#line 374
            t0 = (int )(zterm_columns - (zlong )t0);
          }
#line 375
          if (t0 >= arg) {
#line 376
            test = 1;
          }
#line 377
          goto switch_break;
          case_101: /* CIL Label */ 
#line 380
          fsptr = funcstack;
#line 381
          test = arg;
          {
#line 382
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 382
            if (fsptr) {
#line 382
              if (! (test > 0)) {
#line 382
                goto while_break___2;
              }
            } else {
#line 382
              goto while_break___2;
            }
#line 383
            test --;
#line 384
            fsptr = fsptr->prev;
          }
          while_break___2: /* CIL Label */ ;
          }
#line 386
          test = ! test;
#line 388
          goto switch_break;
          case_76: /* CIL Label */ 
#line 390
          if (shlvl >= (zlong )arg) {
#line 391
            test = 1;
          }
#line 392
          goto switch_break;
          case_83: /* CIL Label */ 
          {
#line 394
          tmp___5 = time((time_t *)((void *)0));
          }
#line 394
          if (tmp___5 - shtimer.tv_sec >= (time_t )arg) {
#line 395
            test = 1;
          }
#line 396
          goto switch_break;
          case_118: /* CIL Label */ 
          {
#line 398
          tmp___6 = arrlen_ge(psvar, (unsigned int )arg);
          }
#line 398
          if (tmp___6) {
#line 399
            test = 1;
          }
#line 400
          goto switch_break;
          case_86: /* CIL Label */ 
          {
#line 402
          tmp___8 = arrlen_ge(psvar, (unsigned int )arg);
          }
#line 402
          if (tmp___8) {
#line 403
            if (arg) {
#line 403
              tmp___7 = arg;
            } else {
#line 403
              tmp___7 = 1;
            }
#line 403
            if (*(*(psvar + (tmp___7 - 1)))) {
#line 404
              test = 1;
            }
          }
#line 406
          goto switch_break;
          case_95: /* CIL Label */ 
#line 408
          test = cmdsp >= arg;
#line 409
          goto switch_break;
          case_33: /* CIL Label */ 
          {
#line 411
          test = privasserted();
          }
#line 412
          goto switch_break;
          switch_default: /* CIL Label */ 
#line 414
          test = -1;
#line 415
          goto switch_break;
          switch_break: /* CIL Label */ ;
          }
#line 417
          if (! *(bv->fm)) {
#line 418
            return (0);
          } else {
#line 417
            (bv->fm) ++;
#line 417
            sep = (int )*(bv->fm);
#line 417
            if (! sep) {
#line 418
              return (0);
            }
          }
#line 419
          (bv->fm) ++;
#line 421
          otruncwidth = bv->truncwidth;
#line 422
          bv->truncwidth = 0;
#line 423
          if (test == 1) {
#line 423
            if (doprint) {
#line 423
              tmp___9 = 1;
            } else {
#line 423
              tmp___9 = 0;
            }
          } else {
#line 423
            tmp___9 = 0;
          }
          {
#line 423
          tmp___10 = putpromptchar(tmp___9, sep, txtchangep);
          }
#line 423
          if (tmp___10) {
#line 423
            (bv->fm) ++;
#line 423
            if (*(bv->fm)) {
#line 423
              if (test == 0) {
#line 423
                if (doprint) {
#line 423
                  tmp___11 = 1;
                } else {
#line 423
                  tmp___11 = 0;
                }
              } else {
#line 423
                tmp___11 = 0;
              }
              {
#line 423
              tmp___12 = putpromptchar(tmp___11, ')', txtchangep);
              }
#line 423
              if (! tmp___12) {
#line 427
                bv->truncwidth = otruncwidth;
#line 428
                return (0);
              }
            } else {
#line 427
              bv->truncwidth = otruncwidth;
#line 428
              return (0);
            }
          } else {
#line 427
            bv->truncwidth = otruncwidth;
#line 428
            return (0);
          }
#line 430
          bv->truncwidth = otruncwidth;
#line 431
          goto __Cont;
        }
#line 433
        if (! doprint) {
          {
#line 435
          if ((int )*(bv->fm) == 91) {
#line 435
            goto case_91;
          }
#line 439
          if ((int )*(bv->fm) == 60) {
#line 439
            goto case_60;
          }
#line 442
          if ((int )*(bv->fm) == 62) {
#line 442
            goto case_62;
          }
#line 445
          if ((int )*(bv->fm) == 68) {
#line 445
            goto case_68___1;
          }
#line 449
          goto switch_default___0;
          case_91: /* CIL Label */ 
          {
#line 436
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 436
            (bv->fm) ++;
#line 436
            if (! ((int )typtab[(unsigned char )*(bv->fm)] & 1)) {
#line 436
              goto while_break___3;
            }
          }
          while_break___3: /* CIL Label */ ;
          }
          {
#line 437
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 437
            (bv->fm) ++;
#line 437
            if (! ((int )*(bv->fm) != 93)) {
#line 437
              goto while_break___4;
            }
          }
          while_break___4: /* CIL Label */ ;
          }
#line 438
          goto __Cont;
          case_60: /* CIL Label */ 
          {
#line 440
          while (1) {
            while_continue___5: /* CIL Label */ ;
#line 440
            (bv->fm) ++;
#line 440
            if (! ((int )*(bv->fm) != 60)) {
#line 440
              goto while_break___5;
            }
          }
          while_break___5: /* CIL Label */ ;
          }
#line 441
          goto __Cont;
          case_62: /* CIL Label */ 
          {
#line 443
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 443
            (bv->fm) ++;
#line 443
            if (! ((int )*(bv->fm) != 62)) {
#line 443
              goto while_break___6;
            }
          }
          while_break___6: /* CIL Label */ ;
          }
#line 444
          goto __Cont;
          case_68___1: /* CIL Label */ 
#line 446
          if ((int )*(bv->fm + 1) == 123) {
            {
#line 447
            while (1) {
              while_continue___7: /* CIL Label */ ;
#line 447
              (bv->fm) ++;
#line 447
              if (! ((int )*(bv->fm) != 125)) {
#line 447
                goto while_break___7;
              }
            }
            while_break___7: /* CIL Label */ ;
            }
          }
#line 448
          goto __Cont;
          switch_default___0: /* CIL Label */ 
#line 450
          goto __Cont;
          switch_break___1: /* CIL Label */ ;
          }
        }
        {
#line 453
        if ((int )*(bv->fm) == 126) {
#line 453
          goto case_126___0;
        }
#line 457
        if ((int )*(bv->fm) == 47) {
#line 457
          goto case_47___0;
        }
#line 457
        if ((int )*(bv->fm) == 100) {
#line 457
          goto case_47___0;
        }
#line 461
        if ((int )*(bv->fm) == 46) {
#line 461
          goto case_46___0;
        }
#line 461
        if ((int )*(bv->fm) == 99) {
#line 461
          goto case_46___0;
        }
#line 464
        if ((int )*(bv->fm) == 67) {
#line 464
          goto case_67___0;
        }
#line 467
        if ((int )*(bv->fm) == 78) {
#line 467
          goto case_78;
        }
#line 471
        if ((int )*(bv->fm) == 33) {
#line 471
          goto case_33___0;
        }
#line 471
        if ((int )*(bv->fm) == 104) {
#line 471
          goto case_33___0;
        }
#line 476
        if ((int )*(bv->fm) == 106) {
#line 476
          goto case_106___0;
        }
#line 484
        if ((int )*(bv->fm) == 77) {
#line 484
          goto case_77;
        }
#line 490
        if ((int )*(bv->fm) == 109) {
#line 490
          goto case_109;
        }
#line 511
        if ((int )*(bv->fm) == 83) {
#line 511
          goto case_83___0;
        }
#line 516
        if ((int )*(bv->fm) == 115) {
#line 516
          goto case_115;
        }
#line 521
        if ((int )*(bv->fm) == 66) {
#line 521
          goto case_66;
        }
#line 526
        if ((int )*(bv->fm) == 98) {
#line 526
          goto case_98;
        }
#line 531
        if ((int )*(bv->fm) == 85) {
#line 531
          goto case_85;
        }
#line 536
        if ((int )*(bv->fm) == 117) {
#line 536
          goto case_117;
        }
#line 541
        if ((int )*(bv->fm) == 70) {
#line 541
          goto case_70;
        }
#line 552
        if ((int )*(bv->fm) == 102) {
#line 552
          goto case_102;
        }
#line 557
        if ((int )*(bv->fm) == 75) {
#line 557
          goto case_75;
        }
#line 568
        if ((int )*(bv->fm) == 107) {
#line 568
          goto case_107;
        }
#line 573
        if ((int )*(bv->fm) == 91) {
#line 573
          goto case_91___0;
        }
#line 580
        if ((int )*(bv->fm) == 62) {
#line 580
          goto case_62___0;
        }
#line 580
        if ((int )*(bv->fm) == 60) {
#line 580
          goto case_62___0;
        }
#line 592
        if ((int )*(bv->fm) == 123) {
#line 592
          goto case_123;
        }
#line 601
        if ((int )*(bv->fm) == 71) {
#line 601
          goto case_71;
        }
#line 611
        if ((int )*(bv->fm) == 125) {
#line 611
          goto case_125;
        }
#line 625
        if ((int )*(bv->fm) == 68) {
#line 625
          goto case_68___2;
        }
#line 625
        if ((int )*(bv->fm) == 87) {
#line 625
          goto case_68___2;
        }
#line 625
        if ((int )*(bv->fm) == 119) {
#line 625
          goto case_68___2;
        }
#line 625
        if ((int )*(bv->fm) == 42) {
#line 625
          goto case_68___2;
        }
#line 625
        if ((int )*(bv->fm) == 84) {
#line 625
          goto case_68___2;
        }
#line 625
        if ((int )*(bv->fm) == 64) {
#line 625
          goto case_68___2;
        }
#line 625
        if ((int )*(bv->fm) == 116) {
#line 625
          goto case_68___2;
        }
#line 690
        if ((int )*(bv->fm) == 110) {
#line 690
          goto case_110;
        }
#line 693
        if ((int )*(bv->fm) == 108) {
#line 693
          goto case_108___0;
        }
#line 701
        if ((int )*(bv->fm) == 121) {
#line 701
          goto case_121;
        }
#line 709
        if ((int )*(bv->fm) == 76) {
#line 709
          goto case_76___0;
        }
#line 718
        if ((int )*(bv->fm) == 63) {
#line 718
          goto case_63___0;
        }
#line 728
        if ((int )*(bv->fm) == 41) {
#line 728
          goto case_41;
        }
#line 728
        if ((int )*(bv->fm) == 37) {
#line 728
          goto case_41;
        }
#line 732
        if ((int )*(bv->fm) == 35) {
#line 732
          goto case_35___0;
        }
#line 736
        if ((int )*(bv->fm) == 118) {
#line 736
          goto case_118___0;
        }
#line 744
        if ((int )*(bv->fm) == 69) {
#line 744
          goto case_69;
        }
#line 747
        if ((int )*(bv->fm) == 94) {
#line 747
          goto case_94;
        }
#line 773
        if ((int )*(bv->fm) == 95) {
#line 773
          goto case_95___0;
        }
#line 799
        if ((int )*(bv->fm) == 114) {
#line 799
          goto case_114;
        }
#line 803
        if ((int )*(bv->fm) == 82) {
#line 803
          goto case_82;
        }
#line 807
        if ((int )*(bv->fm) == 101) {
#line 807
          goto case_101___0;
        }
#line 820
        if ((int )*(bv->fm) == 73) {
#line 820
          goto case_73;
        }
#line 843
        if ((int )*(bv->fm) == 105) {
#line 843
          goto case_105;
        }
#line 852
        if ((int )*(bv->fm) == 120) {
#line 852
          goto case_120;
        }
#line 861
        if ((int )*(bv->fm) == 0) {
#line 861
          goto case_0;
        }
#line 863
        if ((int )*(bv->fm) == -125) {
#line 863
          goto case_neg_125;
        }
#line 452
        goto switch_break___2;
        case_126___0: /* CIL Label */ 
        {
#line 454
        promptpath(pwd, arg, 1);
        }
#line 455
        goto switch_break___2;
        case_47___0: /* CIL Label */ 
        case_100___1: /* CIL Label */ 
        {
#line 458
        promptpath(pwd, arg, 0);
        }
#line 459
        goto switch_break___2;
        case_46___0: /* CIL Label */ 
        case_99___0: /* CIL Label */ 
#line 462
        if (arg) {
#line 462
          tmp___13 = arg;
        } else {
#line 462
          tmp___13 = 1;
        }
        {
#line 462
        promptpath(pwd, tmp___13, 1);
        }
#line 463
        goto switch_break___2;
        case_67___0: /* CIL Label */ 
#line 465
        if (arg) {
#line 465
          tmp___14 = arg;
        } else {
#line 465
          tmp___14 = 1;
        }
        {
#line 465
        promptpath(pwd, tmp___14, 0);
        }
#line 466
        goto switch_break___2;
        case_78: /* CIL Label */ 
#line 468
        if (scriptname) {
#line 468
          tmp___15 = scriptname;
        } else {
#line 468
          tmp___15 = argzero;
        }
        {
#line 468
        promptpath(tmp___15, arg, 0);
        }
#line 469
        goto switch_break___2;
        case_33___0: /* CIL Label */ 
        case_104: /* CIL Label */ 
        {
#line 472
        addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 473
        convbase(bv->bp, curhist, 10);
#line 474
        tmp___16 = strlen((char const   *)bv->bp);
#line 474
        bv->bp += tmp___16;
        }
#line 475
        goto switch_break___2;
        case_106___0: /* CIL Label */ 
#line 477
        numjobs = 0;
#line 477
        j = 1;
        {
#line 477
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 477
          if (! (j <= maxjob)) {
#line 477
            goto while_break___8;
          }
#line 478
          if ((jobtab + j)->stat) {
#line 478
            if ((jobtab + j)->procs) {
#line 478
              if (! ((jobtab + j)->stat & 32)) {
#line 479
                numjobs ++;
              }
            }
          }
#line 477
          j ++;
        }
        while_break___8: /* CIL Label */ ;
        }
        {
#line 480
        addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 481
        sprintf((char */* __restrict  */)bv->bp, (char const   */* __restrict  */)"%d",
                numjobs);
#line 482
        tmp___17 = strlen((char const   *)bv->bp);
#line 482
        bv->bp += tmp___17;
        }
#line 483
        goto switch_break___2;
        case_77: /* CIL Label */ 
        {
#line 485
        queueing_enabled ++;
#line 486
        hostnam = getsparam((char *)"HOST");
        }
#line 486
        if (hostnam) {
          {
#line 487
          stradd(hostnam);
          }
        }
        {
#line 488
        while (1) {
          while_continue___9: /* CIL Label */ ;
#line 488
          queueing_enabled --;
#line 488
          if (! queueing_enabled) {
            {
#line 488
            while (1) {
              while_continue___10: /* CIL Label */ ;
              {
#line 488
              while (1) {
                while_continue___11: /* CIL Label */ ;
#line 488
                if (! (queue_front != queue_rear)) {
#line 488
                  goto while_break___11;
                }
                {
#line 488
                queue_front = (queue_front + 1) % 128;
#line 488
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 488
                zhandler(signal_queue[queue_front]);
#line 488
                signal_setmask(oset);
                }
              }
              while_break___11: /* CIL Label */ ;
              }
#line 488
              goto while_break___10;
            }
            while_break___10: /* CIL Label */ ;
            }
          }
#line 488
          goto while_break___9;
        }
        while_break___9: /* CIL Label */ ;
        }
#line 489
        goto switch_break___2;
        case_109: /* CIL Label */ 
#line 491
        if (! arg) {
#line 492
          arg ++;
        }
        {
#line 493
        queueing_enabled ++;
#line 494
        hostnam = getsparam((char *)"HOST");
        }
#line 494
        if (! hostnam) {
          {
#line 495
          while (1) {
            while_continue___12: /* CIL Label */ ;
#line 495
            queueing_enabled --;
#line 495
            if (! queueing_enabled) {
              {
#line 495
              while (1) {
                while_continue___13: /* CIL Label */ ;
                {
#line 495
                while (1) {
                  while_continue___14: /* CIL Label */ ;
#line 495
                  if (! (queue_front != queue_rear)) {
#line 495
                    goto while_break___14;
                  }
                  {
#line 495
                  queue_front = (queue_front + 1) % 128;
#line 495
                  oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 495
                  zhandler(signal_queue[queue_front]);
#line 495
                  signal_setmask(oset___0);
                  }
                }
                while_break___14: /* CIL Label */ ;
                }
#line 495
                goto while_break___13;
              }
              while_break___13: /* CIL Label */ ;
              }
            }
#line 495
            goto while_break___12;
          }
          while_break___12: /* CIL Label */ ;
          }
#line 496
          goto switch_break___2;
        }
#line 498
        if (arg < 0) {
          {
#line 499
          tmp___18 = strlen((char const   *)hostnam);
#line 499
          ss = hostnam + tmp___18;
          }
          {
#line 499
          while (1) {
            while_continue___15: /* CIL Label */ ;
#line 499
            if (! ((unsigned long )ss > (unsigned long )hostnam)) {
#line 499
              goto while_break___15;
            }
#line 500
            if ((int )*(ss + -1) == 46) {
#line 500
              arg ++;
#line 500
              if (! arg) {
#line 501
                goto while_break___15;
              }
            }
#line 499
            ss --;
          }
          while_break___15: /* CIL Label */ ;
          }
          {
#line 502
          stradd(ss);
          }
        } else {
#line 504
          ss = hostnam;
          {
#line 504
          while (1) {
            while_continue___16: /* CIL Label */ ;
#line 504
            if (! *ss) {
#line 504
              goto while_break___16;
            }
#line 505
            if ((int )*ss == 46) {
#line 505
              arg --;
#line 505
              if (! arg) {
#line 506
                goto while_break___16;
              }
            }
#line 504
            ss ++;
          }
          while_break___16: /* CIL Label */ ;
          }
#line 507
          if (*ss) {
            {
#line 507
            tmp___19 = dupstrpfx((char const   *)hostnam, (int )(ss - hostnam));
#line 507
            tmp___20 = tmp___19;
            }
          } else {
#line 507
            tmp___20 = hostnam;
          }
          {
#line 507
          stradd(tmp___20);
          }
        }
        {
#line 509
        while (1) {
          while_continue___17: /* CIL Label */ ;
#line 509
          queueing_enabled --;
#line 509
          if (! queueing_enabled) {
            {
#line 509
            while (1) {
              while_continue___18: /* CIL Label */ ;
              {
#line 509
              while (1) {
                while_continue___19: /* CIL Label */ ;
#line 509
                if (! (queue_front != queue_rear)) {
#line 509
                  goto while_break___19;
                }
                {
#line 509
                queue_front = (queue_front + 1) % 128;
#line 509
                oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 509
                zhandler(signal_queue[queue_front]);
#line 509
                signal_setmask(oset___1);
                }
              }
              while_break___19: /* CIL Label */ ;
              }
#line 509
              goto while_break___18;
            }
            while_break___18: /* CIL Label */ ;
            }
          }
#line 509
          goto while_break___17;
        }
        while_break___17: /* CIL Label */ ;
        }
#line 510
        goto switch_break___2;
        case_83___0: /* CIL Label */ 
#line 512
        if (txtchangep) {
#line 512
          *txtchangep &= 4294967231U;
#line 512
          tmp___21 = *txtchangep | 2U;
#line 512
          *txtchangep = tmp___21;
#line 512
          if (tmp___21) {
#line 512
            tmp___22 = 1;
          } else {
#line 512
            tmp___22 = 0;
          }
        } else {
#line 512
          tmp___22 = 0;
        }
        {
#line 513
        txtattrmask |= 2U;
#line 514
        tsetcap(19, 2);
        }
#line 515
        goto switch_break___2;
        case_115: /* CIL Label */ 
#line 517
        if (txtchangep) {
#line 517
          *txtchangep &= 4294967293U;
#line 517
          tmp___23 = *txtchangep | 64U;
#line 517
          *txtchangep = tmp___23;
#line 517
          if (tmp___23) {
#line 517
            tmp___24 = 1;
          } else {
#line 517
            tmp___24 = 0;
          }
        } else {
#line 517
          tmp___24 = 0;
        }
        {
#line 518
        txtattrmask &= 4294967293U;
#line 519
        tsetcap(22, 6);
        }
#line 520
        goto switch_break___2;
        case_66: /* CIL Label */ 
#line 522
        if (txtchangep) {
#line 522
          *txtchangep &= 4294967263U;
#line 522
          tmp___25 = *txtchangep | 1U;
#line 522
          *txtchangep = tmp___25;
#line 522
          if (tmp___25) {
#line 522
            tmp___26 = 1;
          } else {
#line 522
            tmp___26 = 0;
          }
        } else {
#line 522
          tmp___26 = 0;
        }
        {
#line 523
        txtattrmask |= 1U;
#line 524
        tsetcap(18, 6);
        }
#line 525
        goto switch_break___2;
        case_98: /* CIL Label */ 
#line 527
        if (txtchangep) {
#line 527
          *txtchangep &= 4294967294U;
#line 527
          tmp___27 = *txtchangep | 32U;
#line 527
          *txtchangep = tmp___27;
#line 527
          if (tmp___27) {
#line 527
            tmp___28 = 1;
          } else {
#line 527
            tmp___28 = 0;
          }
        } else {
#line 527
          tmp___28 = 0;
        }
        {
#line 528
        txtattrmask &= 4294967294U;
#line 529
        tsetcap(21, 6);
        }
#line 530
        goto switch_break___2;
        case_85: /* CIL Label */ 
#line 532
        if (txtchangep) {
#line 532
          *txtchangep &= 4294967167U;
#line 532
          tmp___29 = *txtchangep | 4U;
#line 532
          *txtchangep = tmp___29;
#line 532
          if (tmp___29) {
#line 532
            tmp___30 = 1;
          } else {
#line 532
            tmp___30 = 0;
          }
        } else {
#line 532
          tmp___30 = 0;
        }
        {
#line 533
        txtattrmask |= 4U;
#line 534
        tsetcap(20, 2);
        }
#line 535
        goto switch_break___2;
        case_117: /* CIL Label */ 
#line 537
        if (txtchangep) {
#line 537
          *txtchangep &= 4294967291U;
#line 537
          tmp___31 = *txtchangep | 128U;
#line 537
          *txtchangep = tmp___31;
#line 537
          if (tmp___31) {
#line 537
            tmp___32 = 1;
          } else {
#line 537
            tmp___32 = 0;
          }
        } else {
#line 537
          tmp___32 = 0;
        }
        {
#line 538
        txtattrmask &= 4294967291U;
#line 539
        tsetcap(23, 6);
        }
#line 540
        goto switch_break___2;
        case_70: /* CIL Label */ 
        {
#line 542
        arg = parsecolorchar(arg, 1);
        }
#line 543
        if (arg >= 0) {
#line 543
          if (! (arg & 256)) {
#line 544
            if (txtchangep) {
#line 544
              *txtchangep &= 4293922559U;
#line 544
              tmp___33 = *txtchangep | (unsigned int )(arg & 269479944);
#line 544
              *txtchangep = tmp___33;
#line 544
              if (tmp___33) {
#line 544
                tmp___34 = 1;
              } else {
#line 544
                tmp___34 = 0;
              }
            } else {
#line 544
              tmp___34 = 0;
            }
            {
#line 546
            txtattrmask &= 4293922815U;
#line 547
            txtattrmask |= (unsigned int )(arg & 269479944);
#line 548
            set_colour_attribute(arg, 0, 2);
            }
#line 549
            goto switch_break___2;
          }
        }
        case_102: /* CIL Label */ 
#line 553
        if (txtchangep) {
#line 553
          *txtchangep &= 4025487351U;
#line 553
          tmp___35 = *txtchangep | 256U;
#line 553
          *txtchangep = tmp___35;
#line 553
          if (tmp___35) {
#line 553
            tmp___36 = 1;
          } else {
#line 553
            tmp___36 = 0;
          }
        } else {
#line 553
          tmp___36 = 0;
        }
        {
#line 554
        txtattrmask &= 4025487351U;
#line 555
        set_colour_attribute(256, 0, 2);
        }
#line 556
        goto switch_break___2;
        case_75: /* CIL Label */ 
        {
#line 558
        arg = parsecolorchar(arg, 0);
        }
#line 559
        if (arg >= 0) {
#line 559
          if (! (arg & 512)) {
#line 560
            if (txtchangep) {
#line 560
              *txtchangep &= 4027579903U;
#line 560
              tmp___37 = *txtchangep | (unsigned int )(arg & 804257808);
#line 560
              *txtchangep = tmp___37;
#line 560
              if (tmp___37) {
#line 560
                tmp___38 = 1;
              } else {
#line 560
                tmp___38 = 0;
              }
            } else {
#line 560
              tmp___38 = 0;
            }
            {
#line 562
            txtattrmask &= 4027580415U;
#line 563
            txtattrmask |= (unsigned int )(arg & 804257808);
#line 564
            set_colour_attribute(arg, 1, 2);
            }
#line 565
            goto switch_break___2;
          }
        }
        case_107: /* CIL Label */ 
#line 569
        if (txtchangep) {
#line 569
          *txtchangep &= 3490709487U;
#line 569
          tmp___39 = *txtchangep | 512U;
#line 569
          *txtchangep = tmp___39;
#line 569
          if (tmp___39) {
#line 569
            tmp___40 = 1;
          } else {
#line 569
            tmp___40 = 0;
          }
        } else {
#line 569
          tmp___40 = 0;
        }
        {
#line 570
        txtattrmask &= 3490709487U;
#line 571
        set_colour_attribute(512, 1, 2);
        }
#line 572
        goto switch_break___2;
        case_91___0: /* CIL Label */ 
#line 574
        (bv->fm) ++;
#line 574
        if ((int )typtab[(unsigned char )*(bv->fm)] & 1) {
          {
#line 575
          tmp___41 = zstrtol((char const   *)bv->fm, & bv->fm, 10);
#line 575
          arg = (int )tmp___41;
          }
        }
        {
#line 576
        tmp___42 = prompttrunc(arg, ']', doprint, endchar, txtchangep);
        }
#line 576
        if (! tmp___42) {
#line 577
          return ((int )*(bv->fm));
        }
#line 578
        goto switch_break___2;
        case_62___0: /* CIL Label */ 
        case_60___0: /* CIL Label */ 
#line 582
        if (minus) {
          {
#line 583
          *(bv->bp) = (char )'\000';
#line 584
          countprompt(bv->bufline, & t0, (int *)0, 0);
#line 585
          arg = (int )((zterm_columns - (zlong )t0) + (zlong )arg);
          }
#line 586
          if (arg <= 0) {
#line 587
            arg = 1;
          }
        }
        {
#line 589
        tmp___43 = prompttrunc(arg, (int )*(bv->fm), doprint, endchar, txtchangep);
        }
#line 589
        if (! tmp___43) {
#line 590
          return ((int )*(bv->fm));
        }
#line 591
        goto switch_break___2;
        case_123: /* CIL Label */ 
#line 593
        tmp___45 = bv->dontcount;
#line 593
        (bv->dontcount) ++;
#line 593
        if (! tmp___45) {
          {
#line 594
          addbufspc(1);
#line 595
          tmp___44 = bv->bp;
#line 595
          (bv->bp) ++;
#line 595
          *tmp___44 = (char)-120;
          }
        }
#line 597
        if (arg <= 0) {
#line 598
          goto switch_break___2;
        }
        case_71: /* CIL Label */ 
#line 602
        if (arg > 0) {
          {
#line 603
          addbufspc(arg);
          }
          {
#line 604
          while (1) {
            while_continue___20: /* CIL Label */ ;
#line 604
            tmp___47 = arg;
#line 604
            arg --;
#line 604
            if (! tmp___47) {
#line 604
              goto while_break___20;
            }
#line 605
            tmp___46 = bv->bp;
#line 605
            (bv->bp) ++;
#line 605
            *tmp___46 = (char)-95;
          }
          while_break___20: /* CIL Label */ ;
          }
        } else {
          {
#line 607
          addbufspc(1);
#line 608
          tmp___48 = bv->bp;
#line 608
          (bv->bp) ++;
#line 608
          *tmp___48 = (char)-95;
          }
        }
#line 610
        goto switch_break___2;
        case_125: /* CIL Label */ 
#line 612
        if (bv->trunccount) {
#line 612
          if (bv->trunccount >= bv->dontcount) {
#line 613
            return ((int )*(bv->fm));
          }
        }
#line 614
        if (bv->dontcount) {
#line 614
          (bv->dontcount) --;
#line 614
          if (! bv->dontcount) {
            {
#line 615
            addbufspc(1);
#line 616
            tmp___49 = bv->bp;
#line 616
            (bv->bp) ++;
#line 616
            *tmp___49 = (char)-118;
            }
          }
        }
#line 618
        goto switch_break___2;
        case_68___2: /* CIL Label */ 
        case_87: /* CIL Label */ 
        case_119___1: /* CIL Label */ 
        case_42: /* CIL Label */ 
        case_84___1: /* CIL Label */ 
        case_64: /* CIL Label */ 
        case_116___1: /* CIL Label */ 
#line 627
        tmbuf = (char *)((void *)0);
        {
#line 630
        if ((int )*(bv->fm) == 84) {
#line 630
          goto case_84___2;
        }
#line 633
        if ((int )*(bv->fm) == 42) {
#line 633
          goto case_42___0;
        }
#line 636
        if ((int )*(bv->fm) == 119) {
#line 636
          goto case_119___2;
        }
#line 639
        if ((int )*(bv->fm) == 87) {
#line 639
          goto case_87___0;
        }
#line 642
        if ((int )*(bv->fm) == 68) {
#line 642
          goto case_68___3;
        }
#line 663
        goto switch_default___1;
        case_84___2: /* CIL Label */ 
#line 631
        tmfmt = (char *)"%K:%M";
#line 632
        goto switch_break___3;
        case_42___0: /* CIL Label */ 
#line 634
        tmfmt = (char *)"%K:%M:%S";
#line 635
        goto switch_break___3;
        case_119___2: /* CIL Label */ 
#line 637
        tmfmt = (char *)"%a %f";
#line 638
        goto switch_break___3;
        case_87___0: /* CIL Label */ 
#line 640
        tmfmt = (char *)"%m/%d/%y";
#line 641
        goto switch_break___3;
        case_68___3: /* CIL Label */ 
#line 643
        if ((int )*(bv->fm + 1) == 123) {
#line 644
          ss = bv->fm + 2;
          {
#line 644
          while (1) {
            while_continue___21: /* CIL Label */ ;
#line 644
            if (*ss) {
#line 644
              if (! ((int )*ss != 125)) {
#line 644
                goto while_break___21;
              }
            } else {
#line 644
              goto while_break___21;
            }
#line 645
            if ((int )*ss == 92) {
#line 645
              if (*(ss + 1)) {
#line 646
                ss ++;
              }
            }
#line 644
            ss ++;
          }
          while_break___21: /* CIL Label */ ;
          }
          {
#line 647
          tmp___50 = zalloc((size_t )(ss - bv->fm));
#line 647
          tmbuf = (char *)tmp___50;
#line 647
          tmfmt = tmbuf;
#line 647
          dd = tmfmt;
#line 648
          ss = bv->fm + 2;
          }
          {
#line 648
          while (1) {
            while_continue___22: /* CIL Label */ ;
#line 648
            if (*ss) {
#line 648
              if (! ((int )*ss != 125)) {
#line 648
                goto while_break___22;
              }
            } else {
#line 648
              goto while_break___22;
            }
#line 650
            if ((int )*ss == 92) {
#line 650
              if (*(ss + 1)) {
#line 651
                ss ++;
              }
            }
#line 652
            tmp___51 = dd;
#line 652
            dd ++;
#line 652
            *tmp___51 = *ss;
#line 648
            ss ++;
          }
          while_break___22: /* CIL Label */ ;
          }
#line 654
          *dd = (char)0;
#line 655
          bv->fm = ss - ! *ss;
#line 656
          if (! *tmfmt) {
            {
#line 657
            free((void *)tmbuf);
            }
#line 658
            goto __Cont;
          }
        } else {
#line 661
          tmfmt = (char *)"%y-%m-%d";
        }
#line 662
        goto switch_break___3;
        switch_default___1: /* CIL Label */ 
#line 664
        tmfmt = (char *)"%l:%M%p";
#line 665
        goto switch_break___3;
        switch_break___3: /* CIL Label */ ;
        }
        {
#line 667
        gettimeofday((struct timeval */* __restrict  */)(& tv), (__timezone_ptr_t )(& dummy_tz));
#line 668
        tm = localtime((time_t const   *)(& tv.tv_sec));
#line 676
        j = 0;
#line 676
        tmp___52 = strlen((char const   *)tmfmt);
#line 676
        t0 = (int )(tmp___52 * 8UL);
        }
        {
#line 676
        while (1) {
          while_continue___23: /* CIL Label */ ;
#line 676
          if (! (j < 3)) {
#line 676
            goto while_break___23;
          }
          {
#line 677
          addbufspc(t0);
#line 678
          len = ztrftime(bv->bp, t0, tmfmt, tm, tv.tv_usec);
          }
#line 678
          if (len >= 0) {
#line 680
            goto while_break___23;
          }
#line 676
          j ++;
#line 676
          t0 *= 2;
        }
        while_break___23: /* CIL Label */ ;
        }
#line 684
        if (len >= 0) {
          {
#line 685
          metafy(bv->bp, len, 5);
          }
        }
        {
#line 686
        tmp___53 = strlen((char const   *)bv->bp);
#line 686
        bv->bp += tmp___53;
#line 687
        zsfree(tmbuf);
        }
#line 688
        goto switch_break___2;
        case_110: /* CIL Label */ 
        {
#line 691
        tmp___54 = get_username();
#line 691
        stradd(tmp___54);
        }
#line 692
        goto switch_break___2;
        case_108___0: /* CIL Label */ 
#line 694
        if (*ttystrname) {
          {
#line 695
          tmp___56 = strncmp((char const   *)ttystrname, "/dev/tty", (size_t )8);
          }
#line 695
          if (tmp___56) {
#line 695
            ss = ttystrname + 5;
          } else {
#line 695
            ss = ttystrname + 8;
          }
          {
#line 697
          stradd(ss);
          }
        } else {
          {
#line 699
          stradd((char *)"()");
          }
        }
#line 700
        goto switch_break___2;
        case_121: /* CIL Label */ 
#line 702
        if (*ttystrname) {
          {
#line 703
          tmp___58 = strncmp((char const   *)ttystrname, "/dev/", (size_t )5);
          }
#line 703
          if (tmp___58) {
#line 703
            ss = ttystrname;
          } else {
#line 703
            ss = ttystrname + 5;
          }
          {
#line 705
          stradd(ss);
          }
        } else {
          {
#line 707
          stradd((char *)"()");
          }
        }
#line 708
        goto switch_break___2;
        case_76___0: /* CIL Label */ 
        {
#line 710
        addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 714
        sprintf((char */* __restrict  */)bv->bp, (char const   */* __restrict  */)"%ld",
                shlvl);
#line 716
        tmp___59 = strlen((char const   *)bv->bp);
#line 716
        bv->bp += tmp___59;
        }
#line 717
        goto switch_break___2;
        case_63___0: /* CIL Label */ 
        {
#line 719
        addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 723
        sprintf((char */* __restrict  */)bv->bp, (char const   */* __restrict  */)"%ld",
                lastval);
#line 725
        tmp___60 = strlen((char const   *)bv->bp);
#line 725
        bv->bp += tmp___60;
        }
#line 726
        goto switch_break___2;
        case_41: /* CIL Label */ 
        case_37: /* CIL Label */ 
        {
#line 729
        addbufspc(1);
#line 730
        tmp___61 = bv->bp;
#line 730
        (bv->bp) ++;
#line 730
        *tmp___61 = *(bv->fm);
        }
#line 731
        goto switch_break___2;
        case_35___0: /* CIL Label */ 
        {
#line 733
        addbufspc(1);
#line 734
        tmp___62 = bv->bp;
#line 734
        (bv->bp) ++;
#line 734
        tmp___64 = privasserted();
        }
#line 734
        if (tmp___64) {
#line 734
          *tmp___62 = (char )'#';
        } else {
#line 734
          *tmp___62 = (char )'%';
        }
#line 735
        goto switch_break___2;
        case_118___0: /* CIL Label */ 
#line 737
        if (! arg) {
#line 738
          arg = 1;
        } else
#line 739
        if (arg < 0) {
          {
#line 740
          tmp___65 = arrlen(psvar);
#line 740
          arg += tmp___65 + 1;
          }
        }
#line 741
        if (arg > 0) {
          {
#line 741
          tmp___66 = arrlen_ge(psvar, (unsigned int )arg);
          }
#line 741
          if (tmp___66) {
            {
#line 742
            stradd(*(psvar + (arg - 1)));
            }
          }
        }
#line 743
        goto switch_break___2;
        case_69: /* CIL Label */ 
        {
#line 745
        tsetcap(14, 2);
        }
#line 746
        goto switch_break___2;
        case_94: /* CIL Label */ 
#line 748
        if (cmdsp) {
#line 749
          if (arg >= 0) {
#line 750
            if (arg > cmdsp) {
#line 751
              arg = cmdsp;
            } else
#line 750
            if (arg == 0) {
#line 751
              arg = cmdsp;
            }
#line 752
            t0 = cmdsp - 1;
            {
#line 752
            while (1) {
              while_continue___24: /* CIL Label */ ;
#line 752
              tmp___68 = arg;
#line 752
              arg --;
#line 752
              if (! tmp___68) {
#line 752
                goto while_break___24;
              }
              {
#line 753
              stradd(cmdnames[*(cmdstack + t0)]);
              }
#line 754
              if (arg) {
                {
#line 755
                addbufspc(1);
#line 756
                tmp___67 = bv->bp;
#line 756
                (bv->bp) ++;
#line 756
                *tmp___67 = (char )' ';
                }
              }
#line 752
              t0 --;
            }
            while_break___24: /* CIL Label */ ;
            }
          } else {
#line 760
            arg = - arg;
#line 761
            if (arg > cmdsp) {
#line 762
              arg = cmdsp;
            }
#line 763
            t0 = arg - 1;
            {
#line 763
            while (1) {
              while_continue___25: /* CIL Label */ ;
#line 763
              tmp___70 = arg;
#line 763
              arg --;
#line 763
              if (! tmp___70) {
#line 763
                goto while_break___25;
              }
              {
#line 764
              stradd(cmdnames[*(cmdstack + t0)]);
              }
#line 765
              if (arg) {
                {
#line 766
                addbufspc(1);
#line 767
                tmp___69 = bv->bp;
#line 767
                (bv->bp) ++;
#line 767
                *tmp___69 = (char )' ';
                }
              }
#line 763
              t0 --;
            }
            while_break___25: /* CIL Label */ ;
            }
          }
        }
#line 772
        goto switch_break___2;
        case_95___0: /* CIL Label */ 
#line 774
        if (cmdsp) {
#line 775
          if (arg >= 0) {
#line 776
            if (arg > cmdsp) {
#line 777
              arg = cmdsp;
            } else
#line 776
            if (arg == 0) {
#line 777
              arg = cmdsp;
            }
#line 778
            t0 = cmdsp - arg;
            {
#line 778
            while (1) {
              while_continue___26: /* CIL Label */ ;
#line 778
              tmp___72 = arg;
#line 778
              arg --;
#line 778
              if (! tmp___72) {
#line 778
                goto while_break___26;
              }
              {
#line 779
              stradd(cmdnames[*(cmdstack + t0)]);
              }
#line 780
              if (arg) {
                {
#line 781
                addbufspc(1);
#line 782
                tmp___71 = bv->bp;
#line 782
                (bv->bp) ++;
#line 782
                *tmp___71 = (char )' ';
                }
              }
#line 778
              t0 ++;
            }
            while_break___26: /* CIL Label */ ;
            }
          } else {
#line 786
            arg = - arg;
#line 787
            if (arg > cmdsp) {
#line 788
              arg = cmdsp;
            }
#line 789
            t0 = 0;
            {
#line 789
            while (1) {
              while_continue___27: /* CIL Label */ ;
#line 789
              tmp___74 = arg;
#line 789
              arg --;
#line 789
              if (! tmp___74) {
#line 789
                goto while_break___27;
              }
              {
#line 790
              stradd(cmdnames[*(cmdstack + t0)]);
              }
#line 791
              if (arg) {
                {
#line 792
                addbufspc(1);
#line 793
                tmp___73 = bv->bp;
#line 793
                (bv->bp) ++;
#line 793
                *tmp___73 = (char )' ';
                }
              }
#line 789
              t0 ++;
            }
            while_break___27: /* CIL Label */ ;
            }
          }
        }
#line 798
        goto switch_break___2;
        case_114: /* CIL Label */ 
#line 800
        if (bv->rstring) {
          {
#line 801
          stradd(bv->rstring);
          }
        }
#line 802
        goto switch_break___2;
        case_82: /* CIL Label */ 
#line 804
        if (bv->Rstring) {
          {
#line 805
          stradd(bv->Rstring);
          }
        }
#line 806
        goto switch_break___2;
        case_101___0: /* CIL Label */ 
#line 809
        depth = 0;
#line 810
        fsptr___0 = funcstack;
        {
#line 811
        while (1) {
          while_continue___28: /* CIL Label */ ;
#line 811
          if (! fsptr___0) {
#line 811
            goto while_break___28;
          }
#line 812
          depth ++;
#line 813
          fsptr___0 = fsptr___0->prev;
        }
        while_break___28: /* CIL Label */ ;
        }
        {
#line 815
        addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 816
        sprintf((char */* __restrict  */)bv->bp, (char const   */* __restrict  */)"%d",
                depth);
#line 817
        tmp___75 = strlen((char const   *)bv->bp);
#line 817
        bv->bp += tmp___75;
        }
#line 818
        goto switch_break___2;
        case_73: /* CIL Label */ 
#line 821
        if (funcstack) {
#line 821
          if (funcstack->tp != 0) {
#line 821
            if (intrap) {
#line 821
              if (! trapisfunc) {
#line 821
                if (! (traplocallevel == locallevel)) {
#line 821
                  goto _L___0;
                }
              } else {
#line 821
                goto _L___0;
              }
            } else {
              _L___0: /* CIL Label */ 
#line 828
              flineno = lineno + funcstack->flineno;
#line 830
              if (funcstack->tp == 2) {
#line 831
                lineno --;
              }
              {
#line 832
              addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 836
              sprintf((char */* __restrict  */)bv->bp, (char const   */* __restrict  */)"%ld",
                      flineno);
#line 838
              tmp___76 = strlen((char const   *)bv->bp);
#line 838
              bv->bp += tmp___76;
              }
#line 839
              goto switch_break___2;
            }
          }
        }
        case_105: /* CIL Label */ 
        {
#line 844
        addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 848
        sprintf((char */* __restrict  */)bv->bp, (char const   */* __restrict  */)"%ld",
                lineno);
#line 850
        tmp___77 = strlen((char const   *)bv->bp);
#line 850
        bv->bp += tmp___77;
        }
#line 851
        goto switch_break___2;
        case_120: /* CIL Label */ 
#line 853
        if (funcstack) {
#line 853
          if (funcstack->tp != 0) {
#line 853
            if (intrap) {
#line 853
              if (! trapisfunc) {
#line 853
                if (traplocallevel == locallevel) {
#line 853
                  goto _L___4;
                } else {
#line 853
                  goto _L___3;
                }
              } else {
#line 853
                goto _L___3;
              }
            } else {
              _L___3: /* CIL Label */ 
#line 855
              if (funcstack->filename) {
#line 855
                tmp___78 = (char const   *)funcstack->filename;
              } else {
#line 855
                tmp___78 = "";
              }
              {
#line 855
              promptpath((char *)tmp___78, arg, 0);
              }
            }
          } else {
#line 853
            goto _L___4;
          }
        } else {
          _L___4: /* CIL Label */ 
#line 858
          if (scriptfilename) {
#line 858
            tmp___79 = scriptfilename;
          } else {
#line 858
            tmp___79 = argzero;
          }
          {
#line 858
          promptpath(tmp___79, arg, 0);
          }
        }
#line 860
        goto switch_break___2;
        case_0: /* CIL Label */ 
#line 862
        return (0);
        case_neg_125: /* CIL Label */ 
#line 864
        (bv->fm) ++;
#line 865
        goto switch_break___2;
        switch_break___2: /* CIL Label */ ;
        }
      } else {
#line 283
        goto _L___6;
      }
    } else
    _L___6: /* CIL Label */ 
#line 867
    if ((int )*(bv->fm) == 33) {
#line 867
      if (opts[139]) {
#line 868
        if (doprint) {
#line 869
          if ((int )*(bv->fm + 1) == 33) {
            {
#line 870
            (bv->fm) ++;
#line 871
            addbufspc(1);
#line 872
            pputc((char )'!');
            }
          } else {
            {
#line 874
            addbufspc((int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3);
#line 875
            convbase(bv->bp, curhist, 10);
#line 876
            tmp___80 = strlen((char const   *)bv->bp);
#line 876
            bv->bp += tmp___80;
            }
          }
        }
      } else {
#line 867
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ 
#line 880
      if ((int )*(bv->fm) == -125) {
#line 880
        (bv->fm) ++;
#line 880
        tmp___81 = (int )*(bv->fm) ^ 32;
      } else {
#line 880
        tmp___81 = (int )*(bv->fm);
      }
#line 880
      c = (char )tmp___81;
#line 882
      if (doprint) {
        {
#line 883
        addbufspc(1);
#line 884
        pputc(c);
        }
      }
    }
    __Cont: /* CIL Label */ 
#line 281
    (bv->fm) ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 889
  return ((int )*(bv->fm));
}
}
#line 896 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static void pputc(char c ) 
{ 
  char *tmp ;
  char *tmp___0 ;

  {
#line 899
  if ((int )typtab[(unsigned char )c] & (1 << 12)) {
#line 900
    tmp = bv->bp;
#line 900
    (bv->bp) ++;
#line 900
    *tmp = (char)-125;
#line 901
    c = (char )((int )c ^ 32);
  }
#line 903
  tmp___0 = bv->bp;
#line 903
  (bv->bp) ++;
#line 903
  *tmp___0 = c;
#line 904
  if ((int )c == 10) {
#line 904
    if (! bv->dontcount) {
#line 905
      bv->bufline = bv->bp;
    }
  }
#line 906
  return;
}
}
#line 911 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static void addbufspc(int need ) 
{ 
  int bo ;
  int bo1 ;
  long tmp ;
  ptrdiff_t bufline_off ;
  long tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;

  {
#line 914
  need *= 2;
#line 915
  if ((bv->bp - bv->buf) + (long )need > (long )bv->bufspc) {
#line 916
    bo = (int )(bv->bp - bv->buf);
#line 917
    if (bv->bp1) {
#line 917
      tmp = bv->bp1 - bv->buf;
    } else {
#line 917
      tmp = -1L;
    }
#line 917
    bo1 = (int )tmp;
#line 918
    if (bv->bufline) {
#line 918
      tmp___0 = bv->bufline - bv->buf;
    } else {
#line 918
      tmp___0 = -1L;
    }
#line 918
    bufline_off = tmp___0;
#line 920
    if (need & 255) {
#line 921
      need = (need | 255) + 1;
    }
    {
#line 922
    tmp___1 = bv->bufspc + need;
#line 922
    bv->bufspc = tmp___1;
#line 922
    tmp___2 = realloc((void *)bv->buf, (size_t )tmp___1);
#line 922
    bv->buf = (char *)tmp___2;
#line 923
    bv->bp = bv->buf + bo;
    }
#line 924
    if (bo1 != -1) {
#line 925
      bv->bp1 = bv->buf + bo1;
    }
#line 926
    if (bufline_off != -1L) {
#line 927
      bv->bufline = bv->buf + bufline_off;
    }
  }
#line 929
  return;
}
}
#line 935 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void stradd(char *d___0 ) 
{ 
  char *ums ;
  char *ups ;
  int upslen ;
  int eol ;
  mbstate_t mbs ;
  wchar_t cc ;
  char *pc ;
  size_t cnt ;
  size_t tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  void *__cil_tmp15 ;

  {
  {
#line 940
  eol = 0;
#line 943
  memset((void *)(& mbs), 0, sizeof(mbs));
#line 944
  ums = ztrdup((char const   *)d___0);
#line 945
  ups = unmetafy(ums, & upslen);
  }
  {
#line 951
  while (1) {
    while_continue: /* CIL Label */ ;
#line 951
    if (! (upslen > 0)) {
#line 951
      goto while_break;
    }
#line 954
    if (eol) {
#line 954
      tmp___0 = (size_t )-1;
    } else {
      {
#line 954
      tmp = mbrtowc((wchar_t */* __restrict  */)(& cc), (char const   */* __restrict  */)ups,
                    (size_t )upslen, (mbstate_t */* __restrict  */)(& mbs));
#line 954
      tmp___0 = tmp;
      }
    }
#line 954
    cnt = tmp___0;
    {
#line 957
    if (cnt == 0xfffffffffffffffeUL) {
#line 957
      goto case_18446744073709551614;
    }
#line 960
    if (cnt == 0xffffffffffffffffUL) {
#line 960
      goto case_18446744073709551615;
    }
#line 966
    if (cnt == 0UL) {
#line 966
      goto case_0;
    }
#line 969
    goto switch_default;
    case_18446744073709551614: /* CIL Label */ 
#line 958
    eol = 1;
    case_18446744073709551615: /* CIL Label */ 
    {
#line 962
    pc = nicechar((int )*ups);
#line 963
    cnt = (size_t )1;
#line 964
    memset((void *)(& mbs), 0, sizeof(mbs));
    }
#line 965
    goto switch_break;
    case_0: /* CIL Label */ 
#line 967
    cnt = (size_t )1;
    switch_default: /* CIL Label */ 
    {
#line 971
    mb_charinit();
#line 972
    pc = wcs_nicechar(cc, (size_t *)((void *)0), (char **)((void *)0));
    }
#line 973
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
    {
#line 976
    tmp___1 = strlen((char const   *)pc);
#line 976
    addbufspc((int )tmp___1);
#line 978
    upslen = (int )((size_t )upslen - cnt);
#line 979
    ups += cnt;
    }
    {
#line 982
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 982
      if (! *pc) {
#line 982
        goto while_break___0;
      }
#line 983
      tmp___2 = bv->bp;
#line 983
      (bv->bp) ++;
#line 983
      tmp___3 = pc;
#line 983
      pc ++;
#line 983
      *tmp___2 = *tmp___3;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 986
  free((void *)ums);
  }
#line 997
  return;
}
}
#line 1002 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void tsetcap(int cap , int flags ) 
{ 
  char *tmp ;
  int glitch ;
  char *tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 1005
  if (tclen[cap]) {
#line 1005
    if (! opts[165]) {
#line 1005
      if (! (termflags & 7)) {
        {
#line 1008
        if ((flags & 3) == 1) {
#line 1008
          goto case_1;
        }
#line 1015
        if ((flags & 3) == 2) {
#line 1015
          goto case_2;
        }
#line 1012
        goto switch_default;
        case_1: /* CIL Label */ 
        {
#line 1009
        tputs((char const   *)tcstr[cap], 1, & putraw);
        }
#line 1010
        goto switch_break;
        switch_default: /* CIL Label */ 
        {
#line 1013
        tputs((char const   *)tcstr[cap], 1, & putshout);
        }
#line 1014
        goto switch_break;
        case_2: /* CIL Label */ 
#line 1016
        if (! bv->dontcount) {
          {
#line 1017
          addbufspc(1);
#line 1018
          tmp = bv->bp;
#line 1018
          (bv->bp) ++;
#line 1018
          *tmp = (char)-120;
          }
        }
        {
#line 1020
        tputs((char const   *)tcstr[cap], 1, & putstr);
        }
#line 1021
        if (! bv->dontcount) {
#line 1022
          glitch = 0;
#line 1024
          if (cap == 19) {
            {
#line 1025
            glitch = tgetnum("sg");
            }
          } else
#line 1024
          if (cap == 22) {
            {
#line 1025
            glitch = tgetnum("sg");
            }
          } else
#line 1026
          if (cap == 20) {
            {
#line 1027
            glitch = tgetnum("ug");
            }
          } else
#line 1026
          if (cap == 23) {
            {
#line 1027
            glitch = tgetnum("ug");
            }
          }
#line 1028
          if (glitch < 0) {
#line 1029
            glitch = 0;
          }
          {
#line 1030
          addbufspc(glitch + 1);
          }
          {
#line 1031
          while (1) {
            while_continue: /* CIL Label */ ;
#line 1031
            tmp___1 = glitch;
#line 1031
            glitch --;
#line 1031
            if (! tmp___1) {
#line 1031
              goto while_break;
            }
#line 1032
            tmp___0 = bv->bp;
#line 1032
            (bv->bp) ++;
#line 1032
            *tmp___0 = (char)-95;
          }
          while_break: /* CIL Label */ ;
          }
#line 1033
          tmp___2 = bv->bp;
#line 1033
          (bv->bp) ++;
#line 1033
          *tmp___2 = (char)-118;
        }
#line 1035
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
#line 1038
        if (flags & 4) {
#line 1039
          flags &= -5;
#line 1040
          if (txtattrmask & 1U) {
#line 1040
            if (cap != 18) {
              {
#line 1041
              tsetcap(18, flags);
              }
            }
          }
#line 1042
          if (txtattrmask & 2U) {
            {
#line 1043
            tsetcap(19, flags);
            }
          }
#line 1044
          if (txtattrmask & 4U) {
            {
#line 1045
            tsetcap(20, flags);
            }
          }
#line 1046
          if (txtattrmask & 8U) {
            {
#line 1047
            set_colour_attribute((int )txtattrmask, 0, 2);
            }
          }
#line 1048
          if (txtattrmask & 16U) {
            {
#line 1049
            set_colour_attribute((int )txtattrmask, 1, 2);
            }
          }
        }
      }
    }
  }
#line 1052
  return;
}
}
#line 1055 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
int putstr(int d___0 ) 
{ 


  {
  {
#line 1058
  addbufspc(1);
#line 1059
  pputc((char )d___0);
  }
#line 1060
  return (0);
}
}
#line 1074 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void countprompt(char *str , int *wp , int *hp , int overf ) 
{ 
  int w ;
  int h ;
  int s ;
  int wcw ;
  int multi ;
  char inchar ;
  mbstate_t mbs ;
  wchar_t wc ;
  size_t tmp ;
  void *__cil_tmp14 ;

  {
  {
#line 1077
  w = 0;
#line 1077
  h = 1;
#line 1078
  s = 1;
#line 1080
  multi = 0;
#line 1085
  memset((void *)(& mbs), 0, sizeof(mbs));
  }
  {
#line 1088
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1088
    if (! *str) {
#line 1088
      goto while_break;
    }
#line 1089
    if ((zlong )w >= zterm_columns) {
#line 1089
      if (overf >= 0) {
#line 1090
        w = 0;
#line 1091
        h ++;
      }
    }
#line 1097
    if ((int )*str == -120) {
#line 1098
      s = 0;
    } else
#line 1099
    if ((int )*str == -118) {
#line 1100
      s = 1;
    } else
#line 1101
    if ((int )*str == -95) {
#line 1102
      w ++;
    } else
#line 1103
    if (s) {
#line 1104
      if ((int )*str == -125) {
#line 1106
        str ++;
#line 1106
        inchar = (char )((int )*str ^ 32);
      } else {
#line 1118
        if (! multi) {
#line 1120
          if ((int )*str == 9) {
#line 1121
            w = (w | 7) + 1;
#line 1122
            goto __Cont;
          } else
#line 1123
          if ((int )*str == 10) {
#line 1124
            w = 0;
#line 1125
            h ++;
#line 1126
            goto __Cont;
          }
        }
#line 1131
        inchar = *str;
      }
      {
#line 1136
      tmp = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)(& inchar),
                    (size_t )1, (mbstate_t */* __restrict  */)(& mbs));
      }
      {
#line 1137
      if (tmp == 0xfffffffffffffffeUL) {
#line 1137
        goto case_18446744073709551614;
      }
#line 1141
      if (tmp == 0xffffffffffffffffUL) {
#line 1141
        goto case_18446744073709551615;
      }
#line 1147
      if (tmp == 0UL) {
#line 1147
        goto case_0;
      }
#line 1150
      goto switch_default;
      case_18446744073709551614: /* CIL Label */ 
#line 1139
      multi = 1;
#line 1140
      goto switch_break;
      case_18446744073709551615: /* CIL Label */ 
      {
#line 1142
      memset((void *)(& mbs), 0, sizeof(mbs));
#line 1144
      multi = 0;
#line 1145
      w ++;
      }
#line 1146
      goto switch_break;
      case_0: /* CIL Label */ 
#line 1148
      multi = 0;
#line 1149
      goto switch_break;
      switch_default: /* CIL Label */ 
      {
#line 1155
      wcw = wcwidth(wc);
      }
#line 1156
      if (wcw >= 0) {
#line 1157
        w += wcw;
      } else {
#line 1159
        w ++;
      }
#line 1160
      multi = 0;
#line 1161
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    }
    __Cont: /* CIL Label */ 
#line 1088
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1173
  if ((zlong )w >= zterm_columns) {
#line 1173
    if (overf >= 0) {
#line 1174
      if (! overf) {
#line 1175
        w = 0;
#line 1176
        h ++;
      } else
#line 1174
      if ((zlong )w > zterm_columns) {
#line 1175
        w = 0;
#line 1176
        h ++;
      }
    }
  }
#line 1179
  if (wp) {
#line 1180
    *wp = w;
  }
#line 1181
  if (hp) {
#line 1182
    *hp = h;
  }
#line 1183
  return;
}
}
#line 1186 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static int prompttrunc(int arg , int truncchar , int doprint , int endchar , unsigned int *txtchangep ) 
{ 
  char ch ;
  char *ptr___0 ;
  char *truncstr ;
  int truncatleft ;
  int w ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *t ;
  int fullen ;
  int twidth ;
  int maxwidth ;
  int ntrunc ;
  size_t tmp___2 ;
  char *fulltextptr ;
  char *fulltext ;
  int remw ;
  mbstate_t mbs ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char inchar ;
  wchar_t cc ;
  int wcw ;
  size_t tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *skiptext ;
  mbstate_t mbs___0 ;
  char *tmp___10 ;
  char inchar___0 ;
  wchar_t cc___0 ;
  int wcw___0 ;
  size_t tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  size_t tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  int tmp___18 ;
  void *__cil_tmp48 ;
  void *__cil_tmp49 ;

  {
#line 1190
  if (arg > 0) {
#line 1191
    ch = *(bv->fm);
#line 1192
    truncatleft = (int )ch == 60;
#line 1193
    w = (int )(bv->bp - bv->buf);
#line 1200
    if (bv->truncwidth) {
      {
#line 1201
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1201
        (bv->fm) --;
#line 1201
        if (! ((int )*(bv->fm) != 37)) {
#line 1201
          goto while_break;
        }
      }
      while_break: /* CIL Label */ ;
      }
#line 1203
      (bv->fm) --;
#line 1204
      return (0);
    }
#line 1207
    bv->truncwidth = arg;
#line 1208
    if ((int )*(bv->fm) != 93) {
#line 1209
      (bv->fm) ++;
    }
    {
#line 1210
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1210
      if (*(bv->fm)) {
#line 1210
        if (! ((int )*(bv->fm) != truncchar)) {
#line 1210
          goto while_break___0;
        }
      } else {
#line 1210
        goto while_break___0;
      }
#line 1211
      if ((int )*(bv->fm) == 92) {
#line 1211
        if (*(bv->fm + 1)) {
#line 1212
          (bv->fm) ++;
        }
      }
      {
#line 1213
      addbufspc(1);
#line 1214
      tmp = bv->bp;
#line 1214
      (bv->bp) ++;
#line 1214
      tmp___0 = bv->fm;
#line 1214
      (bv->fm) ++;
#line 1214
      *tmp = *tmp___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1216
    if (! *(bv->fm)) {
#line 1217
      return (0);
    }
#line 1218
    if (bv->bp - bv->buf == (long )w) {
#line 1218
      if (truncchar == 93) {
        {
#line 1219
        addbufspc(1);
#line 1220
        tmp___1 = bv->bp;
#line 1220
        (bv->bp) ++;
#line 1220
        *tmp___1 = (char )'<';
        }
      }
    }
    {
#line 1222
    ptr___0 = bv->buf + w;
#line 1229
    truncstr = ztrduppfx((char const   *)ptr___0, (int )(bv->bp - ptr___0));
#line 1231
    bv->bp = ptr___0;
#line 1232
    w = (int )(bv->bp - bv->buf);
#line 1233
    (bv->fm) ++;
#line 1234
    bv->trunccount = bv->dontcount;
#line 1235
    putpromptchar(doprint, endchar, txtchangep);
#line 1236
    bv->trunccount = 0;
#line 1237
    ptr___0 = bv->buf + w;
#line 1238
    *(bv->bp) = (char )'\000';
#line 1255
    countprompt(ptr___0, & w, (int *)0, -1);
    }
#line 1256
    if (w > bv->truncwidth) {
      {
#line 1266
      t = truncstr;
#line 1267
      fullen = (int )(bv->bp - ptr___0);
#line 1269
      tmp___2 = strlen((char const   *)t);
#line 1269
      ntrunc = (int )tmp___2;
#line 1271
      twidth = mb_metastrlenend(t, 1, (char *)((void *)0));
      }
#line 1272
      if (twidth < bv->truncwidth) {
        {
#line 1273
        maxwidth = bv->truncwidth - twidth;
#line 1279
        addbufspc(ntrunc + 1);
#line 1281
        ptr___0 = bv->bp - fullen;
        }
#line 1283
        if (truncatleft) {
          {
#line 1300
          memset((void *)(& mbs), 0, sizeof(mbs));
#line 1303
          fulltext = ptr___0 + ntrunc;
#line 1303
          fulltextptr = fulltext;
#line 1304
          memmove((void *)fulltext, (void const   *)ptr___0, (size_t )fullen);
#line 1305
          *(fulltext + fullen) = (char )'\000';
          }
          {
#line 1308
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 1308
            if (! *t) {
#line 1308
              goto while_break___1;
            }
#line 1309
            tmp___3 = ptr___0;
#line 1309
            ptr___0 ++;
#line 1309
            tmp___4 = t;
#line 1309
            t ++;
#line 1309
            *tmp___3 = *tmp___4;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 1316
          remw = w;
          {
#line 1317
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 1317
            if (remw > maxwidth) {
#line 1317
              if (! *fulltextptr) {
#line 1317
                goto while_break___2;
              }
            } else {
#line 1317
              goto while_break___2;
            }
#line 1318
            if ((int )*fulltextptr == -120) {
              {
#line 1328
              while (1) {
                while_continue___3: /* CIL Label */ ;
#line 1329
                tmp___5 = ptr___0;
#line 1329
                ptr___0 ++;
#line 1329
                *tmp___5 = *fulltextptr;
#line 1330
                if ((int )*fulltextptr == 0) {
#line 1332
                  goto while_break___3;
                } else {
#line 1330
                  tmp___6 = fulltextptr;
#line 1330
                  fulltextptr ++;
#line 1330
                  if ((int )*tmp___6 == -118) {
#line 1332
                    goto while_break___3;
                  }
                }
#line 1333
                if ((int )*(fulltextptr + -1) == -95) {
#line 1334
                  remw --;
                }
              }
              while_break___3: /* CIL Label */ ;
              }
            } else {
#line 1351
              if ((int )*fulltextptr == -125) {
#line 1352
                fulltextptr ++;
#line 1352
                inchar = (char )((int )*fulltextptr ^ 32);
              } else {
#line 1354
                inchar = *fulltextptr;
              }
              {
#line 1355
              fulltextptr ++;
#line 1356
              tmp___7 = mbrtowc((wchar_t */* __restrict  */)(& cc), (char const   */* __restrict  */)(& inchar),
                                (size_t )1, (mbstate_t */* __restrict  */)(& mbs));
              }
              {
#line 1357
              if (tmp___7 == 0xfffffffffffffffeUL) {
#line 1357
                goto case_18446744073709551614;
              }
#line 1360
              if (tmp___7 == 0xffffffffffffffffUL) {
#line 1360
                goto case_18446744073709551615;
              }
#line 1364
              if (tmp___7 == 0UL) {
#line 1364
                goto case_0;
              }
#line 1368
              goto switch_default;
              case_18446744073709551614: /* CIL Label */ 
#line 1359
              goto switch_break;
              case_18446744073709551615: /* CIL Label */ 
              {
#line 1362
              memset((void *)(& mbs), 0, sizeof(mbs));
              }
              case_0: /* CIL Label */ 
#line 1366
              remw --;
#line 1367
              goto switch_break;
              switch_default: /* CIL Label */ 
              {
#line 1369
              wcw = wcwidth(cc);
              }
#line 1370
              if (wcw >= 0) {
#line 1371
                remw -= wcw;
              } else {
#line 1373
                remw --;
              }
#line 1374
              goto switch_break;
              switch_break: /* CIL Label */ ;
              }
            }
          }
          while_break___2: /* CIL Label */ ;
          }
          {
#line 1390
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 1390
            if (! *fulltextptr) {
#line 1390
              goto while_break___4;
            }
#line 1391
            tmp___8 = ptr___0;
#line 1391
            ptr___0 ++;
#line 1391
            tmp___9 = fulltextptr;
#line 1391
            fulltextptr ++;
#line 1391
            *tmp___8 = *tmp___9;
          }
          while_break___4: /* CIL Label */ ;
          }
#line 1393
          bv->bp = ptr___0;
        } else {
          {
#line 1400
          skiptext = ptr___0;
#line 1403
          memset((void *)(& mbs___0), 0, sizeof(mbs___0));
          }
          {
#line 1406
          while (1) {
            while_continue___5: /* CIL Label */ ;
#line 1406
            if (maxwidth > 0) {
#line 1406
              if (! *skiptext) {
#line 1406
                goto while_break___5;
              }
            } else {
#line 1406
              goto while_break___5;
            }
#line 1407
            if ((int )*skiptext == -120) {
              {
#line 1409
              while (1) {
                while_continue___6: /* CIL Label */ ;
#line 1410
                if ((int )*skiptext == 0) {
#line 1412
                  goto while_break___6;
                } else {
#line 1410
                  tmp___10 = skiptext;
#line 1410
                  skiptext ++;
#line 1410
                  if ((int )*tmp___10 == -118) {
#line 1412
                    goto while_break___6;
                  }
                }
#line 1413
                if ((int )*(skiptext + -1) == -95) {
#line 1414
                  maxwidth --;
                }
              }
              while_break___6: /* CIL Label */ ;
              }
            } else {
#line 1422
              if ((int )*skiptext == -125) {
#line 1423
                skiptext ++;
#line 1423
                inchar___0 = (char )((int )*skiptext ^ 32);
              } else {
#line 1425
                inchar___0 = *skiptext;
              }
              {
#line 1426
              skiptext ++;
#line 1427
              tmp___11 = mbrtowc((wchar_t */* __restrict  */)(& cc___0), (char const   */* __restrict  */)(& inchar___0),
                                 (size_t )1, (mbstate_t */* __restrict  */)(& mbs___0));
              }
              {
#line 1428
              if (tmp___11 == 0xfffffffffffffffeUL) {
#line 1428
                goto case_18446744073709551614___0;
              }
#line 1431
              if (tmp___11 == 0xffffffffffffffffUL) {
#line 1431
                goto case_18446744073709551615___0;
              }
#line 1435
              if (tmp___11 == 0UL) {
#line 1435
                goto case_0___0;
              }
#line 1439
              goto switch_default___0;
              case_18446744073709551614___0: /* CIL Label */ 
#line 1430
              goto switch_break___0;
              case_18446744073709551615___0: /* CIL Label */ 
              {
#line 1433
              memset((void *)(& mbs___0), 0, sizeof(mbs___0));
              }
              case_0___0: /* CIL Label */ 
#line 1437
              maxwidth --;
#line 1438
              goto switch_break___0;
              switch_default___0: /* CIL Label */ 
              {
#line 1440
              wcw___0 = wcwidth(cc___0);
              }
#line 1441
              if (wcw___0 >= 0) {
#line 1442
                maxwidth -= wcw___0;
              } else {
#line 1444
                maxwidth --;
              }
#line 1445
              goto switch_break___0;
              switch_break___0: /* CIL Label */ ;
              }
            }
          }
          while_break___5: /* CIL Label */ ;
          }
#line 1465
          ptr___0 = skiptext;
          {
#line 1466
          while (1) {
            while_continue___7: /* CIL Label */ ;
#line 1466
            if (! *t) {
#line 1466
              goto while_break___7;
            }
#line 1467
            tmp___12 = ptr___0;
#line 1467
            ptr___0 ++;
#line 1467
            tmp___13 = t;
#line 1467
            t ++;
#line 1467
            *tmp___12 = *tmp___13;
          }
          while_break___7: /* CIL Label */ ;
          }
#line 1468
          bv->bp = ptr___0;
#line 1469
          if (*skiptext) {
            {
#line 1471
            tmp___14 = strlen((char const   *)skiptext);
#line 1471
            memmove((void *)bv->bp, (void const   *)skiptext, tmp___14 + 1UL);
#line 1472
            skiptext = bv->bp;
            }
            {
#line 1477
            while (1) {
              while_continue___8: /* CIL Label */ ;
#line 1477
              if (! *skiptext) {
#line 1477
                goto while_break___8;
              }
#line 1478
              if ((int )*skiptext == -120) {
                {
#line 1479
                while (1) {
                  while_continue___9: /* CIL Label */ ;
#line 1480
                  tmp___15 = bv->bp;
#line 1480
                  (bv->bp) ++;
#line 1480
                  *tmp___15 = *skiptext;
#line 1481
                  if ((int )*skiptext == -118) {
#line 1483
                    goto while_break___9;
                  } else
#line 1481
                  if ((int )*skiptext == 0) {
#line 1483
                    goto while_break___9;
                  }
#line 1484
                  skiptext ++;
                }
                while_break___9: /* CIL Label */ ;
                }
              } else {
#line 1488
                skiptext ++;
              }
            }
            while_break___8: /* CIL Label */ ;
            }
          }
        }
      } else {
        {
#line 1494
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 1494
          if (! *t) {
#line 1494
            goto while_break___10;
          }
#line 1495
          tmp___16 = ptr___0;
#line 1495
          ptr___0 ++;
#line 1495
          tmp___17 = t;
#line 1495
          t ++;
#line 1495
          *tmp___16 = *tmp___17;
        }
        while_break___10: /* CIL Label */ ;
        }
#line 1496
        bv->bp = ptr___0;
      }
#line 1498
      *(bv->bp) = (char )'\000';
    }
    {
#line 1500
    zsfree(truncstr);
#line 1501
    bv->truncwidth = 0;
    }
#line 1507
    if (! *(bv->fm)) {
#line 1508
      return (0);
    }
#line 1509
    if ((int )*(bv->fm) != endchar) {
      {
#line 1510
      (bv->fm) ++;
#line 1515
      tmp___18 = putpromptchar(doprint, endchar, txtchangep);
      }
#line 1515
      if (! tmp___18) {
#line 1516
        return (0);
      }
    }
#line 1519
    (bv->fm) --;
  } else {
#line 1521
    if ((int )*(bv->fm) != endchar) {
#line 1522
      (bv->fm) ++;
    }
    {
#line 1523
    while (1) {
      while_continue___11: /* CIL Label */ ;
#line 1523
      if (*(bv->fm)) {
#line 1523
        if (! ((int )*(bv->fm) != truncchar)) {
#line 1523
          goto while_break___11;
        }
      } else {
#line 1523
        goto while_break___11;
      }
#line 1524
      if ((int )*(bv->fm) == 92) {
#line 1524
        if (*(bv->fm + 1)) {
#line 1525
          (bv->fm) ++;
        }
      }
#line 1526
      (bv->fm) ++;
    }
    while_break___11: /* CIL Label */ ;
    }
#line 1528
    if (bv->truncwidth) {
#line 1529
      return (0);
    } else
#line 1528
    if (! *(bv->fm)) {
#line 1529
      return (0);
    }
  }
#line 1531
  return (1);
}
}
#line 1535 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void cmdpush(int cmdtok ) 
{ 
  int tmp ;

  {
#line 1538
  if (cmdsp >= 0) {
#line 1538
    if (cmdsp < 256) {
#line 1539
      tmp = cmdsp;
#line 1539
      cmdsp ++;
#line 1539
      *(cmdstack + tmp) = (unsigned char )cmdtok;
    }
  }
#line 1540
  return;
}
}
#line 1543 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void cmdpop(void) 
{ 


  {
#line 1546
  if (cmdsp <= 0) {
    {
#line 1548
    fflush(stderr);
    }
  } else {
#line 1550
    cmdsp --;
  }
#line 1551
  return;
}
}
#line 1562 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static char const   *ansi_colours[10]  = 
#line 1562
  {      "black",      "red",      "green",      "yellow", 
        "blue",      "magenta",      "cyan",      "white", 
        "default",      (char const   *)((void *)0)};
#line 1574 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static struct highlight  const  highlights[5]  = {      {"none", 0, 31}, 
        {"bold", 1, 0}, 
        {"standout", 2, 0}, 
        {"underline", 4, 0}, 
        {(char const   *)((void *)0), 0, 0}};
#line 1590 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static int match_named_colour(char const   **teststrp ) 
{ 
  char const   *teststr ;
  char const   *end ;
  char const   **cptr ;
  int len ;
  int tmp ;

  {
#line 1593
  teststr = *teststrp;
#line 1596
  end = teststr;
  {
#line 1596
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1596
    if (! ((int )typtab[(unsigned char )*end] & (1 << 6))) {
#line 1596
      goto while_break;
    }
#line 1596
    end ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1598
  len = (int )(end - teststr);
#line 1599
  *teststrp = end;
#line 1601
  cptr = ansi_colours;
  {
#line 1601
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1601
    if (! *cptr) {
#line 1601
      goto while_break___0;
    }
    {
#line 1602
    tmp = strncmp(teststr, *cptr, (size_t )len);
    }
#line 1602
    if (! tmp) {
#line 1603
      return ((int )(cptr - ansi_colours));
    }
#line 1601
    cptr ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1606
  return (-1);
}
}
#line 1618 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
int match_colour(char const   **teststrp , int is_fg , int colour ) 
{ 
  int shft ;
  int on ;
  int named ;
  int tc ;
  int tmp ;
  zlong tmp___0 ;
  int tmp___1 ;

  {
#line 1621
  named = 0;
#line 1623
  if (teststrp) {
#line 1624
    named = (int )typtab[(unsigned char )*(*teststrp)] & (1 << 6);
#line 1624
    if (named) {
      {
#line 1625
      colour = match_named_colour(teststrp);
      }
#line 1626
      if (colour == 8) {
#line 1628
        if (is_fg) {
#line 1628
          tmp = 256;
        } else {
#line 1628
          tmp = 512;
        }
#line 1628
        return (tmp);
      }
    } else {
      {
#line 1632
      tmp___0 = zstrtol(*teststrp, (char **)teststrp, 10);
#line 1632
      colour = (int )tmp___0;
      }
    }
  }
#line 1634
  if (colour < 0) {
#line 1635
    return (-1);
  } else
#line 1634
  if (colour >= 256) {
#line 1635
    return (-1);
  }
#line 1636
  if (is_fg) {
#line 1637
    shft = 12;
#line 1638
    on = 8;
#line 1639
    tc = 32;
  } else {
#line 1641
    shft = 20;
#line 1642
    on = 16;
#line 1643
    tc = 33;
  }
#line 1650
  if (! named) {
#line 1650
    if (tclen[tc]) {
#line 1651
      if (tccolours >= 0) {
#line 1651
        if (colour >= tccolours) {
#line 1656
          if (colour > 7) {
#line 1657
            return (-1);
          }
        } else {
#line 1651
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
#line 1663
        if (is_fg) {
#line 1663
          tmp___1 = 268435456;
        } else {
#line 1663
          tmp___1 = 536870912;
        }
#line 1663
        on |= tmp___1;
      }
    }
  }
#line 1667
  return (on | (colour << shft));
}
}
#line 1676 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void match_highlight(char const   *teststr , int *on_var ) 
{ 
  int found ;
  struct highlight  const  *hl ;
  int is_fg ;
  int atr ;
  char const   *val ;
  size_t tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 1679
  found = 1;
#line 1681
  *on_var = 0;
  {
#line 1682
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1682
    if (found) {
#line 1682
      if (! *teststr) {
#line 1682
        goto while_break;
      }
    } else {
#line 1682
      goto while_break;
    }
    {
#line 1685
    found = 0;
#line 1686
    tmp___1 = strpfx("fg=", teststr);
    }
#line 1686
    if (tmp___1) {
#line 1686
      goto _L;
    } else {
      {
#line 1686
      tmp___2 = strpfx("bg=", teststr);
      }
#line 1686
      if (tmp___2) {
        _L: /* CIL Label */ 
        {
#line 1687
        is_fg = (int const   )*(teststr + 0) == 102;
#line 1689
        teststr += 3;
#line 1690
        atr = match_colour(& teststr, is_fg, 0);
        }
#line 1691
        if ((int const   )*teststr == 44) {
#line 1692
          teststr ++;
        } else
#line 1693
        if (*teststr) {
#line 1694
          goto while_break;
        }
#line 1695
        found = 1;
#line 1697
        if (atr >= 0) {
#line 1698
          *on_var |= atr;
        }
      } else {
#line 1700
        hl = highlights;
        {
#line 1700
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 1700
          if (! hl->name) {
#line 1700
            goto while_break___0;
          }
          {
#line 1701
          tmp___0 = strpfx((char const   *)hl->name, teststr);
          }
#line 1701
          if (tmp___0) {
            {
#line 1702
            tmp = strlen((char const   *)hl->name);
#line 1702
            val = teststr + tmp;
            }
#line 1704
            if ((int const   )*val == 44) {
#line 1705
              val ++;
            } else
#line 1706
            if (*val) {
#line 1707
              goto while_break___0;
            }
#line 1709
            *on_var |= (int )hl->mask_on;
#line 1710
            *on_var &= (int )(~ hl->mask_off);
#line 1711
            teststr = val;
#line 1712
            found = 1;
          }
#line 1700
          hl ++;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1717
  return;
}
}
#line 1724 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static int output_colour(int colour , int fg_bg , int use_tc , char *buf___7 ) 
{ 
  int atrlen ;
  int len ;
  char *ptr___0 ;
  char const   *tmp ;
  char digbuf[(int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3] ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  void *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
#line 1727
  atrlen = 3;
#line 1728
  ptr___0 = buf___7;
#line 1729
  if (buf___7) {
#line 1730
    if (fg_bg == 0) {
#line 1730
      tmp = "fg=";
    } else {
#line 1730
      tmp = "bg=";
    }
    {
#line 1730
    strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)tmp);
#line 1731
    ptr___0 += 3;
    }
  }
#line 1734
  if (use_tc) {
#line 1734
    goto _L;
  } else
#line 1734
  if (colour > 7) {
    _L: /* CIL Label */ 
    {
#line 1736
    sprintf((char */* __restrict  */)(digbuf), (char const   */* __restrict  */)"%d",
            colour);
#line 1737
    tmp___0 = strlen((char const   *)(digbuf));
#line 1737
    len = (int )tmp___0;
#line 1738
    atrlen += len;
    }
#line 1739
    if (buf___7) {
      {
#line 1740
      strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)(digbuf));
      }
    }
  } else {
    {
#line 1742
    tmp___1 = strlen(ansi_colours[colour]);
#line 1742
    len = (int )tmp___1;
#line 1743
    atrlen += len;
    }
#line 1744
    if (buf___7) {
      {
#line 1745
      strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)ansi_colours[colour]);
      }
    }
  }
#line 1748
  return (atrlen);
}
}
#line 1761 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
int output_highlight(int atr , char *buf___7 ) 
{ 
  struct highlight  const  *hp ;
  int atrlen ;
  int len ;
  char *ptr___0 ;
  size_t tmp ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 1765
  atrlen = 0;
#line 1766
  ptr___0 = buf___7;
#line 1768
  if (atr & 8) {
    {
#line 1769
    len = output_colour((atr & 1044480) >> 12, 0, atr & 268435456, ptr___0);
#line 1773
    atrlen += len;
    }
#line 1774
    if (buf___7) {
#line 1775
      ptr___0 += len;
    }
  }
#line 1777
  if (atr & 16) {
#line 1778
    if (atrlen) {
#line 1779
      atrlen ++;
#line 1780
      if (buf___7) {
        {
#line 1781
        strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)",");
#line 1782
        ptr___0 ++;
        }
      }
    }
    {
#line 1785
    len = output_colour((atr & 267386880) >> 20, 1, atr & 536870912, ptr___0);
#line 1789
    atrlen += len;
    }
#line 1790
    if (buf___7) {
#line 1791
      ptr___0 += len;
    }
  }
#line 1793
  hp = highlights;
  {
#line 1793
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1793
    if (! hp->name) {
#line 1793
      goto while_break;
    }
#line 1794
    if (hp->mask_on & (int const   )atr) {
#line 1795
      if (atrlen) {
#line 1796
        atrlen ++;
#line 1797
        if (buf___7) {
          {
#line 1798
          strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)",");
#line 1799
          ptr___0 ++;
          }
        }
      }
      {
#line 1802
      tmp = strlen((char const   *)hp->name);
#line 1802
      len = (int )tmp;
#line 1803
      atrlen += len;
      }
#line 1804
      if (buf___7) {
        {
#line 1805
        strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)hp->name);
#line 1806
        ptr___0 += len;
        }
      }
    }
#line 1793
    hp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1811
  if (atrlen == 0) {
#line 1812
    if (buf___7) {
      {
#line 1813
      strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)"none");
      }
    }
#line 1814
    return (4);
  }
#line 1816
  return (atrlen);
}
}
#line 1840 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static struct colour_sequences fg_bg_sequences[2]  ;
#line 1848 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static char *colseq_buf  ;
#line 1853 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static int colseq_buf_allocs  ;
#line 1856 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void set_default_colour_sequences(void) 
{ 
  char *__cil_tmp1 ;
  char *__cil_tmp2 ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 1859
  fg_bg_sequences[0].start = ztrdup("\033[3");
#line 1860
  fg_bg_sequences[0].end = ztrdup("m");
#line 1861
  fg_bg_sequences[0].def = ztrdup("9");
#line 1863
  fg_bg_sequences[1].start = ztrdup("\033[4");
#line 1864
  fg_bg_sequences[1].end = ztrdup("m");
#line 1865
  fg_bg_sequences[1].def = ztrdup("9");
  }
#line 1866
  return;
}
}
#line 1868 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
static void set_colour_code(char *str , char **var ) 
{ 
  char *keyseq ;
  int len ;

  {
  {
#line 1874
  zsfree(*var);
#line 1875
  keyseq = getkeystring(str, & len, 7, (int *)((void *)0));
#line 1876
  *var = metafy(keyseq, len, 3);
  }
#line 1877
  return;
}
}
#line 1882 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void allocate_colour_buffer(void) 
{ 
  char **atrs ;
  int lenfg ;
  int lenbg ;
  int len ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  size_t tmp___6 ;
  size_t tmp___7 ;
  size_t tmp___8 ;
  size_t tmp___9 ;
  size_t tmp___10 ;
  size_t tmp___11 ;
  void *tmp___12 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
#line 1888
  tmp = colseq_buf_allocs;
#line 1888
  colseq_buf_allocs ++;
#line 1888
  if (tmp) {
#line 1889
    return;
  }
  {
#line 1891
  atrs = getaparam((char *)"zle_highlight");
  }
#line 1892
  if (atrs) {
    {
#line 1893
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1893
      if (! *atrs) {
#line 1893
        goto while_break;
      }
      {
#line 1894
      tmp___5 = strpfx("fg_start_code:", (char const   *)*atrs);
      }
#line 1894
      if (tmp___5) {
        {
#line 1895
        set_colour_code(*atrs + 14, & fg_bg_sequences[0].start);
        }
      } else {
        {
#line 1896
        tmp___4 = strpfx("fg_default_code:", (char const   *)*atrs);
        }
#line 1896
        if (tmp___4) {
          {
#line 1897
          set_colour_code(*atrs + 16, & fg_bg_sequences[0].def);
          }
        } else {
          {
#line 1898
          tmp___3 = strpfx("fg_end_code:", (char const   *)*atrs);
          }
#line 1898
          if (tmp___3) {
            {
#line 1899
            set_colour_code(*atrs + 12, & fg_bg_sequences[0].end);
            }
          } else {
            {
#line 1900
            tmp___2 = strpfx("bg_start_code:", (char const   *)*atrs);
            }
#line 1900
            if (tmp___2) {
              {
#line 1901
              set_colour_code(*atrs + 14, & fg_bg_sequences[1].start);
              }
            } else {
              {
#line 1902
              tmp___1 = strpfx("bg_default_code:", (char const   *)*atrs);
              }
#line 1902
              if (tmp___1) {
                {
#line 1903
                set_colour_code(*atrs + 16, & fg_bg_sequences[1].def);
                }
              } else {
                {
#line 1904
                tmp___0 = strpfx("bg_end_code:", (char const   *)*atrs);
                }
#line 1904
                if (tmp___0) {
                  {
#line 1905
                  set_colour_code(*atrs + 12, & fg_bg_sequences[1].end);
                  }
                }
              }
            }
          }
        }
      }
#line 1893
      atrs ++;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 1910
  tmp___6 = strlen((char const   *)fg_bg_sequences[0].def);
#line 1910
  lenfg = (int )tmp___6;
  }
#line 1912
  if (lenfg < 1) {
#line 1913
    lenfg = 1;
  }
  {
#line 1914
  tmp___7 = strlen((char const   *)fg_bg_sequences[0].start);
#line 1914
  tmp___8 = strlen((char const   *)fg_bg_sequences[0].end);
#line 1914
  lenfg = (int )((size_t )lenfg + (tmp___7 + tmp___8));
#line 1917
  tmp___9 = strlen((char const   *)fg_bg_sequences[1].def);
#line 1917
  lenbg = (int )tmp___9;
  }
#line 1919
  if (lenbg < 1) {
#line 1920
    lenbg = 1;
  }
  {
#line 1921
  tmp___10 = strlen((char const   *)fg_bg_sequences[1].start);
#line 1921
  tmp___11 = strlen((char const   *)fg_bg_sequences[1].end);
#line 1921
  lenbg = (int )((size_t )lenbg + (tmp___10 + tmp___11));
  }
#line 1924
  if (lenfg > lenbg) {
#line 1924
    len = lenfg;
  } else {
#line 1924
    len = lenbg;
  }
  {
#line 1925
  tmp___12 = zalloc((size_t )(len + 1));
#line 1925
  colseq_buf = (char *)tmp___12;
  }
#line 1926
  return;
}
}
#line 1931 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void free_colour_buffer(void) 
{ 


  {
#line 1934
  colseq_buf_allocs --;
#line 1934
  if (colseq_buf_allocs) {
#line 1935
    return;
  }
  {
#line 1939
  free((void *)colseq_buf);
#line 1940
  colseq_buf = (char *)((void *)0);
  }
#line 1941
  return;
}
}
#line 1955 "/home/khheo/testset/zsh-zsh-5.3.1/Src/prompt.c"
void set_colour_attribute(int atr , int fg_bg , int flags ) 
{ 
  char *ptr___0 ;
  int do_free ;
  int is_prompt ;
  int tmp ;
  int colour ;
  int tc ;
  int def ;
  int use_termcap ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  size_t tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;

  {
#line 1959
  if (flags & 2) {
#line 1959
    tmp = 1;
  } else {
#line 1959
    tmp = 0;
  }
#line 1959
  is_prompt = tmp;
#line 1962
  if (fg_bg == 0) {
#line 1963
    colour = (atr & 1044480) >> 12;
#line 1964
    tc = 32;
#line 1965
    def = atr & 256;
#line 1966
    use_termcap = atr & 268435456;
  } else {
#line 1968
    colour = (atr & 267386880) >> 20;
#line 1969
    tc = 33;
#line 1970
    def = atr & 512;
#line 1971
    use_termcap = atr & 536870912;
  }
#line 1983
  if (! def) {
#line 1983
    if (colour > 7) {
#line 1983
      goto _L___0;
    } else
#line 1983
    if (use_termcap) {
      _L___0: /* CIL Label */ 
#line 1988
      if (tclen[tc]) {
#line 1988
        if (tccolours < 0) {
#line 1988
          goto _L;
        } else
#line 1988
        if (colour < tccolours) {
          _L: /* CIL Label */ 
#line 1990
          if (is_prompt) {
#line 1992
            if (! bv->dontcount) {
              {
#line 1993
              addbufspc(1);
#line 1994
              tmp___0 = bv->bp;
#line 1994
              (bv->bp) ++;
#line 1994
              *tmp___0 = (char)-120;
              }
            }
            {
#line 1996
            tmp___1 = tgoto((char const   *)tcstr[tc], colour, colour);
#line 1996
            tputs((char const   *)tmp___1, 1, & putstr);
            }
#line 1997
            if (! bv->dontcount) {
              {
#line 1998
              addbufspc(1);
#line 1999
              tmp___2 = bv->bp;
#line 1999
              (bv->bp) ++;
#line 1999
              *tmp___2 = (char)-118;
              }
            }
          } else {
            {
#line 2002
            tmp___3 = tgoto((char const   *)tcstr[tc], colour, colour);
#line 2002
            tputs((char const   *)tmp___3, 1, & putshout);
            }
          }
#line 2005
          return;
        }
      }
#line 2011
      if (colour > 7) {
#line 2012
        return;
      }
    }
  }
#line 2015
  do_free = (unsigned long )colseq_buf == (unsigned long )((void *)0);
#line 2015
  if (do_free) {
    {
#line 2017
    allocate_colour_buffer();
    }
  }
  {
#line 2020
  strcpy((char */* __restrict  */)colseq_buf, (char const   */* __restrict  */)fg_bg_sequences[fg_bg].start);
#line 2022
  tmp___4 = strlen((char const   *)colseq_buf);
#line 2022
  ptr___0 = colseq_buf + tmp___4;
  }
#line 2023
  if (def) {
    {
#line 2024
    strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)fg_bg_sequences[fg_bg].def);
    }
    {
#line 2025
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2025
      if (! *ptr___0) {
#line 2025
        goto while_break;
      }
#line 2026
      ptr___0 ++;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 2028
    tmp___5 = ptr___0;
#line 2028
    ptr___0 ++;
#line 2028
    *tmp___5 = (char )(colour + 48);
  }
  {
#line 2029
  strcpy((char */* __restrict  */)ptr___0, (char const   */* __restrict  */)fg_bg_sequences[fg_bg].end);
  }
#line 2031
  if (is_prompt) {
#line 2032
    if (! bv->dontcount) {
      {
#line 2033
      addbufspc(1);
#line 2034
      tmp___6 = bv->bp;
#line 2034
      (bv->bp) ++;
#line 2034
      *tmp___6 = (char)-120;
      }
    }
    {
#line 2036
    tputs((char const   *)colseq_buf, 1, & putstr);
    }
#line 2037
    if (! bv->dontcount) {
      {
#line 2038
      addbufspc(1);
#line 2039
      tmp___7 = bv->bp;
#line 2039
      (bv->bp) ++;
#line 2039
      *tmp___7 = (char)-118;
      }
    }
  } else {
    {
#line 2042
    tputs((char const   *)colseq_buf, 1, & putshout);
    }
  }
#line 2044
  if (do_free) {
    {
#line 2045
    free_colour_buffer();
    }
  }
#line 2046
  return;
}
}
#line 96 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1), __leaf__)) memchr)(void const   *__s ,
                                                                                               int __c ,
                                                                                               size_t __n )  __attribute__((__pure__)) ;
#line 117 "/usr/include/wctype.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswalpha)(wint_t __wc ) ;
#line 120
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswcntrl)(wint_t __wc ) ;
#line 124
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswdigit)(wint_t __wc ) ;
#line 128
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswgraph)(wint_t __wc ) ;
#line 133
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswlower)(wint_t __wc ) ;
#line 141
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswpunct)(wint_t __wc ) ;
#line 151
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswupper)(wint_t __wc ) ;
#line 156
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) iswxdigit)(wint_t __wc ) ;
#line 197
extern  __attribute__((__nothrow__)) wint_t ( __attribute__((__leaf__)) towupper)(wint_t __wc ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
int pathpos ;
#line 7
char *pathbuf ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.epro"
char const   *zpc_strings[19] ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.epro"
char zpc_disables[19]  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.epro"
char zpc_special[19]  ;
#line 8
void patcompstart(void) ;
#line 10
int patgetglobflags(char **strp , long *assertp , int *ignore ) ;
#line 11
int range_type(char *start , int len ) ;
#line 12
int pattern_range_to_string(char *rangestr , char *outstr ) ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.epro"
int errsfound  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.epro"
int forceerrs  ;
#line 15
void pattrystart(void) ;
#line 16
char *patallocstr(Patprog prog , char *string , int stringlen , int unmetalen , int force ,
                  Patstralloc patstralloc ) ;
#line 18
int pattrylen(Patprog prog , char *string , int len , int unmetalen , Patstralloc patstralloc ,
              int offset ) ;
#line 19
int pattryrefs(Patprog prog , char *string , int stringlen , int unmetalenin , Patstralloc patstralloc ,
               int patoffset , int *nump , int *begp , int *endp ) ;
#line 20
int patmatchlen(void) ;
#line 22
int mb_patmatchrange(char *range , wchar_t ch , int zmb_ind , wint_t *indptr , int *mtp ) ;
#line 23
int mb_patmatchindex(char *range , wint_t ind , wint_t *chr , int *mtp ) ;
#line 25
int patmatchrange(char *range , int ch , int *indptr , int *mtp ) ;
#line 29
void freepatprog(Patprog prog ) ;
#line 30
int pat_enables(char const   *cmd , char **patp , int enable ) ;
#line 31
unsigned int savepatterndisables(void) ;
#line 32
void startpatternscope(void) ;
#line 33
void restorepatterndisables(unsigned int disables ) ;
#line 34
void endpatternscope(void) ;
#line 35
void clearpatterndisables(void) ;
#line 36
int haswilds(char *str ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.pro"
static void patadd(char *add___0 , int ch , long n , int paflags ) ;
#line 3
static long patcompswitch(int paren , int *flagp ) ;
#line 4
static long patcompbranch(int *flagp , int paren ) ;
#line 5
static long patcomppiece(int *flagp , int paren ) ;
#line 6
static long patcompnot(int paren , int *flagsp ) ;
#line 7
static long patnode(long op___0 ) ;
#line 8
static void patinsert(long op___0 , int opnd , char *xtra , int sz___0 ) ;
#line 9
static void pattail(long p , long val ) ;
#line 10
static void patoptail(long p , long val ) ;
#line 11
static void patmungestring(char **string , int *stringlen , int *unmetalenin ) ;
#line 12
static int patmatch(Upat prog ) ;
#line 17
static int patrepeat(Upat p , char *charstart ) ;
#line 248 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char const   zpc_chars[19]  = 
#line 248 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
  {      (char const   )'/',      (char const   )'\000',      (char const   )(char)-114,      (char const   )(char)-118, 
        (char const   )(char)-104,      (char const   )(char)-120,      (char const   )(char)-105,      (char const   )(char)-121, 
        (char const   )(char)-111,      (char const   )(char)-108,      (char const   )(char)-122,      (char const   )(char)-124, 
        (char const   )(char)-96,      (char const   )(char)-105,      (char const   )(char)-121,      (char const   )'+', 
        (char const   )(char)-100,      (char const   )'!',      (char const   )'@'};
#line 258 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
char const   *zpc_strings[19]  = 
#line 258
  {      (char const   *)((void *)0),      (char const   *)((void *)0),      "|",      (char const   *)((void *)0), 
        "~",      "(",      "?",      "*", 
        "[",      "<",      "^",      "#", 
        (char const   *)((void *)0),      "?(",      "*(",      "+(", 
        "!(",      "\\!(",      "@("};
#line 274 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static struct zpc_disables_save *zpc_disables_stack  ;
#line 295 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char *patstart  ;
#line 295 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char *patparse  ;
#line 296 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static int patnpar  ;
#line 297 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char *patcode  ;
#line 298 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long patsize  ;
#line 299 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char *patout  ;
#line 300 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long patalloc  ;
#line 303 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static int patflags  ;
#line 304 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static int patglobflags  ;
#line 321 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static mbstate_t shiftstate  ;
#line 327 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static wchar_t metacharinc(char **x ) 
{ 
  char *inptr ;
  char inchar ;
  size_t ret ;
  wchar_t wc ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;

  {
#line 330
  inptr = *x;
#line 332
  ret = (size_t )-1;
#line 341
  if (! (patglobflags & 4096)) {
#line 341
    goto _L;
  } else
#line 341
  if (! ((int )((unsigned char )*inptr) & 128)) {
    _L: /* CIL Label */ 
#line 343
    if ((int )typtab[(unsigned char )*inptr] & (1 << 4)) {
#line 344
      tmp = inptr;
#line 344
      inptr ++;
#line 344
      inchar = ztokens[(int )*tmp - -124];
    } else
#line 345
    if ((int )*inptr == -125) {
#line 346
      inptr ++;
#line 347
      tmp___0 = inptr;
#line 347
      inptr ++;
#line 347
      inchar = (char )((int )*tmp___0 ^ 32);
    } else {
#line 349
      tmp___1 = inptr;
#line 349
      inptr ++;
#line 349
      inchar = *tmp___1;
    }
#line 351
    *x = inptr;
#line 352
    return ((wchar_t )((unsigned char )inchar));
  }
  {
#line 355
  while (1) {
    while_continue: /* CIL Label */ ;
#line 355
    if (! *inptr) {
#line 355
      goto while_break;
    }
#line 356
    if ((int )typtab[(unsigned char )*inptr] & (1 << 4)) {
#line 357
      tmp___2 = inptr;
#line 357
      inptr ++;
#line 357
      inchar = ztokens[(int )*tmp___2 - -124];
    } else
#line 358
    if ((int )*inptr == -125) {
#line 359
      inptr ++;
#line 360
      tmp___3 = inptr;
#line 360
      inptr ++;
#line 360
      inchar = (char )((int )*tmp___3 ^ 32);
    } else {
#line 362
      tmp___4 = inptr;
#line 362
      inptr ++;
#line 362
      inchar = *tmp___4;
    }
    {
#line 364
    ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)(& inchar),
                  (size_t )1, (mbstate_t */* __restrict  */)(& shiftstate));
    }
#line 366
    if (ret == 0xffffffffffffffffUL) {
#line 367
      goto while_break;
    }
#line 368
    if (ret == 0xfffffffffffffffeUL) {
#line 369
      goto while_continue;
    }
#line 370
    *x = inptr;
#line 371
    return (wc);
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 376
  memset((void *)(& shiftstate), 0, sizeof(shiftstate));
#line 377
  tmp___5 = *x;
#line 377
  (*x) ++;
  }
#line 377
  return (56320 + (int )((unsigned char )*tmp___5));
}
}
#line 403 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static void patadd(char *add___0 , int ch , long n , int paflags ) 
{ 
  long newpatsize ;
  long newpatalloc ;
  long tmp ;
  void *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  long tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  long tmp___10 ;
  char *tmp___11 ;

  {
#line 407
  newpatsize = patsize + n;
#line 408
  if (! (paflags & 1)) {
#line 409
    newpatsize = (long )((((unsigned long )newpatsize + sizeof(union upat )) - 1UL) & ~ (sizeof(union upat ) - 1UL));
  }
#line 411
  if (patalloc < newpatsize) {
#line 412
    if (newpatsize > patalloc) {
#line 412
      tmp = newpatsize;
    } else {
#line 412
      tmp = patalloc;
    }
    {
#line 412
    newpatalloc = 2L * tmp;
#line 414
    tmp___0 = zrealloc((void *)patout, (size_t )newpatalloc);
#line 414
    patout = (char *)tmp___0;
#line 415
    patcode = patout + patsize;
#line 416
    patalloc = newpatalloc;
    }
  }
#line 418
  patsize = newpatsize;
#line 419
  if (add___0) {
#line 420
    if (paflags & 2) {
      {
#line 425
      while (1) {
        while_continue: /* CIL Label */ ;
#line 425
        tmp___7 = n;
#line 425
        n --;
#line 425
        if (! tmp___7) {
#line 425
          goto while_break;
        }
#line 426
        if ((int )typtab[(unsigned char )*add___0] & (1 << 4)) {
#line 427
          tmp___1 = patcode;
#line 427
          patcode ++;
#line 427
          tmp___2 = add___0;
#line 427
          add___0 ++;
#line 427
          *tmp___1 = ztokens[(int )*tmp___2 - -124];
        } else
#line 428
        if ((int )*add___0 == -125) {
#line 429
          add___0 ++;
#line 430
          tmp___3 = patcode;
#line 430
          patcode ++;
#line 430
          tmp___4 = add___0;
#line 430
          add___0 ++;
#line 430
          *tmp___3 = (char )((int )*tmp___4 ^ 32);
        } else {
#line 432
          tmp___5 = patcode;
#line 432
          patcode ++;
#line 432
          tmp___6 = add___0;
#line 432
          add___0 ++;
#line 432
          *tmp___5 = *tmp___6;
        }
      }
      while_break: /* CIL Label */ ;
      }
    } else {
      {
#line 436
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 436
        tmp___10 = n;
#line 436
        n --;
#line 436
        if (! tmp___10) {
#line 436
          goto while_break___0;
        }
#line 437
        tmp___8 = patcode;
#line 437
        patcode ++;
#line 437
        tmp___9 = add___0;
#line 437
        add___0 ++;
#line 437
        *tmp___8 = *tmp___9;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
  } else {
#line 440
    tmp___11 = patcode;
#line 440
    patcode ++;
#line 440
    *tmp___11 = (char )ch;
  }
#line 441
  patcode = patout + patsize;
#line 442
  return;
}
}
#line 444 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long rn_offs  ;
#line 455 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static void patcompcharsset(void) 
{ 
  char *spp ;
  char *disp ;
  int i ;

  {
  {
#line 462
  memcpy((void */* __restrict  */)(zpc_special), (void const   */* __restrict  */)(zpc_chars),
         (size_t )19);
#line 464
  i = 0;
#line 464
  spp = zpc_special;
#line 464
  disp = zpc_disables;
  }
  {
#line 464
  while (1) {
    while_continue: /* CIL Label */ ;
#line 464
    if (! (i < 19)) {
#line 464
      goto while_break;
    }
#line 467
    if (*disp) {
#line 468
      *spp = (char)-94;
    }
#line 464
    i ++;
#line 464
    spp ++;
#line 464
    disp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 471
  if (! opts[52]) {
#line 473
    zpc_special[11] = (char)-94;
#line 473
    zpc_special[10] = zpc_special[11];
#line 473
    zpc_special[4] = zpc_special[10];
  }
#line 476
  if (! opts[96]) {
#line 482
    zpc_special[18] = (char)-94;
#line 482
    zpc_special[17] = zpc_special[18];
#line 482
    zpc_special[16] = zpc_special[17];
#line 482
    zpc_special[15] = zpc_special[16];
#line 482
    zpc_special[14] = zpc_special[15];
#line 482
    zpc_special[13] = zpc_special[14];
  }
#line 492
  if (opts[158]) {
#line 501
    zpc_special[9] = (char)-94;
#line 501
    zpc_special[5] = zpc_special[9];
  }
#line 503
  return;
}
}
#line 508 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
void patcompstart(void) 
{ 


  {
  {
#line 511
  patcompcharsset();
  }
#line 512
  if (opts[25]) {
#line 513
    patglobflags = 0;
  } else {
#line 515
    patglobflags = 512;
  }
#line 516
  if (opts[116]) {
#line 517
    patglobflags |= 4096;
  }
#line 518
  return;
}
}
#line 531 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
Patprog patcompile(char *exp , int inflags , char **endexp ) 
{ 
  int flags ;
  long len ;
  long startoff ;
  Upat pscan ;
  char *lng ;
  char *strp ;
  Patprog p ;
  void *tmp ;
  sigset_t oset ;
  long tmp___0 ;
  char *dst ;
  Upat next___0 ;
  Upat tmp___1 ;
  char *opnd ;
  char *mtest ;
  long oplen ;
  long ilen ;
  int nmeta ;
  char *oldpatout ;
  ptrdiff_t pd ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  long tmp___7 ;
  Upat tmp___8 ;
  Upat tmp___9 ;
  Upat tmp___10 ;
  Patprog newp ;
  void *tmp___11 ;
  Patprog newp___0 ;
  void *tmp___12 ;
  sigset_t oset___0 ;
  void *__cil_tmp38 ;
  void *__cil_tmp39 ;

  {
#line 534
  flags = 0;
#line 535
  len = 0L;
#line 538
  strp = (char *)((void *)0);
#line 541
  queueing_enabled ++;
#line 543
  startoff = (long )sizeof(struct patprog );
#line 545
  startoff = (long )((((unsigned long )startoff + sizeof(union upat )) - 1UL) & ~ (sizeof(union upat ) - 1UL));
#line 548
  if (patalloc != 256L) {
    {
#line 549
    patalloc = 256L;
#line 549
    tmp = zrealloc((void *)patout, (size_t )patalloc);
#line 549
    patout = (char *)tmp;
    }
  }
#line 550
  patcode = patout + startoff;
#line 551
  patsize = patcode - patout;
#line 552
  patparse = exp;
#line 552
  patstart = patparse;
#line 557
  patnpar = 1;
#line 558
  patflags = inflags & -2081;
#line 560
  if (! (patflags & 1)) {
    {
#line 561
    patcompcharsset();
#line 562
    zpc_special[0] = (char)-94;
#line 563
    remnulargs(patparse);
    }
#line 564
    if (opts[116]) {
#line 565
      patglobflags = 4096;
    } else {
#line 567
      patglobflags = 0;
    }
  }
#line 569
  if (patflags & 4096) {
#line 570
    patglobflags |= 256;
  }
#line 574
  ((Patprog )patout)->globflags = patglobflags;
#line 576
  if (! (patflags & 4)) {
#line 578
    if (! (patglobflags & -4097)) {
#line 595
      if ((int )*exp == -95) {
#line 596
        exp ++;
      }
#line 597
      strp = exp;
      {
#line 597
      while (1) {
        while_continue: /* CIL Label */ ;
#line 597
        if (*strp) {
#line 597
          if (! (patflags & 1)) {
#line 597
            goto _L;
          } else
#line 597
          if ((int )*strp != 47) {
            _L: /* CIL Label */ 
#line 597
            if (! (! ((int )typtab[(unsigned char )*strp] & (1 << 4)))) {
#line 597
              goto while_break;
            }
          } else {
#line 597
            goto while_break;
          }
        } else {
#line 597
          goto while_break;
        }
#line 597
        strp ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
#line 602
    if (! strp) {
#line 602
      goto _L___0;
    } else
#line 602
    if (*strp) {
#line 602
      if ((int )*strp != 47) {
        _L___0: /* CIL Label */ 
        {
#line 604
        strp = (char *)((void *)0);
#line 605
        tmp___0 = patcompswitch(0, & flags);
        }
#line 605
        if (tmp___0 == 0L) {
          {
#line 606
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 606
            queueing_enabled --;
#line 606
            if (! queueing_enabled) {
              {
#line 606
              while (1) {
                while_continue___1: /* CIL Label */ ;
                {
#line 606
                while (1) {
                  while_continue___2: /* CIL Label */ ;
#line 606
                  if (! (queue_front != queue_rear)) {
#line 606
                    goto while_break___2;
                  }
                  {
#line 606
                  queue_front = (queue_front + 1) % 128;
#line 606
                  oset = signal_setmask(signal_mask_queue[queue_front]);
#line 606
                  zhandler(signal_queue[queue_front]);
#line 606
                  signal_setmask(oset);
                  }
                }
                while_break___2: /* CIL Label */ ;
                }
#line 606
                goto while_break___1;
              }
              while_break___1: /* CIL Label */ ;
              }
            }
#line 606
            goto while_break___0;
          }
          while_break___0: /* CIL Label */ ;
          }
#line 607
          return ((Patprog )((void *)0));
        }
      } else {
        {
#line 616
        patparse = strp;
#line 617
        len = strp - exp;
#line 618
        patadd(exp, 0, len + 1L, 0);
#line 619
        *(patout + (startoff + len)) = (char )'\000';
#line 620
        patflags |= 32;
        }
      }
    } else {
      {
#line 616
      patparse = strp;
#line 617
      len = strp - exp;
#line 618
      patadd(exp, 0, len + 1L, 0);
#line 619
      *(patout + (startoff + len)) = (char )'\000';
#line 620
      patflags |= 32;
      }
    }
  }
#line 625
  p = (Patprog )patout;
#line 626
  p->startoff = startoff;
#line 627
  p->patstartch = (char )'\000';
#line 628
  p->globend = patglobflags;
#line 629
  p->flags = patflags;
#line 630
  p->mustoff = 0L;
#line 631
  p->size = patsize;
#line 632
  p->patmlen = len;
#line 633
  p->patnpar = patnpar - 1;
#line 635
  if (! strp) {
#line 636
    pscan = (Upat )(patout + startoff);
#line 638
    if (! (patflags & 4)) {
#line 638
      rn_offs = pscan->l >> 8;
#line 638
      if (rn_offs) {
#line 638
        if ((pscan->l & 255L) == 3L) {
#line 638
          tmp___9 = pscan - rn_offs;
        } else {
#line 638
          tmp___9 = pscan + rn_offs;
        }
#line 638
        tmp___10 = tmp___9;
      } else {
#line 638
        tmp___10 = (Upat )((void *)0);
      }
#line 638
      if ((tmp___10->l & 255L) == 0L) {
#line 640
        pscan ++;
#line 642
        if (flags & 4) {
#line 647
          dst = patout + startoff;
#line 649
          p->flags |= 32;
          {
#line 650
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 650
            if (! pscan) {
#line 650
              goto while_break___3;
            }
#line 651
            rn_offs = pscan->l >> 8;
#line 651
            if (rn_offs) {
#line 651
              if ((pscan->l & 255L) == 3L) {
#line 651
                tmp___1 = pscan - rn_offs;
              } else {
#line 651
                tmp___1 = pscan + rn_offs;
              }
#line 651
              next___0 = tmp___1;
            } else {
#line 651
              next___0 = (Upat )((void *)0);
            }
#line 652
            if ((pscan->l & 255L) == 4L) {
#line 653
              opnd = (char *)(pscan + 2);
#line 654
              oplen = (pscan + 1)->l;
#line 655
              nmeta = 0;
#line 666
              mtest = opnd;
#line 666
              ilen = oplen;
              {
#line 666
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 666
                if (! ilen) {
#line 666
                  goto while_break___4;
                }
#line 668
                if ((int )typtab[(unsigned char )*mtest] & (1 << 12)) {
#line 669
                  nmeta ++;
                }
#line 666
                mtest ++;
#line 666
                ilen --;
              }
              while_break___4: /* CIL Label */ ;
              }
#line 670
              if (nmeta) {
                {
#line 671
                oldpatout = patout;
#line 673
                patadd((char *)((void *)0), 0, (long )nmeta, 0);
#line 677
                p = (Patprog )patout;
#line 678
                pd = patout - oldpatout;
#line 679
                opnd += pd;
#line 680
                dst = patout + startoff;
                }
              }
              {
#line 683
              while (1) {
                while_continue___5: /* CIL Label */ ;
#line 683
                tmp___7 = oplen;
#line 683
                oplen --;
#line 683
                if (! tmp___7) {
#line 683
                  goto while_break___5;
                }
#line 684
                if ((int )typtab[(unsigned char )*opnd] & (1 << 12)) {
#line 685
                  tmp___2 = dst;
#line 685
                  dst ++;
#line 685
                  *tmp___2 = (char)-125;
#line 686
                  tmp___3 = dst;
#line 686
                  dst ++;
#line 686
                  tmp___4 = opnd;
#line 686
                  opnd ++;
#line 686
                  *tmp___3 = (char )((int )*tmp___4 ^ 32);
                } else {
#line 688
                  tmp___5 = dst;
#line 688
                  dst ++;
#line 688
                  tmp___6 = opnd;
#line 688
                  opnd ++;
#line 688
                  *tmp___5 = *tmp___6;
                }
              }
              while_break___5: /* CIL Label */ ;
              }
#line 692
              goto while_break___3;
            }
#line 650
            pscan = next___0;
          }
          while_break___3: /* CIL Label */ ;
          }
#line 695
          p->size = dst - patout;
#line 697
          p->patmlen = p->size - startoff;
        } else {
#line 700
          if ((pscan->l & 255L) == 4L) {
#line 700
            if (! p->globflags) {
#line 700
              if ((pscan + 1)->l) {
#line 702
                p->patstartch = *((char *)(pscan + 2));
              }
            }
          }
#line 708
          if (flags & 2) {
#line 708
            if (! p->globflags) {
#line 709
              lng = (char *)((void *)0);
#line 710
              len = 0L;
              {
#line 711
              while (1) {
                while_continue___6: /* CIL Label */ ;
#line 711
                if (! pscan) {
#line 711
                  goto while_break___6;
                }
#line 712
                if ((pscan->l & 255L) == 4L) {
#line 712
                  if ((pscan + 1)->l >= len) {
#line 714
                    lng = (char *)(pscan + 2);
#line 715
                    len = (pscan + 1)->l;
                  }
                }
#line 711
                rn_offs = pscan->l >> 8;
#line 711
                if (rn_offs) {
#line 711
                  if ((pscan->l & 255L) == 3L) {
#line 711
                    tmp___8 = pscan - rn_offs;
                  } else {
#line 711
                    tmp___8 = pscan + rn_offs;
                  }
#line 711
                  pscan = tmp___8;
                } else {
#line 711
                  pscan = (Upat )((void *)0);
                }
              }
              while_break___6: /* CIL Label */ ;
              }
#line 717
              if (lng) {
#line 718
                p->mustoff = lng - patout;
#line 719
                p->patmlen = len;
              }
            }
          }
        }
      }
    }
  }
#line 732
  if (patflags & 256) {
    {
#line 733
    tmp___11 = zalloc((size_t )patsize);
#line 733
    newp = (Patprog )tmp___11;
#line 734
    memcpy((void */* __restrict  */)((char *)newp), (void const   */* __restrict  */)((char *)p),
           (size_t )patsize);
#line 735
    p = newp;
    }
  } else
#line 736
  if (! (patflags & 64)) {
    {
#line 737
    tmp___12 = zhalloc((size_t )patsize);
#line 737
    newp___0 = (Patprog )tmp___12;
#line 738
    memcpy((void */* __restrict  */)((char *)newp___0), (void const   */* __restrict  */)((char *)p),
           (size_t )patsize);
#line 739
    p = newp___0;
    }
  }
#line 742
  if (endexp) {
#line 743
    *endexp = patparse;
  }
  {
#line 745
  while (1) {
    while_continue___7: /* CIL Label */ ;
#line 745
    queueing_enabled --;
#line 745
    if (! queueing_enabled) {
      {
#line 745
      while (1) {
        while_continue___8: /* CIL Label */ ;
        {
#line 745
        while (1) {
          while_continue___9: /* CIL Label */ ;
#line 745
          if (! (queue_front != queue_rear)) {
#line 745
            goto while_break___9;
          }
          {
#line 745
          queue_front = (queue_front + 1) % 128;
#line 745
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 745
          zhandler(signal_queue[queue_front]);
#line 745
          signal_setmask(oset___0);
          }
        }
        while_break___9: /* CIL Label */ ;
        }
#line 745
        goto while_break___8;
      }
      while_break___8: /* CIL Label */ ;
      }
    }
#line 745
    goto while_break___7;
  }
  while_break___7: /* CIL Label */ ;
  }
#line 746
  return (p);
}
}
#line 755 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long patcompswitch(int paren , int *flagp ) 
{ 
  long starter ;
  long br ;
  long ender ;
  long excsync ;
  int parno ;
  int flags ;
  int gfchanged ;
  long savglobflags ;
  Upat ptr___0 ;
  int tmp ;
  long tmp___0 ;
  int tilde ;
  char *tmp___1 ;
  long gfnode ;
  long newbr ;
  union upat up ;
  union upat up___0 ;
  long tmp___2 ;
  void *tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  Upat tmp___6 ;
  char *tmp___7 ;
  long tmp___8 ;

  {
#line 758
  excsync = 0L;
#line 759
  parno = 0;
#line 760
  gfchanged = 0;
#line 761
  savglobflags = (long )patglobflags;
#line 764
  *flagp = 0;
#line 766
  if (paren) {
#line 766
    if (patglobflags & 1024) {
#line 766
      if (patnpar <= 9) {
        {
#line 773
        tmp = patnpar;
#line 773
        patnpar ++;
#line 773
        parno = tmp;
#line 774
        starter = patnode((long )(128 + parno));
        }
      } else {
#line 776
        starter = 0L;
      }
    } else {
#line 776
      starter = 0L;
    }
  } else {
#line 776
    starter = 0L;
  }
  {
#line 778
  br = patnode(32L);
#line 779
  tmp___0 = patcompbranch(& flags, paren);
  }
#line 779
  if (! tmp___0) {
#line 780
    return (0L);
  }
#line 781
  if (patglobflags != (int )savglobflags) {
#line 782
    gfchanged ++;
  }
#line 783
  if (starter) {
    {
#line 784
    pattail(starter, br);
    }
  } else {
#line 786
    starter = br;
  }
#line 788
  *flagp |= flags & 6;
  {
#line 790
  while (1) {
    while_continue: /* CIL Label */ ;
#line 790
    if (! ((int )*patparse == (int )zpc_chars[2])) {
#line 790
      if ((int )*patparse == (int )zpc_special[4]) {
#line 790
        if (! ((int )*(patparse + 1) == 47)) {
          {
#line 790
          tmp___3 = memchr((void const   *)(zpc_special), (int )*(patparse + 1), (size_t )5);
          }
#line 790
          if (tmp___3) {
#line 790
            goto while_break;
          }
        }
      } else {
#line 790
        goto while_break;
      }
    }
#line 794
    tmp___1 = patparse;
#line 794
    patparse ++;
#line 794
    tilde = (int )*tmp___1 == (int )zpc_special[4];
#line 795
    gfnode = 0L;
#line 797
    *flagp &= -5;
#line 799
    if (tilde) {
#line 805
      if (! excsync) {
        {
#line 806
        excsync = patnode(1L);
#line 807
        patoptail(br, excsync);
        }
      }
#line 815
      patglobflags &= -256;
#line 816
      if (! (patflags & 2)) {
        {
#line 817
        br = patnode(48L);
        }
      } else
#line 816
      if (paren) {
        {
#line 817
        br = patnode(48L);
        }
      } else {
        {
#line 825
        br = patnode(49L);
#line 826
        patflags |= 2048;
        }
      }
      {
#line 828
      up.p = (unsigned char *)((void *)0);
#line 829
      patadd((char *)(& up), 0, (long )sizeof(up), 0);
      }
#line 831
      if (! paren) {
#line 831
        if ((int )zpc_special[0] == 47) {
#line 832
          tilde ++;
#line 833
          zpc_special[0] = (char)-94;
        }
      }
    } else {
      {
#line 836
      excsync = 0L;
#line 837
      br = patnode(32L);
      }
#line 842
      if (! paren) {
#line 843
        patglobflags = 0;
#line 844
        if (((Patprog )patout)->globflags) {
          {
#line 862
          gfnode = patnode(8L);
#line 863
          up___0.l = (long )patglobflags;
#line 864
          patadd((char *)(& up___0), 0, (long )sizeof(union upat ), 0);
          }
        }
      } else {
#line 867
        patglobflags = (int )savglobflags;
      }
    }
    {
#line 870
    newbr = patcompbranch(& flags, paren);
    }
#line 871
    if (tilde == 2) {
#line 873
      zpc_special[0] = (char )'/';
    }
#line 875
    if (! newbr) {
#line 876
      return (0L);
    }
#line 877
    if (gfnode) {
      {
#line 878
      pattail(gfnode, newbr);
      }
    }
#line 879
    if (! tilde) {
#line 879
      if (patglobflags != (int )savglobflags) {
#line 880
        gfchanged ++;
      }
    }
    {
#line 881
    pattail(starter, br);
    }
#line 882
    if (excsync) {
      {
#line 883
      tmp___2 = patnode(2L);
#line 883
      patoptail(br, tmp___2);
      }
    }
#line 884
    *flagp |= flags & 2;
  }
  while_break: /* CIL Label */ ;
  }
#line 893
  if (paren) {
#line 893
    if (parno) {
#line 893
      tmp___4 = 144 + parno;
    } else {
#line 893
      tmp___4 = 5;
    }
#line 893
    tmp___5 = tmp___4;
  } else {
#line 893
    tmp___5 = 0;
  }
  {
#line 893
  ender = patnode((long )tmp___5);
#line 894
  pattail(starter, ender);
#line 900
  ptr___0 = (Upat )patout + starter;
  }
  {
#line 900
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 900
    if (! ptr___0) {
#line 900
      goto while_break___0;
    }
#line 901
    if (! ((ptr___0->l & 48L) == 48L)) {
      {
#line 902
      patoptail(ptr___0 - (Upat )patout, ender);
      }
    }
#line 900
    rn_offs = ptr___0->l >> 8;
#line 900
    if (rn_offs) {
#line 900
      if ((ptr___0->l & 255L) == 3L) {
#line 900
        tmp___6 = ptr___0 - rn_offs;
      } else {
#line 900
        tmp___6 = ptr___0 + rn_offs;
      }
#line 900
      ptr___0 = tmp___6;
    } else {
#line 900
      ptr___0 = (Upat )((void *)0);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 905
  if (paren) {
#line 905
    tmp___7 = patparse;
#line 905
    patparse ++;
#line 905
    if ((int )*tmp___7 != -118) {
#line 908
      return (0L);
    } else {
#line 905
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 905
  if (! paren) {
#line 905
    if (*patparse) {
#line 905
      if (patflags & 1) {
#line 905
        if (! ((int )*patparse == 47)) {
#line 908
          return (0L);
        }
      } else {
#line 908
        return (0L);
      }
    }
  }
#line 910
  if (paren) {
#line 910
    if (gfchanged) {
      {
#line 917
      tmp___8 = patnode(8L);
#line 917
      pattail(ender, tmp___8);
#line 918
      patglobflags = (int )savglobflags;
#line 919
      patadd((char *)(& savglobflags), 0, (long )sizeof(long ), 0);
      }
    }
  }
#line 922
  return (starter);
}
}
#line 932 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long patcompbranch(int *flagp , int paren ) 
{ 
  long chain ;
  long latest ;
  long starter ;
  int flags ;
  char *pp1 ;
  int oldglobflags ;
  int ignore ;
  long assert ;
  int tmp ;
  int tmp___0 ;
  union upat up ;
  void *tmp___1 ;
  void *tmp___2 ;

  {
#line 935
  latest = 0L;
#line 936
  flags = 0;
#line 938
  *flagp = 4;
#line 940
  chain = 0L;
#line 940
  starter = chain;
  {
#line 941
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 941
    tmp___1 = memchr((void const   *)(zpc_special), (int )*patparse, (size_t )5);
    }
#line 941
    if (tmp___1) {
#line 941
      if ((int )*patparse == (int )zpc_special[4]) {
#line 941
        if ((int )*(patparse + 1) != 47) {
          {
#line 941
          tmp___2 = memchr((void const   *)(zpc_special), (int )*(patparse + 1), (size_t )5);
          }
#line 941
          if (! tmp___2) {
#line 941
            goto while_break;
          }
        } else {
#line 941
          goto while_break;
        }
      } else {
#line 941
        goto while_break;
      }
    }
#line 944
    if ((int )*patparse == (int )zpc_special[5]) {
#line 944
      if ((int )*(patparse + 1) == (int )zpc_special[11]) {
#line 944
        goto _L;
      } else {
#line 944
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 944
    if ((int )*patparse == (int )zpc_special[18]) {
#line 944
      if ((int )*(patparse + 1) == -120) {
#line 944
        if ((int )*(patparse + 2) == (int )zpc_special[11]) {
          _L: /* CIL Label */ 
#line 949
          pp1 = patparse;
#line 950
          oldglobflags = patglobflags;
#line 952
          if ((int )*patparse == 64) {
#line 952
            tmp = 3;
          } else {
#line 952
            tmp = 2;
          }
          {
#line 952
          patparse += tmp;
#line 953
          tmp___0 = patgetglobflags(& patparse, & assert, & ignore);
          }
#line 953
          if (! tmp___0) {
#line 954
            return (0L);
          }
#line 955
          if (! ignore) {
#line 956
            if (assert) {
              {
#line 961
              latest = patnode(assert);
#line 962
              flags = 0;
              }
            } else {
#line 964
              if ((unsigned long )pp1 == (unsigned long )patstart) {
#line 968
                ((Patprog )patout)->globflags = patglobflags;
#line 969
                goto while_continue;
              } else
#line 970
              if (! *patparse) {
#line 974
                goto while_break;
              }
#line 980
              if (oldglobflags != patglobflags) {
                {
#line 983
                latest = patnode(8L);
#line 984
                up.l = (long )patglobflags;
#line 985
                patadd((char *)(& up), 0, (long )sizeof(union upat ), 0);
                }
              } else {
#line 988
                goto while_continue;
              }
            }
          } else
#line 991
          if (! *patparse) {
#line 992
            goto while_break;
          } else {
#line 994
            goto while_continue;
          }
        } else {
#line 944
          goto _L___1;
        }
      } else {
#line 944
        goto _L___1;
      }
    } else
    _L___1: /* CIL Label */ 
#line 995
    if ((int )*patparse == (int )zpc_special[10]) {
      {
#line 1001
      patparse ++;
#line 1002
      latest = patcompnot(0, & flags);
      }
    } else {
      {
#line 1004
      latest = patcomppiece(& flags, paren);
      }
    }
#line 1005
    if (! latest) {
#line 1006
      return (0L);
    }
#line 1007
    if (! starter) {
#line 1008
      starter = latest;
    }
#line 1009
    if (! (flags & 4)) {
#line 1010
      *flagp &= -5;
    }
#line 1011
    if (! chain) {
#line 1012
      *flagp |= flags & 2;
    } else {
      {
#line 1014
      pattail(chain, latest);
      }
    }
#line 1015
    chain = latest;
  }
  while_break: /* CIL Label */ ;
  }
#line 1018
  if (! chain) {
    {
#line 1019
    starter = patnode(5L);
    }
  }
#line 1021
  return (starter);
}
}
#line 1027 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int patgetglobflags(char **strp , long *assertp , int *ignore ) 
{ 
  char *nptr ;
  char *ptr___0 ;
  zlong ret ;

  {
#line 1030
  ptr___0 = *strp;
#line 1033
  *assertp = 0L;
#line 1034
  *ignore = 1;
  {
#line 1036
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1036
    if (*ptr___0) {
#line 1036
      if (! ((int )*ptr___0 != -118)) {
#line 1036
        goto while_break;
      }
    } else {
#line 1036
      goto while_break;
    }
#line 1037
    if ((int )*ptr___0 == 113) {
      {
#line 1039
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 1039
        if (*ptr___0) {
#line 1039
          if (! ((int )*ptr___0 != -118)) {
#line 1039
            goto while_break___0;
          }
        } else {
#line 1039
          goto while_break___0;
        }
#line 1040
        ptr___0 ++;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 1041
      goto while_break;
    } else {
#line 1043
      *ignore = 0;
      {
#line 1045
      if ((int )*ptr___0 == 97) {
#line 1045
        goto case_97;
      }
#line 1059
      if ((int )*ptr___0 == 108) {
#line 1059
        goto case_108;
      }
#line 1064
      if ((int )*ptr___0 == 105) {
#line 1064
        goto case_105;
      }
#line 1069
      if ((int )*ptr___0 == 73) {
#line 1069
        goto case_73;
      }
#line 1074
      if ((int )*ptr___0 == 98) {
#line 1074
        goto case_98;
      }
#line 1079
      if ((int )*ptr___0 == 66) {
#line 1079
        goto case_66;
      }
#line 1084
      if ((int )*ptr___0 == 109) {
#line 1084
        goto case_109;
      }
#line 1089
      if ((int )*ptr___0 == 77) {
#line 1089
        goto case_77;
      }
#line 1094
      if ((int )*ptr___0 == 115) {
#line 1094
        goto case_115;
      }
#line 1098
      if ((int )*ptr___0 == 101) {
#line 1098
        goto case_101;
      }
#line 1102
      if ((int )*ptr___0 == 117) {
#line 1102
        goto case_117;
      }
#line 1106
      if ((int )*ptr___0 == 85) {
#line 1106
        goto case_85;
      }
#line 1110
      goto switch_default;
      case_97: /* CIL Label */ 
      {
#line 1047
      ptr___0 ++;
#line 1047
      ret = zstrtol((char const   *)ptr___0, & nptr, 10);
      }
#line 1053
      if (ret < 0L) {
#line 1054
        return (0);
      } else
#line 1053
      if (ret > 254L) {
#line 1054
        return (0);
      } else
#line 1053
      if ((unsigned long )ptr___0 == (unsigned long )nptr) {
#line 1054
        return (0);
      }
#line 1055
      patglobflags = (int )((long )(patglobflags & -256) | (ret & 255L));
#line 1056
      ptr___0 = nptr - 1;
#line 1057
      goto switch_break;
      case_108: /* CIL Label */ 
#line 1061
      patglobflags = (patglobflags & -513) | 256;
#line 1062
      goto switch_break;
      case_105: /* CIL Label */ 
#line 1066
      patglobflags = (patglobflags & -257) | 512;
#line 1067
      goto switch_break;
      case_73: /* CIL Label */ 
#line 1071
      patglobflags &= -769;
#line 1072
      goto switch_break;
      case_98: /* CIL Label */ 
#line 1076
      patglobflags |= 1024;
#line 1077
      goto switch_break;
      case_66: /* CIL Label */ 
#line 1081
      patglobflags &= -1025;
#line 1082
      goto switch_break;
      case_109: /* CIL Label */ 
#line 1086
      patglobflags |= 2048;
#line 1087
      goto switch_break;
      case_77: /* CIL Label */ 
#line 1091
      patglobflags &= -2049;
#line 1092
      goto switch_break;
      case_115: /* CIL Label */ 
#line 1095
      *assertp = 9L;
#line 1096
      goto switch_break;
      case_101: /* CIL Label */ 
#line 1099
      *assertp = 10L;
#line 1100
      goto switch_break;
      case_117: /* CIL Label */ 
#line 1103
      patglobflags |= 4096;
#line 1104
      goto switch_break;
      case_85: /* CIL Label */ 
#line 1107
      patglobflags &= -4097;
#line 1108
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 1111
      return (0);
      switch_break: /* CIL Label */ ;
      }
    }
#line 1036
    ptr___0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1115
  if ((int )*ptr___0 != -118) {
#line 1116
    return (0);
  }
#line 1118
  if (*assertp) {
#line 1118
    if ((int )*(*strp + 1) != -118) {
#line 1119
      return (0);
    }
  }
#line 1120
  *strp = ptr___0 + 1;
#line 1121
  return (1);
}
}
#line 1125 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char const   *colon_stuffs[20]  = 
#line 1125
  {      "alpha",      "alnum",      "ascii",      "blank", 
        "cntrl",      "digit",      "graph",      "lower", 
        "print",      "punct",      "space",      "upper", 
        "xdigit",      "IDENT",      "IFS",      "IFSSPACE", 
        "WORD",      "INCOMPLETE",      "INVALID",      (char const   *)((void *)0)};
#line 1138 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int range_type(char *start , int len ) 
{ 
  char const   **csp ;
  size_t tmp ;
  int tmp___0 ;

  {
#line 1143
  csp = colon_stuffs;
  {
#line 1143
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1143
    if (! *csp) {
#line 1143
      goto while_break;
    }
    {
#line 1144
    tmp = strlen(*csp);
    }
#line 1144
    if (tmp == (size_t )len) {
      {
#line 1144
      tmp___0 = strncmp((char const   *)start, *csp, (size_t )len);
      }
#line 1144
      if (! tmp___0) {
#line 1145
        return ((int )((csp - colon_stuffs) + 1L));
      }
    }
#line 1143
    csp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1148
  return (20);
}
}
#line 1169 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int pattern_range_to_string(char *rangestr , char *outstr ) 
{ 
  int len ;
  int swtype ;
  char *tmp ;
  char *tmp___0 ;
  int i ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char const   *found ;
  int newlen ;
  size_t tmp___5 ;
  char *tmp___6 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;

  {
#line 1172
  len = 0;
  {
#line 1174
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1174
    if (! *rangestr) {
#line 1174
      goto while_break;
    }
#line 1175
    if ((int )typtab[(unsigned char )*rangestr] & (1 << 12)) {
#line 1176
      swtype = (int )((unsigned char )*rangestr) - 131;
#line 1178
      if (swtype == 0) {
#line 1180
        if (outstr) {
#line 1182
          tmp = outstr;
#line 1182
          outstr ++;
#line 1182
          *tmp = (char)-125;
#line 1183
          tmp___0 = outstr;
#line 1183
          outstr ++;
#line 1183
          *tmp___0 = (char )((int )*(rangestr + 1) ^ 32);
        }
#line 1185
        len += 2;
#line 1186
        rangestr += 2;
      } else
#line 1187
      if (swtype == 21) {
#line 1191
        i = 0;
        {
#line 1191
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 1191
          if (! (i < 2)) {
#line 1191
            goto while_break___0;
          }
#line 1192
          if ((int )*rangestr == -125) {
#line 1193
            if (outstr) {
#line 1194
              tmp___1 = outstr;
#line 1194
              outstr ++;
#line 1194
              *tmp___1 = (char)-125;
#line 1195
              tmp___2 = outstr;
#line 1195
              outstr ++;
#line 1195
              *tmp___2 = *(rangestr + 1);
            }
#line 1197
            len += 2;
#line 1198
            rangestr += 2;
          } else {
#line 1200
            if (outstr) {
#line 1201
              tmp___3 = outstr;
#line 1201
              outstr ++;
#line 1201
              *tmp___3 = *rangestr;
            }
#line 1202
            len ++;
#line 1203
            rangestr ++;
          }
#line 1206
          if (i == 0) {
#line 1207
            if (outstr) {
#line 1208
              tmp___4 = outstr;
#line 1208
              outstr ++;
#line 1208
              *tmp___4 = (char )'-';
            }
#line 1209
            len ++;
          }
#line 1191
          i ++;
        }
        while_break___0: /* CIL Label */ ;
        }
      } else
#line 1212
      if (swtype >= 1) {
#line 1212
        if (swtype <= 19) {
          {
#line 1214
          found = colon_stuffs[swtype - 1];
#line 1215
          tmp___5 = strlen(found);
#line 1215
          newlen = (int )tmp___5;
          }
#line 1216
          if (outstr) {
            {
#line 1217
            strcpy((char */* __restrict  */)outstr, (char const   */* __restrict  */)"[:");
#line 1218
            outstr += 2;
#line 1219
            memcpy((void */* __restrict  */)outstr, (void const   */* __restrict  */)found,
                   (size_t )newlen);
#line 1220
            outstr += newlen;
#line 1221
            strcpy((char */* __restrict  */)outstr, (char const   */* __restrict  */)":]");
#line 1222
            outstr += 2;
            }
          }
#line 1224
          len += newlen + 4;
#line 1225
          rangestr ++;
        } else {
#line 1229
          rangestr ++;
        }
      } else {
#line 1229
        rangestr ++;
      }
    } else {
#line 1233
      if (outstr) {
#line 1234
        tmp___6 = outstr;
#line 1234
        outstr ++;
#line 1234
        *tmp___6 = *rangestr;
      }
#line 1235
      len ++;
#line 1236
      rangestr ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1240
  if (outstr) {
#line 1241
    *outstr = (char )'\000';
  }
#line 1242
  return (len);
}
}
#line 1251 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long patcomppiece(int *flagp , int paren ) 
{ 
  long starter ;
  long next___0 ;
  long op___0 ;
  long opnd ;
  int flags ;
  int flags2 ;
  int kshchar ;
  int len ;
  int ch ;
  int patch ;
  int nmeta ;
  int hash ;
  int count ;
  union upat up ;
  char *nptr ;
  char *str0 ;
  char *ptr___0 ;
  char *patprev ;
  zrange_t from ;
  zrange_t to ;
  char *charstart ;
  void *tmp ;
  void *tmp___0 ;
  long slen ;
  int morelen ;
  char *tmp___1 ;
  zlong tmp___2 ;
  zlong tmp___3 ;
  int tmp___4 ;
  union upat countargs[5] ;
  char *opp ;
  zlong tmp___5 ;
  zlong tmp___6 ;
  long tmp___7 ;
  Upat uptr ;
  long tmp___8 ;
  long tmp___9 ;
  long tmp___10 ;
  long tmp___11 ;
  long tmp___12 ;
  long tmp___13 ;
  long tmp___14 ;
  long tmp___15 ;
  void *__cil_tmp46 ;
  int __cil_tmp47 ;

  {
#line 1254
  starter = 0L;
#line 1262
  flags = 0;
#line 1263
  patprev = patparse;
#line 1263
  str0 = patprev;
  {
#line 1264
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1269
    kshchar = '\000';
#line 1270
    if (*patparse) {
#line 1270
      if ((int )*(patparse + 1) == -120) {
#line 1271
        if ((int )*patparse == (int )zpc_special[15]) {
#line 1272
          kshchar = (int )((unsigned char )'+');
        } else
#line 1273
        if ((int )*patparse == (int )zpc_special[16]) {
#line 1274
          kshchar = (int )((unsigned char )'!');
        } else
#line 1275
        if ((int )*patparse == (int )zpc_special[17]) {
#line 1276
          kshchar = (int )((unsigned char )'!');
        } else
#line 1277
        if ((int )*patparse == (int )zpc_special[18]) {
#line 1278
          kshchar = (int )((unsigned char )'@');
        } else
#line 1279
        if ((int )*patparse == (int )zpc_special[14]) {
#line 1280
          kshchar = (int )((unsigned char )'*');
        } else
#line 1281
        if ((int )*patparse == (int )zpc_special[13]) {
#line 1282
          kshchar = (int )((unsigned char )'?');
        }
      }
    }
#line 1290
    if ((int )zpc_special[5] != -94) {
#line 1290
      goto _L;
    } else
#line 1290
    if ((int )*patparse != -118) {
#line 1290
      goto _L;
    } else
#line 1290
    if (paren) {
      _L: /* CIL Label */ 
#line 1303
      if (kshchar) {
#line 1308
        goto while_break;
      } else {
        {
#line 1303
        tmp = memchr((void const   *)(zpc_special), (int )*patparse, (size_t )13);
        }
#line 1303
        if (tmp) {
#line 1303
          if ((int )*patparse != (int )zpc_special[4]) {
#line 1308
            goto while_break;
          } else
#line 1303
          if ((int )*(patparse + 1) == 47) {
#line 1308
            goto while_break;
          } else {
            {
#line 1303
            tmp___0 = memchr((void const   *)(zpc_special), (int )*(patparse + 1),
                             (size_t )5);
            }
#line 1303
            if (! tmp___0) {
#line 1308
              goto while_break;
            }
          }
        }
      }
    }
    {
#line 1313
    patprev = patparse;
#line 1314
    metacharinc(& patparse);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1317
  if ((unsigned long )patparse > (unsigned long )str0) {
#line 1318
    slen = patparse - str0;
#line 1322
    kshchar = '\000';
#line 1326
    flags |= 4;
#line 1329
    morelen = (unsigned long )patprev > (unsigned long )str0;
#line 1334
    if ((int )*patparse == (int )zpc_special[11]) {
#line 1334
      goto _L___0;
    } else
#line 1334
    if ((int )*patparse == (int )zpc_special[5]) {
#line 1334
      if ((int )*(patparse + 1) == (int )zpc_special[11]) {
#line 1334
        if ((int )*(patparse + 2) == 99) {
#line 1334
          goto _L___0;
        } else {
#line 1334
          goto _L___2;
        }
      } else {
#line 1334
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 1334
    if ((int )*patparse == (int )zpc_special[18]) {
#line 1334
      if ((int )*(patparse + 1) == -120) {
#line 1334
        if ((int )*(patparse + 2) == (int )zpc_special[11]) {
#line 1334
          if ((int )*(patparse + 3) == 99) {
            _L___0: /* CIL Label */ 
#line 1334
            if (morelen) {
#line 1342
              patparse = patprev;
            }
          }
        }
      }
    }
#line 1347
    if (! morelen) {
#line 1348
      flags |= 1;
    }
    {
#line 1349
    starter = patnode(4L);
#line 1352
    nmeta = 0;
    }
#line 1354
    if ((int )*str0 == -95) {
#line 1355
      str0 ++;
    }
#line 1356
    ptr___0 = str0;
    {
#line 1356
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1356
      if (! ((unsigned long )ptr___0 < (unsigned long )patparse)) {
#line 1356
        goto while_break___0;
      }
#line 1357
      if ((int )*ptr___0 == -125) {
#line 1358
        nmeta ++;
#line 1359
        ptr___0 ++;
      }
#line 1356
      ptr___0 ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 1362
    slen = (patparse - str0) - (long )nmeta;
#line 1364
    patadd((char *)(& slen), 0, (long )sizeof(long ), 0);
#line 1371
    patadd(str0, 0, slen, 2);
#line 1372
    nptr = (char *)(((Upat )patout + starter) + 2);
    }
#line 1383
    if (patglobflags & 1023) {
#line 1403
      if (! (patflags & 1)) {
#line 1404
        flags &= -5;
      } else
#line 1405
      if ((int )*(nptr + 0) == 46) {
#line 1405
        if (! (slen == 1L)) {
#line 1405
          if ((int )*(nptr + 1) == 46) {
#line 1405
            if (! (slen == 2L)) {
#line 1407
              flags &= -5;
            }
          } else {
#line 1407
            flags &= -5;
          }
        }
      } else {
#line 1407
        flags &= -5;
      }
    }
  } else {
#line 1410
    if (kshchar) {
#line 1411
      patparse ++;
    }
    {
#line 1413
    patch = (int )*patparse;
#line 1414
    metacharinc(& patparse);
    }
    {
#line 1416
    if (patch == -105) {
#line 1416
      goto case_neg_105;
    }
#line 1422
    if (patch == -121) {
#line 1422
      goto case_neg_121;
    }
#line 1429
    if (patch == -111) {
#line 1429
      goto case_neg_111;
    }
#line 1493
    if (patch == -120) {
#line 1493
      goto case_neg_120;
    }
#line 1518
    if (patch == -108) {
#line 1518
      goto case_neg_108;
    }
#line 1564
    if (patch == -124) {
#line 1564
      goto case_neg_124;
    }
#line 1574
    if (patch == -96) {
#line 1574
      goto case_neg_96;
    }
#line 1415
    goto switch_break;
    case_neg_105: /* CIL Label */ 
    {
#line 1419
    flags |= 1;
#line 1420
    starter = patnode(64L);
    }
#line 1421
    goto switch_break;
    case_neg_121: /* CIL Label */ 
    {
#line 1426
    kshchar = -1;
#line 1427
    starter = patnode(67L);
    }
#line 1428
    goto switch_break;
    case_neg_111: /* CIL Label */ 
#line 1432
    flags |= 1;
#line 1433
    if ((int )*patparse == -122) {
      {
#line 1434
      patparse ++;
#line 1435
      starter = patnode(66L);
      }
    } else
#line 1433
    if ((int )*patparse == -100) {
      {
#line 1434
      patparse ++;
#line 1435
      starter = patnode(66L);
      }
    } else {
      {
#line 1437
      starter = patnode(65L);
      }
    }
#line 1447
    if ((int )*patparse == -110) {
      {
#line 1447
      tmp___1 = strchr((char const   *)(patparse + 1), -110);
      }
#line 1447
      if (tmp___1) {
        {
#line 1448
        patparse ++;
#line 1449
        patadd((char *)((void *)0), ']', 1L, 1);
        }
      }
    }
    {
#line 1451
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 1451
      if (*patparse) {
#line 1451
        if (! ((int )*patparse != -110)) {
#line 1451
          goto while_break___1;
        }
      } else {
#line 1451
        goto while_break___1;
      }
#line 1453
      if ((int )*patparse == -111) {
#line 1453
        if ((int )*(patparse + 1) == 58) {
          {
#line 1453
          nptr = strchr((char const   *)(patparse + 2), ':');
          }
#line 1453
          if (nptr) {
#line 1453
            if ((int )*(nptr + 1) == -110) {
              {
#line 1457
              patparse += 2;
#line 1458
              len = (int )(nptr - patparse);
#line 1459
              ch = range_type(patparse, len);
#line 1460
              patparse = nptr + 2;
              }
#line 1461
              if (ch != 20) {
                {
#line 1462
                patadd((char *)((void *)0), 131 + ch, 1L, 1);
                }
              }
#line 1463
              goto while_continue___1;
            }
          }
        }
      }
      {
#line 1465
      charstart = patparse;
#line 1466
      metacharinc(& patparse);
      }
#line 1468
      if ((int )*patparse == -101) {
#line 1468
        if (*(patparse + 1)) {
#line 1468
          if ((int )*(patparse + 1) != -110) {
            {
#line 1470
            patadd((char *)((void *)0), 152, 1L, 1);
            }
#line 1471
            if ((int )typtab[(unsigned char )*charstart] & (1 << 4)) {
              {
#line 1472
              patadd((char *)0, (int )((unsigned char )ztokens[(int )*charstart - -124]),
                     1L, 1);
              }
            } else {
              {
#line 1475
              patadd(charstart, 0, patparse - charstart, 1);
              }
            }
            {
#line 1477
            patparse ++;
#line 1477
            charstart = patparse;
#line 1478
            metacharinc(& patparse);
            }
          }
        }
      }
#line 1480
      if ((int )typtab[(unsigned char )*charstart] & (1 << 4)) {
        {
#line 1481
        patadd((char *)0, (int )((unsigned char )ztokens[(int )*charstart - -124]),
               1L, 1);
        }
      } else {
        {
#line 1484
        patadd(charstart, 0, patparse - charstart, 1);
        }
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 1487
    if ((int )*patparse != -110) {
#line 1488
      return (0L);
    }
    {
#line 1489
    patparse ++;
#line 1491
    patadd((char *)((void *)0), 0, 1L, 0);
    }
#line 1492
    goto switch_break;
    case_neg_120: /* CIL Label */ ;
#line 1498
    if (kshchar == 33) {
      {
#line 1512
      starter = patcompnot(1, & flags2);
      }
#line 1512
      if (! starter) {
#line 1513
        return (0L);
      }
    } else {
      {
#line 1514
      starter = patcompswitch(1, & flags2);
      }
#line 1514
      if (! starter) {
#line 1515
        return (0L);
      }
    }
#line 1516
    flags |= flags2 & 2;
#line 1517
    goto switch_break;
    case_neg_108: /* CIL Label */ 
#line 1523
    len = 0;
#line 1524
    if ((int )typtab[(unsigned char )*patparse] & 1) {
      {
#line 1525
      tmp___2 = zstrtol((char const   *)patparse, & nptr, 10);
#line 1525
      from = tmp___2;
#line 1527
      patparse = nptr;
#line 1528
      len |= 1;
      }
    }
#line 1531
    patparse ++;
#line 1532
    if ((int )typtab[(unsigned char )*patparse] & 1) {
      {
#line 1533
      tmp___3 = zstrtol((char const   *)patparse, & nptr, 10);
#line 1533
      to = tmp___3;
#line 1535
      patparse = nptr;
#line 1536
      len |= 2;
      }
    }
#line 1538
    if ((int )*patparse != -107) {
#line 1539
      return (0L);
    }
#line 1540
    patparse ++;
    {
#line 1542
    if (len == 3) {
#line 1542
      goto case_3;
    }
#line 1547
    if (len == 2) {
#line 1547
      goto case_2;
    }
#line 1551
    if (len == 1) {
#line 1551
      goto case_1;
    }
#line 1555
    if (len == 0) {
#line 1555
      goto case_0;
    }
#line 1541
    goto switch_break___0;
    case_3: /* CIL Label */ 
    {
#line 1543
    starter = patnode(68L);
#line 1544
    patadd((char *)(& from), 0, (long )sizeof(from), 0);
#line 1545
    patadd((char *)(& to), 0, (long )sizeof(to), 0);
    }
#line 1546
    goto switch_break___0;
    case_2: /* CIL Label */ 
    {
#line 1548
    starter = patnode(70L);
#line 1549
    patadd((char *)(& to), 0, (long )sizeof(to), 0);
    }
#line 1550
    goto switch_break___0;
    case_1: /* CIL Label */ 
    {
#line 1552
    starter = patnode(69L);
#line 1553
    patadd((char *)(& from), 0, (long )sizeof(from), 0);
    }
#line 1554
    goto switch_break___0;
    case_0: /* CIL Label */ 
    {
#line 1556
    starter = patnode(71L);
    }
#line 1557
    goto switch_break___0;
    switch_break___0: /* CIL Label */ ;
    }
#line 1563
    goto switch_break;
    case_neg_124: /* CIL Label */ ;
#line 1572
    return (0L);
#line 1573
    goto switch_break;
    case_neg_96: /* CIL Label */ 
    {
#line 1579
    next___0 = patcomppiece(flagp, paren);
#line 1584
    *flagp &= -5;
    }
#line 1585
    return (next___0);
#line 1586
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
#line 1596
  count = 0;
#line 1597
  hash = (int )*patparse == (int )zpc_special[11];
#line 1597
  if (! hash) {
#line 1597
    if ((int )*patparse == (int )zpc_special[5]) {
#line 1597
      if ((int )*(patparse + 1) == (int )zpc_special[11]) {
#line 1597
        if ((int )*(patparse + 2) == 99) {
#line 1597
          tmp___4 = 1;
        } else {
#line 1597
          goto _L___4;
        }
      } else {
#line 1597
        goto _L___4;
      }
    } else
    _L___4: /* CIL Label */ 
#line 1597
    if ((int )*patparse == (int )zpc_special[18]) {
#line 1597
      if ((int )*(patparse + 1) == -120) {
#line 1597
        if ((int )*(patparse + 2) == (int )zpc_special[11]) {
#line 1597
          if ((int )*(patparse + 3) == 99) {
#line 1597
            tmp___4 = 1;
          } else {
#line 1597
            tmp___4 = 0;
          }
        } else {
#line 1597
          tmp___4 = 0;
        }
      } else {
#line 1597
        tmp___4 = 0;
      }
    } else {
#line 1597
      tmp___4 = 0;
    }
#line 1597
    count = tmp___4;
#line 1597
    if (! count) {
#line 1597
      if (kshchar <= 0) {
#line 1606
        *flagp = flags;
#line 1607
        return (starter);
      } else
#line 1597
      if (kshchar == 64) {
#line 1606
        *flagp = flags;
#line 1607
        return (starter);
      } else
#line 1597
      if (kshchar == 33) {
#line 1606
        *flagp = flags;
#line 1607
        return (starter);
      }
    }
  }
#line 1611
  if (kshchar) {
#line 1611
    if (hash) {
#line 1612
      return (0L);
    } else
#line 1611
    if (count) {
#line 1612
      return (0L);
    }
  }
#line 1614
  if (kshchar == 42) {
#line 1615
    op___0 = 6L;
#line 1616
    *flagp = 2;
  } else
#line 1617
  if (kshchar == 43) {
#line 1618
    op___0 = 7L;
#line 1619
    *flagp = 2;
  } else
#line 1620
  if (kshchar == 63) {
#line 1621
    op___0 = 0L;
#line 1622
    *flagp = 0;
  } else
#line 1623
  if (count) {
#line 1624
    op___0 = 12L;
#line 1625
    patparse += 3;
#line 1626
    *flagp = 2;
  } else {
#line 1627
    patparse ++;
#line 1627
    if ((int )*patparse == (int )zpc_special[11]) {
#line 1628
      op___0 = 7L;
#line 1629
      patparse ++;
#line 1630
      *flagp = 2;
    } else {
#line 1632
      op___0 = 6L;
#line 1633
      *flagp = 2;
    }
  }
#line 1646
  if (op___0 == 12L) {
    {
#line 1649
    opp = patparse;
#line 1651
    countargs[0].l = 12L;
#line 1652
    countargs[1].l = 0L;
#line 1653
    tmp___5 = zstrtol((char const   *)patparse, & patparse, 10);
#line 1653
    countargs[2].l = tmp___5;
    }
#line 1654
    if ((unsigned long )patparse == (unsigned long )opp) {
#line 1656
      countargs[2].l = 0L;
    }
#line 1658
    if ((int )*patparse != 44) {
#line 1658
      if ((int )*patparse != -102) {
#line 1660
        if ((int )*patparse != -118) {
#line 1661
          return (0L);
        }
#line 1662
        countargs[3].l = countargs[2].l;
      } else {
#line 1658
        goto _L___5;
      }
    } else {
      _L___5: /* CIL Label */ 
      {
#line 1664
      patparse ++;
#line 1664
      opp = patparse;
#line 1665
      tmp___6 = zstrtol((char const   *)patparse, & patparse, 10);
#line 1665
      countargs[3].l = tmp___6;
      }
#line 1666
      if ((int )*patparse != -118) {
#line 1667
        return (0L);
      }
#line 1668
      if ((unsigned long )patparse == (unsigned long )opp) {
#line 1670
        countargs[3].l = -1L;
      }
    }
    {
#line 1673
    patparse ++;
#line 1674
    countargs[4].p = (unsigned char *)((void *)0);
#line 1676
    patinsert(11L, (int )starter, (char *)(countargs), (int )sizeof(countargs));
#line 1684
    opnd = (starter + 1L) + 5L;
#line 1685
    tmp___7 = patnode(3L);
#line 1685
    pattail(opnd, tmp___7);
#line 1686
    pattail(opnd, starter + 1L);
#line 1692
    next___0 = patnode(5L);
#line 1693
    pattail(starter, next___0);
#line 1694
    pattail(starter + 1L, next___0);
    }
  } else
#line 1695
  if (flags & 1) {
#line 1695
    if (op___0 == 6L) {
#line 1695
      goto _L___10;
    } else
#line 1695
    if (op___0 == 7L) {
      _L___10: /* CIL Label */ 
#line 1695
      if ((((Upat )patout + starter)->l & 255L) == 64L) {
#line 1700
        uptr = (Upat )patout + starter;
#line 1701
        if (op___0 == 7L) {
          {
#line 1703
          uptr->l = (uptr->l & -256L) | 64L;
#line 1704
          tmp___8 = patnode(67L);
#line 1704
          pattail(starter, tmp___8);
          }
        } else {
#line 1706
          uptr->l = (uptr->l & -256L) | 67L;
        }
      } else {
#line 1695
        goto _L___9;
      }
    } else {
#line 1695
      goto _L___9;
    }
  } else
  _L___9: /* CIL Label */ 
#line 1708
  if (flags & 1) {
#line 1708
    if (op___0) {
#line 1708
      if (! (patglobflags & 255)) {
        {
#line 1710
        patinsert(op___0, (int )starter, (char *)((void *)0), 0);
        }
      } else {
#line 1708
        goto _L___7;
      }
    } else {
#line 1708
      goto _L___7;
    }
  } else
  _L___7: /* CIL Label */ 
#line 1711
  if (op___0 == 6L) {
    {
#line 1713
    up.p = (unsigned char *)((void *)0);
#line 1714
    patinsert(33L, (int )starter, (char *)(& up), (int )sizeof(up));
#line 1716
    tmp___9 = patnode(3L);
#line 1716
    patoptail(starter, tmp___9);
#line 1717
    patoptail(starter, starter);
#line 1718
    tmp___10 = patnode(32L);
#line 1718
    pattail(starter, tmp___10);
#line 1719
    tmp___11 = patnode(5L);
#line 1719
    pattail(starter, tmp___11);
    }
  } else
#line 1720
  if (op___0 == 7L) {
    {
#line 1722
    next___0 = patnode(33L);
#line 1723
    up.p = (unsigned char *)((void *)0);
#line 1724
    patadd((char *)(& up), 0, (long )sizeof(up), 0);
#line 1725
    pattail(starter, next___0);
#line 1726
    tmp___12 = patnode(3L);
#line 1726
    pattail(tmp___12, starter);
#line 1727
    tmp___13 = patnode(32L);
#line 1727
    pattail(next___0, tmp___13);
#line 1728
    tmp___14 = patnode(5L);
#line 1728
    pattail(starter, tmp___14);
    }
  } else
#line 1729
  if (kshchar == 63) {
    {
#line 1731
    patinsert(32L, (int )starter, (char *)((void *)0), 0);
#line 1732
    tmp___15 = patnode(32L);
#line 1732
    pattail(starter, tmp___15);
#line 1733
    next___0 = patnode(5L);
#line 1734
    pattail(starter, next___0);
#line 1735
    patoptail(starter, next___0);
    }
  }
#line 1737
  if ((int )*patparse == (int )zpc_special[11]) {
#line 1738
    return (0L);
  }
#line 1740
  return (starter);
}
}
#line 1749 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long patcompnot(int paren , int *flagsp ) 
{ 
  union upat up ;
  long excsync ;
  long br ;
  long excl ;
  long n ;
  long starter ;
  int dummy___0 ;
  long tmp ;
  long tmp___0 ;
  long tmp___1 ;

  {
  {
#line 1757
  *flagsp = 2;
#line 1759
  starter = patnode(32L);
#line 1760
  br = patnode(67L);
#line 1761
  excsync = patnode(1L);
#line 1762
  pattail(br, excsync);
#line 1763
  excl = patnode(48L);
#line 1763
  pattail(starter, excl);
#line 1764
  up.p = (unsigned char *)((void *)0);
#line 1765
  patadd((char *)(& up), 0, (long )sizeof(up), 0);
  }
#line 1766
  if (paren) {
    {
#line 1766
    tmp = patcompswitch(1, & dummy___0);
#line 1766
    br = tmp;
    }
  } else {
    {
#line 1766
    tmp___0 = patcompbranch(& dummy___0, 0);
#line 1766
    br = tmp___0;
    }
  }
#line 1766
  if (! br) {
#line 1767
    return (0L);
  }
  {
#line 1768
  tmp___1 = patnode(2L);
#line 1768
  pattail(br, tmp___1);
#line 1769
  n = patnode(5L);
#line 1770
  pattail(excsync, n);
#line 1771
  pattail(excl, n);
  }
#line 1773
  return (starter);
}
}
#line 1779 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static long patnode(long op___0 ) 
{ 
  long starter ;
  union upat up ;

  {
  {
#line 1782
  starter = (Upat )patcode - (Upat )patout;
#line 1785
  up.l = op___0;
#line 1786
  patadd((char *)(& up), 0, (long )sizeof(union upat ), 0);
  }
#line 1787
  return (starter);
}
}
#line 1796 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static void patinsert(long op___0 , int opnd , char *xtra , int sz___0 ) 
{ 
  char *src ;
  char *dst ;
  char *opdst ;
  union upat buf___7 ;
  union upat *lptr ;
  char *tmp ;
  char *tmp___0 ;
  int tmp___1 ;

  {
  {
#line 1802
  buf___7.l = 0L;
#line 1803
  patadd((char *)(& buf___7), 0, (long )sizeof(buf___7), 0);
  }
#line 1804
  if (sz___0) {
    {
#line 1805
    patadd(xtra, 0, (long )sz___0, 0);
    }
  }
#line 1806
  src = (patcode - sizeof(union upat )) - sz___0;
#line 1807
  dst = patcode;
#line 1808
  opdst = patout + (unsigned long )opnd * sizeof(union upat );
  {
#line 1809
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1809
    if (! ((unsigned long )src > (unsigned long )opdst)) {
#line 1809
      goto while_break;
    }
#line 1810
    dst --;
#line 1810
    src --;
#line 1810
    *dst = *src;
  }
  while_break: /* CIL Label */ ;
  }
#line 1813
  lptr = (Upat )opdst;
#line 1814
  lptr->l = op___0;
#line 1815
  opdst += sizeof(union upat );
  {
#line 1816
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1816
    tmp___1 = sz___0;
#line 1816
    sz___0 --;
#line 1816
    if (! tmp___1) {
#line 1816
      goto while_break___0;
    }
#line 1817
    tmp = opdst;
#line 1817
    opdst ++;
#line 1817
    tmp___0 = xtra;
#line 1817
    xtra ++;
#line 1817
    *tmp = *tmp___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1818
  return;
}
}
#line 1823 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static void pattail(long p , long val ) 
{ 
  Upat scan ;
  Upat temp ;
  long offset ;
  Upat tmp ;

  {
#line 1829
  scan = (Upat )patout + p;
  {
#line 1830
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1831
    rn_offs = scan->l >> 8;
#line 1831
    if (rn_offs) {
#line 1831
      if ((scan->l & 255L) == 3L) {
#line 1831
        tmp = scan - rn_offs;
      } else {
#line 1831
        tmp = scan + rn_offs;
      }
#line 1831
      temp = tmp;
    } else {
#line 1831
      temp = (Upat )((void *)0);
    }
#line 1831
    if (! temp) {
#line 1832
      goto while_break;
    }
#line 1833
    scan = temp;
  }
  while_break: /* CIL Label */ ;
  }
#line 1836
  if ((scan->l & 255L) == 3L) {
#line 1836
    offset = (scan - (Upat )patout) - val;
  } else {
#line 1836
    offset = val - (scan - (Upat )patout);
  }
#line 1839
  scan->l |= offset << 8;
#line 1840
  return;
}
}
#line 1845 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static void patoptail(long p , long val ) 
{ 
  Upat ptr___0 ;
  int op___0 ;

  {
#line 1848
  ptr___0 = (Upat )patout + p;
#line 1849
  op___0 = (int )(ptr___0->l & 255L);
#line 1850
  if (! p) {
#line 1851
    return;
  } else
#line 1850
  if (! (ptr___0->l & 32L)) {
#line 1851
    return;
  }
#line 1852
  if (op___0 == 32) {
    {
#line 1853
    pattail(p + 1L, val);
    }
  } else {
    {
#line 1855
    pattail((p + 1L) + 1L, val);
    }
  }
#line 1856
  return;
}
}
#line 1878 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static struct rpat pattrystate  ;
#line 1898 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static wchar_t charref(char *x , char *y , int *zmb_ind ) 
{ 
  wchar_t wc ;
  size_t ret ;

  {
#line 1904
  if (! (patglobflags & 4096)) {
#line 1905
    return ((wchar_t )((unsigned char )*x));
  } else
#line 1904
  if (! ((int )((unsigned char )*x) & 128)) {
#line 1905
    return ((wchar_t )((unsigned char )*x));
  }
  {
#line 1907
  ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)x,
                (size_t )(y - x), (mbstate_t */* __restrict  */)(& shiftstate));
  }
#line 1909
  if (ret == 0xffffffffffffffffUL) {
#line 1909
    goto _L;
  } else
#line 1909
  if (ret == 0xfffffffffffffffeUL) {
    _L: /* CIL Label */ 
    {
#line 1912
    memset((void *)(& shiftstate), 0, sizeof(shiftstate));
    }
#line 1913
    if (zmb_ind) {
#line 1914
      if (ret == 0xffffffffffffffffUL) {
#line 1914
        *zmb_ind = 2;
      } else {
#line 1914
        *zmb_ind = 1;
      }
    }
#line 1915
    return (56320 + (int )((unsigned char )*x));
  }
#line 1918
  if (zmb_ind) {
#line 1919
    *zmb_ind = 0;
  }
#line 1920
  return (wc);
}
}
#line 1925 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char *charnext(char *x , char *y ) 
{ 
  wchar_t wc ;
  size_t ret ;
  size_t tmp ;

  {
#line 1931
  if (! (patglobflags & 4096)) {
#line 1932
    return (x + 1);
  } else
#line 1931
  if (! ((int )((unsigned char )*x) & 128)) {
#line 1932
    return (x + 1);
  }
  {
#line 1934
  ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)x,
                (size_t )(y - x), (mbstate_t */* __restrict  */)(& shiftstate));
  }
#line 1936
  if (ret == 0xffffffffffffffffUL) {
    {
#line 1939
    memset((void *)(& shiftstate), 0, sizeof(shiftstate));
    }
#line 1940
    return (x + 1);
  } else
#line 1936
  if (ret == 0xfffffffffffffffeUL) {
    {
#line 1939
    memset((void *)(& shiftstate), 0, sizeof(shiftstate));
    }
#line 1940
    return (x + 1);
  }
#line 1944
  if (ret) {
#line 1944
    tmp = ret;
  } else {
#line 1944
    tmp = (size_t )1;
  }
#line 1944
  return (x + tmp);
}
}
#line 1953 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static wchar_t charrefinc(char **x , char *y , int *z ) 
{ 
  wchar_t wc ;
  size_t ret ;
  char *tmp ;
  char *tmp___0 ;
  size_t tmp___1 ;

  {
#line 1959
  if (! (patglobflags & 4096)) {
#line 1960
    tmp = *x;
#line 1960
    (*x) ++;
#line 1960
    return ((wchar_t )((unsigned char )*tmp));
  } else
#line 1959
  if (! ((int )((unsigned char )*(*x)) & 128)) {
#line 1960
    tmp = *x;
#line 1960
    (*x) ++;
#line 1960
    return ((wchar_t )((unsigned char )*tmp));
  }
  {
#line 1962
  ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)*x,
                (size_t )(y - *x), (mbstate_t */* __restrict  */)(& shiftstate));
  }
#line 1964
  if (ret == 0xffffffffffffffffUL) {
    {
#line 1966
    *z = 1;
#line 1968
    memset((void *)(& shiftstate), 0, sizeof(shiftstate));
#line 1969
    tmp___0 = *x;
#line 1969
    (*x) ++;
    }
#line 1969
    return (56320 + (int )((unsigned char )*tmp___0));
  } else
#line 1964
  if (ret == 0xfffffffffffffffeUL) {
    {
#line 1966
    *z = 1;
#line 1968
    memset((void *)(& shiftstate), 0, sizeof(shiftstate));
#line 1969
    tmp___0 = *x;
#line 1969
    (*x) ++;
    }
#line 1969
    return (56320 + (int )((unsigned char )*tmp___0));
  }
#line 1973
  if (ret) {
#line 1973
    tmp___1 = ret;
  } else {
#line 1973
    tmp___1 = (size_t )1;
  }
#line 1973
  *x += tmp___1;
#line 1975
  return (wc);
}
}
#line 1986 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static ptrdiff_t charsub(char *x , char *y ) 
{ 
  ptrdiff_t res ;
  size_t ret ;
  wchar_t wc ;

  {
#line 1989
  res = (ptrdiff_t )0;
#line 1993
  if (! opts[116]) {
#line 1994
    return (y - x);
  }
  {
#line 1996
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1996
    if (! ((unsigned long )x < (unsigned long )y)) {
#line 1996
      goto while_break;
    }
    {
#line 1997
    ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)x,
                  (size_t )(y - x), (mbstate_t */* __restrict  */)(& shiftstate));
    }
#line 1999
    if (ret == 0xffffffffffffffffUL) {
#line 2001
      return (res + (y - x));
    } else
#line 1999
    if (ret == 0xfffffffffffffffeUL) {
#line 2001
      return (res + (y - x));
    }
#line 2005
    if (! ret) {
#line 2006
      ret = (size_t )1;
    }
#line 2007
    res ++;
#line 2008
    x += ret;
  }
  while_break: /* CIL Label */ ;
  }
#line 2011
  return (res);
}
}
#line 2040 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
void pattrystart(void) 
{ 


  {
#line 2043
  forceerrs = -1;
#line 2044
  errsfound = 0;
#line 2045
  return;
}
}
#line 2057 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static void patmungestring(char **string , int *stringlen , int *unmetalenin ) 
{ 
  size_t tmp ;

  {
#line 2063
  if (*stringlen > 0) {
#line 2063
    if ((int )*(*string) == -95) {
#line 2064
      (*string) ++;
#line 2069
      if (*unmetalenin > 0) {
#line 2070
        (*unmetalenin) --;
      }
#line 2071
      if (*stringlen > 0) {
#line 2072
        (*stringlen) --;
      }
    }
  }
#line 2076
  if (*stringlen < 0) {
    {
#line 2077
    tmp = strlen((char const   *)*string);
#line 2077
    *stringlen = (int )tmp;
    }
  }
#line 2078
  return;
}
}
#line 2110 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
char *patallocstr(Patprog prog , char *string , int stringlen , int unmetalen , int force ,
                  Patstralloc patstralloc ) 
{ 
  int needfullpath ;
  int tmp ;
  char *dst ;
  char *ptr___0 ;
  int i ;
  int icopy ;
  int ncopy ;
  char *tmp___0 ;
  void *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;

  {
#line 2115
  if (force) {
    {
#line 2116
    patmungestring(& string, & stringlen, & unmetalen);
    }
  }
#line 2123
  if (prog->flags & 2048) {
#line 2123
    if (pathpos) {
#line 2123
      tmp = 1;
    } else {
#line 2123
      tmp = 0;
    }
  } else {
#line 2123
    tmp = 0;
  }
#line 2123
  needfullpath = tmp;
#line 2126
  if (unmetalen < 0) {
    {
#line 2127
    patstralloc->unmetalen = ztrsub((char const   *)(string + stringlen), (char const   *)string);
    }
  } else {
#line 2129
    patstralloc->unmetalen = unmetalen;
  }
#line 2130
  if (needfullpath) {
    {
#line 2131
    patstralloc->unmetalenp = ztrsub((char const   *)(pathbuf + pathpos), (char const   *)pathbuf);
    }
#line 2132
    if (! patstralloc->unmetalenp) {
#line 2133
      needfullpath = 0;
    }
  } else {
#line 2135
    patstralloc->unmetalenp = 0;
  }
#line 2137
  patstralloc->progstrunmeta = (char *)((void *)0);
#line 2138
  patstralloc->progstrunmetalen = 0;
#line 2147
  if (force) {
#line 2147
    goto _L___0;
  } else
#line 2147
  if (! (prog->flags & 36)) {
#line 2147
    if (needfullpath) {
#line 2147
      goto _L___0;
    } else
#line 2147
    if (patstralloc->unmetalen != stringlen) {
      _L___0: /* CIL Label */ 
      {
#line 2158
      tmp___1 = zhalloc((size_t )(patstralloc->unmetalen + patstralloc->unmetalenp));
#line 2158
      tmp___0 = (char *)tmp___1;
#line 2158
      patstralloc->alloced = tmp___0;
#line 2158
      dst = tmp___0;
      }
#line 2161
      if (needfullpath) {
#line 2163
        ptr___0 = pathbuf;
#line 2164
        ncopy = patstralloc->unmetalenp;
      } else {
#line 2167
        ptr___0 = string;
#line 2168
        ncopy = patstralloc->unmetalen;
      }
#line 2170
      icopy = 0;
      {
#line 2170
      while (1) {
        while_continue: /* CIL Label */ ;
#line 2170
        if (! (icopy < 2)) {
#line 2170
          goto while_break;
        }
#line 2171
        i = 0;
        {
#line 2171
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 2171
          if (! (i < ncopy)) {
#line 2171
            goto while_break___0;
          }
#line 2172
          if ((int )*ptr___0 == -125) {
#line 2173
            ptr___0 ++;
#line 2174
            tmp___2 = dst;
#line 2174
            dst ++;
#line 2174
            tmp___3 = ptr___0;
#line 2174
            ptr___0 ++;
#line 2174
            *tmp___2 = (char )((int )*tmp___3 ^ 32);
          } else {
#line 2176
            tmp___4 = dst;
#line 2176
            dst ++;
#line 2176
            tmp___5 = ptr___0;
#line 2176
            ptr___0 ++;
#line 2176
            *tmp___4 = *tmp___5;
          }
#line 2171
          i ++;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 2179
        if (! needfullpath) {
#line 2180
          goto while_break;
        }
#line 2182
        ptr___0 = string;
#line 2183
        ncopy = patstralloc->unmetalen;
#line 2170
        icopy ++;
      }
      while_break: /* CIL Label */ ;
      }
    } else {
#line 2188
      patstralloc->alloced = (char *)((void *)0);
    }
  } else {
#line 2188
    patstralloc->alloced = (char *)((void *)0);
  }
#line 2191
  return (patstralloc->alloced);
}
}
#line 2200 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int pattry(Patprog prog , char *string ) 
{ 
  int tmp ;

  {
  {
#line 2203
  tmp = pattryrefs(prog, string, -1, -1, (Patstralloc )((void *)0), 0, (int *)((void *)0),
                   (int *)((void *)0), (int *)((void *)0));
  }
#line 2203
  return (tmp);
}
}
#line 2213 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int pattrylen(Patprog prog , char *string , int len , int unmetalen , Patstralloc patstralloc ,
              int offset ) 
{ 
  int tmp ;

  {
  {
#line 2217
  tmp = pattryrefs(prog, string, len, unmetalen, patstralloc, offset, (int *)((void *)0),
                   (int *)((void *)0), (int *)((void *)0));
  }
#line 2217
  return (tmp);
}
}
#line 2271 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int pattryrefs(Patprog prog , char *string , int stringlen , int unmetalenin , Patstralloc patstralloc ,
               int patoffset , int *nump , int *begp , int *endp ) 
{ 
  int i ;
  int maxnpos ;
  int ret ;
  int origlen ;
  char **sp___0 ;
  char **ep___0 ;
  char *ptr___0 ;
  char *progstr ;
  struct patstralloc patstralloc_struct ;
  char *tmp ;
  int pstrlen ;
  char *pstr ;
  int lendiff ;
  int tmp___0 ;
  int tmp___1 ;
  char *str ;
  int mlen ;
  ptrdiff_t tmp___2 ;
  char *testptr ;
  char *teststop ;
  char *patptr ;
  int patlen ;
  int found ;
  int tmp___3 ;
  char *str___0 ;
  int mlen___0 ;
  ptrdiff_t tmp___4 ;
  int *tmp___5 ;
  ptrdiff_t tmp___6 ;
  int *tmp___7 ;
  ptrdiff_t tmp___8 ;
  int *tmp___9 ;
  int *tmp___10 ;
  int palen ;
  char **matcharr ;
  char **mbeginarr ;
  char **mendarr ;
  char numbuf[(int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3] ;
  void *tmp___11 ;
  void *tmp___12 ;
  void *tmp___13 ;
  ptrdiff_t tmp___14 ;
  ptrdiff_t tmp___15 ;
  ptrdiff_t tmp___16 ;
  int tmp___17 ;
  void *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;

  {
#line 2276
  maxnpos = 0;
#line 2279
  progstr = (char *)prog + prog->startoff;
#line 2282
  if (nump) {
#line 2283
    maxnpos = *nump;
#line 2284
    *nump = 0;
  }
#line 2287
  if (! patstralloc) {
    {
#line 2288
    patmungestring(& string, & stringlen, & unmetalenin);
    }
  }
#line 2289
  origlen = stringlen;
#line 2291
  if (patstralloc) {
#line 2296
    pattrystate.patinpath = (char *)((void *)0);
#line 2297
    pattrystate.patinstart = string;
  } else {
    {
#line 2300
    patstralloc = & patstralloc_struct;
#line 2301
    tmp = patallocstr(prog, string, stringlen, unmetalenin, 0, patstralloc);
    }
#line 2301
    if (tmp) {
#line 2302
      pattrystate.patinstart = patstralloc->alloced + patstralloc->unmetalenp;
#line 2303
      stringlen = patstralloc->unmetalen;
    } else {
#line 2305
      pattrystate.patinstart = string;
    }
#line 2306
    if (patstralloc->unmetalenp) {
#line 2307
      pattrystate.patinpath = patstralloc->alloced;
    } else {
#line 2309
      pattrystate.patinpath = (char *)((void *)0);
    }
  }
#line 2312
  patflags = prog->flags;
#line 2313
  pattrystate.patinend = pattrystate.patinstart + stringlen;
#line 2320
  if (prog->flags & 36) {
#line 2327
    if (patstralloc->alloced) {
#line 2334
      if (! patstralloc->progstrunmeta) {
        {
#line 2336
        patstralloc->progstrunmeta = dupstrpfx((char const   *)progstr, (int )prog->patmlen);
#line 2338
        unmetafy(patstralloc->progstrunmeta, & patstralloc->progstrunmetalen);
        }
      }
#line 2341
      pstr = patstralloc->progstrunmeta;
#line 2342
      pstrlen = patstralloc->progstrunmetalen;
    } else {
#line 2347
      pstr = progstr;
#line 2348
      pstrlen = (int )prog->patmlen;
    }
#line 2350
    if (prog->flags & 4) {
#line 2355
      ret = 1;
    } else {
#line 2361
      lendiff = stringlen - pstrlen;
#line 2362
      if (lendiff < 0) {
#line 2364
        ret = 0;
      } else {
        {
#line 2365
        tmp___1 = memcmp((void const   *)pstr, (void const   *)pattrystate.patinstart,
                         (size_t )pstrlen);
        }
#line 2365
        if (tmp___1) {
#line 2374
          ret = 0;
        } else {
#line 2371
          if (! lendiff) {
#line 2371
            tmp___0 = 1;
          } else
#line 2371
          if (prog->flags & 8) {
#line 2371
            tmp___0 = 1;
          } else {
#line 2371
            tmp___0 = 0;
          }
#line 2371
          ret = tmp___0;
        }
      }
    }
#line 2377
    if (ret) {
#line 2382
      if (prog->flags & 16) {
#line 2382
        if ((int )*(pattrystate.patinstart) == 46) {
#line 2383
          ret = 0;
        } else {
#line 2382
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
#line 2391
        pattrystate.patinlen = pstrlen;
#line 2393
        patglobflags = prog->globend;
#line 2395
        if (patglobflags & 2048) {
#line 2395
          if (! (patflags & 1)) {
#line 2400
            if (patstralloc->alloced) {
              {
#line 2405
              str = metafy(pattrystate.patinstart, pstrlen, 3);
#line 2406
              tmp___2 = charsub(pattrystate.patinstart, pattrystate.patinstart + pstrlen);
#line 2406
              mlen = (int )tmp___2;
              }
            } else {
              {
#line 2408
              str = ztrduppfx((char const   *)pattrystate.patinstart, pattrystate.patinlen);
#line 2413
              mb_charinit();
#line 2414
              mlen = mb_metastrlenend(pattrystate.patinstart, 0, pattrystate.patinstart + pattrystate.patinlen);
              }
            }
            {
#line 2418
            setsparam((char *)"MATCH", str);
#line 2419
            setiparam((char *)"MBEGIN", (zlong )(patoffset + ! opts[94]));
#line 2421
            setiparam((char *)"MEND", (zlong )(((mlen + patoffset) + ! opts[94]) - 1));
            }
          }
        }
      }
    }
  } else {
#line 2432
    ret = 1;
#line 2433
    if (! (prog->flags & 128)) {
#line 2433
      if (prog->mustoff) {
#line 2437
        patptr = (char *)prog + prog->mustoff;
#line 2438
        patlen = (int )prog->patmlen;
#line 2439
        found = 0;
#line 2441
        if (patlen > stringlen) {
#line 2443
          ret = 0;
        } else {
#line 2445
          teststop = pattrystate.patinend - patlen;
#line 2447
          testptr = pattrystate.patinstart;
          {
#line 2447
          while (1) {
            while_continue: /* CIL Label */ ;
#line 2447
            if (! ((unsigned long )testptr <= (unsigned long )teststop)) {
#line 2447
              goto while_break;
            }
            {
#line 2449
            tmp___3 = memcmp((void const   *)testptr, (void const   *)patptr, (size_t )patlen);
            }
#line 2449
            if (! tmp___3) {
#line 2450
              found = 1;
#line 2451
              goto while_break;
            }
#line 2447
            testptr ++;
          }
          while_break: /* CIL Label */ ;
          }
#line 2455
          if (! found) {
#line 2456
            ret = 0;
          }
        }
      }
    }
#line 2459
    if (! ret) {
#line 2460
      return (0);
    }
#line 2462
    patglobflags = prog->globflags;
#line 2463
    if (! (patflags & 1)) {
#line 2464
      forceerrs = -1;
#line 2465
      errsfound = 0;
    }
    {
#line 2467
    pattrystate.globdots = ! (patflags & 16);
#line 2468
    pattrystate.parsfound = 0;
#line 2470
    pattrystate.patinput = pattrystate.patinstart;
#line 2472
    tmp___17 = patmatch((Upat )progstr);
    }
#line 2472
    if (tmp___17) {
#line 2477
      patglobflags = prog->globend;
#line 2484
      pattrystate.patinlen = (int )(pattrystate.patinput - pattrystate.patinstart);
#line 2491
      if ((unsigned long )patstralloc == (unsigned long )(& patstralloc_struct)) {
#line 2491
        if (patstralloc->unmetalen != origlen) {
#line 2493
          ptr___0 = pattrystate.patinstart;
          {
#line 2493
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 2493
            if (! ((unsigned long )ptr___0 < (unsigned long )pattrystate.patinput)) {
#line 2493
              goto while_break___0;
            }
#line 2494
            if ((int )typtab[(unsigned char )*ptr___0] & (1 << 12)) {
#line 2495
              (pattrystate.patinlen) ++;
            }
#line 2493
            ptr___0 ++;
          }
          while_break___0: /* CIL Label */ ;
          }
        }
      }
#line 2502
      if (patglobflags & 2048) {
#line 2502
        if (! (patflags & 1)) {
          {
#line 2510
          tmp___4 = charsub(pattrystate.patinstart, pattrystate.patinput);
#line 2510
          mlen___0 = (int )tmp___4;
#line 2512
          str___0 = metafy(pattrystate.patinstart, (int )(pattrystate.patinput - pattrystate.patinstart),
                           3);
#line 2513
          setsparam((char *)"MATCH", str___0);
#line 2514
          setiparam((char *)"MBEGIN", (zlong )(patoffset + ! opts[94]));
#line 2515
          setiparam((char *)"MEND", (zlong )(((mlen___0 + patoffset) + ! opts[94]) - 1));
          }
        }
      }
#line 2519
      if (prog->patnpar) {
#line 2519
        if (nump) {
#line 2524
          *nump = prog->patnpar;
#line 2526
          sp___0 = pattrystate.patbeginp;
#line 2527
          ep___0 = pattrystate.patendp;
#line 2529
          i = 0;
          {
#line 2529
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 2529
            if (i < prog->patnpar) {
#line 2529
              if (! (i < maxnpos)) {
#line 2529
                goto while_break___1;
              }
            } else {
#line 2529
              goto while_break___1;
            }
#line 2530
            if (pattrystate.parsfound & (1 << i)) {
#line 2531
              if (begp) {
                {
#line 2532
                tmp___5 = begp;
#line 2532
                begp ++;
#line 2532
                tmp___6 = charsub(pattrystate.patinstart, *sp___0);
#line 2532
                *tmp___5 = (int )(tmp___6 + (ptrdiff_t )patoffset);
                }
              }
#line 2533
              if (endp) {
                {
#line 2534
                tmp___7 = endp;
#line 2534
                endp ++;
#line 2534
                tmp___8 = charsub(pattrystate.patinstart, *ep___0);
#line 2534
                *tmp___7 = (int )((tmp___8 + (ptrdiff_t )patoffset) - 1L);
                }
              }
            } else {
#line 2537
              if (begp) {
#line 2538
                tmp___9 = begp;
#line 2538
                begp ++;
#line 2538
                *tmp___9 = -1;
              }
#line 2539
              if (endp) {
#line 2540
                tmp___10 = endp;
#line 2540
                endp ++;
#line 2540
                *tmp___10 = -1;
              }
            }
#line 2543
            sp___0 ++;
#line 2544
            ep___0 ++;
#line 2529
            i ++;
          }
          while_break___1: /* CIL Label */ ;
          }
        } else {
#line 2519
          goto _L___0;
        }
      } else
      _L___0: /* CIL Label */ 
#line 2546
      if (prog->patnpar) {
#line 2546
        if (! (patflags & 1)) {
          {
#line 2550
          palen = prog->patnpar + 1;
#line 2554
          tmp___11 = zshcalloc((unsigned long )palen * sizeof(char *));
#line 2554
          matcharr = (char **)tmp___11;
#line 2555
          tmp___12 = zshcalloc((unsigned long )palen * sizeof(char *));
#line 2555
          mbeginarr = (char **)tmp___12;
#line 2556
          tmp___13 = zshcalloc((unsigned long )palen * sizeof(char *));
#line 2556
          mendarr = (char **)tmp___13;
#line 2558
          sp___0 = pattrystate.patbeginp;
#line 2559
          ep___0 = pattrystate.patendp;
#line 2561
          i = 0;
          }
          {
#line 2561
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2561
            if (! (i < prog->patnpar)) {
#line 2561
              goto while_break___2;
            }
#line 2562
            if (pattrystate.parsfound & (1 << i)) {
              {
#line 2563
              *(matcharr + i) = metafy(*sp___0, (int )(*ep___0 - *sp___0), 3);
#line 2573
              tmp___14 = charsub(pattrystate.patinstart, *sp___0);
#line 2573
              sprintf((char */* __restrict  */)(numbuf), (char const   */* __restrict  */)"%ld",
                      (tmp___14 + (ptrdiff_t )patoffset) + (ptrdiff_t )(! opts[94]));
#line 2577
              *(mbeginarr + i) = ztrdup((char const   *)(numbuf));
#line 2578
              tmp___15 = charsub(pattrystate.patinstart, *ep___0);
#line 2578
              sprintf((char */* __restrict  */)(numbuf), (char const   */* __restrict  */)"%ld",
                      ((tmp___15 + (ptrdiff_t )patoffset) + (ptrdiff_t )(! opts[94])) - 1L);
#line 2582
              *(mendarr + i) = ztrdup((char const   *)(numbuf));
              }
            } else {
              {
#line 2588
              *(matcharr + i) = ztrdup("");
#line 2589
              *(mbeginarr + i) = ztrdup("-1");
#line 2590
              *(mendarr + i) = ztrdup("-1");
              }
            }
#line 2592
            sp___0 ++;
#line 2593
            ep___0 ++;
#line 2561
            i ++;
          }
          while_break___2: /* CIL Label */ ;
          }
          {
#line 2595
          setaparam((char *)"match", matcharr);
#line 2596
          setaparam((char *)"mbegin", mbeginarr);
#line 2597
          setaparam((char *)"mend", mendarr);
          }
        }
      }
#line 2600
      if (! nump) {
#line 2600
        if (endp) {
          {
#line 2604
          tmp___16 = charsub(pattrystate.patinstart, pattrystate.patinput);
#line 2604
          *endp = (int )(tmp___16 + (ptrdiff_t )patoffset);
          }
        }
      }
#line 2607
      ret = 1;
    } else {
#line 2609
      ret = 0;
    }
  }
#line 2612
  return (ret);
}
}
#line 2624 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int patmatchlen(void) 
{ 


  {
#line 2627
  return (pattrystate.patinlen);
}
}
#line 2669 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char *exactpos  ;
#line 2669 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static char *exactend  ;
#line 2679 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static int patmatch(Upat prog ) 
{ 
  Upat scan ;
  Upat next___0 ;
  Upat opnd ;
  char *start ;
  char *save ;
  char *chrop ;
  char *chrend ;
  char *compend ;
  int savglobflags ;
  int op___0 ;
  int no ;
  int min ;
  int fail ;
  int saverrsfound ;
  zrange_t from ;
  zrange_t to ;
  zrange_t comp ;
  patint_t nextch ;
  int q ;
  int savpatflags ;
  int savpatglobflags ;
  char *savexactpos ;
  char *savexactend ;
  struct rpat savpattrystate ;
  sigset_t oset ;
  Upat tmp ;
  char *savpatinput ;
  char *savchrop ;
  int badin ;
  int badpa ;
  patint_t chin ;
  wchar_t tmp___0 ;
  patint_t chpa ;
  wchar_t tmp___1 ;
  wint_t tmp___3 ;
  wint_t tmp___4 ;
  int tmp___5 ;
  wint_t tmp___7 ;
  wint_t tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  wint_t tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int zmb_ind ;
  wchar_t cr ;
  wchar_t tmp___15 ;
  char *scanop ;
  int tmp___16 ;
  int tmp___17 ;
  int out_of_range ;
  int digit ;
  zrange_t c10 ;
  zrange_t tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  unsigned char *syncptr ;
  Upat after ;
  Upat syncstrp ;
  char *origpatinend ;
  unsigned char *oldsyncstr ;
  char *matchpt ;
  int ret ;
  int savglobdots ;
  int matchederrs ;
  int savparsfound ;
  void *tmp___23 ;
  unsigned char *syncpt ;
  char *savpatinstart ;
  int savforce ;
  int savpatflags___0 ;
  int synclen ;
  Upat tmp___24 ;
  int tmp___25 ;
  Upat tmp___26 ;
  Upat tmp___27 ;
  int ret___0 ;
  int pfree ;
  Upat ptrp ;
  unsigned char *ptr___0 ;
  Upat tmp___28 ;
  void *tmp___29 ;
  Upat tmp___30 ;
  Upat tmp___31 ;
  Upat tmp___32 ;
  char *lastcharstart ;
  char *charstart ;
  void *tmp___33 ;
  wchar_t tmp___34 ;
  char *nextop ;
  int nextlen ;
  int ptlen ;
  int lenmatch ;
  char *tmp___35 ;
  char *tmp___36 ;
  Upat tmp___37 ;
  Upat tmp___38 ;
  wchar_t tmp___39 ;
  patint_t charmatch_cache ;
  int tmp___40 ;
  wchar_t tmp___41 ;
  wint_t tmp___43 ;
  wint_t tmp___44 ;
  int tmp___45 ;
  wint_t tmp___47 ;
  wint_t tmp___48 ;
  int tmp___49 ;
  int tmp___50 ;
  wint_t tmp___51 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;
  int tmp___55 ;
  long *curptr ;
  long savecount ;
  unsigned char *saveptr ;
  int ret___1 ;
  long cur ;
  long min___0 ;
  long max ;
  int tmp___56 ;
  char *patinput_thistime ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;
  char *savexact ;
  int tmp___60 ;
  char *nextexact ;
  char *nextin ;
  patint_t cin0 ;
  wchar_t tmp___61 ;
  patint_t cpa0 ;
  wchar_t tmp___62 ;
  patint_t cin1 ;
  wchar_t tmp___63 ;
  patint_t cpa1 ;
  wchar_t tmp___64 ;
  int tmp___65 ;
  wint_t tmp___67 ;
  wint_t tmp___68 ;
  int tmp___69 ;
  wint_t tmp___71 ;
  wint_t tmp___72 ;
  int tmp___73 ;
  int tmp___74 ;
  wint_t tmp___75 ;
  int tmp___76 ;
  int tmp___77 ;
  int tmp___78 ;
  wint_t tmp___80 ;
  wint_t tmp___81 ;
  int tmp___82 ;
  wint_t tmp___84 ;
  wint_t tmp___85 ;
  int tmp___86 ;
  int tmp___87 ;
  wint_t tmp___88 ;
  int tmp___89 ;
  int tmp___90 ;
  int tmp___91 ;
  int tmp___92 ;
  int savpatflags___1 ;
  int savpatglobflags___0 ;
  char *savexactpos___0 ;
  char *savexactend___0 ;
  struct rpat savpattrystate___0 ;
  sigset_t oset___0 ;
  void *__cil_tmp180 ;
  void *__cil_tmp181 ;
  void *__cil_tmp182 ;
  void *__cil_tmp183 ;
  void *__cil_tmp184 ;
  void *__cil_tmp185 ;

  {
#line 2683
  scan = prog;
#line 2685
  fail = 0;
#line 2688
  q = queueing_enabled;
  {
#line 2707
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2707
    if (queue_front != queue_rear) {
#line 2707
      savpatflags = patflags;
#line 2707
      savpatglobflags = patglobflags;
#line 2707
      savexactpos = exactpos;
#line 2707
      savexactend = exactend;
#line 2707
      savpattrystate = pattrystate;
      {
#line 2707
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 2707
        queueing_enabled = 0;
        {
#line 2707
        while (1) {
          while_continue___1: /* CIL Label */ ;
          {
#line 2707
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2707
            if (! (queue_front != queue_rear)) {
#line 2707
              goto while_break___2;
            }
            {
#line 2707
            queue_front = (queue_front + 1) % 128;
#line 2707
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2707
            zhandler(signal_queue[queue_front]);
#line 2707
            signal_setmask(oset);
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 2707
          goto while_break___1;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 2707
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2707
      queueing_enabled = q;
#line 2707
      exactpos = savexactpos;
#line 2707
      exactend = savexactend;
#line 2707
      patflags = savpatflags;
#line 2707
      patglobflags = savpatglobflags;
#line 2707
      pattrystate = savpattrystate;
    }
#line 2707
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 2709
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 2709
    if (scan) {
#line 2709
      if (! (! errflag)) {
#line 2709
        goto while_break___3;
      }
    } else {
#line 2709
      goto while_break___3;
    }
#line 2710
    rn_offs = scan->l >> 8;
#line 2710
    if (rn_offs) {
#line 2710
      if ((scan->l & 255L) == 3L) {
#line 2710
        tmp = scan - rn_offs;
      } else {
#line 2710
        tmp = scan + rn_offs;
      }
#line 2710
      next___0 = tmp;
    } else {
#line 2710
      next___0 = (Upat )((void *)0);
    }
#line 2712
    if (! pattrystate.globdots) {
#line 2712
      if (scan->l & 64L) {
#line 2712
        if ((unsigned long )pattrystate.patinput == (unsigned long )pattrystate.patinstart) {
#line 2712
          if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
#line 2712
            if ((int )*(pattrystate.patinput) == 46) {
#line 2714
              return (0);
            }
          }
        }
      }
    }
    {
#line 2717
    if ((scan->l & 255L) == 64L) {
#line 2717
      goto case_64;
    }
#line 2723
    if ((scan->l & 255L) == 4L) {
#line 2723
      goto case_4;
    }
#line 2767
    if ((scan->l & 255L) == 66L) {
#line 2767
      goto case_66;
    }
#line 2767
    if ((scan->l & 255L) == 65L) {
#line 2767
      goto case_66;
    }
#line 2798
    if ((scan->l & 255L) == 70L) {
#line 2798
      goto case_70;
    }
#line 2798
    if ((scan->l & 255L) == 69L) {
#line 2798
      goto case_70;
    }
#line 2798
    if ((scan->l & 255L) == 68L) {
#line 2798
      goto case_70;
    }
#line 2897
    if ((scan->l & 255L) == 71L) {
#line 2897
      goto case_71;
    }
#line 2918
    if ((scan->l & 255L) == 5L) {
#line 2918
      goto case_5;
    }
#line 2920
    if ((scan->l & 255L) == 3L) {
#line 2920
      goto case_3;
    }
#line 2922
    if ((scan->l & 255L) == 8L) {
#line 2922
      goto case_8;
    }
#line 2934
    if ((scan->l & 255L) == 137L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 136L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 135L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 134L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 133L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 132L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 131L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 130L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 129L) {
#line 2934
      goto case_137;
    }
#line 2934
    if ((scan->l & 255L) == 128L) {
#line 2934
      goto case_137;
    }
#line 2960
    if ((scan->l & 255L) == 153L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 152L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 151L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 150L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 149L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 148L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 147L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 146L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 145L) {
#line 2960
      goto case_153;
    }
#line 2960
    if ((scan->l & 255L) == 144L) {
#line 2960
      goto case_153;
    }
#line 2973
    if ((scan->l & 255L) == 1L) {
#line 2973
      goto case_1;
    }
#line 3000
    if ((scan->l & 255L) == 2L) {
#line 3000
      goto case_2;
    }
#line 3012
    if ((scan->l & 255L) == 33L) {
#line 3012
      goto case_33;
    }
#line 3012
    if ((scan->l & 255L) == 32L) {
#line 3012
      goto case_33;
    }
#line 3240
    if ((scan->l & 255L) == 67L) {
#line 3240
      goto case_67;
    }
#line 3253
    if ((scan->l & 255L) == 7L) {
#line 3253
      goto case_7;
    }
#line 3253
    if ((scan->l & 255L) == 6L) {
#line 3253
      goto case_7;
    }
#line 3360
    if ((scan->l & 255L) == 9L) {
#line 3360
      goto case_9;
    }
#line 3364
    if ((scan->l & 255L) == 10L) {
#line 3364
      goto case_10;
    }
#line 3368
    if ((scan->l & 255L) == 11L) {
#line 3368
      goto case_11;
    }
#line 3387
    if ((scan->l & 255L) == 12L) {
#line 3387
      goto case_12;
    }
#line 3419
    if ((scan->l & 255L) == 0L) {
#line 3419
      goto case_0;
    }
#line 2716
    goto switch_break;
    case_64: /* CIL Label */ 
#line 2718
    if ((unsigned long )pattrystate.patinput == (unsigned long )pattrystate.patinend) {
#line 2719
      fail = 1;
    } else {
      {
#line 2721
      pattrystate.patinput = charnext(pattrystate.patinput, pattrystate.patinend);
      }
    }
#line 2722
    goto switch_break;
    case_4: /* CIL Label */ 
#line 2728
    if (exactpos) {
#line 2729
      chrop = exactpos;
#line 2730
      chrend = exactend;
    } else {
#line 2732
      chrop = (char *)(scan + 2);
#line 2733
      chrend = chrop + (scan + 1)->l;
    }
#line 2735
    exactpos = (char *)((void *)0);
    {
#line 2736
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2736
      if ((unsigned long )chrop < (unsigned long )chrend) {
#line 2736
        if (! ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend)) {
#line 2736
          goto while_break___4;
        }
      } else {
#line 2736
        goto while_break___4;
      }
      {
#line 2737
      savpatinput = pattrystate.patinput;
#line 2738
      savchrop = chrop;
#line 2739
      badin = 0;
#line 2739
      badpa = 0;
#line 2751
      tmp___0 = charrefinc(& pattrystate.patinput, pattrystate.patinend, & badin);
#line 2751
      chin = (patint_t )tmp___0;
#line 2752
      tmp___1 = charrefinc(& chrop, chrend, & badpa);
#line 2752
      chpa = (patint_t )tmp___1;
      }
#line 2753
      if (chin == chpa) {
#line 2753
        goto _L;
      } else {
#line 2753
        if (patglobflags & 512) {
          {
#line 2753
          tmp___5 = iswupper(chin);
          }
#line 2753
          if (tmp___5) {
            {
#line 2753
            tmp___3 = towlower(chin);
#line 2753
            tmp___4 = tmp___3;
            }
          } else {
#line 2753
            tmp___4 = chin;
          }
          {
#line 2753
          tmp___9 = iswupper(chpa);
          }
#line 2753
          if (tmp___9) {
            {
#line 2753
            tmp___7 = towlower(chpa);
#line 2753
            tmp___8 = tmp___7;
            }
          } else {
#line 2753
            tmp___8 = chpa;
          }
#line 2753
          tmp___14 = tmp___4 == tmp___8;
        } else {
#line 2753
          if (patglobflags & 256) {
            {
#line 2753
            tmp___10 = iswlower(chpa);
            }
#line 2753
            if (tmp___10) {
              {
#line 2753
              tmp___11 = towupper(chpa);
              }
#line 2753
              if (tmp___11 == chin) {
#line 2753
                tmp___12 = 1;
              } else {
#line 2753
                tmp___12 = 0;
              }
            } else {
#line 2753
              tmp___12 = 0;
            }
#line 2753
            tmp___13 = tmp___12;
          } else {
#line 2753
            tmp___13 = 0;
          }
#line 2753
          tmp___14 = tmp___13;
        }
#line 2753
        if (tmp___14) {
          _L: /* CIL Label */ 
#line 2753
          if (badin != badpa) {
#line 2754
            fail = 1;
#line 2755
            pattrystate.patinput = savpatinput;
#line 2756
            chrop = savchrop;
#line 2757
            goto while_break___4;
          }
        } else {
#line 2754
          fail = 1;
#line 2755
          pattrystate.patinput = savpatinput;
#line 2756
          chrop = savchrop;
#line 2757
          goto while_break___4;
        }
      }
    }
    while_break___4: /* CIL Label */ ;
    }
#line 2760
    if ((unsigned long )chrop < (unsigned long )chrend) {
#line 2761
      exactpos = chrop;
#line 2762
      exactend = chrend;
#line 2763
      fail = 1;
    }
#line 2765
    goto switch_break;
    case_66: /* CIL Label */ 
    case_65: /* CIL Label */ 
#line 2768
    if ((unsigned long )pattrystate.patinput == (unsigned long )pattrystate.patinend) {
#line 2769
      fail = 1;
    } else {
      {
#line 2773
      tmp___15 = charref(pattrystate.patinput, pattrystate.patinend, & zmb_ind);
#line 2773
      cr = tmp___15;
#line 2774
      scanop = (char *)(scan + 1);
      }
#line 2775
      if (patglobflags & 4096) {
        {
#line 2776
        tmp___16 = mb_patmatchrange(scanop, cr, zmb_ind, (wint_t *)((void *)0), (int *)((void *)0));
        }
#line 2776
        if (tmp___16 ^ ((scan->l & 255L) == 65L)) {
#line 2778
          fail = 1;
        } else {
          {
#line 2780
          pattrystate.patinput = charnext(pattrystate.patinput, pattrystate.patinend);
          }
        }
      } else {
        {
#line 2781
        tmp___17 = patmatchrange(scanop, cr, (int *)((void *)0), (int *)((void *)0));
        }
#line 2781
        if (tmp___17 ^ ((scan->l & 255L) == 65L)) {
#line 2783
          fail = 1;
        } else {
          {
#line 2785
          pattrystate.patinput = charnext(pattrystate.patinput, pattrystate.patinend);
          }
        }
      }
    }
#line 2795
    goto switch_break;
    case_70: /* CIL Label */ 
    case_69: /* CIL Label */ 
    case_68: /* CIL Label */ 
#line 2807
    op___0 = (int )(scan->l & 255L);
#line 2808
    start = (char *)(scan + 1);
#line 2809
    to = (zrange_t )0;
#line 2809
    from = to;
#line 2810
    if (op___0 != 70) {
#line 2815
      from = *((zrange_t *)start);
#line 2817
      start += sizeof(zrange_t );
    }
#line 2819
    if (op___0 != 69) {
#line 2823
      to = *((zrange_t *)start);
    }
#line 2826
    compend = pattrystate.patinput;
#line 2826
    start = compend;
#line 2827
    comp = (zrange_t )0;
    {
#line 2828
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 2828
      if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
#line 2828
        if (! ((int )typtab[(unsigned char )*(pattrystate.patinput)] & 1)) {
#line 2828
          goto while_break___5;
        }
      } else {
#line 2828
        goto while_break___5;
      }
#line 2829
      out_of_range = 0;
#line 2830
      digit = (int )*(pattrystate.patinput) - 48;
#line 2831
      if (comp > 922337203685477580L) {
#line 2832
        out_of_range = 1;
      } else {
#line 2834
        if (comp) {
#line 2834
          tmp___18 = comp * 10L;
        } else {
#line 2834
          tmp___18 = (zrange_t )0;
        }
#line 2834
        c10 = tmp___18;
#line 2835
        if (9223372036854775807L - c10 < (long )digit) {
#line 2836
          out_of_range = 1;
        } else {
#line 2838
          comp = c10;
#line 2839
          comp += (zrange_t )digit;
        }
      }
#line 2842
      (pattrystate.patinput) ++;
#line 2843
      compend ++;
#line 2845
      if (out_of_range) {
#line 2845
        goto _L___0;
      } else
#line 2845
      if (comp & (1L << (sizeof(comp) * 8UL - 2UL))) {
        _L___0: /* CIL Label */ 
#line 2863
        if (op___0 == 69) {
          {
#line 2864
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 2864
            if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
#line 2864
              if (! ((int )typtab[(unsigned char )*(pattrystate.patinput)] & 1)) {
#line 2864
                goto while_break___6;
              }
            } else {
#line 2864
              goto while_break___6;
            }
#line 2865
            (pattrystate.patinput) ++;
          }
          while_break___6: /* CIL Label */ ;
          }
        }
      }
    }
    while_break___5: /* CIL Label */ ;
    }
#line 2869
    save = pattrystate.patinput;
#line 2870
    no = 0;
    {
#line 2871
    while (1) {
      while_continue___7: /* CIL Label */ ;
#line 2871
      if (! ((unsigned long )pattrystate.patinput > (unsigned long )start)) {
#line 2871
        goto while_break___7;
      }
#line 2873
      if (comp < from) {
#line 2873
        if ((unsigned long )pattrystate.patinput <= (unsigned long )compend) {
#line 2874
          goto while_break___7;
        }
      }
#line 2875
      if (op___0 == 69) {
#line 2875
        goto _L___1;
      } else
#line 2875
      if (comp <= to) {
        _L___1: /* CIL Label */ 
        {
#line 2875
        tmp___19 = patmatch(next___0);
        }
#line 2875
        if (tmp___19) {
#line 2876
          return (1);
        }
      }
#line 2878
      if (! no) {
#line 2878
        if ((next___0->l & 255L) == 4L) {
#line 2878
          if (! (next___0 + 1)->l) {
#line 2878
            goto _L___2;
          } else
#line 2878
          if (! ((int )typtab[(unsigned char )*((char *)(next___0 + 2))] & 1)) {
            _L___2: /* CIL Label */ 
#line 2878
            if (! (patglobflags & 255)) {
#line 2882
              return (0);
            }
          }
        }
      }
#line 2883
      save --;
#line 2883
      pattrystate.patinput = save;
#line 2884
      no ++;
#line 2891
      if ((unsigned long )pattrystate.patinput < (unsigned long )compend) {
#line 2892
        comp /= 10L;
      }
    }
    while_break___7: /* CIL Label */ ;
    }
#line 2894
    pattrystate.patinput = start;
#line 2895
    fail = 1;
#line 2896
    goto switch_break;
    case_71: /* CIL Label */ 
#line 2899
    start = pattrystate.patinput;
    {
#line 2900
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 2900
      if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
#line 2900
        if (! ((int )typtab[(unsigned char )*(pattrystate.patinput)] & 1)) {
#line 2900
          goto while_break___8;
        }
      } else {
#line 2900
        goto while_break___8;
      }
#line 2901
      (pattrystate.patinput) ++;
    }
    while_break___8: /* CIL Label */ ;
    }
#line 2902
    save = pattrystate.patinput;
#line 2903
    no = 0;
    {
#line 2904
    while (1) {
      while_continue___9: /* CIL Label */ ;
#line 2904
      if (! ((unsigned long )pattrystate.patinput > (unsigned long )start)) {
#line 2904
        goto while_break___9;
      }
      {
#line 2905
      tmp___20 = patmatch(next___0);
      }
#line 2905
      if (tmp___20) {
#line 2906
        return (1);
      }
#line 2907
      if (! no) {
#line 2907
        if ((next___0->l & 255L) == 4L) {
#line 2907
          if (! (next___0 + 1)->l) {
#line 2907
            goto _L___3;
          } else
#line 2907
          if (! ((int )typtab[(unsigned char )*((char *)(next___0 + 2))] & 1)) {
            _L___3: /* CIL Label */ 
#line 2907
            if (! (patglobflags & 255)) {
#line 2911
              return (0);
            }
          }
        }
      }
#line 2912
      save --;
#line 2912
      pattrystate.patinput = save;
#line 2913
      no ++;
    }
    while_break___9: /* CIL Label */ ;
    }
#line 2915
    pattrystate.patinput = start;
#line 2916
    fail = 1;
#line 2917
    goto switch_break;
    case_5: /* CIL Label */ 
#line 2919
    goto switch_break;
    case_3: /* CIL Label */ 
#line 2921
    goto switch_break;
    case_8: /* CIL Label */ 
#line 2923
    patglobflags = (int )(scan + 1)->l;
#line 2924
    goto switch_break;
    case_137: /* CIL Label */ 
    case_136: /* CIL Label */ 
    case_135: /* CIL Label */ 
    case_134: /* CIL Label */ 
    case_133: /* CIL Label */ 
    case_132: /* CIL Label */ 
    case_131: /* CIL Label */ 
    case_130: /* CIL Label */ 
    case_129: /* CIL Label */ 
    case_128: /* CIL Label */ 
    {
#line 2935
    no = (int )((scan->l & 255L) - 128L);
#line 2936
    save = pattrystate.patinput;
#line 2938
    tmp___21 = patmatch(next___0);
    }
#line 2938
    if (tmp___21) {
#line 2943
      if (no) {
#line 2943
        if (! (pattrystate.parsfound & (1 << (no - 1)))) {
#line 2944
          pattrystate.patbeginp[no - 1] = save;
#line 2945
          pattrystate.parsfound |= 1 << (no - 1);
        }
      }
#line 2947
      return (1);
    } else {
#line 2949
      return (0);
    }
#line 2950
    goto switch_break;
    case_153: /* CIL Label */ 
    case_152: /* CIL Label */ 
    case_151: /* CIL Label */ 
    case_150: /* CIL Label */ 
    case_149: /* CIL Label */ 
    case_148: /* CIL Label */ 
    case_147: /* CIL Label */ 
    case_146: /* CIL Label */ 
    case_145: /* CIL Label */ 
    case_144: /* CIL Label */ 
    {
#line 2961
    no = (int )((scan->l & 255L) - 144L);
#line 2962
    save = pattrystate.patinput;
#line 2964
    tmp___22 = patmatch(next___0);
    }
#line 2964
    if (tmp___22) {
#line 2965
      if (no) {
#line 2965
        if (! (pattrystate.parsfound & (1 << (no + 15)))) {
#line 2966
          pattrystate.patendp[no - 1] = save;
#line 2967
          pattrystate.parsfound |= 1 << (no + 15);
        }
      }
#line 2969
      return (1);
    } else {
#line 2971
      return (0);
    }
#line 2972
    goto switch_break;
    case_1: /* CIL Label */ 
#line 2978
    after = scan + 1;
#line 2983
    syncptr = (after + 1)->p + (pattrystate.patinput - pattrystate.patinstart);
#line 2988
    if (*syncptr) {
#line 2988
      if (errsfound + 1 >= (int )*syncptr) {
#line 2989
        return (0);
      }
    }
#line 2997
    *syncptr = (unsigned char )(errsfound + 1);
#line 2999
    goto switch_break;
    case_2: /* CIL Label */ 
#line 3008
    fail = (unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend;
#line 3008
    if (! fail) {
#line 3009
      return (1);
    }
#line 3010
    goto switch_break;
    case_33: /* CIL Label */ 
    case_32: /* CIL Label */ 
#line 3014
    if (! (next___0->l & 32L)) {
#line 3018
      next___0 = scan + 1;
    } else {
      {
#line 3020
      while (1) {
        while_continue___10: /* CIL Label */ ;
#line 3021
        save = pattrystate.patinput;
#line 3022
        savglobflags = patglobflags;
#line 3023
        saverrsfound = errsfound;
#line 3024
        if ((next___0->l & 48L) == 48L) {
          {
#line 3053
          matchpt = (char *)((void *)0);
#line 3054
          matchederrs = 0;
#line 3055
          savparsfound = pattrystate.parsfound;
#line 3058
          syncstrp = next___0 + 1;
#line 3066
          oldsyncstr = syncstrp->p;
#line 3067
          tmp___23 = zshcalloc((size_t )((pattrystate.patinend - pattrystate.patinstart) + 1L));
#line 3067
          syncstrp->p = (unsigned char *)tmp___23;
#line 3069
          origpatinend = pattrystate.patinend;
          }
          {
#line 3070
          while (1) {
            while_continue___11: /* CIL Label */ ;
            {
#line 3070
            ret = patmatch(scan + 1);
            }
#line 3070
            if (! ret) {
#line 3070
              goto while_break___11;
            }
#line 3073
            savforce = forceerrs;
#line 3074
            savpatflags___0 = patflags;
#line 3075
            forceerrs = -1;
#line 3076
            savglobdots = pattrystate.globdots;
#line 3077
            matchederrs = errsfound;
#line 3078
            matchpt = pattrystate.patinput;
#line 3079
            pattrystate.globdots = 1;
#line 3088
            syncpt = syncstrp->p;
            {
#line 3088
            while (1) {
              while_continue___12: /* CIL Label */ ;
#line 3088
              if (! (! *syncpt)) {
#line 3088
                goto while_break___12;
              }
#line 3088
              syncpt ++;
            }
            while_break___12: /* CIL Label */ ;
            }
#line 3090
            synclen = (int )(syncpt - syncstrp->p);
#line 3091
            if ((unsigned long )(pattrystate.patinstart + synclen) != (unsigned long )pattrystate.patinend) {
#line 3099
              pattrystate.patinend = pattrystate.patinstart + synclen;
#line 3104
              patflags |= 1024;
            }
#line 3106
            savpatinstart = pattrystate.patinstart;
#line 3107
            rn_offs = scan->l >> 8;
#line 3107
            if (rn_offs) {
#line 3107
              if ((scan->l & 255L) == 3L) {
#line 3107
                tmp___24 = scan - rn_offs;
              } else {
#line 3107
                tmp___24 = scan + rn_offs;
              }
#line 3107
              next___0 = tmp___24;
            } else {
#line 3107
              next___0 = (Upat )((void *)0);
            }
            {
#line 3108
            while (1) {
              while_continue___13: /* CIL Label */ ;
#line 3108
              if (next___0) {
#line 3108
                if (! ((next___0->l & 48L) == 48L)) {
#line 3108
                  goto while_break___13;
                }
              } else {
#line 3108
                goto while_break___13;
              }
#line 3109
              pattrystate.patinput = save;
#line 3116
              patglobflags &= -256;
#line 3117
              errsfound = 0;
#line 3118
              opnd = (next___0 + 1) + 1;
#line 3119
              if ((next___0->l & 255L) == 49L) {
#line 3119
                if (pattrystate.patinpath) {
#line 3130
                  pattrystate.patinstart = pattrystate.patinpath;
#line 3130
                  pattrystate.patinput = pattrystate.patinstart;
                }
              }
              {
#line 3132
              tmp___25 = patmatch(opnd);
              }
#line 3132
              if (tmp___25) {
#line 3133
                ret = 0;
#line 3139
                pattrystate.parsfound = savparsfound;
              }
#line 3141
              if (pattrystate.patinpath) {
#line 3142
                pattrystate.patinput = savpatinstart + (pattrystate.patinput - pattrystate.patinstart);
#line 3144
                pattrystate.patinstart = savpatinstart;
              }
#line 3146
              if (! ret) {
#line 3147
                goto while_break___13;
              }
#line 3148
              rn_offs = next___0->l >> 8;
#line 3148
              if (rn_offs) {
#line 3148
                if ((next___0->l & 255L) == 3L) {
#line 3148
                  tmp___26 = next___0 - rn_offs;
                } else {
#line 3148
                  tmp___26 = next___0 + rn_offs;
                }
#line 3148
                next___0 = tmp___26;
              } else {
#line 3148
                next___0 = (Upat )((void *)0);
              }
            }
            while_break___13: /* CIL Label */ ;
            }
#line 3153
            pattrystate.patinend = origpatinend;
#line 3154
            patflags = savpatflags___0;
#line 3155
            pattrystate.globdots = savglobdots;
#line 3156
            forceerrs = savforce;
#line 3157
            if (ret) {
#line 3158
              goto while_break___11;
            }
#line 3159
            pattrystate.patinput = save;
#line 3160
            patglobflags = savglobflags;
#line 3161
            errsfound = saverrsfound;
          }
          while_break___11: /* CIL Label */ ;
          }
          {
#line 3163
          zfree((void *)((char *)syncstrp->p), (int )((pattrystate.patinend - pattrystate.patinstart) + 1L));
#line 3165
          syncstrp->p = oldsyncstr;
          }
#line 3166
          if (ret) {
#line 3167
            pattrystate.patinput = matchpt;
#line 3168
            errsfound = matchederrs;
#line 3169
            return (1);
          }
          {
#line 3171
          while (1) {
            while_continue___14: /* CIL Label */ ;
#line 3171
            rn_offs = scan->l >> 8;
#line 3171
            if (rn_offs) {
#line 3171
              if ((scan->l & 255L) == 3L) {
#line 3171
                tmp___27 = scan - rn_offs;
              } else {
#line 3171
                tmp___27 = scan + rn_offs;
              }
#line 3171
              scan = tmp___27;
            } else {
#line 3171
              scan = (Upat )((void *)0);
            }
#line 3171
            if (scan) {
#line 3171
              if (! ((scan->l & 48L) == 48L)) {
#line 3171
                goto while_break___14;
              }
            } else {
#line 3171
              goto while_break___14;
            }
          }
          while_break___14: /* CIL Label */ ;
          }
        } else {
#line 3175
          ret___0 = 1;
#line 3175
          pfree = 0;
#line 3176
          ptrp = (Upat )((void *)0);
#line 3178
          if ((scan->l & 255L) == 33L) {
#line 3194
            opnd = scan + 1;
#line 3195
            tmp___28 = opnd;
#line 3195
            opnd ++;
#line 3195
            ptrp = tmp___28;
#line 3196
            if (! ptrp->p) {
              {
#line 3197
              tmp___29 = zshcalloc((size_t )((pattrystate.patinend - pattrystate.patinstart) + 1L));
#line 3197
              ptrp->p = (unsigned char *)tmp___29;
#line 3199
              pfree = 1;
              }
            }
#line 3201
            ptr___0 = ptrp->p + (pattrystate.patinput - pattrystate.patinstart);
#line 3214
            if (*ptr___0) {
#line 3214
              if (errsfound + 1 >= (int )*ptr___0) {
#line 3215
                ret___0 = 0;
              }
            }
#line 3216
            *ptr___0 = (unsigned char )(errsfound + 1);
          } else {
#line 3218
            opnd = scan + 1;
          }
#line 3219
          if (ret___0) {
            {
#line 3220
            ret___0 = patmatch(opnd);
            }
          }
#line 3221
          if (pfree) {
            {
#line 3222
            zfree((void *)((char *)ptrp->p), (int )((pattrystate.patinend - pattrystate.patinstart) + 1L));
#line 3224
            ptrp->p = (unsigned char *)((void *)0);
            }
          }
#line 3226
          if (ret___0) {
#line 3227
            return (1);
          }
#line 3228
          rn_offs = scan->l >> 8;
#line 3228
          if (rn_offs) {
#line 3228
            if ((scan->l & 255L) == 3L) {
#line 3228
              tmp___30 = scan - rn_offs;
            } else {
#line 3228
              tmp___30 = scan + rn_offs;
            }
#line 3228
            scan = tmp___30;
          } else {
#line 3228
            scan = (Upat )((void *)0);
          }
        }
#line 3230
        pattrystate.patinput = save;
#line 3231
        patglobflags = savglobflags;
#line 3232
        errsfound = saverrsfound;
#line 3235
        rn_offs = scan->l >> 8;
#line 3235
        if (rn_offs) {
#line 3235
          if ((scan->l & 255L) == 3L) {
#line 3235
            tmp___31 = scan - rn_offs;
          } else {
#line 3235
            tmp___31 = scan + rn_offs;
          }
#line 3235
          next___0 = tmp___31;
        } else {
#line 3235
          next___0 = (Upat )((void *)0);
        }
#line 3020
        if (scan) {
#line 3020
          if (! (scan->l & 32L)) {
#line 3020
            goto while_break___10;
          }
        } else {
#line 3020
          goto while_break___10;
        }
      }
      while_break___10: /* CIL Label */ ;
      }
#line 3237
      return (0);
    }
#line 3239
    goto switch_break;
    case_67: /* CIL Label */ 
    {
#line 3242
    while (1) {
      while_continue___15: /* CIL Label */ ;
#line 3242
      if (! ((next___0->l & 255L) == 67L)) {
#line 3242
        goto while_break___15;
      }
#line 3248
      scan = next___0;
#line 3249
      rn_offs = scan->l >> 8;
#line 3249
      if (rn_offs) {
#line 3249
        if ((scan->l & 255L) == 3L) {
#line 3249
          tmp___32 = scan - rn_offs;
        } else {
#line 3249
          tmp___32 = scan + rn_offs;
        }
#line 3249
        next___0 = tmp___32;
      } else {
#line 3249
        next___0 = (Upat )((void *)0);
      }
    }
    while_break___15: /* CIL Label */ ;
    }
    case_7: /* CIL Label */ 
    case_6: /* CIL Label */ 
    {
#line 3260
    op___0 = (int )(scan->l & 255L);
#line 3262
    start = pattrystate.patinput;
#line 3269
    tmp___33 = zhalloc(sizeof(char ) * (unsigned long )(pattrystate.patinend - pattrystate.patinput));
#line 3269
    charstart = (char *)tmp___33;
#line 3270
    memset((void *)charstart, 0, (size_t )(pattrystate.patinend - pattrystate.patinput));
    }
#line 3272
    if (op___0 == 67) {
#line 3273
      no = 0;
      {
#line 3273
      while (1) {
        while_continue___16: /* CIL Label */ ;
#line 3273
        if (! ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend)) {
#line 3273
          goto while_break___16;
        }
        {
#line 3276
        *(charstart + (pattrystate.patinput - start)) = (char)1;
#line 3277
        no ++;
#line 3273
        pattrystate.patinput = charnext(pattrystate.patinput, pattrystate.patinend);
        }
      }
      while_break___16: /* CIL Label */ ;
      }
#line 3280
      if ((next___0->l & 255L) == 0L) {
#line 3281
        return (1);
      }
    } else {
#line 3285
      if (! pattrystate.globdots) {
#line 3285
        if ((scan + 1)->l & 64L) {
#line 3285
          if ((unsigned long )pattrystate.patinput == (unsigned long )pattrystate.patinstart) {
#line 3285
            if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
              {
#line 3285
              tmp___34 = charref(pattrystate.patinput, pattrystate.patinend, (int *)((void *)0));
              }
#line 3285
              if (tmp___34 == 46) {
#line 3288
                return (0);
              }
            }
          }
        }
      }
      {
#line 3289
      no = patrepeat(scan + 1, charstart);
      }
    }
#line 3291
    if (op___0 == 7) {
#line 3291
      min = 1;
    } else {
#line 3291
      min = 0;
    }
#line 3296
    if ((next___0->l & 255L) == 4L) {
#line 3296
      if ((next___0 + 1)->l) {
#line 3296
        if (! (patglobflags & 255)) {
#line 3298
          nextop = (char *)(next___0 + 2);
#line 3301
          nextlen = (int )(next___0 + 1)->l;
#line 3308
          rn_offs = next___0->l >> 8;
#line 3308
          if (rn_offs) {
#line 3308
            if ((next___0->l & 255L) == 3L) {
#line 3308
              tmp___37 = next___0 - rn_offs;
            } else {
#line 3308
              tmp___37 = next___0 + rn_offs;
            }
#line 3308
            tmp___38 = tmp___37;
          } else {
#line 3308
            tmp___38 = (Upat )((void *)0);
          }
#line 3308
          if ((tmp___38->l & 255L) == 0L) {
#line 3308
            if (! (patflags & 8)) {
#line 3310
              ptlen = (int )(pattrystate.patinend - pattrystate.patinput);
#line 3311
              if (min) {
                {
#line 3311
                tmp___35 = charnext(start, pattrystate.patinend);
#line 3311
                tmp___36 = tmp___35;
                }
              } else {
#line 3311
                tmp___36 = start;
              }
#line 3311
              lenmatch = (int )(pattrystate.patinend - tmp___36);
#line 3314
              if ((next___0 + 1)->l > (long )lenmatch) {
#line 3316
                return (0);
              } else
#line 3314
              if ((next___0 + 1)->l < (long )ptlen) {
#line 3316
                return (0);
              }
#line 3318
              pattrystate.patinput += (long )ptlen - (next___0 + 1)->l;
#line 3324
              goto switch_break;
            }
          }
          {
#line 3326
          tmp___39 = charref(nextop, nextop + nextlen, (int *)((void *)0));
#line 3326
          nextch = (patint_t )tmp___39;
          }
        } else {
#line 3328
          nextch = 4294967295U;
        }
      } else {
#line 3328
        nextch = 4294967295U;
      }
    } else {
#line 3328
      nextch = 4294967295U;
    }
#line 3329
    savglobflags = patglobflags;
#line 3330
    saverrsfound = errsfound;
#line 3331
    lastcharstart = charstart + (pattrystate.patinput - start);
#line 3332
    if (no >= min) {
      {
#line 3333
      while (1) {
        while_continue___17: /* CIL Label */ ;
#line 3335
        if (nextch == 4294967295U) {
#line 3335
          goto _L___4;
        } else
#line 3335
        if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
          {
#line 3335
          tmp___41 = charref(pattrystate.patinput, pattrystate.patinend, (int *)((void *)0));
#line 3335
          charmatch_cache = (patint_t )tmp___41;
          }
#line 3335
          if (charmatch_cache == nextch) {
#line 3335
            tmp___55 = 1;
          } else {
#line 3335
            if (patglobflags & 512) {
              {
#line 3335
              tmp___45 = iswupper(charmatch_cache);
              }
#line 3335
              if (tmp___45) {
                {
#line 3335
                tmp___43 = towlower(charmatch_cache);
#line 3335
                tmp___44 = tmp___43;
                }
              } else {
#line 3335
                tmp___44 = charmatch_cache;
              }
              {
#line 3335
              tmp___49 = iswupper(nextch);
              }
#line 3335
              if (tmp___49) {
                {
#line 3335
                tmp___47 = towlower(nextch);
#line 3335
                tmp___48 = tmp___47;
                }
              } else {
#line 3335
                tmp___48 = nextch;
              }
#line 3335
              tmp___54 = tmp___44 == tmp___48;
            } else {
#line 3335
              if (patglobflags & 256) {
                {
#line 3335
                tmp___50 = iswlower(nextch);
                }
#line 3335
                if (tmp___50) {
                  {
#line 3335
                  tmp___51 = towupper(nextch);
                  }
#line 3335
                  if (tmp___51 == charmatch_cache) {
#line 3335
                    tmp___52 = 1;
                  } else {
#line 3335
                    tmp___52 = 0;
                  }
                } else {
#line 3335
                  tmp___52 = 0;
                }
#line 3335
                tmp___53 = tmp___52;
              } else {
#line 3335
                tmp___53 = 0;
              }
#line 3335
              tmp___54 = tmp___53;
            }
#line 3335
            if (tmp___54) {
#line 3335
              tmp___55 = 1;
            } else {
#line 3335
              tmp___55 = 0;
            }
          }
#line 3335
          if (tmp___55) {
            _L___4: /* CIL Label */ 
            {
#line 3339
            tmp___40 = patmatch(next___0);
            }
#line 3339
            if (tmp___40) {
#line 3340
              return (1);
            }
          }
        }
#line 3342
        no --;
#line 3342
        if (no < min) {
#line 3343
          goto while_break___17;
        }
        {
#line 3345
        while (1) {
          while_continue___18: /* CIL Label */ ;
#line 3345
          lastcharstart --;
#line 3345
          if (*lastcharstart) {
#line 3345
            goto while_break___18;
          }
        }
        while_break___18: /* CIL Label */ ;
        }
#line 3348
        pattrystate.patinput = start + (lastcharstart - charstart);
#line 3349
        patglobflags = savglobflags;
#line 3350
        errsfound = saverrsfound;
      }
      while_break___17: /* CIL Label */ ;
      }
    }
#line 3359
    return (0);
    case_9: /* CIL Label */ 
#line 3361
    if ((unsigned long )pattrystate.patinput != (unsigned long )pattrystate.patinstart) {
#line 3362
      fail = 1;
    } else
#line 3361
    if (patflags & 512) {
#line 3362
      fail = 1;
    }
#line 3363
    goto switch_break;
    case_10: /* CIL Label */ 
#line 3365
    if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
#line 3366
      fail = 1;
    } else
#line 3365
    if (patflags & 1024) {
#line 3366
      fail = 1;
    }
#line 3367
    goto switch_break;
    case_11: /* CIL Label */ 
    {
#line 3376
    curptr = & ((scan + 1) + 1)->l;
#line 3377
    savecount = *curptr;
#line 3378
    saveptr = (scan + 4)->p;
#line 3381
    *curptr = 0L;
#line 3382
    ret___1 = patmatch(scan + 1);
#line 3383
    *curptr = savecount;
#line 3384
    (scan + 4)->p = saveptr;
    }
#line 3385
    return (ret___1);
    case_12: /* CIL Label */ 
#line 3390
    cur = (scan + 1)->l;
#line 3391
    min___0 = (scan + 2)->l;
#line 3392
    max = (scan + 3)->l;
#line 3394
    if (cur) {
#line 3394
      if (cur >= min___0) {
#line 3394
        if ((unsigned long )((unsigned char *)pattrystate.patinput) == (unsigned long )(scan + 4)->p) {
          {
#line 3403
          tmp___56 = patmatch(next___0);
          }
#line 3403
          return (tmp___56);
        }
      }
    }
#line 3405
    (scan + 4)->p = (unsigned char *)pattrystate.patinput;
#line 3407
    if (max < 0L) {
#line 3407
      goto _L___5;
    } else
#line 3407
    if (cur < max) {
      _L___5: /* CIL Label */ 
      {
#line 3408
      patinput_thistime = pattrystate.patinput;
#line 3409
      (scan + 1)->l = cur + 1L;
#line 3410
      tmp___57 = patmatch(scan + 5);
      }
#line 3410
      if (tmp___57) {
#line 3411
        return (1);
      }
#line 3412
      (scan + 1)->l = cur;
#line 3413
      pattrystate.patinput = patinput_thistime;
    }
#line 3415
    if (cur < min___0) {
#line 3416
      return (0);
    }
    {
#line 3417
    tmp___58 = patmatch(next___0);
    }
#line 3417
    return (tmp___58);
    case_0: /* CIL Label */ 
#line 3420
    if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
#line 3420
      if (! (patflags & 8)) {
#line 3420
        tmp___59 = 1;
      } else {
#line 3420
        tmp___59 = 0;
      }
    } else {
#line 3420
      tmp___59 = 0;
    }
#line 3420
    fail = tmp___59;
#line 3420
    if (! fail) {
#line 3421
      return (1);
    }
#line 3422
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 3431
    if (fail) {
#line 3432
      if (errsfound < (patglobflags & 255)) {
#line 3432
        if (forceerrs == -1) {
#line 3432
          goto _L___8;
        } else
#line 3432
        if (errsfound < forceerrs) {
          _L___8: /* CIL Label */ 
#line 3453
          savexact = exactpos;
#line 3454
          save = pattrystate.patinput;
#line 3455
          savglobflags = patglobflags;
#line 3456
          errsfound ++;
#line 3456
          saverrsfound = errsfound;
#line 3457
          fail = 0;
#line 3463
          if ((unsigned long )pattrystate.patinput < (unsigned long )pattrystate.patinend) {
            {
#line 3464
            pattrystate.patinput = charnext(pattrystate.patinput, pattrystate.patinend);
            }
#line 3469
            if ((scan->l & 255L) != 4L) {
#line 3470
              goto while_continue___3;
            }
            {
#line 3471
            tmp___60 = patmatch(scan);
            }
#line 3471
            if (tmp___60) {
#line 3472
              return (1);
            }
          }
#line 3475
          if ((scan->l & 255L) == 4L) {
            {
#line 3476
            nextexact = savexact;
#line 3479
            nextexact = charnext(nextexact, exactend);
            }
#line 3481
            if ((unsigned long )save < (unsigned long )pattrystate.patinend) {
              {
#line 3482
              nextin = save;
#line 3483
              nextin = charnext(nextin, pattrystate.patinend);
#line 3484
              patglobflags = savglobflags;
#line 3485
              errsfound = saverrsfound;
#line 3486
              exactpos = savexact;
              }
#line 3492
              if ((unsigned long )save < (unsigned long )pattrystate.patinend) {
#line 3492
                if ((unsigned long )nextin < (unsigned long )pattrystate.patinend) {
#line 3492
                  if ((unsigned long )nextexact < (unsigned long )exactend) {
                    {
#line 3494
                    tmp___61 = charref(save, pattrystate.patinend, (int *)((void *)0));
#line 3494
                    cin0 = (patint_t )tmp___61;
#line 3495
                    tmp___62 = charref(exactpos, exactend, (int *)((void *)0));
#line 3495
                    cpa0 = (patint_t )tmp___62;
#line 3496
                    tmp___63 = charref(nextin, pattrystate.patinend, (int *)((void *)0));
#line 3496
                    cin1 = (patint_t )tmp___63;
#line 3497
                    tmp___64 = charref(nextexact, exactend, (int *)((void *)0));
#line 3497
                    cpa1 = (patint_t )tmp___64;
                    }
#line 3499
                    if (cin0 == cpa1) {
#line 3499
                      goto _L___7;
                    } else {
#line 3499
                      if (patglobflags & 512) {
                        {
#line 3499
                        tmp___69 = iswupper(cin0);
                        }
#line 3499
                        if (tmp___69) {
                          {
#line 3499
                          tmp___67 = towlower(cin0);
#line 3499
                          tmp___68 = tmp___67;
                          }
                        } else {
#line 3499
                          tmp___68 = cin0;
                        }
                        {
#line 3499
                        tmp___73 = iswupper(cpa1);
                        }
#line 3499
                        if (tmp___73) {
                          {
#line 3499
                          tmp___71 = towlower(cpa1);
#line 3499
                          tmp___72 = tmp___71;
                          }
                        } else {
#line 3499
                          tmp___72 = cpa1;
                        }
#line 3499
                        tmp___78 = tmp___68 == tmp___72;
                      } else {
#line 3499
                        if (patglobflags & 256) {
                          {
#line 3499
                          tmp___74 = iswlower(cpa1);
                          }
#line 3499
                          if (tmp___74) {
                            {
#line 3499
                            tmp___75 = towupper(cpa1);
                            }
#line 3499
                            if (tmp___75 == cin0) {
#line 3499
                              tmp___76 = 1;
                            } else {
#line 3499
                              tmp___76 = 0;
                            }
                          } else {
#line 3499
                            tmp___76 = 0;
                          }
#line 3499
                          tmp___77 = tmp___76;
                        } else {
#line 3499
                          tmp___77 = 0;
                        }
#line 3499
                        tmp___78 = tmp___77;
                      }
#line 3499
                      if (tmp___78) {
                        _L___7: /* CIL Label */ 
#line 3499
                        if (cin1 == cpa0) {
#line 3499
                          goto _L___6;
                        } else {
#line 3499
                          if (patglobflags & 512) {
                            {
#line 3499
                            tmp___82 = iswupper(cin1);
                            }
#line 3499
                            if (tmp___82) {
                              {
#line 3499
                              tmp___80 = towlower(cin1);
#line 3499
                              tmp___81 = tmp___80;
                              }
                            } else {
#line 3499
                              tmp___81 = cin1;
                            }
                            {
#line 3499
                            tmp___86 = iswupper(cpa0);
                            }
#line 3499
                            if (tmp___86) {
                              {
#line 3499
                              tmp___84 = towlower(cpa0);
#line 3499
                              tmp___85 = tmp___84;
                              }
                            } else {
#line 3499
                              tmp___85 = cpa0;
                            }
#line 3499
                            tmp___91 = tmp___81 == tmp___85;
                          } else {
#line 3499
                            if (patglobflags & 256) {
                              {
#line 3499
                              tmp___87 = iswlower(cpa0);
                              }
#line 3499
                              if (tmp___87) {
                                {
#line 3499
                                tmp___88 = towupper(cpa0);
                                }
#line 3499
                                if (tmp___88 == cin1) {
#line 3499
                                  tmp___89 = 1;
                                } else {
#line 3499
                                  tmp___89 = 0;
                                }
                              } else {
#line 3499
                                tmp___89 = 0;
                              }
#line 3499
                              tmp___90 = tmp___89;
                            } else {
#line 3499
                              tmp___90 = 0;
                            }
#line 3499
                            tmp___91 = tmp___90;
                          }
#line 3499
                          if (tmp___91) {
                            _L___6: /* CIL Label */ 
                            {
#line 3501
                            pattrystate.patinput = nextin;
#line 3502
                            pattrystate.patinput = charnext(pattrystate.patinput,
                                                            pattrystate.patinend);
#line 3503
                            exactpos = nextexact;
#line 3504
                            exactpos = charnext(exactpos, exactend);
#line 3505
                            tmp___65 = patmatch(scan);
                            }
#line 3505
                            if (tmp___65) {
#line 3506
                              return (1);
                            }
#line 3508
                            patglobflags = savglobflags;
#line 3509
                            errsfound = saverrsfound;
                          }
                        }
                      }
                    }
                  }
                }
              }
              {
#line 3516
              pattrystate.patinput = nextin;
#line 3517
              exactpos = nextexact;
#line 3518
              tmp___92 = patmatch(scan);
              }
#line 3518
              if (tmp___92) {
#line 3519
                return (1);
              }
#line 3521
              pattrystate.patinput = save;
#line 3522
              patglobflags = savglobflags;
#line 3523
              errsfound = saverrsfound;
#line 3524
              exactpos = savexact;
            }
            {
#line 3533
            exactpos = charnext(exactpos, exactend);
            }
#line 3534
            goto while_continue___3;
          }
        }
      }
#line 3537
      exactpos = (char *)((void *)0);
#line 3538
      return (0);
    }
#line 3541
    scan = next___0;
    {
#line 3544
    while (1) {
      while_continue___19: /* CIL Label */ ;
#line 3544
      if (queue_front != queue_rear) {
#line 3544
        savpatflags___1 = patflags;
#line 3544
        savpatglobflags___0 = patglobflags;
#line 3544
        savexactpos___0 = exactpos;
#line 3544
        savexactend___0 = exactend;
#line 3544
        savpattrystate___0 = pattrystate;
        {
#line 3544
        while (1) {
          while_continue___20: /* CIL Label */ ;
#line 3544
          queueing_enabled = 0;
          {
#line 3544
          while (1) {
            while_continue___21: /* CIL Label */ ;
            {
#line 3544
            while (1) {
              while_continue___22: /* CIL Label */ ;
#line 3544
              if (! (queue_front != queue_rear)) {
#line 3544
                goto while_break___22;
              }
              {
#line 3544
              queue_front = (queue_front + 1) % 128;
#line 3544
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3544
              zhandler(signal_queue[queue_front]);
#line 3544
              signal_setmask(oset___0);
              }
            }
            while_break___22: /* CIL Label */ ;
            }
#line 3544
            goto while_break___21;
          }
          while_break___21: /* CIL Label */ ;
          }
#line 3544
          goto while_break___20;
        }
        while_break___20: /* CIL Label */ ;
        }
#line 3544
        queueing_enabled = q;
#line 3544
        exactpos = savexactpos___0;
#line 3544
        exactend = savexactend___0;
#line 3544
        patflags = savpatflags___1;
#line 3544
        patglobflags = savpatglobflags___0;
#line 3544
        pattrystate = savpattrystate___0;
      }
#line 3544
      goto while_break___19;
    }
    while_break___19: /* CIL Label */ ;
    }
  }
  while_break___3: /* CIL Label */ ;
  }
#line 3547
  return (0);
}
}
#line 3577 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int mb_patmatchrange(char *range , wchar_t ch , int zmb_ind , wint_t *indptr , int *mtp ) 
{ 
  wchar_t r1 ;
  wchar_t r2 ;
  int swtype ;
  char *tmp ;
  wchar_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  wchar_t tmp___15 ;

  {
#line 3582
  if (indptr) {
#line 3583
    *indptr = (wint_t )0;
  }
  {
#line 3589
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3589
    if (! *range) {
#line 3589
      goto while_break;
    }
#line 3590
    if ((int )typtab[(unsigned char )*range] & (1 << 12)) {
#line 3591
      tmp = range;
#line 3591
      range ++;
#line 3591
      swtype = (int )((unsigned char )*tmp) - 131;
#line 3592
      if (mtp) {
#line 3593
        *mtp = swtype;
      }
      {
#line 3595
      if (swtype == 0) {
#line 3595
        goto case_0;
      }
#line 3601
      if (swtype == 1) {
#line 3601
        goto case_1;
      }
#line 3605
      if (swtype == 2) {
#line 3605
        goto case_2;
      }
#line 3609
      if (swtype == 3) {
#line 3609
        goto case_3;
      }
#line 3613
      if (swtype == 4) {
#line 3613
        goto case_4;
      }
#line 3617
      if (swtype == 5) {
#line 3617
        goto case_5;
      }
#line 3621
      if (swtype == 6) {
#line 3621
        goto case_6;
      }
#line 3625
      if (swtype == 7) {
#line 3625
        goto case_7;
      }
#line 3629
      if (swtype == 8) {
#line 3629
        goto case_8;
      }
#line 3633
      if (swtype == 9) {
#line 3633
        goto case_9;
      }
#line 3637
      if (swtype == 10) {
#line 3637
        goto case_10;
      }
#line 3641
      if (swtype == 11) {
#line 3641
        goto case_11;
      }
#line 3645
      if (swtype == 12) {
#line 3645
        goto case_12;
      }
#line 3649
      if (swtype == 13) {
#line 3649
        goto case_13;
      }
#line 3653
      if (swtype == 14) {
#line 3653
        goto case_14;
      }
#line 3657
      if (swtype == 15) {
#line 3657
        goto case_15;
      }
#line 3661
      if (swtype == 16) {
#line 3661
        goto case_16;
      }
#line 3666
      if (swtype == 17) {
#line 3666
        goto case_17;
      }
#line 3670
      if (swtype == 21) {
#line 3670
        goto case_21;
      }
#line 3687
      if (swtype == 18) {
#line 3687
        goto case_18;
      }
#line 3691
      if (swtype == 19) {
#line 3691
        goto case_19;
      }
#line 3695
      if (swtype == 20) {
#line 3695
        goto case_20;
      }
#line 3698
      goto switch_default;
      case_0: /* CIL Label */ 
      {
#line 3597
      range --;
#line 3598
      tmp___0 = metacharinc(& range);
      }
#line 3598
      if (tmp___0 == ch) {
#line 3599
        return (1);
      }
#line 3600
      goto switch_break;
      case_1: /* CIL Label */ 
      {
#line 3602
      tmp___1 = iswalpha((wint_t )ch);
      }
#line 3602
      if (tmp___1) {
#line 3603
        return (1);
      }
#line 3604
      goto switch_break;
      case_2: /* CIL Label */ 
      {
#line 3606
      tmp___2 = iswalnum((wint_t )ch);
      }
#line 3606
      if (tmp___2) {
#line 3607
        return (1);
      }
#line 3608
      goto switch_break;
      case_3: /* CIL Label */ 
#line 3610
      if ((ch & -128) == 0) {
#line 3611
        return (1);
      }
#line 3612
      goto switch_break;
      case_4: /* CIL Label */ 
#line 3614
      if (ch == 32) {
#line 3615
        return (1);
      } else
#line 3614
      if (ch == 9) {
#line 3615
        return (1);
      }
#line 3616
      goto switch_break;
      case_5: /* CIL Label */ 
      {
#line 3618
      tmp___3 = iswcntrl((wint_t )ch);
      }
#line 3618
      if (tmp___3) {
#line 3619
        return (1);
      }
#line 3620
      goto switch_break;
      case_6: /* CIL Label */ 
      {
#line 3622
      tmp___4 = iswdigit((wint_t )ch);
      }
#line 3622
      if (tmp___4) {
#line 3623
        return (1);
      }
#line 3624
      goto switch_break;
      case_7: /* CIL Label */ 
      {
#line 3626
      tmp___5 = iswgraph((wint_t )ch);
      }
#line 3626
      if (tmp___5) {
#line 3627
        return (1);
      }
#line 3628
      goto switch_break;
      case_8: /* CIL Label */ 
      {
#line 3630
      tmp___6 = iswlower((wint_t )ch);
      }
#line 3630
      if (tmp___6) {
#line 3631
        return (1);
      }
#line 3632
      goto switch_break;
      case_9: /* CIL Label */ 
      {
#line 3634
      tmp___7 = iswprint((wint_t )ch);
      }
#line 3634
      if (tmp___7) {
#line 3635
        return (1);
      }
#line 3636
      goto switch_break;
      case_10: /* CIL Label */ 
      {
#line 3638
      tmp___8 = iswpunct((wint_t )ch);
      }
#line 3638
      if (tmp___8) {
#line 3639
        return (1);
      }
#line 3640
      goto switch_break;
      case_11: /* CIL Label */ 
      {
#line 3642
      tmp___9 = iswspace((wint_t )ch);
      }
#line 3642
      if (tmp___9) {
#line 3643
        return (1);
      }
#line 3644
      goto switch_break;
      case_12: /* CIL Label */ 
      {
#line 3646
      tmp___10 = iswupper((wint_t )ch);
      }
#line 3646
      if (tmp___10) {
#line 3647
        return (1);
      }
#line 3648
      goto switch_break;
      case_13: /* CIL Label */ 
      {
#line 3650
      tmp___11 = iswxdigit((wint_t )ch);
      }
#line 3650
      if (tmp___11) {
#line 3651
        return (1);
      }
#line 3652
      goto switch_break;
      case_14: /* CIL Label */ 
      {
#line 3654
      tmp___12 = wcsitype(ch, 1 << 7);
      }
#line 3654
      if (tmp___12) {
#line 3655
        return (1);
      }
#line 3656
      goto switch_break;
      case_15: /* CIL Label */ 
      {
#line 3658
      tmp___13 = wcsitype(ch, 1 << 5);
      }
#line 3658
      if (tmp___13) {
#line 3659
        return (1);
      }
#line 3660
      goto switch_break;
      case_16: /* CIL Label */ 
#line 3663
      if (ch < 128) {
#line 3663
        if ((int )typtab[(unsigned char )ch] & (1 << 13)) {
#line 3664
          return (1);
        }
      }
#line 3665
      goto switch_break;
      case_17: /* CIL Label */ 
      {
#line 3667
      tmp___14 = wcsitype(ch, 1 << 10);
      }
#line 3667
      if (tmp___14) {
#line 3668
        return (1);
      }
#line 3669
      goto switch_break;
      case_21: /* CIL Label */ 
      {
#line 3671
      r1 = metacharinc(& range);
#line 3672
      r2 = metacharinc(& range);
      }
#line 3673
      if (r1 <= ch) {
#line 3673
        if (ch <= r2) {
#line 3674
          if (indptr) {
#line 3675
            *indptr += (wint_t )(ch - r1);
          }
#line 3676
          return (1);
        }
      }
#line 3679
      if (indptr) {
#line 3679
        if (r1 < r2) {
#line 3684
          *indptr += (wint_t )(r2 - r1);
        }
      }
#line 3686
      goto switch_break;
      case_18: /* CIL Label */ 
#line 3688
      if (zmb_ind == 1) {
#line 3689
        return (1);
      }
#line 3690
      goto switch_break;
      case_19: /* CIL Label */ 
#line 3692
      if (zmb_ind == 2) {
#line 3693
        return (1);
      }
#line 3694
      goto switch_break;
      case_20: /* CIL Label */ ;
#line 3697
      goto switch_break;
      switch_default: /* CIL Label */ ;
#line 3700
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    } else {
      {
#line 3702
      tmp___15 = metacharinc(& range);
      }
#line 3702
      if (tmp___15 == ch) {
#line 3703
        if (mtp) {
#line 3704
          *mtp = 0;
        }
#line 3705
        return (1);
      }
    }
#line 3707
    if (indptr) {
#line 3708
      (*indptr) ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3710
  return (0);
}
}
#line 3725 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int mb_patmatchindex(char *range , wint_t ind , wint_t *chr , int *mtp ) 
{ 
  wchar_t r1 ;
  wchar_t r2 ;
  wchar_t rchr ;
  wint_t rdiff ;
  int swtype ;
  char *tmp ;
  wint_t tmp___0 ;

  {
#line 3731
  *chr = 4294967295U;
#line 3732
  *mtp = 0;
  {
#line 3734
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3734
    if (! *range) {
#line 3734
      goto while_break;
    }
#line 3735
    if ((int )typtab[(unsigned char )*range] & (1 << 12)) {
#line 3736
      tmp = range;
#line 3736
      range ++;
#line 3736
      swtype = (int )((unsigned char )*tmp) - 131;
      {
#line 3738
      if (swtype == 0) {
#line 3738
        goto case_0;
      }
#line 3765
      if (swtype == 19) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 18) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 17) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 16) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 15) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 14) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 13) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 12) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 11) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 10) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 9) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 8) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 7) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 6) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 5) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 4) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 3) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 2) {
#line 3765
        goto case_19;
      }
#line 3765
      if (swtype == 1) {
#line 3765
        goto case_19;
      }
#line 3772
      if (swtype == 21) {
#line 3772
        goto case_21;
      }
#line 3783
      if (swtype == 20) {
#line 3783
        goto case_20;
      }
#line 3786
      goto switch_default;
      case_0: /* CIL Label */ 
      {
#line 3739
      range --;
#line 3740
      rchr = metacharinc(& range);
      }
#line 3741
      if (! ind) {
#line 3742
        *chr = (wint_t )rchr;
#line 3743
        return (1);
      }
#line 3745
      goto switch_break;
      case_19: /* CIL Label */ 
      case_18: /* CIL Label */ 
      case_17: /* CIL Label */ 
      case_16: /* CIL Label */ 
      case_15: /* CIL Label */ 
      case_14: /* CIL Label */ 
      case_13: /* CIL Label */ 
      case_12: /* CIL Label */ 
      case_11: /* CIL Label */ 
      case_10: /* CIL Label */ 
      case_9: /* CIL Label */ 
      case_8: /* CIL Label */ 
      case_7: /* CIL Label */ 
      case_6: /* CIL Label */ 
      case_5: /* CIL Label */ 
      case_4: /* CIL Label */ 
      case_3: /* CIL Label */ 
      case_2: /* CIL Label */ 
      case_1: /* CIL Label */ 
#line 3766
      if (! ind) {
#line 3767
        *mtp = swtype;
#line 3768
        return (1);
      }
#line 3770
      goto switch_break;
      case_21: /* CIL Label */ 
      {
#line 3773
      r1 = metacharinc(& range);
#line 3774
      r2 = metacharinc(& range);
#line 3775
      rdiff = (wint_t )r2 - (wint_t )r1;
      }
#line 3776
      if (rdiff >= ind) {
#line 3777
        *chr = (wint_t )r1 + ind;
#line 3778
        return (1);
      }
#line 3781
      ind -= rdiff;
#line 3782
      goto switch_break;
      case_20: /* CIL Label */ ;
#line 3785
      goto switch_break;
      switch_default: /* CIL Label */ ;
#line 3788
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    } else {
      {
#line 3791
      rchr = metacharinc(& range);
      }
#line 3792
      if (! ind) {
#line 3793
        *chr = (wint_t )rchr;
#line 3794
        return (1);
      }
    }
#line 3797
    tmp___0 = ind;
#line 3797
    ind --;
#line 3797
    if (! tmp___0) {
#line 3798
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3802
  return (0);
}
}
#line 3814 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int patmatchrange(char *range , int ch , int *indptr , int *mtp ) 
{ 
  int r1 ;
  int r2 ;
  int swtype ;
  unsigned short const   **tmp ;
  unsigned short const   **tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;
  unsigned short const   **tmp___3 ;
  unsigned short const   **tmp___4 ;
  unsigned short const   **tmp___5 ;
  unsigned short const   **tmp___6 ;
  unsigned short const   **tmp___7 ;
  unsigned short const   **tmp___8 ;
  unsigned short const   **tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;

  {
#line 3819
  if (indptr) {
#line 3820
    *indptr = 0;
  }
  {
#line 3826
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3826
    if (! *range) {
#line 3826
      goto while_break;
    }
#line 3827
    if ((int )typtab[(unsigned char )*range] & (1 << 12)) {
#line 3828
      swtype = (int )((unsigned char )*range) - 131;
#line 3829
      if (mtp) {
#line 3830
        *mtp = swtype;
      }
      {
#line 3832
      if (swtype == 0) {
#line 3832
        goto case_0;
      }
#line 3836
      if (swtype == 1) {
#line 3836
        goto case_1;
      }
#line 3840
      if (swtype == 2) {
#line 3840
        goto case_2;
      }
#line 3844
      if (swtype == 3) {
#line 3844
        goto case_3;
      }
#line 3848
      if (swtype == 4) {
#line 3848
        goto case_4;
      }
#line 3852
      if (swtype == 5) {
#line 3852
        goto case_5;
      }
#line 3856
      if (swtype == 6) {
#line 3856
        goto case_6;
      }
#line 3860
      if (swtype == 7) {
#line 3860
        goto case_7;
      }
#line 3864
      if (swtype == 8) {
#line 3864
        goto case_8;
      }
#line 3868
      if (swtype == 9) {
#line 3868
        goto case_9;
      }
#line 3872
      if (swtype == 10) {
#line 3872
        goto case_10;
      }
#line 3876
      if (swtype == 11) {
#line 3876
        goto case_11;
      }
#line 3880
      if (swtype == 12) {
#line 3880
        goto case_12;
      }
#line 3884
      if (swtype == 13) {
#line 3884
        goto case_13;
      }
#line 3888
      if (swtype == 14) {
#line 3888
        goto case_14;
      }
#line 3892
      if (swtype == 15) {
#line 3892
        goto case_15;
      }
#line 3896
      if (swtype == 16) {
#line 3896
        goto case_16;
      }
#line 3900
      if (swtype == 17) {
#line 3900
        goto case_17;
      }
#line 3904
      if (swtype == 21) {
#line 3904
        goto case_21;
      }
#line 3920
      if (swtype == 19) {
#line 3920
        goto case_19;
      }
#line 3920
      if (swtype == 18) {
#line 3920
        goto case_19;
      }
#line 3923
      if (swtype == 20) {
#line 3923
        goto case_20;
      }
#line 3926
      goto switch_default;
      case_0: /* CIL Label */ 
#line 3833
      range ++;
#line 3833
      if ((int )((unsigned char )((int )*range ^ 32)) == ch) {
#line 3834
        return (1);
      }
#line 3835
      goto switch_break;
      case_1: /* CIL Label */ 
      {
#line 3837
      tmp = __ctype_b_loc();
      }
#line 3837
      if ((int const   )*(*tmp + ch) & 1024) {
#line 3838
        return (1);
      }
#line 3839
      goto switch_break;
      case_2: /* CIL Label */ 
      {
#line 3841
      tmp___0 = __ctype_b_loc();
      }
#line 3841
      if ((int const   )*(*tmp___0 + ch) & 8) {
#line 3842
        return (1);
      }
#line 3843
      goto switch_break;
      case_3: /* CIL Label */ 
#line 3845
      if ((ch & -128) == 0) {
#line 3846
        return (1);
      }
#line 3847
      goto switch_break;
      case_4: /* CIL Label */ 
#line 3849
      if (ch == 32) {
#line 3850
        return (1);
      } else
#line 3849
      if (ch == 9) {
#line 3850
        return (1);
      }
#line 3851
      goto switch_break;
      case_5: /* CIL Label */ 
      {
#line 3853
      tmp___1 = __ctype_b_loc();
      }
#line 3853
      if ((int const   )*(*tmp___1 + ch) & 2) {
#line 3854
        return (1);
      }
#line 3855
      goto switch_break;
      case_6: /* CIL Label */ 
      {
#line 3857
      tmp___2 = __ctype_b_loc();
      }
#line 3857
      if ((int const   )*(*tmp___2 + ch) & 2048) {
#line 3858
        return (1);
      }
#line 3859
      goto switch_break;
      case_7: /* CIL Label */ 
      {
#line 3861
      tmp___3 = __ctype_b_loc();
      }
#line 3861
      if ((int const   )*(*tmp___3 + ch) & 32768) {
#line 3862
        return (1);
      }
#line 3863
      goto switch_break;
      case_8: /* CIL Label */ 
      {
#line 3865
      tmp___4 = __ctype_b_loc();
      }
#line 3865
      if ((int const   )*(*tmp___4 + ch) & 512) {
#line 3866
        return (1);
      }
#line 3867
      goto switch_break;
      case_9: /* CIL Label */ 
      {
#line 3869
      tmp___5 = __ctype_b_loc();
      }
#line 3869
      if ((int const   )*(*tmp___5 + ch) & 16384) {
#line 3870
        return (1);
      }
#line 3871
      goto switch_break;
      case_10: /* CIL Label */ 
      {
#line 3873
      tmp___6 = __ctype_b_loc();
      }
#line 3873
      if ((int const   )*(*tmp___6 + ch) & 4) {
#line 3874
        return (1);
      }
#line 3875
      goto switch_break;
      case_11: /* CIL Label */ 
      {
#line 3877
      tmp___7 = __ctype_b_loc();
      }
#line 3877
      if ((int const   )*(*tmp___7 + ch) & 8192) {
#line 3878
        return (1);
      }
#line 3879
      goto switch_break;
      case_12: /* CIL Label */ 
      {
#line 3881
      tmp___8 = __ctype_b_loc();
      }
#line 3881
      if ((int const   )*(*tmp___8 + ch) & 256) {
#line 3882
        return (1);
      }
#line 3883
      goto switch_break;
      case_13: /* CIL Label */ 
      {
#line 3885
      tmp___9 = __ctype_b_loc();
      }
#line 3885
      if ((int const   )*(*tmp___9 + ch) & 4096) {
#line 3886
        return (1);
      }
#line 3887
      goto switch_break;
      case_14: /* CIL Label */ 
#line 3889
      if ((int )typtab[(unsigned char )ch] & (1 << 7)) {
#line 3890
        return (1);
      }
#line 3891
      goto switch_break;
      case_15: /* CIL Label */ 
#line 3893
      if ((int )typtab[(unsigned char )ch] & (1 << 5)) {
#line 3894
        return (1);
      }
#line 3895
      goto switch_break;
      case_16: /* CIL Label */ 
#line 3897
      if ((int )typtab[(unsigned char )ch] & (1 << 13)) {
#line 3898
        return (1);
      }
#line 3899
      goto switch_break;
      case_17: /* CIL Label */ 
#line 3901
      if ((int )typtab[(unsigned char )ch] & (1 << 10)) {
#line 3902
        return (1);
      }
#line 3903
      goto switch_break;
      case_21: /* CIL Label */ 
#line 3905
      range ++;
#line 3906
      if ((int )*range == -125) {
#line 3906
        tmp___10 = (int )*(range + 1) ^ 32;
      } else {
#line 3906
        tmp___10 = (int )*range;
      }
      {
#line 3906
      r1 = (int )((unsigned char )tmp___10);
#line 3907
      metacharinc(& range);
      }
#line 3908
      if ((int )*range == -125) {
#line 3908
        tmp___11 = (int )*(range + 1) ^ 32;
      } else {
#line 3908
        tmp___11 = (int )*range;
      }
#line 3908
      r2 = (int )((unsigned char )tmp___11);
#line 3909
      if ((int )*range == -125) {
#line 3910
        range ++;
      }
#line 3911
      if (r1 <= ch) {
#line 3911
        if (ch <= r2) {
#line 3912
          if (indptr) {
#line 3913
            *indptr += ch - r1;
          }
#line 3914
          return (1);
        }
      }
#line 3916
      if (indptr) {
#line 3916
        if (r1 < r2) {
#line 3917
          *indptr += r2 - r1;
        }
      }
#line 3918
      goto switch_break;
      case_19: /* CIL Label */ 
      case_18: /* CIL Label */ 
#line 3922
      goto switch_break;
      case_20: /* CIL Label */ ;
#line 3925
      goto switch_break;
      switch_default: /* CIL Label */ ;
#line 3928
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    } else
#line 3930
    if ((int )((unsigned char )*range) == ch) {
#line 3931
      if (mtp) {
#line 3932
        *mtp = 0;
      }
#line 3933
      return (1);
    }
#line 3935
    if (indptr) {
#line 3936
      (*indptr) ++;
    }
#line 3826
    range ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3938
  return (0);
}
}
#line 4048 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
static int patrepeat(Upat p , char *charstart ) 
{ 
  int count ;
  patint_t tch ;
  patint_t charmatch_cache ;
  char *scan ;
  char *opnd ;
  wchar_t tmp ;
  wchar_t tmp___0 ;
  wint_t tmp___2 ;
  wint_t tmp___3 ;
  int tmp___4 ;
  wint_t tmp___6 ;
  wint_t tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  wint_t tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int zmb_ind ;
  wchar_t cr ;
  wchar_t tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;

  {
#line 4050
  count = 0;
#line 4054
  scan = pattrystate.patinput;
#line 4055
  opnd = (char *)(p + 1);
  {
#line 4064
  if ((p->l & 255L) == 4L) {
#line 4064
    goto case_4;
  }
#line 4075
  if ((p->l & 255L) == 66L) {
#line 4075
    goto case_66;
  }
#line 4075
  if ((p->l & 255L) == 65L) {
#line 4075
    goto case_66;
  }
#line 4057
  goto switch_break;
  case_4: /* CIL Label */ 
  {
#line 4066
  tmp = charref((char *)(p + 2), (char *)(p + 2) + (p + 1)->l, (int *)((void *)0));
#line 4066
  tch = (patint_t )tmp;
  }
  {
#line 4067
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4067
    if ((unsigned long )scan < (unsigned long )pattrystate.patinend) {
      {
#line 4067
      tmp___0 = charref(scan, pattrystate.patinend, (int *)((void *)0));
#line 4067
      charmatch_cache = (patint_t )tmp___0;
      }
#line 4067
      if (charmatch_cache == tch) {
#line 4067
        tmp___14 = 1;
      } else {
#line 4067
        if (patglobflags & 512) {
          {
#line 4067
          tmp___4 = iswupper(charmatch_cache);
          }
#line 4067
          if (tmp___4) {
            {
#line 4067
            tmp___2 = towlower(charmatch_cache);
#line 4067
            tmp___3 = tmp___2;
            }
          } else {
#line 4067
            tmp___3 = charmatch_cache;
          }
          {
#line 4067
          tmp___8 = iswupper(tch);
          }
#line 4067
          if (tmp___8) {
            {
#line 4067
            tmp___6 = towlower(tch);
#line 4067
            tmp___7 = tmp___6;
            }
          } else {
#line 4067
            tmp___7 = tch;
          }
#line 4067
          tmp___13 = tmp___3 == tmp___7;
        } else {
#line 4067
          if (patglobflags & 256) {
            {
#line 4067
            tmp___9 = iswlower(tch);
            }
#line 4067
            if (tmp___9) {
              {
#line 4067
              tmp___10 = towupper(tch);
              }
#line 4067
              if (tmp___10 == charmatch_cache) {
#line 4067
                tmp___11 = 1;
              } else {
#line 4067
                tmp___11 = 0;
              }
            } else {
#line 4067
              tmp___11 = 0;
            }
#line 4067
            tmp___12 = tmp___11;
          } else {
#line 4067
            tmp___12 = 0;
          }
#line 4067
          tmp___13 = tmp___12;
        }
#line 4067
        if (tmp___13) {
#line 4067
          tmp___14 = 1;
        } else {
#line 4067
          tmp___14 = 0;
        }
      }
#line 4067
      if (! tmp___14) {
#line 4067
        goto while_break;
      }
    } else {
#line 4067
      goto while_break;
    }
    {
#line 4069
    *(charstart + (scan - pattrystate.patinput)) = (char)1;
#line 4070
    count ++;
#line 4071
    scan = charnext(scan, pattrystate.patinend);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4073
  goto switch_break;
  case_66: /* CIL Label */ 
  case_65: /* CIL Label */ 
  {
#line 4076
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4076
    if (! ((unsigned long )scan < (unsigned long )pattrystate.patinend)) {
#line 4076
      goto while_break___0;
    }
    {
#line 4079
    tmp___15 = charref(scan, pattrystate.patinend, & zmb_ind);
#line 4079
    cr = tmp___15;
    }
#line 4080
    if (patglobflags & 4096) {
      {
#line 4081
      tmp___16 = mb_patmatchrange(opnd, cr, zmb_ind, (wint_t *)((void *)0), (int *)((void *)0));
      }
#line 4081
      if (tmp___16 ^ ((p->l & 255L) == 65L)) {
#line 4083
        goto while_break___0;
      }
    } else {
      {
#line 4084
      tmp___17 = patmatchrange(opnd, cr, (int *)((void *)0), (int *)((void *)0));
      }
#line 4084
      if (tmp___17 ^ ((p->l & 255L) == 65L)) {
#line 4086
        goto while_break___0;
      }
    }
    {
#line 4092
    *(charstart + (scan - pattrystate.patinput)) = (char)1;
#line 4093
    count ++;
#line 4094
    scan = charnext(scan, pattrystate.patinend);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4096
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 4105
  pattrystate.patinput = scan;
#line 4106
  return (count);
}
}
#line 4112 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
void freepatprog(Patprog prog ) 
{ 


  {
#line 4115
  if (prog) {
#line 4115
    if ((unsigned long )prog != (unsigned long )((Patprog )1)) {
#line 4115
      if ((unsigned long )prog != (unsigned long )((Patprog )2)) {
        {
#line 4116
        zfree((void *)prog, (int )prog->size);
        }
      }
    }
  }
#line 4117
  return;
}
}
#line 4122 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int pat_enables(char const   *cmd , char **patp , int enable ) 
{ 
  int ret ;
  char const   **stringp ;
  char *disp ;
  int done ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 4125
  ret = 0;
#line 4129
  if (! *patp) {
#line 4130
    done = 0;
#line 4131
    stringp = zpc_strings;
#line 4131
    disp = zpc_disables;
    {
#line 4131
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4131
      if (! ((unsigned long )stringp < (unsigned long )(zpc_strings + 19))) {
#line 4131
        goto while_break;
      }
#line 4134
      if (! *stringp) {
#line 4135
        goto __Cont;
      }
#line 4136
      if (enable) {
#line 4136
        tmp = (int )*disp;
      } else {
#line 4136
        tmp = ! *disp;
      }
#line 4136
      if (tmp) {
#line 4137
        goto __Cont;
      }
#line 4138
      if (done) {
        {
#line 4139
        _IO_putc(' ', stdout);
        }
      }
      {
#line 4140
      printf((char const   */* __restrict  */)"\'%s\'", *stringp);
#line 4141
      done = 1;
      }
      __Cont: /* CIL Label */ 
#line 4131
      stringp ++;
#line 4131
      disp ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 4143
    if (done) {
      {
#line 4144
      _IO_putc('\n', stdout);
      }
    }
#line 4145
    return (0);
  }
  {
#line 4148
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4148
    if (! *patp) {
#line 4148
      goto while_break___0;
    }
#line 4149
    stringp = zpc_strings;
#line 4149
    disp = zpc_disables;
    {
#line 4149
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 4149
      if (! ((unsigned long )stringp < (unsigned long )(zpc_strings + 19))) {
#line 4149
        goto while_break___1;
      }
#line 4152
      if (*stringp) {
        {
#line 4152
        tmp___0 = strcmp(*stringp, (char const   *)*patp);
        }
#line 4152
        if (! tmp___0) {
#line 4153
          *disp = (char )(! enable);
#line 4154
          goto while_break___1;
        }
      }
#line 4149
      stringp ++;
#line 4149
      disp ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 4157
    if ((unsigned long )stringp == (unsigned long )(zpc_strings + 19)) {
      {
#line 4158
      zerrnam(cmd, "invalid pattern: %s", *patp);
#line 4159
      ret = 1;
      }
    }
#line 4148
    patp ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4163
  return (ret);
}
}
#line 4171 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
unsigned int savepatterndisables(void) 
{ 
  unsigned int disables ;
  unsigned int bit ;
  char *disp ;

  {
#line 4177
  disables = 0U;
#line 4178
  bit = 1U;
#line 4178
  disp = zpc_disables;
  {
#line 4178
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4178
    if (! ((unsigned long )disp < (unsigned long )(zpc_disables + 19))) {
#line 4178
      goto while_break;
    }
#line 4181
    if (*disp) {
#line 4182
      disables |= bit;
    }
#line 4178
    bit <<= 1;
#line 4178
    disp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4184
  return (disables);
}
}
#line 4192 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
void startpatternscope(void) 
{ 
  Zpc_disables_save newdis ;
  void *tmp ;

  {
  {
#line 4197
  tmp = zalloc(sizeof(*newdis));
#line 4197
  newdis = (Zpc_disables_save )tmp;
#line 4198
  newdis->next = zpc_disables_stack;
#line 4199
  newdis->disables = savepatterndisables();
#line 4201
  zpc_disables_stack = newdis;
  }
#line 4202
  return;
}
}
#line 4209 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
void restorepatterndisables(unsigned int disables ) 
{ 
  char *disp ;
  unsigned int bit ;

  {
#line 4215
  bit = 1U;
#line 4215
  disp = zpc_disables;
  {
#line 4215
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4215
    if (! ((unsigned long )disp < (unsigned long )(zpc_disables + 19))) {
#line 4215
      goto while_break;
    }
#line 4218
    if (disables & bit) {
#line 4219
      *disp = (char)1;
    } else {
#line 4221
      *disp = (char)0;
    }
#line 4215
    bit <<= 1;
#line 4215
    disp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4223
  return;
}
}
#line 4230 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
void endpatternscope(void) 
{ 
  Zpc_disables_save olddis ;

  {
#line 4235
  olddis = zpc_disables_stack;
#line 4236
  zpc_disables_stack = olddis->next;
#line 4238
  if (opts[107]) {
    {
#line 4239
    restorepatterndisables(olddis->disables);
    }
  }
  {
#line 4241
  zfree((void *)olddis, (int )sizeof(*olddis));
  }
#line 4242
  return;
}
}
#line 4247 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
void clearpatterndisables(void) 
{ 


  {
  {
#line 4250
  memset((void *)(zpc_disables), 0, (size_t )19);
  }
#line 4251
  return;
}
}
#line 4257 "/home/khheo/testset/zsh-zsh-5.3.1/Src/pattern.c"
int haswilds(char *str ) 
{ 
  char *start ;

  {
#line 4263
  if ((int )*str == -111) {
#line 4263
    goto _L;
  } else
#line 4263
  if ((int )*str == -110) {
    _L: /* CIL Label */ 
#line 4263
    if (! *(str + 1)) {
#line 4264
      return (0);
    }
  }
#line 4269
  if ((int )*(str + 0) == 37) {
#line 4269
    if ((int )*(str + 1) == -105) {
#line 4270
      *(str + 1) = (char )'?';
    }
  }
#line 4275
  start = str;
  {
#line 4276
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4276
    if (! *str) {
#line 4276
      goto while_break;
    }
    {
#line 4278
    if ((int )*str == -120) {
#line 4278
      goto case_neg_120;
    }
#line 4290
    if ((int )*str == -114) {
#line 4290
      goto case_neg_114;
    }
#line 4295
    if ((int )*str == -121) {
#line 4295
      goto case_neg_121;
    }
#line 4300
    if ((int )*str == -111) {
#line 4300
      goto case_neg_111;
    }
#line 4305
    if ((int )*str == -108) {
#line 4305
      goto case_neg_108;
    }
#line 4310
    if ((int )*str == -105) {
#line 4310
      goto case_neg_105;
    }
#line 4315
    if ((int )*str == -124) {
#line 4315
      goto case_neg_124;
    }
#line 4320
    if ((int )*str == -122) {
#line 4320
      goto case_neg_122;
    }
#line 4277
    goto switch_break;
    case_neg_120: /* CIL Label */ 
#line 4279
    if (! opts[158]) {
#line 4279
      if (! zpc_disables[5]) {
#line 4287
        return (1);
      } else {
#line 4279
        goto _L___5;
      }
    } else
    _L___5: /* CIL Label */ 
#line 4279
    if ((unsigned long )str > (unsigned long )start) {
#line 4279
      if (opts[96]) {
#line 4279
        if ((int )*(str + -1) == -105) {
#line 4279
          if (! zpc_disables[13]) {
#line 4287
            return (1);
          } else {
#line 4279
            goto _L___4;
          }
        } else
        _L___4: /* CIL Label */ 
#line 4279
        if ((int )*(str + -1) == -121) {
#line 4279
          if (! zpc_disables[14]) {
#line 4287
            return (1);
          } else {
#line 4279
            goto _L___3;
          }
        } else
        _L___3: /* CIL Label */ 
#line 4279
        if ((int )*(str + -1) == 43) {
#line 4279
          if (! zpc_disables[15]) {
#line 4287
            return (1);
          } else {
#line 4279
            goto _L___2;
          }
        } else
        _L___2: /* CIL Label */ 
#line 4279
        if ((int )*(str + -1) == -100) {
#line 4279
          if (! zpc_disables[16]) {
#line 4287
            return (1);
          } else {
#line 4279
            goto _L___1;
          }
        } else
        _L___1: /* CIL Label */ 
#line 4279
        if ((int )*(str + -1) == 33) {
#line 4279
          if (! zpc_disables[17]) {
#line 4287
            return (1);
          } else {
#line 4279
            goto _L___0;
          }
        } else
        _L___0: /* CIL Label */ 
#line 4279
        if ((int )*(str + -1) == 64) {
#line 4279
          if (! zpc_disables[18]) {
#line 4287
            return (1);
          }
        }
      }
    }
#line 4288
    goto switch_break;
    case_neg_114: /* CIL Label */ 
#line 4291
    if (! zpc_disables[2]) {
#line 4292
      return (1);
    }
#line 4293
    goto switch_break;
    case_neg_121: /* CIL Label */ 
#line 4296
    if (! zpc_disables[7]) {
#line 4297
      return (1);
    }
#line 4298
    goto switch_break;
    case_neg_111: /* CIL Label */ 
#line 4301
    if (! zpc_disables[8]) {
#line 4302
      return (1);
    }
#line 4303
    goto switch_break;
    case_neg_108: /* CIL Label */ 
#line 4306
    if (! zpc_disables[9]) {
#line 4307
      return (1);
    }
#line 4308
    goto switch_break;
    case_neg_105: /* CIL Label */ 
#line 4311
    if (! zpc_disables[6]) {
#line 4312
      return (1);
    }
#line 4313
    goto switch_break;
    case_neg_124: /* CIL Label */ 
#line 4316
    if (opts[52]) {
#line 4316
      if (! zpc_disables[11]) {
#line 4317
        return (1);
      }
    }
#line 4318
    goto switch_break;
    case_neg_122: /* CIL Label */ 
#line 4321
    if (opts[52]) {
#line 4321
      if (! zpc_disables[10]) {
#line 4322
        return (1);
      }
    }
#line 4323
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 4276
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4326
  return (0);
}
}
#line 334 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) __off_t ( __attribute__((__leaf__)) lseek)(int __fd ,
                                                                                __off_t __offset ,
                                                                                int __whence ) ;
#line 619
extern  __attribute__((__nothrow__)) long ( __attribute__((__leaf__)) sysconf)(int __name ) ;
#line 826
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) unlink)(char const   *__name ) ;
#line 263 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) strrchr)(char const   *__s ,
                                                                                                int __c )  __attribute__((__pure__)) ;
#line 289
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1,2), __leaf__)) strspn)(char const   *__s ,
                                                                                                  char const   *__accept )  __attribute__((__pure__)) ;
#line 23 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
int eval_autoload(Shfunc shf , char *name , Options ops , int func ) ;
#line 25
Eprog mkautofn(Shfunc shf ) ;
#line 48
char **testargs ;
#line 50
void testlex(void) ;
#line 28 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
Eprog parse_string(char *s , int reset_lineno ) ;
#line 62
Eprog getfpfunc(char *s , int *ksh , char **fname ) ;
#line 40 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
void herrflush(void) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
char *zshlextext ;
#line 7
char *tokstr ;
#line 8
enum lextok tok ;
#line 9
int tokfd ;
#line 10
zlong toklineno ;
#line 15
int nocorrect ;
#line 25
int noaliases ;
#line 31
void zshlex(void) ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.epro"
LinkList newsizedlist(int size ) ;
#line 19
LinkNode linknodebydatum(LinkList list , void *dat ) ;
#line 79 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
int isident(char *s ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int incmdpos  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int aliasspaceflag  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int incond  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int inredir  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int incasepat  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int isnewlin  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int infor  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int inrepeat_  ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int intypeset  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
struct heredocs *hdocs  ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int eclen  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int ecused  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int ecnpats  ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
Wordcode ecbuf  ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
Eccstr ecstrs  ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int ecsoffs  ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int ecssub  ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
int ecnfunc  ;
#line 23
void parse_context_save(struct parse_stack *ps , int toplevel ) ;
#line 24
void parse_context_restore(struct parse_stack  const  *ps , int toplevel ) ;
#line 25
void init_parse_status(void) ;
#line 26
void init_parse(void) ;
#line 28
Eprog parse_event(int endtok ) ;
#line 29
int par_event(int endtok ) ;
#line 30
Eprog parse_list(void) ;
#line 31
Eprog parse_cond(void) ;
#line 32
void setheredoc(int pc , int type___0 , char *str , char *termstr , char *munged_termstr ) ;
#line 33
void (*condlex)(void) ;
#line 38
char *ecrawstr(Eprog p , Wordcode pc , int *tokflag ) ;
#line 39
char **ecgetarr(Estate s , int num , int dup___0 , int *tokflag ) ;
#line 40
LinkList ecgetlist(Estate s , int num , int dup___0 , int *tokflag ) ;
#line 42
Eprog eccopyredirs(Estate s ) ;
#line 43 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.epro"
struct eprog dummy_eprog  ;
#line 44
void init_eprog(void) ;
#line 45
int bin_zcompile(char *nam , char **args , Options ops , int func  __attribute__((__unused__)) ) ;
#line 53
Eprog try_dump_file(char *path___0 , char *name , char *file , int *ksh ) ;
#line 54
Eprog try_source_file(char *file ) ;
#line 55
void incrdumpcount(FuncDump f ) ;
#line 56
void decrdumpcount(FuncDump f ) ;
#line 59
int dump_autoload(char *nam , char *file , int on , Options ops , int func ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.pro"
static void set_list_code(int p , int type___0 , int cmplx ) ;
#line 3
static void set_sublist_code(int p , int type___0 , int flags , int skip , int cmplx ) ;
#line 4
static void par_list(int *cmplx ) ;
#line 5
static void par_list1(int *cmplx ) ;
#line 6
static int par_sublist(int *cmplx ) ;
#line 7
static int par_sublist2(int *cmplx ) ;
#line 8
static int par_pline(int *cmplx ) ;
#line 9
static int par_cmd(int *cmplx , int zsh_construct ) ;
#line 10
static void par_for(int *cmplx ) ;
#line 11
static void par_case(int *cmplx ) ;
#line 12
static void par_if(int *cmplx ) ;
#line 13
static void par_while(int *cmplx ) ;
#line 14
static void par_repeat(int *cmplx ) ;
#line 15
static void par_subsh(int *cmplx , int zsh_construct ) ;
#line 16
static void par_funcdef(int *cmplx ) ;
#line 17
static void par_time(void) ;
#line 18
static void par_dinbrack(void) ;
#line 19
static int par_simple(int *cmplx , int nr ) ;
#line 20
static int par_redir(int *rp , char *idstring ) ;
#line 21
static int par_wordlist(void) ;
#line 22
static int par_nl_wordlist(void) ;
#line 23
static int par_cond(void) ;
#line 24
static int par_cond_1(void) ;
#line 25
static int par_cond_2(void) ;
#line 26
static int par_cond_double(char *a , char *b ) ;
#line 27
static int get_cond_num(char *tst ) ;
#line 28
static int par_cond_triple(char *a , char *b , char *c ) ;
#line 29
static int par_cond_multi(char *a , LinkList l ) ;
#line 30
static void yyerror(int noerr ) ;
#line 31
static Wordcode load_dump_header(char *nam , char *name , int err ) ;
#line 32
static int build_dump(char *nam , char *dump , char **files , int ali , int map ,
                      int flags ) ;
#line 33
static int build_cur_dump(char *nam , char *dump , char **names , int match , int map ,
                          int what ) ;
#line 42
static Eprog check_dump_file(char *file , struct stat *sbuf , char *name , int *ksh ) ;
#line 43
static void freedump(FuncDump f ) ;
#line 268 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void parse_context_save(struct parse_stack *ps , int toplevel ) 
{ 


  {
#line 273
  ps->incmdpos = incmdpos;
#line 274
  ps->aliasspaceflag = aliasspaceflag;
#line 275
  ps->incond = incond;
#line 276
  ps->inredir = inredir;
#line 277
  ps->incasepat = incasepat;
#line 278
  ps->isnewlin = isnewlin;
#line 279
  ps->infor = infor;
#line 280
  ps->inrepeat_ = inrepeat_;
#line 281
  ps->intypeset = intypeset;
#line 283
  ps->hdocs = hdocs;
#line 284
  ps->eclen = eclen;
#line 285
  ps->ecused = ecused;
#line 286
  ps->ecnpats = ecnpats;
#line 287
  ps->ecbuf = ecbuf;
#line 288
  ps->ecstrs = ecstrs;
#line 289
  ps->ecsoffs = ecsoffs;
#line 290
  ps->ecssub = ecssub;
#line 291
  ps->ecnfunc = ecnfunc;
#line 292
  ecbuf = (Wordcode )((void *)0);
#line 293
  hdocs = (struct heredocs *)((void *)0);
#line 294
  return;
}
}
#line 299 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void parse_context_restore(struct parse_stack  const  *ps , int toplevel ) 
{ 


  {
#line 304
  if (ecbuf) {
    {
#line 305
    zfree((void *)ecbuf, eclen);
    }
  }
#line 307
  incmdpos = (int )ps->incmdpos;
#line 308
  aliasspaceflag = (int )ps->aliasspaceflag;
#line 309
  incond = (int )ps->incond;
#line 310
  inredir = (int )ps->inredir;
#line 311
  incasepat = (int )ps->incasepat;
#line 312
  isnewlin = (int )ps->isnewlin;
#line 313
  infor = (int )ps->infor;
#line 314
  inrepeat_ = (int )ps->inrepeat_;
#line 315
  intypeset = (int )ps->intypeset;
#line 317
  hdocs = (struct heredocs *)ps->hdocs;
#line 318
  eclen = (int )ps->eclen;
#line 319
  ecused = (int )ps->ecused;
#line 320
  ecnpats = (int )ps->ecnpats;
#line 321
  ecbuf = (Wordcode )ps->ecbuf;
#line 322
  ecstrs = (Eccstr )ps->ecstrs;
#line 323
  ecsoffs = (int )ps->ecsoffs;
#line 324
  ecssub = (int )ps->ecssub;
#line 325
  ecnfunc = (int )ps->ecnfunc;
#line 327
  errflag &= -2;
#line 328
  return;
}
}
#line 332 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void ecadjusthere(int p , int d___0 ) 
{ 
  struct heredocs *h ;

  {
#line 337
  h = hdocs;
  {
#line 337
  while (1) {
    while_continue: /* CIL Label */ ;
#line 337
    if (! h) {
#line 337
      goto while_break;
    }
#line 338
    if (h->pc >= p) {
#line 339
      h->pc += d___0;
    }
#line 337
    h = h->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 340
  return;
}
}
#line 344 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void ecispace(int p , int n ) 
{ 
  int m ;
  int a ;
  int tmp ;
  void *tmp___0 ;

  {
#line 349
  if (eclen - ecused < n) {
#line 350
    if (eclen < 32768) {
#line 350
      tmp = eclen;
    } else {
#line 350
      tmp = 1024;
    }
#line 350
    a = tmp;
#line 352
    if (n > a) {
#line 352
      a = n;
    }
    {
#line 354
    tmp___0 = zrealloc((void *)((char *)ecbuf), (unsigned long )(eclen + a) * sizeof(wordcode ));
#line 354
    ecbuf = (Wordcode )tmp___0;
#line 355
    eclen += a;
    }
  }
#line 357
  m = ecused - p;
#line 357
  if (m > 0) {
    {
#line 358
    memmove((void *)((ecbuf + p) + n), (void const   *)(ecbuf + p), (unsigned long )m * sizeof(wordcode ));
    }
  }
  {
#line 359
  ecused += n;
#line 360
  ecadjusthere(p, n);
  }
#line 361
  return;
}
}
#line 365 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int ecadd(wordcode c ) 
{ 
  int a ;
  int tmp ;
  void *tmp___0 ;
  int tmp___1 ;

  {
#line 368
  if (eclen - ecused < 1) {
#line 369
    if (eclen < 32768) {
#line 369
      tmp = eclen;
    } else {
#line 369
      tmp = 1024;
    }
    {
#line 369
    a = tmp;
#line 371
    tmp___0 = zrealloc((void *)((char *)ecbuf), (unsigned long )(eclen + a) * sizeof(wordcode ));
#line 371
    ecbuf = (Wordcode )tmp___0;
#line 372
    eclen += a;
    }
  }
#line 374
  *(ecbuf + ecused) = c;
#line 376
  tmp___1 = ecused;
#line 376
  ecused ++;
#line 376
  return (tmp___1);
}
}
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void ecdel(int p ) 
{ 
  int n ;

  {
#line 384
  n = (ecused - p) - 1;
#line 386
  if (n > 0) {
    {
#line 387
    memmove((void *)(ecbuf + p), (void const   *)((ecbuf + p) + 1), (unsigned long )n * sizeof(wordcode ));
    }
  }
  {
#line 388
  ecused --;
#line 389
  ecadjusthere(p, -1);
  }
#line 390
  return;
}
}
#line 394 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static wordcode ecstrcode(char *s ) 
{ 
  int l ;
  int t ;
  int tmp ;
  wordcode c ;
  int tmp___0 ;
  Eccstr p ;
  Eccstr *pp ;
  int cmp ;
  Eccstr tmp___1 ;
  void *tmp___2 ;
  Eccstr tmp___3 ;
  int tmp___4 ;
  size_t tmp___5 ;

  {
  {
#line 397
  tmp = has_token((char const   *)s);
#line 397
  t = tmp;
#line 399
  tmp___5 = strlen((char const   *)s);
#line 399
  l = (int )(tmp___5 + 1UL);
  }
#line 399
  if (l) {
#line 399
    if (l <= 4) {
#line 400
      if (t) {
#line 400
        tmp___0 = 3;
      } else {
#line 400
        tmp___0 = 2;
      }
#line 400
      c = (wordcode )tmp___0;
      {
#line 402
      if (l == 4) {
#line 402
        goto case_4;
      }
#line 403
      if (l == 3) {
#line 403
        goto case_3;
      }
#line 404
      if (l == 2) {
#line 404
        goto case_2;
      }
#line 405
      if (l == 1) {
#line 405
        goto case_1;
      }
#line 401
      goto switch_break;
      case_4: /* CIL Label */ 
#line 402
      c |= (wordcode )((unsigned char )*(s + 2)) << 19;
      case_3: /* CIL Label */ 
#line 403
      c |= (wordcode )((unsigned char )*(s + 1)) << 11;
      case_2: /* CIL Label */ 
#line 404
      c |= (wordcode )((unsigned char )*(s + 0)) << 3;
#line 404
      goto switch_break;
      case_1: /* CIL Label */ 
#line 405
      if (t) {
#line 405
        c = (wordcode )7;
      } else {
#line 405
        c = (wordcode )6;
      }
#line 405
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
#line 407
      return (c);
    } else {
#line 399
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 412
    pp = & ecstrs;
    {
#line 412
    while (1) {
      while_continue: /* CIL Label */ ;
#line 412
      p = *pp;
#line 412
      if (! p) {
#line 412
        goto while_break;
      }
#line 413
      cmp = p->nfunc - ecnfunc;
#line 413
      if (! cmp) {
        {
#line 413
        cmp = strcmp((char const   *)p->str, (char const   *)s);
        }
#line 413
        if (! cmp) {
#line 414
          return (p->offs);
        }
      }
#line 415
      if (cmp < 0) {
#line 415
        pp = & p->left;
      } else {
#line 415
        pp = & p->right;
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 417
    tmp___2 = zhalloc(sizeof(*p));
#line 417
    tmp___1 = (Eccstr )tmp___2;
#line 417
    *pp = tmp___1;
#line 417
    p = tmp___1;
#line 418
    tmp___3 = (Eccstr )0;
#line 418
    p->right = tmp___3;
#line 418
    p->left = tmp___3;
    }
#line 419
    if (t) {
#line 419
      tmp___4 = 1;
    } else {
#line 419
      tmp___4 = 0;
    }
#line 419
    p->offs = (wordcode )(((ecsoffs - ecssub) << 2) | tmp___4);
#line 420
    p->aoffs = (wordcode )ecsoffs;
#line 421
    p->str = s;
#line 422
    p->nfunc = ecnfunc;
#line 423
    ecsoffs += l;
#line 425
    return (p->offs);
  }
}
}
#line 446 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void init_parse_status(void) 
{ 


  {
#line 456
  intypeset = 0;
#line 456
  infor = intypeset;
#line 456
  inredir = infor;
#line 456
  incond = inredir;
#line 456
  incasepat = incond;
#line 457
  inrepeat_ = 0;
#line 458
  incmdpos = 1;
#line 459
  return;
}
}
#line 464 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void init_parse(void) 
{ 
  void *tmp ;
  sigset_t oset ;
  void *__cil_tmp3 ;

  {
#line 467
  queueing_enabled ++;
#line 469
  if (ecbuf) {
    {
#line 469
    zfree((void *)ecbuf, eclen);
    }
  }
  {
#line 471
  eclen = 256;
#line 471
  tmp = zalloc((unsigned long )eclen * sizeof(wordcode ));
#line 471
  ecbuf = (Wordcode )tmp;
#line 472
  ecused = 0;
#line 473
  ecstrs = (Eccstr )((void *)0);
#line 474
  ecnpats = 0;
#line 474
  ecsoffs = ecnpats;
#line 475
  ecssub = 0;
#line 476
  ecnfunc = 0;
#line 478
  init_parse_status();
  }
  {
#line 480
  while (1) {
    while_continue: /* CIL Label */ ;
#line 480
    queueing_enabled --;
#line 480
    if (! queueing_enabled) {
      {
#line 480
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 480
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 480
          if (! (queue_front != queue_rear)) {
#line 480
            goto while_break___1;
          }
          {
#line 480
          queue_front = (queue_front + 1) % 128;
#line 480
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 480
          zhandler(signal_queue[queue_front]);
#line 480
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 480
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 480
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 481
  return;
}
}
#line 487 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void copy_ecstr(Eccstr s , char *p ) 
{ 
  size_t tmp ;

  {
  {
#line 490
  while (1) {
    while_continue: /* CIL Label */ ;
#line 490
    if (! s) {
#line 490
      goto while_break;
    }
    {
#line 491
    tmp = strlen((char const   *)s->str);
#line 491
    memcpy((void */* __restrict  */)(p + s->aoffs), (void const   */* __restrict  */)s->str,
           tmp + 1UL);
#line 492
    copy_ecstr(s->left, p);
#line 493
    s = s->right;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 495
  return;
}
}
#line 497 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static Eprog bld_eprog(int heap ) 
{ 
  Eprog ret ;
  int l ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  sigset_t oset ;
  void *__cil_tmp9 ;

  {
  {
#line 503
  queueing_enabled ++;
#line 505
  ecadd(0U);
  }
#line 507
  if (heap) {
    {
#line 507
    tmp = zhalloc(sizeof(*ret));
#line 507
    ret = (Eprog )tmp;
    }
  } else {
    {
#line 507
    tmp___0 = zalloc(sizeof(*ret));
#line 507
    ret = (Eprog )tmp___0;
    }
  }
#line 508
  ret->len = (int )(((unsigned long )ecnpats * sizeof(Patprog ) + (unsigned long )ecused * sizeof(wordcode )) + (unsigned long )ecsoffs);
#line 511
  ret->npats = ecnpats;
#line 512
  if (heap) {
#line 512
    ret->nref = -1;
  } else {
#line 512
    ret->nref = 1;
  }
#line 513
  if (heap) {
    {
#line 513
    tmp___1 = zhalloc((size_t )ret->len);
#line 513
    ret->pats = (Patprog *)tmp___1;
    }
  } else {
    {
#line 513
    tmp___2 = zshcalloc((size_t )ret->len);
#line 513
    ret->pats = (Patprog *)tmp___2;
    }
  }
#line 515
  ret->prog = (Wordcode )(ret->pats + ecnpats);
#line 516
  ret->strs = (char *)(ret->prog + ecused);
#line 517
  ret->shf = (Shfunc )((void *)0);
#line 518
  if (heap) {
#line 518
    ret->flags = 2;
  } else {
#line 518
    ret->flags = 1;
  }
#line 519
  ret->dump = (FuncDump )((void *)0);
#line 520
  l = 0;
  {
#line 520
  while (1) {
    while_continue: /* CIL Label */ ;
#line 520
    if (! (l < ecnpats)) {
#line 520
      goto while_break;
    }
#line 521
    *(ret->pats + l) = (Patprog )1;
#line 520
    l ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 522
  memcpy((void */* __restrict  */)ret->prog, (void const   */* __restrict  */)ecbuf,
         (unsigned long )ecused * sizeof(wordcode ));
#line 523
  copy_ecstr(ecstrs, ret->strs);
#line 525
  zfree((void *)ecbuf, eclen);
#line 526
  ecbuf = (Wordcode )((void *)0);
  }
  {
#line 528
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 528
    queueing_enabled --;
#line 528
    if (! queueing_enabled) {
      {
#line 528
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 528
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 528
          if (! (queue_front != queue_rear)) {
#line 528
            goto while_break___2;
          }
          {
#line 528
          queue_front = (queue_front + 1) % 128;
#line 528
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 528
          zhandler(signal_queue[queue_front]);
#line 528
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 528
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 528
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 530
  return (ret);
}
}
#line 534 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
int empty_eprog(Eprog p ) 
{ 
  int tmp ;

  {
#line 537
  if (! p) {
#line 537
    tmp = 1;
  } else
#line 537
  if (! p->prog) {
#line 537
    tmp = 1;
  } else
#line 537
  if (*(p->prog) == 0U) {
#line 537
    tmp = 1;
  } else {
#line 537
    tmp = 0;
  }
#line 537
  return (tmp);
}
}
#line 540 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void clear_hdocs(void) 
{ 
  struct heredocs *p ;
  struct heredocs *n ;

  {
#line 545
  p = hdocs;
  {
#line 545
  while (1) {
    while_continue: /* CIL Label */ ;
#line 545
    if (! p) {
#line 545
      goto while_break;
    }
    {
#line 546
    n = p->next;
#line 547
    zfree((void *)p, (int )sizeof(struct heredocs ));
#line 545
    p = n;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 549
  hdocs = (struct heredocs *)((void *)0);
#line 550
  return;
}
}
#line 563 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
Eprog parse_event(int endtok ) 
{ 
  int tmp ;
  Eprog tmp___0 ;

  {
  {
#line 566
  tok = (enum lextok )37;
#line 567
  incmdpos = 1;
#line 568
  aliasspaceflag = 0;
#line 569
  zshlex();
#line 570
  init_parse();
#line 572
  tmp = par_event(endtok);
  }
#line 572
  if (! tmp) {
    {
#line 573
    clear_hdocs();
    }
#line 574
    return ((Eprog )((void *)0));
  }
#line 576
  if (endtok != 37) {
#line 578
    return (& dummy_eprog);
  }
  {
#line 580
  tmp___0 = bld_eprog(1);
  }
#line 580
  return (tmp___0);
}
}
#line 584 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
int par_event(int endtok ) 
{ 
  int r ;
  int p ;
  int c ;
  int tmp ;
  int oec ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 587
  r = 0;
#line 587
  c = 0;
  {
#line 589
  while (1) {
    while_continue: /* CIL Label */ ;
#line 589
    if (! ((unsigned int )tok == 1U)) {
#line 589
      goto while_break;
    }
#line 590
    if (isnewlin > 0) {
#line 590
      if (endtok == 37) {
#line 591
        return (0);
      }
    }
    {
#line 592
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 594
  if ((unsigned int )tok == 37U) {
#line 595
    return (0);
  }
#line 596
  if ((unsigned int )tok == (unsigned int )endtok) {
#line 597
    return (1);
  }
  {
#line 599
  p = ecadd((wordcode )0);
#line 601
  tmp = par_sublist(& c);
  }
#line 601
  if (tmp) {
#line 602
    if ((unsigned int )tok == 37U) {
      {
#line 603
      set_list_code(p, 1 << 1, c);
#line 604
      r = 1;
      }
    } else
#line 602
    if ((unsigned int )tok == (unsigned int )endtok) {
      {
#line 603
      set_list_code(p, 1 << 1, c);
#line 604
      r = 1;
      }
    } else
#line 605
    if ((unsigned int )tok == 1U) {
      {
#line 606
      set_list_code(p, 1 << 1, c);
      }
#line 607
      if (isnewlin <= 0) {
        {
#line 608
        zshlex();
        }
      } else
#line 607
      if (endtok != 37) {
        {
#line 608
        zshlex();
        }
      }
#line 609
      r = 1;
    } else
#line 610
    if ((unsigned int )tok == 5U) {
      {
#line 611
      set_list_code(p, 1 << 2, c);
#line 612
      zshlex();
#line 613
      r = 1;
      }
    } else
#line 614
    if ((unsigned int )tok == 30U) {
      {
#line 615
      set_list_code(p, (1 << 2) | (1 << 3), c);
#line 616
      zshlex();
#line 617
      r = 1;
      }
    }
  }
#line 620
  if (! r) {
#line 621
    tok = (enum lextok )38;
#line 622
    if (errflag) {
      {
#line 623
      yyerror(0);
#line 624
      ecused --;
      }
#line 625
      return (0);
    }
    {
#line 627
    yyerror(1);
#line 628
    herrflush();
    }
#line 629
    if (noerrs != 2) {
#line 630
      errflag |= 1;
    }
#line 631
    ecused --;
#line 632
    return (0);
  } else {
    {
#line 634
    oec = ecused;
#line 636
    tmp___1 = par_event(endtok);
    }
#line 636
    if (! tmp___1) {
#line 637
      ecused = oec;
#line 638
      *(ecbuf + p) |= (unsigned int )((1 << 4) << 5);
#line 639
      if (errflag) {
#line 639
        tmp___0 = 0;
      } else {
#line 639
        tmp___0 = 1;
      }
#line 639
      return (tmp___0);
    }
  }
#line 642
  return (1);
}
}
#line 646 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
Eprog parse_list(void) 
{ 
  int c ;
  Eprog tmp ;

  {
  {
#line 649
  c = 0;
#line 651
  tok = (enum lextok )37;
#line 652
  init_parse();
#line 653
  zshlex();
#line 654
  par_list(& c);
  }
#line 655
  if ((unsigned int )tok != 37U) {
    {
#line 656
    clear_hdocs();
#line 657
    tok = (enum lextok )38;
#line 658
    yyerror(0);
    }
#line 659
    return ((Eprog )((void *)0));
  }
  {
#line 661
  tmp = bld_eprog(1);
  }
#line 661
  return (tmp);
}
}
#line 671 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
Eprog parse_cond(void) 
{ 
  int tmp ;
  Eprog tmp___0 ;

  {
  {
#line 674
  init_parse();
#line 676
  tmp = par_cond();
  }
#line 676
  if (! tmp) {
    {
#line 677
    clear_hdocs();
    }
#line 678
    return ((Eprog )((void *)0));
  }
  {
#line 680
  tmp___0 = bld_eprog(1);
  }
#line 680
  return (tmp___0);
}
}
#line 687 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void set_list_code(int p , int type___0 , int cmplx ) 
{ 
  int ispipe ;

  {
#line 690
  if (! cmplx) {
#line 690
    if (type___0 == 1 << 1) {
#line 690
      goto _L;
    } else
#line 690
    if (type___0 == ((1 << 1) | (1 << 4))) {
      _L: /* CIL Label */ 
#line 690
      if (((*(ecbuf + (p + 1)) >> 5) & 3U) == 0U) {
        {
#line 692
        ispipe = ! (((*(ecbuf + (p + 1)) >> 5) & 28U) & 16U);
#line 693
        *(ecbuf + p) = 1U | ((wordcode )((type___0 | (1 << 5)) | (((ecused - 2) - p) << 6)) << 5);
#line 694
        ecdel(p + 1);
        }
#line 695
        if (ispipe) {
#line 696
          *(ecbuf + (p + 1)) = (*(ecbuf + (p + 1)) >> 5) >> 1;
        }
      } else {
#line 698
        *(ecbuf + p) = 1U | ((wordcode )type___0 << 5);
      }
    } else {
#line 698
      *(ecbuf + p) = 1U | ((wordcode )type___0 << 5);
    }
  } else {
#line 698
    *(ecbuf + p) = 1U | ((wordcode )type___0 << 5);
  }
#line 699
  return;
}
}
#line 704 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void set_sublist_code(int p , int type___0 , int flags , int skip , int cmplx ) 
{ 


  {
#line 707
  if (cmplx) {
#line 708
    *(ecbuf + p) = 2U | ((wordcode )((type___0 | flags) | (skip << 5)) << 5);
  } else {
#line 710
    *(ecbuf + p) = 2U | ((wordcode )((type___0 | (flags | 16)) | (skip << 5)) << 5);
#line 711
    *(ecbuf + (p + 1)) = (*(ecbuf + (p + 1)) >> 5) >> 1;
  }
#line 713
  return;
}
}
#line 720 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_list(int *cmplx ) 
{ 
  int p ;
  int lp ;
  int c ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 723
  lp = -1;
  rec: 
  {
#line 727
  while (1) {
    while_continue: /* CIL Label */ ;
#line 727
    if (! ((unsigned int )tok == 1U)) {
#line 727
      goto while_break;
    }
    {
#line 728
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 730
  p = ecadd((wordcode )0);
#line 731
  c = 0;
#line 733
  tmp___1 = par_sublist(& c);
  }
#line 733
  if (tmp___1) {
#line 734
    *cmplx |= c;
#line 735
    if ((unsigned int )tok == 1U) {
#line 735
      goto _L;
    } else
#line 735
    if ((unsigned int )tok == 5U) {
#line 735
      goto _L;
    } else
#line 735
    if ((unsigned int )tok == 30U) {
      _L: /* CIL Label */ 
#line 736
      if ((unsigned int )tok != 1U) {
#line 737
        *cmplx = 1;
      }
#line 738
      if ((unsigned int )tok == 1U) {
#line 738
        tmp___0 = 1 << 1;
      } else {
#line 738
        if ((unsigned int )tok == 5U) {
#line 738
          tmp = 1 << 2;
        } else {
#line 738
          tmp = (1 << 2) | (1 << 3);
        }
#line 738
        tmp___0 = tmp;
      }
      {
#line 738
      set_list_code(p, tmp___0, c);
#line 741
      incmdpos = 1;
      }
      {
#line 742
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 743
        zshlex();
        }
#line 742
        if (! ((unsigned int )tok == 1U)) {
#line 742
          goto while_break___0;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 745
      lp = p;
#line 746
      goto rec;
    } else {
      {
#line 748
      set_list_code(p, (1 << 1) | (1 << 4), c);
      }
    }
  } else {
#line 750
    ecused --;
#line 751
    if (lp >= 0) {
#line 752
      *(ecbuf + lp) |= (unsigned int )((1 << 4) << 5);
    }
  }
#line 754
  return;
}
}
#line 757 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_list1(int *cmplx ) 
{ 
  int p ;
  int tmp ;
  int c ;
  int tmp___0 ;

  {
  {
#line 760
  tmp = ecadd((wordcode )0);
#line 760
  p = tmp;
#line 760
  c = 0;
#line 762
  tmp___0 = par_sublist(& c);
  }
#line 762
  if (tmp___0) {
    {
#line 763
    set_list_code(p, (1 << 1) | (1 << 4), c);
#line 764
    *cmplx |= c;
    }
  } else {
#line 766
    ecused --;
  }
#line 767
  return;
}
}
#line 774 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_sublist(int *cmplx ) 
{ 
  int f ;
  int p ;
  int c ;
  int e ;
  enum lextok qtok ;
  int sl ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 777
  c = 0;
#line 779
  p = ecadd((wordcode )0);
#line 781
  f = par_sublist2(& c);
  }
#line 781
  if (f != -1) {
#line 782
    e = ecused;
#line 784
    *cmplx |= c;
#line 785
    if ((unsigned int )tok == 8U) {
#line 785
      goto _L;
    } else
#line 785
    if ((unsigned int )tok == 9U) {
      _L: /* CIL Label */ 
#line 786
      qtok = tok;
#line 789
      if ((unsigned int )tok == 8U) {
#line 789
        tmp = 11;
      } else {
#line 789
        tmp = 12;
      }
      {
#line 789
      cmdpush(tmp);
#line 790
      zshlex();
      }
      {
#line 791
      while (1) {
        while_continue: /* CIL Label */ ;
#line 791
        if (! ((unsigned int )tok == 1U)) {
#line 791
          goto while_break;
        }
        {
#line 792
        zshlex();
        }
      }
      while_break: /* CIL Label */ ;
      }
      {
#line 793
      sl = par_sublist(cmplx);
      }
#line 794
      if (sl) {
#line 794
        if ((unsigned int )qtok == 8U) {
#line 794
          tmp___0 = 2;
        } else {
#line 794
          tmp___0 = 1;
        }
#line 794
        tmp___1 = tmp___0;
      } else {
#line 794
        tmp___1 = 0;
      }
      {
#line 794
      set_sublist_code(p, tmp___1, f, (e - 1) - p, c);
#line 798
      cmdpop();
      }
    } else {
      {
#line 800
      set_sublist_code(p, 0, f, (e - 1) - p, c);
      }
    }
#line 801
    return (1);
  } else {
#line 803
    ecused --;
#line 804
    return (0);
  }
}
}
#line 813 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_sublist2(int *cmplx ) 
{ 
  int f ;
  int tmp ;

  {
#line 816
  f = 0;
#line 818
  if ((unsigned int )tok == 44U) {
    {
#line 819
    *cmplx = 1;
#line 820
    f |= 4;
#line 821
    zshlex();
    }
  } else
#line 822
  if ((unsigned int )tok == 39U) {
    {
#line 823
    *cmplx = 1;
#line 824
    f |= 8;
#line 825
    zshlex();
    }
  }
  {
#line 827
  tmp = par_pline(cmplx);
  }
#line 827
  if (! tmp) {
#line 827
    if (! f) {
#line 828
      return (-1);
    }
  }
#line 830
  return (f);
}
}
#line 838 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_pline(int *cmplx ) 
{ 
  int p ;
  zlong line ;
  int tmp ;
  zlong tmp___0 ;
  int tmp___1 ;
  int r ;
  int tmp___2 ;
  int tmp___3 ;
  zlong tmp___4 ;
  int tmp___5 ;
  zlong tmp___6 ;
  char *__cil_tmp13 ;

  {
  {
#line 842
  line = toklineno;
#line 844
  p = ecadd((wordcode )0);
#line 846
  tmp = par_cmd(cmplx, 0);
  }
#line 846
  if (! tmp) {
#line 847
    ecused --;
#line 848
    return (0);
  }
#line 850
  if ((unsigned int )tok == 25U) {
    {
#line 851
    *cmplx = 1;
#line 852
    cmdpush(13);
#line 853
    zshlex();
    }
    {
#line 854
    while (1) {
      while_continue: /* CIL Label */ ;
#line 854
      if (! ((unsigned int )tok == 1U)) {
#line 854
        goto while_break;
      }
      {
#line 855
      zshlex();
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 856
    if (line >= 0L) {
#line 856
      tmp___0 = line + 1L;
    } else {
#line 856
      tmp___0 = (zlong )0;
    }
    {
#line 856
    *(ecbuf + p) = 3U | ((wordcode )(1L | (tmp___0 << 1)) << 5);
#line 857
    ecispace(p + 1, 1);
#line 858
    *(ecbuf + (p + 1)) = (wordcode )((ecused - 1) - p);
#line 859
    tmp___1 = par_pline(cmplx);
    }
#line 859
    if (! tmp___1) {
#line 860
      tok = (enum lextok )38;
    }
    {
#line 862
    cmdpop();
    }
#line 863
    return (1);
  } else
#line 864
  if ((unsigned int )tok == 26U) {
#line 867
    r = p + 1;
    {
#line 867
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 867
      if (! ((*(ecbuf + r) & (wordcode )((1 << 5) - 1)) == 4U)) {
#line 867
        goto while_break___0;
      }
#line 867
      if ((int )((*(ecbuf + r) >> 5) & 32U)) {
#line 867
        tmp___2 = 4;
      } else {
#line 867
        tmp___2 = 3;
      }
#line 867
      if ((int )((*(ecbuf + r) >> 5) & 64U)) {
#line 867
        tmp___3 = 2;
      } else {
#line 867
        tmp___3 = 0;
      }
#line 867
      r += tmp___2 + tmp___3;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 870
    ecispace(r, 3);
#line 871
    *(ecbuf + r) = 4U | (14U << 5);
#line 872
    *(ecbuf + (r + 1)) = (wordcode )2;
#line 873
    *(ecbuf + (r + 2)) = ecstrcode((char *)"1");
#line 875
    *cmplx = 1;
#line 876
    cmdpush(14);
#line 877
    zshlex();
    }
    {
#line 878
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 878
      if (! ((unsigned int )tok == 1U)) {
#line 878
        goto while_break___1;
      }
      {
#line 879
      zshlex();
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 880
    if (line >= 0L) {
#line 880
      tmp___4 = line + 1L;
    } else {
#line 880
      tmp___4 = (zlong )0;
    }
    {
#line 880
    *(ecbuf + p) = 3U | ((wordcode )(1L | (tmp___4 << 1)) << 5);
#line 881
    ecispace(p + 1, 1);
#line 882
    *(ecbuf + (p + 1)) = (wordcode )((ecused - 1) - p);
#line 883
    tmp___5 = par_pline(cmplx);
    }
#line 883
    if (! tmp___5) {
#line 884
      tok = (enum lextok )38;
    }
    {
#line 886
    cmdpop();
    }
#line 887
    return (1);
  } else {
#line 889
    if (line >= 0L) {
#line 889
      tmp___6 = line + 1L;
    } else {
#line 889
      tmp___6 = (zlong )0;
    }
#line 889
    *(ecbuf + p) = 3U | ((wordcode )(tmp___6 << 1) << 5);
#line 890
    return (1);
  }
}
}
#line 983 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int inpartime  =    0;
#line 902 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_cmd(int *cmplx , int zsh_construct ) 
{ 
  int r ;
  int nr ;
  int tmp ;
  wordcode tmp___0 ;
  int sr ;

  {
#line 905
  nr = 0;
#line 907
  r = ecused;
#line 909
  if ((unsigned int )tok >= 10U) {
#line 909
    if ((unsigned int )tok <= 24U) {
#line 910
      *cmplx = 1;
      {
#line 911
      while (1) {
        while_continue: /* CIL Label */ ;
#line 911
        if ((unsigned int )tok >= 10U) {
#line 911
          if (! ((unsigned int )tok <= 24U)) {
#line 911
            goto while_break;
          }
        } else {
#line 911
          goto while_break;
        }
        {
#line 912
        tmp = par_redir(& r, (char *)((void *)0));
#line 912
        nr += tmp;
        }
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
  {
#line 916
  if ((unsigned int )tok == 52U) {
#line 916
    goto case_52;
  }
#line 921
  if ((unsigned int )tok == 53U) {
#line 921
    goto case_53;
  }
#line 926
  if ((unsigned int )tok == 58U) {
#line 926
    goto case_58;
  }
#line 932
  if ((unsigned int )tok == 43U) {
#line 932
    goto case_43;
  }
#line 937
  if ((unsigned int )tok == 55U) {
#line 937
    goto case_55;
  }
#line 940
  if ((unsigned int )tok == 62U) {
#line 940
    goto case_62;
  }
#line 945
  if ((unsigned int )tok == 61U) {
#line 945
    goto case_61;
  }
#line 950
  if ((unsigned int )tok == 57U) {
#line 950
    goto case_57;
  }
#line 955
  if ((unsigned int )tok == 6U) {
#line 955
    goto case_6;
  }
#line 961
  if ((unsigned int )tok == 41U) {
#line 961
    goto case_41;
  }
#line 966
  if ((unsigned int )tok == 54U) {
#line 966
    goto case_54;
  }
#line 971
  if ((unsigned int )tok == 40U) {
#line 971
    goto case_40;
  }
#line 976
  if ((unsigned int )tok == 28U) {
#line 976
    goto case_28;
  }
#line 981
  if ((unsigned int )tok == 60U) {
#line 981
    goto case_60;
  }
#line 995
  goto switch_default;
  case_52: /* CIL Label */ 
  {
#line 917
  cmdpush(0);
#line 918
  par_for(cmplx);
#line 919
  cmdpop();
  }
#line 920
  goto switch_break;
  case_53: /* CIL Label */ 
  {
#line 922
  cmdpush(15);
#line 923
  par_for(cmplx);
#line 924
  cmdpop();
  }
#line 925
  goto switch_break;
  case_58: /* CIL Label */ 
  {
#line 927
  *cmplx = 1;
#line 928
  cmdpush(3);
#line 929
  par_for(cmplx);
#line 930
  cmdpop();
  }
#line 931
  goto switch_break;
  case_43: /* CIL Label */ 
  {
#line 933
  cmdpush(16);
#line 934
  par_case(cmplx);
#line 935
  cmdpop();
  }
#line 936
  goto switch_break;
  case_55: /* CIL Label */ 
  {
#line 938
  par_if(cmplx);
  }
#line 939
  goto switch_break;
  case_62: /* CIL Label */ 
  {
#line 941
  cmdpush(1);
#line 942
  par_while(cmplx);
#line 943
  cmdpop();
  }
#line 944
  goto switch_break;
  case_61: /* CIL Label */ 
  {
#line 946
  cmdpush(4);
#line 947
  par_while(cmplx);
#line 948
  cmdpop();
  }
#line 949
  goto switch_break;
  case_57: /* CIL Label */ 
  {
#line 951
  cmdpush(2);
#line 952
  par_repeat(cmplx);
#line 953
  cmdpop();
  }
#line 954
  goto switch_break;
  case_6: /* CIL Label */ 
  {
#line 956
  *cmplx = 1;
#line 957
  cmdpush(18);
#line 958
  par_subsh(cmplx, zsh_construct);
#line 959
  cmdpop();
  }
#line 960
  goto switch_break;
  case_41: /* CIL Label */ 
  {
#line 962
  cmdpush(19);
#line 963
  par_subsh(cmplx, zsh_construct);
#line 964
  cmdpop();
  }
#line 965
  goto switch_break;
  case_54: /* CIL Label */ 
  {
#line 967
  cmdpush(17);
#line 968
  par_funcdef(cmplx);
#line 969
  cmdpop();
  }
#line 970
  goto switch_break;
  case_40: /* CIL Label */ 
  {
#line 972
  cmdpush(10);
#line 973
  par_dinbrack();
#line 974
  cmdpop();
  }
#line 975
  goto switch_break;
  case_28: /* CIL Label */ 
  {
#line 977
  ecadd(19U);
#line 978
  tmp___0 = ecstrcode(tokstr);
#line 978
  ecadd(tmp___0);
#line 979
  zshlex();
  }
#line 980
  goto switch_break;
  case_60: /* CIL Label */ 
#line 985
  if (! inpartime) {
    {
#line 986
    *cmplx = 1;
#line 987
    inpartime = 1;
#line 988
    par_time();
#line 989
    inpartime = 0;
    }
#line 990
    goto switch_break;
  }
#line 993
  tok = (enum lextok )34;
  switch_default: /* CIL Label */ 
  {
#line 999
  sr = par_simple(cmplx, nr);
  }
#line 999
  if (sr) {
#line 1004
    if (sr > 1) {
#line 1005
      *cmplx = 1;
#line 1006
      r += sr - 1;
    }
  } else
#line 1000
  if (! nr) {
#line 1001
    return (0);
  }
#line 1010
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 1012
  if ((unsigned int )tok >= 10U) {
#line 1012
    if ((unsigned int )tok <= 24U) {
#line 1013
      *cmplx = 1;
      {
#line 1014
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 1014
        if ((unsigned int )tok >= 10U) {
#line 1014
          if (! ((unsigned int )tok <= 24U)) {
#line 1014
            goto while_break___0;
          }
        } else {
#line 1014
          goto while_break___0;
        }
        {
#line 1015
        par_redir(& r, (char *)((void *)0));
        }
      }
      while_break___0: /* CIL Label */ ;
      }
    }
  }
#line 1017
  incmdpos = 1;
#line 1018
  incasepat = 0;
#line 1019
  incond = 0;
#line 1020
  intypeset = 0;
#line 1021
  return (1);
}
}
#line 1031 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_for(int *cmplx ) 
{ 
  int oecused ;
  int csh ;
  int p ;
  int sel ;
  int type___0 ;
  wordcode tmp ;
  wordcode tmp___0 ;
  wordcode tmp___1 ;
  int np ;
  int n ;
  int posix_in ;
  int ona ;
  int onc ;
  int tmp___2 ;
  wordcode tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int eu ;
  int eu___0 ;
  int eu___1 ;
  int eu___2 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
  {
#line 1034
  oecused = ecused;
#line 1034
  csh = (unsigned int )tok == 53U;
#line 1034
  sel = (unsigned int )tok == 58U;
#line 1037
  p = ecadd((wordcode )0);
#line 1039
  incmdpos = 0;
  }
#line 1040
  if ((unsigned int )tok == 52U) {
#line 1040
    infor = 2;
  } else {
#line 1040
    infor = 0;
  }
  {
#line 1041
  zshlex();
  }
#line 1042
  if ((unsigned int )tok == 28U) {
    {
#line 1043
    zshlex();
    }
#line 1044
    if ((unsigned int )tok != 28U) {
#line 1045
      tok = (enum lextok )38;
#line 1045
      ecused = oecused;
#line 1045
      return;
    }
    {
#line 1046
    tmp = ecstrcode(tokstr);
#line 1046
    ecadd(tmp);
#line 1047
    zshlex();
    }
#line 1048
    if ((unsigned int )tok != 28U) {
#line 1049
      tok = (enum lextok )38;
#line 1049
      ecused = oecused;
#line 1049
      return;
    }
    {
#line 1050
    tmp___0 = ecstrcode(tokstr);
#line 1050
    ecadd(tmp___0);
#line 1051
    zshlex();
    }
#line 1052
    if ((unsigned int )tok != 29U) {
#line 1053
      tok = (enum lextok )38;
#line 1053
      ecused = oecused;
#line 1053
      return;
    }
    {
#line 1054
    tmp___1 = ecstrcode(tokstr);
#line 1054
    ecadd(tmp___1);
#line 1055
    infor = 0;
#line 1056
    incmdpos = 1;
#line 1057
    zshlex();
#line 1058
    type___0 = 2;
    }
  } else {
#line 1060
    np = 0;
#line 1060
    ona = noaliases;
#line 1060
    onc = nocorrect;
#line 1061
    infor = 0;
#line 1062
    if ((unsigned int )tok != 34U) {
#line 1063
      tok = (enum lextok )38;
#line 1063
      ecused = oecused;
#line 1063
      return;
    } else {
      {
#line 1062
      tmp___2 = isident(tokstr);
      }
#line 1062
      if (! tmp___2) {
#line 1063
        tok = (enum lextok )38;
#line 1063
        ecused = oecused;
#line 1063
        return;
      }
    }
#line 1064
    if (! sel) {
      {
#line 1065
      np = ecadd((wordcode )0);
      }
    }
#line 1066
    n = 0;
#line 1067
    incmdpos = 1;
#line 1068
    nocorrect = 1;
#line 1068
    noaliases = nocorrect;
    {
#line 1069
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 1070
      n ++;
#line 1071
      tmp___3 = ecstrcode(tokstr);
#line 1071
      ecadd(tmp___3);
#line 1072
      zshlex();
      }
#line 1073
      if ((unsigned int )tok != 34U) {
#line 1074
        goto while_break;
      } else {
        {
#line 1073
        tmp___4 = strcmp((char const   *)tokstr, "in");
        }
#line 1073
        if (tmp___4) {
#line 1073
          if (sel) {
#line 1074
            goto while_break;
          }
        } else {
#line 1074
          goto while_break;
        }
      }
      {
#line 1075
      tmp___5 = isident(tokstr);
      }
#line 1075
      if (tmp___5) {
#line 1075
        if (errflag) {
#line 1077
          noaliases = ona;
#line 1078
          nocorrect = onc;
#line 1079
          tok = (enum lextok )38;
#line 1079
          ecused = oecused;
#line 1079
          return;
        }
      } else {
#line 1077
        noaliases = ona;
#line 1078
        nocorrect = onc;
#line 1079
        tok = (enum lextok )38;
#line 1079
        ecused = oecused;
#line 1079
        return;
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 1082
    noaliases = ona;
#line 1083
    nocorrect = onc;
#line 1084
    if (! sel) {
#line 1085
      *(ecbuf + np) = (wordcode )n;
    }
#line 1086
    posix_in = isnewlin;
    {
#line 1087
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1087
      if (! isnewlin) {
#line 1087
        goto while_break___0;
      }
      {
#line 1088
      zshlex();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1089
    if ((unsigned int )tok == 34U) {
      {
#line 1089
      tmp___6 = strcmp((char const   *)tokstr, "in");
      }
#line 1089
      if (tmp___6) {
#line 1089
        goto _L___0;
      } else {
        {
#line 1090
        incmdpos = 0;
#line 1091
        zshlex();
#line 1092
        np = ecadd((wordcode )0);
#line 1093
        n = par_wordlist();
        }
#line 1094
        if ((unsigned int )tok != 1U) {
#line 1095
          tok = (enum lextok )38;
#line 1095
          ecused = oecused;
#line 1095
          return;
        }
#line 1096
        *(ecbuf + np) = (wordcode )n;
#line 1097
        if (sel) {
#line 1097
          type___0 = 1;
        } else {
#line 1097
          type___0 = 1;
        }
      }
    } else
    _L___0: /* CIL Label */ 
#line 1098
    if (! posix_in) {
#line 1098
      if ((unsigned int )tok == 6U) {
        {
#line 1099
        incmdpos = 0;
#line 1100
        zshlex();
#line 1101
        np = ecadd((wordcode )0);
#line 1102
        n = par_nl_wordlist();
        }
#line 1103
        if ((unsigned int )tok != 7U) {
#line 1104
          tok = (enum lextok )38;
#line 1104
          ecused = oecused;
#line 1104
          return;
        }
        {
#line 1105
        *(ecbuf + np) = (wordcode )n;
#line 1106
        incmdpos = 1;
#line 1107
        zshlex();
        }
#line 1108
        if (sel) {
#line 1108
          type___0 = 1;
        } else {
#line 1108
          type___0 = 1;
        }
      } else {
#line 1098
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 1110
    if (sel) {
#line 1110
      type___0 = 0;
    } else {
#line 1110
      type___0 = 0;
    }
  }
#line 1112
  incmdpos = 1;
  {
#line 1113
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 1113
    if (! ((unsigned int )tok == 1U)) {
#line 1113
      goto while_break___1;
    }
    {
#line 1114
    zshlex();
    }
  }
  while_break___1: /* CIL Label */ ;
  }
#line 1115
  if ((unsigned int )tok == 45U) {
    {
#line 1116
    zshlex();
    }
    {
#line 1117
    while (1) {
      while_continue___2: /* CIL Label */ ;
      {
#line 1117
      eu = ecused;
#line 1117
      par_list(cmplx);
      }
#line 1117
      if (eu == ecused) {
        {
#line 1117
        ecadd(0U);
        }
      }
#line 1117
      goto while_break___2;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 1118
    if ((unsigned int )tok != 46U) {
#line 1119
      tok = (enum lextok )38;
#line 1119
      ecused = oecused;
#line 1119
      return;
    }
    {
#line 1120
    incmdpos = 0;
#line 1121
    zshlex();
    }
  } else
#line 1122
  if ((unsigned int )tok == 41U) {
    {
#line 1123
    zshlex();
    }
    {
#line 1124
    while (1) {
      while_continue___3: /* CIL Label */ ;
      {
#line 1124
      eu___0 = ecused;
#line 1124
      par_list(cmplx);
      }
#line 1124
      if (eu___0 == ecused) {
        {
#line 1124
        ecadd(0U);
        }
      }
#line 1124
      goto while_break___3;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 1125
    if ((unsigned int )tok != 42U) {
#line 1126
      tok = (enum lextok )38;
#line 1126
      ecused = oecused;
#line 1126
      return;
    }
    {
#line 1127
    incmdpos = 0;
#line 1128
    zshlex();
    }
  } else
#line 1129
  if (csh) {
#line 1129
    goto _L___1;
  } else
#line 1129
  if (opts[42]) {
    _L___1: /* CIL Label */ 
    {
#line 1130
    while (1) {
      while_continue___4: /* CIL Label */ ;
      {
#line 1130
      eu___1 = ecused;
#line 1130
      par_list(cmplx);
      }
#line 1130
      if (eu___1 == ecused) {
        {
#line 1130
        ecadd(0U);
        }
      }
#line 1130
      goto while_break___4;
    }
    while_break___4: /* CIL Label */ ;
    }
#line 1131
    if ((unsigned int )tok != 49U) {
#line 1132
      tok = (enum lextok )38;
#line 1132
      ecused = oecused;
#line 1132
      return;
    }
    {
#line 1133
    incmdpos = 0;
#line 1134
    zshlex();
    }
  } else
#line 1135
  if (! opts[162]) {
#line 1136
    tok = (enum lextok )38;
#line 1136
    ecused = oecused;
#line 1136
    return;
  } else {
    {
#line 1138
    while (1) {
      while_continue___5: /* CIL Label */ ;
      {
#line 1138
      eu___2 = ecused;
#line 1138
      par_list1(cmplx);
      }
#line 1138
      if (eu___2 == ecused) {
        {
#line 1138
        ecadd(0U);
        }
      }
#line 1138
      goto while_break___5;
    }
    while_break___5: /* CIL Label */ ;
    }
  }
#line 1140
  if (sel) {
#line 1140
    *(ecbuf + p) = 13U | ((wordcode )(type___0 | (((ecused - 1) - p) << 1)) << 5);
  } else {
#line 1140
    *(ecbuf + p) = 12U | ((wordcode )(type___0 | (((ecused - 1) - p) << 2)) << 5);
  }
#line 1143
  return;
}
}
#line 1153 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_case(int *cmplx ) 
{ 
  int oecused ;
  int brflag ;
  int p ;
  int pp ;
  int palts ;
  int type___0 ;
  int nalts ;
  int ona ;
  int onc ;
  wordcode tmp ;
  int tmp___0 ;
  char *str ;
  int tmp___1 ;
  wordcode tmp___2 ;
  int tmp___3 ;
  wordcode tmp___4 ;
  int tmp___5 ;
  int pct ;
  int sl ;
  char *s ;
  size_t tmp___6 ;
  wordcode tmp___7 ;
  int tmp___8 ;
  int eu ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;

  {
  {
#line 1156
  oecused = ecused;
#line 1159
  p = ecadd((wordcode )0);
#line 1161
  incmdpos = 0;
#line 1162
  zshlex();
  }
#line 1163
  if ((unsigned int )tok != 34U) {
#line 1164
    tok = (enum lextok )38;
#line 1164
    ecused = oecused;
#line 1164
    return;
  }
  {
#line 1165
  tmp = ecstrcode(tokstr);
#line 1165
  ecadd(tmp);
#line 1167
  incmdpos = 1;
#line 1168
  ona = noaliases;
#line 1169
  onc = nocorrect;
#line 1170
  nocorrect = 1;
#line 1170
  noaliases = nocorrect;
#line 1171
  zshlex();
  }
  {
#line 1172
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1172
    if (! ((unsigned int )tok == 1U)) {
#line 1172
      goto while_break;
    }
    {
#line 1173
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1174
  if ((unsigned int )tok == 34U) {
    {
#line 1174
    tmp___0 = strcmp((char const   *)tokstr, "in");
    }
#line 1174
    if (tmp___0) {
#line 1174
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 1174
  if ((unsigned int )tok != 41U) {
#line 1176
    noaliases = ona;
#line 1177
    nocorrect = onc;
#line 1178
    tok = (enum lextok )38;
#line 1178
    ecused = oecused;
#line 1178
    return;
  }
  {
#line 1180
  brflag = (unsigned int )tok == 41U;
#line 1181
  incasepat = 1;
#line 1182
  incmdpos = 0;
#line 1183
  noaliases = ona;
#line 1184
  nocorrect = onc;
#line 1185
  zshlex();
  }
  {
#line 1187
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 1190
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 1190
      if (! ((unsigned int )tok == 1U)) {
#line 1190
        goto while_break___1;
      }
      {
#line 1191
      zshlex();
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 1192
    if ((unsigned int )tok == 42U) {
#line 1193
      goto while_break___0;
    }
#line 1194
    if ((unsigned int )tok == 6U) {
      {
#line 1195
      zshlex();
      }
    }
#line 1196
    if ((unsigned int )tok != 34U) {
#line 1197
      tok = (enum lextok )38;
#line 1197
      ecused = oecused;
#line 1197
      return;
    }
    {
#line 1198
    tmp___1 = strcmp((char const   *)tokstr, "esac");
    }
#line 1198
    if (! tmp___1) {
#line 1199
      goto while_break___0;
    }
    {
#line 1200
    str = dupstring((char const   *)tokstr);
#line 1201
    type___0 = 1;
#line 1202
    pp = ecadd((wordcode )0);
#line 1203
    palts = ecadd((wordcode )0);
#line 1204
    nalts = 0;
#line 1238
    incasepat = 0;
#line 1239
    incmdpos = 1;
    }
    {
#line 1240
    while (1) {
      while_continue___2: /* CIL Label */ ;
      {
#line 1241
      zshlex();
      }
#line 1242
      if ((unsigned int )tok == 7U) {
        {
#line 1243
        tmp___2 = ecstrcode(str);
#line 1243
        ecadd(tmp___2);
#line 1244
        tmp___3 = ecnpats;
#line 1244
        ecnpats ++;
#line 1244
        ecadd((wordcode )tmp___3);
#line 1245
        nalts ++;
#line 1247
        incasepat = 0;
#line 1248
        incmdpos = 1;
#line 1249
        zshlex();
        }
#line 1250
        goto while_break___2;
      } else
#line 1251
      if ((unsigned int )tok == 25U) {
        {
#line 1252
        tmp___4 = ecstrcode(str);
#line 1252
        ecadd(tmp___4);
#line 1253
        tmp___5 = ecnpats;
#line 1253
        ecnpats ++;
#line 1253
        ecadd((wordcode )tmp___5);
#line 1254
        nalts ++;
#line 1256
        incasepat = 1;
#line 1257
        incmdpos = 0;
        }
      } else {
#line 1259
        if (! nalts) {
#line 1259
          if ((int )*(str + 0) == -120) {
#line 1260
            pct = 0;
#line 1263
            s = str;
            {
#line 1263
            while (1) {
              while_continue___3: /* CIL Label */ ;
#line 1263
              if (! *s) {
#line 1263
                goto while_break___3;
              }
#line 1264
              if ((int )*s == -120) {
#line 1265
                pct ++;
              }
#line 1266
              if (! pct) {
#line 1267
                goto while_break___3;
              }
#line 1268
              if (pct == 1) {
#line 1269
                if ((int )*s == -114) {
#line 1269
                  goto _L___0;
                } else
#line 1269
                if ((int )*s == -120) {
                  _L___0: /* CIL Label */ 
                  {
#line 1270
                  while (1) {
                    while_continue___4: /* CIL Label */ ;
#line 1270
                    if (! ((int )typtab[(unsigned char )*(s + 1)] & (1 << 2))) {
#line 1270
                      goto while_break___4;
                    }
                    {
#line 1271
                    chuck(s + 1);
                    }
                  }
                  while_break___4: /* CIL Label */ ;
                  }
                }
#line 1272
                if ((int )*s == -114) {
#line 1272
                  goto _L___1;
                } else
#line 1272
                if ((int )*s == -118) {
                  _L___1: /* CIL Label */ 
                  {
#line 1273
                  while (1) {
                    while_continue___5: /* CIL Label */ ;
#line 1273
                    if ((int )typtab[(unsigned char )*(s + -1)] & (1 << 2)) {
#line 1273
                      if (! ((unsigned long )s < (unsigned long )(str + 1))) {
#line 1273
                        if (! ((int )*(s + -2) != -125)) {
#line 1273
                          goto while_break___5;
                        }
                      }
                    } else {
#line 1273
                      goto while_break___5;
                    }
                    {
#line 1275
                    s --;
#line 1275
                    chuck(s);
                    }
                  }
                  while_break___5: /* CIL Label */ ;
                  }
                }
              }
#line 1277
              if ((int )*s == -118) {
#line 1278
                pct --;
              }
#line 1263
              s ++;
            }
            while_break___3: /* CIL Label */ ;
            }
#line 1280
            if (*s) {
#line 1281
              tok = (enum lextok )38;
#line 1281
              ecused = oecused;
#line 1281
              return;
            } else
#line 1280
            if (pct) {
#line 1281
              tok = (enum lextok )38;
#line 1281
              ecused = oecused;
#line 1281
              return;
            } else
#line 1280
            if ((unsigned long )s == (unsigned long )str) {
#line 1281
              tok = (enum lextok )38;
#line 1281
              ecused = oecused;
#line 1281
              return;
            }
            {
#line 1283
            tmp___6 = strlen((char const   *)str);
#line 1283
            sl = (int )tmp___6;
#line 1286
            *(str + (sl - 1)) = (char )'\000';
#line 1287
            chuck(str);
#line 1288
            tmp___7 = ecstrcode(str);
#line 1288
            ecadd(tmp___7);
#line 1289
            tmp___8 = ecnpats;
#line 1289
            ecnpats ++;
#line 1289
            ecadd((wordcode )tmp___8);
#line 1290
            nalts ++;
            }
#line 1291
            goto while_break___2;
          }
        }
#line 1293
        tok = (enum lextok )38;
#line 1293
        ecused = oecused;
#line 1293
        return;
      }
      {
#line 1296
      zshlex();
      }
#line 1297
      if ((unsigned int )tok != 34U) {
#line 1298
        tok = (enum lextok )38;
#line 1298
        ecused = oecused;
#line 1298
        return;
      }
      {
#line 1299
      str = dupstring((char const   *)tokstr);
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    {
#line 1301
    while (1) {
      while_continue___6: /* CIL Label */ ;
      {
#line 1301
      eu = ecused;
#line 1301
      par_list(cmplx);
      }
#line 1301
      if (eu == ecused) {
        {
#line 1301
        ecadd(0U);
        }
      }
#line 1301
      goto while_break___6;
    }
    while_break___6: /* CIL Label */ ;
    }
#line 1302
    if ((unsigned int )tok == 31U) {
#line 1303
      type___0 = 2;
    } else
#line 1304
    if ((unsigned int )tok == 32U) {
#line 1305
      type___0 = 3;
    }
#line 1306
    *(ecbuf + pp) = 16U | ((wordcode )(type___0 | (((ecused - 1) - pp) << 3)) << 5);
#line 1307
    *(ecbuf + palts) = (wordcode )nalts;
#line 1308
    if ((unsigned int )tok == 50U) {
#line 1308
      if (! brflag) {
#line 1309
        goto while_break___0;
      } else {
#line 1308
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 1308
    if ((unsigned int )tok == 42U) {
#line 1308
      if (brflag) {
#line 1309
        goto while_break___0;
      }
    }
#line 1310
    if ((unsigned int )tok != 4U) {
#line 1310
      if ((unsigned int )tok != 31U) {
#line 1310
        if ((unsigned int )tok != 32U) {
#line 1311
          tok = (enum lextok )38;
#line 1311
          ecused = oecused;
#line 1311
          return;
        }
      }
    }
    {
#line 1312
    incasepat = 1;
#line 1313
    incmdpos = 0;
#line 1314
    zshlex();
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 1316
  incmdpos = 1;
#line 1317
  incasepat = 0;
#line 1318
  zshlex();
#line 1320
  *(ecbuf + p) = 16U | ((wordcode )(((ecused - 1) - p) << 3) << 5);
  }
#line 1321
  return;
}
}
#line 1331 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_if(int *cmplx ) 
{ 
  int oecused ;
  int p ;
  int pp ;
  int type___0 ;
  int usebrace ;
  enum lextok xtok ;
  unsigned char nc ;
  int tmp ;
  int eu ;
  int eu___0 ;
  int eu___1 ;
  int eu___2 ;
  int eu___3 ;
  int eu___4 ;

  {
  {
#line 1334
  oecused = ecused;
#line 1334
  usebrace = 0;
#line 1338
  p = ecadd((wordcode )0);
  }
  {
#line 1340
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1341
    xtok = tok;
#line 1342
    if ((unsigned int )xtok == 55U) {
#line 1342
      tmp = 5;
    } else {
#line 1342
      tmp = 8;
    }
    {
#line 1342
    cmdpush(tmp);
    }
#line 1343
    if ((unsigned int )xtok == 51U) {
      {
#line 1344
      incmdpos = 0;
#line 1345
      zshlex();
      }
#line 1346
      goto while_break;
    }
    {
#line 1348
    zshlex();
    }
#line 1349
    if ((unsigned int )xtok == 48U) {
#line 1350
      goto while_break;
    }
    {
#line 1351
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1351
      if (! ((unsigned int )tok == 1U)) {
#line 1351
        goto while_break___0;
      }
      {
#line 1352
      zshlex();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1353
    if (! ((unsigned int )xtok == 55U)) {
#line 1353
      if (! ((unsigned int )xtok == 47U)) {
        {
#line 1354
        cmdpop();
#line 1355
        tok = (enum lextok )38;
#line 1355
        ecused = oecused;
        }
#line 1355
        return;
      }
    }
    {
#line 1357
    pp = ecadd((wordcode )0);
    }
#line 1358
    if ((unsigned int )xtok == 55U) {
#line 1358
      type___0 = 1;
    } else {
#line 1358
      type___0 = 2;
    }
    {
#line 1359
    while (1) {
      while_continue___1: /* CIL Label */ ;
      {
#line 1359
      eu = ecused;
#line 1359
      par_list(cmplx);
      }
#line 1359
      if (eu == ecused) {
        {
#line 1359
        ecadd(0U);
        }
      }
#line 1359
      goto while_break___1;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 1360
    incmdpos = 1;
#line 1361
    if ((unsigned int )tok == 37U) {
      {
#line 1362
      cmdpop();
#line 1363
      tok = (enum lextok )38;
#line 1363
      ecused = oecused;
      }
#line 1363
      return;
    }
    {
#line 1365
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1365
      if (! ((unsigned int )tok == 1U)) {
#line 1365
        goto while_break___2;
      }
      {
#line 1366
      zshlex();
      }
    }
    while_break___2: /* CIL Label */ ;
    }
#line 1367
    xtok = (enum lextok )51;
#line 1368
    if ((int )*(cmdstack + (cmdsp - 1)) == 5) {
#line 1368
      nc = (unsigned char)6;
    } else {
#line 1368
      nc = (unsigned char)26;
    }
#line 1369
    if ((unsigned int )tok == 59U) {
      {
#line 1370
      usebrace = 0;
#line 1371
      cmdpop();
#line 1372
      cmdpush((int )nc);
#line 1373
      zshlex();
      }
      {
#line 1374
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 1374
        eu___0 = ecused;
#line 1374
        par_list(cmplx);
        }
#line 1374
        if (eu___0 == ecused) {
          {
#line 1374
          ecadd(0U);
          }
        }
#line 1374
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
      {
#line 1375
      *(ecbuf + pp) = 17U | ((wordcode )(type___0 | (((ecused - 1) - pp) << 2)) << 5);
#line 1376
      incmdpos = 1;
#line 1377
      cmdpop();
      }
    } else
#line 1378
    if ((unsigned int )tok == 41U) {
      {
#line 1379
      usebrace = 1;
#line 1380
      cmdpop();
#line 1381
      cmdpush((int )nc);
#line 1382
      zshlex();
      }
      {
#line 1383
      while (1) {
        while_continue___4: /* CIL Label */ ;
        {
#line 1383
        eu___1 = ecused;
#line 1383
        par_list(cmplx);
        }
#line 1383
        if (eu___1 == ecused) {
          {
#line 1383
          ecadd(0U);
          }
        }
#line 1383
        goto while_break___4;
      }
      while_break___4: /* CIL Label */ ;
      }
#line 1384
      if ((unsigned int )tok != 42U) {
        {
#line 1385
        cmdpop();
#line 1386
        tok = (enum lextok )38;
#line 1386
        ecused = oecused;
        }
#line 1386
        return;
      }
      {
#line 1388
      *(ecbuf + pp) = 17U | ((wordcode )(type___0 | (((ecused - 1) - pp) << 2)) << 5);
#line 1390
      zshlex();
#line 1391
      incmdpos = 1;
      }
#line 1392
      if ((unsigned int )tok == 1U) {
#line 1393
        goto while_break;
      }
      {
#line 1394
      cmdpop();
      }
    } else
#line 1395
    if (! opts[162]) {
      {
#line 1396
      cmdpop();
#line 1397
      tok = (enum lextok )38;
#line 1397
      ecused = oecused;
      }
#line 1397
      return;
    } else {
      {
#line 1399
      cmdpop();
#line 1400
      cmdpush((int )nc);
      }
      {
#line 1401
      while (1) {
        while_continue___5: /* CIL Label */ ;
        {
#line 1401
        eu___2 = ecused;
#line 1401
        par_list1(cmplx);
        }
#line 1401
        if (eu___2 == ecused) {
          {
#line 1401
          ecadd(0U);
          }
        }
#line 1401
        goto while_break___5;
      }
      while_break___5: /* CIL Label */ ;
      }
#line 1402
      *(ecbuf + pp) = 17U | ((wordcode )(type___0 | (((ecused - 1) - pp) << 2)) << 5);
#line 1403
      incmdpos = 1;
#line 1404
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1407
  cmdpop();
  }
#line 1408
  if ((unsigned int )xtok == 48U) {
#line 1408
    goto _L___0;
  } else
#line 1408
  if ((unsigned int )tok == 48U) {
    _L___0: /* CIL Label */ 
    {
#line 1409
    pp = ecadd((wordcode )0);
#line 1410
    cmdpush(7);
    }
    {
#line 1411
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 1411
      if (! ((unsigned int )tok == 1U)) {
#line 1411
        goto while_break___6;
      }
      {
#line 1412
      zshlex();
      }
    }
    while_break___6: /* CIL Label */ ;
    }
#line 1413
    if ((unsigned int )tok == 41U) {
#line 1413
      if (usebrace) {
        {
#line 1414
        zshlex();
        }
        {
#line 1415
        while (1) {
          while_continue___7: /* CIL Label */ ;
          {
#line 1415
          eu___3 = ecused;
#line 1415
          par_list(cmplx);
          }
#line 1415
          if (eu___3 == ecused) {
            {
#line 1415
            ecadd(0U);
            }
          }
#line 1415
          goto while_break___7;
        }
        while_break___7: /* CIL Label */ ;
        }
#line 1416
        if ((unsigned int )tok != 42U) {
          {
#line 1417
          cmdpop();
#line 1418
          tok = (enum lextok )38;
#line 1418
          ecused = oecused;
          }
#line 1418
          return;
        }
      } else {
#line 1413
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      {
#line 1421
      while (1) {
        while_continue___8: /* CIL Label */ ;
        {
#line 1421
        eu___4 = ecused;
#line 1421
        par_list(cmplx);
        }
#line 1421
        if (eu___4 == ecused) {
          {
#line 1421
          ecadd(0U);
          }
        }
#line 1421
        goto while_break___8;
      }
      while_break___8: /* CIL Label */ ;
      }
#line 1422
      if ((unsigned int )tok != 51U) {
        {
#line 1423
        cmdpop();
#line 1424
        tok = (enum lextok )38;
#line 1424
        ecused = oecused;
        }
#line 1424
        return;
      }
    }
    {
#line 1427
    incmdpos = 0;
#line 1428
    *(ecbuf + pp) = 17U | ((wordcode )(3 | (((ecused - 1) - pp) << 2)) << 5);
#line 1429
    zshlex();
#line 1430
    cmdpop();
    }
  }
#line 1432
  *(ecbuf + p) = 17U | ((wordcode )(((ecused - 1) - p) << 2) << 5);
#line 1433
  return;
}
}
#line 1441 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_while(int *cmplx ) 
{ 
  int oecused ;
  int p ;
  int type___0 ;
  int tmp ;
  int eu ;
  int eu___0 ;
  int eu___1 ;
  int eu___2 ;

  {
#line 1444
  oecused = ecused;
#line 1445
  if ((unsigned int )tok == 61U) {
#line 1445
    tmp = 1;
  } else {
#line 1445
    tmp = 0;
  }
  {
#line 1445
  type___0 = tmp;
#line 1447
  p = ecadd((wordcode )0);
#line 1448
  zshlex();
  }
  {
#line 1449
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 1449
    eu = ecused;
#line 1449
    par_list(cmplx);
    }
#line 1449
    if (eu == ecused) {
      {
#line 1449
      ecadd(0U);
      }
    }
#line 1449
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 1450
  incmdpos = 1;
  {
#line 1451
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1451
    if (! ((unsigned int )tok == 1U)) {
#line 1451
      goto while_break___0;
    }
    {
#line 1452
    zshlex();
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1453
  if ((unsigned int )tok == 45U) {
    {
#line 1454
    zshlex();
    }
    {
#line 1455
    while (1) {
      while_continue___1: /* CIL Label */ ;
      {
#line 1455
      eu___0 = ecused;
#line 1455
      par_list(cmplx);
      }
#line 1455
      if (eu___0 == ecused) {
        {
#line 1455
        ecadd(0U);
        }
      }
#line 1455
      goto while_break___1;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 1456
    if ((unsigned int )tok != 46U) {
#line 1457
      tok = (enum lextok )38;
#line 1457
      ecused = oecused;
#line 1457
      return;
    }
    {
#line 1458
    incmdpos = 0;
#line 1459
    zshlex();
    }
  } else
#line 1460
  if ((unsigned int )tok == 41U) {
    {
#line 1461
    zshlex();
    }
    {
#line 1462
    while (1) {
      while_continue___2: /* CIL Label */ ;
      {
#line 1462
      eu___1 = ecused;
#line 1462
      par_list(cmplx);
      }
#line 1462
      if (eu___1 == ecused) {
        {
#line 1462
        ecadd(0U);
        }
      }
#line 1462
      goto while_break___2;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 1463
    if ((unsigned int )tok != 42U) {
#line 1464
      tok = (enum lextok )38;
#line 1464
      ecused = oecused;
#line 1464
      return;
    }
    {
#line 1465
    incmdpos = 0;
#line 1466
    zshlex();
    }
  } else
#line 1467
  if (opts[42]) {
    {
#line 1468
    while (1) {
      while_continue___3: /* CIL Label */ ;
      {
#line 1468
      eu___2 = ecused;
#line 1468
      par_list(cmplx);
      }
#line 1468
      if (eu___2 == ecused) {
        {
#line 1468
        ecadd(0U);
        }
      }
#line 1468
      goto while_break___3;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 1469
    if ((unsigned int )tok != 49U) {
#line 1470
      tok = (enum lextok )38;
#line 1470
      ecused = oecused;
#line 1470
      return;
    }
    {
#line 1471
    zshlex();
    }
  } else {
#line 1473
    tok = (enum lextok )38;
#line 1473
    ecused = oecused;
#line 1473
    return;
  }
#line 1475
  *(ecbuf + p) = 14U | ((wordcode )(type___0 | (((ecused - 1) - p) << 1)) << 5);
#line 1476
  return;
}
}
#line 1483 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_repeat(int *cmplx ) 
{ 
  int oecused ;
  int p ;
  wordcode tmp ;
  int eu ;
  int eu___0 ;
  int eu___1 ;
  int eu___2 ;

  {
  {
#line 1487
  oecused = ecused;
#line 1489
  p = ecadd((wordcode )0);
#line 1491
  incmdpos = 0;
#line 1492
  zshlex();
  }
#line 1493
  if ((unsigned int )tok != 34U) {
#line 1494
    tok = (enum lextok )38;
#line 1494
    ecused = oecused;
#line 1494
    return;
  }
  {
#line 1495
  tmp = ecstrcode(tokstr);
#line 1495
  ecadd(tmp);
#line 1496
  incmdpos = 1;
#line 1497
  zshlex();
  }
  {
#line 1498
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1498
    if (! ((unsigned int )tok == 1U)) {
#line 1498
      goto while_break;
    }
    {
#line 1499
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1500
  if ((unsigned int )tok == 45U) {
    {
#line 1501
    zshlex();
    }
    {
#line 1502
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 1502
      eu = ecused;
#line 1502
      par_list(cmplx);
      }
#line 1502
      if (eu == ecused) {
        {
#line 1502
        ecadd(0U);
        }
      }
#line 1502
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1503
    if ((unsigned int )tok != 46U) {
#line 1504
      tok = (enum lextok )38;
#line 1504
      ecused = oecused;
#line 1504
      return;
    }
    {
#line 1505
    incmdpos = 0;
#line 1506
    zshlex();
    }
  } else
#line 1507
  if ((unsigned int )tok == 41U) {
    {
#line 1508
    zshlex();
    }
    {
#line 1509
    while (1) {
      while_continue___1: /* CIL Label */ ;
      {
#line 1509
      eu___0 = ecused;
#line 1509
      par_list(cmplx);
      }
#line 1509
      if (eu___0 == ecused) {
        {
#line 1509
        ecadd(0U);
        }
      }
#line 1509
      goto while_break___1;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 1510
    if ((unsigned int )tok != 42U) {
#line 1511
      tok = (enum lextok )38;
#line 1511
      ecused = oecused;
#line 1511
      return;
    }
    {
#line 1512
    incmdpos = 0;
#line 1513
    zshlex();
    }
  } else
#line 1514
  if (opts[42]) {
    {
#line 1515
    while (1) {
      while_continue___2: /* CIL Label */ ;
      {
#line 1515
      eu___1 = ecused;
#line 1515
      par_list(cmplx);
      }
#line 1515
      if (eu___1 == ecused) {
        {
#line 1515
        ecadd(0U);
        }
      }
#line 1515
      goto while_break___2;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 1516
    if ((unsigned int )tok != 49U) {
#line 1517
      tok = (enum lextok )38;
#line 1517
      ecused = oecused;
#line 1517
      return;
    }
    {
#line 1518
    zshlex();
    }
  } else
#line 1519
  if (! opts[162]) {
#line 1520
    tok = (enum lextok )38;
#line 1520
    ecused = oecused;
#line 1520
    return;
  } else {
    {
#line 1522
    while (1) {
      while_continue___3: /* CIL Label */ ;
      {
#line 1522
      eu___2 = ecused;
#line 1522
      par_list1(cmplx);
      }
#line 1522
      if (eu___2 == ecused) {
        {
#line 1522
        ecadd(0U);
        }
      }
#line 1522
      goto while_break___3;
    }
    while_break___3: /* CIL Label */ ;
    }
  }
#line 1524
  *(ecbuf + p) = 15U | ((wordcode )((ecused - 1) - p) << 5);
#line 1525
  return;
}
}
#line 1537 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_subsh(int *cmplx , int zsh_construct ) 
{ 
  enum lextok otok ;
  int oecused ;
  int p ;
  int pp ;
  int tmp ;
  int eu ;
  int tmp___0 ;
  char *__cil_tmp10 ;

  {
  {
#line 1540
  otok = tok;
#line 1541
  oecused = ecused;
#line 1543
  p = ecadd((wordcode )0);
#line 1545
  pp = ecadd((wordcode )0);
#line 1546
  zshlex();
#line 1547
  par_list(cmplx);
#line 1548
  ecadd(0U);
  }
#line 1549
  if ((unsigned int )otok == 6U) {
#line 1549
    tmp = 7;
  } else {
#line 1549
    tmp = 42;
  }
#line 1549
  if ((unsigned int )tok != (unsigned int )tmp) {
#line 1550
    tok = (enum lextok )38;
#line 1550
    ecused = oecused;
#line 1550
    return;
  }
  {
#line 1551
  incmdpos = ! zsh_construct;
#line 1552
  zshlex();
  }
#line 1555
  if ((unsigned int )otok == 41U) {
#line 1555
    if ((unsigned int )tok == 34U) {
      {
#line 1555
      tmp___0 = strcmp((char const   *)tokstr, "always");
      }
#line 1555
      if (tmp___0) {
#line 1555
        goto _L___0;
      } else {
#line 1556
        *(ecbuf + pp) = 21U | ((wordcode )((ecused - 1) - pp) << 5);
#line 1557
        incmdpos = 1;
        {
#line 1558
        while (1) {
          while_continue: /* CIL Label */ ;
          {
#line 1559
          zshlex();
          }
#line 1558
          if (! ((unsigned int )tok == 1U)) {
#line 1558
            goto while_break;
          }
        }
        while_break: /* CIL Label */ ;
        }
#line 1562
        if ((unsigned int )tok != 41U) {
#line 1563
          tok = (enum lextok )38;
#line 1563
          ecused = oecused;
#line 1563
          return;
        }
        {
#line 1564
        cmdpop();
#line 1565
        cmdpush(31);
#line 1567
        zshlex();
        }
        {
#line 1568
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 1568
          eu = ecused;
#line 1568
          par_list(cmplx);
          }
#line 1568
          if (eu == ecused) {
            {
#line 1568
            ecadd(0U);
            }
          }
#line 1568
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
        {
#line 1569
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 1569
          if (! ((unsigned int )tok == 1U)) {
#line 1569
            goto while_break___1;
          }
          {
#line 1570
          zshlex();
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 1572
        incmdpos = 1;
#line 1574
        if ((unsigned int )tok != 42U) {
#line 1575
          tok = (enum lextok )38;
#line 1575
          ecused = oecused;
#line 1575
          return;
        }
        {
#line 1576
        zshlex();
#line 1577
        *(ecbuf + p) = 21U | ((wordcode )((ecused - 1) - p) << 5);
        }
      }
    } else {
#line 1555
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 1579
  if ((unsigned int )otok == 6U) {
#line 1579
    *(ecbuf + p) = 8U | ((wordcode )((ecused - 1) - p) << 5);
  } else {
#line 1579
    *(ecbuf + p) = 9U | ((wordcode )((ecused - 1) - p) << 5);
  }
#line 1582
  return;
}
}
#line 1590 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_funcdef(int *cmplx ) 
{ 
  int oecused ;
  int num ;
  int onp ;
  int p ;
  int c ;
  int so ;
  int oecssub ;
  zlong oldlineno ;
  wordcode tmp ;
  int parg ;
  int tmp___0 ;
  wordcode tmp___1 ;

  {
  {
#line 1593
  oecused = ecused;
#line 1593
  num = 0;
#line 1593
  c = 0;
#line 1594
  oecssub = ecssub;
#line 1595
  oldlineno = lineno;
#line 1597
  lineno = (zlong )0;
#line 1598
  nocorrect = 1;
#line 1599
  incmdpos = 0;
#line 1600
  zshlex();
#line 1602
  p = ecadd((wordcode )0);
#line 1603
  ecadd((wordcode )0);
  }
  {
#line 1605
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1605
    if (! ((unsigned int )tok == 34U)) {
#line 1605
      goto while_break;
    }
#line 1606
    if ((int )*tokstr == -113) {
#line 1606
      goto _L;
    } else
#line 1606
    if ((int )*tokstr == 123) {
      _L: /* CIL Label */ 
#line 1606
      if (! *(tokstr + 1)) {
#line 1608
        tok = (enum lextok )41;
#line 1609
        goto while_break;
      }
    }
    {
#line 1611
    tmp = ecstrcode(tokstr);
#line 1611
    ecadd(tmp);
#line 1612
    num ++;
#line 1613
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1615
  ecadd((wordcode )0);
#line 1616
  ecadd((wordcode )0);
#line 1617
  ecadd((wordcode )0);
#line 1619
  nocorrect = 0;
#line 1620
  incmdpos = 1;
  }
#line 1621
  if ((unsigned int )tok == 27U) {
    {
#line 1622
    zshlex();
    }
  }
  {
#line 1623
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1623
    if (! ((unsigned int )tok == 1U)) {
#line 1623
      goto while_break___0;
    }
    {
#line 1624
    zshlex();
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1626
  ecnfunc ++;
#line 1627
  so = ecsoffs;
#line 1627
  ecssub = so;
#line 1628
  onp = ecnpats;
#line 1629
  ecnpats = 0;
#line 1631
  if ((unsigned int )tok == 41U) {
    {
#line 1632
    zshlex();
#line 1633
    par_list(& c);
    }
#line 1634
    if ((unsigned int )tok != 42U) {
#line 1635
      lineno += oldlineno;
#line 1636
      ecnpats = onp;
#line 1637
      ecssub = oecssub;
#line 1638
      tok = (enum lextok )38;
#line 1638
      ecused = oecused;
#line 1638
      return;
    }
#line 1640
    if (num == 0) {
#line 1642
      incmdpos = 0;
    }
    {
#line 1644
    zshlex();
    }
  } else
#line 1645
  if (! opts[162]) {
#line 1646
    lineno += oldlineno;
#line 1647
    ecnpats = onp;
#line 1648
    ecssub = oecssub;
#line 1649
    tok = (enum lextok )38;
#line 1649
    ecused = oecused;
#line 1649
    return;
  } else {
    {
#line 1651
    par_list1(& c);
    }
  }
  {
#line 1653
  ecadd(0U);
#line 1654
  *(ecbuf + ((p + num) + 2)) = (wordcode )(so - oecssub);
#line 1655
  *(ecbuf + ((p + num) + 3)) = (wordcode )(ecsoffs - so);
#line 1656
  *(ecbuf + ((p + num) + 4)) = (wordcode )ecnpats;
#line 1657
  *(ecbuf + (p + 1)) = (wordcode )num;
#line 1659
  ecnpats = onp;
#line 1660
  ecssub = oecssub;
#line 1661
  ecnfunc ++;
#line 1663
  *(ecbuf + p) = 11U | ((wordcode )((ecused - 1) - p) << 5);
  }
#line 1665
  if (num == 0) {
    {
#line 1667
    tmp___0 = ecadd((wordcode )0);
#line 1667
    parg = tmp___0;
#line 1668
    ecadd((wordcode )0);
    }
    {
#line 1669
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 1669
      if (! ((unsigned int )tok == 34U)) {
#line 1669
        goto while_break___1;
      }
      {
#line 1670
      tmp___1 = ecstrcode(tokstr);
#line 1670
      ecadd(tmp___1);
#line 1671
      num ++;
#line 1672
      zshlex();
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 1674
    if (num > 0) {
#line 1675
      *cmplx = 1;
    }
#line 1676
    *(ecbuf + parg) = (wordcode )(ecused - parg);
#line 1677
    *(ecbuf + (parg + 1)) = (wordcode )num;
  }
#line 1679
  lineno += oldlineno;
#line 1680
  return;
}
}
#line 1687 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_time(void) 
{ 
  int p ;
  int f ;
  int c ;

  {
  {
#line 1690
  c = 0;
#line 1692
  zshlex();
#line 1694
  p = ecadd((wordcode )0);
#line 1695
  ecadd((wordcode )0);
#line 1696
  f = par_sublist2(& c);
  }
#line 1696
  if (f < 0) {
#line 1697
    ecused --;
#line 1698
    *(ecbuf + p) = 10U;
  } else {
    {
#line 1700
    *(ecbuf + p) = 10U | (1U << 5);
#line 1701
    set_sublist_code(p + 1, 0, f, (ecused - 2) - p, c);
    }
  }
#line 1703
  return;
}
}
#line 1710 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void par_dinbrack(void) 
{ 
  int oecused ;

  {
  {
#line 1713
  oecused = ecused;
#line 1715
  incond = 1;
#line 1716
  incmdpos = 0;
#line 1717
  zshlex();
#line 1718
  par_cond();
  }
#line 1719
  if ((unsigned int )tok != 33U) {
#line 1720
    tok = (enum lextok )38;
#line 1720
    ecused = oecused;
#line 1720
    return;
  }
  {
#line 1721
  incond = 0;
#line 1722
  incmdpos = 1;
#line 1723
  zshlex();
  }
#line 1724
  return;
}
}
#line 1736 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_simple(int *cmplx , int nr ) 
{ 
  int oecused ;
  int isnull ;
  int r ;
  int argc ;
  int p ;
  int isfunc ;
  int sr ;
  int c ;
  int nrediradd ;
  int assignments ;
  int ppost ;
  int is_typeset ;
  wordcode postassigns ;
  char *ptr___0 ;
  char *name ;
  char *str ;
  char *tmp ;
  wordcode tmp___0 ;
  wordcode tmp___1 ;
  int oldcmdpos ;
  int n ;
  int type2 ;
  size_t tmp___2 ;
  wordcode tmp___3 ;
  int redir_var ;
  char *eptr ;
  size_t tmp___4 ;
  char *ptr___1 ;
  char *toksave ;
  char *idstring ;
  char *tmp___5 ;
  wordcode tmp___6 ;
  char *tmp___7 ;
  wordcode tmp___8 ;
  wordcode tmp___9 ;
  wordcode tmp___10 ;
  char *ptr___2 ;
  char *name___0 ;
  char *str___0 ;
  wordcode tmp___11 ;
  wordcode tmp___12 ;
  wordcode tmp___13 ;
  int n___0 ;
  int parr ;
  wordcode tmp___14 ;
  wordcode tmp___15 ;
  zlong oldlineno ;
  int onp ;
  int so ;
  int oecssub ;
  int c___0 ;
  int ll ;
  int sl ;
  int c___1 ;
  int tmp___16 ;
  int parg ;
  int tmp___17 ;
  wordcode tmp___18 ;
  char *__cil_tmp61 ;

  {
#line 1739
  oecused = ecused;
#line 1739
  isnull = 1;
#line 1739
  argc = 0;
#line 1739
  isfunc = 0;
#line 1739
  sr = 0;
#line 1740
  c = *cmplx;
#line 1740
  assignments = 0;
#line 1740
  ppost = 0;
#line 1740
  is_typeset = 0;
#line 1741
  postassigns = (wordcode )0;
#line 1743
  r = ecused;
  {
#line 1744
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1745
    if ((unsigned int )tok == 56U) {
#line 1746
      c = 1;
#line 1746
      *cmplx = c;
#line 1747
      nocorrect = 1;
    } else
#line 1748
    if ((unsigned int )tok == 35U) {
#line 1751
      name = tokstr;
#line 1752
      ptr___0 = tokstr;
      {
#line 1752
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 1752
        if (*ptr___0) {
#line 1752
          if ((int )*ptr___0 != -111) {
#line 1752
            if ((int )*ptr___0 != 61) {
#line 1752
              if (! ((int )*ptr___0 != 43)) {
#line 1752
                goto while_break___0;
              }
            } else {
#line 1752
              goto while_break___0;
            }
          } else {
#line 1752
            goto while_break___0;
          }
        } else {
#line 1752
          goto while_break___0;
        }
#line 1752
        ptr___0 ++;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 1755
      if ((int )*ptr___0 == -111) {
        {
#line 1755
        skipparens((char)-111, (char)-110, & ptr___0);
        }
      }
#line 1756
      if ((int )*ptr___0 == 43) {
        {
#line 1757
        tmp = ptr___0;
#line 1757
        ptr___0 ++;
#line 1757
        *tmp = (char )'\000';
#line 1758
        ecadd(5U | ((wordcode )(1 << 1) << 5));
        }
      } else {
        {
#line 1760
        ecadd(5U);
        }
      }
#line 1762
      if ((int )*ptr___0 == 61) {
#line 1763
        *ptr___0 = (char )'\000';
#line 1764
        str = ptr___0 + 1;
      } else {
        {
#line 1766
        equalsplit(tokstr, & str);
        }
      }
#line 1767
      ptr___0 = str;
      {
#line 1767
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1767
        if (! *ptr___0) {
#line 1767
          goto while_break___1;
        }
#line 1773
        if ((int )*(ptr___0 + 1) == -120) {
#line 1773
          if ((int )*ptr___0 == -115) {
#line 1775
            *cmplx = 1;
#line 1776
            goto while_break___1;
          } else
#line 1773
          if ((int )*ptr___0 == -108) {
#line 1775
            *cmplx = 1;
#line 1776
            goto while_break___1;
          } else
#line 1773
          if ((int )*ptr___0 == -106) {
#line 1775
            *cmplx = 1;
#line 1776
            goto while_break___1;
          }
        }
#line 1767
        ptr___0 ++;
      }
      while_break___1: /* CIL Label */ ;
      }
      {
#line 1779
      tmp___0 = ecstrcode(name);
#line 1779
      ecadd(tmp___0);
#line 1780
      tmp___1 = ecstrcode(str);
#line 1780
      ecadd(tmp___1);
#line 1781
      isnull = 0;
#line 1782
      assignments = 1;
      }
    } else
#line 1783
    if ((unsigned int )tok == 36U) {
      {
#line 1784
      oldcmdpos = incmdpos;
#line 1790
      c = 1;
#line 1790
      *cmplx = c;
#line 1791
      p = ecadd((wordcode )0);
#line 1792
      incmdpos = 0;
#line 1793
      tmp___2 = strlen((char const   *)tokstr);
#line 1793
      type2 = (int )(tmp___2 - 1UL);
      }
#line 1793
      if (type2) {
#line 1793
        if ((int )*(tokstr + type2) == 43) {
#line 1794
          *(tokstr + type2) = (char )'\000';
#line 1795
          type2 = 1;
        } else {
#line 1797
          type2 = 0;
        }
      } else {
#line 1797
        type2 = 0;
      }
      {
#line 1798
      tmp___3 = ecstrcode(tokstr);
#line 1798
      ecadd(tmp___3);
#line 1799
      cmdpush(20);
#line 1800
      zshlex();
#line 1801
      n = par_nl_wordlist();
#line 1802
      *(ecbuf + p) = 5U | ((wordcode )((1 | (type2 << 1)) | (n << 2)) << 5);
#line 1803
      cmdpop();
      }
#line 1804
      if ((unsigned int )tok != 7U) {
#line 1805
        tok = (enum lextok )38;
#line 1805
        ecused = oecused;
#line 1805
        return (0);
      }
#line 1806
      incmdpos = oldcmdpos;
#line 1807
      isnull = 0;
#line 1808
      assignments = 1;
    } else {
#line 1810
      goto while_break;
    }
    {
#line 1811
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1813
  if ((unsigned int )tok == 5U) {
#line 1814
    tok = (enum lextok )38;
#line 1814
    ecused = oecused;
#line 1814
    return (0);
  } else
#line 1813
  if ((unsigned int )tok == 30U) {
#line 1814
    tok = (enum lextok )38;
#line 1814
    ecused = oecused;
#line 1814
    return (0);
  }
  {
#line 1816
  p = ecadd(6U);
  }
  {
#line 1818
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 1819
    if ((unsigned int )tok == 34U) {
#line 1819
      goto _L___0;
    } else
#line 1819
    if ((unsigned int )tok == 63U) {
      _L___0: /* CIL Label */ 
#line 1820
      redir_var = 0;
#line 1822
      *cmplx = 1;
#line 1823
      incmdpos = 0;
#line 1825
      if ((unsigned int )tok == 63U) {
#line 1826
        is_typeset = 1;
#line 1826
        intypeset = is_typeset;
      }
#line 1828
      if (! opts[87]) {
#line 1828
        if ((int )*tokstr == -113) {
          {
#line 1831
          tmp___4 = strlen((char const   *)tokstr);
#line 1831
          eptr = (tokstr + tmp___4) - 1;
#line 1832
          ptr___1 = eptr;
          }
#line 1834
          if ((int )*ptr___1 == -112) {
#line 1834
            if ((unsigned long )ptr___1 > (unsigned long )(tokstr + 1)) {
              {
#line 1836
              tmp___7 = itype_end((char const   *)(tokstr + 1), 1 << 7, 0);
              }
#line 1836
              if ((unsigned long )tmp___7 >= (unsigned long )(ptr___1 - 1)) {
                {
#line 1838
                toksave = tokstr;
#line 1839
                tmp___5 = dupstrpfx((char const   *)(tokstr + 1), (int )((eptr - tokstr) - 1L));
#line 1839
                idstring = tmp___5;
#line 1840
                redir_var = 1;
#line 1841
                zshlex();
                }
#line 1843
                if ((unsigned int )tok >= 10U) {
#line 1843
                  if ((unsigned int )tok <= 24U) {
#line 1843
                    if (tokfd == -1) {
                      {
#line 1845
                      c = 1;
#line 1845
                      *cmplx = c;
#line 1846
                      nrediradd = par_redir(& r, idstring);
#line 1847
                      p += nrediradd;
#line 1848
                      sr += nrediradd;
                      }
                    } else {
                      {
#line 1852
                      tmp___6 = ecstrcode(toksave);
#line 1852
                      ecadd(tmp___6);
#line 1853
                      argc ++;
                      }
                    }
                  } else {
                    {
#line 1852
                    tmp___6 = ecstrcode(toksave);
#line 1852
                    ecadd(tmp___6);
#line 1853
                    argc ++;
                    }
                  }
                } else {
                  {
#line 1852
                  tmp___6 = ecstrcode(toksave);
#line 1852
                  ecadd(tmp___6);
#line 1853
                  argc ++;
                  }
                }
              }
            }
          }
        }
      }
#line 1859
      if (! redir_var) {
#line 1861
        if (postassigns) {
          {
#line 1868
          postassigns ++;
#line 1869
          ecadd(5U | ((wordcode )(1 << 1) << 5));
#line 1870
          tmp___8 = ecstrcode(tokstr);
#line 1870
          ecadd(tmp___8);
#line 1871
          tmp___9 = ecstrcode((char *)"");
#line 1871
          ecadd(tmp___9);
          }
        } else {
          {
#line 1873
          tmp___10 = ecstrcode(tokstr);
#line 1873
          ecadd(tmp___10);
#line 1874
          argc ++;
          }
        }
        {
#line 1876
        zshlex();
        }
      }
    } else
#line 1878
    if ((unsigned int )tok >= 10U) {
#line 1878
      if ((unsigned int )tok <= 24U) {
        {
#line 1879
        c = 1;
#line 1879
        *cmplx = c;
#line 1880
        nrediradd = par_redir(& r, (char *)((void *)0));
#line 1881
        p += nrediradd;
        }
#line 1882
        if (ppost) {
#line 1883
          ppost += nrediradd;
        }
#line 1884
        sr += nrediradd;
      } else {
#line 1878
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 1885
    if ((unsigned int )tok == 35U) {
#line 1888
      tmp___11 = postassigns;
#line 1888
      postassigns ++;
#line 1888
      if (! tmp___11) {
        {
#line 1889
        ppost = ecadd((wordcode )0);
        }
      }
#line 1891
      name___0 = tokstr;
#line 1892
      ptr___2 = tokstr;
      {
#line 1892
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 1892
        if (*ptr___2) {
#line 1892
          if ((int )*ptr___2 != -111) {
#line 1892
            if ((int )*ptr___2 != 61) {
#line 1892
              if (! ((int )*ptr___2 != 43)) {
#line 1892
                goto while_break___3;
              }
            } else {
#line 1892
              goto while_break___3;
            }
          } else {
#line 1892
            goto while_break___3;
          }
        } else {
#line 1892
          goto while_break___3;
        }
#line 1892
        ptr___2 ++;
      }
      while_break___3: /* CIL Label */ ;
      }
#line 1894
      if ((int )*ptr___2 == -111) {
        {
#line 1894
        skipparens((char)-111, (char)-110, & ptr___2);
        }
      }
      {
#line 1895
      ecadd(5U);
      }
#line 1897
      if ((int )*ptr___2 == 61) {
#line 1898
        *ptr___2 = (char )'\000';
#line 1899
        str___0 = ptr___2 + 1;
      } else {
        {
#line 1901
        equalsplit(tokstr, & str___0);
        }
      }
      {
#line 1902
      tmp___12 = ecstrcode(name___0);
#line 1902
      ecadd(tmp___12);
#line 1903
      tmp___13 = ecstrcode(str___0);
#line 1903
      ecadd(tmp___13);
#line 1904
      zshlex();
      }
    } else
#line 1905
    if ((unsigned int )tok == 36U) {
#line 1908
      tmp___14 = postassigns;
#line 1908
      postassigns ++;
#line 1908
      if (! tmp___14) {
        {
#line 1909
        ppost = ecadd((wordcode )0);
        }
      }
      {
#line 1911
      parr = ecadd((wordcode )0);
#line 1912
      tmp___15 = ecstrcode(tokstr);
#line 1912
      ecadd(tmp___15);
#line 1913
      cmdpush(20);
#line 1920
      intypeset = 0;
#line 1921
      zshlex();
#line 1922
      n___0 = par_nl_wordlist();
#line 1923
      *(ecbuf + parr) = 5U | ((wordcode )(1 | (n___0 << 2)) << 5);
#line 1924
      cmdpop();
#line 1925
      intypeset = 1;
      }
#line 1926
      if ((unsigned int )tok != 7U) {
#line 1927
        tok = (enum lextok )38;
#line 1927
        ecused = oecused;
#line 1927
        return (0);
      }
      {
#line 1928
      zshlex();
      }
    } else
#line 1929
    if ((unsigned int )tok == 27U) {
#line 1930
      oldlineno = lineno;
#line 1931
      oecssub = ecssub;
#line 1934
      if (! opts[117]) {
#line 1934
        if (argc > 1) {
#line 1935
          tok = (enum lextok )38;
#line 1935
          ecused = oecused;
#line 1935
          return (0);
        }
      }
#line 1937
      if (assignments) {
#line 1938
        tok = (enum lextok )38;
#line 1938
        ecused = oecused;
#line 1938
        return (0);
      } else
#line 1937
      if (postassigns) {
#line 1938
        tok = (enum lextok )38;
#line 1938
        ecused = oecused;
#line 1938
        return (0);
      }
      {
#line 1940
      *cmplx = c;
#line 1941
      lineno = (zlong )0;
#line 1942
      incmdpos = 1;
#line 1943
      cmdpush(17);
#line 1944
      zshlex();
      }
      {
#line 1945
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 1945
        if (! ((unsigned int )tok == 1U)) {
#line 1945
          goto while_break___4;
        }
        {
#line 1946
        zshlex();
        }
      }
      while_break___4: /* CIL Label */ ;
      }
      {
#line 1948
      ecispace(p + 1, 1);
#line 1949
      *(ecbuf + (p + 1)) = (wordcode )argc;
#line 1950
      ecadd((wordcode )0);
#line 1951
      ecadd((wordcode )0);
#line 1952
      ecadd((wordcode )0);
#line 1954
      ecnfunc ++;
#line 1955
      so = ecsoffs;
#line 1955
      ecssub = so;
#line 1956
      onp = ecnpats;
#line 1957
      ecnpats = 0;
      }
#line 1959
      if ((unsigned int )tok == 41U) {
        {
#line 1960
        c___0 = 0;
#line 1962
        zshlex();
#line 1963
        par_list(& c___0);
        }
#line 1964
        if ((unsigned int )tok != 42U) {
          {
#line 1965
          cmdpop();
#line 1966
          lineno += oldlineno;
#line 1967
          ecnpats = onp;
#line 1968
          ecssub = oecssub;
#line 1969
          tok = (enum lextok )38;
#line 1969
          ecused = oecused;
          }
#line 1969
          return (0);
        }
#line 1971
        if (argc == 0) {
#line 1973
          incmdpos = 0;
        }
        {
#line 1975
        zshlex();
        }
      } else {
        {
#line 1977
        c___1 = 0;
#line 1979
        ll = ecadd((wordcode )0);
#line 1980
        sl = ecadd((wordcode )0);
#line 1981
        ecadd(3U);
#line 1983
        tmp___16 = par_cmd(& c___1, argc == 0);
        }
#line 1983
        if (! tmp___16) {
          {
#line 1984
          cmdpop();
#line 1985
          tok = (enum lextok )38;
#line 1985
          ecused = oecused;
          }
#line 1985
          return (0);
        }
#line 1987
        if (argc == 0) {
#line 1996
          incmdpos = 0;
        }
        {
#line 1999
        set_sublist_code(sl, 0, 0, (ecused - 1) - sl, c___1);
#line 2000
        set_list_code(ll, (1 << 1) | (1 << 4), c___1);
        }
      }
      {
#line 2002
      cmdpop();
#line 2004
      ecadd(0U);
#line 2005
      *(ecbuf + ((p + argc) + 2)) = (wordcode )(so - oecssub);
#line 2006
      *(ecbuf + ((p + argc) + 3)) = (wordcode )(ecsoffs - so);
#line 2007
      *(ecbuf + ((p + argc) + 4)) = (wordcode )ecnpats;
#line 2009
      ecnpats = onp;
#line 2010
      ecssub = oecssub;
#line 2011
      ecnfunc ++;
#line 2013
      *(ecbuf + p) = 11U | ((wordcode )((ecused - 1) - p) << 5);
      }
#line 2015
      if (argc == 0) {
        {
#line 2017
        tmp___17 = ecadd((wordcode )0);
#line 2017
        parg = tmp___17;
#line 2018
        ecadd((wordcode )0);
        }
        {
#line 2019
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 2019
          if (! ((unsigned int )tok == 34U)) {
#line 2019
            goto while_break___5;
          }
          {
#line 2020
          tmp___18 = ecstrcode(tokstr);
#line 2020
          ecadd(tmp___18);
#line 2021
          argc ++;
#line 2022
          zshlex();
          }
        }
        while_break___5: /* CIL Label */ ;
        }
#line 2024
        if (argc > 0) {
#line 2025
          *cmplx = 1;
        }
#line 2026
        *(ecbuf + parg) = (wordcode )(ecused - parg);
#line 2027
        *(ecbuf + (parg + 1)) = (wordcode )argc;
      }
#line 2029
      lineno += oldlineno;
#line 2031
      isfunc = 1;
#line 2032
      isnull = 0;
#line 2033
      goto while_break___2;
    } else {
#line 2035
      goto while_break___2;
    }
#line 2036
    isnull = 0;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 2038
  if (isnull) {
#line 2038
    if (! (sr + nr)) {
#line 2039
      ecused = p;
#line 2040
      return (0);
    }
  }
#line 2042
  incmdpos = 1;
#line 2043
  intypeset = 0;
#line 2045
  if (! isfunc) {
#line 2046
    if (is_typeset) {
#line 2047
      *(ecbuf + p) = 7U | ((wordcode )argc << 5);
#line 2048
      if (postassigns) {
#line 2049
        *(ecbuf + ppost) = postassigns;
      } else {
        {
#line 2051
        ecadd((wordcode )0);
        }
      }
    } else {
#line 2053
      *(ecbuf + p) = 6U | ((wordcode )argc << 5);
    }
  }
#line 2056
  return (sr + 1);
}
}
#line 2065 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int redirtab[15]  = 
#line 2065
  {      0,      1,      2,      3, 
        9,      8,      10,      11, 
        13,      14,      4,      5, 
        6,      7,      12};
#line 2084 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_redir(int *rp , char *idstring ) 
{ 
  int r ;
  int type___0 ;
  int fd1 ;
  int oldcmdpos ;
  int oldnc ;
  int ncodes ;
  char *name ;
  struct heredocs **hd ;
  int htype ;
  void *tmp ;

  {
#line 2087
  r = *rp;
#line 2090
  oldcmdpos = incmdpos;
#line 2091
  incmdpos = 0;
#line 2092
  oldnc = nocorrect;
#line 2093
  if ((unsigned int )tok != 14U) {
#line 2093
    if ((unsigned int )tok != 15U) {
#line 2094
      nocorrect = 1;
    }
  }
  {
#line 2095
  type___0 = redirtab[(unsigned int )tok - 10U];
#line 2096
  fd1 = tokfd;
#line 2097
  zshlex();
  }
#line 2098
  if ((unsigned int )tok != 34U) {
#line 2098
    if ((unsigned int )tok != 35U) {
#line 2099
      tok = (enum lextok )38;
#line 2099
      ecused = ecused;
#line 2099
      return (0);
    }
  }
#line 2100
  incmdpos = oldcmdpos;
#line 2101
  nocorrect = oldnc;
#line 2104
  if (fd1 == -1) {
#line 2105
    if (type___0 >= 8) {
#line 2105
      if (type___0 <= 13) {
#line 2105
        fd1 = 0;
      } else {
#line 2105
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 2105
    if (type___0 == 16) {
#line 2105
      fd1 = 0;
    } else {
#line 2105
      fd1 = 1;
    }
  }
#line 2107
  name = tokstr;
  {
#line 2111
  if (type___0 == 11) {
#line 2111
    goto case_11;
  }
#line 2111
  if (type___0 == 10) {
#line 2111
    goto case_11;
  }
#line 2155
  if (type___0 == 1) {
#line 2155
    goto case_1;
  }
#line 2155
  if (type___0 == 0) {
#line 2155
    goto case_1;
  }
#line 2162
  if (type___0 == 9) {
#line 2162
    goto case_9;
  }
#line 2169
  if (type___0 == 8) {
#line 2169
    goto case_8;
  }
#line 2109
  goto switch_break;
  case_11: /* CIL Label */ 
  case_10: /* CIL Label */ 
#line 2114
  htype = type___0;
#line 2120
  if (idstring) {
#line 2122
    type___0 |= 32;
#line 2123
    ncodes = 6;
  } else {
#line 2126
    ncodes = 5;
  }
  {
#line 2130
  ecispace(r, ncodes);
#line 2131
  *rp = r + ncodes;
#line 2132
  *(ecbuf + r) = 4U | ((wordcode )type___0 << 5);
#line 2133
  *(ecbuf + (r + 1)) = (wordcode )fd1;
  }
#line 2140
  if (idstring) {
    {
#line 2141
    *(ecbuf + (r + 5)) = ecstrcode(idstring);
    }
  }
#line 2143
  hd = & hdocs;
  {
#line 2143
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2143
    if (! *hd) {
#line 2143
      goto while_break;
    }
#line 2143
    hd = & (*hd)->next;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 2145
  tmp = zalloc(sizeof(struct heredocs ));
#line 2145
  *hd = (struct heredocs *)tmp;
#line 2146
  (*hd)->next = (struct heredocs *)((void *)0);
#line 2147
  (*hd)->type = htype;
#line 2148
  (*hd)->pc = r;
#line 2149
  (*hd)->str = tokstr;
#line 2151
  zshlex();
  }
#line 2152
  return (ncodes);
  case_1: /* CIL Label */ 
  case_0: /* CIL Label */ 
#line 2156
  if ((int )*(tokstr + 0) == -106) {
#line 2156
    if ((int )*(tokstr + 1) == -120) {
#line 2158
      type___0 = 17;
    } else {
#line 2156
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 2159
  if ((int )*(tokstr + 0) == -108) {
#line 2159
    if ((int )*(tokstr + 1) == -120) {
#line 2160
      tok = (enum lextok )38;
#line 2160
      ecused = ecused;
#line 2160
      return (0);
    }
  }
#line 2161
  goto switch_break;
  case_9: /* CIL Label */ 
#line 2163
  if ((int )*(tokstr + 0) == -108) {
#line 2163
    if ((int )*(tokstr + 1) == -120) {
#line 2165
      type___0 = 16;
    } else {
#line 2163
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 2166
  if ((int )*(tokstr + 0) == -106) {
#line 2166
    if ((int )*(tokstr + 1) == -120) {
#line 2167
      tok = (enum lextok )38;
#line 2167
      ecused = ecused;
#line 2167
      return (0);
    }
  }
#line 2168
  goto switch_break;
  case_8: /* CIL Label */ 
#line 2170
  if ((int )*(tokstr + 0) == -108) {
#line 2170
    goto _L___2;
  } else
#line 2170
  if ((int )*(tokstr + 0) == -106) {
    _L___2: /* CIL Label */ 
#line 2170
    if ((int )*(tokstr + 1) == -120) {
#line 2172
      if ((int )*(tokstr + 0) == -108) {
#line 2172
        type___0 = 16;
      } else {
#line 2172
        type___0 = 17;
      }
    }
  }
#line 2173
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
  {
#line 2175
  zshlex();
  }
#line 2179
  if (idstring) {
#line 2181
    type___0 |= 32;
#line 2182
    ncodes = 4;
  } else {
#line 2185
    ncodes = 3;
  }
  {
#line 2187
  ecispace(r, ncodes);
#line 2188
  *rp = r + ncodes;
#line 2189
  *(ecbuf + r) = 4U | ((wordcode )type___0 << 5);
#line 2190
  *(ecbuf + (r + 1)) = (wordcode )fd1;
#line 2191
  *(ecbuf + (r + 2)) = ecstrcode(name);
  }
#line 2192
  if (idstring) {
    {
#line 2193
    *(ecbuf + (r + 3)) = ecstrcode(idstring);
    }
  }
#line 2195
  return (ncodes);
}
}
#line 2199 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void setheredoc(int pc , int type___0 , char *str , char *termstr , char *munged_termstr ) 
{ 


  {
  {
#line 2202
  *(ecbuf + pc) = 4U | ((wordcode )(type___0 | 64) << 5);
#line 2203
  *(ecbuf + (pc + 2)) = ecstrcode(str);
#line 2204
  *(ecbuf + (pc + 3)) = ecstrcode(termstr);
#line 2205
  *(ecbuf + (pc + 4)) = ecstrcode(munged_termstr);
  }
#line 2206
  return;
}
}
#line 2213 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_wordlist(void) 
{ 
  int num ;
  wordcode tmp ;

  {
#line 2216
  num = 0;
  {
#line 2217
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2217
    if (! ((unsigned int )tok == 34U)) {
#line 2217
      goto while_break;
    }
    {
#line 2218
    tmp = ecstrcode(tokstr);
#line 2218
    ecadd(tmp);
#line 2219
    num ++;
#line 2220
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2222
  return (num);
}
}
#line 2230 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_nl_wordlist(void) 
{ 
  int num ;
  wordcode tmp ;

  {
#line 2233
  num = 0;
  {
#line 2235
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2235
    if (! ((unsigned int )tok == 34U)) {
#line 2235
      if (! ((unsigned int )tok == 1U)) {
#line 2235
        goto while_break;
      }
    }
#line 2236
    if ((unsigned int )tok != 1U) {
      {
#line 2237
      tmp = ecstrcode(tokstr);
#line 2237
      ecadd(tmp);
#line 2238
      num ++;
      }
    }
    {
#line 2240
    zshlex();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2242
  return (num);
}
}
#line 2251 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void (*condlex)(void)  =    & zshlex;
#line 2260 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_cond(void) 
{ 
  int p ;
  int r ;

  {
  {
#line 2263
  p = ecused;
#line 2265
  r = par_cond_1();
  }
  {
#line 2266
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2266
    if ((unsigned int )tok == 1U) {
#line 2266
      if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2266
        if (! ((int )*zshlextext != 59)) {
#line 2266
          goto while_break;
        }
      } else {
#line 2266
        goto while_break;
      }
    } else {
#line 2266
      goto while_break;
    }
    {
#line 2267
    (*condlex)();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2268
  if ((unsigned int )tok == 8U) {
    {
#line 2269
    (*condlex)();
    }
    {
#line 2270
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2270
      if ((unsigned int )tok == 1U) {
#line 2270
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2270
          if (! ((int )*zshlextext != 59)) {
#line 2270
            goto while_break___0;
          }
        } else {
#line 2270
          goto while_break___0;
        }
      } else {
#line 2270
        goto while_break___0;
      }
      {
#line 2271
      (*condlex)();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 2272
    ecispace(p, 1);
#line 2273
    par_cond();
#line 2274
    *(ecbuf + p) = 18U | ((wordcode )(2 | (((ecused - 1) - p) << 7)) << 5);
    }
#line 2275
    return (1);
  }
#line 2277
  return (r);
}
}
#line 2285 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_cond_1(void) 
{ 
  int r ;
  int p ;

  {
  {
#line 2288
  p = ecused;
#line 2290
  r = par_cond_2();
  }
  {
#line 2291
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2291
    if ((unsigned int )tok == 1U) {
#line 2291
      if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2291
        if (! ((int )*zshlextext != 59)) {
#line 2291
          goto while_break;
        }
      } else {
#line 2291
        goto while_break;
      }
    } else {
#line 2291
      goto while_break;
    }
    {
#line 2292
    (*condlex)();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2293
  if ((unsigned int )tok == 9U) {
    {
#line 2294
    (*condlex)();
    }
    {
#line 2295
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2295
      if ((unsigned int )tok == 1U) {
#line 2295
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2295
          if (! ((int )*zshlextext != 59)) {
#line 2295
            goto while_break___0;
          }
        } else {
#line 2295
          goto while_break___0;
        }
      } else {
#line 2295
        goto while_break___0;
      }
      {
#line 2296
      (*condlex)();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 2297
    ecispace(p, 1);
#line 2298
    par_cond_1();
#line 2299
    *(ecbuf + p) = 18U | ((wordcode )(1 | (((ecused - 1) - p) << 7)) << 5);
    }
#line 2300
    return (1);
  }
#line 2302
  return (r);
}
}
#line 2314 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_cond_2(void) 
{ 
  char *s1 ;
  char *s2 ;
  char *s3 ;
  int dble ;
  int n_testargs ;
  int tmp ;
  int tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;
  char *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int r ;
  size_t tmp___17 ;
  int tmp___18 ;
  char *tmp___19 ;
  int tmp___20 ;
  enum lextok xtok ;
  int tmp___21 ;
  wordcode tmp___22 ;
  wordcode tmp___23 ;
  char *tmp___24 ;
  int tmp___25 ;
  LinkList tmp___26 ;
  int tmp___27 ;
  int tmp___28 ;
  LinkList l ;
  LinkList tmp___29 ;
  int tmp___30 ;
  int tmp___31 ;
  int tmp___32 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;
  char *__cil_tmp50 ;
  char *__cil_tmp51 ;
  char *__cil_tmp52 ;
  char *__cil_tmp53 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;
  char *__cil_tmp56 ;

  {
#line 2318
  dble = 0;
#line 2319
  if ((unsigned long )condlex == (unsigned long )(& testlex)) {
    {
#line 2319
    tmp = arrlen(testargs);
#line 2319
    tmp___0 = tmp + 1;
    }
  } else {
#line 2319
    tmp___0 = 0;
  }
#line 2319
  n_testargs = tmp___0;
#line 2321
  if (n_testargs) {
#line 2323
    if ((unsigned int )tok == 0U) {
      {
#line 2325
      tmp___1 = dupstring("");
#line 2325
      tmp___2 = dupstring("-n");
#line 2325
      tmp___3 = par_cond_double(tmp___2, tmp___1);
      }
#line 2325
      return (tmp___3);
    }
#line 2326
    if (n_testargs == 1) {
      {
#line 2328
      s1 = tokstr;
#line 2329
      (*condlex)();
      }
#line 2331
      if (! opts[130]) {
        {
#line 2331
        tmp___6 = strcmp((char const   *)s1, "-t");
        }
#line 2331
        if (! tmp___6) {
          {
#line 2332
          tmp___4 = dupstring("1");
#line 2332
          tmp___5 = par_cond_double(s1, tmp___4);
          }
#line 2332
          return (tmp___5);
        }
      }
      {
#line 2333
      tmp___7 = dupstring("-n");
#line 2333
      tmp___8 = par_cond_double(tmp___7, s1);
      }
#line 2333
      return (tmp___8);
    }
#line 2335
    if (n_testargs > 2) {
      {
#line 2338
      tmp___10 = strcmp((char const   *)*testargs, "=");
      }
#line 2338
      if (tmp___10) {
        {
#line 2338
        tmp___11 = strcmp((char const   *)*testargs, "==");
        }
#line 2338
        if (tmp___11) {
          {
#line 2338
          tmp___12 = strcmp((char const   *)*testargs, "!=");
          }
#line 2338
          if (tmp___12) {
#line 2338
            if ((int )*(*testargs) == 45) {
              {
#line 2338
              tmp___13 = get_cond_num(*testargs + 1);
              }
#line 2338
              if (tmp___13 >= 0) {
                _L: /* CIL Label */ 
                {
#line 2342
                s1 = tokstr;
#line 2343
                (*condlex)();
#line 2344
                s2 = tokstr;
#line 2345
                (*condlex)();
#line 2346
                s3 = tokstr;
#line 2347
                (*condlex)();
#line 2348
                tmp___9 = par_cond_triple(s1, s2, s3);
                }
#line 2348
                return (tmp___9);
              }
            }
          } else {
#line 2338
            goto _L;
          }
        } else {
#line 2338
          goto _L;
        }
      } else {
#line 2338
        goto _L;
      }
    }
  } else {
    {
#line 2356
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2356
      if ((unsigned int )tok == 1U) {
#line 2356
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2356
          if (! ((int )*zshlextext != 59)) {
#line 2356
            goto while_break;
          }
        } else {
#line 2356
          goto while_break;
        }
      } else {
#line 2356
        goto while_break;
      }
      {
#line 2357
      (*condlex)();
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 2358
  if ((unsigned int )tok == 39U) {
#line 2363
    if (n_testargs > 1) {
      {
#line 2363
      tmp___15 = strcmp((char const   *)*testargs, "-a");
      }
#line 2363
      if (tmp___15) {
        {
#line 2363
        tmp___16 = strcmp((char const   *)*testargs, "-o");
        }
#line 2363
        if (tmp___16) {
          {
#line 2366
          (*condlex)();
#line 2367
          ecadd(18U);
#line 2368
          tmp___14 = par_cond_2();
          }
#line 2368
          return (tmp___14);
        }
      }
    } else {
      {
#line 2366
      (*condlex)();
#line 2367
      ecadd(18U);
#line 2368
      tmp___14 = par_cond_2();
      }
#line 2368
      return (tmp___14);
    }
  }
#line 2371
  if ((unsigned int )tok == 6U) {
    {
#line 2374
    (*condlex)();
    }
    {
#line 2375
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2375
      if ((unsigned int )tok == 1U) {
#line 2375
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2375
          if (! ((int )*zshlextext != 59)) {
#line 2375
            goto while_break___0;
          }
        } else {
#line 2375
          goto while_break___0;
        }
      } else {
#line 2375
        goto while_break___0;
      }
      {
#line 2376
      (*condlex)();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 2377
    r = par_cond();
    }
    {
#line 2378
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2378
      if ((unsigned int )tok == 1U) {
#line 2378
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2378
          if (! ((int )*zshlextext != 59)) {
#line 2378
            goto while_break___1;
          }
        } else {
#line 2378
          goto while_break___1;
        }
      } else {
#line 2378
        goto while_break___1;
      }
      {
#line 2379
      (*condlex)();
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 2380
    if ((unsigned int )tok != 7U) {
#line 2381
      tok = (enum lextok )38;
#line 2381
      ecused = ecused;
#line 2381
      return (0);
    }
    {
#line 2382
    (*condlex)();
    }
#line 2383
    return (r);
  }
#line 2385
  s1 = tokstr;
#line 2386
  if (s1) {
#line 2386
    if ((int )*s1 == 45) {
#line 2386
      if (! n_testargs) {
#line 2386
        goto _L___0;
      } else {
        {
#line 2386
        tmp___17 = strspn((char const   *)(s1 + 1), "abcdefghknoprstuvwxzLONGS");
        }
#line 2386
        if (tmp___17 == 1UL) {
          _L___0: /* CIL Label */ 
#line 2386
          if (! *(s1 + 2)) {
#line 2386
            tmp___18 = 1;
          } else {
#line 2386
            tmp___18 = 0;
          }
        } else {
#line 2386
          tmp___18 = 0;
        }
      }
    } else {
#line 2386
      tmp___18 = 0;
    }
  } else {
#line 2386
    tmp___18 = 0;
  }
#line 2386
  dble = tmp___18;
#line 2390
  if ((unsigned int )tok != 34U) {
#line 2392
    if (s1) {
#line 2392
      if ((unsigned int )tok != 38U) {
#line 2392
        if (! dble) {
#line 2392
          goto _L___1;
        } else
#line 2392
        if (n_testargs) {
          _L___1: /* CIL Label */ 
          {
#line 2394
          while (1) {
            while_continue___2: /* CIL Label */ ;
            {
#line 2394
            (*condlex)();
            }
#line 2394
            if ((unsigned int )tok == 1U) {
#line 2394
              if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2394
                if (! ((int )*zshlextext != 59)) {
#line 2394
                  goto while_break___2;
                }
              } else {
#line 2394
                goto while_break___2;
              }
            } else {
#line 2394
              goto while_break___2;
            }
          }
          while_break___2: /* CIL Label */ ;
          }
          {
#line 2395
          tmp___19 = dupstring("-n");
#line 2395
          tmp___20 = par_cond_double(tmp___19, s1);
          }
#line 2395
          return (tmp___20);
        } else {
#line 2397
          tok = (enum lextok )38;
#line 2397
          ecused = ecused;
#line 2397
          return (0);
        }
      } else {
#line 2397
        tok = (enum lextok )38;
#line 2397
        ecused = ecused;
#line 2397
        return (0);
      }
    } else {
#line 2397
      tok = (enum lextok )38;
#line 2397
      ecused = ecused;
#line 2397
      return (0);
    }
  }
  {
#line 2399
  (*condlex)();
  }
#line 2400
  if (n_testargs == 2) {
#line 2400
    if ((unsigned int )tok != 34U) {
#line 2400
      if (tokstr) {
#line 2400
        if ((int )*(s1 + 0) == 45) {
#line 2406
          tok = (enum lextok )34;
        } else {
#line 2400
          goto _L___4;
        }
      } else {
#line 2400
        goto _L___4;
      }
    } else {
#line 2400
      goto _L___4;
    }
  } else {
    _L___4: /* CIL Label */ 
    {
#line 2408
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 2408
      if ((unsigned int )tok == 1U) {
#line 2408
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2408
          if (! ((int )*zshlextext != 59)) {
#line 2408
            goto while_break___3;
          }
        } else {
#line 2408
          goto while_break___3;
        }
      } else {
#line 2408
        goto while_break___3;
      }
      {
#line 2409
      (*condlex)();
      }
    }
    while_break___3: /* CIL Label */ ;
    }
  }
#line 2410
  if ((unsigned int )tok == 14U) {
#line 2410
    goto _L___5;
  } else
#line 2410
  if ((unsigned int )tok == 10U) {
    _L___5: /* CIL Label */ 
#line 2411
    xtok = tok;
    {
#line 2412
    while (1) {
      while_continue___4: /* CIL Label */ ;
      {
#line 2412
      (*condlex)();
      }
#line 2412
      if ((unsigned int )tok == 1U) {
#line 2412
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2412
          if (! ((int )*zshlextext != 59)) {
#line 2412
            goto while_break___4;
          }
        } else {
#line 2412
          goto while_break___4;
        }
      } else {
#line 2412
        goto while_break___4;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
#line 2413
    if ((unsigned int )tok != 34U) {
#line 2414
      tok = (enum lextok )38;
#line 2414
      ecused = ecused;
#line 2414
      return (0);
    }
#line 2415
    s3 = tokstr;
    {
#line 2416
    while (1) {
      while_continue___5: /* CIL Label */ ;
      {
#line 2416
      (*condlex)();
      }
#line 2416
      if ((unsigned int )tok == 1U) {
#line 2416
        if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2416
          if (! ((int )*zshlextext != 59)) {
#line 2416
            goto while_break___5;
          }
        } else {
#line 2416
          goto while_break___5;
        }
      } else {
#line 2416
        goto while_break___5;
      }
    }
    while_break___5: /* CIL Label */ ;
    }
#line 2417
    if ((unsigned int )xtok == 14U) {
#line 2417
      tmp___21 = 6;
    } else {
#line 2417
      tmp___21 = 7;
    }
    {
#line 2417
    ecadd(18U | ((wordcode )tmp___21 << 5));
#line 2418
    tmp___22 = ecstrcode(s1);
#line 2418
    ecadd(tmp___22);
#line 2419
    tmp___23 = ecstrcode(s3);
#line 2419
    ecadd(tmp___23);
    }
#line 2420
    return (1);
  }
#line 2422
  if ((unsigned int )tok != 34U) {
#line 2427
    if ((unsigned int )tok != 38U) {
#line 2428
      if (! dble) {
        {
#line 2429
        tmp___24 = dupstring("-n");
#line 2429
        tmp___25 = par_cond_double(tmp___24, s1);
        }
#line 2429
        return (tmp___25);
      } else
#line 2428
      if (n_testargs) {
        {
#line 2429
        tmp___24 = dupstring("-n");
#line 2429
        tmp___25 = par_cond_double(tmp___24, s1);
        }
#line 2429
        return (tmp___25);
      } else {
        {
#line 2431
        tmp___26 = newlinklist();
#line 2431
        tmp___27 = par_cond_multi(s1, tmp___26);
        }
#line 2431
        return (tmp___27);
      }
    } else {
#line 2433
      tok = (enum lextok )38;
#line 2433
      ecused = ecused;
#line 2433
      return (0);
    }
  }
#line 2435
  s2 = tokstr;
#line 2436
  if (! n_testargs) {
#line 2437
    if (s2) {
#line 2437
      if ((int )*s2 == 45) {
#line 2437
        if (! *(s2 + 2)) {
#line 2437
          tmp___28 = 1;
        } else {
#line 2437
          tmp___28 = 0;
        }
      } else {
#line 2437
        tmp___28 = 0;
      }
    } else {
#line 2437
      tmp___28 = 0;
    }
#line 2437
    dble = tmp___28;
  }
#line 2438
  incond ++;
  {
#line 2439
  while (1) {
    while_continue___6: /* CIL Label */ ;
    {
#line 2439
    (*condlex)();
    }
#line 2439
    if ((unsigned int )tok == 1U) {
#line 2439
      if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2439
        if (! ((int )*zshlextext != 59)) {
#line 2439
          goto while_break___6;
        }
      } else {
#line 2439
        goto while_break___6;
      }
    } else {
#line 2439
      goto while_break___6;
    }
  }
  while_break___6: /* CIL Label */ ;
  }
#line 2440
  incond --;
#line 2441
  if ((unsigned int )tok == 34U) {
#line 2441
    if (! dble) {
#line 2442
      s3 = tokstr;
      {
#line 2443
      while (1) {
        while_continue___7: /* CIL Label */ ;
        {
#line 2443
        (*condlex)();
        }
#line 2443
        if ((unsigned int )tok == 1U) {
#line 2443
          if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2443
            if (! ((int )*zshlextext != 59)) {
#line 2443
              goto while_break___7;
            }
          } else {
#line 2443
            goto while_break___7;
          }
        } else {
#line 2443
          goto while_break___7;
        }
      }
      while_break___7: /* CIL Label */ ;
      }
#line 2444
      if ((unsigned int )tok == 34U) {
        {
#line 2445
        tmp___29 = newlinklist();
#line 2445
        l = tmp___29;
#line 2447
        insertlinknode(l, l->list.last, (void *)s2);
#line 2448
        insertlinknode(l, l->list.last, (void *)s3);
        }
        {
#line 2450
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 2450
          if (! ((unsigned int )tok == 34U)) {
#line 2450
            goto while_break___8;
          }
          {
#line 2451
          insertlinknode(l, l->list.last, (void *)tokstr);
          }
          {
#line 2452
          while (1) {
            while_continue___9: /* CIL Label */ ;
            {
#line 2452
            (*condlex)();
            }
#line 2452
            if ((unsigned int )tok == 1U) {
#line 2452
              if ((unsigned long )condlex != (unsigned long )(& testlex)) {
#line 2452
                if (! ((int )*zshlextext != 59)) {
#line 2452
                  goto while_break___9;
                }
              } else {
#line 2452
                goto while_break___9;
              }
            } else {
#line 2452
              goto while_break___9;
            }
          }
          while_break___9: /* CIL Label */ ;
          }
        }
        while_break___8: /* CIL Label */ ;
        }
        {
#line 2454
        tmp___30 = par_cond_multi(s1, l);
        }
#line 2454
        return (tmp___30);
      } else {
        {
#line 2456
        tmp___31 = par_cond_triple(s1, s2, s3);
        }
#line 2456
        return (tmp___31);
      }
    } else {
      {
#line 2458
      tmp___32 = par_cond_double(s1, s2);
      }
#line 2458
      return (tmp___32);
    }
  } else {
    {
#line 2458
    tmp___32 = par_cond_double(s1, s2);
    }
#line 2458
    return (tmp___32);
  }
}
}
#line 2462 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_cond_double(char *a , char *b ) 
{ 
  wordcode tmp ;
  wordcode tmp___0 ;
  wordcode tmp___1 ;
  size_t tmp___2 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 2465
  if ((int )*(a + 0) != 45) {
#line 2465
    goto _L;
  } else
#line 2465
  if (! *(a + 1)) {
    _L: /* CIL Label */ 
    {
#line 2466
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 2466
      zwarn("parse error: condition expected: %s", a);
#line 2466
      herrflush();
      }
#line 2466
      if (noerrs != 2) {
#line 2466
        errflag |= 1;
      }
#line 2466
      tok = (enum lextok )38;
#line 2466
      ecused = ecused;
#line 2466
      return (0);
#line 2466
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
  } else
#line 2467
  if (! *(a + 2)) {
    {
#line 2467
    tmp___2 = strspn((char const   *)(a + 1), "abcdefgknoprstuvwxzhLONGS");
    }
#line 2467
    if (tmp___2 == 1UL) {
      {
#line 2468
      ecadd(18U | ((wordcode )((int )*(a + 1)) << 5));
#line 2469
      tmp = ecstrcode(b);
#line 2469
      ecadd(tmp);
      }
    } else {
      {
#line 2471
      ecadd(18U | ((wordcode )(18 | (1 << 7)) << 5));
#line 2472
      tmp___0 = ecstrcode(a);
#line 2472
      ecadd(tmp___0);
#line 2473
      tmp___1 = ecstrcode(b);
#line 2473
      ecadd(tmp___1);
      }
    }
  } else {
    {
#line 2471
    ecadd(18U | ((wordcode )(18 | (1 << 7)) << 5));
#line 2472
    tmp___0 = ecstrcode(a);
#line 2472
    ecadd(tmp___0);
#line 2473
    tmp___1 = ecstrcode(b);
#line 2473
    ecadd(tmp___1);
    }
  }
#line 2475
  return (1);
}
}
#line 2482 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static char *condstrs[10]  = 
#line 2482
  {      (char *)"nt",      (char *)"ot",      (char *)"ef",      (char *)"eq", 
        (char *)"ne",      (char *)"lt",      (char *)"gt",      (char *)"le", 
        (char *)"ge",      (char *)((void *)0)};
#line 2479 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int get_cond_num(char *tst ) 
{ 
  int t0 ;
  int tmp ;

  {
#line 2488
  t0 = 0;
  {
#line 2488
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2488
    if (! condstrs[t0]) {
#line 2488
      goto while_break;
    }
    {
#line 2489
    tmp = strcmp((char const   *)condstrs[t0], (char const   *)tst);
    }
#line 2489
    if (! tmp) {
#line 2490
      return (t0);
    }
#line 2488
    t0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2491
  return (-1);
}
}
#line 2495 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_cond_triple(char *a , char *b , char *c ) 
{ 
  int t0 ;
  wordcode tmp ;
  wordcode tmp___0 ;
  int tmp___1 ;
  wordcode tmp___2 ;
  wordcode tmp___3 ;
  int tmp___4 ;
  wordcode tmp___5 ;
  wordcode tmp___6 ;
  int tmp___7 ;
  wordcode tmp___8 ;
  wordcode tmp___9 ;
  wordcode tmp___10 ;
  wordcode tmp___11 ;
  wordcode tmp___12 ;
  wordcode tmp___13 ;
  wordcode tmp___14 ;
  wordcode tmp___15 ;
  wordcode tmp___16 ;
  wordcode tmp___17 ;
  char *__cil_tmp24 ;

  {
#line 2500
  if ((int )*(b + 0) == -115) {
#line 2500
    goto _L___12;
  } else
#line 2500
  if ((int )*(b + 0) == 61) {
    _L___12: /* CIL Label */ 
#line 2500
    if (! *(b + 1)) {
      {
#line 2501
      ecadd(18U | (3U << 5));
#line 2502
      tmp = ecstrcode(a);
#line 2502
      ecadd(tmp);
#line 2503
      tmp___0 = ecstrcode(c);
#line 2503
      ecadd(tmp___0);
#line 2504
      tmp___1 = ecnpats;
#line 2504
      ecnpats ++;
#line 2504
      ecadd((wordcode )tmp___1);
      }
    } else {
#line 2500
      goto _L___11;
    }
  } else
  _L___11: /* CIL Label */ 
#line 2505
  if ((int )*(b + 0) == -115) {
#line 2505
    goto _L___10;
  } else
#line 2505
  if ((int )*(b + 0) == 61) {
    _L___10: /* CIL Label */ 
#line 2505
    if ((int )*(b + 1) == -115) {
#line 2505
      goto _L___9;
    } else
#line 2505
    if ((int )*(b + 1) == 61) {
      _L___9: /* CIL Label */ 
#line 2505
      if (! *(b + 2)) {
        {
#line 2507
        ecadd(18U | (4U << 5));
#line 2508
        tmp___2 = ecstrcode(a);
#line 2508
        ecadd(tmp___2);
#line 2509
        tmp___3 = ecstrcode(c);
#line 2509
        ecadd(tmp___3);
#line 2510
        tmp___4 = ecnpats;
#line 2510
        ecnpats ++;
#line 2510
        ecadd((wordcode )tmp___4);
        }
      } else {
#line 2505
        goto _L___8;
      }
    } else {
#line 2505
      goto _L___8;
    }
  } else
  _L___8: /* CIL Label */ 
#line 2511
  if ((int )*(b + 0) == 33) {
#line 2511
    if ((int )*(b + 1) == -115) {
#line 2511
      goto _L___6;
    } else
#line 2511
    if ((int )*(b + 1) == 61) {
      _L___6: /* CIL Label */ 
#line 2511
      if (! *(b + 2)) {
        {
#line 2512
        ecadd(18U | (5U << 5));
#line 2513
        tmp___5 = ecstrcode(a);
#line 2513
        ecadd(tmp___5);
#line 2514
        tmp___6 = ecstrcode(c);
#line 2514
        ecadd(tmp___6);
#line 2515
        tmp___7 = ecnpats;
#line 2515
        ecnpats ++;
#line 2515
        ecadd((wordcode )tmp___7);
        }
      } else {
#line 2511
        goto _L___5;
      }
    } else {
#line 2511
      goto _L___5;
    }
  } else
  _L___5: /* CIL Label */ 
#line 2516
  if ((int )*(b + 0) == -115) {
#line 2516
    goto _L___3;
  } else
#line 2516
  if ((int )*(b + 0) == 61) {
    _L___3: /* CIL Label */ 
#line 2516
    if ((int )*(b + 1) == 126) {
#line 2516
      goto _L___2;
    } else
#line 2516
    if ((int )*(b + 1) == -104) {
      _L___2: /* CIL Label */ 
#line 2516
      if (! *(b + 2)) {
        {
#line 2520
        ecadd(18U | (17U << 5));
#line 2521
        tmp___8 = ecstrcode(a);
#line 2521
        ecadd(tmp___8);
#line 2522
        tmp___9 = ecstrcode(c);
#line 2522
        ecadd(tmp___9);
        }
      } else {
#line 2516
        goto _L___1;
      }
    } else {
#line 2516
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 2523
  if ((int )*(b + 0) == 45) {
    {
#line 2524
    t0 = get_cond_num(b + 1);
    }
#line 2524
    if (t0 > -1) {
      {
#line 2525
      ecadd(18U | ((wordcode )(t0 + 8) << 5));
#line 2526
      tmp___10 = ecstrcode(a);
#line 2526
      ecadd(tmp___10);
#line 2527
      tmp___11 = ecstrcode(c);
#line 2527
      ecadd(tmp___11);
      }
    } else {
      {
#line 2529
      ecadd(18U | (19U << 5));
#line 2530
      tmp___12 = ecstrcode(b);
#line 2530
      ecadd(tmp___12);
#line 2531
      tmp___13 = ecstrcode(a);
#line 2531
      ecadd(tmp___13);
#line 2532
      tmp___14 = ecstrcode(c);
#line 2532
      ecadd(tmp___14);
      }
    }
  } else
#line 2534
  if ((int )*(a + 0) == 45) {
#line 2534
    if (*(a + 1)) {
      {
#line 2535
      ecadd(18U | ((wordcode )(18 | (2 << 7)) << 5));
#line 2536
      tmp___15 = ecstrcode(a);
#line 2536
      ecadd(tmp___15);
#line 2537
      tmp___16 = ecstrcode(b);
#line 2537
      ecadd(tmp___16);
#line 2538
      tmp___17 = ecstrcode(c);
#line 2538
      ecadd(tmp___17);
      }
    } else {
#line 2534
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    {
#line 2540
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 2540
      zwarn("condition expected: %s", b);
#line 2540
      herrflush();
      }
#line 2540
      if (noerrs != 2) {
#line 2540
        errflag |= 1;
      }
#line 2540
      tok = (enum lextok )38;
#line 2540
      ecused = ecused;
#line 2540
      return (0);
#line 2540
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 2542
  return (1);
}
}
#line 2546 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int par_cond_multi(char *a , LinkList l ) 
{ 
  LinkNode n ;
  int tmp ;
  wordcode tmp___0 ;
  wordcode tmp___1 ;
  char *__cil_tmp7 ;

  {
#line 2549
  if ((int )*(a + 0) != 45) {
#line 2549
    goto _L;
  } else
#line 2549
  if (! *(a + 1)) {
    _L: /* CIL Label */ 
    {
#line 2550
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 2550
      zwarn("condition expected: %s", a);
#line 2550
      herrflush();
      }
#line 2550
      if (noerrs != 2) {
#line 2550
        errflag |= 1;
      }
#line 2550
      tok = (enum lextok )38;
#line 2550
      ecused = ecused;
#line 2550
      return (0);
#line 2550
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 2554
    tmp = countlinknodes(l);
#line 2554
    ecadd(18U | ((wordcode )(18 | (tmp << 7)) << 5));
#line 2555
    tmp___0 = ecstrcode(a);
#line 2555
    ecadd(tmp___0);
#line 2556
    n = l->list.first;
    }
    {
#line 2556
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2556
      if (! n) {
#line 2556
        goto while_break___0;
      }
      {
#line 2557
      tmp___1 = ecstrcode((char *)n->dat);
#line 2557
      ecadd(tmp___1);
#line 2556
      n = n->next;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 2559
  return (1);
}
}
#line 2563 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void yyerror(int noerr ) 
{ 
  int t0 ;
  char *t ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 2569
  t = dupstring((char const   *)zshlextext);
  }
#line 2569
  if (t) {
    {
#line 2570
    untokenize(t);
    }
  }
#line 2572
  t0 = 0;
  {
#line 2572
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2572
    if (! (t0 != 20)) {
#line 2572
      goto while_break;
    }
#line 2573
    if (! t) {
#line 2574
      goto while_break;
    } else
#line 2573
    if (! *(t + t0)) {
#line 2574
      goto while_break;
    } else
#line 2573
    if ((int )*(t + t0) == 10) {
#line 2574
      goto while_break;
    }
#line 2572
    t0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2575
  if (! (histdone & 2)) {
#line 2575
    if (! (errflag & 2)) {
#line 2576
      if (t0 == 20) {
        {
#line 2577
        zwarn("parse error near `%l...\'", t, 20);
        }
      } else
#line 2578
      if (t0) {
        {
#line 2579
        zwarn("parse error near `%l\'", t, t0);
        }
      } else {
        {
#line 2581
        zwarn("parse error");
        }
      }
    }
  }
#line 2583
  if (! noerr) {
#line 2583
    if (noerrs != 2) {
#line 2584
      errflag |= 1;
    }
  }
#line 2585
  return;
}
}
#line 2598 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
Eprog dupeprog(Eprog p , int heap ) 
{ 
  Eprog r ;
  int i ;
  Patprog *pp ;
  void *tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  Patprog *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;

  {
#line 2605
  if ((unsigned long )p == (unsigned long )(& dummy_eprog)) {
#line 2606
    return (p);
  }
#line 2608
  if (heap) {
    {
#line 2608
    tmp = zhalloc(sizeof(*r));
#line 2608
    r = (Eprog )tmp;
    }
  } else {
    {
#line 2608
    tmp___0 = zalloc(sizeof(*r));
#line 2608
    r = (Eprog )tmp___0;
    }
  }
#line 2609
  if (heap) {
#line 2609
    tmp___1 = 2;
  } else {
#line 2609
    tmp___1 = 1;
  }
#line 2609
  r->flags = tmp___1 | (p->flags & 8);
#line 2610
  r->dump = (FuncDump )((void *)0);
#line 2611
  r->len = p->len;
#line 2612
  r->npats = p->npats;
#line 2618
  if (heap) {
#line 2618
    r->nref = -1;
  } else {
#line 2618
    r->nref = 1;
  }
#line 2619
  if (heap) {
    {
#line 2619
    tmp___3 = hcalloc((size_t )r->len);
#line 2619
    tmp___2 = (Patprog *)tmp___3;
    }
  } else {
    {
#line 2619
    tmp___4 = zshcalloc((size_t )r->len);
#line 2619
    tmp___2 = (Patprog *)tmp___4;
    }
  }
  {
#line 2619
  r->pats = tmp___2;
#line 2619
  pp = tmp___2;
#line 2621
  r->prog = (Wordcode )(r->pats + r->npats);
#line 2622
  r->strs = (char *)r->prog + (p->strs - (char *)p->prog);
#line 2623
  memcpy((void */* __restrict  */)r->prog, (void const   */* __restrict  */)p->prog,
         (unsigned long )r->len - (unsigned long )p->npats * sizeof(Patprog ));
#line 2624
  r->shf = (Shfunc )((void *)0);
#line 2626
  i = r->npats;
  }
  {
#line 2626
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2626
    tmp___5 = i;
#line 2626
    i --;
#line 2626
    if (! tmp___5) {
#line 2626
      goto while_break;
    }
#line 2627
    *pp = (Patprog )1;
#line 2626
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2629
  return (r);
}
}
#line 2644 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void useeprog(Eprog p ) 
{ 


  {
#line 2647
  if (p) {
#line 2647
    if ((unsigned long )p != (unsigned long )(& dummy_eprog)) {
#line 2647
      if (p->nref >= 0) {
#line 2648
        (p->nref) ++;
      }
    }
  }
#line 2649
  return;
}
}
#line 2654 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void freeeprog(Eprog p ) 
{ 
  int i ;
  Patprog *pp ;
  int tmp ;

  {
#line 2660
  if (p) {
#line 2660
    if ((unsigned long )p != (unsigned long )(& dummy_eprog)) {
#line 2668
      if (p->nref > 0) {
#line 2668
        (p->nref) --;
#line 2668
        if (! p->nref) {
#line 2669
          i = p->npats;
#line 2669
          pp = p->pats;
          {
#line 2669
          while (1) {
            while_continue: /* CIL Label */ ;
#line 2669
            tmp = i;
#line 2669
            i --;
#line 2669
            if (! tmp) {
#line 2669
              goto while_break;
            }
            {
#line 2670
            freepatprog(*pp);
#line 2669
            pp ++;
            }
          }
          while_break: /* CIL Label */ ;
          }
#line 2671
          if (p->dump) {
            {
#line 2672
            decrdumpcount(p->dump);
#line 2673
            zfree((void *)p->pats, (int )((unsigned long )p->npats * sizeof(Patprog )));
            }
          } else {
            {
#line 2675
            zfree((void *)p->pats, p->len);
            }
          }
          {
#line 2676
          zfree((void *)p, (int )sizeof(*p));
          }
        }
      }
    }
  }
#line 2679
  return;
}
}
#line 2685 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static char buf___1[4]  ;
#line 2682 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
char *ecgetstr(Estate s , int dup___0 , int *tokflag ) 
{ 
  wordcode c ;
  Wordcode tmp ;
  char *r ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 2686
  tmp = s->pc;
#line 2686
  (s->pc) ++;
#line 2686
  c = *tmp;
#line 2689
  if (c == 6U) {
#line 2690
    r = (char *)"";
  } else
#line 2689
  if (c == 7U) {
#line 2690
    r = (char *)"";
  } else
#line 2691
  if (c & 2U) {
    {
#line 2692
    buf___1[0] = (char )((c >> 3) & 255U);
#line 2693
    buf___1[1] = (char )((c >> 11) & 255U);
#line 2694
    buf___1[2] = (char )((c >> 19) & 255U);
#line 2695
    buf___1[3] = (char )'\000';
#line 2696
    r = dupstring((char const   *)(buf___1));
#line 2697
    dup___0 = 0;
    }
  } else {
#line 2699
    r = s->strs + (c >> 2);
  }
#line 2701
  if (tokflag) {
#line 2702
    *tokflag = (int )(c & 1U);
  }
#line 2714
  if (dup___0 == 1) {
    {
#line 2714
    tmp___0 = dupstring((char const   *)r);
#line 2714
    tmp___1 = tmp___0;
    }
  } else
#line 2714
  if (dup___0) {
#line 2714
    if (c & 1U) {
      {
#line 2714
      tmp___0 = dupstring((char const   *)r);
#line 2714
      tmp___1 = tmp___0;
      }
    } else {
#line 2714
      tmp___1 = r;
    }
  } else {
#line 2714
    tmp___1 = r;
  }
#line 2714
  return (tmp___1);
}
}
#line 2721 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static char buf___2[4]  ;
#line 2718 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
char *ecrawstr(Eprog p , Wordcode pc , int *tokflag ) 
{ 
  wordcode c ;
  char *__cil_tmp5 ;

  {
#line 2722
  c = *pc;
#line 2724
  if (c == 6U) {
#line 2724
    goto _L;
  } else
#line 2724
  if (c == 7U) {
    _L: /* CIL Label */ 
#line 2725
    if (tokflag) {
#line 2726
      *tokflag = (int )(c & 1U);
    }
#line 2727
    return ((char *)"");
  } else
#line 2728
  if (c & 2U) {
#line 2729
    buf___2[0] = (char )((c >> 3) & 255U);
#line 2730
    buf___2[1] = (char )((c >> 11) & 255U);
#line 2731
    buf___2[2] = (char )((c >> 19) & 255U);
#line 2732
    buf___2[3] = (char )'\000';
#line 2733
    if (tokflag) {
#line 2734
      *tokflag = (int )(c & 1U);
    }
#line 2735
    return (buf___2);
  } else {
#line 2737
    if (tokflag) {
#line 2738
      *tokflag = (int )(c & 1U);
    }
#line 2739
    return (p->strs + (c >> 2));
  }
}
}
#line 2744 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
char **ecgetarr(Estate s , int num , int dup___0 , int *tokflag ) 
{ 
  char **ret ;
  char **rp ;
  int tf ;
  int tmp ;
  void *tmp___0 ;
  char **tmp___1 ;
  int tmp___2 ;

  {
  {
#line 2748
  tf = 0;
#line 2748
  tmp = 0;
#line 2750
  tmp___0 = zhalloc((unsigned long )(num + 1) * sizeof(char *));
#line 2750
  rp = (char **)tmp___0;
#line 2750
  ret = rp;
  }
  {
#line 2752
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2752
    tmp___2 = num;
#line 2752
    num --;
#line 2752
    if (! tmp___2) {
#line 2752
      goto while_break;
    }
    {
#line 2753
    tmp___1 = rp;
#line 2753
    rp ++;
#line 2753
    *tmp___1 = ecgetstr(s, dup___0, & tmp);
#line 2754
    tf |= tmp;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2756
  *rp = (char *)((void *)0);
#line 2757
  if (tokflag) {
#line 2758
    *tokflag = tf;
  }
#line 2760
  return (ret);
}
}
#line 2764 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
LinkList ecgetlist(Estate s , int num , int dup___0 , int *tokflag ) 
{ 
  LinkList ret ;
  int i ;
  int tf ;
  int tmp ;
  char *tmp___0 ;

  {
#line 2767
  if (num) {
    {
#line 2769
    tf = 0;
#line 2769
    tmp = 0;
#line 2771
    ret = newsizedlist(num);
#line 2772
    i = 0;
    }
    {
#line 2772
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2772
      if (! (i < num)) {
#line 2772
        goto while_break;
      }
      {
#line 2773
      tmp___0 = ecgetstr(s, dup___0, & tmp);
#line 2773
      (ret->list.first + i)->dat = (void *)tmp___0;
#line 2774
      tf |= tmp;
#line 2772
      i ++;
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 2776
    if (tokflag) {
#line 2777
      *tokflag = tf;
    }
#line 2778
    return (ret);
  }
#line 2780
  if (tokflag) {
#line 2781
    *tokflag = 0;
  }
#line 2782
  return ((LinkList )((void *)0));
}
}
#line 2786 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
LinkList ecgetredirs(Estate s ) 
{ 
  LinkList ret ;
  LinkList tmp ;
  wordcode code ;
  Wordcode tmp___0 ;
  Redir r ;
  void *tmp___1 ;
  Wordcode tmp___2 ;
  Wordcode tmp___3 ;

  {
  {
#line 2789
  tmp = newlinklist();
#line 2789
  ret = tmp;
#line 2790
  tmp___0 = s->pc;
#line 2790
  (s->pc) ++;
#line 2790
  code = *tmp___0;
  }
  {
#line 2792
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2792
    if (! ((code & (wordcode )((1 << 5) - 1)) == 4U)) {
#line 2792
      goto while_break;
    }
    {
#line 2793
    tmp___1 = zhalloc(sizeof(*r));
#line 2793
    r = (Redir )tmp___1;
#line 2795
    r->type = (int )((code >> 5) & 31U);
#line 2796
    tmp___2 = s->pc;
#line 2796
    (s->pc) ++;
#line 2796
    r->fd1 = (int )*tmp___2;
#line 2797
    r->name = ecgetstr(s, 1, (int *)((void *)0));
    }
#line 2798
    if ((int )((code >> 5) & 64U)) {
      {
#line 2799
      r->flags = 1;
#line 2800
      r->here_terminator = ecgetstr(s, 1, (int *)((void *)0));
#line 2801
      r->munged_here_terminator = ecgetstr(s, 1, (int *)((void *)0));
      }
    } else {
#line 2803
      r->flags = 0;
#line 2804
      r->here_terminator = (char *)((void *)0);
#line 2805
      r->munged_here_terminator = (char *)((void *)0);
    }
#line 2807
    if ((int )((code >> 5) & 32U)) {
      {
#line 2808
      r->varid = ecgetstr(s, 1, (int *)((void *)0));
      }
    } else {
#line 2810
      r->varid = (char *)((void *)0);
    }
    {
#line 2812
    insertlinknode(ret, ret->list.last, (void *)r);
#line 2814
    tmp___3 = s->pc;
#line 2814
    (s->pc) ++;
#line 2814
    code = *tmp___3;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2816
  (s->pc) --;
#line 2818
  return (ret);
}
}
#line 2830 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
Eprog eccopyredirs(Estate s ) 
{ 
  Wordcode pc ;
  wordcode code ;
  int ncode ;
  int ncodes ;
  int r ;
  int tmp ;
  int tmp___0 ;
  Wordcode tmp___1 ;
  int tmp___2 ;
  char *tmp___3 ;
  int tmp___4 ;
  char *tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  int tmp___8 ;
  char *tmp___9 ;
  Eprog tmp___10 ;

  {
#line 2833
  pc = s->pc;
#line 2834
  code = *pc;
#line 2835
  ncodes = 0;
#line 2837
  if ((code & (wordcode )((1 << 5) - 1)) != 4U) {
#line 2838
    return ((Eprog )((void *)0));
  }
  {
#line 2840
  init_parse();
  }
  {
#line 2842
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2842
    if (! ((code & (wordcode )((1 << 5) - 1)) == 4U)) {
#line 2842
      goto while_break;
    }
#line 2850
    if ((int )((code >> 5) & 64U)) {
#line 2851
      ncode = 5;
    } else {
#line 2853
      ncode = 3;
    }
#line 2854
    if ((int )((code >> 5) & 32U)) {
#line 2855
      ncode ++;
    }
#line 2856
    pc += ncode;
#line 2857
    ncodes += ncode;
#line 2858
    code = *pc;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 2860
  r = ecused;
#line 2861
  ecispace(r, ncodes);
#line 2863
  code = *(s->pc);
  }
  {
#line 2864
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2864
    if (! ((code & (wordcode )((1 << 5) - 1)) == 4U)) {
#line 2864
      goto while_break___0;
    }
    {
#line 2865
    (s->pc) ++;
#line 2867
    tmp = r;
#line 2867
    r ++;
#line 2867
    *(ecbuf + tmp) = code;
#line 2869
    tmp___0 = r;
#line 2869
    r ++;
#line 2869
    tmp___1 = s->pc;
#line 2869
    (s->pc) ++;
#line 2869
    *(ecbuf + tmp___0) = *tmp___1;
#line 2872
    tmp___2 = r;
#line 2872
    r ++;
#line 2872
    tmp___3 = ecgetstr(s, 0, (int *)((void *)0));
#line 2872
    *(ecbuf + tmp___2) = ecstrcode(tmp___3);
    }
#line 2873
    if ((int )((code >> 5) & 64U)) {
      {
#line 2876
      tmp___4 = r;
#line 2876
      r ++;
#line 2876
      tmp___5 = ecgetstr(s, 0, (int *)((void *)0));
#line 2876
      *(ecbuf + tmp___4) = ecstrcode(tmp___5);
#line 2878
      tmp___6 = r;
#line 2878
      r ++;
#line 2878
      tmp___7 = ecgetstr(s, 0, (int *)((void *)0));
#line 2878
      *(ecbuf + tmp___6) = ecstrcode(tmp___7);
      }
    }
#line 2880
    if ((int )((code >> 5) & 32U)) {
      {
#line 2881
      tmp___8 = r;
#line 2881
      r ++;
#line 2881
      tmp___9 = ecgetstr(s, 0, (int *)((void *)0));
#line 2881
      *(ecbuf + tmp___8) = ecstrcode(tmp___9);
      }
    }
#line 2883
    code = *(s->pc);
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 2887
  tmp___10 = bld_eprog(0);
  }
#line 2887
  return (tmp___10);
}
}
#line 2893 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static wordcode dummy_eprog_code  ;
#line 2896 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void init_eprog(void) 
{ 


  {
#line 2899
  dummy_eprog_code = 0U;
#line 2900
  dummy_eprog.len = (int )sizeof(wordcode );
#line 2901
  dummy_eprog.prog = & dummy_eprog_code;
#line 2902
  dummy_eprog.strs = (char *)((void *)0);
#line 2903
  return;
}
}
#line 2994 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static FDHead dump_find_func(Wordcode h , char *name ) 
{ 
  FDHead n ;
  FDHead e ;
  int tmp ;

  {
#line 2997
  e = (FDHead )(h + *(h + 12));
#line 2999
  n = (FDHead )(h + 12);
  {
#line 2999
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2999
    if (! ((unsigned long )n < (unsigned long )e)) {
#line 2999
      goto while_break;
    }
    {
#line 3000
    tmp = strcmp((char const   *)name, (char const   *)((char *)(n + 1) + (n->flags >> 2)));
    }
#line 3000
    if (! tmp) {
#line 3001
      return (n);
    }
#line 2999
    n = (FDHead )((Wordcode )n + n->hlen);
  }
  while_break: /* CIL Label */ ;
  }
#line 3003
  return ((FDHead )((void *)0));
}
}
#line 3007 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
int bin_zcompile(char *nam , char **args , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  int map ;
  int flags ;
  int ret ;
  char *dump ;
  int tmp ;
  Wordcode f ;
  char *tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;
  FDHead tmp___4 ;
  FDHead h ;
  FDHead e ;
  char const   *tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  sigset_t oset ;
  char *tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  sigset_t oset___0 ;
  void *__cil_tmp30 ;
  void *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;

  {
#line 3013
  if ((int )ops->ind[107] != 0) {
#line 3013
    if ((int )ops->ind[122] != 0) {
      {
#line 3018
      zwarnnam((char const   *)nam, "illegal combination of options");
      }
#line 3019
      return (1);
    } else {
#line 3013
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 3013
  if ((int )ops->ind[82] != 0) {
#line 3013
    if ((int )ops->ind[77] != 0) {
      {
#line 3018
      zwarnnam((char const   *)nam, "illegal combination of options");
      }
#line 3019
      return (1);
    } else {
#line 3013
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 3013
  if ((int )ops->ind[99] != 0) {
#line 3013
    if ((int )ops->ind[85] != 0) {
      {
#line 3018
      zwarnnam((char const   *)nam, "illegal combination of options");
      }
#line 3019
      return (1);
    } else
#line 3013
    if ((int )ops->ind[107] != 0) {
      {
#line 3018
      zwarnnam((char const   *)nam, "illegal combination of options");
      }
#line 3019
      return (1);
    } else
#line 3013
    if ((int )ops->ind[122] != 0) {
      {
#line 3018
      zwarnnam((char const   *)nam, "illegal combination of options");
      }
#line 3019
      return (1);
    } else {
#line 3013
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 3013
  if (! ((int )ops->ind[99] != 0)) {
#line 3013
    if (! ((int )ops->ind[97] != 0)) {
#line 3013
      if ((int )ops->ind[109] != 0) {
        {
#line 3018
        zwarnnam((char const   *)nam, "illegal combination of options");
        }
#line 3019
        return (1);
      }
    }
  }
#line 3021
  if ((int )ops->ind[99] != 0) {
#line 3021
    goto _L___2;
  } else
#line 3021
  if ((int )ops->ind[97] != 0) {
    _L___2: /* CIL Label */ 
#line 3021
    if (opts[95]) {
      {
#line 3022
      zwarnnam((char const   *)nam, "functions will use zsh style autoloading");
      }
    }
  }
#line 3024
  if ((int )ops->ind[107] != 0) {
#line 3024
    flags = 1;
  } else {
#line 3024
    if ((int )ops->ind[122] != 0) {
#line 3024
      tmp = 2;
    } else {
#line 3024
      tmp = 0;
    }
#line 3024
    flags = tmp;
  }
#line 3027
  if ((int )ops->ind[116] != 0) {
#line 3030
    if (! *args) {
      {
#line 3031
      zwarnnam((char const   *)nam, "too few arguments");
      }
#line 3032
      return (1);
    }
    {
#line 3034
    tmp___3 = strsfx((char *)".zwc", *args);
    }
#line 3034
    if (tmp___3) {
#line 3034
      tmp___2 = *args;
    } else {
      {
#line 3034
      tmp___1 = dyncat((char const   *)*args, ".zwc");
#line 3034
      tmp___2 = tmp___1;
      }
    }
    {
#line 3034
    f = load_dump_header(nam, tmp___2, 1);
    }
#line 3034
    if (! f) {
#line 3036
      return (1);
    }
#line 3038
    if (*(args + 1)) {
#line 3039
      args ++;
      {
#line 3039
      while (1) {
        while_continue: /* CIL Label */ ;
#line 3039
        if (! *args) {
#line 3039
          goto while_break;
        }
        {
#line 3040
        tmp___4 = dump_find_func(f, *args);
        }
#line 3040
        if (! tmp___4) {
#line 3041
          return (1);
        }
#line 3039
        args ++;
      }
      while_break: /* CIL Label */ ;
      }
#line 3042
      return (0);
    } else {
#line 3044
      e = (FDHead )(f + *(f + 12));
#line 3046
      if ((wordcode )*((unsigned char *)(f + 1) + 0) & 1U) {
#line 3046
        tmp___5 = "mapped";
      } else {
#line 3046
        tmp___5 = "read";
      }
      {
#line 3046
      printf((char const   */* __restrict  */)"zwc file (%s) for zsh-%s\n", tmp___5,
             (char *)(f + 2));
#line 3048
      h = (FDHead )(f + 12);
      }
      {
#line 3048
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3048
        if (! ((unsigned long )h < (unsigned long )e)) {
#line 3048
          goto while_break___0;
        }
        {
#line 3049
        printf((char const   */* __restrict  */)"%s\n", (char *)(h + 1));
#line 3048
        h = (FDHead )((Wordcode )h + h->hlen);
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 3050
      return (0);
    }
  }
#line 3053
  if (! *args) {
    {
#line 3054
    zwarnnam((char const   *)nam, "too few arguments");
    }
#line 3055
    return (1);
  }
#line 3057
  if ((int )ops->ind[77] != 0) {
#line 3057
    map = 2;
  } else {
#line 3057
    if ((int )ops->ind[82] != 0) {
#line 3057
      tmp___6 = 0;
    } else {
#line 3057
      tmp___6 = 1;
    }
#line 3057
    map = tmp___6;
  }
#line 3059
  if (! *(args + 1)) {
#line 3059
    if (! ((int )ops->ind[99] != 0)) {
#line 3059
      if (! ((int )ops->ind[97] != 0)) {
        {
#line 3060
        queueing_enabled ++;
#line 3061
        tmp___7 = dyncat((char const   *)*args, ".zwc");
#line 3061
        ret = build_dump(nam, tmp___7, args, (int )ops->ind[85] != 0, map, flags);
        }
        {
#line 3063
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 3063
          queueing_enabled --;
#line 3063
          if (! queueing_enabled) {
            {
#line 3063
            while (1) {
              while_continue___2: /* CIL Label */ ;
              {
#line 3063
              while (1) {
                while_continue___3: /* CIL Label */ ;
#line 3063
                if (! (queue_front != queue_rear)) {
#line 3063
                  goto while_break___3;
                }
                {
#line 3063
                queue_front = (queue_front + 1) % 128;
#line 3063
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3063
                zhandler(signal_queue[queue_front]);
#line 3063
                signal_setmask(oset);
                }
              }
              while_break___3: /* CIL Label */ ;
              }
#line 3063
              goto while_break___2;
            }
            while_break___2: /* CIL Label */ ;
            }
          }
#line 3063
          goto while_break___1;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 3064
        return (ret);
      }
    }
  }
  {
#line 3066
  tmp___10 = strsfx((char *)".zwc", *args);
  }
#line 3066
  if (tmp___10) {
#line 3066
    dump = *args;
  } else {
    {
#line 3066
    tmp___9 = dyncat((char const   *)*args, ".zwc");
#line 3066
    dump = tmp___9;
    }
  }
#line 3068
  queueing_enabled ++;
#line 3069
  if ((int )ops->ind[99] != 0) {
#line 3069
    goto _L___3;
  } else
#line 3069
  if ((int )ops->ind[97] != 0) {
    _L___3: /* CIL Label */ 
#line 3069
    if ((int )ops->ind[99] != 0) {
#line 3069
      tmp___11 = 1;
    } else {
#line 3069
      tmp___11 = 0;
    }
#line 3069
    if ((int )ops->ind[97] != 0) {
#line 3069
      tmp___12 = 2;
    } else {
#line 3069
      tmp___12 = 0;
    }
    {
#line 3069
    tmp___13 = build_cur_dump(nam, dump, args + 1, (int )ops->ind[109] != 0, map,
                              tmp___11 | tmp___12);
#line 3069
    ret = tmp___13;
    }
  } else {
    {
#line 3069
    tmp___14 = build_dump(nam, dump, args + 1, (int )ops->ind[85] != 0, map, flags);
#line 3069
    ret = tmp___14;
    }
  }
  {
#line 3074
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 3074
    queueing_enabled --;
#line 3074
    if (! queueing_enabled) {
      {
#line 3074
      while (1) {
        while_continue___5: /* CIL Label */ ;
        {
#line 3074
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 3074
          if (! (queue_front != queue_rear)) {
#line 3074
            goto while_break___6;
          }
          {
#line 3074
          queue_front = (queue_front + 1) % 128;
#line 3074
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3074
          zhandler(signal_queue[queue_front]);
#line 3074
          signal_setmask(oset___0);
          }
        }
        while_break___6: /* CIL Label */ ;
        }
#line 3074
        goto while_break___5;
      }
      while_break___5: /* CIL Label */ ;
      }
    }
#line 3074
    goto while_break___4;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 3076
  return (ret);
}
}
#line 3083 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static Wordcode load_dump_header(char *nam , char *name , int err ) 
{ 
  int fd ;
  int v ;
  wordcode buf___7[13] ;
  int len ;
  Wordcode head ;
  void *tmp ;
  int o ;
  __off_t tmp___0 ;
  ssize_t tmp___1 ;
  void *tmp___2 ;
  ssize_t tmp___3 ;
  ssize_t tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  void *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
  {
#line 3086
  v = 1;
#line 3089
  fd = open((char const   *)name, 0);
  }
#line 3089
  if (fd < 0) {
#line 3090
    if (err) {
      {
#line 3091
      zwarnnam((char const   *)nam, "can\'t open zwc file: %s", name);
      }
    }
#line 3092
    return ((Wordcode )((void *)0));
  }
  {
#line 3094
  tmp___4 = read(fd, (void *)(buf___7), 13UL * sizeof(wordcode ));
  }
#line 3094
  if ((unsigned long )tmp___4 != 13UL * sizeof(wordcode )) {
#line 3094
    goto _L;
  } else {
#line 3094
    if (buf___7[0] != 67438087U) {
#line 3094
      if (buf___7[0] != 117835012U) {
#line 3094
        tmp___5 = 1;
      } else {
#line 3094
        tmp___5 = 0;
      }
    } else {
#line 3094
      tmp___5 = 0;
    }
#line 3094
    v = tmp___5;
#line 3094
    if (v) {
#line 3094
      goto _L;
    } else {
      {
#line 3094
      tmp___6 = strcmp((char const   *)((char *)(buf___7 + 2)), "5.3.1");
      }
#line 3094
      if (tmp___6) {
        _L: /* CIL Label */ 
#line 3098
        if (err) {
#line 3099
          if (! v) {
            {
#line 3100
            zwarnnam((char const   *)nam, "zwc file has wrong version (zsh-%s): %s",
                     (char *)(buf___7 + 2), name);
            }
          } else {
            {
#line 3103
            zwarnnam((char const   *)nam, "invalid zwc file: %s", name);
            }
          }
        }
        {
#line 3105
        close(fd);
        }
#line 3106
        return ((Wordcode )((void *)0));
      } else {
#line 3111
        if (buf___7[0] == 67438087U) {
          {
#line 3112
          len = (int )((unsigned long )buf___7[12] * sizeof(wordcode ));
#line 3113
          tmp = zhalloc((size_t )len);
#line 3113
          head = (Wordcode )tmp;
          }
        } else {
          {
#line 3116
          o = (int )(((wordcode )*((unsigned char *)(buf___7 + 1) + 1) + ((wordcode )*((unsigned char *)(buf___7 + 1) + 2) << 8)) + ((wordcode )*((unsigned char *)(buf___7 + 1) + 3) << 16));
#line 3118
          tmp___0 = lseek(fd, (__off_t )o, 0);
          }
#line 3118
          if (tmp___0 == -1L) {
            {
#line 3121
            zwarnnam((char const   *)nam, "invalid zwc file: %s", name);
#line 3122
            close(fd);
            }
#line 3123
            return ((Wordcode )((void *)0));
          } else {
            {
#line 3118
            tmp___1 = read(fd, (void *)(buf___7), 13UL * sizeof(wordcode ));
            }
#line 3118
            if ((unsigned long )tmp___1 != 13UL * sizeof(wordcode )) {
              {
#line 3121
              zwarnnam((char const   *)nam, "invalid zwc file: %s", name);
#line 3122
              close(fd);
              }
#line 3123
              return ((Wordcode )((void *)0));
            }
          }
          {
#line 3125
          len = (int )((unsigned long )buf___7[12] * sizeof(wordcode ));
#line 3126
          tmp___2 = zhalloc((size_t )len);
#line 3126
          head = (Wordcode )tmp___2;
          }
        }
        {
#line 3128
        memcpy((void */* __restrict  */)head, (void const   */* __restrict  */)(buf___7),
               13UL * sizeof(wordcode ));
#line 3130
        len = (int )((unsigned long )len - 13UL * sizeof(wordcode ));
#line 3131
        tmp___3 = read(fd, (void *)(head + 13), (size_t )len);
        }
#line 3131
        if (tmp___3 != (ssize_t )len) {
          {
#line 3132
          close(fd);
#line 3133
          zwarnnam((char const   *)nam, "invalid zwc file: %s", name);
          }
#line 3134
          return ((Wordcode )((void *)0));
        }
        {
#line 3136
        close(fd);
        }
#line 3137
        return (head);
      }
    }
  }
}
}
#line 3143 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void fdswap(Wordcode p , int n ) 
{ 
  wordcode c ;
  int tmp ;

  {
  {
#line 3148
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3148
    tmp = n;
#line 3148
    n --;
#line 3148
    if (! tmp) {
#line 3148
      goto while_break;
    }
#line 3149
    c = *p;
#line 3150
    *p = ((((c & 255U) << 24) | ((c & 65280U) << 8)) | ((c & 16711680U) >> 8)) | ((c & 4278190080U) >> 24);
#line 3148
    p ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3155
  return;
}
}
#line 3159 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void write_dump(int dfd , LinkList progs , int map , int hlen , int tlen ) 
{ 
  LinkNode node ;
  WCFunc wcf ;
  int other ;
  int ohlen ;
  int tmp ;
  wordcode pre[12] ;
  char *tail ;
  char *n ;
  struct fdhead head ;
  Eprog prog ;
  int tmp___0 ;
  size_t tmp___1 ;
  size_t tmp___2 ;
  void *__cil_tmp19 ;
  char *__cil_tmp20 ;

  {
#line 3164
  other = 0;
#line 3170
  if (map == 1) {
#line 3171
    map = tlen >= 4096;
  }
  {
#line 3173
  memset((void *)(pre), 0, sizeof(wordcode ) * 12UL);
#line 3175
  ohlen = hlen;
  }
  {
#line 3175
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3176
    if (other) {
#line 3176
      pre[0] = (wordcode )117835012;
    } else {
#line 3176
      pre[0] = (wordcode )67438087;
    }
#line 3177
    if (map) {
#line 3177
      tmp___0 = 1;
    } else {
#line 3177
      tmp___0 = 0;
    }
#line 3177
    *((unsigned char *)(pre + 1) + 0) = (unsigned char )(tmp___0 | other);
    {
#line 3178
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 3178
      *((unsigned char *)(pre + 1) + 1) = (unsigned char )(tlen & 255);
#line 3178
      *((unsigned char *)(pre + 1) + 2) = (unsigned char )((tlen >> 8) & 255);
#line 3178
      *((unsigned char *)(pre + 1) + 3) = (unsigned char )((tlen >> 16) & 255);
#line 3178
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 3179
    strcpy((char */* __restrict  */)((char *)(pre + 2)), (char const   */* __restrict  */)"5.3.1");
#line 3180
    write_loop(dfd, (char const   *)((char *)(pre)), 12UL * sizeof(wordcode ));
#line 3182
    node = progs->list.first;
    }
    {
#line 3182
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 3182
      if (! node) {
#line 3182
        goto while_break___1;
      }
      {
#line 3183
      wcf = (WCFunc )node->dat;
#line 3184
      n = wcf->name;
#line 3185
      prog = wcf->prog;
#line 3186
      head.start = (wordcode )hlen;
#line 3187
      hlen = (int )((unsigned long )hlen + ((((unsigned long )prog->len - (unsigned long )prog->npats * sizeof(Patprog )) + sizeof(wordcode )) - 1UL) / sizeof(wordcode ));
#line 3189
      head.len = (wordcode )((unsigned long )prog->len - (unsigned long )prog->npats * sizeof(Patprog ));
#line 3190
      head.npats = (wordcode )prog->npats;
#line 3191
      head.strs = (wordcode )(prog->strs - (char *)prog->prog);
#line 3192
      tmp___1 = strlen((char const   *)n);
#line 3192
      head.hlen = (wordcode )(sizeof(struct fdhead ) / sizeof(wordcode ) + (tmp___1 + sizeof(wordcode )) / sizeof(wordcode ));
#line 3194
      tail = strrchr((char const   *)n, '/');
      }
#line 3194
      if (tail) {
#line 3195
        tail ++;
      } else {
#line 3197
        tail = n;
      }
#line 3198
      head.flags = (wordcode )((long )wcf->flags | ((tail - n) << 2));
#line 3199
      if (other) {
        {
#line 3200
        fdswap((Wordcode )(& head), (int )(sizeof(head) / sizeof(wordcode )));
        }
      }
      {
#line 3201
      write_loop(dfd, (char const   *)((char *)(& head)), sizeof(head));
#line 3202
      tmp___2 = strlen((char const   *)n);
#line 3202
      tmp = (int )(tmp___2 + 1UL);
#line 3203
      write_loop(dfd, (char const   *)n, (size_t )tmp);
#line 3204
      tmp = (int )((unsigned long )tmp & (sizeof(wordcode ) - 1UL));
      }
#line 3204
      if (tmp) {
        {
#line 3205
        write_loop(dfd, (char const   *)((char *)(& head)), sizeof(wordcode ) - (unsigned long )tmp);
        }
      }
#line 3182
      node = node->next;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 3207
    node = progs->list.first;
    {
#line 3207
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 3207
      if (! node) {
#line 3207
        goto while_break___2;
      }
#line 3208
      prog = ((WCFunc )node->dat)->prog;
#line 3209
      tmp = (int )(((((unsigned long )prog->len - (unsigned long )prog->npats * sizeof(Patprog )) + sizeof(wordcode )) - 1UL) / sizeof(wordcode ));
#line 3211
      if (other) {
        {
#line 3212
        fdswap(prog->prog, (int )((Wordcode )prog->strs - prog->prog));
        }
      }
      {
#line 3213
      write_loop(dfd, (char const   *)((char *)prog->prog), (unsigned long )tmp * sizeof(wordcode ));
#line 3207
      node = node->next;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
#line 3215
    if (other) {
#line 3216
      goto while_break;
    }
#line 3217
    other = 2;
#line 3175
    hlen = ohlen;
  }
  while_break: /* CIL Label */ ;
  }
#line 3219
  return;
}
}
#line 3222 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int build_dump(char *nam , char *dump , char **files , int ali , int map ,
                      int flags ) 
{ 
  int dfd ;
  int fd ;
  int hlen ;
  int tlen ;
  int flen ;
  int ona ;
  LinkList progs ;
  char *file ;
  Eprog prog ;
  WCFunc wcf ;
  int tmp ;
  struct stat st___0 ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  __off_t tmp___3 ;
  void *tmp___4 ;
  ssize_t tmp___5 ;
  void *tmp___6 ;
  size_t tmp___7 ;
  void *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;

  {
  {
#line 3225
  ona = noaliases;
#line 3231
  tmp = strsfx((char *)".zwc", dump);
  }
#line 3231
  if (! tmp) {
    {
#line 3232
    dump = dyncat((char const   *)dump, ".zwc");
    }
  }
  {
#line 3234
  unlink((char const   *)dump);
#line 3235
  dfd = open((char const   *)dump, 65, 292);
  }
#line 3235
  if (dfd < 0) {
    {
#line 3236
    zwarnnam((char const   *)nam, "can\'t write zwc file: %s", dump);
    }
#line 3237
    return (1);
  }
  {
#line 3239
  progs = newlinklist();
#line 3240
  noaliases = ali;
#line 3242
  hlen = 12;
#line 3242
  tlen = 0;
  }
  {
#line 3242
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3242
    if (! *files) {
#line 3242
      goto while_break;
    }
    {
#line 3245
    tmp___1 = strcmp((char const   *)*files, "-k");
    }
#line 3245
    if (tmp___1) {
      {
#line 3248
      tmp___0 = strcmp((char const   *)*files, "-z");
      }
#line 3248
      if (! tmp___0) {
#line 3249
        flags = (flags & -4) | 2;
#line 3250
        goto __Cont;
      }
    } else {
#line 3246
      flags = (flags & -4) | 1;
#line 3247
      goto __Cont;
    }
    {
#line 3252
    fd = open((char const   *)*files, 0);
    }
#line 3252
    if (fd < 0) {
#line 3252
      goto _L;
    } else {
      {
#line 3252
      tmp___2 = fstat(fd, & st___0);
      }
#line 3252
      if (tmp___2 != 0) {
#line 3252
        goto _L;
      } else
#line 3252
      if (! ((st___0.st_mode & 61440U) == 32768U)) {
#line 3252
        goto _L;
      } else {
        {
#line 3252
        tmp___3 = lseek(fd, (__off_t )0, 2);
#line 3252
        flen = (int )tmp___3;
        }
#line 3252
        if (flen == -1) {
          _L: /* CIL Label */ 
#line 3255
          if (fd >= 0) {
            {
#line 3256
            close(fd);
            }
          }
          {
#line 3257
          close(dfd);
#line 3258
          zwarnnam((char const   *)nam, "can\'t open file: %s", *files);
#line 3259
          noaliases = ona;
#line 3260
          unlink((char const   *)dump);
          }
#line 3261
          return (1);
        }
      }
    }
    {
#line 3263
    tmp___4 = zalloc((size_t )(flen + 1));
#line 3263
    file = (char *)tmp___4;
#line 3264
    *(file + flen) = (char )'\000';
#line 3265
    lseek(fd, (__off_t )0, 0);
#line 3266
    tmp___5 = read(fd, (void *)file, (size_t )flen);
    }
#line 3266
    if (tmp___5 != (ssize_t )flen) {
      {
#line 3267
      close(fd);
#line 3268
      close(dfd);
#line 3269
      zfree((void *)file, flen);
#line 3270
      zwarnnam((char const   *)nam, "can\'t read file: %s", *files);
#line 3271
      noaliases = ona;
#line 3272
      unlink((char const   *)dump);
      }
#line 3273
      return (1);
    }
    {
#line 3275
    close(fd);
#line 3276
    file = metafy(file, flen, 0);
#line 3278
    prog = parse_string(file, 1);
    }
#line 3278
    if (prog) {
#line 3278
      if (errflag) {
        _L___0: /* CIL Label */ 
        {
#line 3279
        errflag &= -2;
#line 3280
        close(dfd);
#line 3281
        zfree((void *)file, flen);
#line 3282
        zwarnnam((char const   *)nam, "can\'t read file: %s", *files);
#line 3283
        noaliases = ona;
#line 3284
        unlink((char const   *)dump);
        }
#line 3285
        return (1);
      }
    } else {
#line 3278
      goto _L___0;
    }
    {
#line 3287
    zfree((void *)file, flen);
#line 3289
    tmp___6 = zhalloc(sizeof(*wcf));
#line 3289
    wcf = (WCFunc )tmp___6;
#line 3290
    wcf->name = *files;
#line 3291
    wcf->prog = prog;
    }
#line 3292
    if (prog->flags & 8) {
#line 3292
      wcf->flags = 1;
    } else {
#line 3292
      wcf->flags = flags;
    }
    {
#line 3293
    insertlinknode(progs, progs->list.last, (void *)wcf);
#line 3295
    tmp___7 = strlen((char const   *)*files);
#line 3295
    flen = (int )((tmp___7 + sizeof(wordcode )) / sizeof(wordcode ));
#line 3296
    hlen = (int )((unsigned long )hlen + (sizeof(struct fdhead ) / sizeof(wordcode ) + (unsigned long )flen));
#line 3298
    tlen = (int )((unsigned long )tlen + ((((unsigned long )prog->len - (unsigned long )prog->npats * sizeof(Patprog )) + sizeof(wordcode )) - 1UL) / sizeof(wordcode ));
    }
    __Cont: /* CIL Label */ 
#line 3242
    files ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3301
  noaliases = ona;
#line 3303
  tlen = (int )((unsigned long )(tlen + hlen) * sizeof(wordcode ));
#line 3305
  write_dump(dfd, progs, map, hlen, tlen);
#line 3307
  close(dfd);
  }
#line 3309
  return (0);
}
}
#line 3312 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int cur_add_func(char *nam , Shfunc shf , LinkList names , LinkList progs ,
                        int *hlen , int *tlen , int what ) 
{ 
  Eprog prog ;
  WCFunc wcf ;
  int ona ;
  void *tmp ;
  size_t tmp___0 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 3319
  if (shf->node.flags & (1 << 9)) {
#line 3320
    ona = noaliases;
#line 3322
    if (! (what & 2)) {
      {
#line 3323
      zwarnnam((char const   *)nam, "function is not loaded: %s", shf->node.nam);
      }
#line 3324
      return (1);
    }
    {
#line 3326
    noaliases = shf->node.flags & (1 << 13);
#line 3327
    prog = getfpfunc(shf->node.nam, (int *)((void *)0), (char **)((void *)0));
    }
#line 3327
    if (prog) {
#line 3327
      if ((unsigned long )prog == (unsigned long )(& dummy_eprog)) {
        {
#line 3329
        noaliases = ona;
#line 3330
        zwarnnam((char const   *)nam, "can\'t load function: %s", shf->node.nam);
        }
#line 3331
        return (1);
      }
    } else {
      {
#line 3329
      noaliases = ona;
#line 3330
      zwarnnam((char const   *)nam, "can\'t load function: %s", shf->node.nam);
      }
#line 3331
      return (1);
    }
#line 3333
    if (prog->dump) {
      {
#line 3334
      prog = dupeprog(prog, 1);
      }
    }
#line 3335
    noaliases = ona;
  } else {
#line 3337
    if (! (what & 1)) {
      {
#line 3338
      zwarnnam((char const   *)nam, "function is already loaded: %s", shf->node.nam);
      }
#line 3339
      return (1);
    }
    {
#line 3341
    prog = dupeprog(shf->funcdef, 1);
    }
  }
  {
#line 3343
  tmp = zhalloc(sizeof(*wcf));
#line 3343
  wcf = (WCFunc )tmp;
#line 3344
  wcf->name = shf->node.nam;
#line 3345
  wcf->prog = prog;
  }
#line 3346
  if (prog->flags & 8) {
#line 3346
    wcf->flags = 1;
  } else {
#line 3346
    wcf->flags = 2;
  }
  {
#line 3347
  insertlinknode(progs, progs->list.last, (void *)wcf);
#line 3348
  insertlinknode(names, names->list.last, (void *)shf->node.nam);
#line 3350
  tmp___0 = strlen((char const   *)shf->node.nam);
#line 3350
  *hlen = (int )((unsigned long )*hlen + (sizeof(struct fdhead ) / sizeof(wordcode ) + (tmp___0 + sizeof(wordcode )) / sizeof(wordcode )));
#line 3352
  *tlen = (int )((unsigned long )*tlen + ((((unsigned long )prog->len - (unsigned long )prog->npats * sizeof(Patprog )) + sizeof(wordcode )) - 1UL) / sizeof(wordcode ));
  }
#line 3355
  return (0);
}
}
#line 3359 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int build_cur_dump(char *nam , char *dump , char **names , int match , int map ,
                          int what ) 
{ 
  int dfd ;
  int hlen ;
  int tlen ;
  LinkList progs ;
  LinkList lnames ;
  Shfunc shf ;
  int tmp ;
  int i ;
  HashNode hn ;
  int tmp___0 ;
  char *pat ;
  Patprog pprog ;
  int i___0 ;
  HashNode hn___0 ;
  LinkNode tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  HashNode tmp___4 ;
  int tmp___5 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;

  {
  {
#line 3365
  shf = (Shfunc )((void *)0);
#line 3367
  tmp = strsfx((char *)".zwc", dump);
  }
#line 3367
  if (! tmp) {
    {
#line 3368
    dump = dyncat((char const   *)dump, ".zwc");
    }
  }
  {
#line 3370
  unlink((char const   *)dump);
#line 3371
  dfd = open((char const   *)dump, 65, 292);
  }
#line 3371
  if (dfd < 0) {
    {
#line 3372
    zwarnnam((char const   *)nam, "can\'t write zwc file: %s", dump);
    }
#line 3373
    return (1);
  }
  {
#line 3375
  progs = newlinklist();
#line 3376
  lnames = newlinklist();
#line 3378
  hlen = 12;
#line 3379
  tlen = 0;
  }
#line 3381
  if (! *names) {
#line 3385
    i = 0;
    {
#line 3385
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3385
      if (! (i < shfunctab->hsize)) {
#line 3385
        goto while_break;
      }
#line 3386
      hn = *(shfunctab->nodes + i);
      {
#line 3386
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3386
        if (! hn) {
#line 3386
          goto while_break___0;
        }
        {
#line 3387
        tmp___0 = cur_add_func(nam, (Shfunc )hn, lnames, progs, & hlen, & tlen, what);
        }
#line 3387
        if (tmp___0) {
          {
#line 3389
          errflag &= -2;
#line 3390
          close(dfd);
#line 3391
          unlink((char const   *)dump);
          }
#line 3392
          return (1);
        }
#line 3386
        hn = hn->next;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 3385
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
  } else
#line 3394
  if (match) {
    {
#line 3400
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 3400
      if (! *names) {
#line 3400
        goto while_break___1;
      }
      {
#line 3401
      pat = dupstring((char const   *)*names);
#line 3401
      tokenize(pat);
#line 3402
      pprog = patcompile(pat, 64, (char **)((void *)0));
      }
#line 3402
      if (! pprog) {
        {
#line 3403
        zwarnnam((char const   *)nam, "bad pattern: %s", *names);
#line 3404
        close(dfd);
#line 3405
        unlink((char const   *)dump);
        }
#line 3406
        return (1);
      }
#line 3408
      i___0 = 0;
      {
#line 3408
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 3408
        if (! (i___0 < shfunctab->hsize)) {
#line 3408
          goto while_break___2;
        }
#line 3409
        hn___0 = *(shfunctab->nodes + i___0);
        {
#line 3409
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 3409
          if (! hn___0) {
#line 3409
            goto while_break___3;
          }
          {
#line 3410
          tmp___1 = linknodebydatum(lnames, (void *)hn___0->nam);
          }
#line 3410
          if (! tmp___1) {
            {
#line 3410
            tmp___2 = pattry(pprog, hn___0->nam);
            }
#line 3410
            if (tmp___2) {
              {
#line 3410
              tmp___3 = cur_add_func(nam, (Shfunc )hn___0, lnames, progs, & hlen,
                                     & tlen, what);
              }
#line 3410
              if (tmp___3) {
                {
#line 3414
                errflag &= -2;
#line 3415
                close(dfd);
#line 3416
                unlink((char const   *)dump);
                }
#line 3417
                return (1);
              }
            }
          }
#line 3409
          hn___0 = hn___0->next;
        }
        while_break___3: /* CIL Label */ ;
        }
#line 3408
        i___0 ++;
      }
      while_break___2: /* CIL Label */ ;
      }
#line 3400
      names ++;
    }
    while_break___1: /* CIL Label */ ;
    }
  } else {
    {
#line 3421
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 3421
      if (! *names) {
#line 3421
        goto while_break___4;
      }
#line 3422
      if (errflag) {
        {
#line 3424
        zwarnnam((char const   *)nam, "unknown function: %s", *names);
#line 3425
        errflag &= -2;
#line 3426
        close(dfd);
#line 3427
        unlink((char const   *)dump);
        }
#line 3428
        return (1);
      } else {
        {
#line 3422
        tmp___4 = (*(shfunctab->getnode))(shfunctab, (char const   *)*names);
#line 3422
        shf = (Shfunc )tmp___4;
        }
#line 3422
        if (! shf) {
          {
#line 3424
          zwarnnam((char const   *)nam, "unknown function: %s", *names);
#line 3425
          errflag &= -2;
#line 3426
          close(dfd);
#line 3427
          unlink((char const   *)dump);
          }
#line 3428
          return (1);
        }
      }
      {
#line 3430
      tmp___5 = cur_add_func(nam, shf, lnames, progs, & hlen, & tlen, what);
      }
#line 3430
      if (tmp___5) {
        {
#line 3431
        errflag &= -2;
#line 3432
        close(dfd);
#line 3433
        unlink((char const   *)dump);
        }
#line 3434
        return (1);
      }
#line 3421
      names ++;
    }
    while_break___4: /* CIL Label */ ;
    }
  }
#line 3438
  if ((unsigned long )progs->list.first == (unsigned long )((void *)0)) {
    {
#line 3439
    zwarnnam((char const   *)nam, "no functions");
#line 3440
    errflag &= -2;
#line 3441
    close(dfd);
#line 3442
    unlink((char const   *)dump);
    }
#line 3443
    return (1);
  }
  {
#line 3445
  tlen = (int )((unsigned long )(tlen + hlen) * sizeof(wordcode ));
#line 3447
  write_dump(dfd, progs, map, hlen, tlen);
#line 3449
  close(dfd);
  }
#line 3451
  return (0);
}
}
#line 57 "/usr/include/x86_64-linux-gnu/sys/mman.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) mmap)(void *__addr ,
                                                                             size_t __len ,
                                                                             int __prot ,
                                                                             int __flags ,
                                                                             int __fd ,
                                                                             __off_t __offset ) ;
#line 76
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) munmap)(void *__addr ,
                                                                             size_t __len ) ;
#line 3475 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static FuncDump dumps  ;
#line 3478 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static int zwcstat(char *filename , struct stat *buf___7 ) 
{ 
  FuncDump f ;
  size_t tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 3481
  tmp___2 = stat((char const   */* __restrict  */)filename, (struct stat */* __restrict  */)buf___7);
  }
#line 3481
  if (tmp___2) {
#line 3485
    f = dumps;
    {
#line 3485
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3485
      if (! f) {
#line 3485
        goto while_break;
      }
      {
#line 3486
      tmp = strlen((char const   *)f->filename);
#line 3486
      tmp___0 = strncmp((char const   *)filename, (char const   *)f->filename, tmp);
      }
#line 3486
      if (! tmp___0) {
        {
#line 3486
        tmp___1 = fstat(f->fd, buf___7);
        }
#line 3486
        if (! tmp___1) {
#line 3488
          return (0);
        }
      }
#line 3485
      f = f->next;
    }
    while_break: /* CIL Label */ ;
    }
#line 3491
    return (1);
  } else {
#line 3492
    return (0);
  }
}
}
#line 3505
static void load_dump_file(char *dump , struct stat *sbuf , int other , int len ) ;
#line 3505 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static size_t pgsz  =    (size_t )0;
#line 3497 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void load_dump_file(char *dump , struct stat *sbuf , int other , int len ) 
{ 
  FuncDump d___0 ;
  Wordcode addr ;
  int fd ;
  int off ;
  int mlen ;
  long tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  unsigned long tmp___2 ;

  {
#line 3504
  if (other) {
#line 3507
    if (! pgsz) {
      {
#line 3510
      tmp = sysconf(30);
#line 3510
      pgsz = (size_t )tmp;
#line 3519
      pgsz --;
      }
    }
#line 3521
    off = (int )((unsigned long )len & ~ pgsz);
#line 3522
    mlen = len + (len - off);
  } else {
#line 3524
    off = 0;
#line 3525
    mlen = len;
  }
  {
#line 3527
  fd = open((char const   *)dump, 0);
  }
#line 3527
  if (fd < 0) {
#line 3528
    return;
  }
  {
#line 3530
  fd = movefd(fd);
  }
#line 3531
  if (fd == -1) {
#line 3532
    return;
  }
  {
#line 3534
  tmp___0 = mmap((void *)0, (size_t )mlen, 1, 1, fd, (__off_t )off);
#line 3534
  addr = (Wordcode )tmp___0;
  }
#line 3534
  if ((unsigned long )addr == (unsigned long )((Wordcode )-1)) {
    {
#line 3536
    close(fd);
    }
#line 3537
    return;
  }
  {
#line 3539
  tmp___1 = zalloc(sizeof(*d___0));
#line 3539
  d___0 = (FuncDump )tmp___1;
#line 3540
  d___0->next = dumps;
#line 3541
  dumps = d___0;
#line 3542
  d___0->dev = sbuf->st_dev;
#line 3543
  d___0->ino = sbuf->st_ino;
#line 3544
  d___0->fd = fd;
#line 3546
  fcntl(fd, 2, 1);
  }
#line 3548
  if (other) {
#line 3548
    tmp___2 = (unsigned long )(len - off) / sizeof(wordcode );
  } else {
#line 3548
    tmp___2 = 0UL;
  }
  {
#line 3548
  d___0->map = addr + tmp___2;
#line 3549
  d___0->addr = addr;
#line 3550
  d___0->len = len;
#line 3551
  d___0->count = 0;
#line 3552
  d___0->filename = ztrdup((char const   *)dump);
  }
#line 3553
  return;
}
}
#line 3568 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
Eprog try_dump_file(char *path___0 , char *name , char *file , int *ksh ) 
{ 
  Eprog prog ;
  struct stat std ;
  struct stat stc ;
  struct stat stn ;
  int rd ;
  int rc ;
  int rn ;
  char *dig ;
  char *wc ;
  sigset_t oset ;
  int tmp ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  sigset_t oset___2 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  void *__cil_tmp23 ;
  void *__cil_tmp24 ;
  void *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
  {
#line 3576
  tmp = strsfx((char *)".zwc", path___0);
  }
#line 3576
  if (tmp) {
    {
#line 3577
    queueing_enabled ++;
#line 3578
    prog = check_dump_file(path___0, (struct stat *)((void *)0), name, ksh);
    }
    {
#line 3579
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3579
      queueing_enabled --;
#line 3579
      if (! queueing_enabled) {
        {
#line 3579
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 3579
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 3579
            if (! (queue_front != queue_rear)) {
#line 3579
              goto while_break___1;
            }
            {
#line 3579
            queue_front = (queue_front + 1) % 128;
#line 3579
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3579
            zhandler(signal_queue[queue_front]);
#line 3579
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 3579
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 3579
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 3580
    return (prog);
  }
  {
#line 3582
  dig = dyncat((char const   *)path___0, ".zwc");
#line 3583
  wc = dyncat((char const   *)file, ".zwc");
#line 3585
  rd = zwcstat(dig, & std);
#line 3586
  rc = stat((char const   */* __restrict  */)wc, (struct stat */* __restrict  */)(& stc));
#line 3587
  rn = stat((char const   */* __restrict  */)file, (struct stat */* __restrict  */)(& stn));
#line 3593
  queueing_enabled ++;
  }
#line 3594
  if (! rd) {
#line 3594
    if (rc) {
#line 3594
      goto _L___0;
    } else
#line 3594
    if (std.st_mtim.tv_sec > stc.st_mtim.tv_sec) {
      _L___0: /* CIL Label */ 
#line 3594
      if (rn) {
#line 3594
        goto _L;
      } else
#line 3594
      if (std.st_mtim.tv_sec > stn.st_mtim.tv_sec) {
        _L: /* CIL Label */ 
        {
#line 3594
        prog = check_dump_file(dig, & std, name, ksh);
        }
#line 3594
        if (prog) {
          {
#line 3598
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 3598
            queueing_enabled --;
#line 3598
            if (! queueing_enabled) {
              {
#line 3598
              while (1) {
                while_continue___3: /* CIL Label */ ;
                {
#line 3598
                while (1) {
                  while_continue___4: /* CIL Label */ ;
#line 3598
                  if (! (queue_front != queue_rear)) {
#line 3598
                    goto while_break___4;
                  }
                  {
#line 3598
                  queue_front = (queue_front + 1) % 128;
#line 3598
                  oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3598
                  zhandler(signal_queue[queue_front]);
#line 3598
                  signal_setmask(oset___0);
                  }
                }
                while_break___4: /* CIL Label */ ;
                }
#line 3598
                goto while_break___3;
              }
              while_break___3: /* CIL Label */ ;
              }
            }
#line 3598
            goto while_break___2;
          }
          while_break___2: /* CIL Label */ ;
          }
#line 3599
          return (prog);
        }
      }
    }
  }
#line 3602
  if (! rc) {
#line 3602
    if (rn) {
#line 3602
      goto _L___1;
    } else
#line 3602
    if (stc.st_mtim.tv_sec > stn.st_mtim.tv_sec) {
      _L___1: /* CIL Label */ 
      {
#line 3602
      prog = check_dump_file(wc, & stc, name, ksh);
      }
#line 3602
      if (prog) {
        {
#line 3605
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 3605
          queueing_enabled --;
#line 3605
          if (! queueing_enabled) {
            {
#line 3605
            while (1) {
              while_continue___6: /* CIL Label */ ;
              {
#line 3605
              while (1) {
                while_continue___7: /* CIL Label */ ;
#line 3605
                if (! (queue_front != queue_rear)) {
#line 3605
                  goto while_break___7;
                }
                {
#line 3605
                queue_front = (queue_front + 1) % 128;
#line 3605
                oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 3605
                zhandler(signal_queue[queue_front]);
#line 3605
                signal_setmask(oset___1);
                }
              }
              while_break___7: /* CIL Label */ ;
              }
#line 3605
              goto while_break___6;
            }
            while_break___6: /* CIL Label */ ;
            }
          }
#line 3605
          goto while_break___5;
        }
        while_break___5: /* CIL Label */ ;
        }
#line 3606
        return (prog);
      }
    }
  }
  {
#line 3610
  while (1) {
    while_continue___8: /* CIL Label */ ;
#line 3610
    queueing_enabled --;
#line 3610
    if (! queueing_enabled) {
      {
#line 3610
      while (1) {
        while_continue___9: /* CIL Label */ ;
        {
#line 3610
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 3610
          if (! (queue_front != queue_rear)) {
#line 3610
            goto while_break___10;
          }
          {
#line 3610
          queue_front = (queue_front + 1) % 128;
#line 3610
          oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 3610
          zhandler(signal_queue[queue_front]);
#line 3610
          signal_setmask(oset___2);
          }
        }
        while_break___10: /* CIL Label */ ;
        }
#line 3610
        goto while_break___9;
      }
      while_break___9: /* CIL Label */ ;
      }
    }
#line 3610
    goto while_break___8;
  }
  while_break___8: /* CIL Label */ ;
  }
#line 3611
  return ((Eprog )((void *)0));
}
}
#line 3617 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
Eprog try_source_file(char *file ) 
{ 
  Eprog prog ;
  struct stat stc ;
  struct stat stn ;
  int rc ;
  int rn ;
  char *wc ;
  char *tail ;
  sigset_t oset ;
  int tmp ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  void *__cil_tmp13 ;
  void *__cil_tmp14 ;
  void *__cil_tmp15 ;
  void *__cil_tmp16 ;
  void *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
  {
#line 3625
  tail = strrchr((char const   *)file, '/');
  }
#line 3625
  if (tail) {
#line 3626
    tail ++;
  } else {
#line 3628
    tail = file;
  }
  {
#line 3630
  tmp = strsfx((char *)".zwc", file);
  }
#line 3630
  if (tmp) {
    {
#line 3631
    queueing_enabled ++;
#line 3632
    prog = check_dump_file(file, (struct stat *)((void *)0), tail, (int *)((void *)0));
    }
    {
#line 3633
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3633
      queueing_enabled --;
#line 3633
      if (! queueing_enabled) {
        {
#line 3633
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 3633
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 3633
            if (! (queue_front != queue_rear)) {
#line 3633
              goto while_break___1;
            }
            {
#line 3633
            queue_front = (queue_front + 1) % 128;
#line 3633
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3633
            zhandler(signal_queue[queue_front]);
#line 3633
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 3633
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 3633
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 3634
    return (prog);
  }
  {
#line 3636
  wc = dyncat((char const   *)file, ".zwc");
#line 3638
  rc = stat((char const   */* __restrict  */)wc, (struct stat */* __restrict  */)(& stc));
#line 3639
  rn = stat((char const   */* __restrict  */)file, (struct stat */* __restrict  */)(& stn));
#line 3641
  queueing_enabled ++;
  }
#line 3642
  if (! rc) {
#line 3642
    if (rn) {
#line 3642
      goto _L;
    } else
#line 3642
    if (stc.st_mtim.tv_sec > stn.st_mtim.tv_sec) {
      _L: /* CIL Label */ 
      {
#line 3642
      prog = check_dump_file(wc, & stc, tail, (int *)((void *)0));
      }
#line 3642
      if (prog) {
        {
#line 3644
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 3644
          queueing_enabled --;
#line 3644
          if (! queueing_enabled) {
            {
#line 3644
            while (1) {
              while_continue___3: /* CIL Label */ ;
              {
#line 3644
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 3644
                if (! (queue_front != queue_rear)) {
#line 3644
                  goto while_break___4;
                }
                {
#line 3644
                queue_front = (queue_front + 1) % 128;
#line 3644
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3644
                zhandler(signal_queue[queue_front]);
#line 3644
                signal_setmask(oset___0);
                }
              }
              while_break___4: /* CIL Label */ ;
              }
#line 3644
              goto while_break___3;
            }
            while_break___3: /* CIL Label */ ;
            }
          }
#line 3644
          goto while_break___2;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 3645
        return (prog);
      }
    }
  }
  {
#line 3647
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 3647
    queueing_enabled --;
#line 3647
    if (! queueing_enabled) {
      {
#line 3647
      while (1) {
        while_continue___6: /* CIL Label */ ;
        {
#line 3647
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 3647
          if (! (queue_front != queue_rear)) {
#line 3647
            goto while_break___7;
          }
          {
#line 3647
          queue_front = (queue_front + 1) % 128;
#line 3647
          oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 3647
          zhandler(signal_queue[queue_front]);
#line 3647
          signal_setmask(oset___1);
          }
        }
        while_break___7: /* CIL Label */ ;
        }
#line 3647
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
    }
#line 3647
    goto while_break___5;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 3648
  return ((Eprog )((void *)0));
}
}
#line 3655 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static Eprog check_dump_file(char *file , struct stat *sbuf , char *name , int *ksh ) 
{ 
  int isrec ;
  Wordcode d___0 ;
  FDHead h ;
  FuncDump f ;
  struct stat lsbuf ;
  int tmp ;
  Eprog prog ;
  void *tmp___0 ;
  Patprog *pp ;
  int np ;
  void *tmp___1 ;
  Patprog *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  Eprog prog___0 ;
  Patprog *pp___0 ;
  int np___0 ;
  int fd ;
  int po ;
  wordcode tmp___5 ;
  __off_t tmp___6 ;
  void *tmp___7 ;
  ssize_t tmp___8 ;
  void *tmp___9 ;
  Patprog *tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  void *__cil_tmp32 ;

  {
#line 3658
  isrec = 0;
#line 3664
  if (! sbuf) {
    {
#line 3665
    tmp = zwcstat(file, & lsbuf);
    }
#line 3665
    if (tmp) {
#line 3666
      return ((Eprog )((void *)0));
    }
#line 3667
    sbuf = & lsbuf;
  }
  rec: 
#line 3676
  d___0 = (Wordcode )((void *)0);
#line 3680
  f = dumps;
  {
#line 3680
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3680
    if (! f) {
#line 3680
      goto while_break;
    }
#line 3681
    if (f->dev == sbuf->st_dev) {
#line 3681
      if (f->ino == sbuf->st_ino) {
#line 3682
        d___0 = f->map;
#line 3683
        goto while_break;
      }
    }
#line 3680
    f = f->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 3692
  if (! f) {
#line 3692
    if (isrec) {
#line 3693
      return ((Eprog )((void *)0));
    } else {
      {
#line 3692
      d___0 = load_dump_header((char *)((void *)0), file, 0);
      }
#line 3692
      if (! d___0) {
#line 3693
        return ((Eprog )((void *)0));
      }
    }
  }
  {
#line 3695
  h = dump_find_func(d___0, name);
  }
#line 3695
  if (h) {
#line 3701
    if (f) {
      {
#line 3702
      tmp___0 = zalloc(sizeof(*prog));
#line 3702
      prog = (Eprog )tmp___0;
#line 3706
      prog->flags = 4;
#line 3707
      prog->len = (int )h->len;
#line 3708
      np = (int )h->npats;
#line 3708
      prog->npats = np;
#line 3709
      prog->nref = 1;
#line 3710
      tmp___1 = zalloc((unsigned long )np * sizeof(Patprog ));
#line 3710
      pp = (Patprog *)tmp___1;
#line 3710
      prog->pats = pp;
#line 3711
      prog->prog = f->map + h->start;
#line 3712
      prog->strs = (char *)prog->prog + h->strs;
#line 3713
      prog->shf = (Shfunc )((void *)0);
#line 3714
      prog->dump = f;
#line 3716
      incrdumpcount(f);
      }
      {
#line 3718
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3718
        tmp___3 = np;
#line 3718
        np --;
#line 3718
        if (! tmp___3) {
#line 3718
          goto while_break___0;
        }
#line 3719
        tmp___2 = pp;
#line 3719
        pp ++;
#line 3719
        *tmp___2 = (Patprog )1;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 3721
      if (ksh) {
#line 3722
        if (h->flags & 1U) {
#line 3722
          *ksh = 2;
        } else {
#line 3722
          if (h->flags & 2U) {
#line 3722
            tmp___4 = 0;
          } else {
#line 3722
            tmp___4 = 1;
          }
#line 3722
          *ksh = tmp___4;
        }
      }
#line 3725
      return (prog);
    } else
#line 3726
    if ((wordcode )*((unsigned char *)(d___0 + 1) + 0) & 1U) {
      {
#line 3727
      load_dump_file(file, sbuf, (int )((wordcode )*((unsigned char *)(d___0 + 1) + 0) & 2U),
                     (int )(((wordcode )*((unsigned char *)(d___0 + 1) + 1) + ((wordcode )*((unsigned char *)(d___0 + 1) + 2) << 8)) + ((wordcode )*((unsigned char *)(d___0 + 1) + 3) << 16)));
#line 3728
      isrec = 1;
      }
#line 3729
      goto rec;
    } else {
      {
#line 3737
      po = (int )((unsigned long )h->npats * sizeof(Patprog ));
#line 3739
      fd = open((char const   *)file, 0);
      }
#line 3739
      if (fd < 0) {
#line 3739
        goto _L;
      } else {
#line 3739
        if ((wordcode )*((unsigned char *)(d___0 + 1) + 0) & 2U) {
#line 3739
          tmp___5 = ((wordcode )*((unsigned char *)(d___0 + 1) + 1) + ((wordcode )*((unsigned char *)(d___0 + 1) + 2) << 8)) + ((wordcode )*((unsigned char *)(d___0 + 1) + 3) << 16);
        } else {
#line 3739
          tmp___5 = (wordcode )0;
        }
        {
#line 3739
        tmp___6 = lseek(fd, (__off_t )((unsigned long )h->start * sizeof(wordcode ) + (unsigned long )tmp___5),
                        0);
        }
#line 3739
        if (tmp___6 < 0L) {
          _L: /* CIL Label */ 
#line 3742
          if (fd >= 0) {
            {
#line 3743
            close(fd);
            }
          }
#line 3744
          return ((Eprog )((void *)0));
        }
      }
      {
#line 3746
      tmp___7 = zalloc((size_t )(h->len + (wordcode )po));
#line 3746
      d___0 = (Wordcode )tmp___7;
#line 3748
      tmp___8 = read(fd, (void *)((char *)d___0 + po), (size_t )h->len);
      }
#line 3748
      if (tmp___8 != (ssize_t )((int )h->len)) {
        {
#line 3749
        close(fd);
#line 3750
        zfree((void *)d___0, (int )h->len);
        }
#line 3752
        return ((Eprog )((void *)0));
      }
      {
#line 3754
      close(fd);
#line 3756
      tmp___9 = zalloc(sizeof(*prog___0));
#line 3756
      prog___0 = (Eprog )tmp___9;
#line 3758
      prog___0->flags = 1;
#line 3759
      prog___0->len = (int )(h->len + (wordcode )po);
#line 3760
      np___0 = (int )h->npats;
#line 3760
      prog___0->npats = np___0;
#line 3761
      prog___0->nref = 1;
#line 3762
      pp___0 = (Patprog *)d___0;
#line 3762
      prog___0->pats = pp___0;
#line 3763
      prog___0->prog = (Wordcode )((char *)d___0 + po);
#line 3764
      prog___0->strs = (char *)prog___0->prog + h->strs;
#line 3765
      prog___0->shf = (Shfunc )((void *)0);
#line 3766
      prog___0->dump = f;
      }
      {
#line 3768
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 3768
        tmp___11 = np___0;
#line 3768
        np___0 --;
#line 3768
        if (! tmp___11) {
#line 3768
          goto while_break___1;
        }
#line 3769
        tmp___10 = pp___0;
#line 3769
        pp___0 ++;
#line 3769
        *tmp___10 = (Patprog )1;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 3771
      if (ksh) {
#line 3772
        if (h->flags & 1U) {
#line 3772
          *ksh = 2;
        } else {
#line 3772
          if (h->flags & 2U) {
#line 3772
            tmp___12 = 0;
          } else {
#line 3772
            tmp___12 = 1;
          }
#line 3772
          *ksh = tmp___12;
        }
      }
#line 3775
      return (prog___0);
    }
  }
#line 3778
  return ((Eprog )((void *)0));
}
}
#line 3786 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void incrdumpcount(FuncDump f ) 
{ 


  {
#line 3789
  (f->count) ++;
#line 3790
  return;
}
}
#line 3793 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
static void freedump(FuncDump f ) 
{ 


  {
  {
#line 3796
  munmap((void *)f->addr, (size_t )f->len);
#line 3797
  zclose(f->fd);
#line 3798
  zsfree(f->filename);
#line 3799
  zfree((void *)f, (int )sizeof(*f));
  }
#line 3800
  return;
}
}
#line 3805 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
void decrdumpcount(FuncDump f ) 
{ 
  FuncDump p ;
  FuncDump q ;

  {
#line 3808
  (f->count) --;
#line 3809
  if (! f->count) {
#line 3812
    q = (FuncDump )((void *)0);
#line 3812
    p = dumps;
    {
#line 3812
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3812
      if (p) {
#line 3812
        if (! ((unsigned long )p != (unsigned long )f)) {
#line 3812
          goto while_break;
        }
      } else {
#line 3812
        goto while_break;
      }
#line 3812
      q = p;
#line 3812
      p = p->next;
    }
    while_break: /* CIL Label */ ;
    }
#line 3813
    if (p) {
#line 3814
      if (q) {
#line 3815
        q->next = p->next;
      } else {
#line 3817
        dumps = p->next;
      }
      {
#line 3818
      freedump(f);
      }
    }
  }
#line 3821
  return;
}
}
#line 3859 "/home/khheo/testset/zsh-zsh-5.3.1/Src/parse.c"
int dump_autoload(char *nam , char *file , int on , Options ops , int func ) 
{ 
  Wordcode h ;
  FDHead n ;
  FDHead e ;
  Shfunc shf ;
  int ret ;
  int tmp ;
  void *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
  {
#line 3865
  ret = 0;
#line 3867
  tmp = strsfx((char *)".zwc", file);
  }
#line 3867
  if (! tmp) {
    {
#line 3868
    file = dyncat((char const   *)file, ".zwc");
    }
  }
  {
#line 3870
  h = load_dump_header(nam, file, 1);
  }
#line 3870
  if (! h) {
#line 3871
    return (1);
  }
#line 3873
  n = (FDHead )(h + 12);
#line 3873
  e = (FDHead )(h + *(h + 12));
  {
#line 3873
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3873
    if (! ((unsigned long )n < (unsigned long )e)) {
#line 3873
      goto while_break;
    }
    {
#line 3875
    tmp___0 = zshcalloc(sizeof(*shf));
#line 3875
    shf = (Shfunc )tmp___0;
#line 3876
    shf->node.flags = on;
#line 3877
    shf->funcdef = mkautofn(shf);
#line 3878
    shf->sticky = (Emulation_options )((void *)0);
#line 3879
    tmp___1 = ztrdup((char const   *)((char *)(n + 1) + (n->flags >> 2)));
#line 3879
    (*(shfunctab->addnode))(shfunctab, tmp___1, (void *)shf);
    }
#line 3880
    if ((int )ops->ind[88] != 0) {
      {
#line 3880
      tmp___2 = eval_autoload(shf, shf->node.nam, ops, func);
      }
#line 3880
      if (tmp___2) {
#line 3881
        ret = 1;
      }
    }
#line 3873
    n = (FDHead )((Wordcode )n + n->hlen);
  }
  while_break: /* CIL Label */ ;
  }
#line 3883
  return (ret);
}
}
#line 545 "/usr/include/unistd.h"
extern char **environ ;
#line 681
extern  __attribute__((__nothrow__)) __gid_t ( __attribute__((__leaf__)) getgid)(void) ;
#line 700
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) setuid)(__uid_t __uid ) ;
#line 710
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) seteuid)(__uid_t __uid ) ;
#line 717
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) setgid)(__gid_t __gid ) ;
#line 727
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) setegid)(__gid_t __gid ) ;
#line 849
extern char *getlogin(void) ;
#line 879
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) gethostname)(char *__name ,
                                                                                                  size_t __len ) ;
#line 201 "/usr/include/grp.h"
extern int initgroups(char const   *__user , __gid_t __group ) ;
#line 164 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__nonnull__(1), __leaf__)) strtod)(char const   * __restrict  __nptr ,
                                                                                                char ** __restrict  __endptr ) ;
#line 376
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) srand)(unsigned int __seed ) ;
#line 564
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) getenv)(char const   *__name ) ;
#line 584
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(2), __leaf__)) setenv)(char const   *__name ,
                                                                                             char const   *__value ,
                                                                                             int __replace ) ;
#line 588
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) unsetenv)(char const   *__name ) ;
#line 124 "/usr/include/locale.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) setlocale)(int __category ,
                                                                                  char const   *__locale ) ;
#line 81 "/usr/include/x86_64-linux-gnu/sys/utsname.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) uname)(struct utsname *__name ) ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
void set_pwd_env(void) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
unsigned int hasher(char const   *str ) ;
#line 6
extern HashTable newhashtable(int size , char const   *name  __attribute__((__unused__)) ,
                              void (*printinfo)(HashTable  )  __attribute__((__unused__)) ) ;
#line 8
extern void addhashnode(HashTable ht , char *nam , void *nodeptr ) ;
#line 13
void disablehashnode(HashNode hn , int flags  __attribute__((__unused__)) ) ;
#line 14
void enablehashnode(HashNode hn , int flags  __attribute__((__unused__)) ) ;
#line 17
extern void emptyhashtable(HashTable ht ) ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
zlong histsiz ;
#line 21
zlong savehistsiz ;
#line 70
void resizehistents(void) ;
#line 80
int saveandpophiststack(int pop_through , int writeflags ) ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int numpipestats ;
#line 21
int pipestats[256] ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.epro"
zlong try_errflag ;
#line 16
zlong try_interrupt ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
int lastbase ;
#line 14
zlong mathevalarg(char *s , char **ss ) ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.epro"
void *zheapptr(void *p ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
char **module_path ;
#line 67
int ensurefeature(char const   *modname , char const   *prefix , char const   *feature ) ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.epro"
char *dashgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
int locallevel  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **pparams  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **cdpath  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **fpath  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **mailpath  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **manpath  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **psvar  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **watch  ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **zsh_eval_context  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **path  ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char **fignore  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *argzero  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *posixzero  ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *home  ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *nullcmd  ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *oldpwd  ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *zoptarg  ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *prompt  ;
#line 23 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *prompt2  ;
#line 24 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *prompt3  ;
#line 25 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *prompt4  ;
#line 26 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *readnullcmd  ;
#line 27 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *rprompt  ;
#line 28 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *rprompt2  ;
#line 29 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *sprompt  ;
#line 30 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *wordchars  ;
#line 31 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *ifs  ;
#line 32 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *postedit  ;
#line 33 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *term  ;
#line 34 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *zsh_terminfo  ;
#line 35 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *zsh_terminfodirs  ;
#line 36 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *ttystrname  ;
#line 37 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
char *pwd  ;
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong lastval  ;
#line 39 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong mypid  ;
#line 40 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong lastpid  ;
#line 41 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong zterm_columns  ;
#line 42 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong zterm_lines  ;
#line 43 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong rprompt_indent  ;
#line 44 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong ppid  ;
#line 45 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong zsh_subshell  ;
#line 46 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong lineno  ;
#line 47 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong zoptind  ;
#line 48 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
zlong shlvl  ;
#line 49 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
unsigned char bangchar  ;
#line 50 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
unsigned char hatchar  ;
#line 51 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
unsigned char hashchar  ;
#line 52
unsigned char keyboardhackchar ;
#line 53 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
struct timeval shtimer  ;
#line 54 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
int termflags  ;
#line 55
struct gsu_scalar  const  stdscalar_gsu ;
#line 56
struct gsu_scalar  const  varscalar_gsu ;
#line 57
struct gsu_scalar  const  nullsetscalar_gsu ;
#line 58
struct gsu_integer  const  stdinteger_gsu ;
#line 59
struct gsu_integer  const  varinteger_gsu ;
#line 60
struct gsu_integer  const  nullsetinteger_gsu ;
#line 61
struct gsu_float  const  stdfloat_gsu ;
#line 62
struct gsu_array  const  stdarray_gsu ;
#line 64
struct gsu_hash  const  stdhash_gsu ;
#line 65
struct gsu_hash  const  nullsethash_gsu ;
#line 66 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
HashTable paramtab  ;
#line 67 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.epro"
HashTable realparamtab  ;
#line 68
HashTable newparamtable(int size , char const   *name ) ;
#line 69
HashTable copyparamtable(HashTable ht , char *name ) ;
#line 70
void deleteparamtable(HashTable t ) ;
#line 71
void scancountparams(HashNode hn  __attribute__((__unused__)) , int flags ) ;
#line 73
int issetvar(char *name ) ;
#line 74
void createparamtable(void) ;
#line 75
void assigngetset(Param pm ) ;
#line 77
Param createspecialhash(char *name , HashNode (*get)(HashTable  , char const   * ) ,
                        void (*scan)(HashTable  , void (*)(HashNode  , int  ) , int  ) ,
                        int flags ) ;
#line 78
void copyparam(Param tpm , Param pm , int fakecopy ) ;
#line 81
Value getvalue(Value v , char **pptr , int bracks ) ;
#line 85
zlong getintvalue(Value v ) ;
#line 86
mnumber getnumvalue(Value v ) ;
#line 87
void export_param(Param pm ) ;
#line 88
void setstrvalue(Value v , char *val ) ;
#line 89
void assignstrvalue(Value v , char *val , int flags ) ;
#line 90
void setnumvalue(Value v , mnumber val ) ;
#line 91
void setarrvalue(Value v , char **val ) ;
#line 93
mnumber getnparam(char *s ) ;
#line 97
char **gethparam(char *s ) ;
#line 98
char **gethkparam(char *s ) ;
#line 99
Param assignsparam(char *s , char *val , int flags ) ;
#line 101
Param assignaparam(char *s , char **val , int flags ) ;
#line 104
Param setnparam(char *s , mnumber val ) ;
#line 106
Param setiparam_no_convert(char *s , zlong val ) ;
#line 107
void unsetparam(char *s ) ;
#line 108
int unsetparam_pm(Param pm , int altflag , int exp ) ;
#line 109
void stdunsetfn(Param pm , int exp  __attribute__((__unused__)) ) ;
#line 110
zlong intgetfn(Param pm ) ;
#line 111
char *strgetfn(Param pm ) ;
#line 112
void strsetfn(Param pm , char *x ) ;
#line 113
char **arrgetfn(Param pm ) ;
#line 114
void arrsetfn(Param pm , char **x ) ;
#line 115
HashTable hashgetfn(Param pm ) ;
#line 116
void hashsetfn(Param pm , HashTable x ) ;
#line 117
void nullsethashfn(Param pm  __attribute__((__unused__)) , HashTable x ) ;
#line 118
void arrhashsetfn(Param pm , char **val , int augment ) ;
#line 119
void nullstrsetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 120
void nullintsetfn(Param pm  __attribute__((__unused__)) , zlong x  __attribute__((__unused__)) ) ;
#line 121
void nullunsetfn(Param pm  __attribute__((__unused__)) , int exp  __attribute__((__unused__)) ) ;
#line 122
zlong intvargetfn(Param pm ) ;
#line 123
void intvarsetfn(Param pm , zlong x ) ;
#line 124
void zlevarsetfn(Param pm , zlong x ) ;
#line 125
void strvarsetfn(Param pm , char *x ) ;
#line 126
char *strvargetfn(Param pm ) ;
#line 127
char **arrvargetfn(Param pm ) ;
#line 128
void arrvarsetfn(Param pm , char **x ) ;
#line 129
char *colonarrgetfn(Param pm ) ;
#line 130
void colonarrsetfn(Param pm , char *x ) ;
#line 131
char *tiedarrgetfn(Param pm ) ;
#line 132
void tiedarrsetfn(Param pm , char *x ) ;
#line 133
void tiedarrunsetfn(Param pm , int exp  __attribute__((__unused__)) ) ;
#line 135
void uniqarray(char **x ) ;
#line 137
zlong poundgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 138
zlong randomgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 139
void randomsetfn(Param pm  __attribute__((__unused__)) , zlong v ) ;
#line 140
zlong intsecondsgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 141
void intsecondssetfn(Param pm  __attribute__((__unused__)) , zlong x ) ;
#line 142
double floatsecondsgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 143
void floatsecondssetfn(Param pm  __attribute__((__unused__)) , double x ) ;
#line 144
double getrawseconds(void) ;
#line 145
void setrawseconds(double x ) ;
#line 146
int setsecondstype(Param pm , int on , int off ) ;
#line 147
char *usernamegetfn(Param pm  __attribute__((__unused__)) ) ;
#line 148
void usernamesetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 149
zlong uidgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 150
void uidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) ;
#line 151
zlong euidgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 152
void euidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) ;
#line 153
zlong gidgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 154
void gidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) ;
#line 155
zlong egidgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 156
void egidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) ;
#line 158
char *ifsgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 159
void ifssetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 160
void lc_allsetfn(Param pm , char *x ) ;
#line 161
void langsetfn(Param pm , char *x ) ;
#line 162
void lcsetfn(Param pm , char *x ) ;
#line 163
zlong histsizegetfn(Param pm  __attribute__((__unused__)) ) ;
#line 164
void histsizesetfn(Param pm  __attribute__((__unused__)) , zlong v ) ;
#line 165
zlong savehistsizegetfn(Param pm  __attribute__((__unused__)) ) ;
#line 166
void savehistsizesetfn(Param pm  __attribute__((__unused__)) , zlong v ) ;
#line 167
void errnosetfn(Param pm  __attribute__((__unused__)) , zlong x ) ;
#line 168
zlong errnogetfn(Param pm  __attribute__((__unused__)) ) ;
#line 169
char *keyboardhackgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 170
void keyboardhacksetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 171
char *histcharsgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 172
void histcharssetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 173
char *homegetfn(Param pm  __attribute__((__unused__)) ) ;
#line 174
void homesetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 175
char *wordcharsgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 176
void wordcharssetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 177
char *underscoregetfn(Param pm  __attribute__((__unused__)) ) ;
#line 178
char *termgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 179
void termsetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 180
char *terminfogetfn(Param pm  __attribute__((__unused__)) ) ;
#line 181
void terminfosetfn(Param pm , char *x ) ;
#line 182
char *terminfodirsgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 183
void terminfodirssetfn(Param pm , char *x ) ;
#line 184
void arrfixenv(char *s , char **t ) ;
#line 185
int zputenv(char *str ) ;
#line 189
void addenv(Param pm , char *value ) ;
#line 191
void delenv(Param pm ) ;
#line 192
void convbase_ptr(char *s , zlong v , int base , int *ndigits ) ;
#line 195
char *convfloat(double dval , int digits , int flags , FILE *fout ) ;
#line 197
void startparamscope(void) ;
#line 198
void endparamscope(void) ;
#line 199
void freeparamnode(HashNode hn ) ;
#line 200
void printparamnode(HashNode hn , int printflags ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.pro"
static HashNode getparamnode(HashTable ht , char const   *nam ) ;
#line 3
static void scancopyparams(HashNode hn , int flags  __attribute__((__unused__)) ) ;
#line 4
static void scanparamvals(HashNode hn , int flags ) ;
#line 5
static char **getvaluearr(Value v ) ;
#line 6
static void shempty(void) ;
#line 7
static zlong getarg(char **str , int *inv , Value v , int a2 , zlong *w , int *prevcharlen ,
                    int *nextcharlen ) ;
#line 8
static void check_warn_create(Param pm , char const   *pmtype ) ;
#line 9
static void intsetfn(Param pm , zlong x ) ;
#line 10
static double floatgetfn(Param pm ) ;
#line 11
static void floatsetfn(Param pm , double x ) ;
#line 12
static void simple_arrayuniq(char **x , int freeok ) ;
#line 13
static void arrayuniq_freenode(HashNode hn ) ;
#line 14
static void arrayuniq(char **x , int freeok ) ;
#line 15
static void setlang(char *x ) ;
#line 16
static void argzerosetfn(Param pm  __attribute__((__unused__)) , char *x ) ;
#line 17
static char *argzerogetfn(Param pm  __attribute__((__unused__)) ) ;
#line 18
static char **pipestatgetfn(Param pm  __attribute__((__unused__)) ) ;
#line 19
static void pipestatsetfn(Param pm  __attribute__((__unused__)) , char **x ) ;
#line 23
static void copyenvstr(char *s , char *value , int flags ) ;
#line 24
static char *mkenvstr(char *name , char *value , int flags ) ;
#line 25
static void scanendscope(HashNode hn , int flags  __attribute__((__unused__)) ) ;
#line 117 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
unsigned char keyboardhackchar  =    (unsigned char )'\000';
#line 134 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_scalar  const  stdscalar_gsu  =    {& strgetfn, & strsetfn, & stdunsetfn};
#line 137 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_scalar  const  varscalar_gsu  =    {& strvargetfn, & strvarsetfn, & stdunsetfn};
#line 140 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_scalar  const  nullsetscalar_gsu  =    {& strgetfn, & nullstrsetfn, (void (*)(Param  , int  ))((void *)0)};
#line 144 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_integer  const  stdinteger_gsu  =    {& intgetfn, & intsetfn, & stdunsetfn};
#line 147 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_integer  const  varinteger_gsu  =    {& intvargetfn, & intvarsetfn, & stdunsetfn};
#line 150 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_integer  const  nullsetinteger_gsu  =    {& intgetfn, (void (*)(Param  , zlong  ))((void *)0), (void (*)(Param  , int  ))((void *)0)};
#line 154 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_float  const  stdfloat_gsu  =    {& floatgetfn, & floatsetfn, & stdunsetfn};
#line 158 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_array  const  stdarray_gsu  =    {& arrgetfn, & arrsetfn, & stdunsetfn};
#line 161 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_array  const  vararray_gsu  =    {& arrvargetfn, & arrvarsetfn, & stdunsetfn};
#line 165 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_hash  const  stdhash_gsu  =    {& hashgetfn, & hashsetfn, & stdunsetfn};
#line 168 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
struct gsu_hash  const  nullsethash_gsu  =    {& hashgetfn, & nullsethashfn, & nullunsetfn};
#line 173 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  pound_gsu  =    {& poundgetfn, & nullintsetfn, & stdunsetfn};
#line 175 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  errno_gsu  =    {& errnogetfn, & errnosetfn, & stdunsetfn};
#line 177 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  gid_gsu  =    {& gidgetfn, & gidsetfn, & stdunsetfn};
#line 179 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  egid_gsu  =    {& egidgetfn, & egidsetfn, & stdunsetfn};
#line 181 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  histsize_gsu  =    {& histsizegetfn, & histsizesetfn, & stdunsetfn};
#line 183 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  random_gsu  =    {& randomgetfn, & randomsetfn, & stdunsetfn};
#line 185 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  savehist_gsu  =    {& savehistsizegetfn, & savehistsizesetfn, & stdunsetfn};
#line 187 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  intseconds_gsu  =    {& intsecondsgetfn, & intsecondssetfn, & stdunsetfn};
#line 189 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_float  const  floatseconds_gsu  =    {& floatsecondsgetfn, & floatsecondssetfn, & stdunsetfn};
#line 191 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  uid_gsu  =    {& uidgetfn, & uidsetfn, & stdunsetfn};
#line 193 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  euid_gsu  =    {& euidgetfn, & euidsetfn, & stdunsetfn};
#line 195 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  ttyidle_gsu  =    {& ttyidlegetfn, & nullintsetfn, & stdunsetfn};
#line 198 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  argzero_gsu  =    {& argzerogetfn, & argzerosetfn, & nullunsetfn};
#line 200 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  username_gsu  =    {& usernamegetfn, & usernamesetfn, & stdunsetfn};
#line 202 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  dash_gsu  =    {& dashgetfn, & nullstrsetfn, & stdunsetfn};
#line 204 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  histchars_gsu  =    {& histcharsgetfn, & histcharssetfn, & stdunsetfn};
#line 206 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  home_gsu  =    {& homegetfn, & homesetfn, & stdunsetfn};
#line 208 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  term_gsu  =    {& termgetfn, & termsetfn, & stdunsetfn};
#line 210 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  terminfo_gsu  =    {& terminfogetfn, & terminfosetfn, & stdunsetfn};
#line 212 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  terminfodirs_gsu  =    {& terminfodirsgetfn, & terminfodirssetfn, & stdunsetfn};
#line 214 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  wordchars_gsu  =    {& wordcharsgetfn, & wordcharssetfn, & stdunsetfn};
#line 216 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  ifs_gsu  =    {& ifsgetfn, & ifssetfn, & stdunsetfn};
#line 218 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  underscore_gsu  =    {& underscoregetfn, & nullstrsetfn, & stdunsetfn};
#line 220 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  keyboard_hack_gsu  =    {& keyboardhackgetfn, & keyboardhacksetfn, & stdunsetfn};
#line 223 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  lc_blah_gsu  =    {& strgetfn, & lcsetfn, & stdunsetfn};
#line 225 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  lang_gsu  =    {& strgetfn, & langsetfn, & stdunsetfn};
#line 227 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  lc_all_gsu  =    {& strgetfn, & lc_allsetfn, & stdunsetfn};
#line 231 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  varint_readonly_gsu  =    {& intvargetfn, & nullintsetfn, & stdunsetfn};
#line 233 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  zlevar_gsu  =    {& intvargetfn, & zlevarsetfn, & stdunsetfn};
#line 236 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_scalar  const  colonarr_gsu  =    {& colonarrgetfn, & colonarrsetfn, & stdunsetfn};
#line 239 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_integer  const  argc_gsu  =    {& poundgetfn, & nullintsetfn, & stdunsetfn};
#line 241 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct gsu_array  const  pipestatus_gsu  =    {& pipestatgetfn, & pipestatsetfn, & stdunsetfn};
#line 266 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static initparam special_params[91]  = 
#line 266
  {      {{(HashNode )((void *)0), (char *)"#", ((1 << 1) | (1 << 22)) | (1 << 10)}, {(void *)0},
      {(GsuScalar )((void *)(& pound_gsu))}, 10, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"ERRNO", ((1 << 1) | (1 << 22)) | (1 << 25)},
      {(void *)0}, {(GsuScalar )((void *)(& errno_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"GID", (((1 << 1) | (1 << 22)) | (1 << 23)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& gid_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"EGID", (((1 << 1) | (1 << 22)) | (1 << 23)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& egid_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"HISTSIZE", ((1 << 1) | (1 << 22)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& histsize_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"RANDOM", (1 << 1) | (1 << 22)}, {(void *)0},
      {(GsuScalar )((void *)(& random_gsu))}, 10, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"SAVEHIST", ((1 << 1) | (1 << 22)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& savehist_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"SECONDS", (1 << 1) | (1 << 22)}, {(void *)0},
      {(GsuScalar )((void *)(& intseconds_gsu))}, 10, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"UID", (((1 << 1) | (1 << 22)) | (1 << 23)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& uid_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"EUID", (((1 << 1) | (1 << 22)) | (1 << 23)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& euid_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"TTYIDLE", ((1 << 1) | (1 << 22)) | (1 << 10)},
      {(void *)0}, {(GsuScalar )((void *)(& ttyidle_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"USERNAME", ((1 << 22) | (1 << 23)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& username_gsu))}, 0, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"-", (1 << 22) | (1 << 10)}, {(void *)0}, {(GsuScalar )((void *)(& dash_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"histchars", (1 << 22) | (1 << 23)}, {(void *)0},
      {(GsuScalar )((void *)(& histchars_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"HOME", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& home_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"TERM", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& term_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"TERMINFO", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& terminfo_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"TERMINFO_DIRS", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& terminfodirs_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"WORDCHARS", 1 << 22}, {(void *)0}, {(GsuScalar )((void *)(& wordchars_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"IFS", ((1 << 22) | (1 << 23)) | (1 << 24)},
      {(void *)0}, {(GsuScalar )((void *)(& ifs_gsu))}, 0, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"_", (1 << 22) | (1 << 23)}, {(void *)0}, {(GsuScalar )((void *)(& underscore_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"KEYBOARD_HACK", (1 << 22) | (1 << 23)}, {(void *)0},
      {(GsuScalar )((void *)(& keyboard_hack_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"0", 1 << 22}, {(void *)0}, {(GsuScalar )((void *)(& argzero_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LANG", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& lang_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LC_ALL", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& lc_all_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LC_COLLATE", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& lc_blah_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LC_CTYPE", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& lc_blah_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LC_MESSAGES", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& lc_blah_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LC_NUMERIC", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& lc_blah_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LC_TIME", (1 << 22) | (1 << 25)}, {(void *)0},
      {(GsuScalar )((void *)(& lc_blah_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"!", ((1 << 1) | (1 << 10)) | (1 << 22)}, {(void *)(& lastpid)},
      {(GsuScalar )((void *)(& varint_readonly_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"$", ((1 << 1) | (1 << 10)) | (1 << 22)}, {(void *)(& mypid)},
      {(GsuScalar )((void *)(& varint_readonly_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"?", ((1 << 1) | (1 << 10)) | (1 << 22)}, {(void *)(& lastval)},
      {(GsuScalar )((void *)(& varint_readonly_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"HISTCMD", ((1 << 1) | (1 << 10)) | (1 << 22)},
      {(void *)(& curhist)}, {(GsuScalar )((void *)(& varint_readonly_gsu))}, 10,
      0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LINENO", ((1 << 1) | (1 << 10)) | (1 << 22)},
      {(void *)(& lineno)}, {(GsuScalar )((void *)(& varint_readonly_gsu))}, 10, 0,
      (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PPID", ((1 << 1) | (1 << 10)) | (1 << 22)},
      {(void *)(& ppid)}, {(GsuScalar )((void *)(& varint_readonly_gsu))}, 10, 0,
      (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"ZSH_SUBSHELL", ((1 << 1) | (1 << 10)) | (1 << 22)},
      {(void *)(& zsh_subshell)}, {(GsuScalar )((void *)(& varint_readonly_gsu))},
      10, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"COLUMNS", (1 << 1) | (1 << 22)}, {(void *)(& zterm_columns)},
      {(GsuScalar )((void *)(& zlevar_gsu))}, 10, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"LINES", (1 << 1) | (1 << 22)}, {(void *)(& zterm_lines)},
      {(GsuScalar )((void *)(& zlevar_gsu))}, 10, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"ZLE_RPROMPT_INDENT", ((1 << 1) | (1 << 22)) | (1 << 25)},
      {(void *)(& rprompt_indent)}, {(GsuScalar )((void *)(& zlevar_gsu))}, 10, 0,
      (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"SHLVL", (1 << 1) | (1 << 22)}, {(void *)(& shlvl)},
      {(GsuScalar )((void *)(& varinteger_gsu))}, 10, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"OPTIND", ((1 << 1) | (1 << 22)) | (1 << 23)},
      {(void *)(& zoptind)}, {(GsuScalar )((void *)(& varinteger_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"TRY_BLOCK_ERROR", ((1 << 1) | (1 << 22)) | (1 << 23)},
      {(void *)(& try_errflag)}, {(GsuScalar )((void *)(& varinteger_gsu))}, 10, 0,
      (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"TRY_BLOCK_INTERRUPT", ((1 << 1) | (1 << 22)) | (1 << 23)},
      {(void *)(& try_interrupt)}, {(GsuScalar )((void *)(& varinteger_gsu))}, 10,
      0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"OPTARG", 1 << 22}, {(void *)(& zoptarg)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"NULLCMD", 1 << 22}, {(void *)(& nullcmd)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"POSTEDIT", (1 << 22) | (1 << 25)}, {(void *)(& postedit)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"READNULLCMD", 1 << 22}, {(void *)(& readnullcmd)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PS1", 1 << 22}, {(void *)(& prompt)}, {(GsuScalar )((void *)(& varscalar_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"RPS1", (1 << 22) | (1 << 25)}, {(void *)(& rprompt)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"RPROMPT", (1 << 22) | (1 << 25)}, {(void *)(& rprompt)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PS2", 1 << 22}, {(void *)(& prompt2)}, {(GsuScalar )((void *)(& varscalar_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"RPS2", (1 << 22) | (1 << 25)}, {(void *)(& rprompt2)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"RPROMPT2", (1 << 22) | (1 << 25)}, {(void *)(& rprompt2)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PS3", 1 << 22}, {(void *)(& prompt3)}, {(GsuScalar )((void *)(& varscalar_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PS4", (1 << 22) | (1 << 19)}, {(void *)(& prompt4)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"SPROMPT", 1 << 22}, {(void *)(& sprompt)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"CDPATH", 1 << 22}, {(void *)(& cdpath)}, {(GsuScalar )((void *)(& colonarr_gsu))},
      0, 0, (char *)((void *)0), (char *)"cdpath", (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"FIGNORE", 1 << 22}, {(void *)(& fignore)},
      {(GsuScalar )((void *)(& colonarr_gsu))}, 0, 0, (char *)((void *)0), (char *)"fignore",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"FPATH", 1 << 22}, {(void *)(& fpath)}, {(GsuScalar )((void *)(& colonarr_gsu))},
      0, 0, (char *)((void *)0), (char *)"fpath", (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"MAILPATH", 1 << 22}, {(void *)(& mailpath)},
      {(GsuScalar )((void *)(& colonarr_gsu))}, 0, 0, (char *)((void *)0), (char *)"mailpath",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"WATCH", 1 << 22}, {(void *)(& watch)}, {(GsuScalar )((void *)(& colonarr_gsu))},
      0, 0, (char *)((void *)0), (char *)"watch", (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PATH", (1 << 24) | (1 << 22)}, {(void *)(& path)},
      {(GsuScalar )((void *)(& colonarr_gsu))}, 0, 0, (char *)((void *)0), (char *)"path",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PSVAR", 1 << 22}, {(void *)(& psvar)}, {(GsuScalar )((void *)(& colonarr_gsu))},
      0, 0, (char *)((void *)0), (char *)"psvar", (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"ZSH_EVAL_CONTEXT", (1 << 10) | (1 << 22)},
      {(void *)(& zsh_eval_context)}, {(GsuScalar )((void *)(& colonarr_gsu))}, 0,
      0, (char *)((void *)0), (char *)"zsh_eval_context", (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0),
       (char *)"MODULE_PATH", ((1 << 23) | (1 << 24)) | (1 << 22)}, {(void *)(& module_path)},
      {(GsuScalar )((void *)(& colonarr_gsu))}, 0, 0, (char *)((void *)0), (char *)"module_path",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"*", (((((1 | (1 << 22)) | (1 << 23)) | (1 << 10)) | 1) | (1 << 22)) | (1 << 23)},
      {(void *)(& pparams)}, {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"@", (((((1 | (1 << 22)) | (1 << 23)) | (1 << 10)) | 1) | (1 << 22)) | (1 << 23)},
      {(void *)(& pparams)}, {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)((void *)0), 0}, {(void *)0}, {(GsuScalar )((void *)0)},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"ARGC", ((1 << 1) | (1 << 22)) | (1 << 10)},
      {(void *)0}, {(GsuScalar )((void *)(& argc_gsu))}, 10, 0, (char *)((void *)0),
      (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"HISTCHARS", (1 << 22) | (1 << 23)}, {(void *)0},
      {(GsuScalar )((void *)(& histchars_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"status", ((1 << 1) | (1 << 10)) | (1 << 22)},
      {(void *)(& lastval)}, {(GsuScalar )((void *)(& varint_readonly_gsu))}, 10,
      0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"prompt", 1 << 22}, {(void *)(& prompt)}, {(GsuScalar )((void *)(& varscalar_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PROMPT", 1 << 22}, {(void *)(& prompt)}, {(GsuScalar )((void *)(& varscalar_gsu))},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PROMPT2", 1 << 22}, {(void *)(& prompt2)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PROMPT3", 1 << 22}, {(void *)(& prompt3)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"PROMPT4", 1 << 22}, {(void *)(& prompt4)},
      {(GsuScalar )((void *)(& varscalar_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"MANPATH", 1 << 22}, {(void *)(& manpath)},
      {(GsuScalar )((void *)(& colonarr_gsu))}, 0, 0, (char *)((void *)0), (char *)"manpath",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"argv", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& pparams)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"fignore", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& fignore)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"FIGNORE",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"cdpath", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& cdpath)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"CDPATH",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"fpath", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& fpath)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"FPATH",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"mailpath", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& mailpath)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"MAILPATH",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"manpath", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& manpath)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"MANPATH",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"psvar", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& psvar)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"PSVAR",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"watch", (1 | (1 << 22)) | (1 << 23)}, {(void *)(& watch)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"WATCH",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"zsh_eval_context", (((1 << 10) | 1) | (1 << 22)) | (1 << 23)},
      {(void *)(& zsh_eval_context)}, {(GsuScalar )((void *)(& vararray_gsu))}, 0,
      0, (char *)((void *)0), (char *)"ZSH_EVAL_CONTEXT", (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0),
       (char *)"module_path", (((1 << 24) | 1) | (1 << 22)) | (1 << 23)}, {(void *)(& module_path)},
      {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0), (char *)"MODULE_PATH",
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"path", (((1 << 24) | 1) | (1 << 22)) | (1 << 23)},
      {(void *)(& path)}, {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0),
      (char *)"PATH", (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)"pipestatus", 1 | (1 << 22)}, {(void *)0},
      {(GsuScalar )((void *)(& pipestatus_gsu))}, 10, 0, (char *)((void *)0), (char *)((void *)0),
      (Param )((void *)0), 0}, 
        {{(HashNode )((void *)0), (char *)((void *)0), 0}, {(void *)0}, {(GsuScalar )((void *)0)},
      0, 0, (char *)((void *)0), (char *)((void *)0), (Param )((void *)0), 0}};
#line 423 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static initparam argvparam_pm  = 
#line 423
     {{(HashNode )((void *)0), (char *)"", ((((1 | (1 << 22)) | (1 << 23)) | 1) | (1 << 22)) | (1 << 23)},
    {(void *)(& pparams)}, {(GsuScalar )((void *)(& vararray_gsu))}, 0, 0, (char *)((void *)0),
    (char *)((void *)0), (Param )((void *)0), 0};
#line 432 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static Param argvparam  ;
#line 440 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
HashTable newparamtable(int size , char const   *name ) 
{ 
  HashTable ht ;

  {
#line 444
  if (! size) {
#line 445
    size = 17;
  }
  {
#line 446
  ht = newhashtable(size, name, (void (*)(HashTable  ))((void *)0));
#line 448
  ht->hash = & hasher;
#line 449
  ht->emptytable = & emptyhashtable;
#line 450
  ht->filltable = (void (*)(HashTable  ))((void *)0);
#line 451
  ht->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 452
  ht->addnode = & addhashnode;
#line 453
  ht->getnode = & getparamnode;
#line 454
  ht->getnode2 = & gethashnode2;
#line 455
  ht->removenode = & removehashnode;
#line 456
  ht->disablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 457
  ht->enablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 458
  ht->freenode = & freeparamnode;
#line 459
  ht->printnode = & printparamnode;
  }
#line 461
  return (ht);
}
}
#line 465 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static HashNode getparamnode(HashTable ht , char const   *nam ) 
{ 
  HashNode hn ;
  HashNode tmp ;
  Param pm ;
  char *mn ;
  char *tmp___0 ;
  char const   *tmp___1 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
  {
#line 468
  tmp = gethashnode2(ht, nam);
#line 468
  hn = tmp;
#line 469
  pm = (Param )hn;
  }
#line 471
  if (pm) {
#line 471
    if (pm->u.str) {
#line 471
      if (pm->node.flags & (1 << 27)) {
        {
#line 472
        tmp___0 = dupstring((char const   *)pm->u.str);
#line 472
        mn = tmp___0;
        }
#line 474
        if (pm->node.flags & (1 << 28)) {
#line 474
          tmp___1 = (char const   *)((void *)0);
        } else {
#line 474
          tmp___1 = nam;
        }
        {
#line 474
        ensurefeature((char const   *)mn, "p:", tmp___1);
#line 476
        hn = gethashnode2(ht, nam);
        }
#line 477
        if (! hn) {
          {
#line 483
          zerr("autoloading module %s failed to define parameter: %s", mn, nam);
          }
        }
      }
    }
  }
#line 487
  return (hn);
}
}
#line 492 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static HashTable outtable  ;
#line 495 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void scancopyparams(HashNode hn , int flags  __attribute__((__unused__)) ) 
{ 
  Param pm ;
  Param tpm ;
  void *tmp ;

  {
  {
#line 499
  pm = (Param )hn;
#line 500
  tmp = zshcalloc(sizeof(*tpm));
#line 500
  tpm = (Param )tmp;
#line 501
  tpm->node.nam = ztrdup((char const   *)pm->node.nam);
#line 502
  copyparam(tpm, pm, 0);
#line 503
  addhashnode(outtable, tpm->node.nam, (void *)tpm);
  }
#line 504
  return;
}
}
#line 507 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
HashTable copyparamtable(HashTable ht , char *name ) 
{ 
  HashTable nht ;
  HashTable tmp ;

  {
  {
#line 510
  tmp = newparamtable(ht->hsize, (char const   *)name);
#line 510
  nht = tmp;
#line 511
  outtable = nht;
#line 512
  scanhashtable(ht, 0, 0, 0, & scancopyparams, 0);
#line 513
  outtable = (HashTable )((void *)0);
  }
#line 514
  return (nht);
}
}
#line 519 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static int delunset  ;
#line 524 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void deleteparamtable(HashTable t ) 
{ 
  int odelunset ;

  {
  {
#line 529
  odelunset = delunset;
#line 530
  delunset = 1;
#line 531
  deletehashtable(t);
#line 532
  delunset = odelunset;
  }
#line 533
  return;
}
}
#line 535 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static unsigned int numparamvals  ;
#line 538 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void scancountparams(HashNode hn  __attribute__((__unused__)) , int flags ) 
{ 


  {
#line 541
  numparamvals ++;
#line 542
  if (flags & (1 << 1)) {
#line 542
    if (flags & 1) {
#line 543
      numparamvals ++;
    }
  }
#line 544
  return;
}
}
#line 546 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static Patprog scanprog  ;
#line 547 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char *scanstr  ;
#line 548 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char **paramvals  ;
#line 549 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static Param foundparam  ;
#line 552 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void scanparamvals(HashNode hn , int flags ) 
{ 
  struct value v ;
  Patprog prog ;
  char *tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  unsigned int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;

  {
#line 558
  if (numparamvals) {
#line 558
    if (! (flags & (1 << 5))) {
#line 558
      if (flags & (((1 << 4) | (1 << 3)) | (1 << 7))) {
#line 560
        return;
      }
    }
  }
#line 561
  v.pm = (Param )hn;
#line 562
  if (flags & (1 << 7)) {
    {
#line 563
    tmp___0 = dupstring((char const   *)(v.pm)->node.nam);
#line 563
    tmp = tmp___0;
#line 565
    tokenize(tmp);
#line 566
    remnulargs(tmp);
#line 568
    prog = patcompile(tmp, 0, (char **)((void *)0));
    }
#line 568
    if (prog) {
      {
#line 568
      tmp___1 = pattry(prog, scanstr);
      }
#line 568
      if (! tmp___1) {
#line 569
        return;
      }
    } else {
#line 569
      return;
    }
  } else
#line 570
  if (flags & (1 << 3)) {
    {
#line 570
    tmp___2 = pattry(scanprog, (v.pm)->node.nam);
    }
#line 570
    if (! tmp___2) {
#line 571
      return;
    }
  }
#line 573
  foundparam = v.pm;
#line 574
  if (flags & (1 << 1)) {
#line 575
    tmp___3 = numparamvals;
#line 575
    numparamvals ++;
#line 575
    *(paramvals + tmp___3) = (v.pm)->node.nam;
#line 576
    if (! (flags & (1 | (1 << 4)))) {
#line 577
      return;
    }
  }
  {
#line 579
  v.isarr = ((v.pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4));
#line 580
  v.flags = 0;
#line 581
  v.start = 0;
#line 582
  v.end = -1;
#line 583
  *(paramvals + numparamvals) = getstrvalue(& v);
  }
#line 584
  if (flags & (1 << 4)) {
    {
#line 585
    tmp___5 = pattry(scanprog, *(paramvals + numparamvals));
    }
#line 585
    if (tmp___5) {
#line 586
      if (flags & 1) {
#line 586
        tmp___4 = 1;
      } else {
#line 586
        tmp___4 = ! (flags & (1 << 1));
      }
#line 586
      numparamvals += (unsigned int )tmp___4;
    } else
#line 588
    if (flags & (1 << 1)) {
#line 589
      numparamvals --;
    }
  } else {
#line 591
    numparamvals ++;
  }
#line 592
  foundparam = (Param )((void *)0);
#line 593
  return;
}
}
#line 596 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char **paramvalarr(HashTable ht , int flags ) 
{ 
  void *tmp ;

  {
#line 601
  numparamvals = 0U;
#line 602
  if (ht) {
    {
#line 603
    scanhashtable(ht, 0, 0, 1 << 25, & scancountparams, flags);
    }
  }
  {
#line 604
  tmp = zhalloc((unsigned long )(numparamvals + 1U) * sizeof(char *));
#line 604
  paramvals = (char **)tmp;
  }
#line 605
  if (ht) {
    {
#line 606
    numparamvals = 0U;
#line 607
    scanhashtable(ht, 0, 0, 1 << 25, & scanparamvals, flags);
    }
  }
#line 609
  *(paramvals + numparamvals) = (char *)0;
#line 610
  return (paramvals);
}
}
#line 617 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char **getvaluearr(Value v ) 
{ 
  char **tmp ;
  HashTable tmp___0 ;

  {
#line 620
  if (v->arr) {
#line 621
    return (v->arr);
  } else
#line 622
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
    {
#line 623
    tmp = (*(((v->pm)->gsu.a)->getfn))(v->pm);
#line 623
    v->arr = tmp;
    }
#line 623
    return (tmp);
  } else
#line 624
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
    {
#line 625
    tmp___0 = (*(((v->pm)->gsu.h)->getfn))(v->pm);
#line 625
    v->arr = paramvalarr(tmp___0, v->isarr);
#line 627
    v->start = 0;
#line 628
    v->end = (int )(numparamvals + 1U);
    }
#line 629
    return (v->arr);
  } else {
#line 631
    return ((char **)((void *)0));
  }
}
}
#line 639 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
int issetvar(char *name ) 
{ 
  struct value vbuf ;
  Value v ;
  int slice ;
  char **arr ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char tmp___2 ;

  {
  {
#line 647
  v = getvalue(& vbuf, & name, 1);
  }
#line 647
  if (v) {
#line 647
    if (*name) {
#line 648
      return (0);
    }
  } else {
#line 648
    return (0);
  }
#line 649
  if (v->isarr & ~ (1 << 9)) {
#line 650
    return (v->end > 1);
  }
#line 652
  if (v->start != 0) {
#line 652
    tmp = 1;
  } else
#line 652
  if (v->end != -1) {
#line 652
    tmp = 1;
  } else {
#line 652
    tmp = 0;
  }
#line 652
  slice = tmp;
#line 653
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) != 1) {
#line 653
    goto _L;
  } else
#line 653
  if (! slice) {
    _L: /* CIL Label */ 
#line 654
    if (! slice) {
#line 654
      if (! ((v->pm)->node.flags & (1 << 25))) {
#line 654
        tmp___0 = 1;
      } else {
#line 654
        tmp___0 = 0;
      }
    } else {
#line 654
      tmp___0 = 0;
    }
#line 654
    return (tmp___0);
  }
#line 656
  if (! v->end) {
#line 657
    return (0);
  }
  {
#line 659
  arr = getvaluearr(v);
  }
#line 659
  if (! arr) {
#line 660
    return (0);
  }
#line 661
  if (v->end < 0) {
#line 661
    tmp___1 = - v->end;
  } else {
#line 661
    tmp___1 = v->end;
  }
  {
#line 661
  tmp___2 = arrlen_ge(arr, (unsigned int )tmp___1);
  }
#line 661
  return ((int )tmp___2);
}
}
#line 670 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static int split_env_string(char *env , char **name , char **value ) 
{ 
  char *str ;
  char *tenv ;
  size_t tmp ;
  void *tmp___0 ;

  {
#line 675
  if (! env) {
#line 676
    return (0);
  } else
#line 675
  if (! name) {
#line 676
    return (0);
  } else
#line 675
  if (! value) {
#line 676
    return (0);
  }
  {
#line 678
  tmp = strlen((char const   *)env);
#line 678
  tmp___0 = zhalloc(tmp + 1UL);
#line 678
  tenv = strcpy((char */* __restrict  */)tmp___0, (char const   */* __restrict  */)env);
#line 679
  str = tenv;
  }
  {
#line 679
  while (1) {
    while_continue: /* CIL Label */ ;
#line 679
    if (*str) {
#line 679
      if (! ((int )*str != 61)) {
#line 679
        goto while_break;
      }
    } else {
#line 679
      goto while_break;
    }
#line 680
    if ((int )((unsigned char )*str) >= 128) {
#line 686
      return (0);
    }
#line 679
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 689
  if ((unsigned long )str != (unsigned long )tenv) {
#line 689
    if ((int )*str == 61) {
#line 690
      *str = (char )'\000';
#line 691
      *name = tenv;
#line 692
      *value = str + 1;
#line 693
      return (1);
    } else {
#line 695
      return (0);
    }
  } else {
#line 695
    return (0);
  }
}
}
#line 704 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static int dontimport(int flags ) 
{ 


  {
#line 707
  if (flags & (1 << 23)) {
#line 708
    return (1);
  }
#line 710
  if (flags & (1 << 12)) {
#line 711
    return (1);
  }
#line 713
  if (flags & (1 << 19)) {
#line 713
    if (opts[138]) {
#line 714
      return (1);
    }
  }
#line 716
  return (0);
}
}
#line 724 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void createparamtable(void) 
{ 
  Param ip ;
  Param pm ;
  char **envp2 ;
  char **sigptr ;
  char **t ;
  char buf___7[50] ;
  char *str ;
  char *iname ;
  char *ivalue ;
  char *hostnam ;
  int oae ;
  struct utsname unamebuf ;
  char *machinebuf ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  void *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  HashNode tmp___9 ;
  int tmp___10 ;
  char *tmp___11 ;
  int tmp___12 ;
  char *tmp___13 ;
  int tmp___14 ;
  HashNode tmp___15 ;
  HashNode tmp___16 ;
  HashNode tmp___17 ;
  char *tmp___18 ;
  int tmp___19 ;
  char *tmp___20 ;
  char *tmp___21 ;
  char *tmp___22 ;
  char *tmp___23 ;
  char *tmp___24 ;
  char *tmp___25 ;
  char *tmp___26 ;
  void *tmp___27 ;
  char **tmp___28 ;
  char *tmp___29 ;
  char **tmp___30 ;
  void *__cil_tmp46 ;
  void *__cil_tmp47 ;
  void *__cil_tmp48 ;
  void *__cil_tmp49 ;
  void *__cil_tmp50 ;
  void *__cil_tmp51 ;
  void *__cil_tmp52 ;
  char *__cil_tmp53 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;

  {
  {
#line 737
  oae = (int )opts[2];
#line 743
  realparamtab = newparamtable(151, "paramtab");
#line 743
  paramtab = realparamtab;
#line 746
  ip = special_params;
  }
  {
#line 746
  while (1) {
    while_continue: /* CIL Label */ ;
#line 746
    if (! ip->node.nam) {
#line 746
      goto while_break;
    }
    {
#line 747
    tmp = ztrdup((char const   *)ip->node.nam);
#line 747
    (*(paramtab->addnode))(paramtab, tmp, (void *)ip);
#line 746
    ip ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 748
  if (! (emulation & ((1 << 3) | (1 << 2)))) {
    {
#line 749
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 749
      ip ++;
#line 749
      if (! ip->node.nam) {
#line 749
        goto while_break___0;
      }
      {
#line 750
      tmp___0 = ztrdup((char const   *)ip->node.nam);
#line 750
      (*(paramtab->addnode))(paramtab, tmp___0, (void *)ip);
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  {
#line 752
  argvparam = & argvparam_pm;
#line 754
  noerrs = 2;
#line 760
  opts[2] = (char)0;
#line 761
  setiparam((char *)"MAILCHECK", (zlong )60);
#line 762
  setiparam((char *)"LOGCHECK", (zlong )60);
#line 763
  setiparam((char *)"KEYTIMEOUT", (zlong )40);
#line 764
  setiparam((char *)"LISTMAX", (zlong )100);
#line 775
  tmp___1 = ztrdup_metafy("/tmp/zsh");
#line 775
  setsparam((char *)"TMPPREFIX", tmp___1);
#line 776
  tmp___2 = ztrdup_metafy("%J  %U user %S system %P cpu %*E total");
#line 776
  setsparam((char *)"TIMEFMT", tmp___2);
#line 777
  tmp___3 = ztrdup_metafy((char const   *)default_watchfmt);
#line 777
  setsparam((char *)"WATCHFMT", tmp___3);
#line 779
  tmp___4 = zalloc((size_t )256);
#line 779
  hostnam = (char *)tmp___4;
#line 780
  gethostname(hostnam, (size_t )256);
#line 781
  tmp___5 = ztrdup_metafy((char const   *)hostnam);
#line 781
  setsparam((char *)"HOST", tmp___5);
#line 782
  zfree((void *)hostnam, 256);
#line 784
  str = getlogin();
  }
#line 784
  if (str) {
#line 784
    if (*str) {
#line 784
      tmp___6 = str;
    } else {
#line 784
      tmp___6 = cached_username;
    }
  } else {
#line 784
    tmp___6 = cached_username;
  }
  {
#line 784
  tmp___7 = ztrdup_metafy((char const   *)tmp___6);
#line 784
  setsparam((char *)"LOGNAME", tmp___7);
#line 798
  pushheap();
#line 803
  envp2 = environ;
  }
  {
#line 803
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 803
    if (! *envp2) {
#line 803
      goto while_break___1;
    }
    {
#line 808
    tmp___14 = split_env_string(*envp2, & iname, & ivalue);
    }
#line 808
    if (tmp___14) {
#line 809
      if (! ((int )typtab[(unsigned char )*iname] & 1)) {
        {
#line 809
        tmp___12 = isident(iname);
        }
#line 809
        if (tmp___12) {
          {
#line 809
          tmp___13 = strchr((char const   *)iname, '[');
          }
#line 809
          if (! tmp___13) {
            {
#line 815
            tmp___9 = (*(paramtab->getnode))(paramtab, (char const   *)iname);
#line 815
            pm = (Param )tmp___9;
            }
#line 815
            if (pm) {
              {
#line 815
              tmp___10 = dontimport(pm->node.flags);
              }
#line 815
              if (! tmp___10) {
                _L: /* CIL Label */ 
                {
#line 815
                tmp___11 = metafy(ivalue, -1, 3);
#line 815
                pm = assignsparam(iname, tmp___11, 4);
                }
#line 815
                if (pm) {
#line 819
                  pm->node.flags |= 1 << 12;
#line 820
                  if (pm->node.flags & (1 << 22)) {
                    {
#line 821
                    tmp___8 = getsparam(pm->node.nam);
#line 821
                    pm->env = mkenvstr(pm->node.nam, tmp___8, pm->node.flags);
                    }
                  } else {
                    {
#line 824
                    pm->env = ztrdup((char const   *)*envp2);
                    }
                  }
                }
              }
            } else {
#line 815
              goto _L;
            }
          }
        }
      }
    }
#line 803
    envp2 ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 832
  popheap();
#line 836
  opts[2] = (char )oae;
#line 842
  tmp___15 = (*(paramtab->getnode))(paramtab, "HOME");
#line 842
  pm = (Param )tmp___15;
  }
#line 843
  if (emulation & (1 << 4)) {
#line 845
    pm->node.flags &= ~ (1 << 25);
#line 846
    if (! (pm->node.flags & (1 << 12))) {
      {
#line 847
      addenv(pm, home);
      }
    }
  } else
#line 848
  if (! home) {
#line 849
    pm->node.flags |= 1 << 25;
  }
  {
#line 850
  tmp___16 = (*(paramtab->getnode))(paramtab, "LOGNAME");
#line 850
  pm = (Param )tmp___16;
  }
#line 851
  if (! (pm->node.flags & (1 << 12))) {
    {
#line 852
    addenv(pm, pm->u.str);
    }
  }
  {
#line 853
  tmp___17 = (*(paramtab->getnode))(paramtab, "SHLVL");
#line 853
  pm = (Param )tmp___17;
#line 854
  shlvl ++;
#line 854
  sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%d",
          (int )shlvl);
#line 856
  addenv(pm, buf___7);
#line 859
  set_pwd_env();
#line 861
  tmp___19 = uname(& unamebuf);
  }
#line 861
  if (tmp___19) {
    {
#line 861
    tmp___18 = ztrdup("unknown");
#line 861
    setsparam((char *)"CPUTYPE", tmp___18);
    }
  } else {
    {
#line 864
    machinebuf = ztrdup_metafy((char const   *)(unamebuf.machine));
#line 865
    setsparam((char *)"CPUTYPE", machinebuf);
    }
  }
  {
#line 871
  tmp___20 = ztrdup_metafy("x86_64");
#line 871
  setsparam((char *)"MACHTYPE", tmp___20);
#line 872
  tmp___21 = ztrdup_metafy("linux-gnu");
#line 872
  setsparam((char *)"OSTYPE", tmp___21);
#line 873
  tmp___22 = ztrdup_metafy((char const   *)ttystrname);
#line 873
  setsparam((char *)"TTY", tmp___22);
#line 874
  tmp___23 = ztrdup_metafy("unknown");
#line 874
  setsparam((char *)"VENDOR", tmp___23);
#line 875
  tmp___24 = ztrdup((char const   *)posixzero);
#line 875
  setsparam((char *)"ZSH_ARGZERO", tmp___24);
#line 876
  tmp___25 = ztrdup_metafy("5.3.1");
#line 876
  setsparam((char *)"ZSH_VERSION", tmp___25);
#line 877
  tmp___26 = ztrdup_metafy("");
#line 877
  setsparam((char *)"ZSH_PATCHLEVEL", tmp___26);
#line 878
  tmp___27 = zalloc(35UL * sizeof(char *));
#line 878
  sigptr = (char **)tmp___27;
#line 878
  setaparam((char *)"signals", sigptr);
#line 879
  t = sigs;
  }
  {
#line 879
  while (1) {
    while_continue___2: /* CIL Label */ ;
    {
#line 879
    tmp___28 = sigptr;
#line 879
    sigptr ++;
#line 879
    tmp___30 = t;
#line 879
    t ++;
#line 879
    tmp___29 = ztrdup_metafy((char const   *)*tmp___30);
#line 879
    *tmp___28 = tmp___29;
    }
#line 879
    if (! tmp___29) {
#line 879
      goto while_break___2;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
#line 881
  noerrs = 0;
#line 882
  return;
}
}
#line 887 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void assigngetset(Param pm ) 
{ 


  {
  {
#line 891
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 891
    goto case_0;
  }
#line 894
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 894
    goto case_exp;
  }
#line 898
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 898
    goto case_exp___0;
  }
#line 898
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 898
    goto case_exp___0;
  }
#line 901
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 901
    goto case_1;
  }
#line 904
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 904
    goto case_exp___2;
  }
#line 907
  goto switch_default;
  case_0: /* CIL Label */ 
#line 892
  pm->gsu.s = & stdscalar_gsu;
#line 893
  goto switch_break;
  case_exp: /* CIL Label */ 
#line 895
  pm->gsu.i = & stdinteger_gsu;
#line 896
  goto switch_break;
  case_exp___0: /* CIL Label */ 
  case_exp___1: /* CIL Label */ 
#line 899
  pm->gsu.f = & stdfloat_gsu;
#line 900
  goto switch_break;
  case_1: /* CIL Label */ 
#line 902
  pm->gsu.a = & stdarray_gsu;
#line 903
  goto switch_break;
  case_exp___2: /* CIL Label */ 
#line 905
  pm->gsu.h = & stdhash_gsu;
#line 906
  goto switch_break;
  switch_default: /* CIL Label */ ;
#line 909
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 911
  return;
}
}
#line 922 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param createparam(char *name , int flags ) 
{ 
  Param pm ;
  Param oldpm ;
  HashNode tmp ;
  HashNode tmp___0 ;
  HashNode tmp___1 ;
  Param altpm ;
  HashNode tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  Param tmp___5 ;
  char *tmp___6 ;
  void *tmp___7 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 927
  if ((unsigned long )paramtab != (unsigned long )realparamtab) {
#line 928
    flags = (flags & ~ (1 << 12)) | (1 << 29);
  }
#line 930
  if ((unsigned long )name != (unsigned long )(nulstring)) {
#line 931
    if ((unsigned long )paramtab == (unsigned long )realparamtab) {
      {
#line 931
      tmp = gethashnode2(paramtab, (char const   *)name);
#line 931
      tmp___1 = tmp;
      }
    } else {
      {
#line 931
      tmp___0 = (*(paramtab->getnode))(paramtab, (char const   *)name);
#line 931
      tmp___1 = tmp___0;
      }
    }
#line 931
    oldpm = (Param )tmp___1;
#line 938
    if (oldpm) {
#line 938
      if (oldpm->level == locallevel) {
#line 938
        goto _L___1;
      } else
#line 938
      if (! (flags & (1 << 21))) {
        _L___1: /* CIL Label */ 
#line 939
        if (opts[130]) {
#line 939
          if (oldpm->node.flags & (1 << 10)) {
            {
#line 940
            zerr("read-only variable: %s", name);
            }
#line 941
            return ((Param )((void *)0));
          }
        }
#line 943
        if (oldpm->node.flags & (1 << 24)) {
#line 943
          if (opts[153]) {
            {
#line 944
            zerr("%s: restricted", name);
            }
#line 945
            return ((Param )((void *)0));
          }
        }
#line 947
        if (! (oldpm->node.flags & (1 << 25))) {
#line 947
          goto _L;
        } else
#line 947
        if (oldpm->node.flags & (1 << 22)) {
#line 947
          goto _L;
        } else
#line 947
        if (opts[130]) {
#line 947
          if (oldpm->node.flags & (1 << 12)) {
            _L: /* CIL Label */ 
#line 951
            oldpm->node.flags &= ~ (1 << 25);
#line 952
            if (oldpm->node.flags & (1 << 22)) {
#line 952
              if (oldpm->ename) {
                {
#line 953
                tmp___2 = (*(paramtab->getnode))(paramtab, (char const   *)oldpm->ename);
#line 953
                altpm = (Param )tmp___2;
                }
#line 955
                if (altpm) {
#line 956
                  altpm->node.flags &= ~ (1 << 25);
                }
              }
            }
#line 958
            return ((Param )((void *)0));
          }
        }
#line 961
        pm = oldpm;
#line 962
        tmp___3 = 0;
#line 962
        pm->width = tmp___3;
#line 962
        pm->base = tmp___3;
#line 963
        oldpm = pm->old;
      } else {
#line 938
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      {
#line 965
      tmp___4 = zshcalloc(sizeof(*pm));
#line 965
      pm = (Param )tmp___4;
#line 966
      tmp___5 = oldpm;
#line 966
      pm->old = tmp___5;
      }
#line 966
      if (tmp___5) {
#line 971
        if (oldpm->env) {
          {
#line 972
          delenv(oldpm);
          }
        }
        {
#line 973
        (*(paramtab->removenode))(paramtab, (char const   *)name);
        }
      }
      {
#line 975
      tmp___6 = ztrdup((char const   *)name);
#line 975
      (*(paramtab->addnode))(paramtab, tmp___6, (void *)pm);
      }
    }
#line 978
    if (opts[2]) {
#line 978
      if (! (flags & (1 << 29))) {
#line 979
        flags |= 1 << 12;
      }
    }
  } else {
    {
#line 981
    tmp___7 = hcalloc(sizeof(*pm));
#line 981
    pm = (Param )tmp___7;
#line 982
    pm->node.nam = nulstring;
    }
  }
#line 984
  pm->node.flags = flags & ~ (1 << 21);
#line 986
  if (! (pm->node.flags & (1 << 22))) {
    {
#line 987
    assigngetset(pm);
    }
  }
#line 988
  return (pm);
}
}
#line 994 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void shempty(void) 
{ 


  {
#line 997
  return;
}
}
#line 1010 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param createspecialhash(char *name , HashNode (*get)(HashTable  , char const   * ) ,
                        void (*scan)(HashTable  , void (*)(HashNode  , int  ) , int  ) ,
                        int flags ) 
{ 
  Param pm ;
  HashTable ht ;
  HashNode (*tmp)(HashTable  , char const   * ) ;

  {
  {
#line 1016
  pm = createparam(name, ((1 << 22) | (1 << 4)) | flags);
  }
#line 1016
  if (! pm) {
#line 1017
    return ((Param )((void *)0));
  }
#line 1033
  if (pm->old) {
#line 1034
    pm->level = locallevel;
  }
#line 1035
  if (flags & (1 << 10)) {
#line 1035
    pm->gsu.h = & stdhash_gsu;
  } else {
#line 1035
    pm->gsu.h = & nullsethash_gsu;
  }
  {
#line 1037
  ht = newhashtable(0, (char const   *)name, (void (*)(HashTable  ))((void *)0));
#line 1037
  pm->u.hash = ht;
#line 1039
  ht->hash = & hasher;
#line 1040
  ht->emptytable = (void (*)(HashTable  ))(& shempty);
#line 1041
  ht->filltable = (void (*)(HashTable  ))((void *)0);
#line 1042
  ht->addnode = (void (*)(HashTable  , char * , void * ))(& shempty);
#line 1043
  tmp = get;
#line 1043
  ht->getnode2 = tmp;
#line 1043
  ht->getnode = tmp;
#line 1044
  ht->removenode = (HashNode (*)(HashTable  , char const   * ))(& shempty);
#line 1045
  ht->disablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 1046
  ht->enablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 1047
  ht->freenode = (void (*)(HashNode  ))(& shempty);
#line 1048
  ht->printnode = & printparamnode;
#line 1049
  ht->scantab = scan;
  }
#line 1051
  return (pm);
}
}
#line 1064 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void copyparam(Param tpm , Param pm , int fakecopy ) 
{ 
  char *tmp ;
  char **tmp___0 ;
  HashTable tmp___1 ;

  {
#line 1073
  tpm->node.flags = pm->node.flags;
#line 1074
  tpm->base = pm->base;
#line 1075
  tpm->width = pm->width;
#line 1076
  tpm->level = pm->level;
#line 1077
  if (! fakecopy) {
#line 1078
    tpm->node.flags &= ~ (1 << 22);
  }
  {
#line 1080
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 1080
    goto case_0;
  }
#line 1083
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 1083
    goto case_exp;
  }
#line 1087
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 1087
    goto case_exp___0;
  }
#line 1087
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 1087
    goto case_exp___0;
  }
#line 1090
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 1090
    goto case_1;
  }
#line 1093
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 1093
    goto case_exp___2;
  }
#line 1079
  goto switch_break;
  case_0: /* CIL Label */ 
  {
#line 1081
  tmp = (*((pm->gsu.s)->getfn))(pm);
#line 1081
  tpm->u.str = ztrdup((char const   *)tmp);
  }
#line 1082
  goto switch_break;
  case_exp: /* CIL Label */ 
  {
#line 1084
  tpm->u.val = (*((pm->gsu.i)->getfn))(pm);
  }
#line 1085
  goto switch_break;
  case_exp___0: /* CIL Label */ 
  case_exp___1: /* CIL Label */ 
  {
#line 1088
  tpm->u.dval = (*((pm->gsu.f)->getfn))(pm);
  }
#line 1089
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 1091
  tmp___0 = (*((pm->gsu.a)->getfn))(pm);
#line 1091
  tpm->u.arr = zarrdup(tmp___0);
  }
#line 1092
  goto switch_break;
  case_exp___2: /* CIL Label */ 
  {
#line 1094
  tmp___1 = (*((pm->gsu.h)->getfn))(pm);
#line 1094
  tpm->u.hash = copyparamtable(tmp___1, pm->node.nam);
  }
#line 1095
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 1106
  if (! fakecopy) {
    {
#line 1107
    assigngetset(tpm);
    }
  }
#line 1108
  return;
}
}
#line 1113 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
int isident(char *s ) 
{ 
  char *ss ;

  {
#line 1118
  if (! *s) {
#line 1119
    return (0);
  }
#line 1121
  if ((int )typtab[(unsigned char )*s] & 1) {
#line 1123
    s ++;
#line 1123
    ss = s;
    {
#line 1123
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1123
      if (! *ss) {
#line 1123
        goto while_break;
      }
#line 1124
      if (! ((int )typtab[(unsigned char )*ss] & 1)) {
#line 1125
        goto while_break;
      }
#line 1123
      ss ++;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 1128
    ss = itype_end((char const   *)s, 1 << 7, 0);
    }
  }
#line 1133
  if (! *ss) {
#line 1134
    return (1);
  }
#line 1135
  if ((unsigned long )s == (unsigned long )ss) {
#line 1136
    return (0);
  }
#line 1137
  if ((int )*ss != 91) {
#line 1138
    return (0);
  }
  {
#line 1141
  ss ++;
#line 1141
  ss = parse_subscript(ss, 1, ']');
  }
#line 1141
  if (! ss) {
#line 1142
    return (0);
  }
  {
#line 1143
  untokenize(s);
  }
#line 1144
  return (! *(ss + 1));
}
}
#line 1173 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static zlong getarg(char **str , int *inv , Value v , int a2 , zlong *w , int *prevcharlen ,
                    int *nextcharlen ) 
{ 
  int hasbeg ;
  int word ;
  int rev ;
  int ind ;
  int down ;
  int l ;
  int i ;
  int ishash ;
  int keymatch ;
  int needtok ;
  int arglen ;
  int len ;
  char *s ;
  char *sep ;
  char *t ;
  char sav ;
  char *d___0 ;
  char **ta ;
  char **p ;
  char *tt ;
  char c ;
  zlong num ;
  zlong beg ;
  zlong r ;
  zlong quote_arg ;
  Patprog pprog ;
  int tmp ;
  int escapes ;
  int waste ;
  char *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  HashTable ht ;
  HashTable tmp___4 ;
  HashTable tht ;
  Param tmp___5 ;
  HashNode tmp___6 ;
  int tmp___7 ;
  char *tmp___8 ;
  int lastcharlen ;
  zlong nchars ;
  zlong nchars___0 ;
  int tmp___9 ;
  size_t tmp___10 ;
  size_t tmp___11 ;
  size_t tmp___12 ;
  void *tmp___13 ;
  void *tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  size_t tmp___20 ;
  int tmp___21 ;
  int slen ;
  size_t tmp___22 ;
  char *de ;
  int nmatches ;
  char *lastpos ;
  int tmp___23 ;
  int tmp___24 ;
  int tmp___25 ;
  int tmp___26 ;
  int tmp___27 ;
  int tmp___28 ;
  int tmp___29 ;
  int tmp___30 ;
  int lastcharlen___0 ;
  int nmatches___0 ;
  char *lastpos___0 ;
  int tmp___31 ;
  int tmp___32 ;
  int tmp___33 ;
  int tmp___34 ;
  int tmp___35 ;
  int tmp___36 ;
  int tmp___37 ;
  int tmp___38 ;
  int tmp___39 ;
  int tmp___40 ;
  char *__cil_tmp90 ;
  char *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;

  {
#line 1177
  hasbeg = 0;
#line 1177
  word = 0;
#line 1177
  rev = 0;
#line 1177
  ind = 0;
#line 1177
  down = 0;
#line 1178
  keymatch = 0;
#line 1178
  needtok = 0;
#line 1179
  s = *str;
#line 1179
  sep = (char *)((void *)0);
#line 1180
  num = (zlong )1;
#line 1180
  beg = (zlong )0;
#line 1180
  r = (zlong )0;
#line 1180
  quote_arg = (zlong )0;
#line 1181
  pprog = (Patprog )((void *)0);
#line 1188
  if (! opts[51]) {
#line 1188
    tmp = 1;
  } else
#line 1188
  if (v->pm) {
#line 1188
    if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 1188
      tmp = 1;
    } else {
#line 1188
      tmp = 0;
    }
  } else {
#line 1188
    tmp = 0;
  }
#line 1188
  ishash = tmp;
#line 1190
  if (prevcharlen) {
#line 1191
    *prevcharlen = 1;
  }
#line 1192
  if (nextcharlen) {
#line 1193
    *nextcharlen = 1;
  }
#line 1196
  if (v->pm) {
#line 1196
    if ((int )*s == 40) {
#line 1196
      goto _L;
    } else
#line 1196
    if ((int )*s == -120) {
      _L: /* CIL Label */ 
#line 1197
      escapes = 0;
#line 1199
      s ++;
      {
#line 1199
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1199
        if ((int )*s != 41) {
#line 1199
          if ((int )*s != -118) {
#line 1199
            if (! ((unsigned long )s != (unsigned long )*str)) {
#line 1199
              goto while_break;
            }
          } else {
#line 1199
            goto while_break;
          }
        } else {
#line 1199
          goto while_break;
        }
        {
#line 1201
        if ((int )*s == 114) {
#line 1201
          goto case_114;
        }
#line 1205
        if ((int )*s == 82) {
#line 1205
          goto case_82;
        }
#line 1209
        if ((int )*s == 107) {
#line 1209
          goto case_107;
        }
#line 1214
        if ((int )*s == 75) {
#line 1214
          goto case_75;
        }
#line 1219
        if ((int )*s == 105) {
#line 1219
          goto case_105;
        }
#line 1223
        if ((int )*s == 73) {
#line 1223
          goto case_73;
        }
#line 1227
        if ((int )*s == 119) {
#line 1227
          goto case_119;
        }
#line 1232
        if ((int )*s == 102) {
#line 1232
          goto case_102;
        }
#line 1236
        if ((int )*s == 101) {
#line 1236
          goto case_101;
        }
#line 1239
        if ((int )*s == 110) {
#line 1239
          goto case_110;
        }
#line 1251
        if ((int )*s == 98) {
#line 1251
          goto case_98;
        }
#line 1263
        if ((int )*s == 112) {
#line 1263
          goto case_112;
        }
#line 1266
        if ((int )*s == 115) {
#line 1266
          goto case_115;
        }
#line 1280
        goto flagerr;
        case_114: /* CIL Label */ 
#line 1202
        rev = 1;
#line 1203
        ind = 0;
#line 1203
        down = ind;
#line 1203
        keymatch = down;
#line 1204
        goto switch_break;
        case_82: /* CIL Label */ 
#line 1206
        down = 1;
#line 1206
        rev = down;
#line 1207
        ind = 0;
#line 1207
        keymatch = ind;
#line 1208
        goto switch_break;
        case_107: /* CIL Label */ 
#line 1210
        keymatch = ishash;
#line 1211
        rev = 1;
#line 1212
        ind = 0;
#line 1212
        down = ind;
#line 1213
        goto switch_break;
        case_75: /* CIL Label */ 
#line 1215
        keymatch = ishash;
#line 1216
        down = 1;
#line 1216
        rev = down;
#line 1217
        ind = 0;
#line 1218
        goto switch_break;
        case_105: /* CIL Label */ 
#line 1220
        ind = 1;
#line 1220
        rev = ind;
#line 1221
        keymatch = 0;
#line 1221
        down = keymatch;
#line 1222
        goto switch_break;
        case_73: /* CIL Label */ 
#line 1224
        down = 1;
#line 1224
        ind = down;
#line 1224
        rev = ind;
#line 1225
        keymatch = 0;
#line 1226
        goto switch_break;
        case_119: /* CIL Label */ 
#line 1230
        word = 1;
#line 1231
        goto switch_break;
        case_102: /* CIL Label */ 
#line 1233
        word = 1;
#line 1234
        sep = (char *)"\n";
#line 1235
        goto switch_break;
        case_101: /* CIL Label */ 
#line 1237
        quote_arg = (zlong )1;
#line 1238
        goto switch_break;
        case_110: /* CIL Label */ 
        {
#line 1240
        s ++;
#line 1240
        t = get_strarg(s, & arglen);
        }
#line 1241
        if (! *t) {
#line 1242
          goto flagerr;
        }
        {
#line 1243
        sav = *t;
#line 1244
        *t = (char )'\000';
#line 1245
        num = mathevalarg(s + arglen, & d___0);
        }
#line 1246
        if (! num) {
#line 1247
          num = (zlong )1;
        }
#line 1248
        *t = sav;
#line 1249
        s = (t + arglen) - 1;
#line 1250
        goto switch_break;
        case_98: /* CIL Label */ 
        {
#line 1252
        hasbeg = 1;
#line 1253
        s ++;
#line 1253
        t = get_strarg(s, & arglen);
        }
#line 1254
        if (! *t) {
#line 1255
          goto flagerr;
        }
        {
#line 1256
        sav = *t;
#line 1257
        *t = (char )'\000';
#line 1258
        beg = mathevalarg(s + arglen, & d___0);
        }
#line 1258
        if (beg > 0L) {
#line 1259
          beg --;
        }
#line 1260
        *t = sav;
#line 1261
        s = (t + arglen) - 1;
#line 1262
        goto switch_break;
        case_112: /* CIL Label */ 
#line 1264
        escapes = 1;
#line 1265
        goto switch_break;
        case_115: /* CIL Label */ 
        {
#line 1269
        s ++;
#line 1269
        t = get_strarg(s, & arglen);
        }
#line 1270
        if (! *t) {
#line 1271
          goto flagerr;
        }
#line 1272
        sav = *t;
#line 1273
        *t = (char )'\000';
#line 1274
        s += arglen;
#line 1275
        if (escapes) {
          {
#line 1275
          tmp___0 = getkeystring(s, & waste, 3, (int *)((void *)0));
#line 1275
          sep = tmp___0;
          }
        } else {
          {
#line 1275
          tmp___1 = dupstring((char const   *)s);
#line 1275
          sep = tmp___1;
          }
        }
#line 1277
        *t = sav;
#line 1278
        s = (t + arglen) - 1;
#line 1279
        goto switch_break;
        flagerr: 
        switch_default: /* CIL Label */ 
#line 1282
        num = (zlong )1;
#line 1283
        keymatch = 0;
#line 1283
        down = keymatch;
#line 1283
        ind = down;
#line 1283
        rev = ind;
#line 1283
        word = rev;
#line 1284
        sep = (char *)((void *)0);
#line 1285
        s = *str - 1;
        switch_break: /* CIL Label */ ;
        }
#line 1199
        s ++;
      }
      while_break: /* CIL Label */ ;
      }
#line 1288
      if ((unsigned long )s != (unsigned long )*str) {
#line 1289
        s ++;
      }
    }
  }
#line 1291
  if (num < 0L) {
#line 1292
    down = ! down;
#line 1293
    num = - num;
  }
#line 1295
  if (v->isarr & (1 << 1)) {
#line 1296
    if (ind) {
#line 1296
      tmp___2 = 1;
    } else
#line 1296
    if (! (v->isarr & 1)) {
#line 1296
      tmp___2 = 1;
    } else {
#line 1296
      tmp___2 = 0;
    }
#line 1296
    *inv = tmp___2;
  } else
#line 1297
  if (v->isarr & 1) {
#line 1298
    *inv = 0;
  } else {
#line 1300
    if (v->isarr) {
#line 1301
      if (ind) {
#line 1302
        v->isarr |= 1 << 1;
#line 1303
        v->isarr &= -2;
      } else
#line 1304
      if (rev) {
#line 1305
        v->isarr |= 1;
      }
#line 1310
      if (! down) {
#line 1310
        if (keymatch) {
#line 1310
          if (ishash) {
#line 1311
            v->isarr &= ~ (1 << 5);
          }
        }
      }
    }
#line 1313
    *inv = ind;
  }
#line 1316
  t = s;
#line 1316
  i = 0;
  {
#line 1316
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1316
    c = *t;
#line 1316
    if (c) {
#line 1316
      if ((int )c != -110) {
#line 1316
        if (! ishash) {
#line 1316
          if (! ((int )c != 44)) {
#line 1316
            goto _L___1;
          }
        }
      } else
      _L___1: /* CIL Label */ 
#line 1316
      if (! i) {
#line 1316
        goto while_break___0;
      }
    } else {
#line 1316
      goto while_break___0;
    }
#line 1320
    if ((int )typtab[(unsigned char )c] & (1 << 14)) {
#line 1321
      c = *(t + 1);
#line 1322
      if ((int )c == 91) {
#line 1322
        goto _L___0;
      } else
#line 1322
      if ((int )c == 93) {
#line 1322
        goto _L___0;
      } else
#line 1322
      if ((int )c == 40) {
#line 1322
        goto _L___0;
      } else
#line 1322
      if ((int )c == 41) {
#line 1322
        goto _L___0;
      } else
#line 1322
      if ((int )c == 123) {
#line 1322
        goto _L___0;
      } else
#line 1322
      if ((int )c == 125) {
        _L___0: /* CIL Label */ 
#line 1326
        if (ishash) {
#line 1326
          if (i) {
#line 1327
            *t = ztokens[(int )*t - -124];
          }
        }
#line 1328
        needtok = 1;
#line 1329
        t ++;
      } else
#line 1330
      if ((int )c != 34) {
#line 1331
        *t = ztokens[(int )*t - -124];
      }
#line 1332
      goto __Cont;
    }
#line 1335
    if ((int )c == 91) {
#line 1336
      i ++;
    } else
#line 1335
    if ((int )c == -111) {
#line 1336
      i ++;
    } else
#line 1337
    if ((int )c == 93) {
#line 1338
      i --;
    } else
#line 1337
    if ((int )c == -110) {
#line 1338
      i --;
    }
#line 1339
    if ((int )typtab[(unsigned char )c] & (1 << 11)) {
#line 1340
      needtok = 1;
    }
    __Cont: /* CIL Label */ 
#line 1316
    t ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1342
  if (! c) {
#line 1343
    return ((zlong )0);
  }
#line 1344
  tt = t;
#line 1344
  *str = tt;
#line 1351
  if (! opts[51]) {
#line 1352
    return ((zlong )0);
  }
  {
#line 1354
  s = dupstrpfx((char const   *)s, (int )(t - s));
  }
#line 1360
  if (ishash) {
#line 1360
    if (keymatch) {
      {
#line 1361
      remnulargs(s);
      }
    } else
#line 1360
    if (! rev) {
      {
#line 1361
      remnulargs(s);
      }
    }
  }
#line 1362
  if (needtok) {
    {
#line 1363
    s = dupstring((char const   *)s);
#line 1364
    tmp___3 = parsestr(& s);
    }
#line 1364
    if (tmp___3) {
#line 1365
      return ((zlong )0);
    }
    {
#line 1366
    singsub(& s);
    }
  } else
#line 1367
  if (rev) {
    {
#line 1368
    remnulargs(s);
    }
  }
#line 1369
  if (! rev) {
#line 1370
    if (ishash) {
      {
#line 1371
      tmp___4 = (*(((v->pm)->gsu.h)->getfn))(v->pm);
#line 1371
      ht = tmp___4;
      }
#line 1372
      if (! ht) {
        {
#line 1373
        ht = newparamtable(17, (char const   *)(v->pm)->node.nam);
#line 1374
        (*(((v->pm)->gsu.h)->setfn))(v->pm, ht);
        }
      }
      {
#line 1376
      untokenize(s);
#line 1377
      tmp___6 = (*(ht->getnode))(ht, (char const   *)s);
#line 1377
      tmp___5 = (Param )tmp___6;
#line 1377
      v->pm = tmp___5;
      }
#line 1377
      if (! tmp___5) {
        {
#line 1378
        tht = paramtab;
#line 1379
        paramtab = ht;
#line 1380
        v->pm = createparam(s, 1 << 25);
#line 1381
        paramtab = tht;
        }
      }
#line 1383
      if (*inv) {
#line 1383
        v->isarr = 1 << 2;
      } else {
#line 1383
        v->isarr = 0;
      }
#line 1384
      v->start = 0;
#line 1385
      *inv = 0;
#line 1386
      tmp___7 = -1;
#line 1386
      v->end = tmp___7;
#line 1386
      *w = (zlong )tmp___7;
#line 1387
      if (opts[94]) {
#line 1387
        r = (zlong )1;
      } else {
#line 1387
        r = (zlong )0;
      }
    } else {
      {
#line 1389
      r = mathevalarg(s, & s);
      }
#line 1390
      if (opts[94]) {
#line 1390
        if (r >= 0L) {
#line 1391
          r ++;
        }
      }
    }
#line 1393
    if (word) {
#line 1393
      if (! v->isarr) {
        {
#line 1394
        t = getstrvalue(v);
#line 1394
        s = t;
#line 1395
        i = wordcount(s, sep, 0);
        }
#line 1396
        if (r < 0L) {
#line 1397
          r += (zlong )(i + 1);
        }
#line 1398
        if (r < 1L) {
#line 1399
          r = (zlong )1;
        }
#line 1400
        if (r > (zlong )i) {
#line 1401
          r = (zlong )i;
        }
#line 1402
        if (! s) {
#line 1403
          return ((zlong )0);
        } else
#line 1402
        if (! *s) {
#line 1403
          return ((zlong )0);
        }
        {
#line 1404
        while (1) {
          while_continue___1: /* CIL Label */ ;
          {
#line 1404
          d___0 = findword(& s, sep);
          }
#line 1404
          if (d___0) {
#line 1404
            r --;
#line 1404
            if (! r) {
#line 1404
              goto while_break___1;
            }
          } else {
#line 1404
            goto while_break___1;
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 1405
        if (! d___0) {
#line 1406
          return ((zlong )0);
        }
#line 1408
        if (! a2) {
#line 1408
          if ((int )*tt != 44) {
#line 1409
            *w = s - t;
          }
        }
#line 1411
        if (a2) {
#line 1411
          tmp___8 = s;
        } else {
#line 1411
          tmp___8 = d___0 + 1;
        }
#line 1411
        return (tmp___8 - t);
      } else {
#line 1393
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 1412
    if (! v->isarr) {
#line 1412
      if (! word) {
        {
#line 1413
        lastcharlen = 1;
#line 1414
        s = getstrvalue(v);
        }
#line 1422
        if (r > 0L) {
          {
#line 1423
          nchars = r;
#line 1425
          mb_charinit();
#line 1426
          t = s;
          }
          {
#line 1426
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 1426
            if (nchars) {
#line 1426
              if (! *t) {
#line 1426
                goto while_break___2;
              }
            } else {
#line 1426
              goto while_break___2;
            }
            {
#line 1427
            lastcharlen = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1427
            t += lastcharlen;
#line 1426
            nchars --;
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 1429
          r = (t - s) + nchars;
#line 1430
          if (prevcharlen) {
#line 1430
            if (! nchars) {
#line 1431
              *prevcharlen = lastcharlen;
            }
          }
#line 1432
          if (nextcharlen) {
#line 1432
            if (*t) {
              {
#line 1433
              *nextcharlen = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
              }
            }
          }
        } else
#line 1434
        if (r == 0L) {
#line 1435
          if (prevcharlen) {
#line 1436
            *prevcharlen = 0;
          }
#line 1437
          if (nextcharlen) {
#line 1437
            if (*s) {
              {
#line 1438
              mb_charinit();
#line 1439
              *nextcharlen = mb_metacharlenconv((char const   *)s, (wint_t *)((void *)0));
              }
            }
          }
        } else {
          {
#line 1442
          tmp___9 = mb_metastrlenend(s, 0, (char *)((void *)0));
#line 1442
          nchars___0 = (zlong )tmp___9 + r;
          }
#line 1444
          if (nchars___0 < 0L) {
            {
#line 1446
            tmp___10 = strlen((char const   *)s);
#line 1446
            r -= (zlong )tmp___10;
            }
          } else {
            {
#line 1448
            mb_charinit();
#line 1449
            t = s;
            }
            {
#line 1449
            while (1) {
              while_continue___3: /* CIL Label */ ;
#line 1449
              if (nchars___0) {
#line 1449
                if (! *t) {
#line 1449
                  goto while_break___3;
                }
              } else {
#line 1449
                goto while_break___3;
              }
              {
#line 1450
              lastcharlen = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1450
              t += lastcharlen;
#line 1449
              nchars___0 --;
              }
            }
            while_break___3: /* CIL Label */ ;
            }
            {
#line 1451
            tmp___11 = strlen((char const   *)t);
#line 1451
            r = - ((zlong )tmp___11);
            }
#line 1452
            if (prevcharlen) {
#line 1453
              *prevcharlen = lastcharlen;
            }
#line 1454
            if (nextcharlen) {
#line 1454
              if (*t) {
                {
#line 1455
                *nextcharlen = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
                }
              }
            }
          }
        }
      }
    }
  } else {
#line 1460
    if (! v->isarr) {
#line 1460
      if (! word) {
        {
#line 1461
        tmp___12 = strlen((char const   *)s);
#line 1461
        l = (int )tmp___12;
        }
#line 1462
        if (a2) {
#line 1463
          if (! l) {
            {
#line 1464
            tmp___13 = hcalloc((size_t )(l + 2));
#line 1464
            d___0 = (char *)tmp___13;
#line 1465
            *d___0 = (char )'*';
#line 1466
            strcpy((char */* __restrict  */)(d___0 + 1), (char const   */* __restrict  */)s);
#line 1467
            s = d___0;
            }
          } else
#line 1463
          if ((int )*s != 42) {
            {
#line 1464
            tmp___13 = hcalloc((size_t )(l + 2));
#line 1464
            d___0 = (char *)tmp___13;
#line 1465
            *d___0 = (char )'*';
#line 1466
            strcpy((char */* __restrict  */)(d___0 + 1), (char const   */* __restrict  */)s);
#line 1467
            s = d___0;
            }
          }
        } else
#line 1470
        if (! l) {
          {
#line 1471
          tmp___14 = hcalloc((size_t )(l + 2));
#line 1471
          d___0 = (char *)tmp___14;
#line 1472
          strcpy((char */* __restrict  */)d___0, (char const   */* __restrict  */)s);
#line 1473
          strcat((char */* __restrict  */)d___0, (char const   */* __restrict  */)"*");
#line 1474
          s = d___0;
          }
        } else
#line 1470
        if ((int )*(s + (l - 1)) != 42) {
          {
#line 1471
          tmp___14 = hcalloc((size_t )(l + 2));
#line 1471
          d___0 = (char *)tmp___14;
#line 1472
          strcpy((char */* __restrict  */)d___0, (char const   */* __restrict  */)s);
#line 1473
          strcat((char */* __restrict  */)d___0, (char const   */* __restrict  */)"*");
#line 1474
          s = d___0;
          }
        } else
#line 1470
        if (l > 1) {
#line 1470
          if ((int )*(s + (l - 2)) == 92) {
            {
#line 1471
            tmp___14 = hcalloc((size_t )(l + 2));
#line 1471
            d___0 = (char *)tmp___14;
#line 1472
            strcpy((char */* __restrict  */)d___0, (char const   */* __restrict  */)s);
#line 1473
            strcat((char */* __restrict  */)d___0, (char const   */* __restrict  */)"*");
#line 1474
            s = d___0;
            }
          }
        }
      }
    }
#line 1478
    if (! keymatch) {
#line 1479
      if (quote_arg) {
        {
#line 1480
        untokenize(s);
        }
      } else {
        {
#line 1482
        tokenize(s);
        }
      }
      {
#line 1483
      remnulargs(s);
#line 1484
      pprog = patcompile(s, 0, (char **)((void *)0));
      }
    } else {
#line 1486
      pprog = (Patprog )((void *)0);
    }
#line 1488
    if (v->isarr) {
#line 1489
      if (ishash) {
#line 1490
        scanprog = pprog;
#line 1491
        scanstr = s;
#line 1492
        if (keymatch) {
#line 1493
          v->isarr |= 1 << 7;
        } else {
#line 1495
          if (! pprog) {
#line 1496
            return ((zlong )1);
          }
#line 1497
          if (ind) {
#line 1498
            v->isarr |= 1 << 3;
          } else {
#line 1500
            v->isarr |= 1 << 4;
          }
        }
#line 1502
        if (down) {
#line 1503
          v->isarr |= 1 << 5;
        }
        {
#line 1504
        ta = getvaluearr(v);
        }
#line 1504
        if (ta) {
#line 1504
          if (*ta) {
#line 1504
            goto _L___3;
          } else
#line 1504
          if (v->isarr & (1 << 5)) {
#line 1504
            if (v->isarr & (((1 << 3) | (1 << 4)) | (1 << 7))) {
              _L___3: /* CIL Label */ 
#line 1508
              if (v->flags & 1) {
#line 1508
                *inv = 1;
              } else {
#line 1508
                *inv = 0;
              }
#line 1509
              *w = (zlong )v->end;
#line 1510
              scanprog = (Patprog )((void *)0);
#line 1511
              return ((zlong )1);
            }
          }
        }
#line 1513
        scanprog = (Patprog )((void *)0);
      } else {
        {
#line 1515
        ta = getarrvalue(v);
        }
      }
#line 1516
      if (! ta) {
#line 1517
        return ((zlong )(! down));
      } else
#line 1516
      if (! *ta) {
#line 1517
        return ((zlong )(! down));
      }
      {
#line 1518
      len = arrlen(ta);
      }
#line 1519
      if (beg < 0L) {
#line 1520
        beg += (zlong )len;
      }
#line 1521
      if (down) {
#line 1522
        if (beg < 0L) {
#line 1523
          return ((zlong )0);
        }
      } else
#line 1524
      if (beg >= (zlong )len) {
#line 1525
        return ((zlong )(len + 1));
      }
#line 1526
      if (beg >= 0L) {
#line 1526
        if (beg < (zlong )len) {
#line 1527
          if (down) {
#line 1528
            if (! hasbeg) {
#line 1529
              beg = (zlong )(len - 1);
            }
#line 1530
            r = 1L + beg;
#line 1530
            p = ta + beg;
            {
#line 1530
            while (1) {
              while_continue___4: /* CIL Label */ ;
#line 1530
              if (! ((unsigned long )p >= (unsigned long )ta)) {
#line 1530
                goto while_break___4;
              }
#line 1531
              if (pprog) {
                {
#line 1531
                tmp___15 = pattry(pprog, *p);
                }
#line 1531
                if (tmp___15) {
#line 1531
                  num --;
#line 1531
                  if (! num) {
#line 1532
                    return (r);
                  }
                }
              }
#line 1530
              r --;
#line 1530
              p --;
            }
            while_break___4: /* CIL Label */ ;
            }
          } else {
#line 1535
            r = 1L + beg;
#line 1535
            p = ta + beg;
            {
#line 1535
            while (1) {
              while_continue___5: /* CIL Label */ ;
#line 1535
              if (! *p) {
#line 1535
                goto while_break___5;
              }
#line 1536
              if (pprog) {
                {
#line 1536
                tmp___16 = pattry(pprog, *p);
                }
#line 1536
                if (tmp___16) {
#line 1536
                  num --;
#line 1536
                  if (! num) {
#line 1537
                    return (r);
                  }
                }
              }
#line 1535
              r ++;
#line 1535
              p ++;
            }
            while_break___5: /* CIL Label */ ;
            }
          }
        }
      }
    } else
#line 1539
    if (word) {
      {
#line 1540
      s = getstrvalue(v);
#line 1540
      d___0 = s;
#line 1540
      ta = sepsplit(d___0, sep, 1, 1);
#line 1541
      len = arrlen(ta);
      }
#line 1542
      if (beg < 0L) {
#line 1543
        beg += (zlong )len;
      }
#line 1544
      if (down) {
#line 1545
        if (beg < 0L) {
#line 1546
          return ((zlong )0);
        }
      } else
#line 1547
      if (beg >= (zlong )len) {
#line 1548
        return ((zlong )(len + 1));
      }
#line 1549
      if (beg >= 0L) {
#line 1549
        if (beg < (zlong )len) {
#line 1550
          if (down) {
#line 1551
            if (! hasbeg) {
#line 1552
              beg = (zlong )(len - 1);
            }
#line 1553
            r = 1L + beg;
#line 1553
            p = ta + beg;
            {
#line 1553
            while (1) {
              while_continue___6: /* CIL Label */ ;
#line 1553
              if (! ((unsigned long )p >= (unsigned long )ta)) {
#line 1553
                goto while_break___6;
              }
#line 1554
              if (pprog) {
                {
#line 1554
                tmp___17 = pattry(pprog, *p);
                }
#line 1554
                if (tmp___17) {
#line 1554
                  num --;
#line 1554
                  if (! num) {
#line 1555
                    goto while_break___6;
                  }
                }
              }
#line 1553
              p --;
#line 1553
              r --;
            }
            while_break___6: /* CIL Label */ ;
            }
#line 1556
            if ((unsigned long )p < (unsigned long )ta) {
#line 1557
              return ((zlong )0);
            }
          } else {
#line 1559
            r = 1L + beg;
#line 1559
            p = ta + beg;
            {
#line 1559
            while (1) {
              while_continue___7: /* CIL Label */ ;
#line 1559
              if (! *p) {
#line 1559
                goto while_break___7;
              }
#line 1560
              if (pprog) {
                {
#line 1560
                tmp___18 = pattry(pprog, *p);
                }
#line 1560
                if (tmp___18) {
#line 1560
                  num --;
#line 1560
                  if (! num) {
#line 1561
                    goto while_break___7;
                  }
                }
              }
#line 1559
              r ++;
#line 1559
              p ++;
            }
            while_break___7: /* CIL Label */ ;
            }
#line 1562
            if (! *p) {
#line 1563
              return ((zlong )0);
            }
          }
        }
      }
#line 1566
      if (a2) {
#line 1567
        r ++;
      }
#line 1568
      i = 0;
      {
#line 1568
      while (1) {
        while_continue___8: /* CIL Label */ ;
        {
#line 1568
        t = findword(& d___0, sep);
        }
#line 1568
        if (t) {
#line 1568
          if (! *t) {
#line 1568
            goto while_break___8;
          }
        } else {
#line 1568
          goto while_break___8;
        }
#line 1569
        r --;
#line 1569
        if (! r) {
#line 1570
          if (a2) {
#line 1570
            tmp___19 = -1;
          } else {
#line 1570
            tmp___19 = 1;
          }
#line 1570
          r = (t - s) + (long )tmp___19;
#line 1571
          if (! a2) {
#line 1571
            if ((int )*tt != 44) {
              {
#line 1572
              tmp___20 = strlen((char const   *)*(ta + i));
#line 1572
              *w = (zlong )(((size_t )r + tmp___20) - 1UL);
              }
            }
          }
#line 1573
          return (r);
        }
#line 1568
        i ++;
      }
      while_break___8: /* CIL Label */ ;
      }
#line 1575
      if (a2) {
#line 1575
        tmp___21 = -1;
      } else {
#line 1575
        tmp___21 = 0;
      }
#line 1575
      return ((zlong )tmp___21);
    } else {
      {
#line 1579
      d___0 = getstrvalue(v);
      }
#line 1580
      if (! d___0) {
#line 1581
        return ((zlong )0);
      } else
#line 1580
      if (! *d___0) {
#line 1581
        return ((zlong )0);
      }
      {
#line 1586
      len = mb_metastrlenend(d___0, 0, (char *)((void *)0));
#line 1587
      tmp___22 = strlen((char const   *)d___0);
#line 1587
      slen = (int )tmp___22;
      }
#line 1588
      if (beg < 0L) {
#line 1589
        beg += (zlong )len;
      }
      {
#line 1590
      mb_charinit();
      }
#line 1591
      if (beg >= 0L) {
#line 1591
        if (beg < (zlong )len) {
#line 1592
          de = d___0 + slen;
#line 1594
          if (a2) {
#line 1600
            if (down) {
#line 1601
              nmatches = 0;
#line 1602
              lastpos = (char *)((void *)0);
#line 1604
              if (! hasbeg) {
#line 1605
                beg = (zlong )len;
              }
#line 1611
              t = d___0;
#line 1611
              r = (zlong )0;
              {
#line 1611
              while (1) {
                while_continue___9: /* CIL Label */ ;
#line 1611
                if (! (r <= beg)) {
#line 1611
                  goto while_break___9;
                }
#line 1612
                sav = *t;
#line 1613
                *t = (char )'\000';
#line 1614
                if (pprog) {
                  {
#line 1614
                  tmp___23 = pattry(pprog, d___0);
                  }
#line 1614
                  if (tmp___23) {
#line 1615
                    nmatches ++;
#line 1616
                    lastpos = t;
                  }
                }
#line 1618
                *t = sav;
#line 1619
                if ((unsigned long )t == (unsigned long )de) {
#line 1620
                  goto while_break___9;
                }
                {
#line 1621
                tmp___24 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1621
                t += tmp___24;
#line 1611
                r ++;
                }
              }
              while_break___9: /* CIL Label */ ;
              }
#line 1624
              if ((zlong )nmatches >= num) {
#line 1625
                if (num > 1L) {
                  {
#line 1626
                  nmatches = (int )((zlong )nmatches - num);
#line 1627
                  mb_charinit();
#line 1628
                  t = d___0;
#line 1628
                  r = (zlong )0;
                  }
                  {
#line 1628
                  while (1) {
                    while_continue___10: /* CIL Label */ ;
#line 1629
                    sav = *t;
#line 1630
                    *t = (char )'\000';
#line 1631
                    if (pprog) {
                      {
#line 1631
                      tmp___25 = pattry(pprog, d___0);
                      }
#line 1631
                      if (tmp___25) {
#line 1631
                        tmp___26 = nmatches;
#line 1631
                        nmatches --;
#line 1631
                        if (tmp___26 == 0) {
#line 1633
                          lastpos = t;
#line 1634
                          *t = sav;
#line 1635
                          goto while_break___10;
                        }
                      }
                    }
                    {
#line 1637
                    *t = sav;
#line 1638
                    tmp___27 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1638
                    t += tmp___27;
#line 1628
                    r ++;
                    }
                  }
                  while_break___10: /* CIL Label */ ;
                  }
                }
#line 1643
                return (lastpos - d___0);
              }
            } else {
#line 1651
              t = d___0;
              {
#line 1651
              while (1) {
                while_continue___11: /* CIL Label */ ;
#line 1651
                if (beg) {
#line 1651
                  if (! ((unsigned long )t <= (unsigned long )de)) {
#line 1651
                    goto while_break___11;
                  }
                } else {
#line 1651
                  goto while_break___11;
                }
                {
#line 1652
                tmp___28 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1652
                t += tmp___28;
#line 1651
                beg --;
                }
              }
              while_break___11: /* CIL Label */ ;
              }
              {
#line 1653
              while (1) {
                while_continue___12: /* CIL Label */ ;
#line 1654
                sav = *t;
#line 1655
                *t = (char )'\000';
#line 1656
                if (pprog) {
                  {
#line 1656
                  tmp___29 = pattry(pprog, d___0);
                  }
#line 1656
                  if (tmp___29) {
#line 1656
                    num --;
#line 1656
                    if (! num) {
#line 1657
                      *t = sav;
#line 1663
                      return (t - d___0);
                    }
                  }
                }
#line 1665
                *t = sav;
#line 1666
                if ((unsigned long )t == (unsigned long )de) {
#line 1667
                  goto while_break___12;
                }
                {
#line 1668
                tmp___30 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1668
                t += tmp___30;
                }
              }
              while_break___12: /* CIL Label */ ;
              }
            }
          } else
#line 1678
          if (down) {
#line 1679
            nmatches___0 = 0;
#line 1680
            lastpos___0 = (char *)((void *)0);
#line 1682
            if (! hasbeg) {
#line 1683
              beg = (zlong )len;
            }
#line 1694
            t = d___0;
#line 1694
            r = (zlong )0;
            {
#line 1694
            while (1) {
              while_continue___13: /* CIL Label */ ;
#line 1694
              if (! (r <= beg)) {
#line 1694
                goto while_break___13;
              }
#line 1695
              if (pprog) {
                {
#line 1695
                tmp___31 = pattry(pprog, t);
                }
#line 1695
                if (tmp___31) {
#line 1696
                  nmatches___0 ++;
#line 1697
                  lastpos___0 = t;
                }
              }
#line 1699
              if ((unsigned long )t == (unsigned long )de) {
#line 1700
                goto while_break___13;
              }
              {
#line 1701
              tmp___32 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1701
              t += tmp___32;
#line 1694
              r ++;
              }
            }
            while_break___13: /* CIL Label */ ;
            }
#line 1704
            if ((zlong )nmatches___0 >= num) {
#line 1705
              if (num > 1L) {
                {
#line 1710
                nmatches___0 = (int )((zlong )nmatches___0 - num);
#line 1711
                mb_charinit();
#line 1712
                t = d___0;
#line 1712
                r = (zlong )0;
                }
                {
#line 1712
                while (1) {
                  while_continue___14: /* CIL Label */ ;
#line 1713
                  if (pprog) {
                    {
#line 1713
                    tmp___33 = pattry(pprog, t);
                    }
#line 1713
                    if (tmp___33) {
#line 1713
                      tmp___34 = nmatches___0;
#line 1713
                      nmatches___0 --;
#line 1713
                      if (tmp___34 == 0) {
#line 1715
                        lastpos___0 = t;
#line 1716
                        goto while_break___14;
                      }
                    }
                  }
                  {
#line 1718
                  tmp___35 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1718
                  t += tmp___35;
#line 1712
                  r ++;
                  }
                }
                while_break___14: /* CIL Label */ ;
                }
              }
              {
#line 1724
              lastcharlen___0 = mb_metacharlenconv((char const   *)lastpos___0, (wint_t *)((void *)0));
#line 1724
              lastpos___0 += lastcharlen___0;
              }
#line 1726
              if (prevcharlen) {
#line 1727
                *prevcharlen = lastcharlen___0;
              }
#line 1728
              if (nextcharlen) {
                {
#line 1729
                *nextcharlen = mb_metacharlenconv((char const   *)lastpos___0, (wint_t *)((void *)0));
                }
              }
#line 1730
              return (lastpos___0 - d___0);
            }
#line 1733
            r = beg + 1L;
#line 1733
            t = d___0 + beg;
            {
#line 1733
            while (1) {
              while_continue___15: /* CIL Label */ ;
#line 1733
              if (! ((unsigned long )t >= (unsigned long )d___0)) {
#line 1733
                goto while_break___15;
              }
#line 1734
              if (pprog) {
                {
#line 1734
                tmp___36 = pattry(pprog, t);
                }
#line 1734
                if (tmp___36) {
#line 1734
                  num --;
#line 1734
                  if (! num) {
#line 1736
                    return (r);
                  }
                }
              }
#line 1733
              r --;
#line 1733
              t --;
            }
            while_break___15: /* CIL Label */ ;
            }
          } else {
#line 1739
            t = d___0;
            {
#line 1739
            while (1) {
              while_continue___16: /* CIL Label */ ;
#line 1739
              if (beg) {
#line 1739
                if (! ((unsigned long )t <= (unsigned long )de)) {
#line 1739
                  goto while_break___16;
                }
              } else {
#line 1739
                goto while_break___16;
              }
              {
#line 1740
              tmp___37 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1740
              t += tmp___37;
#line 1739
              beg --;
              }
            }
            while_break___16: /* CIL Label */ ;
            }
            {
#line 1741
            while (1) {
              while_continue___17: /* CIL Label */ ;
#line 1742
              if (pprog) {
                {
#line 1742
                tmp___38 = pattry(pprog, t);
                }
#line 1742
                if (tmp___38) {
#line 1742
                  num --;
#line 1742
                  if (! num) {
                    {
#line 1744
                    lastcharlen___0 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1744
                    t += lastcharlen___0;
                    }
#line 1745
                    if (prevcharlen) {
#line 1746
                      *prevcharlen = lastcharlen___0;
                    }
#line 1747
                    if (nextcharlen) {
                      {
#line 1748
                      *nextcharlen = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
                      }
                    }
#line 1749
                    return (t - d___0);
                  }
                }
              }
#line 1751
              if ((unsigned long )t == (unsigned long )de) {
#line 1752
                goto while_break___17;
              }
              {
#line 1753
              tmp___39 = mb_metacharlenconv((char const   *)t, (wint_t *)((void *)0));
#line 1753
              t += tmp___39;
              }
            }
            while_break___17: /* CIL Label */ ;
            }
          }
        }
      }
#line 1758
      if (down) {
#line 1758
        tmp___40 = 0;
      } else {
#line 1758
        tmp___40 = slen + 1;
      }
#line 1758
      return ((zlong )tmp___40);
    }
  }
#line 1761
  return (r);
}
}
#line 1777 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
int getindex(char **pptr , Value v , int flags ) 
{ 
  int start ;
  int end ;
  int inv ;
  char *s ;
  char *tbrack ;
  char *tmp ;
  zlong we___0 ;
  zlong dummy___0 ;
  int startprevlen ;
  int startnextlen ;
  zlong tmp___0 ;
  char *t ;
  char *p ;
  int nstart ;
  char *target ;
  int tmp___1 ;
  zlong startoff ;
  size_t tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int com ;
  zlong tmp___5 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;

  {
  {
#line 1780
  inv = 0;
#line 1781
  s = *pptr;
#line 1783
  tmp = s;
#line 1783
  s ++;
#line 1783
  *tmp = (char )'[';
#line 1785
  s = parse_subscript(s, flags & (1 << 8), ']');
#line 1789
  tbrack = *pptr + 1;
  }
  {
#line 1789
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1789
    if (*tbrack) {
#line 1789
      if (! ((unsigned long )tbrack != (unsigned long )s)) {
#line 1789
        goto while_break;
      }
    } else {
#line 1789
      goto while_break;
    }
#line 1790
    if ((int )typtab[(unsigned char )*tbrack] & (1 << 14)) {
#line 1790
      tbrack ++;
#line 1790
      if (! *tbrack) {
#line 1791
        goto while_break;
      }
    }
#line 1792
    if ((int )typtab[(unsigned char )*tbrack] & (1 << 4)) {
#line 1793
      *tbrack = ztokens[(int )*tbrack - -124];
    }
#line 1789
    tbrack ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1796
  if (*tbrack) {
#line 1797
    *tbrack = (char)-110;
  } else {
    {
#line 1799
    zerr("invalid subscript");
#line 1800
    *pptr = tbrack;
    }
#line 1801
    return (1);
  }
#line 1803
  s = *pptr + 1;
#line 1804
  if ((int )*(s + 0) == 42) {
#line 1804
    goto _L___2;
  } else
#line 1804
  if ((int )*(s + 0) == 64) {
    _L___2: /* CIL Label */ 
#line 1804
    if ((unsigned long )(s + 1) == (unsigned long )tbrack) {
#line 1805
      if (v->isarr) {
#line 1805
        goto _L___0;
      } else
#line 1805
      if (v) {
#line 1805
        if (! v->pm) {
#line 1805
          goto _L___0;
        } else
#line 1805
        if ((v->pm)->node.flags & (1 << 25)) {
#line 1805
          goto _L___0;
        } else
#line 1805
        if (! (v->pm)->node.nam) {
#line 1805
          goto _L___0;
        } else
#line 1805
        if (! *((v->pm)->node.nam)) {
          _L___0: /* CIL Label */ 
#line 1805
          if ((int )*(s + 0) == 64) {
#line 1806
            v->isarr |= (int )(4294967295U << 15);
          }
        }
      }
#line 1807
      v->start = 0;
#line 1808
      v->end = -1;
#line 1809
      s += 2;
    } else {
#line 1804
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    {
#line 1811
    we___0 = (zlong )0;
#line 1814
    tmp___0 = getarg(& s, & inv, v, 0, & we___0, & startprevlen, & startnextlen);
#line 1814
    start = (int )tmp___0;
    }
#line 1816
    if (inv) {
#line 1817
      if (! v->isarr) {
#line 1817
        if (start != 0) {
          {
#line 1819
          t = getstrvalue(v);
          }
#line 1826
          if (start > 0) {
            {
#line 1827
            nstart = 0;
#line 1828
            target = (t + start) - startprevlen;
#line 1830
            p = t;
#line 1831
            mb_charinit();
            }
            {
#line 1832
            while (1) {
              while_continue___0: /* CIL Label */ ;
#line 1832
              if (! *p) {
#line 1832
                goto while_break___0;
              }
              {
#line 1837
              tmp___1 = mb_metacharlenconv((char const   *)p, (wint_t *)((void *)0));
#line 1837
              p += tmp___1;
              }
#line 1838
              if ((unsigned long )p < (unsigned long )target) {
#line 1839
                nstart ++;
              } else {
#line 1841
                if ((unsigned long )p == (unsigned long )target) {
#line 1842
                  nstart ++;
                } else {
#line 1844
                  p = target;
                }
#line 1845
                goto while_break___0;
              }
            }
            while_break___0: /* CIL Label */ ;
            }
#line 1849
            start = (int )(((long )nstart + (target - p)) + 1L);
          } else {
            {
#line 1851
            tmp___2 = strlen((char const   *)t);
#line 1851
            startoff = (zlong )((size_t )start + tmp___2);
            }
#line 1855
            if (startoff < 0L) {
#line 1857
              start = (int )startoff;
            } else {
              {
#line 1860
              mb_charinit();
#line 1861
              p = t;
              }
              {
#line 1861
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 1861
                if (! ((unsigned long )p < (unsigned long )(t + startoff))) {
#line 1861
                  goto while_break___1;
                }
                {
#line 1862
                tmp___3 = mb_metacharlenconv((char const   *)p, (wint_t *)((void *)0));
#line 1862
                p += tmp___3;
                }
              }
              while_break___1: /* CIL Label */ ;
              }
              {
#line 1863
              tmp___4 = mb_metastrlenend(p, 0, (char *)((void *)0));
#line 1863
              start = - tmp___4;
              }
            }
          }
        }
      }
#line 1867
      if (start > 0) {
#line 1867
        if (opts[94]) {
#line 1868
          start --;
        } else
#line 1867
        if ((v->pm)->node.flags & (1 << 4)) {
#line 1868
          start --;
        }
      }
#line 1869
      if (v->isarr != 1 << 2) {
#line 1870
        v->flags |= 1;
#line 1871
        v->isarr = 0;
#line 1872
        v->start = start;
#line 1873
        v->end = start + 1;
      }
#line 1875
      if ((int )*s == 44) {
        {
#line 1876
        zerr("invalid subscript");
#line 1877
        *tbrack = (char )']';
#line 1878
        *pptr = tbrack + 1;
        }
#line 1879
        return (1);
      }
#line 1881
      if ((unsigned long )s == (unsigned long )tbrack) {
#line 1882
        s ++;
      }
    } else {
#line 1886
      com = (int )*s == 44;
#line 1886
      if (com) {
        {
#line 1887
        s ++;
#line 1888
        tmp___5 = getarg(& s, & inv, v, 1, & dummy___0, (int *)((void *)0), (int *)((void *)0));
#line 1888
        end = (int )tmp___5;
        }
      } else
#line 1890
      if (we___0) {
#line 1890
        end = (int )we___0;
      } else {
#line 1890
        end = start;
      }
#line 1892
      if (start != end) {
#line 1893
        com = 1;
      }
#line 1899
      if (start > 0) {
#line 1900
        start -= startprevlen;
      } else
#line 1901
      if (start == 0) {
#line 1901
        if (end == 0) {
#line 1910
          if (opts[99]) {
#line 1916
            end = startnextlen;
          } else {
#line 1923
            v->flags |= 2;
#line 1924
            start = -1;
#line 1925
            com = 1;
          }
        }
      }
#line 1928
      if ((unsigned long )s == (unsigned long )tbrack) {
#line 1929
        s ++;
#line 1930
        if (v->isarr) {
#line 1930
          if (! com) {
#line 1930
            if (! (v->isarr & (1 << 5))) {
#line 1934
              v->isarr = 0;
            } else
#line 1930
            if (! (v->isarr & (((1 << 3) | (1 << 4)) | (1 << 7)))) {
#line 1934
              v->isarr = 0;
            }
          }
        }
#line 1935
        v->start = start;
#line 1936
        v->end = end;
      } else {
#line 1938
        s = *pptr;
      }
    }
  }
#line 1941
  *tbrack = (char )']';
#line 1942
  *pptr = s;
#line 1943
  return (0);
}
}
#line 1948 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Value getvalue(Value v , char **pptr , int bracks ) 
{ 
  Value tmp ;

  {
  {
#line 1951
  tmp = fetchvalue(v, pptr, bracks, 0);
  }
#line 1951
  return (tmp);
}
}
#line 1955 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Value fetchvalue(Value v , char **pptr , int bracks , int flags ) 
{ 
  char *s ;
  char *t ;
  char *ie ;
  char sav ;
  char c ;
  int ppar ;
  zlong tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  void *tmp___6 ;
  Param pm ;
  int isvarat ;
  int tmp___7 ;
  char const   *tmp___8 ;
  HashNode tmp___9 ;
  void *tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  char *tmp___13 ;
  char *__cil_tmp28 ;

  {
#line 1960
  ppar = 0;
#line 1962
  t = *pptr;
#line 1962
  s = t;
#line 1964
  c = *s;
#line 1964
  if ((int )typtab[(unsigned char )c] & 1) {
#line 1965
    if (bracks >= 0) {
      {
#line 1966
      tmp = zstrtol((char const   *)s, & s, 10);
#line 1966
      ppar = (int )tmp;
      }
    } else {
#line 1968
      tmp___0 = s;
#line 1968
      s ++;
#line 1968
      ppar = (int )*tmp___0 - 48;
    }
  } else {
    {
#line 1970
    ie = itype_end((char const   *)s, 1 << 7, 0);
    }
#line 1970
    if ((unsigned long )ie != (unsigned long )s) {
#line 1971
      s = ie;
    } else
#line 1972
    if ((int )c == -105) {
#line 1973
      tmp___1 = s;
#line 1973
      s ++;
#line 1973
      *tmp___1 = (char )'?';
    } else
#line 1974
    if ((int )c == -124) {
#line 1975
      tmp___2 = s;
#line 1975
      s ++;
#line 1975
      *tmp___2 = (char )'#';
    } else
#line 1976
    if ((int )c == -123) {
#line 1977
      tmp___3 = s;
#line 1977
      s ++;
#line 1977
      *tmp___3 = (char )'$';
    } else
#line 1978
    if ((int )c == -116) {
#line 1979
      tmp___4 = s;
#line 1979
      s ++;
#line 1979
      *tmp___4 = (char )'$';
    } else
#line 1980
    if ((int )c == -121) {
#line 1981
      tmp___5 = s;
#line 1981
      s ++;
#line 1981
      *tmp___5 = (char )'*';
    } else
#line 1982
    if ((int )c == 35) {
#line 1984
      s ++;
    } else
#line 1982
    if ((int )c == 45) {
#line 1984
      s ++;
    } else
#line 1982
    if ((int )c == 63) {
#line 1984
      s ++;
    } else
#line 1982
    if ((int )c == 36) {
#line 1984
      s ++;
    } else
#line 1982
    if ((int )c == 33) {
#line 1984
      s ++;
    } else
#line 1982
    if ((int )c == 64) {
#line 1984
      s ++;
    } else
#line 1982
    if ((int )c == 42) {
#line 1984
      s ++;
    } else {
#line 1986
      return ((Value )((void *)0));
    }
  }
#line 1988
  sav = *s;
#line 1988
  if (sav) {
#line 1989
    *s = (char )'\000';
  }
#line 1990
  if (ppar) {
#line 1991
    if (v) {
      {
#line 1992
      memset((void *)v, 0, sizeof(*v));
      }
    } else {
      {
#line 1994
      tmp___6 = hcalloc(sizeof(*v));
#line 1994
      v = (Value )tmp___6;
      }
    }
#line 1995
    v->pm = argvparam;
#line 1996
    v->flags = 0;
#line 1997
    v->start = ppar - 1;
#line 1998
    v->end = ppar;
#line 1999
    if (sav) {
#line 2000
      *s = sav;
    }
  } else {
#line 2005
    if ((int )*(t + 0) == 64) {
#line 2005
      if (! *(t + 1)) {
#line 2005
        tmp___7 = 1;
      } else {
#line 2005
        tmp___7 = 0;
      }
    } else {
#line 2005
      tmp___7 = 0;
    }
#line 2005
    isvarat = tmp___7;
#line 2006
    if ((int )*t == 48) {
#line 2006
      tmp___8 = "0";
    } else {
#line 2006
      tmp___8 = (char const   *)t;
    }
    {
#line 2006
    tmp___9 = (*(paramtab->getnode))(paramtab, tmp___8);
#line 2006
    pm = (Param )tmp___9;
    }
#line 2007
    if (sav) {
#line 2008
      *s = sav;
    }
#line 2009
    *pptr = s;
#line 2010
    if (! pm) {
#line 2011
      return ((Value )((void *)0));
    } else
#line 2010
    if (pm->node.flags & (1 << 25)) {
#line 2011
      return ((Value )((void *)0));
    }
#line 2012
    if (v) {
      {
#line 2013
      memset((void *)v, 0, sizeof(*v));
      }
    } else {
      {
#line 2015
      tmp___10 = hcalloc(sizeof(*v));
#line 2015
      v = (Value )tmp___10;
      }
    }
#line 2016
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4))) {
#line 2018
      if (isvarat) {
#line 2018
        tmp___11 = (int )(4294967295U << 15);
      } else {
#line 2018
        tmp___11 = 0;
      }
#line 2018
      v->isarr = flags | tmp___11;
#line 2022
      if (! v->isarr) {
#line 2023
        v->isarr = 1 << 9;
      }
    }
#line 2025
    v->pm = pm;
#line 2026
    v->flags = 0;
#line 2027
    v->start = 0;
#line 2028
    v->end = -1;
#line 2029
    if (bracks > 0) {
#line 2029
      if ((int )*s == 91) {
#line 2029
        goto _L___0;
      } else
#line 2029
      if ((int )*s == -111) {
        _L___0: /* CIL Label */ 
        {
#line 2030
        tmp___12 = getindex(& s, v, flags);
        }
#line 2030
        if (tmp___12) {
#line 2031
          *pptr = s;
#line 2032
          return (v);
        }
      } else {
#line 2029
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 2034
    if (! (flags & (1 << 6))) {
#line 2034
      if (v->isarr) {
        {
#line 2034
        tmp___13 = itype_end((char const   *)t, 1 << 7, 1);
        }
#line 2034
        if ((unsigned long )tmp___13 != (unsigned long )t) {
#line 2034
          if (opts[94]) {
#line 2036
            v->end = 1;
#line 2036
            v->isarr = 0;
          }
        }
      }
    }
  }
#line 2038
  if (! bracks) {
#line 2038
    if (*s) {
#line 2039
      return ((Value )((void *)0));
    }
  }
#line 2040
  *pptr = s;
#line 2070
  return (v);
}
}
#line 2074 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *getstrvalue(Value v ) 
{ 
  char *s ;
  char **ss ;
  char buf___7[(int )(sizeof(zlong ) * 8UL + 4UL)] ;
  int len ;
  void *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  void *tmp___3 ;
  char tmp___4 ;
  zlong tmp___5 ;
  double tmp___6 ;
  unsigned int fwidth ;
  int tmp___7 ;
  int tmp___8 ;
  char *t ;
  char *tend ;
  unsigned int t0 ;
  int tmp___9 ;
  void *tmp___10 ;
  int zero ;
  unsigned int charlen ;
  int tmp___11 ;
  char *valprefend ;
  int preflen ;
  size_t tmp___12 ;
  void *tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  size_t tmp___16 ;
  char *eptr ;
  int tmp___17 ;
  char *tmp___18 ;
  char *tmp___19 ;
  void *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;

  {
#line 2081
  if (! v) {
    {
#line 2082
    tmp = hcalloc((size_t )1);
    }
#line 2082
    return ((char *)tmp);
  }
#line 2084
  if (v->flags & 1) {
#line 2084
    if (! ((v->pm)->node.flags & (1 << 4))) {
      {
#line 2085
      sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%d",
              v->start);
#line 2086
      s = dupstring((char const   *)(buf___7));
      }
#line 2087
      return (s);
    }
  }
  {
#line 2091
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 2091
    goto case_exp;
  }
#line 2099
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2099
    goto case_1;
  }
#line 2110
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2110
    goto case_exp___0;
  }
#line 2115
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2115
    goto case_exp___1;
  }
#line 2115
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2115
    goto case_exp___1;
  }
#line 2119
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2119
    goto case_0;
  }
#line 2122
  goto switch_default;
  case_exp: /* CIL Label */ 
#line 2093
  if (! v->isarr) {
#line 2093
    if (emulation & (1 << 2)) {
      {
#line 2094
      s = dupstring("[0]");
#line 2095
      tmp___0 = getindex(& s, v, 0);
      }
#line 2095
      if (tmp___0 == 0) {
        {
#line 2096
        s = getstrvalue(v);
        }
      }
#line 2097
      return (s);
    }
  }
  case_1: /* CIL Label */ 
  {
#line 2100
  ss = getvaluearr(v);
  }
#line 2101
  if (v->isarr) {
    {
#line 2102
    s = sepjoin(ss, (char *)((void *)0), 1);
    }
  } else {
#line 2104
    if (v->start < 0) {
      {
#line 2105
      tmp___1 = arrlen(ss);
#line 2105
      v->start += tmp___1;
      }
    }
    {
#line 2106
    tmp___4 = arrlen_le(ss, (unsigned int )v->start);
    }
#line 2106
    if (tmp___4) {
      {
#line 2106
      tmp___3 = hcalloc((size_t )1);
#line 2106
      s = (char *)tmp___3;
      }
    } else
#line 2106
    if (v->start < 0) {
      {
#line 2106
      tmp___3 = hcalloc((size_t )1);
#line 2106
      s = (char *)tmp___3;
      }
    } else {
#line 2106
      s = *(ss + v->start);
    }
  }
#line 2109
  return (s);
  case_exp___0: /* CIL Label */ 
  {
#line 2111
  tmp___5 = (*(((v->pm)->gsu.i)->getfn))(v->pm);
#line 2111
  convbase(buf___7, tmp___5, (v->pm)->base);
#line 2112
  s = dupstring((char const   *)(buf___7));
  }
#line 2113
  goto switch_break;
  case_exp___1: /* CIL Label */ 
  case_exp___2: /* CIL Label */ 
  {
#line 2116
  tmp___6 = (*(((v->pm)->gsu.f)->getfn))(v->pm);
#line 2116
  s = convfloat(tmp___6, (v->pm)->base, (v->pm)->node.flags, (FILE *)((void *)0));
  }
#line 2118
  goto switch_break;
  case_0: /* CIL Label */ 
  {
#line 2120
  s = (*(((v->pm)->gsu.s)->getfn))(v->pm);
  }
#line 2121
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 2123
  s = (char *)"";
#line 2125
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 2128
  if (v->flags & 4) {
#line 2129
    if ((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) {
#line 2130
      if ((v->pm)->width) {
#line 2130
        tmp___8 = (v->pm)->width;
      } else {
        {
#line 2130
        tmp___7 = mb_metastrlenend(s, 0, (char *)((void *)0));
#line 2130
        tmp___8 = tmp___7;
        }
      }
#line 2130
      fwidth = (unsigned int )tmp___8;
      {
#line 2136
      if (((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) == ((1 << 5) | (1 << 7))) {
#line 2136
        goto case_exp___3;
      }
#line 2136
      if (((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) == 1 << 5) {
#line 2136
        goto case_exp___3;
      }
#line 2167
      if (((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) == ((1 << 7) | (1 << 6))) {
#line 2167
        goto case_exp___5;
      }
#line 2167
      if (((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) == 1 << 7) {
#line 2167
        goto case_exp___5;
      }
#line 2167
      if (((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) == 1 << 6) {
#line 2167
        goto case_exp___5;
      }
#line 2131
      goto switch_break___0;
      case_exp___3: /* CIL Label */ 
      case_exp___4: /* CIL Label */ 
#line 2137
      t = s;
#line 2138
      if ((v->pm)->node.flags & (1 << 7)) {
        {
#line 2139
        while (1) {
          while_continue: /* CIL Label */ ;
#line 2139
          if (! ((int )*t == 48)) {
#line 2139
            goto while_break;
          }
#line 2140
          t ++;
        }
        while_break: /* CIL Label */ ;
        }
      } else {
        {
#line 2142
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 2142
          if (! ((int )typtab[(unsigned char )*t] & (1 << 2))) {
#line 2142
            goto while_break___0;
          }
#line 2143
          t ++;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
      {
#line 2144
      mb_charinit();
#line 2145
      tend = t;
#line 2145
      t0 = 0U;
      }
      {
#line 2145
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 2145
        if (t0 < fwidth) {
#line 2145
          if (! *tend) {
#line 2145
            goto while_break___1;
          }
        } else {
#line 2145
          goto while_break___1;
        }
        {
#line 2146
        tmp___9 = mb_metacharlenconv((char const   *)tend, (wint_t *)((void *)0));
#line 2146
        tend += tmp___9;
#line 2145
        t0 ++;
        }
      }
      while_break___1: /* CIL Label */ ;
      }
      {
#line 2157
      fwidth -= t0;
#line 2158
      t0 = (unsigned int )(tend - t);
#line 2159
      tmp___10 = hcalloc((size_t )((t0 + fwidth) + 1U));
#line 2159
      s = (char *)tmp___10;
#line 2160
      memcpy((void */* __restrict  */)s, (void const   */* __restrict  */)t, (size_t )t0);
      }
#line 2161
      if (fwidth) {
        {
#line 2162
        memset((void *)(s + t0), ' ', (size_t )fwidth);
        }
      }
#line 2163
      *(s + (t0 + fwidth)) = (char )'\000';
#line 2164
      goto switch_break___0;
      case_exp___5: /* CIL Label */ 
      case_exp___6: /* CIL Label */ 
      case_exp___7: /* CIL Label */ 
      {
#line 2169
      zero = 1;
#line 2171
      tmp___11 = mb_metastrlenend(s, 0, (char *)((void *)0));
#line 2171
      charlen = (unsigned int )tmp___11;
      }
#line 2173
      if (charlen < fwidth) {
#line 2174
        valprefend = s;
#line 2176
        if ((v->pm)->node.flags & (1 << 7)) {
#line 2185
          t = s;
          {
#line 2185
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2185
            if (! ((int )typtab[(unsigned char )*t] & (1 << 2))) {
#line 2185
              goto while_break___2;
            }
#line 2185
            t ++;
          }
          while_break___2: /* CIL Label */ ;
          }
#line 2191
          if ((v->pm)->node.flags & (((1 << 1) | (1 << 2)) | (1 << 3))) {
#line 2191
            if ((int )*t == 45) {
#line 2194
              t ++;
            }
          }
#line 2199
          if ((v->pm)->node.flags & (1 << 1)) {
#line 2200
            if (opts[27]) {
#line 2200
              if ((int )*(t + 0) == 48) {
#line 2200
                if ((int )*(t + 1) == 120) {
#line 2202
                  t += 2;
                } else {
#line 2200
                  goto _L___0;
                }
              } else {
#line 2200
                goto _L___0;
              }
            } else {
              _L___0: /* CIL Label */ 
              {
#line 2203
              valprefend = strchr((char const   *)t, '#');
              }
#line 2203
              if (valprefend) {
#line 2204
                t = valprefend + 1;
              }
            }
          }
#line 2206
          valprefend = t;
#line 2207
          if (! *t) {
#line 2208
            zero = 0;
          } else
#line 2209
          if (! ((v->pm)->node.flags & (((1 << 1) | (1 << 2)) | (1 << 3)))) {
#line 2212
            if (! ((int )typtab[(unsigned char )*t] & 1)) {
#line 2213
              zero = 0;
            }
          }
        }
        {
#line 2216
        fwidth -= charlen;
#line 2218
        tmp___12 = strlen((char const   *)s);
#line 2218
        t0 = (unsigned int )tmp___12;
#line 2219
        tmp___13 = hcalloc((size_t )((fwidth + t0) + 1U));
#line 2219
        t = (char *)tmp___13;
#line 2221
        preflen = (int )(valprefend - s);
        }
#line 2222
        if ((v->pm)->node.flags & (1 << 6)) {
#line 2222
          tmp___14 = ' ';
        } else
#line 2222
        if (! zero) {
#line 2222
          tmp___14 = ' ';
        } else {
#line 2222
          tmp___14 = '0';
        }
        {
#line 2222
        memset((void *)(t + preflen), tmp___14, (size_t )fwidth);
        }
#line 2229
        if (preflen) {
          {
#line 2230
          memcpy((void */* __restrict  */)t, (void const   */* __restrict  */)s, (size_t )preflen);
          }
        }
        {
#line 2231
        memcpy((void */* __restrict  */)((t + preflen) + fwidth), (void const   */* __restrict  */)valprefend,
               (size_t )(t0 - (unsigned int )preflen));
#line 2233
        *(t + (fwidth + t0)) = (char )'\000';
#line 2234
        s = t;
        }
      } else {
#line 2237
        t0 = charlen - fwidth;
        {
#line 2237
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 2237
          if (! t0) {
#line 2237
            goto while_break___3;
          }
          {
#line 2238
          tmp___15 = mb_metacharlenconv((char const   *)s, (wint_t *)((void *)0));
#line 2238
          s += tmp___15;
#line 2237
          t0 --;
          }
        }
        while_break___3: /* CIL Label */ ;
        }
      }
#line 2241
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
    }
    {
#line 2245
    if (((v->pm)->node.flags & ((1 << 8) | (1 << 9))) == 1 << 8) {
#line 2245
      goto case_exp___8;
    }
#line 2248
    if (((v->pm)->node.flags & ((1 << 8) | (1 << 9))) == 1 << 9) {
#line 2248
      goto case_exp___9;
    }
#line 2244
    goto switch_break___1;
    case_exp___8: /* CIL Label */ 
    {
#line 2246
    s = casemodify(s, 2);
    }
#line 2247
    goto switch_break___1;
    case_exp___9: /* CIL Label */ 
    {
#line 2249
    s = casemodify(s, 1);
    }
#line 2250
    goto switch_break___1;
    switch_break___1: /* CIL Label */ ;
    }
  }
#line 2253
  if (v->start == 0) {
#line 2253
    if (v->end == -1) {
#line 2254
      return (s);
    }
  }
  {
#line 2256
  tmp___16 = strlen((char const   *)s);
#line 2256
  len = (int )tmp___16;
  }
#line 2257
  if (v->start < 0) {
#line 2258
    v->start += len;
#line 2259
    if (v->start < 0) {
#line 2260
      v->start = 0;
    }
  }
#line 2262
  if (v->end < 0) {
#line 2263
    v->end += len;
#line 2264
    if (v->end >= 0) {
#line 2265
      eptr = s + v->end;
#line 2266
      if (*eptr) {
        {
#line 2267
        tmp___17 = mb_metacharlenconv((char const   *)eptr, (wint_t *)((void *)0));
#line 2267
        v->end += tmp___17;
        }
      }
    }
  }
#line 2271
  if (v->start > len) {
    {
#line 2271
    tmp___18 = dupstring("");
#line 2271
    s = tmp___18;
    }
  } else {
    {
#line 2271
    tmp___19 = dupstring_wlen((char const   *)(s + v->start), (unsigned int )(len - v->start));
#line 2271
    s = tmp___19;
    }
  }
#line 2274
  if (v->end <= v->start) {
#line 2275
    *(s + 0) = (char )'\000';
  } else
#line 2276
  if (v->end - v->start <= len - v->start) {
#line 2277
    *(s + (v->end - v->start)) = (char )'\000';
  }
#line 2279
  return (s);
}
}
#line 2282 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char *nular[2]  = {      (char *)"",      (char *)((void *)0)};
#line 2285 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char **getarrvalue(Value v ) 
{ 
  char **s ;
  char **tmp ;
  char **tmp___0 ;
  char buf___7[(int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3] ;
  int tmp___1 ;
  int tmp___2 ;
  char tmp___3 ;
  void *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 2290
  if (! v) {
    {
#line 2291
    tmp = arrdup(nular);
    }
#line 2291
    return (tmp);
  } else
#line 2292
  if (v) {
#line 2292
    if (! v->pm) {
      {
#line 2293
      tmp___0 = arrdup(& nular[1]);
      }
#line 2293
      return (tmp___0);
    } else
#line 2292
    if ((v->pm)->node.flags & (1 << 25)) {
      {
#line 2293
      tmp___0 = arrdup(& nular[1]);
      }
#line 2293
      return (tmp___0);
    } else
#line 2292
    if (! (v->pm)->node.nam) {
      {
#line 2293
      tmp___0 = arrdup(& nular[1]);
      }
#line 2293
      return (tmp___0);
    } else
#line 2292
    if (! *((v->pm)->node.nam)) {
      {
#line 2293
      tmp___0 = arrdup(& nular[1]);
      }
#line 2293
      return (tmp___0);
    }
  }
#line 2294
  if (v->flags & 1) {
    {
#line 2297
    s = arrdup(nular);
#line 2298
    sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%d",
            v->start);
#line 2299
    *(s + 0) = dupstring((char const   *)(buf___7));
    }
#line 2300
    return (s);
  }
  {
#line 2302
  s = getvaluearr(v);
  }
#line 2303
  if (v->start == 0) {
#line 2303
    if (v->end == -1) {
#line 2304
      return (s);
    }
  }
#line 2305
  if (v->start < 0) {
    {
#line 2306
    tmp___1 = arrlen(s);
#line 2306
    v->start += tmp___1;
    }
  }
#line 2307
  if (v->end < 0) {
    {
#line 2308
    tmp___2 = arrlen(s);
#line 2308
    v->end += tmp___2 + 1;
    }
  }
#line 2311
  if (v->end <= v->start) {
    {
#line 2312
    s = arrdup_max(nular, 0U);
    }
  } else
#line 2314
  if (v->start < 0) {
    {
#line 2315
    s = arrdup_max(nular, 1U);
    }
  } else {
    {
#line 2317
    tmp___3 = arrlen_le(s, (unsigned int )v->start);
    }
#line 2317
    if (tmp___3) {
      {
#line 2321
      s = arrdup_max(nular, (unsigned int )(v->end - (v->start + 1)));
      }
    } else {
      {
#line 2331
      s = arrdup_max(s + v->start, (unsigned int )(v->end - v->start));
      }
    }
  }
#line 2334
  return (s);
}
}
#line 2338 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong getintvalue(Value v ) 
{ 
  char **arr ;
  char **tmp ;
  char *scal ;
  char *tmp___0 ;
  zlong tmp___1 ;
  zlong tmp___2 ;
  double tmp___3 ;
  char *tmp___4 ;
  zlong tmp___5 ;

  {
#line 2341
  if (! v) {
#line 2342
    return ((zlong )0);
  }
#line 2343
  if (v->flags & 1) {
#line 2344
    return ((zlong )v->start);
  }
#line 2345
  if (v->isarr) {
    {
#line 2346
    tmp = getarrvalue(v);
#line 2346
    arr = tmp;
    }
#line 2347
    if (arr) {
      {
#line 2348
      tmp___0 = sepjoin(arr, (char *)((void *)0), 1);
#line 2348
      scal = tmp___0;
#line 2349
      tmp___1 = mathevali(scal);
      }
#line 2349
      return (tmp___1);
    } else {
#line 2351
      return ((zlong )0);
    }
  }
#line 2353
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
    {
#line 2354
    tmp___2 = (*(((v->pm)->gsu.i)->getfn))(v->pm);
    }
#line 2354
    return (tmp___2);
  }
#line 2355
  if ((v->pm)->node.flags & ((1 << 2) | (1 << 3))) {
    {
#line 2356
    tmp___3 = (*(((v->pm)->gsu.f)->getfn))(v->pm);
    }
#line 2356
    return ((zlong )tmp___3);
  }
  {
#line 2357
  tmp___4 = getstrvalue(v);
#line 2357
  tmp___5 = mathevali(tmp___4);
  }
#line 2357
  return (tmp___5);
}
}
#line 2361 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
mnumber getnumvalue(Value v ) 
{ 
  mnumber mn ;
  char **arr ;
  char **tmp ;
  char *scal ;
  char *tmp___0 ;
  mnumber tmp___1 ;
  char *tmp___2 ;
  mnumber tmp___3 ;

  {
#line 2365
  mn.type = 1;
#line 2368
  if (! v) {
#line 2369
    mn.u.l = (zlong )0;
  } else
#line 2370
  if (v->flags & 1) {
#line 2371
    mn.u.l = (zlong )v->start;
  } else
#line 2372
  if (v->isarr) {
    {
#line 2373
    tmp = getarrvalue(v);
#line 2373
    arr = tmp;
    }
#line 2374
    if (arr) {
      {
#line 2375
      tmp___0 = sepjoin(arr, (char *)((void *)0), 1);
#line 2375
      scal = tmp___0;
#line 2376
      tmp___1 = matheval(scal);
      }
#line 2376
      return (tmp___1);
    } else {
#line 2378
      mn.u.l = (zlong )0;
    }
  } else
#line 2379
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
    {
#line 2380
    mn.u.l = (*(((v->pm)->gsu.i)->getfn))(v->pm);
    }
  } else
#line 2381
  if ((v->pm)->node.flags & ((1 << 2) | (1 << 3))) {
    {
#line 2382
    mn.type = 2;
#line 2383
    mn.u.d = (*(((v->pm)->gsu.f)->getfn))(v->pm);
    }
  } else {
    {
#line 2385
    tmp___2 = getstrvalue(v);
#line 2385
    tmp___3 = matheval(tmp___2);
    }
#line 2385
    return (tmp___3);
  }
#line 2386
  return (mn);
}
}
#line 2390 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void export_param(Param pm ) 
{ 
  char buf___7[(int )(sizeof(zlong ) * 8UL + 4UL)] ;
  char *val ;
  zlong tmp ;
  double tmp___0 ;
  void *__cil_tmp6 ;

  {
#line 2395
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4))) {
#line 2406
    return;
  } else
#line 2407
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
    {
#line 2408
    tmp = (*((pm->gsu.i)->getfn))(pm);
#line 2408
    val = buf___7;
#line 2408
    convbase(val, tmp, pm->base);
    }
  } else
#line 2409
  if (pm->node.flags & ((1 << 2) | (1 << 3))) {
    {
#line 2410
    tmp___0 = (*((pm->gsu.f)->getfn))(pm);
#line 2410
    val = convfloat(tmp___0, pm->base, pm->node.flags, (FILE *)((void *)0));
    }
  } else {
    {
#line 2413
    val = (*((pm->gsu.s)->getfn))(pm);
    }
  }
  {
#line 2415
  addenv(pm, val);
  }
#line 2416
  return;
}
}
#line 2419 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void setstrvalue(Value v , char *val ) 
{ 


  {
  {
#line 2422
  assignstrvalue(v, val, 0);
  }
#line 2423
  return;
}
}
#line 2426 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void assignstrvalue(Value v , char *val , int flags ) 
{ 
  size_t tmp ;
  char *z ;
  char *x ;
  int zlen ;
  int vlen ;
  int newsize ;
  size_t tmp___0 ;
  int tmp___1 ;
  size_t tmp___2 ;
  void *tmp___3 ;
  Param pm ;
  zlong ival ;
  char *ptr___0 ;
  size_t tmp___4 ;
  mnumber mn ;
  char *ptr___1 ;
  double tmp___5 ;
  size_t tmp___6 ;
  char **ss ;
  void *tmp___7 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
#line 2429
  if (! opts[51]) {
#line 2430
    return;
  }
#line 2431
  if ((v->pm)->node.flags & (1 << 10)) {
    {
#line 2432
    zerr("read-only variable: %s", (v->pm)->node.nam);
#line 2433
    zsfree(val);
    }
#line 2434
    return;
  }
#line 2436
  if ((v->pm)->node.flags & (1 << 24)) {
#line 2436
    if (opts[153]) {
      {
#line 2437
      zerr("%s: restricted", (v->pm)->node.nam);
#line 2438
      zsfree(val);
      }
#line 2439
      return;
    }
  }
#line 2441
  if ((v->pm)->node.flags & (1 << 4)) {
#line 2441
    if (v->isarr & ((1 << 5) | (1 << 9))) {
      {
#line 2443
      zerr("%s: attempt to set slice of associative array", (v->pm)->node.nam);
#line 2444
      zsfree(val);
      }
#line 2445
      return;
    }
  }
#line 2447
  if (v->flags & 2) {
    {
#line 2448
    zerr("%s: assignment to invalid subscript range", (v->pm)->node.nam);
#line 2449
    zsfree(val);
    }
#line 2450
    return;
  }
#line 2452
  (v->pm)->node.flags &= ~ (1 << 25);
  {
#line 2454
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2454
    goto case_0;
  }
#line 2526
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2526
    goto case_exp;
  }
#line 2544
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2544
    goto case_exp___0;
  }
#line 2544
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2544
    goto case_exp___0;
  }
#line 2561
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2561
    goto case_1;
  }
#line 2570
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 2570
    goto case_exp___2;
  }
#line 2453
  goto switch_break;
  case_0: /* CIL Label */ 
#line 2455
  if (v->start == 0) {
#line 2455
    if (v->end == -1) {
      {
#line 2456
      (*(((v->pm)->gsu.s)->setfn))(v->pm, val);
      }
#line 2457
      if ((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) {
#line 2457
        if (! (v->pm)->width) {
          {
#line 2459
          tmp = strlen((char const   *)val);
#line 2459
          (v->pm)->width = (int )tmp;
          }
        }
      }
    } else {
#line 2455
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    {
#line 2464
    z = (*(((v->pm)->gsu.s)->getfn))(v->pm);
#line 2465
    tmp___0 = strlen((char const   *)z);
#line 2465
    zlen = (int )tmp___0;
    }
#line 2467
    if (v->flags & 1) {
#line 2467
      if (! opts[94]) {
#line 2468
        (v->start) --;
#line 2468
        (v->end) --;
      }
    }
#line 2469
    if (v->start < 0) {
#line 2470
      v->start += zlen;
#line 2471
      if (v->start < 0) {
#line 2472
        v->start = 0;
      }
    }
#line 2474
    if (v->start > zlen) {
#line 2475
      v->start = zlen;
    }
#line 2476
    if (v->end < 0) {
#line 2477
      v->end += zlen;
#line 2478
      if (v->end < 0) {
#line 2479
        v->end = 0;
      } else
#line 2480
      if (v->end >= zlen) {
#line 2481
        v->end = zlen;
      } else
#line 2484
      if (opts[116]) {
        {
#line 2485
        tmp___1 = mb_metacharlenconv((char const   *)(z + v->end), (wint_t *)((void *)0));
#line 2485
        v->end += tmp___1;
        }
      } else {
#line 2487
        (v->end) ++;
      }
    } else
#line 2494
    if (v->end > zlen) {
#line 2495
      v->end = zlen;
    }
    {
#line 2497
    tmp___2 = strlen((char const   *)val);
#line 2497
    vlen = (int )tmp___2;
#line 2501
    newsize = (v->start + vlen) + (zlen - v->end);
    }
#line 2504
    if (newsize != zlen) {
#line 2504
      goto _L;
    } else
#line 2504
    if ((unsigned long )((v->pm)->gsu.s)->setfn != (unsigned long )(& strsetfn)) {
      _L: /* CIL Label */ 
      {
#line 2505
      tmp___3 = zalloc((size_t )(newsize + 1));
#line 2505
      x = (char *)tmp___3;
#line 2506
      strncpy((char */* __restrict  */)x, (char const   */* __restrict  */)z, (size_t )v->start);
#line 2507
      strcpy((char */* __restrict  */)(x + v->start), (char const   */* __restrict  */)val);
#line 2508
      strcat((char */* __restrict  */)(x + v->start), (char const   */* __restrict  */)(z + v->end));
#line 2509
      (*(((v->pm)->gsu.s)->setfn))(v->pm, x);
      }
    } else {
      {
#line 2511
      pm = v->pm;
#line 2514
      strncpy((char */* __restrict  */)(z + v->start), (char const   */* __restrict  */)val,
              (size_t )vlen);
      }
#line 2516
      if (! (pm->node.flags & (1 << 29))) {
#line 2516
        if (pm->node.flags & (1 << 30)) {
          {
#line 2519
          pm->node.flags |= 1 << 30;
#line 2520
          adduserdir(pm->node.nam, z, 0, 0);
          }
        } else
#line 2516
        if (opts[10]) {
          {
#line 2519
          pm->node.flags |= 1 << 30;
#line 2520
          adduserdir(pm->node.nam, z, 0, 0);
          }
        }
      }
    }
    {
#line 2523
    zsfree(val);
    }
  }
#line 2525
  goto switch_break;
  case_exp: /* CIL Label */ 
#line 2527
  if (val) {
#line 2529
    if (flags & 4) {
      {
#line 2531
      ival = zstrtol_underscore((char const   *)val, & ptr___0, 0, 1);
      }
    } else {
      {
#line 2533
      ival = mathevali(val);
      }
    }
    {
#line 2534
    (*(((v->pm)->gsu.i)->setfn))(v->pm, ival);
    }
#line 2535
    if ((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) {
#line 2535
      if (! (v->pm)->width) {
        {
#line 2537
        tmp___4 = strlen((char const   *)val);
#line 2537
        (v->pm)->width = (int )tmp___4;
        }
      }
    }
    {
#line 2538
    zsfree(val);
    }
  }
#line 2540
  if (! (v->pm)->base) {
#line 2540
    if (lastbase != -1) {
#line 2541
      (v->pm)->base = lastbase;
    }
  }
#line 2542
  goto switch_break;
  case_exp___0: /* CIL Label */ 
  case_exp___1: /* CIL Label */ 
#line 2545
  if (val) {
#line 2547
    if (flags & 4) {
      {
#line 2549
      mn.type = 2;
#line 2550
      mn.u.d = strtod((char const   */* __restrict  */)val, (char **/* __restrict  */)(& ptr___1));
      }
    } else {
      {
#line 2552
      mn = matheval(val);
      }
    }
#line 2553
    if (mn.type & 2) {
#line 2553
      tmp___5 = mn.u.d;
    } else {
#line 2553
      tmp___5 = (double )mn.u.l;
    }
    {
#line 2553
    (*(((v->pm)->gsu.f)->setfn))(v->pm, tmp___5);
    }
#line 2555
    if ((v->pm)->node.flags & (((1 << 5) | (1 << 6)) | (1 << 7))) {
#line 2555
      if (! (v->pm)->width) {
        {
#line 2557
        tmp___6 = strlen((char const   *)val);
#line 2557
        (v->pm)->width = (int )tmp___6;
        }
      }
    }
    {
#line 2558
    zsfree(val);
    }
  }
#line 2560
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 2563
  tmp___7 = zalloc(2UL * sizeof(char *));
#line 2563
  ss = (char **)tmp___7;
#line 2565
  *(ss + 0) = val;
#line 2566
  *(ss + 1) = (char *)((void *)0);
#line 2567
  setarrvalue(v, ss);
  }
#line 2569
  goto switch_break;
  case_exp___2: /* CIL Label */ 
#line 2572
  if ((unsigned long )foundparam == (unsigned long )((void *)0)) {
    {
#line 2574
    zerr("%s: attempt to set associative array to scalar", (v->pm)->node.nam);
#line 2576
    zsfree(val);
    }
#line 2577
    return;
  } else {
    {
#line 2580
    (*((foundparam->gsu.s)->setfn))(foundparam, val);
    }
  }
#line 2582
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 2584
  if (! (v->pm)->env) {
#line 2584
    if (! ((v->pm)->node.flags & (1 << 12))) {
#line 2584
      if (opts[2]) {
#line 2584
        if (! ((v->pm)->node.flags & (1 << 29))) {
#line 2584
          goto _L___2;
        } else {
#line 2587
          return;
        }
      } else {
#line 2587
        return;
      }
    } else {
#line 2584
      goto _L___2;
    }
  } else
  _L___2: /* CIL Label */ 
#line 2584
  if ((v->pm)->node.flags & 1) {
#line 2587
    return;
  } else
#line 2584
  if ((v->pm)->ename) {
#line 2587
    return;
  }
  {
#line 2588
  export_param(v->pm);
  }
#line 2589
  return;
}
}
#line 2592 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void setnumvalue(Value v , mnumber val ) 
{ 
  char buf___7[(int )(sizeof(zlong ) * 8UL + 4UL)] ;
  char *p ;
  char *tmp ;
  zlong tmp___0 ;
  double tmp___1 ;
  void *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 2597
  if (! opts[51]) {
#line 2598
    return;
  }
#line 2599
  if ((v->pm)->node.flags & (1 << 10)) {
    {
#line 2600
    zerr("read-only variable: %s", (v->pm)->node.nam);
    }
#line 2601
    return;
  }
#line 2603
  if ((v->pm)->node.flags & (1 << 24)) {
#line 2603
    if (opts[153]) {
      {
#line 2604
      zerr("%s: restricted", (v->pm)->node.nam);
      }
#line 2605
      return;
    }
  }
  {
#line 2609
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2609
    goto case_1;
  }
#line 2609
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2609
    goto case_1;
  }
#line 2619
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2619
    goto case_exp;
  }
#line 2625
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2625
    goto case_exp___0;
  }
#line 2625
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2625
    goto case_exp___0;
  }
#line 2607
  goto switch_break;
  case_1: /* CIL Label */ 
  case_0: /* CIL Label */ 
#line 2610
  if (val.type & 1) {
#line 2610
    goto _L;
  } else
#line 2610
  if (outputradix) {
    _L: /* CIL Label */ 
#line 2611
    if (! (val.type & 1)) {
#line 2612
      val.u.l = (zlong )val.u.d;
    }
    {
#line 2613
    p = convbase_underscore(buf___7, val.u.l, outputradix, outputunderscore);
    }
  } else {
    {
#line 2616
    p = convfloat_underscore(val.u.d, outputunderscore);
    }
  }
  {
#line 2617
  tmp = ztrdup((char const   *)p);
#line 2617
  setstrvalue(v, tmp);
  }
#line 2618
  goto switch_break;
  case_exp: /* CIL Label */ 
#line 2620
  if (val.type & 1) {
#line 2620
    tmp___0 = val.u.l;
  } else {
#line 2620
    tmp___0 = (zlong )val.u.d;
  }
  {
#line 2620
  (*(((v->pm)->gsu.i)->setfn))(v->pm, tmp___0);
#line 2622
  setstrvalue(v, (char *)((void *)0));
  }
#line 2623
  goto switch_break;
  case_exp___0: /* CIL Label */ 
  case_exp___1: /* CIL Label */ 
#line 2626
  if (val.type & 1) {
#line 2626
    tmp___1 = (double )val.u.l;
  } else {
#line 2626
    tmp___1 = val.u.d;
  }
  {
#line 2626
  (*(((v->pm)->gsu.f)->setfn))(v->pm, tmp___1);
#line 2628
  setstrvalue(v, (char *)((void *)0));
  }
#line 2629
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 2631
  return;
}
}
#line 2634 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void setarrvalue(Value v , char **val ) 
{ 
  char **old ;
  char **tmp ;
  char **new ;
  char **p ;
  char **q ;
  char **r ;
  int pre_assignment_length ;
  int tmp___0 ;
  int post_assignment_length ;
  int i ;
  int tmp___1 ;
  void *tmp___2 ;
  char **tmp___3 ;
  char **tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char **tmp___7 ;
  char **tmp___8 ;
  char **tmp___9 ;
  char **tmp___10 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
#line 2637
  if (! opts[51]) {
#line 2638
    return;
  }
#line 2639
  if ((v->pm)->node.flags & (1 << 10)) {
    {
#line 2640
    zerr("read-only variable: %s", (v->pm)->node.nam);
#line 2641
    freearray(val);
    }
#line 2642
    return;
  }
#line 2644
  if ((v->pm)->node.flags & (1 << 24)) {
#line 2644
    if (opts[153]) {
      {
#line 2645
      zerr("%s: restricted", (v->pm)->node.nam);
#line 2646
      freearray(val);
      }
#line 2647
      return;
    }
  }
#line 2649
  if (! (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4)))) {
    {
#line 2650
    freearray(val);
#line 2651
    zerr("%s: attempt to assign array value to non-array", (v->pm)->node.nam);
    }
#line 2653
    return;
  }
#line 2655
  if (v->flags & 2) {
    {
#line 2656
    zerr("%s: assignment to invalid subscript range", (v->pm)->node.nam);
#line 2657
    freearray(val);
    }
#line 2658
    return;
  }
#line 2661
  if (v->start == 0) {
#line 2661
    if (v->end == -1) {
#line 2662
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
        {
#line 2663
        arrhashsetfn(v->pm, val, 0);
        }
      } else {
        {
#line 2665
        (*(((v->pm)->gsu.a)->setfn))(v->pm, val);
        }
      }
    } else {
#line 2661
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 2666
  if (v->start == -1) {
#line 2666
    if (v->end == 0) {
#line 2666
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
        {
#line 2668
        arrhashsetfn(v->pm, val, 1);
        }
      } else {
#line 2666
        goto _L___0;
      }
    } else {
#line 2666
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 2669
  if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
    {
#line 2670
    freearray(val);
#line 2671
    zerr("%s: attempt to set slice of associative array", (v->pm)->node.nam);
    }
#line 2673
    return;
  } else {
    {
#line 2675
    tmp = (*(((v->pm)->gsu.a)->getfn))(v->pm);
#line 2675
    old = tmp;
#line 2678
    tmp___0 = arrlen(old);
#line 2678
    pre_assignment_length = tmp___0;
#line 2682
    q = old;
    }
#line 2684
    if (v->flags & 1) {
#line 2684
      if (! opts[94]) {
#line 2685
        if (v->start > 0) {
#line 2686
          (v->start) --;
        }
#line 2687
        (v->end) --;
      }
    }
#line 2689
    if (v->start < 0) {
#line 2690
      v->start += pre_assignment_length;
#line 2691
      if (v->start < 0) {
#line 2692
        v->start = 0;
      }
    }
#line 2694
    if (v->end < 0) {
#line 2695
      v->end += pre_assignment_length + 1;
#line 2696
      if (v->end < 0) {
#line 2697
        v->end = 0;
      }
    }
#line 2699
    if (v->end < v->start) {
#line 2700
      v->end = v->start;
    }
    {
#line 2702
    tmp___1 = arrlen(val);
#line 2702
    post_assignment_length = v->start + tmp___1;
    }
#line 2703
    if (v->end < pre_assignment_length) {
#line 2708
      post_assignment_length += pre_assignment_length - v->end;
    }
    {
#line 2711
    tmp___2 = zalloc(sizeof(char *) * (unsigned long )(post_assignment_length + 1));
#line 2711
    new = (char **)tmp___2;
#line 2711
    p = new;
#line 2714
    i = 0;
    }
    {
#line 2714
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2714
      if (! (i < v->start)) {
#line 2714
        goto while_break;
      }
#line 2715
      tmp___3 = p;
#line 2715
      p ++;
#line 2715
      if (i < pre_assignment_length) {
        {
#line 2715
        tmp___4 = q;
#line 2715
        q ++;
#line 2715
        tmp___5 = ztrdup((char const   *)*tmp___4);
#line 2715
        *tmp___3 = tmp___5;
        }
      } else {
        {
#line 2715
        tmp___6 = ztrdup("");
#line 2715
        *tmp___3 = tmp___6;
        }
      }
#line 2714
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 2716
    r = val;
    {
#line 2716
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2716
      if (! *r) {
#line 2716
        goto while_break___0;
      }
#line 2718
      tmp___7 = p;
#line 2718
      p ++;
#line 2718
      tmp___8 = r;
#line 2718
      r ++;
#line 2718
      *tmp___7 = *tmp___8;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 2720
    if (v->end < pre_assignment_length) {
#line 2721
      q = old + v->end;
      {
#line 2721
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 2721
        if (! *q) {
#line 2721
          goto while_break___1;
        }
        {
#line 2722
        tmp___9 = p;
#line 2722
        p ++;
#line 2722
        tmp___10 = q;
#line 2722
        q ++;
#line 2722
        *tmp___9 = ztrdup((char const   *)*tmp___10);
        }
      }
      while_break___1: /* CIL Label */ ;
      }
    }
    {
#line 2723
    *p = (char *)((void *)0);
#line 2728
    (*(((v->pm)->gsu.a)->setfn))(v->pm, new);
#line 2732
    free((void *)val);
    }
  }
#line 2734
  return;
}
}
#line 2739 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong getiparam(char *s ) 
{ 
  struct value vbuf ;
  Value v ;
  zlong tmp ;

  {
  {
#line 2745
  v = getvalue(& vbuf, & s, 1);
  }
#line 2745
  if (! v) {
#line 2746
    return ((zlong )0);
  }
  {
#line 2747
  tmp = getintvalue(v);
  }
#line 2747
  return (tmp);
}
}
#line 2753 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
mnumber getnparam(char *s ) 
{ 
  struct value vbuf ;
  Value v ;
  mnumber mn ;
  mnumber tmp ;

  {
  {
#line 2759
  v = getvalue(& vbuf, & s, 1);
  }
#line 2759
  if (! v) {
#line 2761
    mn.type = 1;
#line 2762
    mn.u.l = (zlong )0;
#line 2763
    return (mn);
  }
  {
#line 2765
  tmp = getnumvalue(v);
  }
#line 2765
  return (tmp);
}
}
#line 2771 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *getsparam(char *s ) 
{ 
  struct value vbuf ;
  Value v ;
  char *tmp ;

  {
  {
#line 2777
  v = getvalue(& vbuf, & s, 0);
  }
#line 2777
  if (! v) {
#line 2778
    return ((char *)((void *)0));
  }
  {
#line 2779
  tmp = getstrvalue(v);
  }
#line 2779
  return (tmp);
}
}
#line 2783 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *getsparam_u(char *s ) 
{ 
  char *tmp ;

  {
  {
#line 2786
  s = getsparam(s);
  }
#line 2786
  if (s) {
    {
#line 2787
    tmp = unmetafy(s, (int *)((void *)0));
    }
#line 2787
    return (tmp);
  }
#line 2788
  return (s);
}
}
#line 2794 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char **getaparam(char *s ) 
{ 
  struct value vbuf ;
  Value v ;
  char **tmp ;

  {
#line 2800
  if (! ((int )typtab[(unsigned char )*s] & 1)) {
    {
#line 2800
    v = getvalue(& vbuf, & s, 0);
    }
#line 2800
    if (v) {
#line 2800
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
        {
#line 2802
        tmp = (*(((v->pm)->gsu.a)->getfn))(v->pm);
        }
#line 2802
        return (tmp);
      }
    }
  }
#line 2803
  return ((char **)((void *)0));
}
}
#line 2809 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char **gethparam(char *s ) 
{ 
  struct value vbuf ;
  Value v ;
  HashTable tmp ;
  char **tmp___0 ;

  {
#line 2815
  if (! ((int )typtab[(unsigned char )*s] & 1)) {
    {
#line 2815
    v = getvalue(& vbuf, & s, 0);
    }
#line 2815
    if (v) {
#line 2815
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
        {
#line 2817
        tmp = (*(((v->pm)->gsu.h)->getfn))(v->pm);
#line 2817
        tmp___0 = paramvalarr(tmp, 1);
        }
#line 2817
        return (tmp___0);
      }
    }
  }
#line 2818
  return ((char **)((void *)0));
}
}
#line 2824 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char **gethkparam(char *s ) 
{ 
  struct value vbuf ;
  Value v ;
  HashTable tmp ;
  char **tmp___0 ;

  {
#line 2830
  if (! ((int )typtab[(unsigned char )*s] & 1)) {
    {
#line 2830
    v = getvalue(& vbuf, & s, 0);
    }
#line 2830
    if (v) {
#line 2830
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
        {
#line 2832
        tmp = (*(((v->pm)->gsu.h)->getfn))(v->pm);
#line 2832
        tmp___0 = paramvalarr(tmp, 1 << 1);
        }
#line 2832
        return (tmp___0);
      }
    }
  }
#line 2833
  return ((char **)((void *)0));
}
}
#line 2837 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void check_warn_create(Param pm , char const   *pmtype ) 
{ 
  Funcstack i ;
  char *__cil_tmp4 ;

  {
#line 2842
  if (pm->level != 0) {
#line 2843
    return;
  } else
#line 2842
  if (pm->node.flags & (1 << 22)) {
#line 2843
    return;
  }
#line 2845
  i = funcstack;
  {
#line 2845
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2845
    if (! i) {
#line 2845
      goto while_break;
    }
#line 2846
    if (i->tp == 1) {
      {
#line 2848
      zwarn("%s parameter %s created globally in function %s", pmtype, pm->node.nam,
            i->name);
      }
#line 2850
      goto while_break;
    }
#line 2845
    i = i->prev;
  }
  while_break: /* CIL Label */ ;
  }
#line 2853
  return;
}
}
#line 2856 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param assignsparam(char *s , char *val , int flags ) 
{ 
  struct value vbuf ;
  Value v ;
  char *t ;
  char *ss ;
  char *copy ;
  char *var ;
  size_t lvar ;
  mnumber lhs ;
  mnumber rhs ;
  int sstart ;
  int tmp ;
  sigset_t oset ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  char **tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  size_t tmp___3 ;
  sigset_t oset___2 ;
  size_t tmp___4 ;
  void *tmp___5 ;
  sigset_t oset___3 ;
  void *__cil_tmp26 ;
  void *__cil_tmp27 ;
  void *__cil_tmp28 ;
  void *__cil_tmp29 ;
  void *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;

  {
  {
#line 2861
  t = s;
#line 2867
  tmp = isident(s);
  }
#line 2867
  if (! tmp) {
    {
#line 2868
    zerr("not an identifier: %s", s);
#line 2869
    zsfree(val);
#line 2870
    errflag |= 1;
    }
#line 2871
    return ((Param )((void *)0));
  }
  {
#line 2873
  queueing_enabled ++;
#line 2874
  ss = strchr((char const   *)s, '[');
  }
#line 2874
  if (ss) {
    {
#line 2875
    *ss = (char )'\000';
#line 2876
    v = getvalue(& vbuf, & s, 1);
    }
#line 2876
    if (v) {
#line 2879
      if ((v->pm)->node.flags & (1 << 10)) {
        {
#line 2880
        zerr("read-only variable: %s", (v->pm)->node.nam);
#line 2881
        *ss = (char )'[';
#line 2882
        zsfree(val);
        }
        {
#line 2883
        while (1) {
          while_continue: /* CIL Label */ ;
#line 2883
          queueing_enabled --;
#line 2883
          if (! queueing_enabled) {
            {
#line 2883
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 2883
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 2883
                if (! (queue_front != queue_rear)) {
#line 2883
                  goto while_break___1;
                }
                {
#line 2883
                queue_front = (queue_front + 1) % 128;
#line 2883
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2883
                zhandler(signal_queue[queue_front]);
#line 2883
                signal_setmask(oset);
                }
              }
              while_break___1: /* CIL Label */ ;
              }
#line 2883
              goto while_break___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
#line 2883
          goto while_break;
        }
        while_break: /* CIL Label */ ;
        }
#line 2884
        return ((Param )((void *)0));
      }
#line 2886
      flags &= -3;
    } else {
      {
#line 2877
      createparam(t, 1);
      }
    }
#line 2888
    *ss = (char )'[';
#line 2889
    v = (Value )((void *)0);
  } else {
    {
#line 2891
    v = getvalue(& vbuf, & s, 1);
    }
#line 2891
    if (v) {
#line 2893
      if ((v->pm)->node.flags & 1) {
#line 2893
        if (! (flags & 1)) {
#line 2893
          goto _L;
        } else {
#line 2893
          goto _L___0;
        }
      } else
      _L___0: /* CIL Label */ 
#line 2893
      if ((v->pm)->node.flags & (1 << 4)) {
        _L: /* CIL Label */ 
#line 2893
        if (! ((v->pm)->node.flags & ((1 << 22) | (1 << 16)))) {
#line 2893
          if (! opts[94]) {
            {
#line 2897
            unsetparam(t);
#line 2898
            createparam(t, 0);
#line 2899
            v = (Value )((void *)0);
            }
          } else {
#line 2902
            flags &= -3;
          }
        } else {
#line 2902
          flags &= -3;
        }
      } else {
#line 2902
        flags &= -3;
      }
    } else {
      {
#line 2892
      createparam(t, 0);
      }
    }
  }
#line 2904
  if (! v) {
    {
#line 2904
    v = getvalue(& vbuf, & t, 1);
    }
#line 2904
    if (! v) {
      {
#line 2905
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 2905
        queueing_enabled --;
#line 2905
        if (! queueing_enabled) {
          {
#line 2905
          while (1) {
            while_continue___3: /* CIL Label */ ;
            {
#line 2905
            while (1) {
              while_continue___4: /* CIL Label */ ;
#line 2905
              if (! (queue_front != queue_rear)) {
#line 2905
                goto while_break___4;
              }
              {
#line 2905
              queue_front = (queue_front + 1) % 128;
#line 2905
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 2905
              zhandler(signal_queue[queue_front]);
#line 2905
              signal_setmask(oset___0);
              }
            }
            while_break___4: /* CIL Label */ ;
            }
#line 2905
            goto while_break___3;
          }
          while_break___3: /* CIL Label */ ;
          }
        }
#line 2905
        goto while_break___2;
      }
      while_break___2: /* CIL Label */ ;
      }
      {
#line 2906
      zsfree(val);
      }
#line 2908
      return ((Param )((void *)0));
    }
  }
#line 2910
  if (flags & 2) {
    {
#line 2911
    check_warn_create(v->pm, "scalar");
    }
  }
#line 2912
  if (flags & 1) {
#line 2913
    if (v->start == 0) {
#line 2913
      if (v->end == -1) {
        {
#line 2915
        if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2915
          goto case_0;
        }
#line 2920
        if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2920
          goto case_exp;
        }
#line 2920
        if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2920
          goto case_exp;
        }
#line 2920
        if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2920
          goto case_exp;
        }
#line 2938
        if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2938
          goto case_1;
        }
#line 2914
        goto switch_break;
        case_0: /* CIL Label */ 
#line 2916
        v->start = 2147483647;
#line 2917
        goto switch_break;
        case_exp: /* CIL Label */ 
        case_exp___0: /* CIL Label */ 
        case_exp___1: /* CIL Label */ 
        {
#line 2921
        rhs = matheval(val);
#line 2922
        lhs = getnumvalue(v);
        }
#line 2923
        if (lhs.type == 2) {
#line 2924
          if (rhs.type == 2) {
#line 2925
            lhs.u.d += rhs.u.d;
          } else {
#line 2927
            lhs.u.d += (double )rhs.u.l;
          }
        } else
#line 2929
        if (rhs.type == 1) {
#line 2930
          lhs.u.l += rhs.u.l;
        } else {
#line 2932
          lhs.u.l += (zlong )rhs.u.d;
        }
        {
#line 2934
        setnumvalue(v, lhs);
        }
        {
#line 2935
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 2935
          queueing_enabled --;
#line 2935
          if (! queueing_enabled) {
            {
#line 2935
            while (1) {
              while_continue___6: /* CIL Label */ ;
              {
#line 2935
              while (1) {
                while_continue___7: /* CIL Label */ ;
#line 2935
                if (! (queue_front != queue_rear)) {
#line 2935
                  goto while_break___7;
                }
                {
#line 2935
                queue_front = (queue_front + 1) % 128;
#line 2935
                oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 2935
                zhandler(signal_queue[queue_front]);
#line 2935
                signal_setmask(oset___1);
                }
              }
              while_break___7: /* CIL Label */ ;
              }
#line 2935
              goto while_break___6;
            }
            while_break___6: /* CIL Label */ ;
            }
          }
#line 2935
          goto while_break___5;
        }
        while_break___5: /* CIL Label */ ;
        }
        {
#line 2936
        zsfree(val);
        }
#line 2937
        return (v->pm);
        case_1: /* CIL Label */ 
#line 2939
        if (! opts[94]) {
          {
#line 2940
          tmp___0 = (*(((v->pm)->gsu.a)->getfn))(v->pm);
#line 2940
          v->start = arrlen(tmp___0);
#line 2941
          v->end = v->start + 1;
          }
        } else {
#line 2944
          v->end = 1;
#line 2945
          goto kshappend;
        }
#line 2947
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
      } else {
#line 2913
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      {
#line 2951
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2951
        goto case_0___0;
      }
#line 2960
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2960
        goto case_exp___2;
      }
#line 2960
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2960
        goto case_exp___2;
      }
#line 2960
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2960
        goto case_exp___2;
      }
#line 2965
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2965
        goto kshappend;
      }
#line 2950
      goto switch_break___0;
      case_0___0: /* CIL Label */ 
#line 2952
      if (v->end > 0) {
#line 2953
        v->start = v->end;
      } else {
        {
#line 2955
        tmp___2 = (*(((v->pm)->gsu.s)->getfn))(v->pm);
#line 2955
        tmp___3 = strlen((char const   *)tmp___2);
#line 2955
        tmp___1 = (int )((tmp___3 + (size_t )v->end) + 1UL);
#line 2955
        v->end = tmp___1;
#line 2955
        v->start = tmp___1;
        }
      }
#line 2957
      goto switch_break___0;
      case_exp___2: /* CIL Label */ 
      case_exp___3: /* CIL Label */ 
      case_exp___4: /* CIL Label */ 
      {
#line 2961
      while (1) {
        while_continue___8: /* CIL Label */ ;
#line 2961
        queueing_enabled --;
#line 2961
        if (! queueing_enabled) {
          {
#line 2961
          while (1) {
            while_continue___9: /* CIL Label */ ;
            {
#line 2961
            while (1) {
              while_continue___10: /* CIL Label */ ;
#line 2961
              if (! (queue_front != queue_rear)) {
#line 2961
                goto while_break___10;
              }
              {
#line 2961
              queue_front = (queue_front + 1) % 128;
#line 2961
              oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 2961
              zhandler(signal_queue[queue_front]);
#line 2961
              signal_setmask(oset___2);
              }
            }
            while_break___10: /* CIL Label */ ;
            }
#line 2961
            goto while_break___9;
          }
          while_break___9: /* CIL Label */ ;
          }
        }
#line 2961
        goto while_break___8;
      }
      while_break___8: /* CIL Label */ ;
      }
      {
#line 2962
      zerr("attempt to add to slice of a numeric variable");
#line 2963
      zsfree(val);
      }
#line 2964
      return ((Param )((void *)0));
      kshappend: 
      case_1___0: /* CIL Label */ 
#line 2968
      if (v->end > 0) {
#line 2968
        sstart = v->end - 1;
      } else {
#line 2968
        sstart = v->end;
      }
      {
#line 2968
      v->start = sstart;
#line 2969
      v->isarr = 0;
#line 2970
      var = getstrvalue(v);
#line 2971
      v->start = sstart;
#line 2972
      copy = val;
#line 2973
      lvar = strlen((char const   *)var);
#line 2974
      tmp___4 = strlen((char const   *)val);
#line 2974
      tmp___5 = zalloc((lvar + tmp___4) + 1UL);
#line 2974
      val = (char *)tmp___5;
#line 2975
      strcpy((char */* __restrict  */)val, (char const   */* __restrict  */)var);
#line 2976
      strcpy((char */* __restrict  */)(val + lvar), (char const   */* __restrict  */)copy);
#line 2977
      zsfree(copy);
      }
#line 2978
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
    }
  }
  {
#line 2983
  assignstrvalue(v, val, flags);
  }
  {
#line 2984
  while (1) {
    while_continue___11: /* CIL Label */ ;
#line 2984
    queueing_enabled --;
#line 2984
    if (! queueing_enabled) {
      {
#line 2984
      while (1) {
        while_continue___12: /* CIL Label */ ;
        {
#line 2984
        while (1) {
          while_continue___13: /* CIL Label */ ;
#line 2984
          if (! (queue_front != queue_rear)) {
#line 2984
            goto while_break___13;
          }
          {
#line 2984
          queue_front = (queue_front + 1) % 128;
#line 2984
          oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 2984
          zhandler(signal_queue[queue_front]);
#line 2984
          signal_setmask(oset___3);
          }
        }
        while_break___13: /* CIL Label */ ;
        }
#line 2984
        goto while_break___12;
      }
      while_break___12: /* CIL Label */ ;
      }
    }
#line 2984
    goto while_break___11;
  }
  while_break___11: /* CIL Label */ ;
  }
#line 2985
  return (v->pm);
}
}
#line 2989 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param setsparam(char *s , char *val ) 
{ 
  int tmp ;
  Param tmp___0 ;

  {
#line 2992
  if (opts[174]) {
#line 2992
    if (locallevel > forklevel) {
#line 2992
      tmp = 2;
    } else {
#line 2992
      tmp = 0;
    }
  } else {
#line 2992
    tmp = 0;
  }
  {
#line 2992
  tmp___0 = assignsparam(s, val, tmp);
  }
#line 2992
  return (tmp___0);
}
}
#line 2998 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param assignaparam(char *s , char **val , int flags ) 
{ 
  struct value vbuf ;
  Value v ;
  char *t ;
  char *ss ;
  int tmp ;
  sigset_t oset ;
  int uniq ;
  char **new ;
  int lv ;
  int tmp___0 ;
  void *tmp___1 ;
  char *tmp___2 ;
  sigset_t oset___0 ;
  char **tmp___3 ;
  int tmp___4 ;
  char **tmp___5 ;
  int tmp___6 ;
  sigset_t oset___1 ;
  void *__cil_tmp22 ;
  void *__cil_tmp23 ;
  void *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;

  {
  {
#line 3003
  t = s;
#line 3006
  tmp = isident(s);
  }
#line 3006
  if (! tmp) {
    {
#line 3007
    zerr("not an identifier: %s", s);
#line 3008
    freearray(val);
#line 3009
    errflag |= 1;
    }
#line 3010
    return ((Param )((void *)0));
  }
  {
#line 3012
  queueing_enabled ++;
#line 3013
  ss = strchr((char const   *)s, '[');
  }
#line 3013
  if (ss) {
    {
#line 3014
    *ss = (char )'\000';
#line 3015
    v = getvalue(& vbuf, & s, 1);
    }
#line 3015
    if (v) {
#line 3018
      flags &= -3;
    } else {
      {
#line 3016
      createparam(t, 1);
      }
    }
#line 3019
    *ss = (char )'[';
#line 3020
    if (v) {
#line 3020
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
        {
#line 3021
        while (1) {
          while_continue: /* CIL Label */ ;
#line 3021
          queueing_enabled --;
#line 3021
          if (! queueing_enabled) {
            {
#line 3021
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 3021
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 3021
                if (! (queue_front != queue_rear)) {
#line 3021
                  goto while_break___1;
                }
                {
#line 3021
                queue_front = (queue_front + 1) % 128;
#line 3021
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3021
                zhandler(signal_queue[queue_front]);
#line 3021
                signal_setmask(oset);
                }
              }
              while_break___1: /* CIL Label */ ;
              }
#line 3021
              goto while_break___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
#line 3021
          goto while_break;
        }
        while_break: /* CIL Label */ ;
        }
        {
#line 3022
        zerr("%s: attempt to set slice of associative array", (v->pm)->node.nam);
#line 3024
        freearray(val);
#line 3025
        errflag |= 1;
        }
#line 3026
        return ((Param )((void *)0));
      }
    }
#line 3028
    v = (Value )((void *)0);
  } else {
    {
#line 3030
    v = fetchvalue(& vbuf, & s, 1, 1 << 6);
    }
#line 3030
    if (v) {
#line 3032
      if (! (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4)))) {
#line 3032
        if (! ((v->pm)->node.flags & ((1 << 22) | (1 << 16)))) {
#line 3034
          uniq = (v->pm)->node.flags & (1 << 13);
#line 3035
          if (flags & 1) {
            {
#line 3038
            tmp___0 = arrlen(val);
#line 3038
            lv = tmp___0;
#line 3040
            tmp___1 = zalloc(sizeof(char *) * (unsigned long )(lv + 2));
#line 3040
            new = (char **)tmp___1;
#line 3041
            tmp___2 = getstrvalue(v);
#line 3041
            *new = ztrdup((char const   *)tmp___2);
#line 3042
            memcpy((void */* __restrict  */)(new + 1), (void const   */* __restrict  */)val,
                   sizeof(char *) * (unsigned long )(lv + 1));
#line 3043
            free((void *)val);
#line 3044
            val = new;
            }
          }
          {
#line 3046
          unsetparam(t);
#line 3047
          createparam(t, 1 | uniq);
#line 3048
          v = (Value )((void *)0);
          }
        } else {
#line 3051
          flags &= -3;
        }
      } else {
#line 3051
        flags &= -3;
      }
    } else {
      {
#line 3031
      createparam(t, 1);
      }
    }
  }
#line 3053
  if (! v) {
    {
#line 3054
    v = fetchvalue(& vbuf, & t, 1, 1 << 6);
    }
#line 3054
    if (! v) {
      {
#line 3055
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 3055
        queueing_enabled --;
#line 3055
        if (! queueing_enabled) {
          {
#line 3055
          while (1) {
            while_continue___3: /* CIL Label */ ;
            {
#line 3055
            while (1) {
              while_continue___4: /* CIL Label */ ;
#line 3055
              if (! (queue_front != queue_rear)) {
#line 3055
                goto while_break___4;
              }
              {
#line 3055
              queue_front = (queue_front + 1) % 128;
#line 3055
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3055
              zhandler(signal_queue[queue_front]);
#line 3055
              signal_setmask(oset___0);
              }
            }
            while_break___4: /* CIL Label */ ;
            }
#line 3055
            goto while_break___3;
          }
          while_break___3: /* CIL Label */ ;
          }
        }
#line 3055
        goto while_break___2;
      }
      while_break___2: /* CIL Label */ ;
      }
      {
#line 3056
      freearray(val);
      }
#line 3058
      return ((Param )((void *)0));
    }
  }
#line 3061
  if (flags & 2) {
    {
#line 3062
    check_warn_create(v->pm, "array");
    }
  }
#line 3063
  if (flags & 1) {
#line 3064
    if (v->start == 0) {
#line 3064
      if (v->end == -1) {
#line 3065
        if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & 1) {
          {
#line 3066
          tmp___3 = (*(((v->pm)->gsu.a)->getfn))(v->pm);
#line 3066
          v->start = arrlen(tmp___3);
#line 3067
          v->end = v->start + 1;
          }
        } else
#line 3068
        if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 << 4)) {
#line 3069
          v->start = -1;
#line 3069
          v->end = 0;
        }
      } else {
#line 3064
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 3071
    if (v->end > 0) {
#line 3072
      tmp___4 = v->end;
#line 3072
      (v->end) --;
#line 3072
      v->start = tmp___4;
    } else
#line 3073
    if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & 1) {
      {
#line 3074
      tmp___5 = (*(((v->pm)->gsu.a)->getfn))(v->pm);
#line 3074
      tmp___6 = arrlen(tmp___5);
#line 3074
      v->end = tmp___6 + v->end;
#line 3075
      v->start = v->end + 1;
      }
    }
  }
  {
#line 3080
  setarrvalue(v, val);
  }
  {
#line 3081
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 3081
    queueing_enabled --;
#line 3081
    if (! queueing_enabled) {
      {
#line 3081
      while (1) {
        while_continue___6: /* CIL Label */ ;
        {
#line 3081
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 3081
          if (! (queue_front != queue_rear)) {
#line 3081
            goto while_break___7;
          }
          {
#line 3081
          queue_front = (queue_front + 1) % 128;
#line 3081
          oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 3081
          zhandler(signal_queue[queue_front]);
#line 3081
          signal_setmask(oset___1);
          }
        }
        while_break___7: /* CIL Label */ ;
        }
#line 3081
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
    }
#line 3081
    goto while_break___5;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 3082
  return (v->pm);
}
}
#line 3087 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param setaparam(char *s , char **aval ) 
{ 
  int tmp ;
  Param tmp___0 ;

  {
#line 3090
  if (opts[174]) {
#line 3090
    if (locallevel > forklevel) {
#line 3090
      tmp = 2;
    } else {
#line 3090
      tmp = 0;
    }
  } else {
#line 3090
    tmp = 0;
  }
  {
#line 3090
  tmp___0 = assignaparam(s, aval, tmp);
  }
#line 3090
  return (tmp___0);
}
}
#line 3096 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param sethparam(char *s , char **val ) 
{ 
  struct value vbuf ;
  Value v ;
  char *t ;
  int checkcreate ;
  int tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  sigset_t oset ;
  sigset_t oset___0 ;
  void *__cil_tmp12 ;
  void *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
  {
#line 3101
  t = s;
#line 3102
  checkcreate = 0;
#line 3104
  tmp = isident(s);
  }
#line 3104
  if (! tmp) {
    {
#line 3105
    zerr("not an identifier: %s", s);
#line 3106
    freearray(val);
#line 3107
    errflag |= 1;
    }
#line 3108
    return ((Param )((void *)0));
  }
  {
#line 3110
  tmp___0 = strchr((char const   *)s, '[');
  }
#line 3110
  if (tmp___0) {
    {
#line 3111
    freearray(val);
#line 3112
    zerr("nested associative arrays not yet supported");
#line 3113
    errflag |= 1;
    }
#line 3114
    return ((Param )((void *)0));
  }
#line 3116
  if (! opts[51]) {
#line 3117
    return ((Param )((void *)0));
  }
  {
#line 3118
  queueing_enabled ++;
#line 3119
  v = fetchvalue(& vbuf, & s, 1, 1 << 6);
  }
#line 3119
  if (v) {
#line 3122
    if (! (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 << 4))) {
#line 3122
      if (! ((v->pm)->node.flags & (1 << 22))) {
        {
#line 3124
        unsetparam(t);
#line 3126
        createparam(t, 1 << 4);
#line 3127
        v = (Value )((void *)0);
        }
      }
    }
  } else {
    {
#line 3120
    createparam(t, 1 << 4);
    }
#line 3121
    if (opts[174]) {
#line 3121
      if (locallevel > forklevel) {
#line 3121
        tmp___1 = 1;
      } else {
#line 3121
        tmp___1 = 0;
      }
    } else {
#line 3121
      tmp___1 = 0;
    }
#line 3121
    checkcreate = tmp___1;
  }
#line 3129
  if (! v) {
    {
#line 3130
    v = fetchvalue(& vbuf, & t, 1, 1 << 6);
    }
#line 3130
    if (! v) {
      {
#line 3131
      while (1) {
        while_continue: /* CIL Label */ ;
#line 3131
        queueing_enabled --;
#line 3131
        if (! queueing_enabled) {
          {
#line 3131
          while (1) {
            while_continue___0: /* CIL Label */ ;
            {
#line 3131
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 3131
              if (! (queue_front != queue_rear)) {
#line 3131
                goto while_break___1;
              }
              {
#line 3131
              queue_front = (queue_front + 1) % 128;
#line 3131
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3131
              zhandler(signal_queue[queue_front]);
#line 3131
              signal_setmask(oset);
              }
            }
            while_break___1: /* CIL Label */ ;
            }
#line 3131
            goto while_break___0;
          }
          while_break___0: /* CIL Label */ ;
          }
        }
#line 3131
        goto while_break;
      }
      while_break: /* CIL Label */ ;
      }
#line 3133
      return ((Param )((void *)0));
    }
  }
#line 3135
  if (checkcreate) {
    {
#line 3136
    check_warn_create(v->pm, "associative array");
    }
  }
  {
#line 3137
  setarrvalue(v, val);
  }
  {
#line 3138
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 3138
    queueing_enabled --;
#line 3138
    if (! queueing_enabled) {
      {
#line 3138
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 3138
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 3138
          if (! (queue_front != queue_rear)) {
#line 3138
            goto while_break___4;
          }
          {
#line 3138
          queue_front = (queue_front + 1) % 128;
#line 3138
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3138
          zhandler(signal_queue[queue_front]);
#line 3138
          signal_setmask(oset___0);
          }
        }
        while_break___4: /* CIL Label */ ;
        }
#line 3138
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 3138
    goto while_break___2;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 3139
  return (v->pm);
}
}
#line 3148 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param setnparam(char *s , mnumber val ) 
{ 
  struct value vbuf ;
  Value v ;
  char *t ;
  char *ss ;
  Param pm ;
  int was_unset ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  HashNode tmp___3 ;
  sigset_t oset ;
  sigset_t oset___0 ;
  void *__cil_tmp16 ;
  void *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
  {
#line 3153
  t = s;
#line 3155
  was_unset = 0;
#line 3157
  tmp = isident(s);
  }
#line 3157
  if (! tmp) {
    {
#line 3158
    zerr("not an identifier: %s", s);
#line 3159
    errflag |= 1;
    }
#line 3160
    return ((Param )((void *)0));
  }
#line 3162
  if (! opts[51]) {
#line 3163
    return ((Param )((void *)0));
  }
  {
#line 3164
  queueing_enabled ++;
#line 3165
  ss = strchr((char const   *)s, '[');
#line 3166
  v = getvalue(& vbuf, & s, 1);
  }
#line 3167
  if (v) {
#line 3167
    if ((v->pm)->node.flags & (1 | (1 << 4))) {
#line 3167
      if (! ((v->pm)->node.flags & ((1 << 22) | (1 << 16)))) {
#line 3167
        if (! opts[94]) {
#line 3167
          if (! ss) {
            {
#line 3174
            unsetparam_pm(v->pm, 0, 1);
#line 3175
            was_unset = 1;
#line 3176
            s = t;
#line 3177
            v = (Value )((void *)0);
            }
          }
        }
      }
    }
  }
#line 3179
  if (! v) {
    {
#line 3181
    ss = strchr((char const   *)s, '[');
    }
#line 3182
    if (ss) {
#line 3183
      *ss = (char )'\000';
    }
#line 3184
    if (ss) {
#line 3184
      tmp___2 = 1;
    } else {
#line 3184
      if (opts[132]) {
#line 3184
        tmp___1 = 0;
      } else {
#line 3184
        if (val.type & 1) {
#line 3184
          tmp___0 = 1 << 1;
        } else {
#line 3184
          tmp___0 = 1 << 3;
        }
#line 3184
        tmp___1 = tmp___0;
      }
#line 3184
      tmp___2 = tmp___1;
    }
    {
#line 3184
    pm = createparam(t, tmp___2);
    }
#line 3187
    if (! pm) {
      {
#line 3188
      tmp___3 = (*(paramtab->getnode))(paramtab, (char const   *)t);
#line 3188
      pm = (Param )tmp___3;
      }
    }
#line 3190
    if (ss) {
#line 3191
      *ss = (char )'[';
    } else
#line 3192
    if (val.type & 1) {
#line 3193
      pm->base = outputradix;
    }
    {
#line 3195
    v = getvalue(& vbuf, & t, 1);
    }
#line 3195
    if (! v) {
      {
#line 3198
      while (1) {
        while_continue: /* CIL Label */ ;
#line 3198
        queueing_enabled --;
#line 3198
        if (! queueing_enabled) {
          {
#line 3198
          while (1) {
            while_continue___0: /* CIL Label */ ;
            {
#line 3198
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 3198
              if (! (queue_front != queue_rear)) {
#line 3198
                goto while_break___1;
              }
              {
#line 3198
              queue_front = (queue_front + 1) % 128;
#line 3198
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3198
              zhandler(signal_queue[queue_front]);
#line 3198
              signal_setmask(oset);
              }
            }
            while_break___1: /* CIL Label */ ;
            }
#line 3198
            goto while_break___0;
          }
          while_break___0: /* CIL Label */ ;
          }
        }
#line 3198
        goto while_break;
      }
      while_break: /* CIL Label */ ;
      }
#line 3199
      return ((Param )((void *)0));
    }
#line 3201
    if (! was_unset) {
#line 3201
      if (opts[174]) {
#line 3201
        if (locallevel > forklevel) {
          {
#line 3202
          check_warn_create(v->pm, "numeric");
          }
        }
      }
    }
  }
  {
#line 3204
  setnumvalue(v, val);
  }
  {
#line 3205
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 3205
    queueing_enabled --;
#line 3205
    if (! queueing_enabled) {
      {
#line 3205
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 3205
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 3205
          if (! (queue_front != queue_rear)) {
#line 3205
            goto while_break___4;
          }
          {
#line 3205
          queue_front = (queue_front + 1) % 128;
#line 3205
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3205
          zhandler(signal_queue[queue_front]);
#line 3205
          signal_setmask(oset___0);
          }
        }
        while_break___4: /* CIL Label */ ;
        }
#line 3205
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 3205
    goto while_break___2;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 3206
  return (v->pm);
}
}
#line 3212 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param setiparam(char *s , zlong val ) 
{ 
  mnumber mnval ;
  Param tmp ;

  {
  {
#line 3216
  mnval.type = 1;
#line 3217
  mnval.u.l = val;
#line 3218
  tmp = setnparam(s, mnval);
  }
#line 3218
  return (tmp);
}
}
#line 3228 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
Param setiparam_no_convert(char *s , zlong val ) 
{ 
  char buf___7[(int )(sizeof(zlong ) * 8UL + 4UL)] ;
  int tmp ;
  char *tmp___0 ;
  Param tmp___1 ;
  void *__cil_tmp7 ;

  {
  {
#line 3236
  convbase(buf___7, val, 10);
  }
#line 3237
  if (opts[174]) {
#line 3237
    if (locallevel > forklevel) {
#line 3237
      tmp = 2;
    } else {
#line 3237
      tmp = 0;
    }
  } else {
#line 3237
    tmp = 0;
  }
  {
#line 3237
  tmp___0 = ztrdup((char const   *)(buf___7));
#line 3237
  tmp___1 = assignsparam(s, tmp___0, tmp);
  }
#line 3237
  return (tmp___1);
}
}
#line 3246 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void unsetparam(char *s ) 
{ 
  Param pm ;
  HashNode tmp ;
  HashNode tmp___0 ;
  HashNode tmp___1 ;
  sigset_t oset ;
  void *__cil_tmp7 ;

  {
#line 3251
  queueing_enabled ++;
#line 3252
  if ((unsigned long )paramtab == (unsigned long )realparamtab) {
    {
#line 3252
    tmp = (*(paramtab->getnode2))(paramtab, (char const   *)s);
#line 3252
    tmp___1 = tmp;
    }
  } else {
    {
#line 3252
    tmp___0 = (*(paramtab->getnode))(paramtab, (char const   *)s);
#line 3252
    tmp___1 = tmp___0;
    }
  }
#line 3252
  pm = (Param )tmp___1;
#line 3252
  if (pm) {
    {
#line 3256
    unsetparam_pm(pm, 0, 1);
    }
  }
  {
#line 3257
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3257
    queueing_enabled --;
#line 3257
    if (! queueing_enabled) {
      {
#line 3257
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 3257
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 3257
          if (! (queue_front != queue_rear)) {
#line 3257
            goto while_break___1;
          }
          {
#line 3257
          queue_front = (queue_front + 1) % 128;
#line 3257
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3257
          zhandler(signal_queue[queue_front]);
#line 3257
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 3257
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 3257
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 3258
  return;
}
}
#line 3267 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
int unsetparam_pm(Param pm , int altflag , int exp ) 
{ 
  Param oldpm ;
  Param altpm ;
  char *altremove ;
  HashNode tmp ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 3273
  if (pm->node.flags & (1 << 10)) {
#line 3273
    if (pm->level <= locallevel) {
      {
#line 3274
      zerr("read-only variable: %s", pm->node.nam);
      }
#line 3275
      return (1);
    }
  }
#line 3277
  if (pm->node.flags & (1 << 24)) {
#line 3277
    if (opts[153]) {
      {
#line 3278
      zerr("%s: restricted", pm->node.nam);
      }
#line 3279
      return (1);
    }
  }
#line 3282
  if (pm->ename) {
#line 3282
    if (! altflag) {
      {
#line 3283
      altremove = ztrdup((char const   *)pm->ename);
      }
    } else {
#line 3285
      altremove = (char *)((void *)0);
    }
  } else {
#line 3285
    altremove = (char *)((void *)0);
  }
#line 3287
  if (! (pm->node.flags & (1 << 25))) {
    {
#line 3288
    (*((pm->gsu.s)->unsetfn))(pm, exp);
    }
  }
#line 3289
  if (pm->env) {
    {
#line 3290
    delenv(pm);
    }
  }
#line 3293
  if (altremove) {
    {
#line 3294
    tmp = (*(paramtab->getnode))(paramtab, (char const   *)altremove);
#line 3294
    altpm = (Param )tmp;
#line 3296
    oldpm = (Param )((void *)0);
    }
    {
#line 3297
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3297
      if (altpm) {
#line 3297
        if (! (altpm->level > pm->level)) {
#line 3297
          goto while_break;
        }
      } else {
#line 3297
        goto while_break;
      }
#line 3299
      oldpm = altpm;
#line 3300
      altpm = altpm->old;
    }
    while_break: /* CIL Label */ ;
    }
#line 3302
    if (altpm) {
#line 3303
      if (oldpm) {
#line 3303
        if (! altpm->level) {
#line 3304
          oldpm->old = (Param )((void *)0);
#line 3306
          altpm->level = 1;
        }
      }
      {
#line 3308
      unsetparam_pm(altpm, 1, exp);
      }
    }
    {
#line 3311
    zsfree(altremove);
    }
  }
#line 3326
  if (pm->level) {
#line 3326
    if (locallevel >= pm->level) {
#line 3328
      return (0);
    } else {
#line 3326
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 3326
  if ((pm->node.flags & ((1 << 22) | (1 << 26))) == 1 << 22) {
#line 3328
    return (0);
  }
  {
#line 3331
  (*(paramtab->removenode))(paramtab, (char const   *)pm->node.nam);
  }
#line 3333
  if (pm->old) {
    {
#line 3334
    oldpm = pm->old;
#line 3335
    (*(paramtab->addnode))(paramtab, oldpm->node.nam, (void *)oldpm);
    }
#line 3336
    if ((oldpm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 3336
      if (! (pm->node.flags & (1 << 29))) {
#line 3336
        if (oldpm->node.flags & (1 << 30)) {
#line 3336
          if ((unsigned long )oldpm->gsu.s == (unsigned long )(& stdscalar_gsu)) {
            {
#line 3340
            adduserdir(oldpm->node.nam, oldpm->u.str, 0, 0);
            }
          }
        }
      }
    }
#line 3341
    if (oldpm->node.flags & (1 << 12)) {
      {
#line 3348
      export_param(oldpm);
      }
    }
  }
  {
#line 3352
  (*(paramtab->freenode))(& pm->node);
  }
#line 3354
  return (0);
}
}
#line 3369 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void stdunsetfn(Param pm , int exp  __attribute__((__unused__)) ) 
{ 


  {
  {
#line 3373
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 3373
    goto case_0;
  }
#line 3378
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 3378
    goto case_1;
  }
#line 3383
  if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 3383
    goto case_exp;
  }
#line 3388
  goto switch_default;
  case_0: /* CIL Label */ 
#line 3374
  if ((pm->gsu.s)->setfn) {
    {
#line 3375
    (*((pm->gsu.s)->setfn))(pm, (char *)((void *)0));
    }
  }
#line 3376
  goto switch_break;
  case_1: /* CIL Label */ 
#line 3379
  if ((pm->gsu.a)->setfn) {
    {
#line 3380
    (*((pm->gsu.a)->setfn))(pm, (char **)((void *)0));
    }
  }
#line 3381
  goto switch_break;
  case_exp: /* CIL Label */ 
#line 3384
  if ((pm->gsu.h)->setfn) {
    {
#line 3385
    (*((pm->gsu.h)->setfn))(pm, (HashTable )((void *)0));
    }
  }
#line 3386
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 3389
  if (! (pm->node.flags & (1 << 22))) {
#line 3390
    pm->u.str = (char *)((void *)0);
  }
#line 3391
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 3393
  if ((pm->node.flags & ((1 << 22) | (1 << 16))) == 1 << 16) {
#line 3394
    if (pm->ename) {
      {
#line 3395
      zsfree(pm->ename);
#line 3396
      pm->ename = (char *)((void *)0);
      }
    }
#line 3398
    pm->node.flags &= ~ (1 << 16);
  }
#line 3400
  pm->node.flags |= 1 << 25;
#line 3401
  return;
}
}
#line 3406 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong intgetfn(Param pm ) 
{ 


  {
#line 3409
  return (pm->u.val);
}
}
#line 3415 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void intsetfn(Param pm , zlong x ) 
{ 


  {
#line 3418
  pm->u.val = x;
#line 3419
  return;
}
}
#line 3424 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static double floatgetfn(Param pm ) 
{ 


  {
#line 3427
  return (pm->u.dval);
}
}
#line 3433 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void floatsetfn(Param pm , double x ) 
{ 


  {
#line 3436
  pm->u.dval = x;
#line 3437
  return;
}
}
#line 3442 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *strgetfn(Param pm ) 
{ 
  void *tmp ;
  char *tmp___0 ;

  {
#line 3445
  if (pm->u.str) {
#line 3445
    tmp___0 = pm->u.str;
  } else {
    {
#line 3445
    tmp = hcalloc((size_t )1);
#line 3445
    tmp___0 = (char *)tmp;
    }
  }
#line 3445
  return (tmp___0);
}
}
#line 3451 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void strsetfn(Param pm , char *x ) 
{ 


  {
  {
#line 3454
  zsfree(pm->u.str);
#line 3455
  pm->u.str = x;
  }
#line 3456
  if (! (pm->node.flags & (1 << 29))) {
#line 3456
    if (pm->node.flags & (1 << 30)) {
      {
#line 3458
      pm->node.flags |= 1 << 30;
#line 3459
      adduserdir(pm->node.nam, x, 0, 0);
      }
    } else
#line 3456
    if (opts[10]) {
      {
#line 3458
      pm->node.flags |= 1 << 30;
#line 3459
      adduserdir(pm->node.nam, x, 0, 0);
      }
    }
  }
#line 3461
  return;
}
}
#line 3465 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char *nullarray  =    (char *)((void *)0);
#line 3468 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char **arrgetfn(Param pm ) 
{ 
  char **tmp ;

  {
#line 3471
  if (pm->u.arr) {
#line 3471
    tmp = pm->u.arr;
  } else {
#line 3471
    tmp = & nullarray;
  }
#line 3471
  return (tmp);
}
}
#line 3477 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void arrsetfn(Param pm , char **x ) 
{ 


  {
#line 3480
  if (pm->u.arr) {
#line 3480
    if ((unsigned long )pm->u.arr != (unsigned long )x) {
      {
#line 3481
      freearray(pm->u.arr);
      }
    }
  }
#line 3482
  if (pm->node.flags & (1 << 13)) {
    {
#line 3483
    uniqarray(x);
    }
  }
#line 3484
  pm->u.arr = x;
#line 3486
  if (pm->ename) {
#line 3486
    if (x) {
      {
#line 3487
      arrfixenv(pm->ename, x);
      }
    }
  }
#line 3488
  return;
}
}
#line 3493 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
HashTable hashgetfn(Param pm ) 
{ 


  {
#line 3496
  return (pm->u.hash);
}
}
#line 3502 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void hashsetfn(Param pm , HashTable x ) 
{ 


  {
#line 3505
  if (pm->u.hash) {
#line 3505
    if ((unsigned long )pm->u.hash != (unsigned long )x) {
      {
#line 3506
      deleteparamtable(pm->u.hash);
      }
    }
  }
#line 3507
  pm->u.hash = x;
#line 3508
  return;
}
}
#line 3513 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void nullsethashfn(Param pm  __attribute__((__unused__)) , HashTable x ) 
{ 


  {
  {
#line 3516
  deleteparamtable(x);
  }
#line 3517
  return;
}
}
#line 3522 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void arrhashsetfn(Param pm , char **val , int augment ) 
{ 
  int alen ;
  int tmp ;
  HashTable opmtab ;
  HashTable ht ;
  char **aptr ;
  Value v ;
  void *tmp___0 ;
  HashNode tmp___1 ;
  char **tmp___2 ;
  char **tmp___3 ;
  char *__cil_tmp14 ;

  {
  {
#line 3528
  tmp = arrlen(val);
#line 3528
  alen = tmp;
#line 3529
  opmtab = paramtab;
#line 3529
  ht = (HashTable )0;
#line 3530
  aptr = val;
#line 3531
  tmp___0 = hcalloc(sizeof(*v));
#line 3531
  v = (Value )tmp___0;
#line 3532
  v->end = -1;
  }
#line 3534
  if (alen % 2) {
    {
#line 3535
    freearray(val);
#line 3536
    zerr("bad set of key/value pairs for associative array");
    }
#line 3537
    return;
  }
#line 3539
  if (augment) {
    {
#line 3540
    paramtab = (*((pm->gsu.h)->getfn))(pm);
#line 3540
    ht = paramtab;
    }
  }
#line 3542
  if (alen) {
#line 3542
    if (! augment) {
      {
#line 3543
      paramtab = newparamtable(17, (char const   *)pm->node.nam);
#line 3543
      ht = paramtab;
      }
    } else
#line 3542
    if (! paramtab) {
      {
#line 3543
      paramtab = newparamtable(17, (char const   *)pm->node.nam);
#line 3543
      ht = paramtab;
      }
    }
  }
  {
#line 3545
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3545
    if (! *aptr) {
#line 3545
      goto while_break;
    }
    {
#line 3547
    v->pm = createparam(*aptr, 1 << 25);
    }
#line 3552
    if (! v->pm) {
      {
#line 3553
      tmp___1 = (*(paramtab->getnode))(paramtab, (char const   *)*aptr);
#line 3553
      v->pm = (Param )tmp___1;
      }
    }
    {
#line 3554
    tmp___2 = aptr;
#line 3554
    aptr ++;
#line 3554
    zsfree(*tmp___2);
#line 3556
    tmp___3 = aptr;
#line 3556
    aptr ++;
#line 3556
    setstrvalue(v, *tmp___3);
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3558
  paramtab = opmtab;
#line 3559
  (*((pm->gsu.h)->setfn))(pm, ht);
#line 3560
  free((void *)val);
  }
#line 3561
  return;
}
}
#line 3570 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void nullstrsetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 


  {
  {
#line 3573
  zsfree(x);
  }
#line 3574
  return;
}
}
#line 3577 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void nullintsetfn(Param pm  __attribute__((__unused__)) , zlong x  __attribute__((__unused__)) ) 
{ 


  {
#line 3579
  return;
}
}
#line 3582 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void nullunsetfn(Param pm  __attribute__((__unused__)) , int exp  __attribute__((__unused__)) ) 
{ 


  {
#line 3584
  return;
}
}
#line 3592 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong intvargetfn(Param pm ) 
{ 


  {
#line 3595
  return (*(pm->u.valptr));
}
}
#line 3603 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void intvarsetfn(Param pm , zlong x ) 
{ 


  {
#line 3606
  *(pm->u.valptr) = x;
#line 3607
  return;
}
}
#line 3614 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void zlevarsetfn(Param pm , zlong x ) 
{ 
  zlong *p ;

  {
#line 3617
  p = pm->u.valptr;
#line 3619
  *p = x;
#line 3620
  if ((unsigned long )p == (unsigned long )(& zterm_lines)) {
    {
#line 3621
    adjustwinsize(2 + ((unsigned long )p == (unsigned long )(& zterm_columns)));
    }
  } else
#line 3620
  if ((unsigned long )p == (unsigned long )(& zterm_columns)) {
    {
#line 3621
    adjustwinsize(2 + ((unsigned long )p == (unsigned long )(& zterm_columns)));
    }
  }
#line 3622
  return;
}
}
#line 3629 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void strvarsetfn(Param pm , char *x ) 
{ 
  char **q ;

  {
  {
#line 3632
  q = (char **)pm->u.data;
#line 3634
  zsfree(*q);
#line 3635
  *q = x;
  }
#line 3636
  return;
}
}
#line 3643 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *strvargetfn(Param pm ) 
{ 
  char *s ;
  void *tmp ;

  {
#line 3646
  s = *((char **)pm->u.data);
#line 3648
  if (! s) {
    {
#line 3649
    tmp = hcalloc((size_t )1);
    }
#line 3649
    return ((char *)tmp);
  }
#line 3650
  return (s);
}
}
#line 3659 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char **arrvargetfn(Param pm ) 
{ 
  char **arrptr ;
  char **tmp ;

  {
#line 3662
  arrptr = *((char ***)pm->u.data);
#line 3664
  if (arrptr) {
#line 3664
    tmp = arrptr;
  } else {
#line 3664
    tmp = & nullarray;
  }
#line 3664
  return (tmp);
}
}
#line 3674 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void arrvarsetfn(Param pm , char **x ) 
{ 
  char ***dptr ;

  {
#line 3677
  dptr = (char ***)pm->u.data;
#line 3679
  if ((unsigned long )*dptr != (unsigned long )x) {
    {
#line 3680
    freearray(*dptr);
    }
  }
#line 3681
  if (pm->node.flags & (1 << 13)) {
    {
#line 3682
    uniqarray(x);
    }
  }
#line 3688
  if (pm->node.flags & (1 << 22)) {
#line 3688
    if (! x) {
      {
#line 3689
      *dptr = mkarray((char *)((void *)0));
      }
    } else {
#line 3691
      *dptr = x;
    }
  } else {
#line 3691
    *dptr = x;
  }
#line 3692
  if (pm->ename) {
#line 3693
    if (x) {
      {
#line 3694
      arrfixenv(pm->ename, x);
      }
    } else
#line 3695
    if ((unsigned long )*dptr == (unsigned long )path) {
#line 3696
      pathchecked = path;
    }
  }
#line 3698
  return;
}
}
#line 3701 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *colonarrgetfn(Param pm ) 
{ 
  char ***dptr ;
  char *tmp ;
  char const   *tmp___0 ;
  char *__cil_tmp5 ;

  {
#line 3704
  dptr = (char ***)pm->u.data;
#line 3705
  if (*dptr) {
    {
#line 3705
    tmp = zjoin(*dptr, ':', 1);
#line 3705
    tmp___0 = (char const   *)tmp;
    }
  } else {
#line 3705
    tmp___0 = "";
  }
#line 3705
  return ((char *)tmp___0);
}
}
#line 3709 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void colonarrsetfn(Param pm , char *x ) 
{ 
  char ***dptr ;

  {
#line 3712
  dptr = (char ***)pm->u.data;
#line 3717
  if (*dptr) {
    {
#line 3718
    freearray(*dptr);
    }
  }
#line 3719
  if (x) {
    {
#line 3720
    *dptr = colonsplit(x, pm->node.flags & (1 << 13));
    }
  } else {
    {
#line 3722
    *dptr = mkarray((char *)((void *)0));
    }
  }
#line 3723
  if (pm->ename) {
    {
#line 3724
    arrfixenv(pm->node.nam, *dptr);
    }
  }
  {
#line 3725
  zsfree(x);
  }
#line 3726
  return;
}
}
#line 3729 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *tiedarrgetfn(Param pm ) 
{ 
  struct tieddata *dptr ;
  char *tmp ;
  char const   *tmp___0 ;
  char *__cil_tmp5 ;

  {
#line 3732
  dptr = (struct tieddata *)pm->u.data;
#line 3733
  if (*(dptr->arrptr)) {
    {
#line 3733
    tmp = zjoin(*(dptr->arrptr), (int )((unsigned char )dptr->joinchar), 1);
#line 3733
    tmp___0 = (char const   *)tmp;
    }
  } else {
#line 3733
    tmp___0 = "";
  }
#line 3733
  return ((char *)tmp___0);
}
}
#line 3737 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void tiedarrsetfn(Param pm , char *x ) 
{ 
  struct tieddata *dptr ;
  char sepbuf[3] ;
  void *__cil_tmp5 ;

  {
#line 3740
  dptr = (struct tieddata *)pm->u.data;
#line 3742
  if (*(dptr->arrptr)) {
    {
#line 3743
    freearray(*(dptr->arrptr));
    }
  }
#line 3744
  if (x) {
#line 3746
    if ((int )typtab[(unsigned char )dptr->joinchar] & (1 << 12)) {
#line 3748
      sepbuf[0] = (char)-125;
#line 3749
      sepbuf[1] = (char )(dptr->joinchar ^ 32);
#line 3750
      sepbuf[2] = (char )'\000';
    } else {
#line 3754
      sepbuf[0] = (char )dptr->joinchar;
#line 3755
      sepbuf[1] = (char )'\000';
    }
    {
#line 3757
    *(dptr->arrptr) = sepsplit(x, sepbuf, 0, 0);
    }
#line 3758
    if (pm->node.flags & (1 << 13)) {
      {
#line 3759
      uniqarray(*(dptr->arrptr));
      }
    }
    {
#line 3760
    zsfree(x);
    }
  } else {
#line 3762
    *(dptr->arrptr) = (char **)((void *)0);
  }
#line 3763
  if (pm->ename) {
    {
#line 3764
    arrfixenv(pm->node.nam, *(dptr->arrptr));
    }
  }
#line 3765
  return;
}
}
#line 3768 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void tiedarrunsetfn(Param pm , int exp  __attribute__((__unused__)) ) 
{ 


  {
  {
#line 3776
  (*((pm->gsu.s)->setfn))(pm, (char *)((void *)0));
#line 3777
  zfree(pm->u.data, (int )sizeof(struct tieddata ));
#line 3779
  pm->u.data = (void *)0;
#line 3780
  zsfree(pm->ename);
#line 3781
  pm->ename = (char *)((void *)0);
#line 3782
  pm->node.flags &= ~ (1 << 16);
#line 3783
  pm->node.flags |= 1 << 25;
  }
#line 3784
  return;
}
}
#line 3787 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void simple_arrayuniq(char **x , int freeok ) 
{ 
  char **t ;
  char **p ;
  char *hole ;
  int tmp ;
  char **tmp___0 ;
  char *tmp___1 ;
  char *__cil_tmp9 ;

  {
#line 3790
  p = x;
#line 3791
  hole = (char *)"";
  {
#line 3794
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3794
    p ++;
#line 3794
    if (! *p) {
#line 3794
      goto while_break;
    }
#line 3795
    t = x;
    {
#line 3795
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 3795
      if (! ((unsigned long )t < (unsigned long )p)) {
#line 3795
        goto while_break___0;
      }
#line 3796
      if ((unsigned long )*t != (unsigned long )hole) {
        {
#line 3796
        tmp = strcmp((char const   *)*p, (char const   *)*t);
        }
#line 3796
        if (! tmp) {
#line 3797
          if (freeok) {
            {
#line 3798
            zsfree(*p);
            }
          }
#line 3799
          *p = hole;
#line 3800
          goto while_break___0;
        }
      }
#line 3795
      t ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3803
  t = x;
#line 3803
  p = t;
  {
#line 3803
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 3803
    if (! ((unsigned long )*t != (unsigned long )((void *)0))) {
#line 3803
      goto while_break___1;
    }
#line 3804
    if ((unsigned long )*t == (unsigned long )hole) {
      {
#line 3805
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 3805
        if (! ((unsigned long )*p == (unsigned long )hole)) {
#line 3805
          goto while_break___2;
        }
#line 3806
        p ++;
      }
      while_break___2: /* CIL Label */ ;
      }
#line 3807
      tmp___1 = *p;
#line 3807
      *t = tmp___1;
#line 3807
      if ((unsigned long )tmp___1 != (unsigned long )((void *)0)) {
#line 3808
        tmp___0 = p;
#line 3808
        p ++;
#line 3808
        *tmp___0 = hole;
      }
    } else
#line 3809
    if ((unsigned long )p == (unsigned long )t) {
#line 3810
      p ++;
    }
#line 3803
    t ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 3813
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 3813
    t ++;
#line 3813
    if (! ((unsigned long )t < (unsigned long )p)) {
#line 3813
      goto while_break___3;
    }
#line 3814
    *t = (char *)((void *)0);
  }
  while_break___3: /* CIL Label */ ;
  }
#line 3815
  return;
}
}
#line 3818 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void arrayuniq_freenode(HashNode hn ) 
{ 


  {
#line 3822
  return;
}
}
#line 3825 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
HashTable newuniqtable(zlong size ) 
{ 
  HashTable ht ;
  HashTable tmp ;
  char *__cil_tmp4 ;

  {
  {
#line 3828
  tmp = newhashtable((int )size, "arrayuniq", (void (*)(HashTable  ))((void *)0));
#line 3828
  ht = tmp;
#line 3831
  ht->hash = & hasher;
#line 3832
  ht->emptytable = & emptyhashtable;
#line 3833
  ht->filltable = (void (*)(HashTable  ))((void *)0);
#line 3834
  ht->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 3835
  ht->addnode = & addhashnode;
#line 3836
  ht->getnode = & gethashnode2;
#line 3837
  ht->getnode2 = & gethashnode2;
#line 3838
  ht->removenode = & removehashnode;
#line 3839
  ht->disablenode = & disablehashnode;
#line 3840
  ht->enablenode = & enablehashnode;
#line 3841
  ht->freenode = & arrayuniq_freenode;
#line 3842
  ht->printnode = (void (*)(HashNode  , int  ))((void *)0);
  }
#line 3844
  return (ht);
}
}
#line 3848 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void arrayuniq(char **x , int freeok ) 
{ 
  char **it ;
  char **write_it ;
  zlong array_size ;
  int tmp ;
  HashTable ht ;
  HashNode new_node ;
  void *tmp___0 ;
  HashNode tmp___1 ;
  char *__cil_tmp11 ;

  {
  {
#line 3852
  tmp = arrlen(x);
#line 3852
  array_size = (zlong )tmp;
  }
#line 3855
  if (array_size == 0L) {
#line 3856
    return;
  }
#line 3857
  if (array_size < 10L) {
    {
#line 3859
    simple_arrayuniq(x, freeok);
    }
#line 3860
    return;
  } else {
    {
#line 3857
    ht = newuniqtable(array_size + 1L);
    }
#line 3857
    if (! ht) {
      {
#line 3859
      simple_arrayuniq(x, freeok);
      }
#line 3860
      return;
    }
  }
#line 3863
  it = x;
#line 3863
  write_it = x;
  {
#line 3863
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3863
    if (! *it) {
#line 3863
      goto while_break;
    }
    {
#line 3864
    tmp___1 = gethashnode2(ht, (char const   *)*it);
    }
#line 3864
    if (tmp___1) {
#line 3878
      if (freeok) {
        {
#line 3879
        zsfree(*it);
        }
      }
#line 3880
      *it = (char *)((void *)0);
    } else {
      {
#line 3865
      tmp___0 = zhalloc(sizeof(struct hashnode ));
#line 3865
      new_node = (HashNode )tmp___0;
      }
#line 3866
      if (! new_node) {
        {
#line 3868
        zerr("out of memory in arrayuniq");
        }
#line 3869
        goto while_break;
      }
      {
#line 3871
      addhashnode2(ht, *it, (void *)new_node);
#line 3872
      *write_it = *it;
      }
#line 3873
      if ((unsigned long )it != (unsigned long )write_it) {
#line 3874
        *it = (char *)((void *)0);
      }
#line 3875
      write_it ++;
    }
#line 3882
    it ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3885
  deletehashtable(ht);
  }
#line 3886
  return;
}
}
#line 3889 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void uniqarray(char **x ) 
{ 
  void *tmp ;
  int tmp___0 ;

  {
#line 3892
  if (! x) {
#line 3893
    return;
  } else
#line 3892
  if (! *x) {
#line 3893
    return;
  }
  {
#line 3894
  tmp = zheapptr((void *)*x);
  }
#line 3894
  if (tmp) {
#line 3894
    tmp___0 = 0;
  } else {
#line 3894
    tmp___0 = 1;
  }
  {
#line 3894
  arrayuniq(x, tmp___0);
  }
#line 3895
  return;
}
}
#line 3898 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void zhuniqarray(char **x ) 
{ 


  {
#line 3901
  if (! x) {
#line 3902
    return;
  } else
#line 3901
  if (! *x) {
#line 3902
    return;
  }
  {
#line 3903
  arrayuniq(x, 0);
  }
#line 3904
  return;
}
}
#line 3909 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong poundgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  int tmp ;

  {
  {
#line 3912
  tmp = arrlen(pparams);
  }
#line 3912
  return ((zlong )tmp);
}
}
#line 3918 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong randomgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  int tmp ;

  {
  {
#line 3921
  tmp = rand();
  }
#line 3921
  return ((zlong )(tmp & 32767));
}
}
#line 3927 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void randomsetfn(Param pm  __attribute__((__unused__)) , zlong v ) 
{ 


  {
  {
#line 3930
  srand((unsigned int )v);
  }
#line 3931
  return;
}
}
#line 3936 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong intsecondsgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  struct timeval now ;
  struct timezone dummy_tz ;
  int tmp ;

  {
  {
#line 3942
  gettimeofday((struct timeval */* __restrict  */)(& now), (__timezone_ptr_t )(& dummy_tz));
  }
#line 3944
  if (now.tv_usec < shtimer.tv_usec) {
#line 3944
    tmp = 1;
  } else {
#line 3944
    tmp = 0;
  }
#line 3944
  return ((now.tv_sec - shtimer.tv_sec) - (__time_t )tmp);
}
}
#line 3951 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void intsecondssetfn(Param pm  __attribute__((__unused__)) , zlong x ) 
{ 
  struct timeval now ;
  struct timezone dummy_tz ;
  zlong diff ;
  char *__cil_tmp6 ;

  {
  {
#line 3958
  gettimeofday((struct timeval */* __restrict  */)(& now), (__timezone_ptr_t )(& dummy_tz));
#line 3959
  diff = now.tv_sec - x;
#line 3960
  shtimer.tv_sec = diff;
  }
#line 3961
  if (shtimer.tv_sec != diff) {
    {
#line 3962
    zwarn("SECONDS truncated on assignment");
    }
  }
#line 3963
  shtimer.tv_usec = now.tv_usec;
#line 3964
  return;
}
}
#line 3967 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
double floatsecondsgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  struct timeval now ;
  struct timezone dummy_tz ;

  {
  {
#line 3973
  gettimeofday((struct timeval */* __restrict  */)(& now), (__timezone_ptr_t )(& dummy_tz));
  }
#line 3975
  return ((double )(now.tv_sec - shtimer.tv_sec) + (double )(now.tv_usec - shtimer.tv_usec) / 1000000.0);
}
}
#line 3980 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void floatsecondssetfn(Param pm  __attribute__((__unused__)) , double x ) 
{ 
  struct timeval now ;
  struct timezone dummy_tz ;

  {
  {
#line 3986
  gettimeofday((struct timeval */* __restrict  */)(& now), (__timezone_ptr_t )(& dummy_tz));
#line 3987
  shtimer.tv_sec = now.tv_sec - (zlong )x;
#line 3988
  shtimer.tv_usec = now.tv_usec - (zlong )((x - (double )((zlong )x)) * 1000000.0);
  }
#line 3989
  return;
}
}
#line 3992 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
double getrawseconds(void) 
{ 


  {
#line 3995
  return ((double )shtimer.tv_sec + (double )shtimer.tv_usec / 1000000.0);
}
}
#line 3999 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void setrawseconds(double x ) 
{ 


  {
#line 4002
  shtimer.tv_sec = (zlong )x;
#line 4003
  shtimer.tv_usec = (zlong )((x - (double )((zlong )x)) * 1000000.0);
#line 4004
  return;
}
}
#line 4007 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
int setsecondstype(Param pm , int on , int off ) 
{ 
  int newflags ;
  int tp ;

  {
#line 4010
  newflags = (pm->node.flags | on) & ~ off;
#line 4011
  tp = newflags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4));
#line 4013
  if (tp == 1 << 2) {
#line 4015
    pm->gsu.f = & floatseconds_gsu;
  } else
#line 4013
  if (tp == 1 << 3) {
#line 4015
    pm->gsu.f = & floatseconds_gsu;
  } else
#line 4017
  if (tp == 1 << 1) {
#line 4019
    pm->gsu.i = & intseconds_gsu;
  } else {
#line 4022
    return (1);
  }
#line 4023
  pm->node.flags = newflags;
#line 4024
  return (0);
}
}
#line 4030 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *usernamegetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  char *tmp ;

  {
  {
#line 4033
  tmp = get_username();
  }
#line 4033
  return (tmp);
}
}
#line 4039 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void usernamesetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 
  struct passwd *pswd ;
  int *tmp ;
  int *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 4045
  if (x) {
    {
#line 4045
    pswd = getpwnam((char const   *)x);
    }
#line 4045
    if (pswd) {
#line 4045
      if (pswd->pw_uid != cached_uid) {
        {
#line 4047
        initgroups((char const   *)x, pswd->pw_gid);
#line 4049
        tmp___2 = setgid(pswd->pw_gid);
        }
#line 4049
        if (tmp___2) {
          {
#line 4050
          tmp = __errno_location();
#line 4050
          zwarn("failed to change group ID: %e", *tmp);
          }
        } else {
          {
#line 4051
          tmp___1 = setuid(pswd->pw_uid);
          }
#line 4051
          if (tmp___1) {
            {
#line 4052
            tmp___0 = __errno_location();
#line 4052
            zwarn("failed to change user ID: %e", *tmp___0);
            }
          } else {
            {
#line 4054
            zsfree(cached_username);
#line 4055
            cached_username = ztrdup((char const   *)pswd->pw_name);
#line 4056
            cached_uid = pswd->pw_uid;
            }
          }
        }
      }
    }
  }
  {
#line 4060
  zsfree(x);
  }
#line 4061
  return;
}
}
#line 4066 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong uidgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  __uid_t tmp ;

  {
  {
#line 4069
  tmp = getuid();
  }
#line 4069
  return ((zlong )tmp);
}
}
#line 4075 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void uidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) 
{ 
  int *tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;

  {
  {
#line 4079
  tmp___0 = setuid((uid_t )x);
  }
#line 4079
  if (tmp___0) {
    {
#line 4080
    tmp = __errno_location();
#line 4080
    zerr("failed to change user ID: %e", *tmp);
    }
  }
#line 4082
  return;
}
}
#line 4087 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong euidgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  __uid_t tmp ;

  {
  {
#line 4090
  tmp = geteuid();
  }
#line 4090
  return ((zlong )tmp);
}
}
#line 4096 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void euidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) 
{ 
  int *tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;

  {
  {
#line 4100
  tmp___0 = seteuid((uid_t )x);
  }
#line 4100
  if (tmp___0) {
    {
#line 4101
    tmp = __errno_location();
#line 4101
    zerr("failed to change effective user ID: %e", *tmp);
    }
  }
#line 4103
  return;
}
}
#line 4108 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong gidgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  __gid_t tmp ;

  {
  {
#line 4111
  tmp = getgid();
  }
#line 4111
  return ((zlong )tmp);
}
}
#line 4117 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void gidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) 
{ 
  int *tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;

  {
  {
#line 4121
  tmp___0 = setgid((gid_t )x);
  }
#line 4121
  if (tmp___0) {
    {
#line 4122
    tmp = __errno_location();
#line 4122
    zerr("failed to change group ID: %e", *tmp);
    }
  }
#line 4124
  return;
}
}
#line 4129 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong egidgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  __gid_t tmp ;

  {
  {
#line 4132
  tmp = getegid();
  }
#line 4132
  return ((zlong )tmp);
}
}
#line 4138 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void egidsetfn(Param pm  __attribute__((__unused__)) , zlong x ) 
{ 
  int *tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;

  {
  {
#line 4142
  tmp___0 = setegid((gid_t )x);
  }
#line 4142
  if (tmp___0) {
    {
#line 4143
    tmp = __errno_location();
#line 4143
    zerr("failed to change effective group ID: %e", *tmp);
    }
  }
#line 4145
  return;
}
}
#line 4148 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong ttyidlegetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  struct stat ttystat ;
  int tmp ;
  time_t tmp___0 ;
  void *__cil_tmp5 ;

  {
#line 4153
  if (SHTTY == -1) {
#line 4154
    return ((zlong )-1);
  } else {
    {
#line 4153
    tmp = fstat(SHTTY, & ttystat);
    }
#line 4153
    if (tmp) {
#line 4154
      return ((zlong )-1);
    }
  }
  {
#line 4155
  tmp___0 = time((time_t *)((void *)0));
  }
#line 4155
  return (tmp___0 - ttystat.st_atim.tv_sec);
}
}
#line 4161 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *ifsgetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4164
  return (ifs);
}
}
#line 4170 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void ifssetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 


  {
  {
#line 4173
  zsfree(ifs);
#line 4174
  ifs = x;
#line 4175
  inittyptab();
  }
#line 4176
  return;
}
}
#line 4181 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct localename lc_names[6]  = {      {(char *)"LC_COLLATE", 3}, 
        {(char *)"LC_CTYPE", 0}, 
        {(char *)"LC_MESSAGES", 5}, 
        {(char *)"LC_NUMERIC", 1}, 
        {(char *)"LC_TIME", 2}, 
        {(char *)((void *)0), 0}};
#line 4204 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void setlang(char *x ) 
{ 
  struct localename *ln ;
  char *x2 ;
  char *tmp ;
  char const   *tmp___0 ;
  sigset_t oset ;
  void *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
  {
#line 4210
  x2 = getsparam_u((char *)"LC_ALL");
  }
#line 4210
  if (x2) {
#line 4210
    if (*x2) {
#line 4211
      return;
    }
  }
#line 4224
  if (x) {
    {
#line 4224
    tmp = unmeta((char const   *)x);
#line 4224
    tmp___0 = (char const   *)tmp;
    }
  } else {
#line 4224
    tmp___0 = "";
  }
  {
#line 4224
  setlocale(6, tmp___0);
#line 4225
  queueing_enabled ++;
#line 4226
  ln = lc_names;
  }
  {
#line 4226
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4226
    if (! ln->name) {
#line 4226
      goto while_break;
    }
    {
#line 4227
    x = getsparam_u(ln->name);
    }
#line 4227
    if (x) {
#line 4227
      if (*x) {
        {
#line 4228
        setlocale(ln->category, (char const   *)x);
        }
      }
    }
#line 4226
    ln ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4229
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4229
    queueing_enabled --;
#line 4229
    if (! queueing_enabled) {
      {
#line 4229
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 4229
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 4229
          if (! (queue_front != queue_rear)) {
#line 4229
            goto while_break___2;
          }
          {
#line 4229
          queue_front = (queue_front + 1) % 128;
#line 4229
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 4229
          zhandler(signal_queue[queue_front]);
#line 4229
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 4229
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 4229
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4230
  return;
}
}
#line 4233 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void lc_allsetfn(Param pm , char *x ) 
{ 
  sigset_t oset ;
  char *tmp ;
  void *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 4236
  strsetfn(pm, x);
  }
#line 4242
  if (! x) {
#line 4242
    goto _L;
  } else
#line 4242
  if (! *x) {
    _L: /* CIL Label */ 
    {
#line 4243
    x = getsparam_u((char *)"LANG");
    }
#line 4244
    if (x) {
#line 4244
      if (*x) {
        {
#line 4245
        queueing_enabled ++;
#line 4246
        setlang(x);
        }
        {
#line 4247
        while (1) {
          while_continue: /* CIL Label */ ;
#line 4247
          queueing_enabled --;
#line 4247
          if (! queueing_enabled) {
            {
#line 4247
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 4247
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 4247
                if (! (queue_front != queue_rear)) {
#line 4247
                  goto while_break___1;
                }
                {
#line 4247
                queue_front = (queue_front + 1) % 128;
#line 4247
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 4247
                zhandler(signal_queue[queue_front]);
#line 4247
                signal_setmask(oset);
                }
              }
              while_break___1: /* CIL Label */ ;
              }
#line 4247
              goto while_break___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
#line 4247
          goto while_break;
        }
        while_break: /* CIL Label */ ;
        }
      }
    }
  } else {
    {
#line 4251
    tmp = unmeta((char const   *)x);
#line 4251
    setlocale(6, (char const   *)tmp);
    }
  }
#line 4252
  return;
}
}
#line 4255 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void langsetfn(Param pm , char *x ) 
{ 
  char *tmp ;

  {
  {
#line 4258
  strsetfn(pm, x);
#line 4259
  tmp = unmeta((char const   *)x);
#line 4259
  setlang(tmp);
  }
#line 4260
  return;
}
}
#line 4263 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void lcsetfn(Param pm , char *x ) 
{ 
  char *x2 ;
  struct localename *ln ;
  char *tmp ;
  int tmp___0 ;
  sigset_t oset ;
  void *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
  {
#line 4269
  strsetfn(pm, x);
#line 4270
  x2 = getsparam((char *)"LC_ALL");
  }
#line 4270
  if (x2) {
#line 4270
    if (*x2) {
#line 4271
      return;
    }
  }
#line 4272
  queueing_enabled ++;
#line 4274
  if (! x) {
    {
#line 4275
    x = getsparam((char *)"LANG");
    }
  } else
#line 4274
  if (! *x) {
    {
#line 4275
    x = getsparam((char *)"LANG");
    }
  }
#line 4282
  if (x) {
#line 4282
    if (*x) {
#line 4283
      ln = lc_names;
      {
#line 4283
      while (1) {
        while_continue: /* CIL Label */ ;
#line 4283
        if (! ln->name) {
#line 4283
          goto while_break;
        }
        {
#line 4284
        tmp___0 = strcmp((char const   *)ln->name, (char const   *)pm->node.nam);
        }
#line 4284
        if (! tmp___0) {
          {
#line 4285
          tmp = unmeta((char const   *)x);
#line 4285
          setlocale(ln->category, (char const   *)tmp);
          }
        }
#line 4283
        ln ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
  {
#line 4287
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4287
    queueing_enabled --;
#line 4287
    if (! queueing_enabled) {
      {
#line 4287
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 4287
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 4287
          if (! (queue_front != queue_rear)) {
#line 4287
            goto while_break___2;
          }
          {
#line 4287
          queue_front = (queue_front + 1) % 128;
#line 4287
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 4287
          zhandler(signal_queue[queue_front]);
#line 4287
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 4287
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 4287
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4288
  return;
}
}
#line 4294 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void argzerosetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 
  char *__cil_tmp3 ;

  {
#line 4297
  if (x) {
#line 4298
    if (opts[129]) {
      {
#line 4299
      zerr("read-only variable: 0");
      }
    } else {
      {
#line 4301
      zsfree(argzero);
#line 4302
      argzero = ztrdup((char const   *)x);
      }
    }
    {
#line 4304
    zsfree(x);
    }
  }
#line 4306
  return;
}
}
#line 4311 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char *argzerogetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4314
  if (opts[129]) {
#line 4315
    return (posixzero);
  }
#line 4316
  return (argzero);
}
}
#line 4322 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong histsizegetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4325
  return (histsiz);
}
}
#line 4331 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void histsizesetfn(Param pm  __attribute__((__unused__)) , zlong v ) 
{ 


  {
#line 4334
  histsiz = v;
#line 4334
  if (histsiz < 1L) {
#line 4335
    histsiz = (zlong )1;
  }
  {
#line 4336
  resizehistents();
  }
#line 4337
  return;
}
}
#line 4342 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong savehistsizegetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4345
  return (savehistsiz);
}
}
#line 4351 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void savehistsizesetfn(Param pm  __attribute__((__unused__)) , zlong v ) 
{ 


  {
#line 4354
  savehistsiz = v;
#line 4354
  if (savehistsiz < 0L) {
#line 4355
    savehistsiz = (zlong )0;
  }
#line 4356
  return;
}
}
#line 4361 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void errnosetfn(Param pm  __attribute__((__unused__)) , zlong x ) 
{ 
  int *tmp ;
  int *tmp___0 ;
  char *__cil_tmp5 ;

  {
  {
#line 4364
  tmp = __errno_location();
#line 4364
  *tmp = (int )x;
#line 4365
  tmp___0 = __errno_location();
  }
#line 4365
  if ((zlong )*tmp___0 != x) {
    {
#line 4366
    zwarn("errno truncated on assignment");
    }
  }
#line 4367
  return;
}
}
#line 4372 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
zlong errnogetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  int *tmp ;

  {
  {
#line 4375
  tmp = __errno_location();
  }
#line 4375
  return ((zlong )*tmp);
}
}
#line 4384 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char buf___3[2]  ;
#line 4381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *keyboardhackgetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4386
  buf___3[0] = (char )keyboardhackchar;
#line 4387
  buf___3[1] = (char )'\000';
#line 4388
  return (buf___3);
}
}
#line 4395 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void keyboardhacksetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 
  int len ;
  int i ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 4398
  if (x) {
    {
#line 4401
    unmetafy(x, & len);
    }
#line 4402
    if (len > 1) {
      {
#line 4403
      len = 1;
#line 4404
      zwarn("Only one KEYBOARD_HACK character can be defined");
      }
    }
#line 4406
    i = 0;
    {
#line 4406
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4406
      if (! (i < len)) {
#line 4406
        goto while_break;
      }
#line 4407
      if (! (((int )((unsigned char )*(x + i)) & -128) == 0)) {
        {
#line 4408
        zwarn("KEYBOARD_HACK can only contain ASCII characters");
        }
#line 4409
        return;
      }
#line 4406
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 4412
    if (len) {
#line 4412
      keyboardhackchar = (unsigned char )*(x + 0);
    } else {
#line 4412
      keyboardhackchar = (unsigned char )'\000';
    }
    {
#line 4413
    free((void *)x);
    }
  } else {
#line 4415
    keyboardhackchar = (unsigned char )'\000';
  }
#line 4416
  return;
}
}
#line 4424 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char buf___4[4]  ;
#line 4421 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *histcharsgetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4426
  buf___4[0] = (char )bangchar;
#line 4427
  buf___4[1] = (char )hatchar;
#line 4428
  buf___4[2] = (char )hashchar;
#line 4429
  buf___4[3] = (char )'\000';
#line 4430
  return (buf___4);
}
}
#line 4436 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void histcharssetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 
  int len ;
  int i ;
  char *__cil_tmp5 ;

  {
#line 4439
  if (x) {
    {
#line 4442
    unmetafy(x, & len);
    }
#line 4443
    if (len > 3) {
#line 4444
      len = 3;
    }
#line 4445
    i = 0;
    {
#line 4445
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4445
      if (! (i < len)) {
#line 4445
        goto while_break;
      }
#line 4446
      if (! (((int )((unsigned char )*(x + i)) & -128) == 0)) {
        {
#line 4447
        zwarn("HISTCHARS can only contain ASCII characters");
        }
#line 4448
        return;
      }
#line 4445
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 4451
    if (len) {
#line 4451
      bangchar = (unsigned char )*(x + 0);
    } else {
#line 4451
      bangchar = (unsigned char )'\000';
    }
#line 4452
    if (len > 1) {
#line 4452
      hatchar = (unsigned char )*(x + 1);
    } else {
#line 4452
      hatchar = (unsigned char )'\000';
    }
#line 4453
    if (len > 2) {
#line 4453
      hashchar = (unsigned char )*(x + 2);
    } else {
#line 4453
      hashchar = (unsigned char )'\000';
    }
    {
#line 4454
    free((void *)x);
    }
  } else {
#line 4456
    bangchar = (unsigned char )'!';
#line 4457
    hashchar = (unsigned char )'#';
#line 4458
    hatchar = (unsigned char )'^';
  }
  {
#line 4460
  inittyptab();
  }
#line 4461
  return;
}
}
#line 4466 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *homegetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4469
  return (home);
}
}
#line 4475 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void homesetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 
  char *tmp ;
  char *__cil_tmp4 ;

  {
  {
#line 4478
  zsfree(home);
  }
#line 4479
  if (x) {
#line 4479
    if (opts[30]) {
      {
#line 4479
      home = xsymlink(x, 0);
      }
#line 4479
      if (home) {
        {
#line 4480
        zsfree(x);
        }
      } else {
#line 4479
        goto _L___0;
      }
    } else {
#line 4479
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 4482
  if (x) {
#line 4482
    home = x;
  } else {
    {
#line 4482
    tmp = ztrdup("");
#line 4482
    home = tmp;
    }
  }
  {
#line 4483
  finddir((char *)((void *)0));
  }
#line 4484
  return;
}
}
#line 4489 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *wordcharsgetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4492
  return (wordchars);
}
}
#line 4498 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void wordcharssetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 


  {
  {
#line 4501
  zsfree(wordchars);
#line 4502
  wordchars = x;
#line 4503
  inittyptab();
  }
#line 4504
  return;
}
}
#line 4509 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *underscoregetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  char *u ;
  char *tmp ;

  {
  {
#line 4512
  tmp = dupstring((char const   *)zunderscore);
#line 4512
  u = tmp;
#line 4514
  untokenize(u);
  }
#line 4515
  return (u);
}
}
#line 4520 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void term_reinit_from_pm(void) 
{ 


  {
#line 4524
  if (! opts[92]) {
#line 4525
    termflags |= 2;
  } else
#line 4524
  if (! *term) {
#line 4525
    termflags |= 2;
  } else {
    {
#line 4527
    init_term();
    }
  }
#line 4528
  return;
}
}
#line 4533 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *termgetfn(Param pm  __attribute__((__unused__)) ) 
{ 


  {
#line 4536
  return (term);
}
}
#line 4542 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void termsetfn(Param pm  __attribute__((__unused__)) , char *x ) 
{ 
  char *tmp ;
  char *__cil_tmp4 ;

  {
  {
#line 4545
  zsfree(term);
  }
#line 4546
  if (x) {
#line 4546
    term = x;
  } else {
    {
#line 4546
    tmp = ztrdup("");
#line 4546
    term = tmp;
    }
  }
  {
#line 4547
  term_reinit_from_pm();
  }
#line 4548
  return;
}
}
#line 4553 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *terminfogetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  char *tmp ;
  char *tmp___0 ;
  char *__cil_tmp4 ;

  {
#line 4556
  if (zsh_terminfo) {
#line 4556
    tmp___0 = zsh_terminfo;
  } else {
    {
#line 4556
    tmp = dupstring("");
#line 4556
    tmp___0 = tmp;
    }
  }
#line 4556
  return (tmp___0);
}
}
#line 4562 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void terminfosetfn(Param pm , char *x ) 
{ 


  {
  {
#line 4565
  zsfree(zsh_terminfo);
#line 4566
  zsh_terminfo = x;
  }
#line 4572
  if (pm->node.flags & (1 << 12)) {
#line 4572
    if (x) {
      {
#line 4573
      addenv(pm, x);
      }
    }
  }
  {
#line 4575
  term_reinit_from_pm();
  }
#line 4576
  return;
}
}
#line 4581 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *terminfodirsgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  char *tmp ;
  char *tmp___0 ;
  char *__cil_tmp4 ;

  {
#line 4584
  if (zsh_terminfodirs) {
#line 4584
    tmp___0 = zsh_terminfodirs;
  } else {
    {
#line 4584
    tmp = dupstring("");
#line 4584
    tmp___0 = tmp;
    }
  }
#line 4584
  return (tmp___0);
}
}
#line 4590 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void terminfodirssetfn(Param pm , char *x ) 
{ 


  {
  {
#line 4593
  zsfree(zsh_terminfodirs);
#line 4594
  zsh_terminfodirs = x;
  }
#line 4600
  if (pm->node.flags & (1 << 12)) {
#line 4600
    if (x) {
      {
#line 4601
      addenv(pm, x);
      }
    }
  }
  {
#line 4603
  term_reinit_from_pm();
  }
#line 4604
  return;
}
}
#line 4608 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char **pipestatgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  char **x ;
  void *tmp ;
  char buf___7[(int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3] ;
  char **p ;
  int *q ;
  int i ;
  int tmp___0 ;
  void *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
  {
#line 4611
  tmp = zhalloc((unsigned long )(numpipestats + 1) * sizeof(char *));
#line 4611
  x = (char **)tmp;
#line 4615
  p = x;
#line 4615
  q = pipestats;
#line 4615
  i = numpipestats;
  }
  {
#line 4615
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4615
    tmp___0 = i;
#line 4615
    i --;
#line 4615
    if (! tmp___0) {
#line 4615
      goto while_break;
    }
    {
#line 4616
    sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%d",
            *q);
#line 4617
    *p = dupstring((char const   *)(buf___7));
#line 4615
    p ++;
#line 4615
    q ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4619
  *p = (char *)((void *)0);
#line 4621
  return (x);
}
}
#line 4627 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void pipestatsetfn(Param pm  __attribute__((__unused__)) , char **x ) 
{ 
  int i ;

  {
#line 4630
  if (x) {
#line 4633
    i = 0;
    {
#line 4633
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4633
      if (*x) {
#line 4633
        if (! (i < 256)) {
#line 4633
          goto while_break;
        }
      } else {
#line 4633
        goto while_break;
      }
      {
#line 4634
      pipestats[i] = atoi((char const   *)*x);
#line 4633
      i ++;
#line 4633
      x ++;
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 4635
    numpipestats = i;
  } else {
#line 4638
    numpipestats = 0;
  }
#line 4639
  return;
}
}
#line 4642 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void arrfixenv(char *s , char **t ) 
{ 
  Param pm ;
  int joinchar ;
  HashNode tmp ;
  char *tmp___0 ;
  char const   *tmp___1 ;
  char *__cil_tmp8 ;

  {
#line 4648
  if ((unsigned long )t == (unsigned long )path) {
    {
#line 4649
    (*(cmdnamtab->emptytable))(cmdnamtab);
    }
  }
  {
#line 4651
  tmp = (*(paramtab->getnode))(paramtab, (char const   *)s);
#line 4651
  pm = (Param )tmp;
  }
#line 4658
  if (pm->node.flags & (1 << 29)) {
#line 4659
    return;
  }
#line 4661
  if (opts[2]) {
#line 4662
    pm->node.flags |= 1 << 12;
  }
#line 4668
  if (! (pm->node.flags & (1 << 12))) {
#line 4669
    return;
  }
#line 4671
  if (pm->node.flags & (1 << 16)) {
#line 4672
    joinchar = (int )((unsigned char )((struct tieddata *)pm->u.data)->joinchar);
  } else {
#line 4674
    joinchar = ':';
  }
#line 4676
  if (t) {
    {
#line 4676
    tmp___0 = zjoin(t, joinchar, 1);
#line 4676
    tmp___1 = (char const   *)tmp___0;
    }
  } else {
#line 4676
    tmp___1 = "";
  }
  {
#line 4676
  addenv(pm, (char *)tmp___1);
  }
#line 4677
  return;
}
}
#line 4681 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
int zputenv(char *str ) 
{ 
  char *ptr___0 ;
  int ret ;

  {
#line 4696
  ptr___0 = str;
  {
#line 4696
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4696
    if (*ptr___0) {
#line 4696
      if ((int )((unsigned char )*ptr___0) < 128) {
#line 4696
        if (! ((int )*ptr___0 != 61)) {
#line 4696
          goto while_break;
        }
      } else {
#line 4696
        goto while_break;
      }
    } else {
#line 4696
      goto while_break;
    }
#line 4696
    ptr___0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4698
  if ((int )((unsigned char )*ptr___0) >= 128) {
#line 4706
    return (1);
  } else
#line 4707
  if (*ptr___0) {
    {
#line 4708
    *ptr___0 = (char )'\000';
#line 4709
    ret = setenv((char const   *)str, (char const   *)(ptr___0 + 1), 1);
#line 4710
    *ptr___0 = (char )'=';
    }
  } else {
    {
#line 4714
    ret = setenv((char const   *)str, (char const   *)ptr___0, 1);
    }
  }
#line 4716
  return (ret);
}
}
#line 4772 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *zgetenv(char *name ) 
{ 
  char *tmp ;

  {
  {
#line 4776
  tmp = getenv((char const   *)name);
  }
#line 4776
  return (tmp);
}
}
#line 4790 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void copyenvstr(char *s , char *value , int flags ) 
{ 
  char *tmp ;
  char tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  char *tmp___4 ;

  {
  {
#line 4793
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4793
    tmp___4 = s;
#line 4793
    s ++;
#line 4793
    if (! *tmp___4) {
#line 4793
      goto while_break;
    }
#line 4794
    tmp___1 = value;
#line 4794
    value ++;
#line 4794
    tmp___0 = *tmp___1;
#line 4794
    *s = tmp___0;
#line 4794
    if ((int )tmp___0 == -125) {
#line 4795
      tmp = value;
#line 4795
      value ++;
#line 4795
      *s = (char )((int )*tmp ^ 32);
    }
#line 4796
    if (flags & (1 << 8)) {
      {
#line 4797
      tmp___2 = tulower((int )*s);
#line 4797
      *s = (char )tmp___2;
      }
    } else
#line 4798
    if (flags & (1 << 9)) {
      {
#line 4799
      tmp___3 = tuupper((int )*s);
#line 4799
      *s = (char )tmp___3;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4801
  return;
}
}
#line 4804 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void addenv(Param pm , char *value ) 
{ 
  char *newenv ;
  int tmp ;

  {
  {
#line 4807
  newenv = (char *)0;
#line 4820
  newenv = mkenvstr(pm->node.nam, value, pm->node.flags);
#line 4821
  tmp = zputenv(newenv);
  }
#line 4821
  if (tmp) {
    {
#line 4822
    zsfree(newenv);
#line 4823
    pm->env = (char *)((void *)0);
    }
#line 4824
    return;
  }
#line 4837
  if (pm->env) {
    {
#line 4838
    zsfree(pm->env);
    }
  }
#line 4839
  pm->env = newenv;
#line 4840
  pm->node.flags |= 1 << 12;
#line 4862
  return;
}
}
#line 4869 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static char *mkenvstr(char *name , char *value , int flags ) 
{ 
  char *str ;
  char *s ;
  int len_name ;
  int len_value ;
  size_t tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 4872
  s = value;
#line 4873
  len_value = 0;
#line 4875
  tmp = strlen((char const   *)name);
#line 4875
  len_name = (int )tmp;
  }
#line 4876
  if (s) {
    {
#line 4877
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4877
      if (*s) {
#line 4877
        tmp___0 = s;
#line 4877
        s ++;
#line 4877
        if (! ((int )*tmp___0 != -125)) {
#line 4877
          tmp___1 = s;
#line 4877
          s ++;
#line 4877
          if (! ((int )*tmp___1 != 32)) {
#line 4877
            goto while_break;
          }
        }
      } else {
#line 4877
        goto while_break;
      }
#line 4878
      len_value ++;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 4879
  tmp___2 = zalloc((size_t )((len_name + len_value) + 2));
#line 4879
  str = (char *)tmp___2;
#line 4879
  s = str;
#line 4880
  strcpy((char */* __restrict  */)s, (char const   */* __restrict  */)name);
#line 4881
  s += len_name;
#line 4882
  *s = (char )'=';
  }
#line 4883
  if (value) {
    {
#line 4884
    copyenvstr(s, value, flags);
    }
  } else {
#line 4886
    s ++;
#line 4886
    *s = (char )'\000';
  }
#line 4887
  return (str);
}
}
#line 4919 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void delenv(Param pm ) 
{ 


  {
  {
#line 4923
  unsetenv((char const   *)pm->node.nam);
#line 4924
  zsfree(pm->env);
#line 4928
  pm->env = (char *)((void *)0);
  }
#line 4934
  return;
}
}
#line 4942 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void convbase_ptr(char *s , zlong v , int base , int *ndigits ) 
{ 
  int digs ;
  zulong x ;
  char *tmp ;
  size_t tmp___0 ;
  int tmp___1 ;
  int dig ;
  int tmp___2 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 4945
  digs = 0;
#line 4948
  if (v < 0L) {
#line 4949
    tmp = s;
#line 4949
    s ++;
#line 4949
    *tmp = (char )'-';
#line 4949
    v = - v;
  }
#line 4950
  if (base >= -1) {
#line 4950
    if (base <= 1) {
#line 4951
      base = -10;
    }
  }
#line 4953
  if (base > 0) {
#line 4954
    if (opts[27]) {
#line 4954
      if (base == 16) {
        {
#line 4955
        sprintf((char */* __restrict  */)s, (char const   */* __restrict  */)"0x");
        }
      } else {
#line 4954
        goto _L___1;
      }
    } else
    _L___1: /* CIL Label */ 
#line 4956
    if (opts[27]) {
#line 4956
      if (base == 8) {
#line 4956
        if (opts[123]) {
          {
#line 4957
          sprintf((char */* __restrict  */)s, (char const   */* __restrict  */)"0");
          }
        } else {
#line 4956
          goto _L___0;
        }
      } else {
#line 4956
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 4958
    if (base != 10) {
      {
#line 4959
      sprintf((char */* __restrict  */)s, (char const   */* __restrict  */)"%d#",
              base);
      }
    } else {
#line 4961
      *s = (char)0;
    }
    {
#line 4962
    tmp___0 = strlen((char const   *)s);
#line 4962
    s += tmp___0;
    }
  } else {
#line 4964
    base = - base;
  }
#line 4965
  x = (zulong )v;
  {
#line 4965
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4965
    if (! x) {
#line 4965
      goto while_break;
    }
#line 4966
    x /= (zulong )base;
#line 4965
    digs ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4967
  if (! digs) {
#line 4968
    digs = 1;
  }
#line 4969
  if (ndigits) {
#line 4970
    *ndigits = digs;
  }
#line 4971
  tmp___1 = digs;
#line 4971
  digs --;
#line 4971
  *(s + tmp___1) = (char )'\000';
#line 4972
  x = (zulong )v;
  {
#line 4973
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4973
    if (! (digs >= 0)) {
#line 4973
      goto while_break___0;
    }
#line 4974
    dig = (int )(x % (unsigned long )base);
#line 4976
    tmp___2 = digs;
#line 4976
    digs --;
#line 4976
    if (dig < 10) {
#line 4976
      *(s + tmp___2) = (char )(48 + dig);
    } else {
#line 4976
      *(s + tmp___2) = (char )((dig - 10) + 65);
    }
#line 4977
    x /= (zulong )base;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4979
  return;
}
}
#line 4988 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void convbase(char *s , zlong v , int base ) 
{ 


  {
  {
#line 4991
  convbase_ptr(s, v, base, (int *)((void *)0));
  }
#line 4992
  return;
}
}
#line 5002 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *convbase_underscore(char *s , zlong v , int base , int underscore ) 
{ 
  char *retptr ;
  char *sptr ;
  char *dptr ;
  int ndigits ;
  int nunderscore ;
  int mod ;
  int len ;
  size_t tmp ;
  void *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;

  {
  {
#line 5008
  convbase_ptr(s, v, base, & ndigits);
  }
#line 5010
  if (underscore <= 0) {
#line 5011
    return (s);
  }
#line 5013
  nunderscore = (ndigits - 1) / underscore;
#line 5014
  if (! nunderscore) {
#line 5015
    return (s);
  }
  {
#line 5016
  tmp = strlen((char const   *)s);
#line 5016
  len = (int )tmp;
#line 5017
  tmp___0 = zhalloc((size_t )((len + nunderscore) + 1));
#line 5017
  retptr = (char *)tmp___0;
#line 5018
  mod = 0;
#line 5019
  memcpy((void */* __restrict  */)retptr, (void const   */* __restrict  */)s, (size_t )(len - ndigits));
#line 5020
  sptr = s + len;
#line 5021
  dptr = (retptr + len) + nunderscore;
#line 5023
  tmp___1 = dptr;
#line 5023
  dptr --;
#line 5023
  tmp___2 = sptr;
#line 5023
  sptr --;
#line 5023
  *tmp___1 = *tmp___2;
  }
  {
#line 5024
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5025
    *dptr = *sptr;
#line 5026
    ndigits --;
#line 5026
    if (! ndigits) {
#line 5027
      goto while_break;
    }
#line 5028
    dptr --;
#line 5029
    sptr --;
#line 5030
    mod ++;
#line 5030
    if (mod == underscore) {
#line 5031
      mod = 0;
#line 5032
      tmp___3 = dptr;
#line 5032
      dptr --;
#line 5032
      *tmp___3 = (char )'_';
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 5036
  return (retptr);
}
}
#line 5046 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *convfloat(double dval , int digits , int flags , FILE *fout ) 
{ 
  char fmt[5] ;
  char *prev_locale ;
  char *ret ;
  char *tmp ;
  char *buf___7 ;
  void *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  void *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
#line 5049
  fmt[0] = (char )'%';
#line 5049
  fmt[1] = (char )'.';
#line 5049
  fmt[2] = (char )'*';
#line 5049
  fmt[3] = (char )'e';
#line 5049
  fmt[4] = (char )'\000';
#line 5062
  if (! (flags & ((1 << 2) | (1 << 3)))) {
#line 5069
    fmt[3] = (char )'g';
#line 5070
    if (! digits) {
#line 5071
      digits = 17;
    }
  } else {
#line 5073
    if (flags & (1 << 3)) {
#line 5074
      fmt[3] = (char )'f';
    }
#line 5075
    if (digits <= 0) {
#line 5076
      digits = 10;
    }
#line 5077
    if (flags & (1 << 2)) {
#line 5082
      digits --;
    }
  }
  {
#line 5086
  tmp = setlocale(1, (char const   *)((void *)0));
#line 5086
  prev_locale = dupstring((char const   *)tmp);
#line 5087
  setlocale(1, "POSIX");
  }
#line 5089
  if (fout) {
    {
#line 5090
    fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(fmt),
            digits, dval);
#line 5091
    ret = (char *)((void *)0);
    }
  } else {
    {
#line 5093
    tmp___0 = zhalloc(sizeof(char ) * (unsigned long )(512 + digits));
#line 5093
    buf___7 = (char *)tmp___0;
#line 5094
    sprintf((char */* __restrict  */)buf___7, (char const   */* __restrict  */)(fmt),
            digits, dval);
#line 5095
    tmp___1 = strchr((char const   *)buf___7, 'e');
    }
#line 5095
    if (! tmp___1) {
      {
#line 5095
      tmp___2 = strchr((char const   *)buf___7, '.');
      }
#line 5095
      if (! tmp___2) {
        {
#line 5096
        strcat((char */* __restrict  */)buf___7, (char const   */* __restrict  */)".");
        }
      }
    }
    {
#line 5097
    ret = dupstring((char const   *)buf___7);
    }
  }
#line 5100
  if (prev_locale) {
    {
#line 5100
    setlocale(1, (char const   *)prev_locale);
    }
  }
#line 5102
  return (ret);
}
}
#line 5111 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
char *convfloat_underscore(double dval , int underscore ) 
{ 
  int ndigits_int ;
  int ndigits_frac ;
  int nunderscore ;
  int len ;
  char *s ;
  char *retptr ;
  char *sptr ;
  char *dptr ;
  size_t tmp ;
  void *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  int mod ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char tmp___12 ;
  char *tmp___13 ;

  {
  {
#line 5113
  ndigits_int = 0;
#line 5113
  ndigits_frac = 0;
#line 5116
  s = convfloat(dval, 0, 0, (FILE *)((void *)0));
  }
#line 5117
  if (underscore <= 0) {
#line 5118
    return (s);
  }
#line 5123
  sptr = s;
#line 5124
  if ((int )*sptr == 45) {
#line 5125
    sptr ++;
  }
  {
#line 5126
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5126
    if (! ((int )typtab[(unsigned char )*sptr] & 1)) {
#line 5126
      goto while_break;
    }
#line 5127
    ndigits_int ++;
#line 5128
    sptr ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 5130
  if ((int )*sptr == 46) {
#line 5131
    sptr ++;
    {
#line 5132
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 5132
      if (! ((int )typtab[(unsigned char )*sptr] & 1)) {
#line 5132
        goto while_break___0;
      }
#line 5133
      ndigits_frac ++;
#line 5134
      sptr ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 5142
  nunderscore = (ndigits_int - 1) / underscore + (ndigits_frac - 1) / underscore;
#line 5143
  if (! nunderscore) {
#line 5144
    return (s);
  }
  {
#line 5145
  tmp = strlen((char const   *)s);
#line 5145
  len = (int )tmp;
#line 5146
  tmp___0 = zhalloc((size_t )((len + nunderscore) + 1));
#line 5146
  retptr = (char *)tmp___0;
#line 5146
  dptr = retptr;
#line 5152
  sptr = s;
  }
#line 5153
  if ((int )*sptr == 45) {
#line 5154
    tmp___1 = dptr;
#line 5154
    dptr ++;
#line 5154
    tmp___2 = sptr;
#line 5154
    sptr ++;
#line 5154
    *tmp___1 = *tmp___2;
  }
  {
#line 5155
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 5155
    if (! ndigits_int) {
#line 5155
      goto while_break___1;
    }
#line 5156
    tmp___3 = dptr;
#line 5156
    dptr ++;
#line 5156
    tmp___4 = sptr;
#line 5156
    sptr ++;
#line 5156
    *tmp___3 = *tmp___4;
#line 5157
    ndigits_int --;
#line 5157
    if (ndigits_int) {
#line 5157
      if (! (ndigits_int % underscore)) {
#line 5158
        tmp___5 = dptr;
#line 5158
        dptr ++;
#line 5158
        *tmp___5 = (char )'_';
      }
    }
  }
  while_break___1: /* CIL Label */ ;
  }
#line 5160
  if (ndigits_frac) {
#line 5164
    mod = 0;
#line 5166
    tmp___6 = dptr;
#line 5166
    dptr ++;
#line 5166
    tmp___7 = sptr;
#line 5166
    sptr ++;
#line 5166
    *tmp___6 = *tmp___7;
    {
#line 5167
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 5167
      if (! ndigits_frac) {
#line 5167
        goto while_break___2;
      }
#line 5168
      tmp___8 = dptr;
#line 5168
      dptr ++;
#line 5168
      tmp___9 = sptr;
#line 5168
      sptr ++;
#line 5168
      *tmp___8 = *tmp___9;
#line 5169
      mod ++;
#line 5170
      ndigits_frac --;
#line 5170
      if (ndigits_frac) {
#line 5170
        if (mod == underscore) {
#line 5171
          tmp___10 = dptr;
#line 5171
          dptr ++;
#line 5171
          *tmp___10 = (char )'_';
#line 5172
          mod = 0;
        }
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  }
  {
#line 5177
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 5177
    tmp___11 = dptr;
#line 5177
    dptr ++;
#line 5177
    tmp___13 = sptr;
#line 5177
    sptr ++;
#line 5177
    tmp___12 = *tmp___13;
#line 5177
    *tmp___11 = tmp___12;
#line 5177
    if (! tmp___12) {
#line 5177
      goto while_break___3;
    }
  }
  while_break___3: /* CIL Label */ ;
  }
#line 5179
  return (retptr);
}
}
#line 5185 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void startparamscope(void) 
{ 


  {
#line 5188
  locallevel ++;
#line 5189
  return;
}
}
#line 5194 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void endparamscope(void) 
{ 
  sigset_t oset ;
  void *__cil_tmp2 ;

  {
  {
#line 5197
  queueing_enabled ++;
#line 5198
  locallevel --;
#line 5200
  saveandpophiststack(0, 32768);
#line 5201
  scanhashtable(paramtab, 0, 0, 0, & scanendscope, 0);
  }
  {
#line 5202
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5202
    queueing_enabled --;
#line 5202
    if (! queueing_enabled) {
      {
#line 5202
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 5202
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 5202
          if (! (queue_front != queue_rear)) {
#line 5202
            goto while_break___1;
          }
          {
#line 5202
          queue_front = (queue_front + 1) % 128;
#line 5202
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 5202
          zhandler(signal_queue[queue_front]);
#line 5202
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 5202
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 5202
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 5203
  return;
}
}
#line 5206 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void scanendscope(HashNode hn , int flags  __attribute__((__unused__)) ) 
{ 
  Param pm ;
  Param tpm ;
  int tmp ;
  char *__cil_tmp6 ;

  {
#line 5209
  pm = (Param )hn;
#line 5210
  if (pm->level > locallevel) {
#line 5211
    if ((pm->node.flags & ((1 << 22) | (1 << 26))) == 1 << 22) {
      {
#line 5220
      tpm = pm->old;
#line 5222
      tmp = strcmp((char const   *)pm->node.nam, "SECONDS");
      }
#line 5222
      if (! tmp) {
        {
#line 5224
        setsecondstype(pm, tpm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4)),
                       pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4)));
#line 5229
        setrawseconds(tpm->u.dval);
#line 5230
        tpm->node.flags |= 1 << 28;
        }
      }
#line 5235
      pm->old = tpm->old;
#line 5236
      pm->node.flags = tpm->node.flags & ~ (1 << 28);
#line 5237
      pm->level = tpm->level;
#line 5238
      pm->base = tpm->base;
#line 5239
      pm->width = tpm->width;
#line 5240
      if (pm->env) {
        {
#line 5241
        delenv(pm);
        }
      }
#line 5243
      if (! (tpm->node.flags & ((1 << 28) | (1 << 10)))) {
        {
#line 5245
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 5245
          goto case_0;
        }
#line 5248
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 5248
          goto case_exp;
        }
#line 5252
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 5252
          goto case_exp___0;
        }
#line 5252
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 5252
          goto case_exp___0;
        }
#line 5255
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 5255
          goto case_1;
        }
#line 5258
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 5258
          goto case_exp___2;
        }
#line 5244
        goto switch_break;
        case_0: /* CIL Label */ 
        {
#line 5246
        (*((pm->gsu.s)->setfn))(pm, tpm->u.str);
        }
#line 5247
        goto switch_break;
        case_exp: /* CIL Label */ 
        {
#line 5249
        (*((pm->gsu.i)->setfn))(pm, tpm->u.val);
        }
#line 5250
        goto switch_break;
        case_exp___0: /* CIL Label */ 
        case_exp___1: /* CIL Label */ 
        {
#line 5253
        (*((pm->gsu.f)->setfn))(pm, tpm->u.dval);
        }
#line 5254
        goto switch_break;
        case_1: /* CIL Label */ 
        {
#line 5256
        (*((pm->gsu.a)->setfn))(pm, tpm->u.arr);
        }
#line 5257
        goto switch_break;
        case_exp___2: /* CIL Label */ 
        {
#line 5259
        (*((pm->gsu.h)->setfn))(pm, tpm->u.hash);
        }
#line 5260
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
      }
      {
#line 5262
      zfree((void *)tpm, (int )sizeof(*tpm));
      }
#line 5264
      if (pm->node.flags & (1 << 12)) {
        {
#line 5265
        export_param(pm);
        }
      }
    } else {
      {
#line 5267
      unsetparam_pm(pm, 0, 0);
      }
    }
  }
#line 5269
  return;
}
}
#line 5277 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void freeparamnode(HashNode hn ) 
{ 
  Param pm ;

  {
#line 5280
  pm = (Param )hn;
#line 5287
  if (delunset) {
    {
#line 5288
    (*((pm->gsu.s)->unsetfn))(pm, 1);
    }
  }
  {
#line 5289
  zsfree(pm->node.nam);
  }
#line 5291
  if (pm->node.flags & (1 << 16)) {
    {
#line 5292
    zsfree(pm->ename);
    }
  }
  {
#line 5293
  zfree((void *)pm, (int )sizeof(struct param ));
  }
#line 5294
  return;
}
}
#line 5311 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static struct paramtypes  const  pmtypes[15]  = 
#line 5311
  {      {1 << 27, "undefined", 0, 0}, 
        {1 << 1, "integer", 'i', 1}, 
        {1 << 2, "float", 'E', 0}, 
        {1 << 3, "float", 'F', 0}, 
        {1, "array", 'a', 0}, 
        {1 << 4, "association", 'A', 0}, 
        {0, "local", 0, 4}, 
        {1 << 5, "left justified", 'L', 2}, 
        {1 << 6, "right justified", 'R', 2}, 
        {1 << 7, "zero filled", 'Z', 2}, 
        {1 << 8, "lowercase", 'l', 0}, 
        {1 << 9, "uppercase", 'u', 0}, 
        {1 << 10, "readonly", 'r', 0}, 
        {1 << 11, "tagged", 't', 0}, 
        {1 << 12, "exported", 'x', 0}};
#line 5331 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
static void printparamvalue(Param p , int printflags ) 
{ 
  char *t ;
  char **u ;
  zlong tmp ;
  double tmp___0 ;
  char **tmp___1 ;
  char **tmp___2 ;
  HashTable ht ;
  HashTable tmp___3 ;
  char *__cil_tmp11 ;

  {
#line 5336
  if (printflags & (1 << 3)) {
    {
#line 5337
    putchar(' ');
    }
  } else {
    {
#line 5339
    putchar('=');
    }
  }
  {
#line 5344
  if ((p->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 5344
    goto case_0;
  }
#line 5349
  if ((p->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 5349
    goto case_exp;
  }
#line 5358
  if ((p->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 5358
    goto case_exp___0;
  }
#line 5358
  if ((p->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 5358
    goto case_exp___0;
  }
#line 5362
  if ((p->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 5362
    goto case_1;
  }
#line 5381
  if ((p->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 5381
    goto case_exp___2;
  }
#line 5343
  goto switch_break;
  case_0: /* CIL Label */ 
#line 5346
  if ((p->gsu.s)->getfn) {
    {
#line 5346
    t = (*((p->gsu.s)->getfn))(p);
    }
#line 5346
    if (t) {
      {
#line 5347
      quotedzputs((char const   *)t, stdout);
      }
    }
  }
#line 5348
  goto switch_break;
  case_exp: /* CIL Label */ 
  {
#line 5354
  tmp = (*((p->gsu.i)->getfn))(p);
#line 5354
  printf((char const   */* __restrict  */)"%ld", tmp);
  }
#line 5356
  goto switch_break;
  case_exp___0: /* CIL Label */ 
  case_exp___1: /* CIL Label */ 
  {
#line 5360
  tmp___0 = (*((p->gsu.f)->getfn))(p);
#line 5360
  convfloat(tmp___0, p->base, p->node.flags, stdout);
  }
#line 5361
  goto switch_break;
  case_1: /* CIL Label */ 
#line 5364
  if (! (printflags & (1 << 3))) {
    {
#line 5365
    putchar('(');
#line 5366
    putchar(' ');
    }
  }
  {
#line 5368
  u = (*((p->gsu.a)->getfn))(p);
  }
#line 5369
  if (*u) {
    {
#line 5370
    tmp___1 = u;
#line 5370
    u ++;
#line 5370
    quotedzputs((char const   *)*tmp___1, stdout);
    }
    {
#line 5371
    while (1) {
      while_continue: /* CIL Label */ ;
#line 5371
      if (! *u) {
#line 5371
        goto while_break;
      }
      {
#line 5372
      putchar(' ');
#line 5373
      tmp___2 = u;
#line 5373
      u ++;
#line 5373
      quotedzputs((char const   *)*tmp___2, stdout);
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 5376
  if (! (printflags & (1 << 3))) {
    {
#line 5377
    putchar(' ');
#line 5378
    putchar(')');
    }
  }
#line 5380
  goto switch_break;
  case_exp___2: /* CIL Label */ 
#line 5383
  if (! (printflags & (1 << 3))) {
    {
#line 5384
    putchar('(');
#line 5385
    putchar(' ');
    }
  }
  {
#line 5388
  tmp___3 = (*((p->gsu.h)->getfn))(p);
#line 5388
  ht = tmp___3;
  }
#line 5389
  if (ht) {
    {
#line 5390
    scanhashtable(ht, 1, 0, 1 << 25, ht->printnode, 1 << 3);
    }
  }
#line 5393
  if (! (printflags & (1 << 3))) {
    {
#line 5394
    putchar(')');
    }
  }
#line 5395
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 5397
  if (printflags & (1 << 3)) {
    {
#line 5398
    putchar(' ');
    }
  } else {
    {
#line 5400
    putchar('\n');
    }
  }
#line 5401
  return;
}
}
#line 5404 "/home/khheo/testset/zsh-zsh-5.3.1/Src/params.c"
void printparamnode(HashNode hn , int printflags ) 
{ 
  Param p ;
  int doneminus ;
  int i ;
  struct paramtypes  const  *pmptr ;
  int doprint ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 5407
  p = (Param )hn;
#line 5409
  if (p->node.flags & (1 << 25)) {
#line 5410
    if (opts[130]) {
#line 5410
      if (p->node.flags & (1 << 10)) {
#line 5410
        if (printflags & (1 << 5)) {
#line 5417
          printflags |= 1;
        } else {
#line 5410
          goto _L___0;
        }
      } else {
#line 5410
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 5419
    if (p->node.flags & (1 << 12)) {
#line 5420
      printflags |= 1;
    } else {
#line 5422
      return;
    }
  }
#line 5424
  if (p->node.flags & (1 << 27)) {
#line 5425
    printflags |= 1;
  }
#line 5427
  if (printflags & (1 << 5)) {
#line 5428
    if ((p->node.flags & ((1 << 10) | (1 << 22))) == ((1 << 10) | (1 << 22))) {
#line 5435
      return;
    } else
#line 5428
    if (p->node.flags & (1 << 27)) {
#line 5435
      return;
    }
#line 5437
    if (locallevel) {
#line 5437
      if (p->level >= locallevel) {
        {
#line 5438
        printf((char const   */* __restrict  */)"typeset ");
        }
      } else {
#line 5437
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 5439
    if (p->node.flags & (1 << 12)) {
#line 5439
      if (! (p->node.flags & (1 | (1 << 4)))) {
        {
#line 5441
        printf((char const   */* __restrict  */)"export ");
        }
      } else {
#line 5439
        goto _L___1;
      }
    } else
    _L___1: /* CIL Label */ 
#line 5442
    if (locallevel) {
      {
#line 5443
      printf((char const   */* __restrict  */)"typeset -g ");
      }
    } else {
      {
#line 5445
      printf((char const   */* __restrict  */)"typeset ");
      }
    }
  }
#line 5449
  if (printflags & ((1 << 1) | (1 << 5))) {
#line 5450
    doneminus = 0;
#line 5453
    pmptr = pmtypes;
#line 5453
    i = 0;
    {
#line 5453
    while (1) {
      while_continue: /* CIL Label */ ;
#line 5453
      if (! (i < (int )(sizeof(pmtypes) / sizeof(struct paramtypes )))) {
#line 5453
        goto while_break;
      }
#line 5454
      doprint = 0;
#line 5455
      if (pmptr->flags & 4) {
#line 5456
        if (p->level) {
#line 5457
          doprint = 1;
        }
      } else
#line 5458
      if (pmptr->binflag != (int const   )(1 << 12)) {
#line 5458
        goto _L___3;
      } else
#line 5458
      if (p->level) {
#line 5458
        goto _L___3;
      } else
#line 5458
      if (p->node.flags & (((1 << 21) | 1) | (1 << 4))) {
        _L___3: /* CIL Label */ 
#line 5458
        if (p->node.flags & (int )pmptr->binflag) {
#line 5461
          doprint = 1;
        }
      }
#line 5463
      if (doprint) {
#line 5464
        if (printflags & (1 << 5)) {
#line 5465
          if (pmptr->typeflag) {
#line 5466
            if (! doneminus) {
              {
#line 5467
              putchar('-');
#line 5468
              doneminus = 1;
              }
            }
            {
#line 5470
            putchar((int )pmptr->typeflag);
            }
          }
        } else {
          {
#line 5473
          printf((char const   */* __restrict  */)"%s ", pmptr->string);
          }
        }
#line 5474
        if (pmptr->flags & 1) {
#line 5474
          if (p->base) {
            {
#line 5475
            printf((char const   */* __restrict  */)"%d ", p->base);
#line 5476
            doneminus = 0;
            }
          }
        }
#line 5478
        if (pmptr->flags & 2) {
#line 5478
          if (p->width) {
            {
#line 5479
            printf((char const   */* __restrict  */)"%d ", p->width);
#line 5480
            doneminus = 0;
            }
          }
        }
      }
#line 5453
      i ++;
#line 5453
      pmptr ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 5484
    if (doneminus) {
      {
#line 5485
      putchar(' ');
      }
    }
  }
#line 5488
  if (printflags & 1) {
    {
#line 5490
    zputs((char const   *)p->node.nam, stdout);
#line 5491
    putchar('\n');
    }
  } else
#line 5488
  if (p->node.flags & (1 << 15)) {
#line 5488
    if (! (printflags & (1 << 4))) {
      {
#line 5490
      zputs((char const   *)p->node.nam, stdout);
#line 5491
      putchar('\n');
      }
    } else {
      {
#line 5493
      quotedzputs((char const   *)p->node.nam, stdout);
#line 5495
      printparamvalue(p, printflags);
      }
    }
  } else {
    {
#line 5493
    quotedzputs((char const   *)p->node.nam, stdout);
#line 5495
    printparamvalue(p, printflags);
    }
  }
#line 5497
  return;
}
}
#line 634 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) __pid_t ( __attribute__((__leaf__)) getpgrp)(void) ;
#line 695 "/usr/include/stdio.h"
extern int puts(char const   *__s ) ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
extern HashNode gethashnode(HashTable ht , char const   *nam ) ;
#line 15
extern int scanmatchtable(HashTable ht , Patprog pprog , int sorted , int flags1 ,
                          int flags2 , void (*scanfunc)(HashNode  , int  ) , int scanflags ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
pid_t origpgrp ;
#line 60
void acquire_pgrp(void) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.epro"
int emulation  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.epro"
Emulation_options sticky  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.epro"
char opts[178]  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.epro"
HashTable optiontab  ;
#line 9
void createoptiontable(void) ;
#line 10
void installemulation(int new_emulation , char *new_opts ) ;
#line 11
void emulate(char const   *zsh_name , int fully , int *new_emulation , char *new_opts ) ;
#line 12
int bin_setopt(char *nam , char **args , Options ops  __attribute__((__unused__)) ,
               int isun ) ;
#line 13
int optlookup(char const   *name ) ;
#line 14
int optlookupc(char c ) ;
#line 15
int dosetopt(int optno , int value , int force , char *new_opts ) ;
#line 17
void printoptionstates(int hadplus ) ;
#line 18
void printoptionlist(void) ;
#line 19
void list_emulate_options(char *cmdopts , int fully ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.pro"
static void printoptionnode(HashNode hn , int set ) ;
#line 3 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.pro"
static char *setemulate_opts  ;
#line 4
static void setemulate(HashNode hn , int fully ) ;
#line 5
static void setoption(HashNode hn , int value ) ;
#line 6
static void restrictparam(char *nam ) ;
#line 7
static void printoptionnodestate(HashNode hn , int hadplus ) ;
#line 8
static void printoptionlist_printoption(HashNode hn , int ignored  __attribute__((__unused__)) ) ;
#line 9
static void printoptionlist_printequiv(int optno ) ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.pro"
static char *print_emulate_opts  ;
#line 11
static void print_emulate_option(HashNode hn , int fully ) ;
#line 79 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static struct optname optns[190]  = 
#line 79 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
  {      {{(HashNode )((void *)0), (char *)"aliases", (1 << 6) | ((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4))},
      1}, 
        {{(HashNode )((void *)0), (char *)"allexport", 1 << 6}, 2}, 
        {{(HashNode )((void *)0), (char *)"alwayslastprompt", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      3}, 
        {{(HashNode )((void *)0), (char *)"alwaystoend", 0}, 4}, 
        {{(HashNode )((void *)0), (char *)"appendcreate", (1 << 6) | ((1 << 2) | (1 << 3))},
      33}, 
        {{(HashNode )((void *)0), (char *)"appendhistory", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      5}, 
        {{(HashNode )((void *)0), (char *)"autocd", 1 << 6}, 6}, 
        {{(HashNode )((void *)0), (char *)"autocontinue", 0}, 7}, 
        {{(HashNode )((void *)0), (char *)"autolist", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      8}, 
        {{(HashNode )((void *)0), (char *)"automenu", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      9}, 
        {{(HashNode )((void *)0), (char *)"autonamedirs", 0}, 10}, 
        {{(HashNode )((void *)0), (char *)"autoparamkeys", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      11}, 
        {{(HashNode )((void *)0), (char *)"autoparamslash", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      12}, 
        {{(HashNode )((void *)0), (char *)"autopushd", 0}, 13}, 
        {{(HashNode )((void *)0), (char *)"autoremoveslash", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      14}, 
        {{(HashNode )((void *)0), (char *)"autoresume", 0}, 15}, 
        {{(HashNode )((void *)0), (char *)"badpattern", (1 << 6) | (((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ ((1 << 2) | (1 << 3)))},
      16}, 
        {{(HashNode )((void *)0), (char *)"banghist", ((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ ((1 << 2) | (1 << 3))},
      17}, 
        {{(HashNode )((void *)0), (char *)"bareglobqual", (1 << 6) | (1 << 4)}, 18}, 
        {{(HashNode )((void *)0), (char *)"bashautolist", 0}, 19}, 
        {{(HashNode )((void *)0), (char *)"bashrematch", 0}, 20}, 
        {{(HashNode )((void *)0), (char *)"beep", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      21}, 
        {{(HashNode )((void *)0), (char *)"bgnice", (1 << 6) | (((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ ((1 << 2) | (1 << 3)))},
      22}, 
        {{(HashNode )((void *)0), (char *)"braceccl", 1 << 6}, 23}, 
        {{(HashNode )((void *)0), (char *)"bsdecho", (1 << 6) | (1 << 3)}, 24}, 
        {{(HashNode )((void *)0), (char *)"caseglob", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      25}, 
        {{(HashNode )((void *)0), (char *)"casematch", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      26}, 
        {{(HashNode )((void *)0), (char *)"cbases", 0}, 27}, 
        {{(HashNode )((void *)0), (char *)"cprecedences", (1 << 6) | (((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ (1 << 4))},
      40}, 
        {{(HashNode )((void *)0), (char *)"cdablevars", 1 << 6}, 28}, 
        {{(HashNode )((void *)0), (char *)"chasedots", 1 << 6}, 29}, 
        {{(HashNode )((void *)0), (char *)"chaselinks", 1 << 6}, 30}, 
        {{(HashNode )((void *)0), (char *)"checkjobs", (1 << 6) | (1 << 4)}, 31}, 
        {{(HashNode )((void *)0), (char *)"clobber", (1 << 6) | ((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4))},
      32}, 
        {{(HashNode )((void *)0), (char *)"combiningchars", 0}, 34}, 
        {{(HashNode )((void *)0), (char *)"completealiases", 0}, 35}, 
        {{(HashNode )((void *)0), (char *)"completeinword", 0}, 36}, 
        {{(HashNode )((void *)0), (char *)"continueonerror", 0}, 39}, 
        {{(HashNode )((void *)0), (char *)"correct", 0}, 37}, 
        {{(HashNode )((void *)0), (char *)"correctall", 0}, 38}, 
        {{(HashNode )((void *)0), (char *)"cshjunkiehistory", (1 << 6) | (1 << 1)}, 41}, 
        {{(HashNode )((void *)0),
       (char *)"cshjunkieloops", (1 << 6) | (1 << 1)}, 42}, 
        {{(HashNode )((void *)0), (char *)"cshjunkiequotes", (1 << 6) | (1 << 1)}, 43}, 
        {{(HashNode )((void *)0),
       (char *)"cshnullcmd", (1 << 6) | (1 << 1)}, 44}, 
        {{(HashNode )((void *)0), (char *)"cshnullglob", (1 << 6) | (1 << 1)}, 45}, 
        {{(HashNode )((void *)0), (char *)"debugbeforecmd", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      46}, 
        {{(HashNode )((void *)0), (char *)"emacs", 0}, 47}, 
        {{(HashNode )((void *)0), (char *)"equals", (1 << 6) | (1 << 4)}, 48}, 
        {{(HashNode )((void *)0), (char *)"errexit", 1 << 6}, 49}, 
        {{(HashNode )((void *)0), (char *)"errreturn", 1 << 6}, 50}, 
        {{(HashNode )((void *)0), (char *)"exec", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      51}, 
        {{(HashNode )((void *)0), (char *)"extendedglob", 1 << 6}, 52}, 
        {{(HashNode )((void *)0), (char *)"extendedhistory", 1 << 1}, 53}, 
        {{(HashNode )((void *)0), (char *)"evallineno", (1 << 6) | (1 << 4)}, 54}, 
        {{(HashNode )((void *)0), (char *)"flowcontrol", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      55}, 
        {{(HashNode )((void *)0), (char *)"forcefloat", 0}, 56}, 
        {{(HashNode )((void *)0), (char *)"functionargzero", (1 << 6) | (((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ ((1 << 2) | (1 << 3)))},
      57}, 
        {{(HashNode )((void *)0), (char *)"glob", (1 << 6) | ((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4))},
      58}, 
        {{(HashNode )((void *)0), (char *)"globalexport", (1 << 6) | (1 << 4)}, 59}, 
        {{(HashNode )((void *)0), (char *)"globalrcs", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      60}, 
        {{(HashNode )((void *)0), (char *)"globassign", (1 << 6) | (1 << 1)}, 61}, 
        {{(HashNode )((void *)0), (char *)"globcomplete", 0}, 62}, 
        {{(HashNode )((void *)0), (char *)"globdots", 1 << 6}, 63}, 
        {{(HashNode )((void *)0), (char *)"globstarshort", 1 << 6}, 64}, 
        {{(HashNode )((void *)0), (char *)"globsubst", (1 << 6) | (((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ (1 << 4))},
      65}, 
        {{(HashNode )((void *)0), (char *)"hashcmds", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      66}, 
        {{(HashNode )((void *)0), (char *)"hashdirs", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      67}, 
        {{(HashNode )((void *)0), (char *)"hashexecutablesonly", 0}, 68}, 
        {{(HashNode )((void *)0), (char *)"hashlistall", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      69}, 
        {{(HashNode )((void *)0), (char *)"histallowclobber", 0}, 70}, 
        {{(HashNode )((void *)0), (char *)"histbeep", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      71}, 
        {{(HashNode )((void *)0), (char *)"histexpiredupsfirst", 0}, 72}, 
        {{(HashNode )((void *)0), (char *)"histfcntllock", 0}, 73}, 
        {{(HashNode )((void *)0), (char *)"histfindnodups", 0}, 74}, 
        {{(HashNode )((void *)0), (char *)"histignorealldups", 0}, 75}, 
        {{(HashNode )((void *)0), (char *)"histignoredups", 0}, 76}, 
        {{(HashNode )((void *)0), (char *)"histignorespace", 0}, 77}, 
        {{(HashNode )((void *)0), (char *)"histlexwords", 0}, 78}, 
        {{(HashNode )((void *)0), (char *)"histnofunctions", 0}, 79}, 
        {{(HashNode )((void *)0), (char *)"histnostore", 0}, 80}, 
        {{(HashNode )((void *)0), (char *)"histsubstpattern", 1 << 6}, 84}, 
        {{(HashNode )((void *)0), (char *)"histreduceblanks", 0}, 81}, 
        {{(HashNode )((void *)0), (char *)"histsavebycopy", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      82}, 
        {{(HashNode )((void *)0), (char *)"histsavenodups", 0}, 83}, 
        {{(HashNode )((void *)0), (char *)"histverify", 0}, 85}, 
        {{(HashNode )((void *)0), (char *)"hup", (1 << 6) | (1 << 4)}, 86}, 
        {{(HashNode )((void *)0), (char *)"ignorebraces", (1 << 6) | (1 << 3)}, 87}, 
        {{(HashNode )((void *)0), (char *)"ignoreclosebraces", 1 << 6}, 88}, 
        {{(HashNode )((void *)0), (char *)"ignoreeof", 0}, 89}, 
        {{(HashNode )((void *)0), (char *)"incappendhistory", 0}, 90}, 
        {{(HashNode )((void *)0), (char *)"incappendhistorytime", 0}, 91}, 
        {{(HashNode )((void *)0), (char *)"interactive", (1 << 6) << 1}, 92}, 
        {{(HashNode )((void *)0), (char *)"interactivecomments", (1 << 2) | (1 << 3)},
      93}, 
        {{(HashNode )((void *)0), (char *)"ksharrays", (1 << 6) | ((1 << 2) | (1 << 3))},
      94}, 
        {{(HashNode )((void *)0), (char *)"kshautoload", (1 << 6) | ((1 << 2) | (1 << 3))},
      95}, 
        {{(HashNode )((void *)0), (char *)"kshglob", (1 << 6) | (1 << 2)}, 96}, 
        {{(HashNode )((void *)0), (char *)"kshoptionprint", (1 << 6) | (1 << 2)}, 97}, 
        {{(HashNode )((void *)0),
       (char *)"kshtypeset", 0}, 98}, 
        {{(HashNode )((void *)0), (char *)"kshzerosubscript", 0}, 99}, 
        {{(HashNode )((void *)0), (char *)"listambiguous", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      100}, 
        {{(HashNode )((void *)0), (char *)"listbeep", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      101}, 
        {{(HashNode )((void *)0), (char *)"listpacked", 0}, 102}, 
        {{(HashNode )((void *)0), (char *)"listrowsfirst", 0}, 103}, 
        {{(HashNode )((void *)0), (char *)"listtypes", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      104}, 
        {{(HashNode )((void *)0), (char *)"localoptions", (1 << 6) | (1 << 2)}, 106}, 
        {{(HashNode )((void *)0),
       (char *)"localloops", 1 << 6}, 105}, 
        {{(HashNode )((void *)0), (char *)"localpatterns", 1 << 6}, 107}, 
        {{(HashNode )((void *)0), (char *)"localtraps", (1 << 6) | (1 << 2)}, 108}, 
        {{(HashNode )((void *)0), (char *)"login", (1 << 6) << 1}, 109}, 
        {{(HashNode )((void *)0), (char *)"longlistjobs", 0}, 110}, 
        {{(HashNode )((void *)0), (char *)"magicequalsubst", 1 << 6}, 111}, 
        {{(HashNode )((void *)0), (char *)"mailwarning", 0}, 112}, 
        {{(HashNode )((void *)0), (char *)"markdirs", 0}, 113}, 
        {{(HashNode )((void *)0), (char *)"menucomplete", 0}, 114}, 
        {{(HashNode )((void *)0), (char *)"monitor", (1 << 6) << 1}, 115}, 
        {{(HashNode )((void *)0), (char *)"multibyte", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      116}, 
        {{(HashNode )((void *)0), (char *)"multifuncdef", (1 << 6) | (1 << 4)}, 117}, 
        {{(HashNode )((void *)0),
       (char *)"multios", (1 << 6) | (1 << 4)}, 118}, 
        {{(HashNode )((void *)0), (char *)"nomatch", (1 << 6) | (((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ ((1 << 2) | (1 << 3)))},
      119}, 
        {{(HashNode )((void *)0), (char *)"notify", 1 << 4}, 120}, 
        {{(HashNode )((void *)0), (char *)"nullglob", 1 << 6}, 121}, 
        {{(HashNode )((void *)0), (char *)"numericglobsort", 1 << 6}, 122}, 
        {{(HashNode )((void *)0), (char *)"octalzeroes", (1 << 6) | (1 << 3)}, 123}, 
        {{(HashNode )((void *)0), (char *)"overstrike", 0}, 124}, 
        {{(HashNode )((void *)0), (char *)"pathdirs", 1 << 6}, 125}, 
        {{(HashNode )((void *)0), (char *)"pathscript", (1 << 6) | ((1 << 2) | (1 << 3))},
      126}, 
        {{(HashNode )((void *)0), (char *)"pipefail", 1 << 6}, 127}, 
        {{(HashNode )((void *)0), (char *)"posixaliases", (1 << 6) | ((1 << 2) | (1 << 3))},
      128}, 
        {{(HashNode )((void *)0), (char *)"posixargzero", 1 << 6}, 129}, 
        {{(HashNode )((void *)0), (char *)"posixbuiltins", (1 << 6) | ((1 << 2) | (1 << 3))},
      130}, 
        {{(HashNode )((void *)0), (char *)"posixcd", (1 << 6) | ((1 << 2) | (1 << 3))},
      131}, 
        {{(HashNode )((void *)0), (char *)"posixidentifiers", (1 << 6) | ((1 << 2) | (1 << 3))},
      132}, 
        {{(HashNode )((void *)0), (char *)"posixjobs", (1 << 6) | ((1 << 2) | (1 << 3))},
      133}, 
        {{(HashNode )((void *)0), (char *)"posixstrings", (1 << 6) | ((1 << 2) | (1 << 3))},
      134}, 
        {{(HashNode )((void *)0), (char *)"posixtraps", (1 << 6) | ((1 << 2) | (1 << 3))},
      135}, 
        {{(HashNode )((void *)0), (char *)"printeightbit", 0}, 136}, 
        {{(HashNode )((void *)0), (char *)"printexitvalue", 0}, 137}, 
        {{(HashNode )((void *)0), (char *)"privileged", (1 << 6) << 1}, 138}, 
        {{(HashNode )((void *)0), (char *)"promptbang", 1 << 2}, 139}, 
        {{(HashNode )((void *)0), (char *)"promptcr", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      140}, 
        {{(HashNode )((void *)0), (char *)"promptpercent", ((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ ((1 << 2) | (1 << 3))},
      141}, 
        {{(HashNode )((void *)0), (char *)"promptsp", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      142}, 
        {{(HashNode )((void *)0), (char *)"promptsubst", (1 << 2) | (1 << 3)}, 143}, 
        {{(HashNode )((void *)0), (char *)"pushdignoredups", 1 << 6}, 144}, 
        {{(HashNode )((void *)0), (char *)"pushdminus", 1 << 6}, 145}, 
        {{(HashNode )((void *)0), (char *)"pushdsilent", 0}, 146}, 
        {{(HashNode )((void *)0), (char *)"pushdtohome", 1 << 6}, 147}, 
        {{(HashNode )((void *)0), (char *)"rcexpandparam", 1 << 6}, 148}, 
        {{(HashNode )((void *)0), (char *)"rcquotes", 1 << 6}, 149}, 
        {{(HashNode )((void *)0), (char *)"rcs", (((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)},
      150}, 
        {{(HashNode )((void *)0), (char *)"recexact", 0}, 151}, 
        {{(HashNode )((void *)0), (char *)"rematchpcre", 0}, 152}, 
        {{(HashNode )((void *)0), (char *)"restricted", (1 << 6) << 1}, 153}, 
        {{(HashNode )((void *)0), (char *)"rmstarsilent", (1 << 2) | (1 << 3)}, 154}, 
        {{(HashNode )((void *)0),
       (char *)"rmstarwait", 0}, 155}, 
        {{(HashNode )((void *)0), (char *)"sharehistory", 1 << 2}, 156}, 
        {{(HashNode )((void *)0), (char *)"shfileexpansion", (1 << 6) | ((1 << 2) | (1 << 3))},
      157}, 
        {{(HashNode )((void *)0), (char *)"shglob", (1 << 6) | ((1 << 2) | (1 << 3))},
      158}, 
        {{(HashNode )((void *)0), (char *)"shinstdin", (1 << 6) << 1}, 159}, 
        {{(HashNode )((void *)0), (char *)"shnullcmd", (1 << 6) | ((1 << 2) | (1 << 3))},
      160}, 
        {{(HashNode )((void *)0), (char *)"shoptionletters", (1 << 6) | ((1 << 2) | (1 << 3))},
      161}, 
        {{(HashNode )((void *)0), (char *)"shortloops", (1 << 6) | (((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) & ~ ((1 << 2) | (1 << 3)))},
      162}, 
        {{(HashNode )((void *)0), (char *)"shwordsplit", (1 << 6) | ((1 << 2) | (1 << 3))},
      163}, 
        {{(HashNode )((void *)0), (char *)"singlecommand", (1 << 6) << 1}, 164}, 
        {{(HashNode )((void *)0), (char *)"singlelinezle", 1 << 2}, 165}, 
        {{(HashNode )((void *)0), (char *)"sourcetrace", 0}, 166}, 
        {{(HashNode )((void *)0), (char *)"sunkeyboardhack", 0}, 167}, 
        {{(HashNode )((void *)0), (char *)"transientrprompt", 0}, 168}, 
        {{(HashNode )((void *)0), (char *)"trapsasync", 0}, 169}, 
        {{(HashNode )((void *)0), (char *)"typesetsilent", (1 << 6) | ((1 << 2) | (1 << 3))},
      170}, 
        {{(HashNode )((void *)0), (char *)"unset", (1 << 6) | (((1 << 2) | (1 << 3)) | (1 << 4))},
      171}, 
        {{(HashNode )((void *)0), (char *)"verbose", 0}, 172}, 
        {{(HashNode )((void *)0), (char *)"vi", 0}, 173}, 
        {{(HashNode )((void *)0), (char *)"warncreateglobal", 1 << 6}, 174}, 
        {{(HashNode )((void *)0), (char *)"xtrace", 0}, 175}, 
        {{(HashNode )((void *)0), (char *)"zle", (1 << 6) << 1}, 176}, 
        {{(HashNode )((void *)0), (char *)"braceexpand", (1 << 6) << 2}, -87}, 
        {{(HashNode )((void *)0), (char *)"dotglob", (1 << 6) << 2}, 63}, 
        {{(HashNode )((void *)0), (char *)"hashall", (1 << 6) << 2}, 66}, 
        {{(HashNode )((void *)0), (char *)"histappend", (1 << 6) << 2}, 5}, 
        {{(HashNode )((void *)0), (char *)"histexpand", (1 << 6) << 2}, 17}, 
        {{(HashNode )((void *)0), (char *)"log", (1 << 6) << 2}, -79}, 
        {{(HashNode )((void *)0), (char *)"mailwarn", (1 << 6) << 2}, 112}, 
        {{(HashNode )((void *)0), (char *)"onecmd", (1 << 6) << 2}, 164}, 
        {{(HashNode )((void *)0), (char *)"physical", (1 << 6) << 2}, 30}, 
        {{(HashNode )((void *)0), (char *)"promptvars", (1 << 6) << 2}, 143}, 
        {{(HashNode )((void *)0), (char *)"stdin", (1 << 6) << 2}, 159}, 
        {{(HashNode )((void *)0), (char *)"trackall", (1 << 6) << 2}, 66}, 
        {{(HashNode )((void *)0), (char *)"dvorak", 0}, 177}, 
        {{(HashNode )((void *)0), (char *)((void *)0), 0}, 0}};
#line 285 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static short zshletters[74]  = 
#line 285
  {      (short)37,      (short)137,      (short)-16,      (short)-119, 
        (short)63,      (short)120,      (short)22,      (short)89, 
        (short)113,      (short)8,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)-21,      (short)-32, 
        (short)147,      (short)146,      (short)-58,      (short)121, 
        (short)154,      (short)87,      (short)6,      (short)-17, 
        (short)167,      (short)165,      (short)13,      (short)38, 
        (short)148,      (short)125,      (short)110,      (short)151, 
        (short)28,      (short)112,      (short)-140,      (short)15, 
        (short)104,      (short)114,      (short)176,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)2,      (short)0,      (short)0, 
        (short)-60,      (short)49,      (short)-150,      (short)77, 
        (short)76,      (short)92,      (short)0,      (short)93, 
        (short)109,      (short)115,      (short)-51,      (short)0, 
        (short)138,      (short)0,      (short)153,      (short)159, 
        (short)164,      (short)-171,      (short)172,      (short)30, 
        (short)175,      (short)163};
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static short kshletters[74]  = 
#line 362
  {      (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)-32, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)169,      (short)0,      (short)0,      (short)0, 
        (short)113,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)0,      (short)0,      (short)0, 
        (short)0,      (short)2,      (short)120,      (short)0, 
        (short)0,      (short)49,      (short)-58,      (short)0, 
        (short)0,      (short)92,      (short)0,      (short)0, 
        (short)109,      (short)115,      (short)-51,      (short)0, 
        (short)138,      (short)0,      (short)153,      (short)159, 
        (short)164,      (short)-171,      (short)172,      (short)0, 
        (short)175,      (short)0};
#line 442 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void printoptionnode(HashNode hn , int set ) 
{ 
  Optname on ;
  int optno ;
  char const   *tmp ;
  char const   *tmp___0 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 445
  on = (Optname )hn;
#line 446
  optno = on->optno;
#line 448
  if (optno < 0) {
#line 449
    optno = - optno;
  }
#line 450
  if (opts[97]) {
#line 451
    if (! (! (on->node.flags & emulation))) {
#line 452
      if (opts[optno]) {
#line 452
        tmp = "off";
      } else {
#line 452
        tmp = "on";
      }
      {
#line 452
      printf((char const   */* __restrict  */)"no%-19s %s\n", on->node.nam, tmp);
      }
    } else {
#line 454
      if (opts[optno]) {
#line 454
        tmp___0 = "on";
      } else {
#line 454
        tmp___0 = "off";
      }
      {
#line 454
      printf((char const   */* __restrict  */)"%-21s %s\n", on->node.nam, tmp___0);
      }
    }
  } else
#line 455
  if (set == ((int )opts[optno] ^ ! (! (on->node.flags & emulation)))) {
#line 456
    if (set ^ (int )opts[optno]) {
      {
#line 457
      fputs((char const   */* __restrict  */)"no", (FILE */* __restrict  */)stdout);
      }
    }
    {
#line 458
    puts((char const   *)on->node.nam);
    }
  }
#line 460
  return;
}
}
#line 463 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
void createoptiontable(void) 
{ 
  Optname on ;
  char *__cil_tmp2 ;

  {
  {
#line 468
  optiontab = newhashtable(101, "optiontab", (void (*)(HashTable  ))((void *)0));
#line 470
  optiontab->hash = & hasher;
#line 471
  optiontab->emptytable = (void (*)(HashTable  ))((void *)0);
#line 472
  optiontab->filltable = (void (*)(HashTable  ))((void *)0);
#line 473
  optiontab->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 474
  optiontab->addnode = & addhashnode;
#line 475
  optiontab->getnode = & gethashnode;
#line 476
  optiontab->getnode2 = & gethashnode2;
#line 477
  optiontab->removenode = (HashNode (*)(HashTable  , char const   * ))((void *)0);
#line 478
  optiontab->disablenode = & disablehashnode;
#line 479
  optiontab->enablenode = & enablehashnode;
#line 480
  optiontab->freenode = (void (*)(HashNode  ))((void *)0);
#line 481
  optiontab->printnode = & printoptionnode;
#line 483
  on = optns;
  }
  {
#line 483
  while (1) {
    while_continue: /* CIL Label */ ;
#line 483
    if (! on->node.nam) {
#line 483
      goto while_break;
    }
    {
#line 484
    (*(optiontab->addnode))(optiontab, on->node.nam, (void *)on);
#line 483
    on ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 485
  return;
}
}
#line 489 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static int setemulate_emulation  ;
#line 499 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void setemulate(HashNode hn , int fully ) 
{ 
  Optname on ;

  {
#line 502
  on = (Optname )hn;
#line 508
  if (! (on->node.flags & ((1 << 6) << 2))) {
#line 508
    if (fully) {
#line 508
      if (! (on->node.flags & ((1 << 6) << 1))) {
#line 511
        *(setemulate_opts + on->optno) = (char )(! (! (on->node.flags & setemulate_emulation)));
      } else {
#line 508
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 508
    if (on->node.flags & (1 << 6)) {
#line 511
      *(setemulate_opts + on->optno) = (char )(! (! (on->node.flags & setemulate_emulation)));
    }
  }
#line 512
  return;
}
}
#line 515 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
void installemulation(int new_emulation , char *new_opts ) 
{ 


  {
  {
#line 518
  setemulate_emulation = new_emulation;
#line 519
  setemulate_opts = new_opts;
#line 520
  scanhashtable(optiontab, 0, 0, 0, & setemulate, ! (! (new_emulation & (1 << 5))));
  }
#line 522
  return;
}
}
#line 525 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
void emulate(char const   *zsh_name , int fully , int *new_emulation , char *new_opts ) 
{ 
  char ch ;
  Shfunc shf ;
  HashNode tmp ;

  {
#line 528
  ch = (char )*zsh_name;
#line 530
  if ((int )ch == 114) {
#line 531
    ch = (char )*(zsh_name + 1);
  }
#line 534
  if ((int )ch == 99) {
#line 535
    *new_emulation = 1 << 1;
  } else
#line 536
  if ((int )ch == 107) {
#line 537
    *new_emulation = 1 << 2;
  } else
#line 538
  if ((int )ch == 115) {
#line 539
    *new_emulation = 1 << 3;
  } else
#line 538
  if ((int )ch == 98) {
#line 539
    *new_emulation = 1 << 3;
  } else {
#line 541
    *new_emulation = 1 << 4;
  }
#line 543
  if (fully) {
#line 544
    *new_emulation |= 1 << 5;
  }
  {
#line 545
  installemulation(*new_emulation, new_opts);
  }
#line 547
  if (funcstack) {
#line 547
    if (funcstack->tp == 1) {
      {
#line 554
      tmp = (*(shfunctab->getnode))(shfunctab, (char const   *)funcstack->name);
#line 554
      shf = (Shfunc )tmp;
      }
#line 555
      if (shf) {
#line 555
        if (shf->node.flags & ((1 << 11) | (1 << 16))) {
#line 557
          *(new_opts + 175) = (char)1;
        }
      }
    }
  }
#line 560
  return;
}
}
#line 565 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void setoption(HashNode hn , int value ) 
{ 


  {
  {
#line 568
  dosetopt(((Optname )hn)->optno, value, 0, opts);
  }
#line 569
  return;
}
}
#line 572 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
int bin_setopt(char *nam , char **args , Options ops  __attribute__((__unused__)) ,
               int isun ) 
{ 
  int action ;
  int optno ;
  int match ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char **tmp___2 ;
  Patprog pprog ;
  char *s ;
  char *t ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;

  {
#line 575
  match = 0;
#line 578
  if (! *args) {
    {
#line 579
    scanhashtable(optiontab, 1, 0, (1 << 6) << 2, optiontab->printnode, ! isun);
    }
#line 580
    return (0);
  }
  {
#line 584
  while (1) {
    while_continue: /* CIL Label */ ;
#line 584
    if (*args) {
#line 584
      if (! ((int )*(*args) == 45)) {
#line 584
        if (! ((int )*(*args) == 43)) {
#line 584
          goto while_break;
        }
      }
    } else {
#line 584
      goto while_break;
    }
#line 585
    action = ((int )*(*args) == 45) ^ isun;
#line 586
    if (! *(*(args + 0) + 1)) {
#line 587
      *args = (char *)"--";
    }
    {
#line 588
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 588
      (*args) ++;
#line 588
      if (! *(*args)) {
#line 588
        goto while_break___0;
      }
#line 589
      if ((int )*(*args) == -125) {
#line 590
        (*args) ++;
#line 590
        *(*args) = (char )((int )*(*args) ^ 32);
      }
#line 592
      if ((int )*(*args) == 45) {
#line 593
        args ++;
#line 594
        goto doneoptions;
      } else
#line 595
      if ((int )*(*args) == 111) {
#line 596
        (*args) ++;
#line 596
        if (! *(*args)) {
#line 597
          args ++;
        }
#line 598
        if (! *args) {
          {
#line 599
          zwarnnam((char const   *)nam, "string expected after -o");
#line 600
          inittyptab();
          }
#line 601
          return (1);
        }
        {
#line 603
        optno = optlookup((char const   *)*args);
        }
#line 603
        if (optno) {
          {
#line 605
          tmp = dosetopt(optno, action, 0, opts);
          }
#line 605
          if (tmp) {
            {
#line 606
            zwarnnam((char const   *)nam, "can\'t change option: %s", *args);
            }
          }
        } else {
          {
#line 604
          zwarnnam((char const   *)nam, "no such option: %s", *args);
          }
        }
#line 607
        goto while_break___0;
      } else
#line 608
      if ((int )*(*args) == 109) {
#line 609
        match = 1;
      } else {
        {
#line 611
        optno = optlookupc(*(*args));
        }
#line 611
        if (optno) {
          {
#line 613
          tmp___0 = dosetopt(optno, action, 0, opts);
          }
#line 613
          if (tmp___0) {
            {
#line 614
            zwarnnam((char const   *)nam, "can\'t change option: -%c", (int )*(*args));
            }
          }
        } else {
          {
#line 612
          zwarnnam((char const   *)nam, "bad option: -%c", (int )*(*args));
          }
        }
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 617
    args ++;
  }
  while_break: /* CIL Label */ ;
  }
  doneoptions: 
#line 621
  if (! match) {
    {
#line 623
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 623
      if (! *args) {
#line 623
        goto while_break___1;
      }
      {
#line 624
      tmp___2 = args;
#line 624
      args ++;
#line 624
      optno = optlookup((char const   *)*tmp___2);
      }
#line 624
      if (optno) {
        {
#line 626
        tmp___1 = dosetopt(optno, ! isun, 0, opts);
        }
#line 626
        if (tmp___1) {
          {
#line 627
          zwarnnam((char const   *)nam, "can\'t change option: %s", *(args + -1));
          }
        }
      } else {
        {
#line 625
        zwarnnam((char const   *)nam, "no such option: %s", *(args + -1));
        }
      }
    }
    while_break___1: /* CIL Label */ ;
    }
  } else {
    {
#line 631
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 631
      if (! *args) {
#line 631
        goto while_break___2;
      }
      {
#line 635
      s = dupstring((char const   *)*args);
#line 635
      t = s;
      }
      {
#line 636
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 636
        if (! *t) {
#line 636
          goto while_break___3;
        }
#line 637
        if ((int )*t == 95) {
          {
#line 638
          chuck(t);
          }
        } else {
#line 641
          if ((int )*t >= 65) {
#line 641
            if ((int )*t <= 90) {
#line 642
              *t = (char )(((int )*t - 65) + 97);
            }
          }
#line 643
          t ++;
        }
      }
      while_break___3: /* CIL Label */ ;
      }
      {
#line 647
      tokenize(s);
#line 648
      pprog = patcompile(s, 64, (char **)((void *)0));
      }
#line 648
      if (! pprog) {
        {
#line 649
        zwarnnam((char const   *)nam, "bad pattern: %s", *args);
        }
#line 650
        goto while_continue___2;
      }
      {
#line 653
      scanmatchtable(optiontab, pprog, 0, 0, (1 << 6) << 2, & setoption, ! isun);
#line 655
      args ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  }
  {
#line 658
  inittyptab();
  }
#line 659
  return (0);
}
}
#line 665 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
int optlookup(char const   *name ) 
{ 
  char *s ;
  char *t ;
  Optname n ;
  HashNode tmp ;
  HashNode tmp___0 ;

  {
  {
#line 671
  t = dupstring(name);
#line 671
  s = t;
  }
  {
#line 674
  while (1) {
    while_continue: /* CIL Label */ ;
#line 674
    if (! *t) {
#line 674
      goto while_break;
    }
#line 675
    if ((int )*t == 95) {
      {
#line 676
      chuck(t);
      }
    } else {
#line 684
      if ((int )*t >= 65) {
#line 684
        if ((int )*t <= 90) {
#line 685
          *t = (char )(((int )*t - 65) + 97);
        }
      }
#line 686
      t ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 690
  if ((int )*(s + 0) == 110) {
#line 690
    if ((int )*(s + 1) == 111) {
      {
#line 690
      tmp___0 = (*(optiontab->getnode))(optiontab, (char const   *)(s + 2));
#line 690
      n = (Optname )tmp___0;
      }
#line 690
      if (n) {
#line 692
        return (- n->optno);
      } else {
#line 690
        goto _L___0;
      }
    } else {
#line 690
      goto _L___0;
    }
  } else {
    _L___0: /* CIL Label */ 
    {
#line 693
    tmp = (*(optiontab->getnode))(optiontab, (char const   *)s);
#line 693
    n = (Optname )tmp;
    }
#line 693
    if (n) {
#line 694
      return (n->optno);
    } else {
#line 696
      return (0);
    }
  }
}
}
#line 702 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
int optlookupc(char c ) 
{ 
  short *tmp ;

  {
#line 705
  if ((int )c < 48) {
#line 706
    return (0);
  } else
#line 705
  if ((int )c > 121) {
#line 706
    return (0);
  }
#line 708
  if (opts[161]) {
#line 708
    tmp = kshletters;
  } else {
#line 708
    tmp = zshletters;
  }
#line 708
  return ((int )*(tmp + ((int )c - 48)));
}
}
#line 712 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void restrictparam(char *nam ) 
{ 
  Param pm ;
  HashNode tmp ;

  {
  {
#line 715
  tmp = (*(paramtab->getnode))(paramtab, (char const   *)nam);
#line 715
  pm = (Param )tmp;
  }
#line 717
  if (pm) {
#line 718
    pm->node.flags |= (1 << 22) | (1 << 24);
#line 719
    return;
  }
  {
#line 721
  createparam(nam, ((1 << 25) | (1 << 22)) | (1 << 24));
  }
#line 722
  return;
}
}
#line 725 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static char *rparams[7]  = {      (char *)"SHELL",      (char *)"HISTFILE",      (char *)"LD_LIBRARY_PATH",      (char *)"LD_AOUT_LIBRARY_PATH", 
        (char *)"LD_PRELOAD",      (char *)"LD_AOUT_PRELOAD",      (char *)((void *)0)};
#line 735 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
int dosetopt(int optno , int value , int force , char *new_opts ) 
{ 
  int tmp ;
  char **s ;
  __uid_t tmp___0 ;
  __gid_t tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  __gid_t tmp___4 ;
  int tmp___5 ;
  __uid_t tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;

  {
#line 738
  if (! optno) {
#line 739
    return (-1);
  }
#line 740
  if (optno < 0) {
#line 741
    optno = - optno;
#line 742
    value = ! value;
  }
#line 744
  if (optno == 153) {
#line 745
    if (opts[153]) {
#line 746
      if (value) {
#line 746
        tmp = 0;
      } else {
#line 746
        tmp = -1;
      }
#line 746
      return (tmp);
    }
#line 747
    if (value) {
#line 750
      s = rparams;
      {
#line 750
      while (1) {
        while_continue: /* CIL Label */ ;
#line 750
        if (! *s) {
#line 750
          goto while_break;
        }
        {
#line 751
        restrictparam(*s);
#line 750
        s ++;
        }
      }
      while_break: /* CIL Label */ ;
      }
    }
  } else
#line 753
  if (! force) {
#line 753
    if (optno == 51) {
#line 753
      if (! value) {
#line 753
        if (opts[92]) {
#line 755
          return (-1);
        } else {
#line 753
          goto _L___10;
        }
      } else {
#line 753
        goto _L___10;
      }
    } else {
#line 753
      goto _L___10;
    }
  } else
  _L___10: /* CIL Label */ 
#line 756
  if (! force) {
#line 756
    if (optno == 92) {
#line 756
      goto _L___7;
    } else
#line 756
    if (optno == 159) {
#line 756
      goto _L___7;
    } else
#line 756
    if (optno == 164) {
      _L___7: /* CIL Label */ 
#line 758
      if ((int )*(new_opts + optno) == value) {
#line 759
        return (0);
      }
#line 761
      return (-1);
    } else {
#line 756
      goto _L___6;
    }
  } else
  _L___6: /* CIL Label */ 
#line 762
  if (! force) {
#line 762
    if (optno == 176) {
#line 762
      if (value) {
#line 764
        if (! opts[92]) {
#line 765
          return (-1);
        } else
#line 764
        if (SHTTY == -1) {
#line 765
          return (-1);
        } else
#line 764
        if (! shout) {
#line 765
          return (-1);
        }
      } else {
#line 762
        goto _L___5;
      }
    } else {
#line 762
      goto _L___5;
    }
  } else
  _L___5: /* CIL Label */ 
#line 766
  if (optno == 138) {
#line 766
    if (! value) {
      {
#line 769
      tmp___0 = getuid();
#line 769
      setuid(tmp___0);
#line 770
      tmp___1 = getgid();
#line 770
      setgid(tmp___1);
#line 771
      tmp___6 = getuid();
#line 771
      tmp___7 = setuid(tmp___6);
      }
#line 771
      if (tmp___7) {
        {
#line 772
        tmp___2 = __errno_location();
#line 772
        zwarn("failed to change user ID: %e", *tmp___2);
        }
#line 773
        return (-1);
      } else {
        {
#line 774
        tmp___4 = getgid();
#line 774
        tmp___5 = setgid(tmp___4);
        }
#line 774
        if (tmp___5) {
          {
#line 775
          tmp___3 = __errno_location();
#line 775
          zwarn("failed to change group ID: %e", *tmp___3);
          }
#line 776
          return (-1);
        }
      }
    } else {
#line 766
      goto _L___3;
    }
  } else
  _L___3: /* CIL Label */ 
#line 783
  if (! force) {
#line 783
    if (optno == 115) {
#line 783
      if (value) {
#line 784
        if ((int )*(new_opts + optno) == value) {
#line 785
          return (0);
        }
#line 786
        if (SHTTY != -1) {
          {
#line 787
          origpgrp = getpgrp();
#line 788
          acquire_pgrp();
          }
        } else {
#line 790
          return (-1);
        }
      } else {
#line 783
        goto _L___2;
      }
    } else {
#line 783
      goto _L___2;
    }
  } else
  _L___2: /* CIL Label */ 
#line 799
  if (optno == 47) {
#line 799
    goto _L___0;
  } else
#line 799
  if (optno == 173) {
    _L___0: /* CIL Label */ 
#line 799
    if (value) {
#line 800
      if (sticky) {
#line 800
        if (sticky->emulation) {
#line 801
          return (-1);
        }
      }
      {
#line 802
      zleentry(6, optno);
      }
#line 803
      if (optno == 47) {
#line 803
        tmp___8 = 173;
      } else {
#line 803
        tmp___8 = 47;
      }
#line 803
      *(new_opts + tmp___8) = (char)0;
    } else {
#line 799
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 804
  if (optno == 167) {
#line 806
    if (value) {
#line 806
      keyboardhackchar = (unsigned char )'`';
    } else {
#line 806
      keyboardhackchar = (unsigned char )'\000';
    }
  }
#line 808
  *(new_opts + optno) = (char )value;
#line 809
  if (optno == 17) {
    {
#line 810
    inittyptab();
    }
  } else
#line 809
  if (optno == 159) {
    {
#line 810
    inittyptab();
    }
  }
#line 811
  return (0);
}
}
#line 820 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static char buf___5[75]  ;
#line 817 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
char *dashgetfn(Param pm  __attribute__((__unused__)) ) 
{ 
  char *val ;
  int i ;
  int optno ;
  short *tmp ;
  char *tmp___0 ;
  int tmp___1 ;

  {
#line 821
  val = buf___5;
#line 824
  i = 0;
  {
#line 824
  while (1) {
    while_continue: /* CIL Label */ ;
#line 824
    if (! (i <= 73)) {
#line 824
      goto while_break;
    }
#line 825
    if (opts[161]) {
#line 825
      tmp = kshletters;
    } else {
#line 825
      tmp = zshletters;
    }
#line 825
    optno = (int )*(tmp + i);
#line 826
    if (optno) {
#line 826
      if (optno > 0) {
#line 826
        tmp___1 = (int )opts[optno];
      } else {
#line 826
        tmp___1 = ! opts[- optno];
      }
#line 826
      if (tmp___1) {
#line 827
        tmp___0 = val;
#line 827
        val ++;
#line 827
        *tmp___0 = (char )(48 + i);
      }
    }
#line 824
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 829
  *val = (char )'\000';
#line 830
  return (buf___5);
}
}
#line 836 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
void printoptionstates(int hadplus ) 
{ 


  {
  {
#line 839
  scanhashtable(optiontab, 1, 0, (1 << 6) << 2, & printoptionnodestate, hadplus);
  }
#line 840
  return;
}
}
#line 843 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void printoptionnodestate(HashNode hn , int hadplus ) 
{ 
  Optname on ;
  int optno ;
  char const   *tmp ;
  int tmp___0 ;
  char const   *tmp___1 ;
  char const   *tmp___2 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;

  {
#line 846
  on = (Optname )hn;
#line 847
  optno = on->optno;
#line 849
  if (hadplus) {
#line 850
    if (! (! (on->node.flags & emulation))) {
#line 850
      tmp = "no";
    } else {
#line 850
      tmp = "";
    }
#line 850
    if (! (! (on->node.flags & emulation)) != (int )opts[optno]) {
#line 850
      tmp___0 = '-';
    } else {
#line 850
      tmp___0 = '+';
    }
    {
#line 850
    printf((char const   */* __restrict  */)"set %co %s%s\n", tmp___0, tmp, on->node.nam);
    }
  } else
#line 855
  if (! (! (on->node.flags & emulation))) {
#line 856
    if (opts[optno]) {
#line 856
      tmp___1 = "off";
    } else {
#line 856
      tmp___1 = "on";
    }
    {
#line 856
    printf((char const   */* __restrict  */)"no%-19s %s\n", on->node.nam, tmp___1);
    }
  } else {
#line 858
    if (opts[optno]) {
#line 858
      tmp___2 = "on";
    } else {
#line 858
      tmp___2 = "off";
    }
    {
#line 858
    printf((char const   */* __restrict  */)"%-21s %s\n", on->node.nam, tmp___2);
    }
  }
#line 860
  return;
}
}
#line 865 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
void printoptionlist(void) 
{ 
  short *lp ;
  char c ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 871
  printf((char const   */* __restrict  */)"\nNamed options:\n");
#line 872
  scanhashtable(optiontab, 1, 0, (1 << 6) << 2, & printoptionlist_printoption, 0);
#line 873
  printf((char const   */* __restrict  */)"\nOption aliases:\n");
#line 874
  scanhashtable(optiontab, 1, (1 << 6) << 2, 0, & printoptionlist_printoption, 0);
#line 875
  printf((char const   */* __restrict  */)"\nOption letters:\n");
  }
#line 876
  if (opts[161]) {
#line 876
    lp = kshletters;
  } else {
#line 876
    lp = zshletters;
  }
#line 876
  c = (char )'0';
  {
#line 876
  while (1) {
    while_continue: /* CIL Label */ ;
#line 876
    if (! ((int )c <= 121)) {
#line 876
      goto while_break;
    }
#line 877
    if (! *lp) {
#line 878
      goto __Cont;
    }
    {
#line 879
    printf((char const   */* __restrict  */)"  -%c  ", (int )c);
#line 880
    printoptionlist_printequiv((int )*lp);
    }
    __Cont: /* CIL Label */ 
#line 876
    lp ++;
#line 876
    c = (char )((int )c + 1);
  }
  while_break: /* CIL Label */ ;
  }
#line 882
  return;
}
}
#line 885 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void printoptionlist_printoption(HashNode hn , int ignored  __attribute__((__unused__)) ) 
{ 
  Optname on ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 888
  on = (Optname )hn;
#line 890
  if (on->node.flags & ((1 << 6) << 2)) {
    {
#line 891
    printf((char const   */* __restrict  */)"  --%-19s  ", on->node.nam);
#line 892
    printoptionlist_printequiv(on->optno);
    }
  } else {
    {
#line 894
    printf((char const   */* __restrict  */)"  --%s\n", on->node.nam);
    }
  }
#line 895
  return;
}
}
#line 898 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void printoptionlist_printequiv(int optno ) 
{ 
  int isneg ;
  int tmp ;
  char const   *tmp___0 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
#line 901
  isneg = optno < 0;
#line 903
  if (isneg) {
#line 903
    tmp = -1;
  } else {
#line 903
    tmp = 1;
  }
#line 903
  optno *= tmp;
#line 904
  if (isneg) {
#line 904
    tmp___0 = "no-";
  } else {
#line 904
    tmp___0 = "";
  }
  {
#line 904
  printf((char const   */* __restrict  */)"  equivalent to --%s%s\n", tmp___0, optns[optno - 1].node.nam);
  }
#line 905
  return;
}
}
#line 911 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
static void print_emulate_option(HashNode hn , int fully ) 
{ 
  Optname on ;
  char *__cil_tmp4 ;

  {
#line 914
  on = (Optname )hn;
#line 916
  if (! (on->node.flags & ((1 << 6) << 2))) {
#line 916
    if (fully) {
#line 916
      if (! (on->node.flags & ((1 << 6) << 1))) {
#line 916
        goto _L;
      } else {
#line 916
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 916
    if (on->node.flags & (1 << 6)) {
      _L: /* CIL Label */ 
#line 920
      if (! *(print_emulate_opts + on->optno)) {
        {
#line 921
        fputs((char const   */* __restrict  */)"no", (FILE */* __restrict  */)stdout);
        }
      }
      {
#line 922
      puts((char const   *)on->node.nam);
      }
    }
  }
#line 924
  return;
}
}
#line 931 "/home/khheo/testset/zsh-zsh-5.3.1/Src/options.c"
void list_emulate_options(char *cmdopts , int fully ) 
{ 


  {
  {
#line 933
  print_emulate_opts = cmdopts;
#line 934
  scanhashtable(optiontab, 1, 0, 0, & print_emulate_option, fully);
  }
#line 935
  return;
}
}
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.epro"
LinkNode linknodebystring(LinkList list , char *dat ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
LinkList linkedmodules  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
char **module_path  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
HashTable modulestab  ;
#line 8
HashTable newmoduletable(int size , char const   *name ) ;
#line 9
int setup_zshQsmain(Module m  __attribute__((__unused__)) ) ;
#line 10
int features_zshQsmain(Module m  __attribute__((__unused__)) , char ***features  __attribute__((__unused__)) ) ;
#line 11
int enables_zshQsmain(Module m  __attribute__((__unused__)) , int **enables  __attribute__((__unused__)) ) ;
#line 12
int boot_zshQsmain(Module m  __attribute__((__unused__)) ) ;
#line 13
int cleanup_zshQsmain(Module m  __attribute__((__unused__)) ) ;
#line 14
int finish_zshQsmain(Module m  __attribute__((__unused__)) ) ;
#line 15
void register_module(char *n , int (*setup)(Module  ) , int (*features)(Module  ,
                                                                        char *** ) ,
                     int (*enables)(Module  , int ** ) , int (*boot)(Module  ) , int (*cleanup)(Module  ) ,
                     int (*finish)(Module  ) ) ;
#line 16
Linkedmod module_linked(char const   *name ) ;
#line 17
int deletebuiltin(char const   *nam ) ;
#line 18
int addbuiltins(char const   *nam , Builtin binl , int size ) ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
FuncWrap wrappers  ;
#line 20
int addwrapper(Module m , FuncWrap w ) ;
#line 21
int deletewrapper(Module m , FuncWrap w ) ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
Conddef condtab  ;
#line 23
Conddef getconddef(int inf , char const   *name , int autol ) ;
#line 24
int deleteconddef(Conddef c ) ;
#line 25 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
Hookdef hooktab  ;
#line 26
Hookdef gethookdef(char *n ) ;
#line 27
int addhookdef(Hookdef h ) ;
#line 28
int addhookdefs(Module m , Hookdef h , int size ) ;
#line 29
int deletehookdef(Hookdef h ) ;
#line 30
int deletehookdefs(Module m  __attribute__((__unused__)) , Hookdef h , int size ) ;
#line 31
int addhookdeffunc(Hookdef h , int (*f)(Hookdef  , void * ) ) ;
#line 32
int addhookfunc(char *n , int (*f)(Hookdef  , void * ) ) ;
#line 33
int deletehookdeffunc(Hookdef h , int (*f)(Hookdef  , void * ) ) ;
#line 34
int deletehookfunc(char *n , int (*f)(Hookdef  , void * ) ) ;
#line 36
int addparamdef(Paramdef d___0 ) ;
#line 37
int deleteparamdef(Paramdef d___0 ) ;
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.epro"
MathFunc mathfuncs  ;
#line 39
void removemathfunc(MathFunc previous , MathFunc current ) ;
#line 40
MathFunc getmathfunc(char const   *name , int autol ) ;
#line 41
int deletemathfunc(MathFunc f ) ;
#line 50
int module_loaded(char const   *name ) ;
#line 57
int load_module(char const   *name , Feature_enables enablesarr , int silent ) ;
#line 58
int require_module(char const   *module , Feature_enables features ) ;
#line 59
void add_dep(char const   *name , char *from ) ;
#line 60
int bin_zmodload(char *nam , char **args , Options ops , int func  __attribute__((__unused__)) ) ;
#line 61
int unload_module(Module m ) ;
#line 62
int unload_named_module(char *modname , char *nam , int silent ) ;
#line 63
char **featuresarray(Module m  __attribute__((__unused__)) , Features f ) ;
#line 64
int *getfeatureenables(Module m  __attribute__((__unused__)) , Features f ) ;
#line 65
int setfeatureenables(Module m , Features f , int *e ) ;
#line 66
int handlefeatures(Module m , Features f , int **enables ) ;
#line 68
int autofeatures(char const   *cmdnam , char const   *module , char **features , int prefchar ,
                 int defflags ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.pro"
static int addbuiltin(Builtin b ) ;
#line 3
static int add_autobin(char const   *module , char const   *bnam , int flags ) ;
#line 4
static int del_autobin(char const   *module  __attribute__((__unused__)) , char const   *bnam ,
                       int flags ) ;
#line 5
static int setbuiltins(char const   *nam , Builtin binl , int size , int *e ) ;
#line 6
static int addconddef(Conddef c ) ;
#line 7
static int setconddefs(char const   *nam , Conddef c , int size , int *e ) ;
#line 8
static int add_autocond(char const   *module , char const   *cnam , int flags ) ;
#line 9
static int del_autocond(char const   *modnam  __attribute__((__unused__)) , char const   *cnam ,
                        int flags ) ;
#line 10
static int setparamdefs(char const   *nam , Paramdef d___0 , int size , int *e ) ;
#line 11
static int add_autoparam(char const   *module , char const   *pnam , int flags ) ;
#line 12
static int del_autoparam(char const   *modnam  __attribute__((__unused__)) , char const   *pnam ,
                         int flags ) ;
#line 13
static int addmathfunc(MathFunc f ) ;
#line 14
static int setmathfuncs(char const   *nam , MathFunc f , int size , int *e ) ;
#line 15
static int add_automathfunc(char const   *module , char const   *fnam , int flags ) ;
#line 16
static int del_automathfunc(char const   *modnam  __attribute__((__unused__)) , char const   *fnam ,
                            int flags ) ;
#line 23
static void *try_load_module(char const   *name ) ;
#line 24
static void *do_load_module(char const   *name , int silent ) ;
#line 28
static Module find_module(char const   *name , int flags , char const   **namep ) ;
#line 29
static void delete_module(Module m ) ;
#line 39
static int dyn_setup_module(Module m ) ;
#line 40
static int dyn_features_module(Module m , char ***features ) ;
#line 41
static int dyn_enables_module(Module m , int **enables ) ;
#line 42
static int dyn_boot_module(Module m ) ;
#line 43
static int dyn_cleanup_module(Module m ) ;
#line 44
static int dyn_finish_module(Module m ) ;
#line 46
static int setup_module(Module m ) ;
#line 47
static int features_module(Module m , char ***features ) ;
#line 48
static int enables_module(Module m , int **enables ) ;
#line 49
static int boot_module(Module m ) ;
#line 50
static int cleanup_module(Module m ) ;
#line 51
static int finish_module(Module m ) ;
#line 60
static int do_module_features(Module m , Feature_enables enablesarr , int flags ) ;
#line 61
static int do_boot_module(Module m , Feature_enables enablesarr , int silent ) ;
#line 62
static int do_cleanup_module(Module m ) ;
#line 63
static int modname_ok(char const   *p ) ;
#line 64
static void autoloadscan(HashNode hn , int printflags ) ;
#line 65
static int bin_zmodload_alias(char *nam , char **args , Options ops ) ;
#line 66
static int bin_zmodload_exist(char *nam  __attribute__((__unused__)) , char **args ,
                              Options ops ) ;
#line 67
static int bin_zmodload_dep(char *nam  __attribute__((__unused__)) , char **args ,
                            Options ops ) ;
#line 68
static int bin_zmodload_auto(char *nam , char **args , Options ops ) ;
#line 69
static int bin_zmodload_load(char *nam , char **args , Options ops ) ;
#line 70
static int bin_zmodload_features(char const   *nam , char **args , Options ops ) ;
#line 118 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static void freemodulenode(HashNode hn ) 
{ 
  Module m ;

  {
#line 121
  m = (Module )hn;
#line 123
  if (m->node.flags & (1 << 6)) {
    {
#line 124
    zsfree(m->u.alias);
    }
  }
  {
#line 125
  zsfree(m->node.nam);
  }
#line 126
  if (m->autoloads) {
    {
#line 127
    freelinklist(m->autoloads, & freestr);
    }
  }
#line 128
  if (m->deps) {
    {
#line 129
    freelinklist(m->deps, & freestr);
    }
  }
  {
#line 130
  zfree((void *)m, (int )sizeof(*m));
  }
#line 131
  return;
}
}
#line 153 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static void printmodulenode(HashNode hn , int flags ) 
{ 
  Module m ;
  char const   *modname ;
  LinkNode n ;
  char **features ;
  int *enables ;
  int tmp ;
  int tmp___0 ;
  LinkNode an ;
  char const   *f ;
  int on ;
  int *tmp___1 ;
  char const   *tmp___2 ;
  char **tmp___3 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;

  {
#line 156
  m = (Module )hn;
#line 162
  modname = (char const   *)m->node.nam;
#line 164
  if (flags & 8) {
#line 170
    if (! m->deps) {
#line 171
      return;
    }
#line 173
    if (flags & 1) {
      {
#line 174
      printf((char const   */* __restrict  */)"zmodload -d ");
      }
#line 175
      if ((int const   )*(modname + 0) == 45) {
        {
#line 176
        fputs((char const   */* __restrict  */)"-- ", (FILE */* __restrict  */)stdout);
        }
      }
      {
#line 177
      quotedzputs(modname, stdout);
      }
    } else {
      {
#line 179
      mb_niceformat(modname, stdout, (char **)((void *)0), 0);
#line 180
      putchar(':');
      }
    }
#line 182
    n = (m->deps)->list.first;
    {
#line 182
    while (1) {
      while_continue: /* CIL Label */ ;
#line 182
      if (! n) {
#line 182
        goto while_break;
      }
      {
#line 183
      putchar(' ');
      }
#line 184
      if (flags & 1) {
        {
#line 185
        quotedzputs((char const   *)((char *)n->dat), stdout);
        }
      } else {
        {
#line 187
        mb_niceformat((char const   *)((char *)n->dat), stdout, (char **)((void *)0),
                      0);
        }
      }
#line 182
      n = n->next;
    }
    while_break: /* CIL Label */ ;
    }
  } else
#line 189
  if (flags & 2) {
#line 194
    if (m->node.flags & (1 << 6)) {
#line 195
      if (! (flags & 4)) {
#line 197
        return;
      } else {
        {
#line 195
        m = find_module((char const   *)m->u.alias, 1, (char const   **)((void *)0));
        }
#line 195
        if (! m) {
#line 197
          return;
        }
      }
    }
#line 199
    if (! m->u.handle) {
#line 200
      return;
    } else
#line 199
    if (m->node.flags & (1 << 1)) {
#line 200
      return;
    }
    {
#line 201
    mb_niceformat(modname, stdout, (char **)((void *)0), 0);
    }
  } else
#line 202
  if (m->node.flags & (1 << 6)) {
#line 206
    if (flags & 1) {
      {
#line 207
      printf((char const   */* __restrict  */)"zmodload -A ");
      }
#line 208
      if ((int const   )*(modname + 0) == 45) {
        {
#line 209
        fputs((char const   */* __restrict  */)"-- ", (FILE */* __restrict  */)stdout);
        }
      }
      {
#line 210
      quotedzputs(modname, stdout);
#line 211
      putchar('=');
#line 212
      quotedzputs((char const   *)m->u.alias, stdout);
      }
    } else {
      {
#line 214
      mb_niceformat(modname, stdout, (char **)((void *)0), 0);
#line 215
      fputs((char const   */* __restrict  */)" -> ", (FILE */* __restrict  */)stdout);
#line 216
      mb_niceformat((char const   *)m->u.alias, stdout, (char **)((void *)0), 0);
      }
    }
  } else
#line 218
  if (m->u.handle) {
#line 218
    goto _L;
  } else
#line 218
  if (flags & 64) {
    _L: /* CIL Label */ 
#line 222
    if (flags & 1) {
#line 227
      features = (char **)((void *)0);
#line 228
      enables = (int *)((void *)0);
#line 229
      if (flags & 64) {
#line 230
        if (! m->autoloads) {
#line 231
          return;
        } else
#line 230
        if (! (m->autoloads)->list.first) {
#line 231
          return;
        }
      } else
#line 232
      if (flags & 16) {
        {
#line 233
        tmp = features_module(m, & features);
        }
#line 233
        if (tmp) {
#line 236
          return;
        } else {
          {
#line 233
          tmp___0 = enables_module(m, & enables);
          }
#line 233
          if (tmp___0) {
#line 236
            return;
          } else
#line 233
          if (! *features) {
#line 236
            return;
          }
        }
      }
      {
#line 238
      printf((char const   */* __restrict  */)"zmodload ");
      }
#line 239
      if (flags & 64) {
        {
#line 240
        fputs((char const   */* __restrict  */)"-Fa ", (FILE */* __restrict  */)stdout);
        }
      } else
#line 241
      if (features) {
        {
#line 242
        fputs((char const   */* __restrict  */)"-F ", (FILE */* __restrict  */)stdout);
        }
      }
#line 243
      if ((int const   )*(modname + 0) == 45) {
        {
#line 244
        fputs((char const   */* __restrict  */)"-- ", (FILE */* __restrict  */)stdout);
        }
      }
      {
#line 245
      quotedzputs(modname, stdout);
      }
#line 246
      if (flags & 64) {
#line 248
        an = (m->autoloads)->list.first;
        {
#line 248
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 248
          if (! an) {
#line 248
            goto while_break___0;
          }
          {
#line 249
          putchar(' ');
#line 250
          quotedzputs((char const   *)((char *)an->dat), stdout);
#line 248
          an = an->next;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
      } else
#line 252
      if (features) {
        {
#line 254
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 254
          tmp___3 = features;
#line 254
          features ++;
#line 254
          f = (char const   *)*tmp___3;
#line 254
          if (! f) {
#line 254
            goto while_break___1;
          }
#line 255
          tmp___1 = enables;
#line 255
          enables ++;
#line 255
          on = *tmp___1;
#line 256
          if (flags & 32) {
#line 257
            if (on) {
#line 257
              tmp___2 = "+";
            } else {
#line 257
              tmp___2 = "-";
            }
            {
#line 257
            printf((char const   */* __restrict  */)" %s", tmp___2);
            }
          } else
#line 258
          if (! on) {
#line 259
            goto while_continue___1;
          } else {
            {
#line 261
            putchar(' ');
            }
          }
          {
#line 262
          quotedzputs(f, stdout);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
      }
    } else {
      {
#line 266
      mb_niceformat(modname, stdout, (char **)((void *)0), 0);
      }
    }
  } else {
#line 268
    return;
  }
  {
#line 269
  putchar('\n');
  }
#line 270
  return;
}
}
#line 273 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
HashTable newmoduletable(int size , char const   *name ) 
{ 
  HashTable ht ;

  {
  {
#line 277
  ht = newhashtable(size, name, (void (*)(HashTable  ))((void *)0));
#line 279
  ht->hash = & hasher;
#line 280
  ht->emptytable = & emptyhashtable;
#line 281
  ht->filltable = (void (*)(HashTable  ))((void *)0);
#line 282
  ht->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 283
  ht->addnode = & addhashnode;
#line 285
  ht->getnode = & gethashnode2;
#line 286
  ht->getnode2 = & gethashnode2;
#line 287
  ht->removenode = & removehashnode;
#line 288
  ht->disablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 289
  ht->enablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 290
  ht->freenode = & freemodulenode;
#line 291
  ht->printnode = & printmodulenode;
  }
#line 293
  return (ht);
}
}
#line 305 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int setup_zshQsmain(Module m  __attribute__((__unused__)) ) 
{ 


  {
#line 308
  return (0);
}
}
#line 312 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int features_zshQsmain(Module m  __attribute__((__unused__)) , char ***features  __attribute__((__unused__)) ) 
{ 


  {
#line 319
  return (1);
}
}
#line 323 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int enables_zshQsmain(Module m  __attribute__((__unused__)) , int **enables  __attribute__((__unused__)) ) 
{ 


  {
#line 326
  return (1);
}
}
#line 330 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int boot_zshQsmain(Module m  __attribute__((__unused__)) ) 
{ 


  {
#line 333
  return (0);
}
}
#line 337 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int cleanup_zshQsmain(Module m  __attribute__((__unused__)) ) 
{ 


  {
#line 340
  return (0);
}
}
#line 344 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int finish_zshQsmain(Module m  __attribute__((__unused__)) ) 
{ 


  {
#line 347
  return (0);
}
}
#line 358 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
void register_module(char *n , int (*setup)(Module  ) , int (*features)(Module  ,
                                                                        char *** ) ,
                     int (*enables)(Module  , int ** ) , int (*boot)(Module  ) , int (*cleanup)(Module  ) ,
                     int (*finish)(Module  ) ) 
{ 
  Linkedmod m ;
  void *tmp ;

  {
  {
#line 368
  tmp = zalloc(sizeof(*m));
#line 368
  m = (Linkedmod )tmp;
#line 370
  m->name = ztrdup((char const   *)n);
#line 371
  m->setup = setup;
#line 372
  m->features = features;
#line 373
  m->enables = enables;
#line 374
  m->boot = boot;
#line 375
  m->cleanup = cleanup;
#line 376
  m->finish = finish;
#line 378
  zinsertlinknode(linkedmodules, linkedmodules->list.last, (void *)m);
  }
#line 379
  return;
}
}
#line 384 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
Linkedmod module_linked(char const   *name ) 
{ 
  LinkNode node ;
  int tmp ;

  {
#line 389
  node = linkedmodules->list.first;
  {
#line 389
  while (1) {
    while_continue: /* CIL Label */ ;
#line 389
    if (! node) {
#line 389
      goto while_break;
    }
    {
#line 390
    tmp = strcmp((char const   *)((Linkedmod )node->dat)->name, name);
    }
#line 390
    if (! tmp) {
#line 391
      return ((Linkedmod )node->dat);
    }
#line 389
    node = node->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 393
  return ((Linkedmod )((void *)0));
}
}
#line 408 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int addbuiltin(Builtin b ) 
{ 
  Builtin bn ;
  HashNode tmp ;
  HashNode tmp___0 ;

  {
  {
#line 411
  tmp = (*(builtintab->getnode2))(builtintab, (char const   *)b->node.nam);
#line 411
  bn = (Builtin )tmp;
  }
#line 412
  if (bn) {
#line 412
    if (bn->node.flags & (1 << 3)) {
#line 413
      return (1);
    }
  }
#line 414
  if (bn) {
    {
#line 415
    tmp___0 = (*(builtintab->removenode))(builtintab, (char const   *)b->node.nam);
#line 415
    (*(builtintab->freenode))(tmp___0);
    }
  }
  {
#line 416
  (*(builtintab->addnode))(builtintab, b->node.nam, (void *)b);
  }
#line 417
  return (0);
}
}
#line 425 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int add_autobin(char const   *module , char const   *bnam , int flags ) 
{ 
  Builtin bn ;
  int ret ;
  void *tmp ;

  {
  {
#line 431
  tmp = zshcalloc(sizeof(*bn));
#line 431
  bn = (Builtin )tmp;
#line 432
  bn->node.nam = ztrdup(bnam);
#line 433
  bn->optstr = ztrdup(module);
  }
#line 434
  if (flags & 4) {
#line 435
    bn->node.flags |= 1 << 17;
  }
  {
#line 436
  ret = addbuiltin(bn);
  }
#line 436
  if (ret) {
    {
#line 437
    (*(builtintab->freenode))(& bn->node);
    }
#line 438
    if (! (flags & 1)) {
#line 439
      return (1);
    }
  }
#line 441
  return (0);
}
}
#line 448 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deletebuiltin(char const   *nam ) 
{ 
  Builtin bn ;
  HashNode tmp ;

  {
  {
#line 453
  tmp = (*(builtintab->removenode))(builtintab, nam);
#line 453
  bn = (Builtin )tmp;
  }
#line 454
  if (! bn) {
#line 455
    return (-1);
  }
  {
#line 456
  (*(builtintab->freenode))(& bn->node);
  }
#line 457
  return (0);
}
}
#line 463 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int del_autobin(char const   *module  __attribute__((__unused__)) , char const   *bnam ,
                       int flags ) 
{ 
  Builtin bn ;
  HashNode tmp ;

  {
  {
#line 466
  tmp = (*(builtintab->getnode2))(builtintab, bnam);
#line 466
  bn = (Builtin )tmp;
  }
#line 467
  if (! bn) {
#line 468
    if (! (flags & 1)) {
#line 469
      return (2);
    }
  } else
#line 470
  if (bn->node.flags & (1 << 3)) {
#line 471
    if (! (flags & 1)) {
#line 472
      return (3);
    }
  } else {
    {
#line 474
    deletebuiltin(bnam);
    }
  }
#line 476
  return (0);
}
}
#line 500 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int setbuiltins(char const   *nam , Builtin binl , int size , int *e ) 
{ 
  int ret ;
  int n ;
  Builtin b ;
  int tmp ;
  int tmp___0 ;
  int *tmp___1 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
#line 503
  ret = 0;
#line 505
  n = 0;
  {
#line 505
  while (1) {
    while_continue: /* CIL Label */ ;
#line 505
    if (! (n < size)) {
#line 505
      goto while_break;
    }
#line 506
    b = binl + n;
#line 507
    if (e) {
#line 507
      tmp___1 = e;
#line 507
      e ++;
#line 507
      if (*tmp___1) {
#line 508
        if (b->node.flags & (1 << 3)) {
#line 509
          goto __Cont;
        }
        {
#line 510
        tmp = addbuiltin(b);
        }
#line 510
        if (tmp) {
          {
#line 511
          zwarnnam(nam, "name clash when adding builtin `%s\'", b->node.nam);
#line 513
          ret = 1;
          }
        } else {
#line 515
          b->node.flags |= 1 << 3;
        }
      } else {
#line 507
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
#line 518
      if (! (b->node.flags & (1 << 3))) {
#line 519
        goto __Cont;
      }
      {
#line 520
      tmp___0 = deletebuiltin((char const   *)b->node.nam);
      }
#line 520
      if (tmp___0) {
        {
#line 521
        zwarnnam(nam, "builtin `%s\' already deleted", b->node.nam);
#line 522
        ret = 1;
        }
      } else {
#line 524
        b->node.flags &= ~ (1 << 3);
      }
    }
    __Cont: /* CIL Label */ 
#line 505
    n ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 528
  return (ret);
}
}
#line 543 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int addbuiltins(char const   *nam , Builtin binl , int size ) 
{ 
  int ret ;
  int n ;
  Builtin b ;
  int tmp ;
  char *__cil_tmp8 ;

  {
#line 546
  ret = 0;
#line 548
  n = 0;
  {
#line 548
  while (1) {
    while_continue: /* CIL Label */ ;
#line 548
    if (! (n < size)) {
#line 548
      goto while_break;
    }
#line 549
    b = binl + n;
#line 550
    if (b->node.flags & (1 << 3)) {
#line 551
      goto __Cont;
    }
    {
#line 552
    tmp = addbuiltin(b);
    }
#line 552
    if (tmp) {
      {
#line 553
      zwarnnam(nam, "name clash when adding builtin `%s\'", b->node.nam);
#line 554
      ret = 1;
      }
    } else {
#line 556
      b->node.flags |= 1 << 3;
    }
    __Cont: /* CIL Label */ 
#line 548
    n ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 559
  return (ret);
}
}
#line 576 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int addwrapper(Module m , FuncWrap w ) 
{ 
  FuncWrap p ;
  FuncWrap q ;

  {
#line 587
  if (m->node.flags & (1 << 6)) {
#line 588
    return (1);
  }
#line 590
  if (w->flags & 1) {
#line 591
    return (1);
  }
#line 592
  p = wrappers;
#line 592
  q = (FuncWrap )((void *)0);
  {
#line 592
  while (1) {
    while_continue: /* CIL Label */ ;
#line 592
    if (! p) {
#line 592
      goto while_break;
    }
#line 592
    q = p;
#line 592
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 593
  if (q) {
#line 594
    q->next = w;
  } else {
#line 596
    wrappers = w;
  }
#line 597
  w->next = (FuncWrap )((void *)0);
#line 598
  w->flags |= 1;
#line 599
  w->module = m;
#line 601
  return (0);
}
}
#line 608 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deletewrapper(Module m , FuncWrap w ) 
{ 
  FuncWrap p ;
  FuncWrap q ;

  {
#line 613
  if (m->node.flags & (1 << 6)) {
#line 614
    return (1);
  }
#line 616
  if (w->flags & 1) {
#line 617
    p = wrappers;
#line 617
    q = (FuncWrap )((void *)0);
    {
#line 617
    while (1) {
      while_continue: /* CIL Label */ ;
#line 617
      if (p) {
#line 617
        if (! ((unsigned long )p != (unsigned long )w)) {
#line 617
          goto while_break;
        }
      } else {
#line 617
        goto while_break;
      }
#line 617
      q = p;
#line 617
      p = p->next;
    }
    while_break: /* CIL Label */ ;
    }
#line 619
    if (p) {
#line 620
      if (q) {
#line 621
        q->next = p->next;
      } else {
#line 623
        wrappers = p->next;
      }
#line 624
      p->flags &= -2;
#line 626
      return (0);
    }
  }
#line 629
  return (1);
}
}
#line 647 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
Conddef getconddef(int inf , char const   *name , int autol ) 
{ 
  Conddef p ;
  int f ;
  int tmp ;
  char const   *tmp___0 ;
  char const   *tmp___1 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 651
  f = 1;
  {
#line 653
  while (1) {
    while_continue: /* CIL Label */ ;
#line 654
    p = condtab;
    {
#line 654
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 654
      if (! p) {
#line 654
        goto while_break___0;
      }
#line 655
      if (! (! inf) == ! (! (p->flags & 1))) {
        {
#line 655
        tmp = strcmp(name, (char const   *)p->name);
        }
#line 655
        if (! tmp) {
#line 657
          goto while_break___0;
        }
      }
#line 654
      p = p->next;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 659
    if (autol) {
#line 659
      if (p) {
#line 659
        if (p->module) {
#line 664
          if (f) {
#line 665
            if (p->flags & 4) {
#line 665
              tmp___0 = (char const   *)((void *)0);
            } else {
#line 665
              tmp___0 = name;
            }
#line 665
            if (p->flags & 1) {
#line 665
              tmp___1 = "C:";
            } else {
#line 665
              tmp___1 = "c:";
            }
            {
#line 665
            ensurefeature((char const   *)p->module, tmp___1, tmp___0);
#line 668
            f = 0;
#line 669
            p = (Conddef )((void *)0);
            }
          } else {
            {
#line 671
            deleteconddef(p);
            }
#line 672
            return ((Conddef )((void *)0));
          }
        } else {
#line 675
          goto while_break;
        }
      } else {
#line 675
        goto while_break;
      }
    } else {
#line 675
      goto while_break;
    }
#line 653
    if (! (! p)) {
#line 653
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 677
  return (p);
}
}
#line 691 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int addconddef(Conddef c ) 
{ 
  Conddef p ;
  Conddef tmp ;

  {
  {
#line 694
  tmp = getconddef(c->flags & 1, (char const   *)c->name, 0);
#line 694
  p = tmp;
  }
#line 696
  if (p) {
#line 697
    if (! p->module) {
#line 698
      return (1);
    } else
#line 697
    if (p->flags & 2) {
#line 698
      return (1);
    }
    {
#line 701
    deleteconddef(p);
    }
  }
#line 703
  c->next = condtab;
#line 704
  condtab = c;
#line 705
  return (0);
}
}
#line 712 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deleteconddef(Conddef c ) 
{ 
  Conddef p ;
  Conddef q ;

  {
#line 717
  p = condtab;
#line 717
  q = (Conddef )((void *)0);
  {
#line 717
  while (1) {
    while_continue: /* CIL Label */ ;
#line 717
    if (p) {
#line 717
      if (! ((unsigned long )p != (unsigned long )c)) {
#line 717
        goto while_break;
      }
    } else {
#line 717
      goto while_break;
    }
#line 717
    q = p;
#line 717
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 719
  if (p) {
#line 720
    if (q) {
#line 721
      q->next = p->next;
    } else {
#line 723
      condtab = p->next;
    }
#line 725
    if (p->module) {
      {
#line 727
      zsfree(p->name);
#line 728
      zsfree(p->module);
#line 729
      zfree((void *)p, (int )sizeof(*p));
      }
    }
#line 731
    return (0);
  }
#line 733
  return (-1);
}
}
#line 742 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int setconddefs(char const   *nam , Conddef c , int size , int *e ) 
{ 
  int ret ;
  int tmp ;
  int tmp___0 ;
  int *tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 745
  ret = 0;
  {
#line 747
  while (1) {
    while_continue: /* CIL Label */ ;
#line 747
    tmp___2 = size;
#line 747
    size --;
#line 747
    if (! tmp___2) {
#line 747
      goto while_break;
    }
#line 748
    if (e) {
#line 748
      tmp___1 = e;
#line 748
      e ++;
#line 748
      if (*tmp___1) {
#line 749
        if (c->flags & 2) {
#line 750
          c ++;
#line 751
          goto while_continue;
        }
        {
#line 753
        tmp = addconddef(c);
        }
#line 753
        if (tmp) {
          {
#line 754
          zwarnnam(nam, "name clash when adding condition `%s\'", c->name);
#line 756
          ret = 1;
          }
        } else {
#line 758
          c->flags |= 2;
        }
      } else {
#line 748
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
#line 761
      if (! (c->flags & 2)) {
#line 762
        c ++;
#line 763
        goto while_continue;
      }
      {
#line 765
      tmp___0 = deleteconddef(c);
      }
#line 765
      if (tmp___0) {
        {
#line 766
        zwarnnam(nam, "condition `%s\' already deleted", c->name);
#line 767
        ret = 1;
        }
      } else {
#line 769
        c->flags &= -3;
      }
    }
#line 772
    c ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 774
  return (ret);
}
}
#line 780 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int add_autocond(char const   *module , char const   *cnam , int flags ) 
{ 
  Conddef c ;
  void *tmp ;
  int tmp___0 ;

  {
  {
#line 785
  tmp = zalloc(sizeof(*c));
#line 785
  c = (Conddef )tmp;
#line 787
  c->name = ztrdup(cnam);
  }
#line 788
  if (flags & 2) {
#line 788
    c->flags = 1;
  } else {
#line 788
    c->flags = 0;
  }
#line 789
  if (flags & 4) {
#line 790
    c->flags |= 4;
  }
  {
#line 791
  c->module = ztrdup(module);
#line 793
  tmp___0 = addconddef(c);
  }
#line 793
  if (tmp___0) {
    {
#line 794
    zsfree(c->name);
#line 795
    zsfree(c->module);
#line 796
    zfree((void *)c, (int )sizeof(*c));
    }
#line 798
    if (! (flags & 1)) {
#line 799
      return (1);
    }
  }
#line 801
  return (0);
}
}
#line 807 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int del_autocond(char const   *modnam  __attribute__((__unused__)) , char const   *cnam ,
                        int flags ) 
{ 
  Conddef cd ;
  int tmp ;
  Conddef tmp___0 ;

  {
#line 810
  if (flags & 2) {
#line 810
    tmp = 1;
  } else {
#line 810
    tmp = 0;
  }
  {
#line 810
  tmp___0 = getconddef(tmp, cnam, 0);
#line 810
  cd = tmp___0;
  }
#line 812
  if (! cd) {
#line 813
    if (! (flags & 1)) {
#line 814
      return (2);
    }
  } else
#line 816
  if (cd->flags & 2) {
#line 817
    if (! (flags & 1)) {
#line 818
      return (3);
    }
  } else {
    {
#line 820
    deleteconddef(cd);
    }
  }
#line 822
  return (0);
}
}
#line 837 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
Hookdef gethookdef(char *n ) 
{ 
  Hookdef p ;
  int tmp ;

  {
#line 842
  p = hooktab;
  {
#line 842
  while (1) {
    while_continue: /* CIL Label */ ;
#line 842
    if (! p) {
#line 842
      goto while_break;
    }
    {
#line 843
    tmp = strcmp((char const   *)n, (char const   *)p->name);
    }
#line 843
    if (! tmp) {
#line 844
      return (p);
    }
#line 842
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 845
  return ((Hookdef )((void *)0));
}
}
#line 852 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int addhookdef(Hookdef h ) 
{ 
  Hookdef tmp ;

  {
  {
#line 855
  tmp = gethookdef(h->name);
  }
#line 855
  if (tmp) {
#line 856
    return (1);
  }
  {
#line 858
  h->next = hooktab;
#line 859
  hooktab = h;
#line 860
  h->funcs = znewlinklist();
  }
#line 862
  return (0);
}
}
#line 871 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int addhookdefs(Module m , Hookdef h , int size ) 
{ 
  int ret ;
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp8 ;

  {
#line 874
  ret = 0;
  {
#line 876
  while (1) {
    while_continue: /* CIL Label */ ;
#line 876
    tmp___1 = size;
#line 876
    size --;
#line 876
    if (! tmp___1) {
#line 876
      goto while_break;
    }
    {
#line 877
    tmp___0 = addhookdef(h);
    }
#line 877
    if (tmp___0) {
#line 878
      if (m) {
#line 878
        tmp = m->node.nam;
      } else {
#line 878
        tmp = (char *)((void *)0);
      }
      {
#line 878
      zwarnnam((char const   *)tmp, "name clash when adding hook `%s\'", h->name);
#line 880
      ret = 1;
      }
    }
#line 882
    h ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 884
  return (ret);
}
}
#line 890 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deletehookdef(Hookdef h ) 
{ 
  Hookdef p ;
  Hookdef q ;

  {
#line 895
  p = hooktab;
#line 895
  q = (Hookdef )((void *)0);
  {
#line 895
  while (1) {
    while_continue: /* CIL Label */ ;
#line 895
    if (p) {
#line 895
      if (! ((unsigned long )p != (unsigned long )h)) {
#line 895
        goto while_break;
      }
    } else {
#line 895
      goto while_break;
    }
#line 895
    q = p;
#line 895
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 897
  if (! p) {
#line 898
    return (1);
  }
#line 900
  if (q) {
#line 901
    q->next = p->next;
  } else {
#line 903
    hooktab = p->next;
  }
  {
#line 904
  freelinklist(p->funcs, (void (*)(void * ))((void *)0));
  }
#line 905
  return (0);
}
}
#line 911 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deletehookdefs(Module m  __attribute__((__unused__)) , Hookdef h , int size ) 
{ 
  int ret ;
  int tmp ;
  int tmp___0 ;

  {
#line 914
  ret = 0;
  {
#line 916
  while (1) {
    while_continue: /* CIL Label */ ;
#line 916
    tmp___0 = size;
#line 916
    size --;
#line 916
    if (! tmp___0) {
#line 916
      goto while_break;
    }
    {
#line 917
    tmp = deletehookdef(h);
    }
#line 917
    if (tmp) {
#line 918
      ret = 1;
    }
#line 919
    h ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 921
  return (ret);
}
}
#line 927 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int addhookdeffunc(Hookdef h , int (*f)(Hookdef  , void * ) ) 
{ 


  {
  {
#line 930
  zinsertlinknode(h->funcs, (h->funcs)->list.last, (void *)f);
  }
#line 932
  return (0);
}
}
#line 936 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int addhookfunc(char *n , int (*f)(Hookdef  , void * ) ) 
{ 
  Hookdef h ;
  Hookdef tmp ;
  int tmp___0 ;

  {
  {
#line 939
  tmp = gethookdef(n);
#line 939
  h = tmp;
  }
#line 941
  if (h) {
    {
#line 942
    tmp___0 = addhookdeffunc(h, f);
    }
#line 942
    return (tmp___0);
  }
#line 943
  return (1);
}
}
#line 949 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deletehookdeffunc(Hookdef h , int (*f)(Hookdef  , void * ) ) 
{ 
  LinkNode p ;

  {
#line 954
  p = (h->funcs)->list.first;
  {
#line 954
  while (1) {
    while_continue: /* CIL Label */ ;
#line 954
    if (! p) {
#line 954
      goto while_break;
    }
#line 955
    if ((unsigned long )f == (unsigned long )((int (*)(Hookdef  , void * ))p->dat)) {
      {
#line 956
      remnode(h->funcs, p);
      }
#line 957
      return (0);
    }
#line 954
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 959
  return (1);
}
}
#line 965 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deletehookfunc(char *n , int (*f)(Hookdef  , void * ) ) 
{ 
  Hookdef h ;
  Hookdef tmp ;
  int tmp___0 ;

  {
  {
#line 968
  tmp = gethookdef(n);
#line 968
  h = tmp;
  }
#line 970
  if (h) {
    {
#line 971
    tmp___0 = deletehookdeffunc(h, f);
    }
#line 971
    return (tmp___0);
  }
#line 972
  return (1);
}
}
#line 978 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int runhookdef(Hookdef h , void *d___0 ) 
{ 
  int tmp ;
  LinkNode p ;
  int r ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 981
  if ((unsigned long )(h->funcs)->list.first == (unsigned long )((void *)0)) {
#line 982
    if (h->def) {
      {
#line 983
      tmp = (*(h->def))(h, d___0);
      }
#line 983
      return (tmp);
    }
#line 984
    return (0);
  } else
#line 985
  if (h->flags & 1) {
#line 989
    p = (h->funcs)->list.first;
    {
#line 989
    while (1) {
      while_continue: /* CIL Label */ ;
#line 989
      if (! p) {
#line 989
        goto while_break;
      }
      {
#line 990
      r = (*((int (*)(Hookdef  , void * ))p->dat))(h, d___0);
      }
#line 990
      if (r) {
#line 991
        return (r);
      }
#line 989
      p = p->next;
    }
    while_break: /* CIL Label */ ;
    }
#line 992
    if (h->def) {
      {
#line 993
      tmp___0 = (*(h->def))(h, d___0);
      }
#line 993
      return (tmp___0);
    }
#line 994
    return (0);
  } else {
    {
#line 996
    tmp___1 = (*((int (*)(Hookdef  , void * ))((h->funcs)->list.last)->dat))(h, d___0);
    }
#line 996
    return (tmp___1);
  }
}
}
#line 1014 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int checkaddparam(char const   *nam , int opt_i ) 
{ 
  Param pm ;
  HashNode tmp ;
  char const   *tmp___0 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
  {
#line 1019
  tmp = gethashnode2(paramtab, nam);
#line 1019
  pm = (Param )tmp;
  }
#line 1019
  if (! pm) {
#line 1020
    return (0);
  }
#line 1022
  if (pm->level) {
#line 1022
    goto _L___0;
  } else
#line 1022
  if (! (pm->node.flags & (1 << 27))) {
    _L___0: /* CIL Label */ 
#line 1031
    if (! opt_i) {
#line 1031
      goto _L;
    } else
#line 1031
    if (! pm->level) {
      _L: /* CIL Label */ 
#line 1032
      if (pm->level) {
#line 1032
        tmp___0 = "local parameter exists";
      } else {
#line 1032
        tmp___0 = "parameter already exists";
      }
      {
#line 1032
      zwarn("Can\'t add module parameter `%s\': %s", nam, tmp___0);
      }
#line 1036
      return (1);
    }
#line 1038
    return (2);
  }
  {
#line 1041
  unsetparam_pm(pm, 0, 1);
  }
#line 1042
  return (0);
}
}
#line 1049 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int addparamdef(Paramdef d___0 ) 
{ 
  Param pm ;
  int tmp ;
  HashNode tmp___0 ;

  {
  {
#line 1054
  tmp = checkaddparam((char const   *)d___0->name, 0);
  }
#line 1054
  if (tmp) {
#line 1055
    return (1);
  }
#line 1057
  if (d___0->getnfn) {
    {
#line 1058
    pm = createspecialhash(d___0->name, d___0->getnfn, d___0->scantfn, d___0->flags);
    }
#line 1058
    if (! pm) {
#line 1060
      return (1);
    }
  } else {
    {
#line 1062
    pm = createparam(d___0->name, d___0->flags);
    }
#line 1062
    if (! pm) {
      {
#line 1062
      tmp___0 = (*(paramtab->getnode))(paramtab, (char const   *)d___0->name);
#line 1062
      pm = (Param )tmp___0;
      }
#line 1062
      if (! pm) {
#line 1064
        return (1);
      }
    }
  }
#line 1066
  d___0->pm = pm;
#line 1067
  pm->level = 0;
#line 1068
  if (d___0->var) {
#line 1069
    pm->u.data = d___0->var;
  }
#line 1070
  if (d___0->var) {
#line 1070
    goto _L;
  } else
#line 1070
  if (d___0->gsu) {
    _L: /* CIL Label */ 
    {
#line 1076
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 1076
      goto case_0;
    }
#line 1080
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 1080
      goto case_exp;
    }
#line 1085
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 1085
      goto case_exp___0;
    }
#line 1085
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 1085
      goto case_exp___0;
    }
#line 1089
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 1089
      goto case_1;
    }
#line 1093
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 1093
      goto case_exp___2;
    }
#line 1099
    goto switch_default;
    case_0: /* CIL Label */ 
#line 1077
    if (d___0->gsu) {
#line 1077
      pm->gsu.s = (GsuScalar )d___0->gsu;
    } else {
#line 1077
      pm->gsu.s = & varscalar_gsu;
    }
#line 1078
    goto switch_break;
    case_exp: /* CIL Label */ 
#line 1081
    if (d___0->gsu) {
#line 1081
      pm->gsu.i = (GsuInteger )d___0->gsu;
    } else {
#line 1081
      pm->gsu.i = & varinteger_gsu;
    }
#line 1082
    goto switch_break;
    case_exp___0: /* CIL Label */ 
    case_exp___1: /* CIL Label */ 
#line 1086
    pm->gsu.f = (GsuFloat )d___0->gsu;
#line 1087
    goto switch_break;
    case_1: /* CIL Label */ 
#line 1090
    if (d___0->gsu) {
#line 1090
      pm->gsu.a = (GsuArray )d___0->gsu;
    } else {
#line 1090
      pm->gsu.a = & vararray_gsu;
    }
#line 1091
    goto switch_break;
    case_exp___2: /* CIL Label */ 
#line 1095
    if (d___0->gsu) {
#line 1096
      pm->gsu.h = (GsuHash )d___0->gsu;
    }
#line 1097
    goto switch_break;
    switch_default: /* CIL Label */ 
    {
#line 1100
    unsetparam_pm(pm, 0, 1);
    }
#line 1101
    return (1);
    switch_break: /* CIL Label */ ;
    }
  }
#line 1105
  return (0);
}
}
#line 1111 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deleteparamdef(Paramdef d___0 ) 
{ 
  Param pm ;
  HashNode tmp ;
  Param prevpm ;
  Param searchpm ;

  {
  {
#line 1114
  tmp = (*(paramtab->getnode))(paramtab, (char const   *)d___0->name);
#line 1114
  pm = (Param )tmp;
  }
#line 1116
  if (! pm) {
#line 1117
    return (1);
  }
#line 1118
  if ((unsigned long )pm != (unsigned long )d___0->pm) {
#line 1124
    prevpm = pm;
#line 1124
    searchpm = pm->old;
    {
#line 1124
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1124
      if (! searchpm) {
#line 1124
        goto while_break;
      }
#line 1127
      if ((unsigned long )searchpm == (unsigned long )d___0->pm) {
#line 1128
        goto while_break;
      }
#line 1124
      prevpm = searchpm;
#line 1124
      searchpm = searchpm->old;
    }
    while_break: /* CIL Label */ ;
    }
#line 1130
    if (! searchpm) {
#line 1131
      return (1);
    }
    {
#line 1133
    (*(paramtab->removenode))(paramtab, (char const   *)pm->node.nam);
#line 1134
    prevpm->old = searchpm->old;
#line 1135
    searchpm->old = pm;
#line 1136
    (*(paramtab->addnode))(paramtab, searchpm->node.nam, (void *)searchpm);
#line 1138
    pm = searchpm;
    }
  }
  {
#line 1140
  pm->node.flags = (pm->node.flags & ~ (1 << 10)) | (1 << 26);
#line 1141
  unsetparam_pm(pm, 0, 1);
#line 1142
  d___0->pm = (Param )((void *)0);
  }
#line 1143
  return (0);
}
}
#line 1152 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int setparamdefs(char const   *nam , Paramdef d___0 , int size , int *e ) 
{ 
  int ret ;
  int tmp ;
  int tmp___0 ;
  int *tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 1155
  ret = 0;
  {
#line 1157
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1157
    tmp___2 = size;
#line 1157
    size --;
#line 1157
    if (! tmp___2) {
#line 1157
      goto while_break;
    }
#line 1158
    if (e) {
#line 1158
      tmp___1 = e;
#line 1158
      e ++;
#line 1158
      if (*tmp___1) {
#line 1159
        if (d___0->pm) {
#line 1160
          d___0 ++;
#line 1161
          goto while_continue;
        }
        {
#line 1163
        tmp = addparamdef(d___0);
        }
#line 1163
        if (tmp) {
          {
#line 1164
          zwarnnam(nam, "error when adding parameter `%s\'", d___0->name);
#line 1165
          ret = 1;
          }
        }
      } else {
#line 1158
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
#line 1168
      if (! d___0->pm) {
#line 1169
        d___0 ++;
#line 1170
        goto while_continue;
      }
      {
#line 1172
      tmp___0 = deleteparamdef(d___0);
      }
#line 1172
      if (tmp___0) {
        {
#line 1173
        zwarnnam(nam, "parameter `%s\' already deleted", d___0->name);
#line 1174
        ret = 1;
        }
      }
    }
#line 1177
    d___0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1179
  return (ret);
}
}
#line 1185 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int add_autoparam(char const   *module , char const   *pnam , int flags ) 
{ 
  Param pm ;
  int ret ;
  sigset_t oset ;
  int tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  sigset_t oset___0 ;
  void *__cil_tmp11 ;
  void *__cil_tmp12 ;

  {
  {
#line 1191
  queueing_enabled ++;
#line 1192
  ret = checkaddparam(pnam, flags & 1);
  }
#line 1192
  if (ret) {
    {
#line 1193
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1193
      queueing_enabled --;
#line 1193
      if (! queueing_enabled) {
        {
#line 1193
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 1193
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 1193
            if (! (queue_front != queue_rear)) {
#line 1193
              goto while_break___1;
            }
            {
#line 1193
            queue_front = (queue_front + 1) % 128;
#line 1193
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1193
            zhandler(signal_queue[queue_front]);
#line 1193
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 1193
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 1193
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 1201
    if (ret == 2) {
#line 1201
      tmp = 0;
    } else {
#line 1201
      tmp = -1;
    }
#line 1201
    return (tmp);
  }
  {
#line 1204
  tmp___0 = ztrdup(module);
#line 1204
  tmp___1 = dupstring(pnam);
#line 1204
  pm = setsparam(tmp___1, tmp___0);
#line 1206
  pm->node.flags |= 1 << 27;
  }
#line 1207
  if (flags & 4) {
#line 1208
    pm->node.flags |= 1 << 28;
  }
  {
#line 1209
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 1209
    queueing_enabled --;
#line 1209
    if (! queueing_enabled) {
      {
#line 1209
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 1209
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 1209
          if (! (queue_front != queue_rear)) {
#line 1209
            goto while_break___4;
          }
          {
#line 1209
          queue_front = (queue_front + 1) % 128;
#line 1209
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 1209
          zhandler(signal_queue[queue_front]);
#line 1209
          signal_setmask(oset___0);
          }
        }
        while_break___4: /* CIL Label */ ;
        }
#line 1209
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 1209
    goto while_break___2;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 1211
  return (0);
}
}
#line 1217 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int del_autoparam(char const   *modnam  __attribute__((__unused__)) , char const   *pnam ,
                         int flags ) 
{ 
  Param pm ;
  HashNode tmp ;

  {
  {
#line 1220
  tmp = gethashnode2(paramtab, pnam);
#line 1220
  pm = (Param )tmp;
  }
#line 1222
  if (! pm) {
#line 1223
    if (! (flags & 1)) {
#line 1224
      return (2);
    }
  } else
#line 1225
  if (! (pm->node.flags & (1 << 27))) {
#line 1226
    if (! (flags & 1)) {
#line 1227
      return (3);
    }
  } else {
    {
#line 1229
    unsetparam_pm(pm, 0, 1);
    }
  }
#line 1231
  return (0);
}
}
#line 1249 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
void removemathfunc(MathFunc previous , MathFunc current ) 
{ 


  {
#line 1252
  if (previous) {
#line 1253
    previous->next = current->next;
  } else {
#line 1255
    mathfuncs = current->next;
  }
  {
#line 1257
  zsfree(current->name);
#line 1258
  zsfree(current->module);
#line 1259
  zfree((void *)current, (int )sizeof(*current));
  }
#line 1260
  return;
}
}
#line 1265 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
MathFunc getmathfunc(char const   *name , int autol ) 
{ 
  MathFunc p ;
  MathFunc q ;
  char *n ;
  char *tmp ;
  int flags ;
  char const   *tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 1268
  q = (MathFunc )((void *)0);
#line 1270
  p = mathfuncs;
  {
#line 1270
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1270
    if (! p) {
#line 1270
      goto while_break;
    }
    {
#line 1271
    tmp___1 = strcmp(name, (char const   *)p->name);
    }
#line 1271
    if (! tmp___1) {
#line 1272
      if (autol) {
#line 1272
        if (p->module) {
#line 1272
          if (! (p->flags & 4)) {
            {
#line 1273
            tmp = dupstring((char const   *)p->module);
#line 1273
            n = tmp;
#line 1274
            flags = p->flags;
#line 1276
            removemathfunc(q, p);
            }
#line 1278
            if (flags & 8) {
#line 1278
              tmp___0 = (char const   *)((void *)0);
            } else {
#line 1278
              tmp___0 = name;
            }
            {
#line 1278
            ensurefeature((char const   *)n, "f:", tmp___0);
#line 1281
            p = getmathfunc(name, 0);
            }
#line 1282
            if (! p) {
              {
#line 1283
              zerr("autoloading module %s failed to define math function: %s", n,
                   name);
              }
            }
          }
        }
      }
#line 1286
      return (p);
    }
#line 1270
    q = p;
#line 1270
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1289
  return ((MathFunc )((void *)0));
}
}
#line 1295 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int addmathfunc(MathFunc f ) 
{ 
  MathFunc p ;
  MathFunc q ;
  int tmp ;

  {
#line 1298
  q = (MathFunc )((void *)0);
#line 1300
  if (f->flags & 2) {
#line 1301
    return (1);
  }
#line 1303
  p = mathfuncs;
  {
#line 1303
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1303
    if (! p) {
#line 1303
      goto while_break;
    }
    {
#line 1304
    tmp = strcmp((char const   *)f->name, (char const   *)p->name);
    }
#line 1304
    if (! tmp) {
#line 1305
      if (p->module) {
#line 1305
        if (! (p->flags & 4)) {
          {
#line 1309
          removemathfunc(q, p);
          }
#line 1310
          goto while_break;
        }
      }
#line 1312
      return (1);
    }
#line 1303
    q = p;
#line 1303
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1315
  f->next = mathfuncs;
#line 1316
  mathfuncs = f;
#line 1318
  return (0);
}
}
#line 1324 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int deletemathfunc(MathFunc f ) 
{ 
  MathFunc p ;
  MathFunc q ;

  {
#line 1329
  p = mathfuncs;
#line 1329
  q = (MathFunc )((void *)0);
  {
#line 1329
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1329
    if (p) {
#line 1329
      if (! ((unsigned long )p != (unsigned long )f)) {
#line 1329
        goto while_break;
      }
    } else {
#line 1329
      goto while_break;
    }
#line 1329
    q = p;
#line 1329
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1331
  if (p) {
#line 1332
    if (q) {
#line 1333
      q->next = f->next;
    } else {
#line 1335
      mathfuncs = f->next;
    }
#line 1338
    if (f->module) {
      {
#line 1339
      zsfree(f->name);
#line 1340
      zsfree(f->module);
#line 1341
      zfree((void *)f, (int )sizeof(*f));
      }
    } else {
#line 1343
      f->flags &= -3;
    }
#line 1345
    return (0);
  }
#line 1347
  return (-1);
}
}
#line 1356 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int setmathfuncs(char const   *nam , MathFunc f , int size , int *e ) 
{ 
  int ret ;
  int tmp ;
  int tmp___0 ;
  int *tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 1359
  ret = 0;
  {
#line 1361
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1361
    tmp___2 = size;
#line 1361
    size --;
#line 1361
    if (! tmp___2) {
#line 1361
      goto while_break;
    }
#line 1362
    if (e) {
#line 1362
      tmp___1 = e;
#line 1362
      e ++;
#line 1362
      if (*tmp___1) {
#line 1363
        if (f->flags & 2) {
#line 1364
          f ++;
#line 1365
          goto while_continue;
        }
        {
#line 1367
        tmp = addmathfunc(f);
        }
#line 1367
        if (tmp) {
          {
#line 1368
          zwarnnam(nam, "name clash when adding math function `%s\'", f->name);
#line 1370
          ret = 1;
          }
        } else {
#line 1372
          f->flags |= 2;
        }
      } else {
#line 1362
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
#line 1375
      if (! (f->flags & 2)) {
#line 1376
        f ++;
#line 1377
        goto while_continue;
      }
      {
#line 1379
      tmp___0 = deletemathfunc(f);
      }
#line 1379
      if (tmp___0) {
        {
#line 1380
        zwarnnam(nam, "math function `%s\' already deleted", f->name);
#line 1381
        ret = 1;
        }
      } else {
#line 1383
        f->flags &= -3;
      }
    }
#line 1386
    f ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1388
  return (ret);
}
}
#line 1394 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int add_automathfunc(char const   *module , char const   *fnam , int flags ) 
{ 
  MathFunc f ;
  void *tmp ;
  int tmp___0 ;

  {
  {
#line 1399
  tmp = zalloc(sizeof(*f));
#line 1399
  f = (MathFunc )tmp;
#line 1401
  f->name = ztrdup(fnam);
#line 1402
  f->module = ztrdup(module);
#line 1403
  f->flags = 0;
#line 1405
  tmp___0 = addmathfunc(f);
  }
#line 1405
  if (tmp___0) {
    {
#line 1406
    zsfree(f->name);
#line 1407
    zsfree(f->module);
#line 1408
    zfree((void *)f, (int )sizeof(*f));
    }
#line 1410
    if (! (flags & 1)) {
#line 1411
      return (1);
    }
  }
#line 1414
  return (0);
}
}
#line 1420 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int del_automathfunc(char const   *modnam  __attribute__((__unused__)) , char const   *fnam ,
                            int flags ) 
{ 
  MathFunc f ;
  MathFunc tmp ;

  {
  {
#line 1423
  tmp = getmathfunc(fnam, 0);
#line 1423
  f = tmp;
  }
#line 1425
  if (! f) {
#line 1426
    if (! (flags & 1)) {
#line 1427
      return (2);
    }
  } else
#line 1428
  if (f->flags & 2) {
#line 1429
    if (! (flags & 1)) {
#line 1430
      return (3);
    }
  } else {
    {
#line 1432
    deletemathfunc(f);
    }
  }
#line 1434
  return (0);
}
}
#line 56 "/usr/include/dlfcn.h"
extern  __attribute__((__nothrow__)) void *dlopen(char const   *__file , int __mode ) ;
#line 60
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) dlclose)(void *__handle ) ;
#line 64
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(2), __leaf__)) dlsym)(void * __restrict  __handle ,
                                                                                              char const   * __restrict  __name ) ;
#line 82
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) dlerror)(void) ;
#line 1567 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static void *try_load_module(char const   *name ) 
{ 
  char buf___7[4097] ;
  char **pp ;
  void *ret ;
  int l ;
  size_t tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  size_t tmp___2 ;
  char const   *tmp___3 ;
  void *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
  {
#line 1572
  ret = (void *)0;
#line 1575
  tmp = strlen(name);
#line 1575
  tmp___0 = strlen("so");
#line 1575
  l = (int )(((1UL + tmp) + 1UL) + tmp___0);
#line 1576
  pp = module_path;
  }
  {
#line 1576
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1576
    if (! ret) {
#line 1576
      if (! *pp) {
#line 1576
        goto while_break;
      }
    } else {
#line 1576
      goto while_break;
    }
#line 1577
    if (*(*pp)) {
      {
#line 1577
      tmp___1 = strlen((char const   *)*pp);
#line 1577
      tmp___2 = tmp___1;
      }
    } else {
#line 1577
      tmp___2 = (size_t )1;
    }
#line 1577
    if ((size_t )l + tmp___2 > 4096UL) {
#line 1578
      goto __Cont;
    }
#line 1579
    if (*(*pp)) {
#line 1579
      tmp___3 = (char const   *)*pp;
    } else {
#line 1579
      tmp___3 = ".";
    }
    {
#line 1579
    sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%s/%s.%s",
            tmp___3, name, "so");
#line 1580
    unmetafy(buf___7, (int *)((void *)0));
    }
#line 1581
    if (buf___7[0]) {
      {
#line 1582
      ret = dlopen((char const   *)(buf___7), 257);
      }
    }
    __Cont: /* CIL Label */ 
#line 1576
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1585
  return (ret);
}
}
#line 1594 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static void *do_load_module(char const   *name , int silent ) 
{ 
  void *ret ;
  char *errstr ;
  char *tmp ;
  char *tmp___0 ;
  char const   *tmp___1 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
  {
#line 1599
  ret = try_load_module(name);
  }
#line 1600
  if (! ret) {
#line 1600
    if (! silent) {
      {
#line 1602
      tmp = dlerror();
#line 1602
      errstr = tmp;
      }
#line 1603
      if (errstr) {
        {
#line 1603
        tmp___0 = metafy(errstr, -1, 6);
#line 1603
        tmp___1 = (char const   *)tmp___0;
        }
      } else {
#line 1603
        tmp___1 = "empty module path";
      }
      {
#line 1603
      zwarn("failed to load module `%s\': %s", name, tmp___1);
      }
    }
  }
#line 1609
  return (ret);
}
}
#line 1643 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static Module find_module(char const   *name , int flags , char const   **namep ) 
{ 
  Module m ;
  HashNode tmp ;
  Module tmp___0 ;
  void *tmp___1 ;
  char *tmp___2 ;

  {
  {
#line 1648
  tmp = (*(modulestab->getnode2))(modulestab, name);
#line 1648
  m = (Module )tmp;
  }
#line 1649
  if (m) {
#line 1650
    if (flags & 1) {
#line 1650
      if (m->node.flags & (1 << 6)) {
#line 1651
        if (namep) {
#line 1652
          *namep = (char const   *)m->u.alias;
        }
        {
#line 1653
        tmp___0 = find_module((char const   *)m->u.alias, flags, namep);
        }
#line 1653
        return (tmp___0);
      }
    }
#line 1655
    if (namep) {
#line 1656
      *namep = (char const   *)m->node.nam;
    }
#line 1657
    return (m);
  }
#line 1659
  if (! (flags & 2)) {
#line 1660
    return ((Module )((void *)0));
  }
  {
#line 1661
  tmp___1 = zshcalloc(sizeof(*m));
#line 1661
  m = (Module )tmp___1;
#line 1662
  tmp___2 = ztrdup(name);
#line 1662
  (*(modulestab->addnode))(modulestab, tmp___2, (void *)m);
  }
#line 1663
  return (m);
}
}
#line 1671 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static void delete_module(Module m ) 
{ 


  {
  {
#line 1674
  (*(modulestab->removenode))(modulestab, (char const   *)m->node.nam);
#line 1676
  (*(modulestab->freenode))(& m->node);
  }
#line 1677
  return;
}
}
#line 1687 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int module_loaded(char const   *name ) 
{ 
  Module m ;
  int tmp ;

  {
  {
#line 1692
  m = find_module(name, 1, (char const   **)((void *)0));
  }
#line 1692
  if (m) {
#line 1692
    if (m->u.handle) {
#line 1692
      if (! (m->node.flags & (1 << 1))) {
#line 1692
        tmp = 1;
      } else {
#line 1692
        tmp = 0;
      }
    } else {
#line 1692
      tmp = 0;
    }
  } else {
#line 1692
    tmp = 0;
  }
#line 1692
  return (tmp);
}
}
#line 1754 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static Module_generic_func module_func(Module m , char *name ) 
{ 
  void *tmp ;

  {
  {
#line 1758
  tmp = dlsym((void */* __restrict  */)m->u.handle, (char const   */* __restrict  */)name);
  }
#line 1758
  return ((int (*)(void))tmp);
}
}
#line 1784 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int dyn_setup_module(Module m ) 
{ 
  int (*fn___0)(Module  ) ;
  Module_generic_func tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 1787
  tmp = module_func(m, (char *)"setup_");
#line 1787
  fn___0 = (int (*)(Module  ))tmp;
  }
#line 1789
  if (fn___0) {
    {
#line 1790
    tmp___0 = (*fn___0)(m);
    }
#line 1790
    return (tmp___0);
  }
  {
#line 1791
  zwarnnam((char const   *)m->node.nam, "no setup function");
  }
#line 1792
  return (1);
}
}
#line 1796 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int dyn_features_module(Module m , char ***features ) 
{ 
  int (*fn___0)(Module  , char *** ) ;
  Module_generic_func tmp ;
  int tmp___0 ;
  char *__cil_tmp6 ;

  {
  {
#line 1799
  tmp = module_func(m, (char *)"features_");
#line 1799
  fn___0 = (int (*)(Module  , char *** ))tmp;
  }
#line 1802
  if (fn___0) {
    {
#line 1803
    tmp___0 = (*fn___0)(m, features);
    }
#line 1803
    return (tmp___0);
  }
#line 1805
  return (1);
}
}
#line 1809 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int dyn_enables_module(Module m , int **enables ) 
{ 
  int (*fn___0)(Module  , int ** ) ;
  Module_generic_func tmp ;
  int tmp___0 ;
  char *__cil_tmp6 ;

  {
  {
#line 1812
  tmp = module_func(m, (char *)"enables_");
#line 1812
  fn___0 = (int (*)(Module  , int ** ))tmp;
  }
#line 1814
  if (fn___0) {
    {
#line 1815
    tmp___0 = (*fn___0)(m, enables);
    }
#line 1815
    return (tmp___0);
  }
#line 1817
  return (1);
}
}
#line 1821 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int dyn_boot_module(Module m ) 
{ 
  int (*fn___0)(Module  ) ;
  Module_generic_func tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 1824
  tmp = module_func(m, (char *)"boot_");
#line 1824
  fn___0 = (int (*)(Module  ))tmp;
  }
#line 1826
  if (fn___0) {
    {
#line 1827
    tmp___0 = (*fn___0)(m);
    }
#line 1827
    return (tmp___0);
  }
  {
#line 1828
  zwarnnam((char const   *)m->node.nam, "no boot function");
  }
#line 1829
  return (1);
}
}
#line 1833 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int dyn_cleanup_module(Module m ) 
{ 
  int (*fn___0)(Module  ) ;
  Module_generic_func tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 1836
  tmp = module_func(m, (char *)"cleanup_");
#line 1836
  fn___0 = (int (*)(Module  ))tmp;
  }
#line 1838
  if (fn___0) {
    {
#line 1839
    tmp___0 = (*fn___0)(m);
    }
#line 1839
    return (tmp___0);
  }
  {
#line 1840
  zwarnnam((char const   *)m->node.nam, "no cleanup function");
  }
#line 1841
  return (1);
}
}
#line 1848 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int dyn_finish_module(Module m ) 
{ 
  int (*fn___0)(Module  ) ;
  Module_generic_func tmp ;
  int r ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
  {
#line 1851
  tmp = module_func(m, (char *)"finish_");
#line 1851
  fn___0 = (int (*)(Module  ))tmp;
  }
#line 1854
  if (fn___0) {
    {
#line 1855
    r = (*fn___0)(m);
    }
  } else {
    {
#line 1857
    zwarnnam((char const   *)m->node.nam, "no finish function");
#line 1858
    r = 1;
    }
  }
  {
#line 1860
  dlclose(m->u.handle);
  }
#line 1861
  return (r);
}
}
#line 1868 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int setup_module(Module m ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1871
  if (m->node.flags & (1 << 3)) {
    {
#line 1871
    tmp = (*((m->u.linked)->setup))(m);
#line 1871
    tmp___1 = tmp;
    }
  } else {
    {
#line 1871
    tmp___0 = dyn_setup_module(m);
#line 1871
    tmp___1 = tmp___0;
    }
  }
#line 1871
  return (tmp___1);
}
}
#line 1876 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int features_module(Module m , char ***features ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1879
  if (m->node.flags & (1 << 3)) {
    {
#line 1879
    tmp = (*((m->u.linked)->features))(m, features);
#line 1879
    tmp___1 = tmp;
    }
  } else {
    {
#line 1879
    tmp___0 = dyn_features_module(m, features);
#line 1879
    tmp___1 = tmp___0;
    }
  }
#line 1879
  return (tmp___1);
}
}
#line 1885 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int enables_module(Module m , int **enables ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1888
  if (m->node.flags & (1 << 3)) {
    {
#line 1888
    tmp = (*((m->u.linked)->enables))(m, enables);
#line 1888
    tmp___1 = tmp;
    }
  } else {
    {
#line 1888
    tmp___0 = dyn_enables_module(m, enables);
#line 1888
    tmp___1 = tmp___0;
    }
  }
#line 1888
  return (tmp___1);
}
}
#line 1894 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int boot_module(Module m ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1897
  if (m->node.flags & (1 << 3)) {
    {
#line 1897
    tmp = (*((m->u.linked)->boot))(m);
#line 1897
    tmp___1 = tmp;
    }
  } else {
    {
#line 1897
    tmp___0 = dyn_boot_module(m);
#line 1897
    tmp___1 = tmp___0;
    }
  }
#line 1897
  return (tmp___1);
}
}
#line 1902 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int cleanup_module(Module m ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1905
  if (m->node.flags & (1 << 3)) {
    {
#line 1905
    tmp = (*((m->u.linked)->cleanup))(m);
#line 1905
    tmp___1 = tmp;
    }
  } else {
    {
#line 1905
    tmp___0 = dyn_cleanup_module(m);
#line 1905
    tmp___1 = tmp___0;
    }
  }
#line 1905
  return (tmp___1);
}
}
#line 1910 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int finish_module(Module m ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 1913
  if (m->node.flags & (1 << 3)) {
    {
#line 1913
    tmp = (*((m->u.linked)->finish))(m);
#line 1913
    tmp___1 = tmp;
    }
  } else {
    {
#line 1913
    tmp___0 = dyn_finish_module(m);
#line 1913
    tmp___1 = tmp___0;
    }
  }
#line 1913
  return (tmp___1);
}
}
#line 1982 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int do_module_features(Module m , Feature_enables enablesarr , int flags ) 
{ 
  char **features ;
  int ret ;
  int *enables ;
  int tmp ;
  LinkNode an ;
  LinkNode nextn ;
  char *al ;
  char **ptr___0 ;
  int tmp___0 ;
  char *arg[2] ;
  Feature_enables fep ;
  char *str ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  Feature_enables fep___0 ;
  char **fp ;
  char *esp ;
  int on ;
  int found ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  char const   *tmp___9 ;
  int n_features ;
  int tmp___10 ;
  int *ep___0 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  void *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;

  {
  {
#line 1986
  ret = 0;
#line 1988
  tmp___13 = features_module(m, & features);
  }
#line 1988
  if (tmp___13 == 0) {
    {
#line 1996
    enables = (int *)((void *)0);
#line 1997
    tmp = enables_module(m, & enables);
    }
#line 1997
    if (tmp) {
#line 1999
      if (! (flags & 1)) {
        {
#line 2000
        zwarn("error getting enabled features for module `%s\'", m->node.nam);
        }
      }
#line 2002
      return (1);
    }
#line 2005
    if (flags & 16) {
#line 2005
      if (m->autoloads) {
#line 2013
        an = (m->autoloads)->list.first;
        {
#line 2013
        while (1) {
          while_continue: /* CIL Label */ ;
#line 2013
          if (! an) {
#line 2013
            goto while_break;
          }
#line 2014
          al = (char *)an->dat;
#line 2016
          nextn = an->next;
#line 2017
          ptr___0 = features;
          {
#line 2017
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 2017
            if (! *ptr___0) {
#line 2017
              goto while_break___0;
            }
            {
#line 2018
            tmp___0 = strcmp((char const   *)al, (char const   *)*ptr___0);
            }
#line 2018
            if (! tmp___0) {
#line 2019
              goto while_break___0;
            }
#line 2017
            ptr___0 ++;
          }
          while_break___0: /* CIL Label */ ;
          }
#line 2020
          if (! *ptr___0) {
#line 2022
            if (! (flags & 1)) {
              {
#line 2023
              zwarn("module `%s\' has no such feature: `%s\': autoload cancelled",
                    m->node.nam, al);
              }
            }
            {
#line 2030
            al = dupstring((char const   *)al);
#line 2030
            arg[0] = al;
#line 2031
            arg[1] = (char *)((void *)0);
#line 2032
            autofeatures((char const   *)((void *)0), (char const   *)m->node.nam,
                         arg, 0, 9);
            }
#line 2038
            if (enablesarr) {
#line 2040
              fep = enablesarr;
              {
#line 2040
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 2040
                if (! fep->str) {
#line 2040
                  goto while_break___1;
                }
#line 2041
                str = fep->str;
#line 2042
                if ((int )*str == 43) {
#line 2043
                  str ++;
                } else
#line 2042
                if ((int )*str == 45) {
#line 2043
                  str ++;
                }
#line 2044
                if (fep->pat) {
                  {
#line 2044
                  tmp___1 = pattry(fep->pat, al);
#line 2044
                  tmp___4 = tmp___1;
                  }
                } else {
                  {
#line 2044
                  tmp___2 = strcmp((char const   *)al, (char const   *)str);
                  }
#line 2044
                  if (tmp___2) {
#line 2044
                    tmp___3 = 0;
                  } else {
#line 2044
                    tmp___3 = 1;
                  }
#line 2044
                  tmp___4 = tmp___3;
                }
#line 2044
                if (tmp___4) {
#line 2047
                  ret = 1;
                  {
#line 2048
                  while (1) {
                    while_continue___2: /* CIL Label */ ;
#line 2048
                    if (! fep->str) {
#line 2048
                      goto while_break___2;
                    }
#line 2049
                    fep->str = (fep + 1)->str;
#line 2050
                    fep->pat = (fep + 1)->pat;
#line 2051
                    fep ++;
                  }
                  while_break___2: /* CIL Label */ ;
                  }
#line 2053
                  if (! fep->pat) {
#line 2054
                    goto while_break___1;
                  }
                }
#line 2040
                fep ++;
              }
              while_break___1: /* CIL Label */ ;
              }
            }
          }
#line 2013
          an = nextn;
        }
        while_break: /* CIL Label */ ;
        }
      }
    }
#line 2062
    if (enablesarr) {
#line 2064
      fep___0 = enablesarr;
      {
#line 2064
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 2064
        if (! fep___0->str) {
#line 2064
          goto while_break___3;
        }
#line 2065
        esp = fep___0->str;
#line 2066
        on = 1;
#line 2066
        found = 0;
#line 2067
        if ((int )*esp == 43) {
#line 2068
          esp ++;
        } else
#line 2069
        if ((int )*esp == 45) {
#line 2070
          on = 0;
#line 2071
          esp ++;
        }
#line 2073
        fp = features;
        {
#line 2073
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 2073
          if (! *fp) {
#line 2073
            goto while_break___4;
          }
#line 2074
          if (fep___0->pat) {
            {
#line 2074
            tmp___5 = pattry(fep___0->pat, *fp);
#line 2074
            tmp___8 = tmp___5;
            }
          } else {
            {
#line 2074
            tmp___6 = strcmp((char const   *)*fp, (char const   *)esp);
            }
#line 2074
            if (tmp___6) {
#line 2074
              tmp___7 = 0;
            } else {
#line 2074
              tmp___7 = 1;
            }
#line 2074
            tmp___8 = tmp___7;
          }
#line 2074
          if (tmp___8) {
#line 2075
            *(enables + (fp - features)) = on;
#line 2076
            found ++;
#line 2077
            if (! fep___0->pat) {
#line 2078
              goto while_break___4;
            }
          }
#line 2073
          fp ++;
        }
        while_break___4: /* CIL Label */ ;
        }
#line 2080
        if (! found) {
#line 2081
          if (! (flags & 1)) {
#line 2082
            if (fep___0->pat) {
#line 2082
              tmp___9 = "module `%s\' has no feature matching: `%s\'";
            } else {
#line 2082
              tmp___9 = "module `%s\' has no such feature: `%s\'";
            }
            {
#line 2082
            zwarn(tmp___9, m->node.nam, esp);
            }
          }
#line 2086
          return (1);
        }
#line 2064
        fep___0 ++;
      }
      while_break___3: /* CIL Label */ ;
      }
    } else {
      {
#line 2094
      tmp___10 = arrlen(features);
#line 2094
      n_features = tmp___10;
#line 2096
      ep___0 = enables;
      }
      {
#line 2096
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 2096
        tmp___11 = n_features;
#line 2096
        n_features --;
#line 2096
        if (! tmp___11) {
#line 2096
          goto while_break___5;
        }
#line 2097
        *ep___0 = 1;
#line 2096
        ep___0 ++;
      }
      while_break___5: /* CIL Label */ ;
      }
    }
    {
#line 2100
    tmp___12 = enables_module(m, & enables);
    }
#line 2100
    if (tmp___12) {
#line 2101
      return (2);
    }
  } else
#line 2102
  if (enablesarr) {
#line 2103
    if (! (flags & 1)) {
      {
#line 2104
      zwarn("module `%s\' does not support features", m->node.nam);
      }
    }
#line 2105
    return (1);
  }
#line 2109
  return (ret);
}
}
#line 2123 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int do_boot_module(Module m , Feature_enables enablesarr , int silent ) 
{ 
  int ret ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 2126
  if (silent) {
#line 2126
    tmp = 17;
  } else {
#line 2126
    tmp = 16;
  }
  {
#line 2126
  tmp___0 = do_module_features(m, enablesarr, tmp);
#line 2126
  ret = tmp___0;
  }
#line 2130
  if (ret == 1) {
#line 2131
    return (1);
  }
  {
#line 2133
  tmp___1 = boot_module(m);
  }
#line 2133
  if (tmp___1) {
#line 2134
    return (1);
  }
#line 2135
  return (ret);
}
}
#line 2143 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int do_cleanup_module(Module m ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
#line 2146
  if (m->node.flags & (1 << 3)) {
#line 2146
    if (m->u.linked) {
      {
#line 2146
      tmp = (*((m->u.linked)->cleanup))(m);
      }
#line 2146
      if (tmp) {
#line 2146
        tmp___0 = 1;
      } else {
#line 2146
        tmp___0 = 0;
      }
    } else {
#line 2146
      tmp___0 = 0;
    }
#line 2146
    tmp___3 = tmp___0;
  } else {
#line 2146
    if (m->u.handle) {
      {
#line 2146
      tmp___1 = cleanup_module(m);
      }
#line 2146
      if (tmp___1) {
#line 2146
        tmp___2 = 1;
      } else {
#line 2146
        tmp___2 = 0;
      }
    } else {
#line 2146
      tmp___2 = 0;
    }
#line 2146
    tmp___3 = tmp___2;
  }
#line 2146
  return (tmp___3);
}
}
#line 2157 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int modname_ok(char const   *p ) 
{ 
  char *tmp ;
  char const   *tmp___0 ;

  {
  {
#line 2160
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2161
    tmp = itype_end(p, 1 << 7, 0);
#line 2161
    p = (char const   *)tmp;
    }
#line 2162
    if (! *p) {
#line 2163
      return (1);
    }
#line 2160
    tmp___0 = p;
#line 2160
    p ++;
#line 2160
    if (! ((int const   )*tmp___0 == 47)) {
#line 2160
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2165
  return (0);
}
}
#line 2185 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int load_module(char const   *name , Feature_enables enablesarr , int silent ) 
{ 
  Module m ;
  void *handle ;
  Linkedmod linked ;
  int set ;
  int bootret ;
  int tmp ;
  sigset_t oset ;
  void *tmp___0 ;
  char *tmp___1 ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  sigset_t oset___2 ;
  sigset_t oset___3 ;
  Linkedmod tmp___2 ;
  sigset_t oset___4 ;
  LinkNode n ;
  sigset_t oset___5 ;
  int tmp___3 ;
  sigset_t oset___6 ;
  sigset_t oset___7 ;
  int tmp___4 ;
  sigset_t oset___8 ;
  sigset_t oset___9 ;
  void *__cil_tmp27 ;
  void *__cil_tmp28 ;
  void *__cil_tmp29 ;
  void *__cil_tmp30 ;
  void *__cil_tmp31 ;
  void *__cil_tmp32 ;
  void *__cil_tmp33 ;
  void *__cil_tmp34 ;
  void *__cil_tmp35 ;
  void *__cil_tmp36 ;
  void *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;

  {
  {
#line 2189
  handle = (void *)0;
#line 2193
  tmp = modname_ok(name);
  }
#line 2193
  if (! tmp) {
#line 2194
    if (! silent) {
      {
#line 2195
      zerr("invalid module name `%s\'", name);
      }
    }
#line 2196
    return (1);
  }
  {
#line 2203
  queueing_enabled ++;
#line 2204
  m = find_module(name, 1, & name);
  }
#line 2204
  if (! m) {
    {
#line 2205
    linked = module_linked(name);
    }
#line 2205
    if (! linked) {
      {
#line 2205
      handle = do_load_module(name, silent);
      }
#line 2205
      if (! handle) {
        {
#line 2207
        while (1) {
          while_continue: /* CIL Label */ ;
#line 2207
          queueing_enabled --;
#line 2207
          if (! queueing_enabled) {
            {
#line 2207
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 2207
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 2207
                if (! (queue_front != queue_rear)) {
#line 2207
                  goto while_break___1;
                }
                {
#line 2207
                queue_front = (queue_front + 1) % 128;
#line 2207
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2207
                zhandler(signal_queue[queue_front]);
#line 2207
                signal_setmask(oset);
                }
              }
              while_break___1: /* CIL Label */ ;
              }
#line 2207
              goto while_break___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
#line 2207
          goto while_break;
        }
        while_break: /* CIL Label */ ;
        }
#line 2208
        return (1);
      }
    }
    {
#line 2210
    tmp___0 = zshcalloc(sizeof(*m));
#line 2210
    m = (Module )tmp___0;
    }
#line 2211
    if (handle) {
#line 2212
      m->u.handle = handle;
#line 2213
      m->node.flags |= 1 << 2;
    } else {
#line 2215
      m->u.linked = linked;
#line 2216
      m->node.flags |= (1 << 2) | (1 << 3);
    }
    {
#line 2218
    tmp___1 = ztrdup(name);
#line 2218
    (*(modulestab->addnode))(modulestab, tmp___1, (void *)m);
#line 2220
    set = setup_module(m);
    }
#line 2220
    if (set) {
#line 2220
      goto _L;
    } else {
      {
#line 2220
      bootret = do_boot_module(m, enablesarr, silent);
      }
#line 2220
      if (bootret == 1) {
        _L: /* CIL Label */ 
#line 2222
        if (! set) {
          {
#line 2223
          do_cleanup_module(m);
          }
        }
        {
#line 2224
        finish_module(m);
#line 2225
        delete_module(m);
        }
        {
#line 2226
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 2226
          queueing_enabled --;
#line 2226
          if (! queueing_enabled) {
            {
#line 2226
            while (1) {
              while_continue___3: /* CIL Label */ ;
              {
#line 2226
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 2226
                if (! (queue_front != queue_rear)) {
#line 2226
                  goto while_break___4;
                }
                {
#line 2226
                queue_front = (queue_front + 1) % 128;
#line 2226
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 2226
                zhandler(signal_queue[queue_front]);
#line 2226
                signal_setmask(oset___0);
                }
              }
              while_break___4: /* CIL Label */ ;
              }
#line 2226
              goto while_break___3;
            }
            while_break___3: /* CIL Label */ ;
            }
          }
#line 2226
          goto while_break___2;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 2227
        return (1);
      }
    }
#line 2229
    m->node.flags |= (1 << 4) | (1 << 5);
#line 2230
    m->node.flags &= ~ (1 << 2);
    {
#line 2231
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 2231
      queueing_enabled --;
#line 2231
      if (! queueing_enabled) {
        {
#line 2231
        while (1) {
          while_continue___6: /* CIL Label */ ;
          {
#line 2231
          while (1) {
            while_continue___7: /* CIL Label */ ;
#line 2231
            if (! (queue_front != queue_rear)) {
#line 2231
              goto while_break___7;
            }
            {
#line 2231
            queue_front = (queue_front + 1) % 128;
#line 2231
            oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 2231
            zhandler(signal_queue[queue_front]);
#line 2231
            signal_setmask(oset___1);
            }
          }
          while_break___7: /* CIL Label */ ;
          }
#line 2231
          goto while_break___6;
        }
        while_break___6: /* CIL Label */ ;
        }
      }
#line 2231
      goto while_break___5;
    }
    while_break___5: /* CIL Label */ ;
    }
#line 2232
    return (bootret);
  }
#line 2234
  if (m->node.flags & (1 << 2)) {
    {
#line 2235
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 2235
      queueing_enabled --;
#line 2235
      if (! queueing_enabled) {
        {
#line 2235
        while (1) {
          while_continue___9: /* CIL Label */ ;
          {
#line 2235
          while (1) {
            while_continue___10: /* CIL Label */ ;
#line 2235
            if (! (queue_front != queue_rear)) {
#line 2235
              goto while_break___10;
            }
            {
#line 2235
            queue_front = (queue_front + 1) % 128;
#line 2235
            oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 2235
            zhandler(signal_queue[queue_front]);
#line 2235
            signal_setmask(oset___2);
            }
          }
          while_break___10: /* CIL Label */ ;
          }
#line 2235
          goto while_break___9;
        }
        while_break___9: /* CIL Label */ ;
        }
      }
#line 2235
      goto while_break___8;
    }
    while_break___8: /* CIL Label */ ;
    }
#line 2236
    return (0);
  }
#line 2238
  if (m->node.flags & (1 << 1)) {
#line 2239
    m->node.flags &= ~ (1 << 1);
  } else {
#line 2240
    if (m->node.flags & (1 << 3)) {
#line 2240
      tmp___2 = m->u.linked;
    } else {
#line 2240
      tmp___2 = (Linkedmod )m->u.handle;
    }
#line 2240
    if (tmp___2) {
      {
#line 2241
      while (1) {
        while_continue___11: /* CIL Label */ ;
#line 2241
        queueing_enabled --;
#line 2241
        if (! queueing_enabled) {
          {
#line 2241
          while (1) {
            while_continue___12: /* CIL Label */ ;
            {
#line 2241
            while (1) {
              while_continue___13: /* CIL Label */ ;
#line 2241
              if (! (queue_front != queue_rear)) {
#line 2241
                goto while_break___13;
              }
              {
#line 2241
              queue_front = (queue_front + 1) % 128;
#line 2241
              oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 2241
              zhandler(signal_queue[queue_front]);
#line 2241
              signal_setmask(oset___3);
              }
            }
            while_break___13: /* CIL Label */ ;
            }
#line 2241
            goto while_break___12;
          }
          while_break___12: /* CIL Label */ ;
          }
        }
#line 2241
        goto while_break___11;
      }
      while_break___11: /* CIL Label */ ;
      }
#line 2242
      return (0);
    }
  }
#line 2244
  if (m->node.flags & 1) {
    {
#line 2245
    while (1) {
      while_continue___14: /* CIL Label */ ;
#line 2245
      queueing_enabled --;
#line 2245
      if (! queueing_enabled) {
        {
#line 2245
        while (1) {
          while_continue___15: /* CIL Label */ ;
          {
#line 2245
          while (1) {
            while_continue___16: /* CIL Label */ ;
#line 2245
            if (! (queue_front != queue_rear)) {
#line 2245
              goto while_break___16;
            }
            {
#line 2245
            queue_front = (queue_front + 1) % 128;
#line 2245
            oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 2245
            zhandler(signal_queue[queue_front]);
#line 2245
            signal_setmask(oset___4);
            }
          }
          while_break___16: /* CIL Label */ ;
          }
#line 2245
          goto while_break___15;
        }
        while_break___15: /* CIL Label */ ;
        }
      }
#line 2245
      goto while_break___14;
    }
    while_break___14: /* CIL Label */ ;
    }
    {
#line 2246
    zerr("circular dependencies for module ;%s", name);
    }
#line 2247
    return (1);
  }
#line 2249
  m->node.flags |= 1;
#line 2254
  if (m->deps) {
#line 2256
    n = (m->deps)->list.first;
    {
#line 2256
    while (1) {
      while_continue___17: /* CIL Label */ ;
#line 2256
      if (! n) {
#line 2256
        goto while_break___17;
      }
      {
#line 2257
      tmp___3 = load_module((char const   *)((char *)n->dat), (Feature_enables )((void *)0),
                            silent);
      }
#line 2257
      if (tmp___3 == 1) {
#line 2258
        m->node.flags &= -2;
        {
#line 2259
        while (1) {
          while_continue___18: /* CIL Label */ ;
#line 2259
          queueing_enabled --;
#line 2259
          if (! queueing_enabled) {
            {
#line 2259
            while (1) {
              while_continue___19: /* CIL Label */ ;
              {
#line 2259
              while (1) {
                while_continue___20: /* CIL Label */ ;
#line 2259
                if (! (queue_front != queue_rear)) {
#line 2259
                  goto while_break___20;
                }
                {
#line 2259
                queue_front = (queue_front + 1) % 128;
#line 2259
                oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 2259
                zhandler(signal_queue[queue_front]);
#line 2259
                signal_setmask(oset___5);
                }
              }
              while_break___20: /* CIL Label */ ;
              }
#line 2259
              goto while_break___19;
            }
            while_break___19: /* CIL Label */ ;
            }
          }
#line 2259
          goto while_break___18;
        }
        while_break___18: /* CIL Label */ ;
        }
#line 2260
        return (1);
      }
#line 2256
      n = n->next;
    }
    while_break___17: /* CIL Label */ ;
    }
  }
#line 2263
  m->node.flags &= -2;
#line 2264
  if (! m->u.handle) {
    {
#line 2265
    handle = (void *)0;
#line 2266
    linked = module_linked(name);
    }
#line 2266
    if (! linked) {
      {
#line 2266
      handle = do_load_module(name, silent);
      }
#line 2266
      if (! handle) {
        {
#line 2268
        while (1) {
          while_continue___21: /* CIL Label */ ;
#line 2268
          queueing_enabled --;
#line 2268
          if (! queueing_enabled) {
            {
#line 2268
            while (1) {
              while_continue___22: /* CIL Label */ ;
              {
#line 2268
              while (1) {
                while_continue___23: /* CIL Label */ ;
#line 2268
                if (! (queue_front != queue_rear)) {
#line 2268
                  goto while_break___23;
                }
                {
#line 2268
                queue_front = (queue_front + 1) % 128;
#line 2268
                oset___6 = signal_setmask(signal_mask_queue[queue_front]);
#line 2268
                zhandler(signal_queue[queue_front]);
#line 2268
                signal_setmask(oset___6);
                }
              }
              while_break___23: /* CIL Label */ ;
              }
#line 2268
              goto while_break___22;
            }
            while_break___22: /* CIL Label */ ;
            }
          }
#line 2268
          goto while_break___21;
        }
        while_break___21: /* CIL Label */ ;
        }
#line 2269
        return (1);
      }
    }
#line 2271
    if (handle) {
#line 2272
      m->u.handle = handle;
#line 2273
      m->node.flags |= 1 << 2;
    } else {
#line 2275
      m->u.linked = linked;
#line 2276
      m->node.flags |= (1 << 2) | (1 << 3);
    }
    {
#line 2278
    tmp___4 = setup_module(m);
    }
#line 2278
    if (tmp___4) {
      {
#line 2279
      finish_module(m);
      }
#line 2280
      if (handle) {
#line 2281
        m->u.handle = (void *)0;
      } else {
#line 2283
        m->u.linked = (Linkedmod )((void *)0);
      }
#line 2284
      m->node.flags &= ~ (1 << 2);
      {
#line 2285
      while (1) {
        while_continue___24: /* CIL Label */ ;
#line 2285
        queueing_enabled --;
#line 2285
        if (! queueing_enabled) {
          {
#line 2285
          while (1) {
            while_continue___25: /* CIL Label */ ;
            {
#line 2285
            while (1) {
              while_continue___26: /* CIL Label */ ;
#line 2285
              if (! (queue_front != queue_rear)) {
#line 2285
                goto while_break___26;
              }
              {
#line 2285
              queue_front = (queue_front + 1) % 128;
#line 2285
              oset___7 = signal_setmask(signal_mask_queue[queue_front]);
#line 2285
              zhandler(signal_queue[queue_front]);
#line 2285
              signal_setmask(oset___7);
              }
            }
            while_break___26: /* CIL Label */ ;
            }
#line 2285
            goto while_break___25;
          }
          while_break___25: /* CIL Label */ ;
          }
        }
#line 2285
        goto while_break___24;
      }
      while_break___24: /* CIL Label */ ;
      }
#line 2286
      return (1);
    }
#line 2288
    m->node.flags |= 1 << 4;
  }
  {
#line 2290
  m->node.flags |= 1 << 2;
#line 2291
  bootret = do_boot_module(m, enablesarr, silent);
  }
#line 2291
  if (bootret == 1) {
    {
#line 2292
    do_cleanup_module(m);
#line 2293
    finish_module(m);
    }
#line 2294
    if (m->node.flags & (1 << 3)) {
#line 2295
      m->u.linked = (Linkedmod )((void *)0);
    } else {
#line 2297
      m->u.handle = (void *)0;
    }
#line 2298
    m->node.flags &= ~ (1 << 2);
    {
#line 2299
    while (1) {
      while_continue___27: /* CIL Label */ ;
#line 2299
      queueing_enabled --;
#line 2299
      if (! queueing_enabled) {
        {
#line 2299
        while (1) {
          while_continue___28: /* CIL Label */ ;
          {
#line 2299
          while (1) {
            while_continue___29: /* CIL Label */ ;
#line 2299
            if (! (queue_front != queue_rear)) {
#line 2299
              goto while_break___29;
            }
            {
#line 2299
            queue_front = (queue_front + 1) % 128;
#line 2299
            oset___8 = signal_setmask(signal_mask_queue[queue_front]);
#line 2299
            zhandler(signal_queue[queue_front]);
#line 2299
            signal_setmask(oset___8);
            }
          }
          while_break___29: /* CIL Label */ ;
          }
#line 2299
          goto while_break___28;
        }
        while_break___28: /* CIL Label */ ;
        }
      }
#line 2299
      goto while_break___27;
    }
    while_break___27: /* CIL Label */ ;
    }
#line 2300
    return (1);
  }
#line 2302
  m->node.flags |= 1 << 5;
#line 2303
  m->node.flags &= ~ (1 << 2);
  {
#line 2304
  while (1) {
    while_continue___30: /* CIL Label */ ;
#line 2304
    queueing_enabled --;
#line 2304
    if (! queueing_enabled) {
      {
#line 2304
      while (1) {
        while_continue___31: /* CIL Label */ ;
        {
#line 2304
        while (1) {
          while_continue___32: /* CIL Label */ ;
#line 2304
          if (! (queue_front != queue_rear)) {
#line 2304
            goto while_break___32;
          }
          {
#line 2304
          queue_front = (queue_front + 1) % 128;
#line 2304
          oset___9 = signal_setmask(signal_mask_queue[queue_front]);
#line 2304
          zhandler(signal_queue[queue_front]);
#line 2304
          signal_setmask(oset___9);
          }
        }
        while_break___32: /* CIL Label */ ;
        }
#line 2304
        goto while_break___31;
      }
      while_break___31: /* CIL Label */ ;
      }
    }
#line 2304
    goto while_break___30;
  }
  while_break___30: /* CIL Label */ ;
  }
#line 2305
  return (bootret);
}
}
#line 2328 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int require_module(char const   *module , Feature_enables features ) 
{ 
  Module m ;
  int ret ;
  sigset_t oset ;
  void *__cil_tmp6 ;

  {
  {
#line 2331
  m = (Module )((void *)0);
#line 2332
  ret = 0;
#line 2335
  queueing_enabled ++;
#line 2336
  m = find_module(module, 1, & module);
  }
#line 2337
  if (! m) {
    {
#line 2339
    ret = load_module(module, features, 0);
    }
  } else
#line 2337
  if (! m->u.handle) {
    {
#line 2339
    ret = load_module(module, features, 0);
    }
  } else
#line 2337
  if (m->node.flags & (1 << 1)) {
    {
#line 2339
    ret = load_module(module, features, 0);
    }
  } else {
    {
#line 2341
    ret = do_module_features(m, features, 0);
    }
  }
  {
#line 2342
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2342
    queueing_enabled --;
#line 2342
    if (! queueing_enabled) {
      {
#line 2342
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2342
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 2342
          if (! (queue_front != queue_rear)) {
#line 2342
            goto while_break___1;
          }
          {
#line 2342
          queue_front = (queue_front + 1) % 128;
#line 2342
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2342
          zhandler(signal_queue[queue_front]);
#line 2342
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 2342
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 2342
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 2344
  return (ret);
}
}
#line 2353 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
void add_dep(char const   *name , char *from ) 
{ 
  LinkNode node ;
  Module m ;
  int tmp ;
  char *tmp___0 ;

  {
  {
#line 2371
  m = find_module(name, 3, & name);
  }
#line 2372
  if (! m->deps) {
    {
#line 2373
    m->deps = znewlinklist();
    }
  }
#line 2374
  node = (m->deps)->list.first;
  {
#line 2374
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2374
    if (node) {
      {
#line 2374
      tmp = strcmp((char const   *)((char *)node->dat), (char const   *)from);
      }
#line 2374
      if (! tmp) {
#line 2374
        goto while_break;
      }
    } else {
#line 2374
      goto while_break;
    }
#line 2374
    node = node->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 2377
  if (! node) {
    {
#line 2378
    tmp___0 = ztrdup((char const   *)from);
#line 2378
    zinsertlinknode(m->deps, (m->deps)->list.last, (void *)tmp___0);
    }
  }
#line 2379
  return;
}
}
#line 2387 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static void autoloadscan(HashNode hn , int printflags ) 
{ 
  Builtin bn ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 2390
  bn = (Builtin )hn;
#line 2392
  if (bn->node.flags & (1 << 3)) {
#line 2393
    return;
  }
#line 2394
  if (printflags & (1 << 2)) {
    {
#line 2395
    fputs((char const   */* __restrict  */)"zmodload -ab ", (FILE */* __restrict  */)stdout);
    }
#line 2396
    if ((int )*(bn->optstr + 0) == 45) {
      {
#line 2397
      fputs((char const   */* __restrict  */)"-- ", (FILE */* __restrict  */)stdout);
      }
    }
    {
#line 2398
    quotedzputs((char const   *)bn->optstr, stdout);
#line 2399
    tmp = strcmp((char const   *)bn->node.nam, (char const   *)bn->optstr);
    }
#line 2399
    if (tmp) {
      {
#line 2400
      putchar(' ');
#line 2401
      quotedzputs((char const   *)bn->node.nam, stdout);
      }
    }
  } else {
    {
#line 2404
    mb_niceformat((char const   *)bn->node.nam, stdout, (char **)((void *)0), 0);
#line 2405
    tmp___0 = strcmp((char const   *)bn->node.nam, (char const   *)bn->optstr);
    }
#line 2405
    if (tmp___0) {
      {
#line 2406
      fputs((char const   */* __restrict  */)" (", (FILE */* __restrict  */)stdout);
#line 2407
      mb_niceformat((char const   *)bn->optstr, stdout, (char **)((void *)0), 0);
#line 2408
      putchar(')');
      }
    }
  }
  {
#line 2411
  putchar('\n');
  }
#line 2412
  return;
}
}
#line 2424 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int bin_zmodload(char *nam , char **args , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  int ops_bcpf ;
  int tmp ;
  int ops_au ;
  int tmp___0 ;
  int ret ;
  int autoopts ;
  char *fonly ;
  char *fp ;
  int tmp___1 ;
  sigset_t oset ;
  void *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;

  {
#line 2427
  if ((int )ops->ind[98] != 0) {
#line 2427
    tmp = 1;
  } else
#line 2427
  if ((int )ops->ind[99] != 0) {
#line 2427
    tmp = 1;
  } else
#line 2427
  if ((int )ops->ind[112] != 0) {
#line 2427
    tmp = 1;
  } else
#line 2427
  if ((int )ops->ind[102] != 0) {
#line 2427
    tmp = 1;
  } else {
#line 2427
    tmp = 0;
  }
#line 2427
  ops_bcpf = tmp;
#line 2429
  if ((int )ops->ind[97] != 0) {
#line 2429
    tmp___0 = 1;
  } else
#line 2429
  if ((int )ops->ind[117] != 0) {
#line 2429
    tmp___0 = 1;
  } else {
#line 2429
    tmp___0 = 0;
  }
#line 2429
  ops_au = tmp___0;
#line 2430
  ret = 1;
#line 2432
  fonly = (char *)"lP";
#line 2434
  if (ops_bcpf) {
#line 2434
    if (! ops_au) {
      {
#line 2435
      zwarnnam((char const   *)nam, "-b, -c, -f, and -p must be combined with -a or -u");
      }
#line 2436
      return (1);
    }
  }
#line 2438
  if ((int )ops->ind[70] != 0) {
#line 2438
    if (ops_bcpf) {
      {
#line 2439
      zwarnnam((char const   *)nam, "-b, -c, -f, -p and -u cannot be combined with -F");
      }
#line 2440
      return (1);
    } else
#line 2438
    if ((int )ops->ind[117] != 0) {
      {
#line 2439
      zwarnnam((char const   *)nam, "-b, -c, -f, -p and -u cannot be combined with -F");
      }
#line 2440
      return (1);
    }
  }
#line 2442
  if ((int )ops->ind[65] != 0) {
#line 2442
    goto _L;
  } else
#line 2442
  if ((int )ops->ind[82] != 0) {
    _L: /* CIL Label */ 
#line 2443
    if (ops_bcpf) {
      {
#line 2445
      zwarnnam((char const   *)nam, "illegal flags combined with -A or -R");
      }
#line 2446
      return (1);
    } else
#line 2443
    if (ops_au) {
      {
#line 2445
      zwarnnam((char const   *)nam, "illegal flags combined with -A or -R");
      }
#line 2446
      return (1);
    } else
#line 2443
    if ((int )ops->ind[100] != 0) {
      {
#line 2445
      zwarnnam((char const   *)nam, "illegal flags combined with -A or -R");
      }
#line 2446
      return (1);
    } else
#line 2443
    if ((int )ops->ind[82] != 0) {
#line 2443
      if ((int )ops->ind[101] != 0) {
        {
#line 2445
        zwarnnam((char const   *)nam, "illegal flags combined with -A or -R");
        }
#line 2446
        return (1);
      }
    }
#line 2448
    if (! ((int )ops->ind[101] != 0)) {
      {
#line 2449
      tmp___1 = bin_zmodload_alias(nam, args, ops);
      }
#line 2449
      return (tmp___1);
    }
  }
#line 2451
  if ((int )ops->ind[100] != 0) {
#line 2451
    if ((int )ops->ind[97] != 0) {
      {
#line 2452
      zwarnnam((char const   *)nam, "-d cannot be combined with -a");
      }
#line 2453
      return (1);
    }
  }
#line 2455
  if ((int )ops->ind[117] != 0) {
#line 2455
    if (! *args) {
      {
#line 2456
      zwarnnam((char const   *)nam, "what do you want to unload?");
      }
#line 2457
      return (1);
    }
  }
#line 2459
  if ((int )ops->ind[101] != 0) {
#line 2459
    if ((int )ops->ind[73] != 0) {
      {
#line 2463
      zwarnnam((char const   *)nam, "-e cannot be combined with other options");
      }
#line 2465
      return (1);
    } else
#line 2459
    if ((int )ops->ind[76] != 0) {
      {
#line 2463
      zwarnnam((char const   *)nam, "-e cannot be combined with other options");
      }
#line 2465
      return (1);
    } else
#line 2459
    if ((int )ops->ind[97] != 0) {
#line 2459
      if (! ((int )ops->ind[70] != 0)) {
        {
#line 2463
        zwarnnam((char const   *)nam, "-e cannot be combined with other options");
        }
#line 2465
        return (1);
      } else {
#line 2459
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 2459
    if ((int )ops->ind[100] != 0) {
      {
#line 2463
      zwarnnam((char const   *)nam, "-e cannot be combined with other options");
      }
#line 2465
      return (1);
    } else
#line 2459
    if ((int )ops->ind[105] != 0) {
      {
#line 2463
      zwarnnam((char const   *)nam, "-e cannot be combined with other options");
      }
#line 2465
      return (1);
    } else
#line 2459
    if ((int )ops->ind[117] != 0) {
      {
#line 2463
      zwarnnam((char const   *)nam, "-e cannot be combined with other options");
      }
#line 2465
      return (1);
    }
  }
#line 2467
  fp = fonly;
  {
#line 2467
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2467
    if (! *fp) {
#line 2467
      goto while_break;
    }
#line 2468
    if ((int )ops->ind[(unsigned char )*fp] != 0) {
#line 2468
      if (! ((int )ops->ind[70] != 0)) {
        {
#line 2469
        zwarnnam((char const   *)nam, "-%c is only allowed with -F", (int )*fp);
        }
#line 2470
        return (1);
      }
    }
#line 2467
    fp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2473
  queueing_enabled ++;
#line 2474
  if ((int )ops->ind[70] != 0) {
    {
#line 2475
    ret = bin_zmodload_features((char const   *)nam, args, ops);
    }
  } else
#line 2476
  if ((int )ops->ind[101] != 0) {
    {
#line 2477
    ret = bin_zmodload_exist(nam, args, ops);
    }
  } else
#line 2478
  if ((int )ops->ind[100] != 0) {
    {
#line 2479
    ret = bin_zmodload_dep(nam, args, ops);
    }
  } else {
#line 2480
    autoopts = ((((int )ops->ind[98] != 0) + ((int )ops->ind[99] != 0)) + ((int )ops->ind[112] != 0)) + ((int )ops->ind[102] != 0);
#line 2480
    if (autoopts) {
#line 2480
      goto _L___1;
    } else
#line 2480
    if ((int )ops->ind[97] != 0) {
      _L___1: /* CIL Label */ 
#line 2484
      if (autoopts > 1) {
        {
#line 2485
        zwarnnam((char const   *)nam, "use only one of -b, -c, or -p");
#line 2486
        ret = 1;
        }
      } else {
        {
#line 2488
        ret = bin_zmodload_auto(nam, args, ops);
        }
      }
    } else {
      {
#line 2490
      ret = bin_zmodload_load(nam, args, ops);
      }
    }
  }
  {
#line 2491
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2491
    queueing_enabled --;
#line 2491
    if (! queueing_enabled) {
      {
#line 2491
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 2491
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 2491
          if (! (queue_front != queue_rear)) {
#line 2491
            goto while_break___2;
          }
          {
#line 2491
          queue_front = (queue_front + 1) % 128;
#line 2491
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2491
          zhandler(signal_queue[queue_front]);
#line 2491
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 2491
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 2491
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2493
  return (ret);
}
}
#line 2499 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int bin_zmodload_alias(char *nam , char **args , Options ops ) 
{ 
  Module m ;
  int tmp ;
  char *eqpos ;
  char *tmp___0 ;
  char *aliasname ;
  char *tmp___1 ;
  int tmp___2 ;
  char const   *mname ;
  int tmp___3 ;
  int tmp___4 ;
  void *tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;

  {
#line 2517
  if (! *args) {
#line 2518
    if ((int )ops->ind[82] != 0) {
      {
#line 2519
      zwarnnam((char const   *)nam, "no module alias to remove");
      }
#line 2520
      return (1);
    }
#line 2522
    if ((int )ops->ind[76] != 0) {
#line 2522
      tmp = 1;
    } else {
#line 2522
      tmp = 0;
    }
    {
#line 2522
    scanhashtable(modulestab, 1, 1 << 6, 0, modulestab->printnode, tmp);
    }
#line 2525
    return (0);
  }
  {
#line 2528
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2528
    if (! *args) {
#line 2528
      goto while_break;
    }
    {
#line 2529
    tmp___0 = strchr((char const   *)*args, '=');
#line 2529
    eqpos = tmp___0;
    }
#line 2530
    if (eqpos) {
#line 2530
      tmp___1 = eqpos + 1;
    } else {
#line 2530
      tmp___1 = (char *)((void *)0);
    }
#line 2530
    aliasname = tmp___1;
#line 2531
    if (eqpos) {
#line 2532
      *eqpos = (char )'\000';
    }
    {
#line 2533
    tmp___2 = modname_ok((char const   *)*args);
    }
#line 2533
    if (! tmp___2) {
      {
#line 2534
      zwarnnam((char const   *)nam, "invalid module name `%s\'", *args);
      }
#line 2535
      return (1);
    }
#line 2537
    if ((int )ops->ind[82] != 0) {
#line 2538
      if (aliasname) {
        {
#line 2539
        zwarnnam((char const   *)nam, "bad syntax for removing module alias: %s",
                 *args);
        }
#line 2541
        return (1);
      }
      {
#line 2543
      m = find_module((char const   *)*args, 0, (char const   **)((void *)0));
      }
#line 2544
      if (m) {
#line 2545
        if (! (m->node.flags & (1 << 6))) {
          {
#line 2546
          zwarnnam((char const   *)nam, "module is not an alias: %s", *args);
          }
#line 2547
          return (1);
        }
        {
#line 2549
        delete_module(m);
        }
      } else {
        {
#line 2551
        zwarnnam((char const   *)nam, "no such module alias: %s", *args);
        }
#line 2552
        return (1);
      }
    } else
#line 2555
    if (aliasname) {
      {
#line 2556
      mname = (char const   *)aliasname;
#line 2557
      tmp___3 = modname_ok((char const   *)aliasname);
      }
#line 2557
      if (! tmp___3) {
        {
#line 2558
        zwarnnam((char const   *)nam, "invalid module name `%s\'", aliasname);
        }
#line 2559
        return (1);
      }
      {
#line 2561
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2562
        tmp___4 = strcmp(mname, (char const   *)*args);
        }
#line 2562
        if (! tmp___4) {
          {
#line 2563
          zwarnnam((char const   *)nam, "module alias would refer to itself: %s",
                   *args);
          }
#line 2565
          return (1);
        }
        {
#line 2561
        m = find_module(mname, 0, (char const   **)((void *)0));
        }
#line 2561
        if (m) {
#line 2561
          if (m->node.flags & (1 << 6)) {
#line 2561
            mname = (char const   *)m->u.alias;
#line 2561
            if (! mname) {
#line 2561
              goto while_break___0;
            }
          } else {
#line 2561
            goto while_break___0;
          }
        } else {
#line 2561
          goto while_break___0;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
      {
#line 2570
      m = find_module((char const   *)*args, 0, (char const   **)((void *)0));
      }
#line 2571
      if (m) {
#line 2572
        if (! (m->node.flags & (1 << 6))) {
          {
#line 2573
          zwarnnam((char const   *)nam, "module is not an alias: %s", *args);
          }
#line 2574
          return (1);
        }
        {
#line 2576
        zsfree(m->u.alias);
        }
      } else {
        {
#line 2578
        tmp___5 = zshcalloc(sizeof(*m));
#line 2578
        m = (Module )tmp___5;
#line 2579
        m->node.flags = 1 << 6;
#line 2580
        tmp___6 = ztrdup((char const   *)*args);
#line 2580
        (*(modulestab->addnode))(modulestab, tmp___6, (void *)m);
        }
      }
      {
#line 2582
      m->u.alias = ztrdup((char const   *)aliasname);
      }
    } else {
      {
#line 2584
      m = find_module((char const   *)*args, 0, (char const   **)((void *)0));
      }
#line 2584
      if (m) {
#line 2585
        if (m->node.flags & (1 << 6)) {
#line 2586
          if ((int )ops->ind[76] != 0) {
#line 2586
            tmp___7 = 1;
          } else {
#line 2586
            tmp___7 = 0;
          }
          {
#line 2586
          (*(modulestab->printnode))(& m->node, tmp___7);
          }
        } else {
          {
#line 2590
          zwarnnam((char const   *)nam, "module is not an alias: %s", *args);
          }
#line 2591
          return (1);
        }
      } else {
        {
#line 2594
        zwarnnam((char const   *)nam, "no such module alias: %s", *args);
        }
#line 2595
        return (1);
      }
    }
#line 2528
    args ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2601
  return (0);
}
}
#line 2607 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int bin_zmodload_exist(char *nam  __attribute__((__unused__)) , char **args ,
                              Options ops ) 
{ 
  Module m ;
  int tmp ;
  int ret ;

  {
#line 2612
  if (! *args) {
#line 2613
    if ((int )ops->ind[65] != 0) {
#line 2613
      tmp = 6;
    } else {
#line 2613
      tmp = 2;
    }
    {
#line 2613
    scanhashtable(modulestab, 1, 0, 0, modulestab->printnode, tmp);
    }
#line 2616
    return (0);
  } else {
#line 2618
    ret = 0;
    {
#line 2620
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2620
      if (! ret) {
#line 2620
        if (! *args) {
#line 2620
          goto while_break;
        }
      } else {
#line 2620
        goto while_break;
      }
      {
#line 2621
      m = find_module((char const   *)*args, 1, (char const   **)((void *)0));
      }
#line 2621
      if (m) {
#line 2621
        if (! m->u.handle) {
#line 2624
          ret = 1;
        } else
#line 2621
        if (m->node.flags & (1 << 1)) {
#line 2624
          ret = 1;
        }
      } else {
#line 2624
        ret = 1;
      }
#line 2620
      args ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 2626
    return (ret);
  }
}
}
#line 2633 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int bin_zmodload_dep(char *nam  __attribute__((__unused__)) , char **args ,
                            Options ops ) 
{ 
  Module m ;
  char const   *tnam ;
  char **tmp ;
  LinkNode dnode ;
  int tmp___0 ;
  int depflags ;
  int tmp___1 ;
  HashNode tmp___2 ;
  int ret ;
  char *tnam___0 ;
  char **tmp___3 ;

  {
#line 2637
  if ((int )ops->ind[117] != 0) {
    {
#line 2639
    tmp = args;
#line 2639
    args ++;
#line 2639
    tnam = (char const   *)*tmp;
#line 2640
    m = find_module(tnam, 1, & tnam);
    }
#line 2641
    if (! m) {
#line 2642
      return (0);
    }
#line 2643
    if (*args) {
#line 2643
      if (m->deps) {
        {
#line 2644
        while (1) {
          while_continue: /* CIL Label */ ;
#line 2646
          dnode = (m->deps)->list.first;
          {
#line 2646
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 2646
            if (! dnode) {
#line 2646
              goto while_break___0;
            }
            {
#line 2647
            tmp___0 = strcmp((char const   *)*args, (char const   *)dnode->dat);
            }
#line 2647
            if (! tmp___0) {
              {
#line 2648
              zsfree((char *)dnode->dat);
#line 2649
              remnode(m->deps, dnode);
              }
#line 2650
              goto while_break___0;
            }
#line 2646
            dnode = dnode->next;
          }
          while_break___0: /* CIL Label */ ;
          }
#line 2644
          args ++;
#line 2644
          if (! *args) {
#line 2644
            goto while_break;
          }
        }
        while_break: /* CIL Label */ ;
        }
#line 2653
        if ((unsigned long )(m->deps)->list.first == (unsigned long )((void *)0)) {
          {
#line 2654
          freelinklist(m->deps, & freestr);
#line 2655
          m->deps = (LinkList )((void *)0);
          }
        }
      } else {
#line 2643
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 2658
    if (m->deps) {
      {
#line 2659
      freelinklist(m->deps, & freestr);
#line 2660
      m->deps = (LinkList )((void *)0);
      }
    }
#line 2663
    if (! m->deps) {
#line 2663
      if (! m->u.handle) {
        {
#line 2664
        delete_module(m);
        }
      }
    }
#line 2665
    return (0);
  } else
#line 2666
  if (! *(args + 0)) {
#line 2666
    goto _L___0;
  } else
#line 2666
  if (! *(args + 1)) {
    _L___0: /* CIL Label */ 
#line 2668
    if ((int )ops->ind[76] != 0) {
#line 2668
      tmp___1 = 9;
    } else {
#line 2668
      tmp___1 = 8;
    }
#line 2668
    depflags = tmp___1;
#line 2670
    if (*(args + 0)) {
      {
#line 2671
      tmp___2 = (*(modulestab->getnode2))(modulestab, (char const   *)*(args + 0));
#line 2671
      m = (Module )tmp___2;
      }
#line 2671
      if (m) {
        {
#line 2672
        (*(modulestab->printnode))(& m->node, depflags);
        }
      }
    } else {
      {
#line 2674
      scanhashtable(modulestab, 1, 0, 0, modulestab->printnode, depflags);
      }
    }
#line 2677
    return (0);
  } else {
#line 2680
    ret = 0;
#line 2681
    tmp___3 = args;
#line 2681
    args ++;
#line 2681
    tnam___0 = *tmp___3;
    {
#line 2683
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2683
      if (! *args) {
#line 2683
        goto while_break___1;
      }
      {
#line 2684
      add_dep((char const   *)tnam___0, *args);
#line 2683
      args ++;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 2685
    return (ret);
  }
}
}
#line 2694 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static void printautoparams(HashNode hn , int lon ) 
{ 
  Param pm ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 2697
  pm = (Param )hn;
#line 2699
  if (pm->node.flags & (1 << 27)) {
#line 2700
    if (lon) {
      {
#line 2701
      printf((char const   */* __restrict  */)"zmodload -ap %s %s\n", pm->u.str, pm->node.nam);
      }
    } else {
      {
#line 2703
      printf((char const   */* __restrict  */)"%s (%s)\n", pm->node.nam, pm->u.str);
      }
    }
  }
#line 2705
  return;
}
}
#line 2710 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int bin_zmodload_auto(char *nam , char **args , Options ops ) 
{ 
  int fchar ;
  int flags ;
  char *modnam ;
  Conddef p ;
  MathFunc p___0 ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
#line 2716
  if ((int )ops->ind[99] != 0) {
#line 2717
    if (! *args) {
#line 2721
      p = condtab;
      {
#line 2721
      while (1) {
        while_continue: /* CIL Label */ ;
#line 2721
        if (! p) {
#line 2721
          goto while_break;
        }
#line 2722
        if (p->module) {
#line 2723
          if ((int )ops->ind[76] != 0) {
            {
#line 2724
            fputs((char const   */* __restrict  */)"zmodload -ac", (FILE */* __restrict  */)stdout);
            }
#line 2725
            if (p->flags & 1) {
              {
#line 2726
              putchar('I');
              }
            }
            {
#line 2727
            printf((char const   */* __restrict  */)" %s %s\n", p->module, p->name);
            }
          } else {
#line 2729
            if (p->flags & 1) {
              {
#line 2730
              fputs((char const   */* __restrict  */)"infix ", (FILE */* __restrict  */)stdout);
              }
            } else {
              {
#line 2732
              fputs((char const   */* __restrict  */)"post ", (FILE */* __restrict  */)stdout);
              }
            }
            {
#line 2733
            printf((char const   */* __restrict  */)"%s (%s)\n", p->name, p->module);
            }
          }
        }
#line 2721
        p = p->next;
      }
      while_break: /* CIL Label */ ;
      }
#line 2737
      return (0);
    }
#line 2739
    if ((int )ops->ind[73] != 0) {
#line 2739
      fchar = 'C';
    } else {
#line 2739
      fchar = 'c';
    }
  } else
#line 2740
  if ((int )ops->ind[112] != 0) {
#line 2741
    if (! *args) {
      {
#line 2743
      scanhashtable(paramtab, 1, 0, 0, & printautoparams, (int )ops->ind[76] != 0);
      }
#line 2745
      return (0);
    }
#line 2747
    fchar = 'p';
  } else
#line 2748
  if ((int )ops->ind[102] != 0) {
#line 2749
    if (! *args) {
#line 2753
      p___0 = mathfuncs;
      {
#line 2753
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 2753
        if (! p___0) {
#line 2753
          goto while_break___0;
        }
#line 2754
        if (! (p___0->flags & 4)) {
#line 2754
          if (p___0->module) {
#line 2755
            if ((int )ops->ind[76] != 0) {
              {
#line 2756
              fputs((char const   */* __restrict  */)"zmodload -af", (FILE */* __restrict  */)stdout);
#line 2757
              printf((char const   */* __restrict  */)" %s %s\n", p___0->module, p___0->name);
              }
            } else {
              {
#line 2759
              printf((char const   */* __restrict  */)"%s (%s)\n", p___0->name, p___0->module);
              }
            }
          }
        }
#line 2753
        p___0 = p___0->next;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2762
      return (0);
    }
#line 2764
    fchar = 'f';
  } else {
#line 2767
    if (! *args) {
#line 2769
      if ((int )ops->ind[76] != 0) {
#line 2769
        tmp = 1 << 2;
      } else {
#line 2769
        tmp = 0;
      }
      {
#line 2769
      scanhashtable(builtintab, 1, 0, 0, & autoloadscan, tmp);
      }
#line 2771
      return (0);
    }
#line 2773
    fchar = 'b';
  }
#line 2776
  flags = 4;
#line 2777
  if ((int )ops->ind[105] != 0) {
#line 2778
    flags |= 1;
  }
#line 2779
  if ((int )ops->ind[117] != 0) {
#line 2781
    flags |= 8;
#line 2782
    modnam = (char *)((void *)0);
  } else {
#line 2785
    modnam = *args;
#line 2787
    if (*(args + 1)) {
#line 2788
      args ++;
    }
  }
  {
#line 2790
  tmp___0 = autofeatures((char const   *)nam, (char const   *)modnam, args, fchar,
                         flags);
  }
#line 2790
  return (tmp___0);
}
}
#line 2796 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int unload_module(Module m ) 
{ 
  int del ;
  int tmp ;
  LinkNode n ;
  Module dm ;
  Module tmp___0 ;
  Module am ;
  int du ;
  int i ;
  LinkNode sn ;
  int tmp___1 ;
  int tmp___2 ;
  char **tmp___3 ;
  char *__cil_tmp14 ;

  {
#line 2804
  if (m->node.flags & (1 << 6)) {
    {
#line 2805
    m = find_module((char const   *)m->u.alias, 1, (char const   **)((void *)0));
    }
#line 2806
    if (! m) {
#line 2807
      return (1);
    }
  }
#line 2816
  if (m->node.flags & (1 << 4)) {
#line 2816
    if (! (m->node.flags & (1 << 1))) {
      {
#line 2816
      tmp = do_cleanup_module(m);
      }
#line 2816
      if (tmp) {
#line 2819
        return (1);
      }
    }
  }
#line 2820
  m->node.flags &= ~ ((1 << 5) | (1 << 4));
#line 2822
  del = m->node.flags & (1 << 1);
#line 2824
  if (m->wrapper) {
#line 2825
    m->node.flags |= 1 << 1;
#line 2826
    return (0);
  }
#line 2828
  m->node.flags &= ~ (1 << 1);
#line 2834
  if (m->node.flags & (1 << 3)) {
#line 2835
    if (m->u.linked) {
      {
#line 2836
      (*((m->u.linked)->finish))(m);
#line 2837
      m->u.linked = (Linkedmod )((void *)0);
      }
    }
  } else
#line 2840
  if (m->u.handle) {
    {
#line 2841
    finish_module(m);
#line 2842
    m->u.handle = (void *)0;
    }
  }
#line 2846
  if (del) {
#line 2846
    if (m->deps) {
#line 2851
      n = (m->deps)->list.first;
      {
#line 2851
      while (1) {
        while_continue: /* CIL Label */ ;
#line 2851
        if (! n) {
#line 2851
          goto while_break;
        }
        {
#line 2852
        tmp___0 = find_module((char const   *)((char *)n->dat), 1, (char const   **)((void *)0));
#line 2852
        dm = tmp___0;
        }
#line 2855
        if (dm) {
#line 2855
          if (dm->node.flags & (1 << 1)) {
#line 2859
            du = 1;
#line 2861
            i = 0;
            {
#line 2861
            while (1) {
              while_continue___0: /* CIL Label */ ;
#line 2861
              if (du) {
#line 2861
                if (! (i < modulestab->hsize)) {
#line 2861
                  goto while_break___0;
                }
              } else {
#line 2861
                goto while_break___0;
              }
#line 2862
              am = (Module )*(modulestab->nodes + i);
              {
#line 2862
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 2862
                if (du) {
#line 2862
                  if (! am) {
#line 2862
                    goto while_break___1;
                  }
                } else {
#line 2862
                  goto while_break___1;
                }
#line 2869
                if ((unsigned long )am == (unsigned long )m) {
#line 2870
                  goto __Cont;
                } else
#line 2869
                if (! am->deps) {
#line 2870
                  goto __Cont;
                }
#line 2872
                if (am->node.flags & (1 << 3)) {
#line 2872
                  tmp___1 = ! am->u.linked;
                } else {
#line 2872
                  tmp___1 = ! am->u.handle;
                }
#line 2872
                if (tmp___1) {
#line 2874
                  goto __Cont;
                }
#line 2875
                sn = (am->deps)->list.first;
                {
#line 2875
                while (1) {
                  while_continue___2: /* CIL Label */ ;
#line 2875
                  if (du) {
#line 2875
                    if (! sn) {
#line 2875
                      goto while_break___2;
                    }
                  } else {
#line 2875
                    goto while_break___2;
                  }
                  {
#line 2877
                  tmp___2 = strcmp((char const   *)((char *)sn->dat), (char const   *)dm->node.nam);
                  }
#line 2877
                  if (! tmp___2) {
#line 2879
                    du = 0;
                  }
#line 2875
                  sn = sn->next;
                }
                while_break___2: /* CIL Label */ ;
                }
                __Cont: /* CIL Label */ 
#line 2862
                am = (Module )am->node.next;
              }
              while_break___1: /* CIL Label */ ;
              }
#line 2861
              i ++;
            }
            while_break___0: /* CIL Label */ ;
            }
#line 2883
            if (du) {
              {
#line 2884
              unload_module(dm);
              }
            }
          }
        }
#line 2851
        n = n->next;
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
#line 2888
  if (m->autoloads) {
#line 2888
    if ((m->autoloads)->list.first) {
      {
#line 2893
      tmp___3 = hlinklist2array(m->autoloads, 0);
#line 2893
      autofeatures("zsh", (char const   *)m->node.nam, tmp___3, 0, 1);
      }
    } else {
#line 2888
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 2895
  if (! m->deps) {
    {
#line 2896
    delete_module(m);
    }
  }
#line 2898
  return (0);
}
}
#line 2908 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int unload_named_module(char *modname , char *nam , int silent ) 
{ 
  char const   *mname ;
  Module m ;
  int ret ;
  int i ;
  int del ;
  Module dm ;
  LinkNode dn ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
  {
#line 2913
  ret = 0;
#line 2915
  m = find_module((char const   *)modname, 1, & mname);
  }
#line 2916
  if (m) {
#line 2917
    del = 0;
#line 2920
    i = 0;
    {
#line 2920
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2920
      if (! (i < modulestab->hsize)) {
#line 2920
        goto while_break;
      }
#line 2921
      dm = (Module )*(modulestab->nodes + i);
      {
#line 2921
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 2921
        if (! dm) {
#line 2921
          goto while_break___0;
        }
#line 2924
        if (! dm->deps) {
#line 2925
          goto __Cont;
        } else
#line 2924
        if (! dm->u.handle) {
#line 2925
          goto __Cont;
        }
#line 2926
        dn = (dm->deps)->list.first;
        {
#line 2926
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 2926
          if (! dn) {
#line 2926
            goto while_break___1;
          }
          {
#line 2927
          tmp = strcmp((char const   *)((char *)dn->dat), mname);
          }
#line 2927
          if (! tmp) {
#line 2928
            if (dm->node.flags & (1 << 1)) {
#line 2929
              del = 1;
            } else {
              {
#line 2931
              zwarnnam((char const   *)nam, "module %s is in use by another module and cannot be unloaded",
                       mname);
              }
#line 2932
              return (1);
            }
          }
#line 2926
          dn = dn->next;
        }
        while_break___1: /* CIL Label */ ;
        }
        __Cont: /* CIL Label */ 
#line 2921
        dm = (Module )dm->node.next;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2920
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 2938
    if (del) {
#line 2939
      (m->wrapper) ++;
    }
    {
#line 2940
    tmp___0 = unload_module(m);
    }
#line 2940
    if (tmp___0) {
#line 2941
      ret = 1;
    }
#line 2942
    if (del) {
#line 2943
      (m->wrapper) --;
    }
  } else
#line 2944
  if (! silent) {
    {
#line 2945
    zwarnnam((char const   *)nam, "no such module %s", modname);
#line 2946
    ret = 1;
    }
  }
#line 2949
  return (ret);
}
}
#line 2955 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int bin_zmodload_load(char *nam , char **args , Options ops ) 
{ 
  int ret ;
  int tmp ;
  int tmp___0 ;
  int tmpret ;
  int tmp___1 ;

  {
#line 2958
  ret = 0;
#line 2959
  if ((int )ops->ind[117] != 0) {
    {
#line 2961
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2961
      if (! *args) {
#line 2961
        goto while_break;
      }
      {
#line 2962
      tmp = unload_named_module(*args, nam, (int )ops->ind[105] != 0);
      }
#line 2962
      if (tmp) {
#line 2963
        ret = 1;
      }
#line 2961
      args ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 2965
    return (ret);
  } else
#line 2966
  if (! *args) {
#line 2968
    if ((int )ops->ind[76] != 0) {
#line 2968
      tmp___0 = 1;
    } else {
#line 2968
      tmp___0 = 0;
    }
    {
#line 2968
    scanhashtable(modulestab, 1, 0, (1 << 1) | (1 << 6), modulestab->printnode, tmp___0);
    }
#line 2971
    return (0);
  } else {
    {
#line 2974
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2974
      if (! *args) {
#line 2974
        goto while_break___0;
      }
      {
#line 2975
      tmp___1 = require_module((char const   *)*args, (Feature_enables )((void *)0));
#line 2975
      tmpret = tmp___1;
      }
#line 2976
      if (tmpret) {
#line 2976
        if (ret != 1) {
#line 2977
          ret = tmpret;
        }
      }
#line 2974
      args ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 2980
    return (ret);
  }
}
}
#line 2987 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
static int bin_zmodload_features(char const   *nam , char **args , Options ops ) 
{ 
  int iarg ;
  char *modname ;
  Patprog *patprogs ;
  Feature_enables features ;
  Feature_enables fep ;
  int printflags ;
  char **argp ;
  Patprog *patprogp ;
  int tmp ;
  void *tmp___0 ;
  char *arg ;
  Module m ;
  char **features___0 ;
  char **fp ;
  char **arrset ;
  char **arrp ;
  int *enables ;
  int *ep___0 ;
  char *param ;
  char *tmp___1 ;
  LinkNode ln ;
  char *fstr___0 ;
  int sense ;
  LinkNode tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  char *al ;
  char **tmp___6 ;
  int tmp___7 ;
  Param tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  char *arg___0 ;
  int on ;
  int found ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  char const   *tmp___15 ;
  int arrlen___0 ;
  char **argp___0 ;
  char *arg___1 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  void *tmp___20 ;
  char *onoff ;
  int term___0 ;
  char **argp___1 ;
  char *arg___2 ;
  int tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  int tmp___24 ;
  char **tmp___25 ;
  Param tmp___26 ;
  int tmp___27 ;
  int tmp___28 ;
  void *tmp___29 ;
  char **tmp___30 ;
  Patprog *tmp___31 ;
  int tmp___32 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;

  {
#line 2991
  modname = *args;
#line 2995
  if (modname) {
#line 2996
    args ++;
  } else
#line 2997
  if ((int )ops->ind[76] != 0) {
#line 2998
    printflags = 17;
#line 2999
    if ((int )ops->ind[80] != 0) {
      {
#line 3000
      zwarnnam(nam, "-P is only allowed with a module name");
      }
#line 3001
      return (1);
    }
#line 3003
    if ((int )ops->ind[108] != 0) {
#line 3004
      printflags |= 32;
    }
#line 3005
    if ((int )ops->ind[97] != 0) {
#line 3006
      printflags |= 64;
    }
    {
#line 3007
    scanhashtable(modulestab, 1, 0, 1 << 6, modulestab->printnode, printflags);
    }
#line 3009
    return (0);
  }
#line 3012
  if (! modname) {
    {
#line 3013
    zwarnnam(nam, "-F requires a module name");
    }
#line 3014
    return (1);
  }
#line 3017
  if ((int )ops->ind[109] != 0) {
    {
#line 3022
    tmp = arrlen(args);
#line 3022
    tmp___0 = zhalloc((unsigned long )tmp * sizeof(Patprog ));
#line 3022
    patprogs = (Patprog *)tmp___0;
#line 3022
    patprogp = patprogs;
#line 3024
    argp = args;
    }
    {
#line 3024
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3024
      if (! *argp) {
#line 3024
        goto while_break;
      }
#line 3025
      arg = *argp;
#line 3026
      if ((int )*arg == 43) {
#line 3027
        arg ++;
      } else
#line 3026
      if ((int )*arg == 45) {
#line 3027
        arg ++;
      }
      {
#line 3028
      tokenize(arg);
#line 3029
      *patprogp = patcompile(arg, 0, (char **)0);
#line 3024
      argp ++;
#line 3024
      patprogp ++;
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 3032
    patprogs = (Patprog *)((void *)0);
  }
#line 3034
  if ((int )ops->ind[108] != 0) {
#line 3034
    goto _L___1;
  } else
#line 3034
  if ((int )ops->ind[76] != 0) {
#line 3034
    goto _L___1;
  } else
#line 3034
  if ((int )ops->ind[101] != 0) {
    _L___1: /* CIL Label */ 
#line 3043
    arrset = (char **)((void *)0);
#line 3043
    arrp = (char **)((void *)0);
#line 3044
    enables = (int *)((void *)0);
#line 3045
    if ((int )ops->ind[80] > 3) {
#line 3045
      tmp___1 = *(ops->args + (((int )ops->ind[80] >> 2) - 1));
    } else {
#line 3045
      tmp___1 = (char *)((void *)0);
    }
    {
#line 3045
    param = tmp___1;
#line 3047
    m = find_module((char const   *)modname, 1, (char const   **)((void *)0));
    }
#line 3048
    if ((int )ops->ind[97] != 0) {
#line 3053
      if (! m) {
#line 3054
        return (1);
      } else
#line 3053
      if (! m->autoloads) {
#line 3054
        return (1);
      }
#line 3055
      if ((int )ops->ind[101] != 0) {
#line 3056
        fp = args;
        {
#line 3056
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 3056
          if (! *fp) {
#line 3056
            goto while_break___0;
          }
#line 3057
          fstr___0 = *fp;
#line 3058
          sense = 1;
#line 3059
          if ((int )*fstr___0 == 43) {
#line 3060
            fstr___0 ++;
          } else
#line 3061
          if ((int )*fstr___0 == 45) {
#line 3062
            fstr___0 ++;
#line 3063
            sense = 0;
          }
          {
#line 3065
          tmp___2 = linknodebystring(m->autoloads, fstr___0);
          }
#line 3065
          if (((unsigned long )tmp___2 != (unsigned long )((void *)0)) != sense) {
#line 3067
            return (1);
          }
#line 3056
          fp ++;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 3069
        return (0);
      }
#line 3071
      if (param) {
        {
#line 3072
        tmp___3 = countlinknodes(m->autoloads);
#line 3072
        tmp___4 = zalloc(sizeof(char *) * (unsigned long )(tmp___3 + 1));
#line 3072
        arrset = (char **)tmp___4;
#line 3072
        arrp = arrset;
        }
      } else
#line 3074
      if ((int )ops->ind[76] != 0) {
#line 3075
        if (m->autoloads) {
#line 3075
          if ((m->autoloads)->list.first) {
#line 3075
            tmp___5 = ' ';
          } else {
#line 3075
            tmp___5 = '\n';
          }
        } else {
#line 3075
          tmp___5 = '\n';
        }
        {
#line 3075
        printf((char const   */* __restrict  */)"zmodload -aF %s%c", m->node.nam,
               tmp___5);
#line 3077
        arrp = (char **)((void *)0);
        }
      }
#line 3079
      ln = (m->autoloads)->list.first;
      {
#line 3079
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 3079
        if (! ln) {
#line 3079
          goto while_break___1;
        }
#line 3080
        al = (char *)ln->dat;
#line 3081
        if (param) {
          {
#line 3082
          tmp___6 = arrp;
#line 3082
          arrp ++;
#line 3082
          *tmp___6 = ztrdup((char const   *)al);
          }
        } else {
#line 3084
          if ((int )ops->ind[76] != 0) {
#line 3084
            if (ln->next) {
#line 3084
              tmp___7 = ' ';
            } else {
#line 3084
              tmp___7 = '\n';
            }
          } else {
#line 3084
            tmp___7 = '\n';
          }
          {
#line 3084
          printf((char const   */* __restrict  */)"%s%c", al, tmp___7);
          }
        }
#line 3079
        ln = ln->next;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 3087
      if (param) {
        {
#line 3088
        *arrp = (char *)((void *)0);
#line 3089
        tmp___8 = setaparam(param, arrset);
        }
#line 3089
        if (! tmp___8) {
#line 3090
          return (1);
        }
      }
#line 3092
      return (0);
    }
#line 3094
    if (! m) {
#line 3094
      goto _L;
    } else
#line 3094
    if (! m->u.handle) {
#line 3094
      goto _L;
    } else
#line 3094
    if (m->node.flags & (1 << 1)) {
      _L: /* CIL Label */ 
#line 3095
      if (! ((int )ops->ind[101] != 0)) {
        {
#line 3096
        zwarnnam(nam, "module `%s\' is not yet loaded", modname);
        }
      }
#line 3097
      return (1);
    }
    {
#line 3099
    tmp___9 = features_module(m, & features___0);
    }
#line 3099
    if (tmp___9) {
#line 3100
      if (! ((int )ops->ind[101] != 0)) {
        {
#line 3101
        zwarnnam(nam, "module `%s\' does not support features", m->node.nam);
        }
      }
#line 3103
      return (1);
    }
    {
#line 3105
    tmp___10 = enables_module(m, & enables);
    }
#line 3105
    if (tmp___10) {
      {
#line 3107
      zwarnnam(nam, "error getting enabled features for module `%s\'", m->node.nam);
      }
#line 3109
      return (1);
    }
#line 3111
    arrp = args;
#line 3111
    iarg = 0;
    {
#line 3111
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 3111
      if (! *arrp) {
#line 3111
        goto while_break___2;
      }
#line 3112
      arg___0 = *arrp;
#line 3113
      found = 0;
#line 3114
      if ((int )*arg___0 == 45) {
#line 3115
        on = 0;
#line 3116
        arg___0 ++;
      } else
#line 3117
      if ((int )*arg___0 == 43) {
#line 3118
        on = 1;
#line 3119
        arg___0 ++;
      } else {
#line 3121
        on = -1;
      }
#line 3122
      fp = features___0;
#line 3122
      ep___0 = enables;
      {
#line 3122
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 3122
        if (! *fp) {
#line 3122
          goto while_break___3;
        }
#line 3123
        if (patprogs) {
          {
#line 3123
          tmp___11 = pattry(*(patprogs + iarg), *fp);
#line 3123
          tmp___14 = tmp___11;
          }
        } else {
          {
#line 3123
          tmp___12 = strcmp((char const   *)arg___0, (char const   *)*fp);
          }
#line 3123
          if (tmp___12) {
#line 3123
            tmp___13 = 0;
          } else {
#line 3123
            tmp___13 = 1;
          }
#line 3123
          tmp___14 = tmp___13;
        }
#line 3123
        if (tmp___14) {
#line 3126
          if ((int )ops->ind[101] != 0) {
#line 3126
            if (on != -1) {
#line 3126
              if (on != (*ep___0 & 1)) {
#line 3128
                return (1);
              }
            }
          }
#line 3129
          found ++;
#line 3130
          if (! patprogs) {
#line 3131
            goto while_break___3;
          }
        }
#line 3122
        fp ++;
#line 3122
        ep___0 ++;
      }
      while_break___3: /* CIL Label */ ;
      }
#line 3134
      if (! found) {
#line 3135
        if (! ((int )ops->ind[101] != 0)) {
#line 3136
          if (patprogs) {
#line 3136
            tmp___15 = "module `%s\' has no feature matching: `%s\'";
          } else {
#line 3136
            tmp___15 = "module `%s\' has no such feature: `%s\'";
          }
          {
#line 3136
          zwarnnam(nam, tmp___15, modname, *arrp);
          }
        }
#line 3140
        return (1);
      }
#line 3111
      arrp ++;
#line 3111
      iarg ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 3143
    if ((int )ops->ind[101] != 0) {
#line 3144
      return (0);
    }
#line 3145
    if (param) {
#line 3146
      arrlen___0 = 0;
#line 3147
      fp = features___0;
#line 3147
      ep___0 = enables;
      {
#line 3147
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 3147
        if (! *fp) {
#line 3147
          goto while_break___4;
        }
#line 3148
        if ((int )ops->ind[76] != 0) {
#line 3148
          if (! ((int )ops->ind[108] != 0)) {
#line 3148
            if (! *ep___0) {
#line 3150
              goto __Cont;
            }
          }
        }
#line 3151
        if (*args) {
#line 3153
          argp___0 = args;
#line 3153
          iarg = 0;
          {
#line 3153
          while (1) {
            while_continue___5: /* CIL Label */ ;
#line 3153
            if (! *argp___0) {
#line 3153
              goto while_break___5;
            }
#line 3154
            arg___1 = *argp___0;
#line 3156
            if ((int )*arg___1 == 43) {
#line 3157
              arg___1 ++;
            } else
#line 3156
            if ((int )*arg___1 == 45) {
#line 3157
              arg___1 ++;
            }
#line 3158
            if (patprogs) {
              {
#line 3158
              tmp___16 = pattry(*(patprogs + iarg), *fp);
#line 3158
              tmp___19 = tmp___16;
              }
            } else {
              {
#line 3158
              tmp___17 = strcmp((char const   *)*fp, (char const   *)arg___1);
              }
#line 3158
              if (tmp___17) {
#line 3158
                tmp___18 = 0;
              } else {
#line 3158
                tmp___18 = 1;
              }
#line 3158
              tmp___19 = tmp___18;
            }
#line 3158
            if (tmp___19) {
#line 3160
              goto while_break___5;
            }
#line 3153
            argp___0 ++;
#line 3153
            iarg ++;
          }
          while_break___5: /* CIL Label */ ;
          }
#line 3162
          if (! *argp___0) {
#line 3163
            goto __Cont;
          }
        }
#line 3165
        arrlen___0 ++;
        __Cont: /* CIL Label */ 
#line 3147
        fp ++;
#line 3147
        ep___0 ++;
      }
      while_break___4: /* CIL Label */ ;
      }
      {
#line 3167
      tmp___20 = zalloc(sizeof(char *) * (unsigned long )(arrlen___0 + 1));
#line 3167
      arrset = (char **)tmp___20;
#line 3167
      arrp = arrset;
      }
    } else
#line 3168
    if ((int )ops->ind[76] != 0) {
      {
#line 3169
      printf((char const   */* __restrict  */)"zmodload -F %s ", m->node.nam);
      }
    }
#line 3170
    fp = features___0;
#line 3170
    ep___0 = enables;
    {
#line 3170
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 3170
      if (! *fp) {
#line 3170
        goto while_break___6;
      }
#line 3173
      if (*args) {
#line 3175
        argp___1 = args;
#line 3175
        iarg = 0;
        {
#line 3175
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 3175
          if (! *argp___1) {
#line 3175
            goto while_break___7;
          }
#line 3176
          arg___2 = *argp___1;
#line 3177
          if ((int )*arg___2 == 43) {
#line 3178
            arg___2 ++;
          } else
#line 3177
          if ((int )*arg___2 == 45) {
#line 3178
            arg___2 ++;
          }
#line 3179
          if (patprogs) {
            {
#line 3179
            tmp___21 = pattry(*(patprogs + iarg), *fp);
#line 3179
            tmp___24 = tmp___21;
            }
          } else {
            {
#line 3179
            tmp___22 = strcmp((char const   *)*fp, (char const   *)*argp___1);
            }
#line 3179
            if (tmp___22) {
#line 3179
              tmp___23 = 0;
            } else {
#line 3179
              tmp___23 = 1;
            }
#line 3179
            tmp___24 = tmp___23;
          }
#line 3179
          if (tmp___24) {
#line 3181
            goto while_break___7;
          }
#line 3175
          argp___1 ++;
#line 3175
          iarg ++;
        }
        while_break___7: /* CIL Label */ ;
        }
#line 3183
        if (! *argp___1) {
#line 3184
          goto __Cont___0;
        }
      }
#line 3186
      if ((int )ops->ind[76] != 0) {
#line 3186
        if (! ((int )ops->ind[108] != 0)) {
#line 3187
          if (! *ep___0) {
#line 3188
            goto __Cont___0;
          }
#line 3189
          onoff = (char *)"";
        } else {
#line 3186
          goto _L___0;
        }
      } else
      _L___0: /* CIL Label */ 
#line 3190
      if (*ep___0) {
#line 3191
        onoff = (char *)"+";
      } else {
#line 3193
        onoff = (char *)"-";
      }
#line 3195
      if (param) {
        {
#line 3196
        tmp___25 = arrp;
#line 3196
        arrp ++;
#line 3196
        *tmp___25 = bicat((char const   *)onoff, (char const   *)*fp);
        }
      } else {
#line 3198
        if ((int )ops->ind[76] != 0) {
#line 3198
          if (*(fp + 1)) {
#line 3199
            term___0 = ' ';
          } else {
#line 3201
            term___0 = '\n';
          }
        } else {
#line 3201
          term___0 = '\n';
        }
        {
#line 3203
        printf((char const   */* __restrict  */)"%s%s%c", onoff, *fp, term___0);
        }
      }
      __Cont___0: /* CIL Label */ 
#line 3170
      fp ++;
#line 3170
      ep___0 ++;
    }
    while_break___6: /* CIL Label */ ;
    }
#line 3206
    if (param) {
      {
#line 3207
      *arrp = (char *)((void *)0);
#line 3208
      tmp___26 = setaparam(param, arrset);
      }
#line 3208
      if (! tmp___26) {
#line 3209
        return (1);
      }
    }
#line 3211
    return (0);
  } else
#line 3212
  if ((int )ops->ind[80] != 0) {
    {
#line 3213
    zwarnnam(nam, "-P can only be used with -l or -L");
    }
#line 3214
    return (1);
  } else
#line 3215
  if ((int )ops->ind[97] != 0) {
#line 3216
    if ((int )ops->ind[109] != 0) {
      {
#line 3217
      zwarnnam(nam, "-m cannot be used with -a");
      }
#line 3218
      return (1);
    }
    {
#line 3231
    tmp___27 = autofeatures(nam, (char const   *)modname, args, 0, 1);
    }
#line 3231
    return (tmp___27);
  }
  {
#line 3234
  tmp___28 = arrlen(args);
#line 3234
  tmp___29 = zhalloc((unsigned long )(tmp___28 + 1) * sizeof(*fep));
#line 3234
  features = (Feature_enables )tmp___29;
#line 3234
  fep = features;
  }
  {
#line 3237
  while (1) {
    while_continue___8: /* CIL Label */ ;
#line 3237
    if (! *args) {
#line 3237
      goto while_break___8;
    }
#line 3238
    tmp___30 = args;
#line 3238
    args ++;
#line 3238
    fep->str = *tmp___30;
#line 3239
    if (patprogs) {
#line 3239
      tmp___31 = patprogs;
#line 3239
      patprogs ++;
#line 3239
      fep->pat = *tmp___31;
    } else {
#line 3239
      fep->pat = (Patprog )((void *)0);
    }
#line 3240
    fep ++;
  }
  while_break___8: /* CIL Label */ ;
  }
  {
#line 3242
  fep->str = (char *)((void *)0);
#line 3243
  fep->pat = (Patprog )((void *)0);
#line 3245
  tmp___32 = require_module((char const   *)modname, features);
  }
#line 3245
  return (tmp___32);
}
}
#line 3263 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
char **featuresarray(Module m  __attribute__((__unused__)) , Features f ) 
{ 
  int bn_size ;
  int cd_size ;
  int mf_size ;
  int pd_size ;
  int features_size ;
  Builtin bnp ;
  Conddef cdp ;
  MathFunc mfp ;
  Paramdef pdp ;
  char **features ;
  void *tmp ;
  char **featurep ;
  char **tmp___0 ;
  Builtin tmp___1 ;
  int tmp___2 ;
  char **tmp___3 ;
  char const   *tmp___4 ;
  int tmp___5 ;
  char **tmp___6 ;
  MathFunc tmp___7 ;
  int tmp___8 ;
  char **tmp___9 ;
  Paramdef tmp___10 ;
  int tmp___11 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;

  {
  {
#line 3266
  bn_size = f->bn_size;
#line 3266
  cd_size = f->cd_size;
#line 3267
  mf_size = f->mf_size;
#line 3267
  pd_size = f->pd_size;
#line 3268
  features_size = (((bn_size + cd_size) + pd_size) + mf_size) + f->n_abstract;
#line 3269
  bnp = f->bn_list;
#line 3270
  cdp = f->cd_list;
#line 3271
  mfp = f->mf_list;
#line 3272
  pdp = f->pd_list;
#line 3273
  tmp = zhalloc((unsigned long )(features_size + 1) * sizeof(char *));
#line 3273
  features = (char **)tmp;
#line 3274
  featurep = features;
  }
  {
#line 3276
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3276
    tmp___2 = bn_size;
#line 3276
    bn_size --;
#line 3276
    if (! tmp___2) {
#line 3276
      goto while_break;
    }
    {
#line 3277
    tmp___0 = featurep;
#line 3277
    featurep ++;
#line 3277
    tmp___1 = bnp;
#line 3277
    bnp ++;
#line 3277
    *tmp___0 = dyncat("b:", (char const   *)tmp___1->node.nam);
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3278
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3278
    tmp___5 = cd_size;
#line 3278
    cd_size --;
#line 3278
    if (! tmp___5) {
#line 3278
      goto while_break___0;
    }
#line 3279
    tmp___3 = featurep;
#line 3279
    featurep ++;
#line 3279
    if (cdp->flags & 1) {
#line 3279
      tmp___4 = "C:";
    } else {
#line 3279
      tmp___4 = "c:";
    }
    {
#line 3279
    *tmp___3 = dyncat(tmp___4, (char const   *)cdp->name);
#line 3281
    cdp ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 3283
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 3283
    tmp___8 = mf_size;
#line 3283
    mf_size --;
#line 3283
    if (! tmp___8) {
#line 3283
      goto while_break___1;
    }
    {
#line 3284
    tmp___6 = featurep;
#line 3284
    featurep ++;
#line 3284
    tmp___7 = mfp;
#line 3284
    mfp ++;
#line 3284
    *tmp___6 = dyncat("f:", (char const   *)tmp___7->name);
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 3285
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 3285
    tmp___11 = pd_size;
#line 3285
    pd_size --;
#line 3285
    if (! tmp___11) {
#line 3285
      goto while_break___2;
    }
    {
#line 3286
    tmp___9 = featurep;
#line 3286
    featurep ++;
#line 3286
    tmp___10 = pdp;
#line 3286
    pdp ++;
#line 3286
    *tmp___9 = dyncat("p:", (char const   *)tmp___10->name);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
#line 3288
  *(features + features_size) = (char *)((void *)0);
#line 3289
  return (features);
}
}
#line 3298 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int *getfeatureenables(Module m  __attribute__((__unused__)) , Features f ) 
{ 
  int bn_size ;
  int cd_size ;
  int mf_size ;
  int pd_size ;
  int features_size ;
  Builtin bnp ;
  Conddef cdp ;
  MathFunc mfp ;
  Paramdef pdp ;
  int *enables ;
  void *tmp ;
  int *enablep ;
  int *tmp___0 ;
  Builtin tmp___2 ;
  int tmp___3 ;
  int *tmp___4 ;
  Conddef tmp___6 ;
  int tmp___7 ;
  int *tmp___8 ;
  MathFunc tmp___10 ;
  int tmp___11 ;
  int *tmp___12 ;
  Paramdef tmp___14 ;
  int tmp___15 ;

  {
  {
#line 3301
  bn_size = f->bn_size;
#line 3301
  cd_size = f->cd_size;
#line 3302
  mf_size = f->mf_size;
#line 3302
  pd_size = f->pd_size;
#line 3303
  features_size = (((bn_size + cd_size) + mf_size) + pd_size) + f->n_abstract;
#line 3304
  bnp = f->bn_list;
#line 3305
  cdp = f->cd_list;
#line 3306
  mfp = f->mf_list;
#line 3307
  pdp = f->pd_list;
#line 3308
  tmp = zhalloc(sizeof(int ) * (unsigned long )features_size);
#line 3308
  enables = (int *)tmp;
#line 3309
  enablep = enables;
  }
  {
#line 3311
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3311
    tmp___3 = bn_size;
#line 3311
    bn_size --;
#line 3311
    if (! tmp___3) {
#line 3311
      goto while_break;
    }
#line 3312
    tmp___0 = enablep;
#line 3312
    enablep ++;
#line 3312
    tmp___2 = bnp;
#line 3312
    bnp ++;
#line 3312
    if (tmp___2->node.flags & (1 << 3)) {
#line 3312
      *tmp___0 = 1;
    } else {
#line 3312
      *tmp___0 = 0;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3313
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3313
    tmp___7 = cd_size;
#line 3313
    cd_size --;
#line 3313
    if (! tmp___7) {
#line 3313
      goto while_break___0;
    }
#line 3314
    tmp___4 = enablep;
#line 3314
    enablep ++;
#line 3314
    tmp___6 = cdp;
#line 3314
    cdp ++;
#line 3314
    if (tmp___6->flags & 2) {
#line 3314
      *tmp___4 = 1;
    } else {
#line 3314
      *tmp___4 = 0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 3315
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 3315
    tmp___11 = mf_size;
#line 3315
    mf_size --;
#line 3315
    if (! tmp___11) {
#line 3315
      goto while_break___1;
    }
#line 3316
    tmp___8 = enablep;
#line 3316
    enablep ++;
#line 3316
    tmp___10 = mfp;
#line 3316
    mfp ++;
#line 3316
    if (tmp___10->flags & 2) {
#line 3316
      *tmp___8 = 1;
    } else {
#line 3316
      *tmp___8 = 0;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 3317
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 3317
    tmp___15 = pd_size;
#line 3317
    pd_size --;
#line 3317
    if (! tmp___15) {
#line 3317
      goto while_break___2;
    }
#line 3318
    tmp___12 = enablep;
#line 3318
    enablep ++;
#line 3318
    tmp___14 = pdp;
#line 3318
    pdp ++;
#line 3318
    if (tmp___14->pm) {
#line 3318
      *tmp___12 = 1;
    } else {
#line 3318
      *tmp___12 = 0;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
#line 3320
  return (enables);
}
}
#line 3334 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int setfeatureenables(Module m , Features f , int *e ) 
{ 
  int ret ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 3337
  ret = 0;
#line 3339
  if (f->bn_size) {
    {
#line 3340
    tmp = setbuiltins((char const   *)m->node.nam, f->bn_list, f->bn_size, e);
    }
#line 3340
    if (tmp) {
#line 3341
      ret = 1;
    }
#line 3342
    if (e) {
#line 3343
      e += f->bn_size;
    }
  }
#line 3345
  if (f->cd_size) {
    {
#line 3346
    tmp___0 = setconddefs((char const   *)m->node.nam, f->cd_list, f->cd_size, e);
    }
#line 3346
    if (tmp___0) {
#line 3347
      ret = 1;
    }
#line 3348
    if (e) {
#line 3349
      e += f->cd_size;
    }
  }
#line 3351
  if (f->mf_size) {
    {
#line 3352
    tmp___1 = setmathfuncs((char const   *)m->node.nam, f->mf_list, f->mf_size, e);
    }
#line 3352
    if (tmp___1) {
#line 3353
      ret = 1;
    }
#line 3354
    if (e) {
#line 3355
      e += f->mf_size;
    }
  }
#line 3357
  if (f->pd_size) {
    {
#line 3358
    tmp___2 = setparamdefs((char const   *)m->node.nam, f->pd_list, f->pd_size, e);
    }
#line 3358
    if (tmp___2) {
#line 3359
      ret = 1;
    }
#line 3360
    if (e) {
#line 3361
      e += f->pd_size;
    }
  }
#line 3363
  return (ret);
}
}
#line 3372 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int handlefeatures(Module m , Features f , int **enables ) 
{ 
  int *tmp ;
  int tmp___0 ;

  {
#line 3375
  if (! enables) {
#line 3375
    goto _L;
  } else
#line 3375
  if (*enables) {
    _L: /* CIL Label */ 
#line 3376
    if (enables) {
#line 3376
      tmp = *enables;
    } else {
#line 3376
      tmp = (int *)((void *)0);
    }
    {
#line 3376
    tmp___0 = setfeatureenables(m, f, tmp);
    }
#line 3376
    return (tmp___0);
  }
  {
#line 3377
  *enables = getfeatureenables(m, f);
  }
#line 3378
  return (0);
}
}
#line 3399 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int ensurefeature(char const   *modname , char const   *prefix , char const   *feature ) 
{ 
  char *f ;
  struct feature_enables features[2] ;
  int tmp ;
  int tmp___0 ;
  void *__cil_tmp8 ;
  int __cil_tmp9 ;

  {
#line 3405
  if (! feature) {
    {
#line 3406
    tmp = require_module(modname, (Feature_enables )((void *)0));
    }
#line 3406
    return (tmp);
  }
  {
#line 3407
  f = dyncat(prefix, feature);
#line 3409
  features[0].str = f;
#line 3410
  features[0].pat = (Patprog )((void *)0);
#line 3411
  features[1].str = (char *)((void *)0);
#line 3412
  features[1].pat = (Patprog )((void *)0);
#line 3413
  tmp___0 = require_module(modname, features);
  }
#line 3413
  return (tmp___0);
}
}
#line 3421 "/home/khheo/testset/zsh-zsh-5.3.1/Src/module.c"
int autofeatures(char const   *cmdnam , char const   *module , char **features , int prefchar ,
                 int defflags ) 
{ 
  int ret ;
  int subret ;
  Module defm ;
  Module m ;
  char **modfeatures ;
  int *modenables ;
  Module tmp ;
  Linkedmod tmp___0 ;
  char *fnam ;
  char *typnam ;
  char *feature ;
  int add___0 ;
  int fchar ;
  int flags ;
  int (*fn___0)(char const   *module , char const   *feature , int flags ) ;
  size_t tmp___1 ;
  void *tmp___2 ;
  char *tmp___3 ;
  int i ;
  LinkNode tmp___4 ;
  char **ptr___0 ;
  int tmp___5 ;
  char *tmp___6 ;
  LinkNode ln ;
  LinkNode prev ;
  int cmp ;
  int tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  LinkNode ln___0 ;
  void *tmp___10 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;
  char *__cil_tmp50 ;

  {
#line 3425
  ret = 0;
#line 3427
  modfeatures = (char **)((void *)0);
#line 3428
  modenables = (int *)((void *)0);
#line 3429
  if (module) {
    {
#line 3430
    tmp = find_module(module, 3, (char const   **)((void *)0));
#line 3430
    defm = tmp;
    }
#line 3432
    if (defm->node.flags & (1 << 3)) {
#line 3432
      tmp___0 = defm->u.linked;
    } else {
#line 3432
      tmp___0 = (Linkedmod )defm->u.handle;
    }
#line 3432
    if (tmp___0) {
      {
#line 3434
      features_module(defm, & modfeatures);
#line 3435
      enables_module(defm, & modenables);
      }
    }
  } else {
#line 3438
    defm = (Module )((void *)0);
  }
  {
#line 3440
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3440
    if (! *features) {
#line 3440
      goto while_break;
    }
#line 3442
    flags = defflags;
#line 3445
    if (prefchar) {
      {
#line 3450
      add___0 = 1;
#line 3451
      fchar = prefchar;
#line 3452
      fnam = *features;
#line 3453
      tmp___1 = strlen((char const   *)fnam);
#line 3453
      tmp___2 = zhalloc(tmp___1 + 3UL);
#line 3453
      feature = (char *)tmp___2;
#line 3454
      sprintf((char */* __restrict  */)feature, (char const   */* __restrict  */)"%c:%s",
              fchar, fnam);
      }
    } else {
#line 3456
      feature = *features;
#line 3457
      if ((int )*feature == 45) {
#line 3458
        add___0 = 0;
#line 3459
        feature ++;
      } else {
#line 3461
        add___0 = 1;
#line 3462
        if ((int )*feature == 43) {
#line 3463
          feature ++;
        }
      }
#line 3466
      if (! *feature) {
        {
#line 3467
        zwarnnam(cmdnam, "bad format for autoloadable feature: `%s\'", feature);
#line 3469
        ret = 1;
        }
#line 3470
        goto __Cont;
      } else
#line 3466
      if ((int )*(feature + 1) != 58) {
        {
#line 3467
        zwarnnam(cmdnam, "bad format for autoloadable feature: `%s\'", feature);
#line 3469
        ret = 1;
        }
#line 3470
        goto __Cont;
      }
#line 3472
      fnam = feature + 2;
#line 3473
      fchar = (int )*(feature + 0);
    }
#line 3475
    if (flags & 8) {
#line 3476
      add___0 = 0;
    }
    {
#line 3479
    if (fchar == 98) {
#line 3479
      goto case_98;
    }
#line 3484
    if (fchar == 67) {
#line 3484
      goto case_67;
    }
#line 3487
    if (fchar == 99) {
#line 3487
      goto case_99;
    }
#line 3492
    if (fchar == 102) {
#line 3492
      goto case_102;
    }
#line 3497
    if (fchar == 112) {
#line 3497
      goto case_112;
    }
#line 3502
    goto switch_default;
    case_98: /* CIL Label */ 
#line 3480
    if (add___0) {
#line 3480
      fn___0 = & add_autobin;
    } else {
#line 3480
      fn___0 = & del_autobin;
    }
#line 3481
    typnam = (char *)"builtin";
#line 3482
    goto switch_break;
    case_67: /* CIL Label */ 
#line 3485
    flags |= 2;
    case_99: /* CIL Label */ 
#line 3488
    if (add___0) {
#line 3488
      fn___0 = & add_autocond;
    } else {
#line 3488
      fn___0 = & del_autocond;
    }
#line 3489
    typnam = (char *)"condition";
#line 3490
    goto switch_break;
    case_102: /* CIL Label */ 
#line 3493
    if (add___0) {
#line 3493
      fn___0 = & add_automathfunc;
    } else {
#line 3493
      fn___0 = & del_automathfunc;
    }
#line 3494
    typnam = (char *)"math function";
#line 3495
    goto switch_break;
    case_112: /* CIL Label */ 
#line 3498
    if (add___0) {
#line 3498
      fn___0 = & add_autoparam;
    } else {
#line 3498
      fn___0 = & del_autoparam;
    }
#line 3499
    typnam = (char *)"parameter";
#line 3500
    goto switch_break;
    switch_default: /* CIL Label */ 
    {
#line 3503
    zwarnnam(cmdnam, "bad autoloadable feature type: `%c\'", fchar);
#line 3505
    ret = 1;
    }
#line 3506
    goto __Cont;
    switch_break: /* CIL Label */ ;
    }
    {
#line 3509
    tmp___3 = strchr((char const   *)fnam, '/');
    }
#line 3509
    if (tmp___3) {
      {
#line 3510
      zwarnnam(cmdnam, "%s: `/\' is illegal in a %s", fnam, typnam);
#line 3511
      ret = 1;
      }
#line 3512
      goto __Cont;
    }
#line 3515
    if (! module) {
#line 3521
      i = 0;
#line 3521
      m = (Module )((void *)0);
      {
#line 3521
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3521
        if (! m) {
#line 3521
          if (! (i < modulestab->hsize)) {
#line 3521
            goto while_break___0;
          }
        } else {
#line 3521
          goto while_break___0;
        }
#line 3522
        m = (Module )*(modulestab->nodes + i);
        {
#line 3522
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 3522
          if (! m) {
#line 3522
            goto while_break___1;
          }
#line 3524
          if (m->autoloads) {
            {
#line 3524
            tmp___4 = linknodebystring(m->autoloads, feature);
            }
#line 3524
            if (tmp___4) {
#line 3526
              goto while_break___1;
            }
          }
#line 3522
          m = (Module )m->node.next;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 3521
        i ++;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 3529
      if (! m) {
#line 3530
        if (! (flags & 1)) {
          {
#line 3531
          ret = 1;
#line 3532
          zwarnnam(cmdnam, "%s: no such %s", fnam, typnam);
          }
        }
#line 3534
        goto __Cont;
      }
    } else {
#line 3537
      m = defm;
    }
#line 3539
    subret = 0;
#line 3540
    if (add___0) {
#line 3542
      if (modfeatures) {
#line 3547
        ptr___0 = modfeatures;
        {
#line 3547
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 3547
          if (! *ptr___0) {
#line 3547
            goto while_break___2;
          }
          {
#line 3548
          tmp___5 = strcmp((char const   *)*ptr___0, (char const   *)feature);
          }
#line 3548
          if (! tmp___5) {
#line 3549
            goto while_break___2;
          }
#line 3547
          ptr___0 ++;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 3550
        if (! *ptr___0) {
          {
#line 3551
          zwarnnam(cmdnam, "module `%s\' has no such feature: `%s\'", m->node.nam,
                   feature);
#line 3553
          ret = 1;
          }
#line 3554
          goto __Cont;
        }
#line 3560
        if (*(modenables + (ptr___0 - modfeatures))) {
#line 3561
          goto __Cont;
        }
      }
#line 3567
      if (! m->autoloads) {
        {
#line 3568
        m->autoloads = znewlinklist();
#line 3569
        tmp___6 = ztrdup((char const   *)feature);
#line 3569
        zinsertlinknode(m->autoloads, (m->autoloads)->list.last, (void *)tmp___6);
        }
      } else {
#line 3572
        prev = (LinkNode )m->autoloads;
        {
#line 3573
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 3573
          ln = prev->next;
#line 3573
          if (! ln) {
#line 3573
            goto while_break___3;
          }
          {
#line 3574
          tmp___7 = strcmp((char const   *)feature, (char const   *)((char *)ln->dat));
#line 3574
          cmp = tmp___7;
          }
#line 3575
          if (cmp == 0) {
#line 3577
            goto while_break___3;
          }
#line 3579
          if (cmp < 0) {
            {
#line 3580
            tmp___8 = ztrdup((char const   *)feature);
#line 3580
            zinsertlinknode(m->autoloads, prev, (void *)tmp___8);
            }
#line 3582
            goto while_break___3;
          }
#line 3584
          prev = ln;
        }
        while_break___3: /* CIL Label */ ;
        }
#line 3586
        if (! ln) {
          {
#line 3587
          tmp___9 = ztrdup((char const   *)feature);
#line 3587
          zinsertlinknode(m->autoloads, (m->autoloads)->list.last, (void *)tmp___9);
          }
        }
      }
    } else
#line 3589
    if (m->autoloads) {
      {
#line 3591
      ln___0 = linknodebystring(m->autoloads, feature);
      }
#line 3591
      if (ln___0) {
        {
#line 3592
        tmp___10 = remnode(m->autoloads, ln___0);
#line 3592
        zsfree((char *)tmp___10);
        }
      } else
#line 3598
      if (flags & 1) {
#line 3598
        subret = -2;
      } else {
#line 3598
        subret = 2;
      }
    }
#line 3602
    if (subret == 0) {
      {
#line 3603
      subret = (*fn___0)(module, (char const   *)fnam, flags);
      }
    }
#line 3605
    if (subret != 0) {
#line 3607
      if (subret != -2) {
#line 3608
        ret = 1;
      }
      {
#line 3610
      if (subret == 1) {
#line 3610
        goto case_1;
      }
#line 3614
      if (subret == 2) {
#line 3614
        goto case_2;
      }
#line 3618
      if (subret == 3) {
#line 3618
        goto case_3;
      }
#line 3622
      goto switch_default___0;
      case_1: /* CIL Label */ 
      {
#line 3611
      zwarnnam(cmdnam, "failed to add %s `%s\'", typnam, fnam);
      }
#line 3612
      goto switch_break___0;
      case_2: /* CIL Label */ 
      {
#line 3615
      zwarnnam(cmdnam, "%s: no such %s", fnam, typnam);
      }
#line 3616
      goto switch_break___0;
      case_3: /* CIL Label */ 
      {
#line 3619
      zwarnnam(cmdnam, "%s: %s is already defined", fnam, typnam);
      }
#line 3620
      goto switch_break___0;
      switch_default___0: /* CIL Label */ 
#line 3624
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
    }
    __Cont: /* CIL Label */ 
#line 3440
    features ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3629
  return (ret);
}
}
#line 466 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) malloc)(size_t __size )  __attribute__((__malloc__)) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.epro"
Heap new_heaps(void) ;
#line 9
void old_heaps(Heap old ) ;
#line 10
Heap switch_heaps(Heap new ) ;
#line 12
void freeheap(void) ;
#line 129 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
static Heap heaps  ;
#line 134 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
static Heap fheap  ;
#line 193 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
Heap new_heaps(void) 
{ 
  Heap h ;
  sigset_t oset ;
  void *__cil_tmp3 ;

  {
#line 198
  queueing_enabled ++;
#line 199
  h = heaps;
#line 201
  heaps = (Heap )((void *)0);
#line 201
  fheap = heaps;
  {
#line 202
  while (1) {
    while_continue: /* CIL Label */ ;
#line 202
    queueing_enabled --;
#line 202
    if (! queueing_enabled) {
      {
#line 202
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 202
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 202
          if (! (queue_front != queue_rear)) {
#line 202
            goto while_break___1;
          }
          {
#line 202
          queue_front = (queue_front + 1) % 128;
#line 202
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 202
          zhandler(signal_queue[queue_front]);
#line 202
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 202
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 202
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 213
  return (h);
}
}
#line 219 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void old_heaps(Heap old ) 
{ 
  Heap h ;
  Heap n ;
  sigset_t oset ;
  void *__cil_tmp5 ;

  {
#line 224
  queueing_enabled ++;
#line 225
  h = heaps;
  {
#line 225
  while (1) {
    while_continue: /* CIL Label */ ;
#line 225
    if (! h) {
#line 225
      goto while_break;
    }
    {
#line 226
    n = h->next;
#line 235
    munmap((void *)h, h->size);
#line 225
    h = n;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 243
  heaps = old;
#line 259
  fheap = (Heap )((void *)0);
  {
#line 260
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 260
    queueing_enabled --;
#line 260
    if (! queueing_enabled) {
      {
#line 260
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 260
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 260
          if (! (queue_front != queue_rear)) {
#line 260
            goto while_break___2;
          }
          {
#line 260
          queue_front = (queue_front + 1) % 128;
#line 260
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 260
          zhandler(signal_queue[queue_front]);
#line 260
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 260
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 260
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 261
  return;
}
}
#line 266 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
Heap switch_heaps(Heap new ) 
{ 
  Heap h ;
  sigset_t oset ;
  void *__cil_tmp4 ;

  {
#line 271
  queueing_enabled ++;
#line 272
  h = heaps;
#line 280
  heaps = new;
#line 281
  fheap = (Heap )((void *)0);
  {
#line 282
  while (1) {
    while_continue: /* CIL Label */ ;
#line 282
    queueing_enabled --;
#line 282
    if (! queueing_enabled) {
      {
#line 282
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 282
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 282
          if (! (queue_front != queue_rear)) {
#line 282
            goto while_break___1;
          }
          {
#line 282
          queue_front = (queue_front + 1) % 128;
#line 282
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 282
          zhandler(signal_queue[queue_front]);
#line 282
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 282
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 282
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 284
  return (h);
}
}
#line 290 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void pushheap(void) 
{ 
  Heap h ;
  Heapstack hs ;
  void *tmp ;
  sigset_t oset ;
  void *__cil_tmp5 ;

  {
#line 296
  queueing_enabled ++;
#line 302
  h = heaps;
  {
#line 302
  while (1) {
    while_continue: /* CIL Label */ ;
#line 302
    if (! h) {
#line 302
      goto while_break;
    }
    {
#line 304
    tmp = zalloc(sizeof(*hs));
#line 304
    hs = (Heapstack )tmp;
#line 305
    hs->next = h->sp;
#line 306
    h->sp = hs;
#line 307
    hs->used = h->used;
#line 302
    h = h->next;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 318
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 318
    queueing_enabled --;
#line 318
    if (! queueing_enabled) {
      {
#line 318
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 318
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 318
          if (! (queue_front != queue_rear)) {
#line 318
            goto while_break___2;
          }
          {
#line 318
          queue_front = (queue_front + 1) % 128;
#line 318
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 318
          zhandler(signal_queue[queue_front]);
#line 318
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 318
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 318
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 319
  return;
}
}
#line 324 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void freeheap(void) 
{ 
  Heap h ;
  Heap hn ;
  Heap hl ;
  sigset_t oset ;
  void *__cil_tmp5 ;

  {
#line 327
  hl = (Heap )((void *)0);
#line 329
  queueing_enabled ++;
#line 355
  if (fheap) {
#line 355
    if (! fheap->sp) {
#line 356
      fheap = (Heap )((void *)0);
    }
  }
#line 363
  if (fheap) {
#line 363
    h = fheap;
  } else {
#line 363
    h = heaps;
  }
  {
#line 363
  while (1) {
    while_continue: /* CIL Label */ ;
#line 363
    if (! h) {
#line 363
      goto while_break;
    }
#line 364
    hn = h->next;
#line 365
    if (h->sp) {
#line 373
      h->used = (h->sp)->used;
#line 374
      if (! fheap) {
#line 375
        if (h->used < h->size - sizeof(struct heap )) {
#line 376
          fheap = h;
        }
      } else
#line 377
      if ((h->size - sizeof(struct heap )) - h->used > (fheap->size - sizeof(struct heap )) - fheap->used) {
#line 379
        fheap = h;
      }
#line 380
      hl = h;
    } else {
#line 401
      if ((unsigned long )fheap == (unsigned long )h) {
#line 402
        fheap = (Heap )((void *)0);
      }
#line 403
      if (h->next) {
#line 405
        if ((unsigned long )h == (unsigned long )heaps) {
#line 406
          heaps = h->next;
#line 406
          hl = heaps;
        } else
#line 407
        if (hl) {
#line 407
          if ((unsigned long )hl->next == (unsigned long )h) {
#line 408
            hl->next = h->next;
          } else {
#line 411
            hl = h;
#line 412
            goto __Cont;
          }
        } else {
#line 411
          hl = h;
#line 412
          goto __Cont;
        }
#line 414
        h->next = (struct heap *)((void *)0);
      } else {
#line 417
        h->used = (size_t )0;
#line 418
        hl = h;
#line 418
        fheap = hl;
#line 419
        goto while_break;
      }
      {
#line 422
      munmap((void *)h, h->size);
      }
    }
    __Cont: /* CIL Label */ 
#line 363
    h = hn;
  }
  while_break: /* CIL Label */ ;
  }
#line 431
  if (hl) {
#line 432
    hl->next = (struct heap *)((void *)0);
  } else {
#line 434
    fheap = (Heap )((void *)0);
#line 434
    heaps = fheap;
  }
  {
#line 436
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 436
    queueing_enabled --;
#line 436
    if (! queueing_enabled) {
      {
#line 436
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 436
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 436
          if (! (queue_front != queue_rear)) {
#line 436
            goto while_break___2;
          }
          {
#line 436
          queue_front = (queue_front + 1) % 128;
#line 436
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 436
          zhandler(signal_queue[queue_front]);
#line 436
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 436
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 436
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 437
  return;
}
}
#line 442 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void popheap(void) 
{ 
  Heap h ;
  Heap hn ;
  Heap hl ;
  Heapstack hs ;
  sigset_t oset ;
  void *__cil_tmp6 ;

  {
#line 445
  hl = (Heap )((void *)0);
#line 448
  queueing_enabled ++;
#line 454
  fheap = (Heap )((void *)0);
#line 455
  h = heaps;
  {
#line 455
  while (1) {
    while_continue: /* CIL Label */ ;
#line 455
    if (! h) {
#line 455
      goto while_break;
    }
#line 456
    hn = h->next;
#line 457
    hs = h->sp;
#line 457
    if (hs) {
#line 458
      h->sp = hs->next;
#line 466
      h->used = hs->used;
#line 478
      if (! fheap) {
#line 479
        if (h->used < h->size - sizeof(struct heap )) {
#line 480
          fheap = h;
        }
      } else
#line 481
      if ((h->size - sizeof(struct heap )) - h->used > (fheap->size - sizeof(struct heap )) - fheap->used) {
#line 483
        fheap = h;
      }
      {
#line 484
      zfree((void *)hs, (int )sizeof(*hs));
#line 486
      hl = h;
      }
    } else {
#line 488
      if (h->next) {
#line 490
        if ((unsigned long )h == (unsigned long )heaps) {
#line 491
          heaps = h->next;
#line 491
          hl = heaps;
        } else
#line 492
        if (hl) {
#line 492
          if ((unsigned long )hl->next == (unsigned long )h) {
#line 493
            hl->next = h->next;
          } else {
#line 496
            hl = h;
#line 497
            goto __Cont;
          }
        } else {
#line 496
          hl = h;
#line 497
          goto __Cont;
        }
#line 499
        h->next = (struct heap *)((void *)0);
      } else
#line 500
      if ((unsigned long )hl == (unsigned long )h) {
#line 501
        hl = (Heap )((void *)0);
      }
      {
#line 503
      munmap((void *)h, h->size);
      }
    }
    __Cont: /* CIL Label */ 
#line 455
    h = hn;
  }
  while_break: /* CIL Label */ ;
  }
#line 512
  if (hl) {
#line 513
    hl->next = (struct heap *)((void *)0);
  } else {
#line 515
    heaps = (Heap )((void *)0);
  }
  {
#line 517
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 517
    queueing_enabled --;
#line 517
    if (! queueing_enabled) {
      {
#line 517
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 517
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 517
          if (! (queue_front != queue_rear)) {
#line 517
            goto while_break___2;
          }
          {
#line 517
          queue_front = (queue_front + 1) % 128;
#line 517
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 517
          zhandler(signal_queue[queue_front]);
#line 517
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 517
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 517
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 518
  return;
}
}
#line 529
static Heap mmap_heap_alloc(size_t *n ) ;
#line 529 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
static size_t pgsz___0  =    (size_t )0;
#line 525 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
static Heap mmap_heap_alloc(size_t *n ) 
{ 
  Heap h ;
  long tmp ;
  void *tmp___0 ;
  char *__cil_tmp5 ;

  {
#line 531
  if (! pgsz___0) {
    {
#line 534
    tmp = sysconf(30);
#line 534
    pgsz___0 = (size_t )tmp;
#line 543
    pgsz___0 --;
    }
  }
  {
#line 545
  *n = (*n + pgsz___0) & ~ pgsz___0;
#line 546
  tmp___0 = mmap((void *)0, *n, 3, 34, -1, (__off_t )0);
#line 546
  h = (Heap )tmp___0;
  }
#line 548
  if ((unsigned long )h == (unsigned long )((Heap )-1)) {
    {
#line 549
    zerr("fatal error: out of heap memory");
#line 550
    exit(1);
    }
  }
#line 553
  return (h);
}
}
#line 560 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void *zheapptr(void *p ) 
{ 
  Heap h ;
  sigset_t oset ;
  void *tmp ;
  void *__cil_tmp5 ;

  {
#line 564
  queueing_enabled ++;
#line 565
  h = heaps;
  {
#line 565
  while (1) {
    while_continue: /* CIL Label */ ;
#line 565
    if (! h) {
#line 565
      goto while_break;
    }
#line 566
    if ((unsigned long )((char *)p) >= (unsigned long )((char *)h + sizeof(struct heap ))) {
#line 566
      if ((unsigned long )((char *)p + sizeof(union mem_align )) < (unsigned long )(((char *)h + sizeof(struct heap )) + (h->size - sizeof(struct heap )))) {
#line 568
        goto while_break;
      }
    }
#line 565
    h = h->next;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 569
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 569
    queueing_enabled --;
#line 569
    if (! queueing_enabled) {
      {
#line 569
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 569
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 569
          if (! (queue_front != queue_rear)) {
#line 569
            goto while_break___2;
          }
          {
#line 569
          queue_front = (queue_front + 1) % 128;
#line 569
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 569
          zhandler(signal_queue[queue_front]);
#line 569
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 569
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 569
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 570
  if (h) {
#line 570
    tmp = p;
  } else {
#line 570
    tmp = (void *)0;
  }
#line 570
  return (tmp);
}
}
#line 576 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void *zhalloc(size_t size ) 
{ 
  Heap h ;
  Heap hp ;
  size_t n ;
  void *ret ;
  sigset_t oset ;
  sigset_t oset___0 ;
  void *__cil_tmp8 ;
  void *__cil_tmp9 ;

  {
#line 579
  hp = (Heap )((void *)0);
#line 588
  size = ((size + sizeof(union mem_align )) - 1UL) & ~ (sizeof(union mem_align ) - 1UL);
#line 590
  queueing_enabled ++;
#line 605
  if (fheap) {
#line 605
    h = fheap;
  } else {
#line 605
    h = heaps;
  }
  {
#line 605
  while (1) {
    while_continue: /* CIL Label */ ;
#line 605
    if (! h) {
#line 605
      goto while_break;
    }
#line 606
    hp = h;
#line 607
    n = size + h->used;
#line 607
    if (h->size - sizeof(struct heap ) >= n) {
#line 610
      h->used = n;
#line 611
      ret = (void *)((((char *)h + sizeof(struct heap )) + n) - size);
      {
#line 612
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 612
        queueing_enabled --;
#line 612
        if (! queueing_enabled) {
          {
#line 612
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 612
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 612
              if (! (queue_front != queue_rear)) {
#line 612
                goto while_break___2;
              }
              {
#line 612
              queue_front = (queue_front + 1) % 128;
#line 612
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 612
              zhandler(signal_queue[queue_front]);
#line 612
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 612
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 612
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 623
      return (ret);
    }
#line 605
    h = h->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 634
  if ((16384UL - sizeof(union mem_align )) - sizeof(struct heap ) > size) {
#line 634
    n = 16384UL - sizeof(union mem_align );
  } else {
#line 634
    n = size + sizeof(*h);
  }
  {
#line 637
  h = mmap_heap_alloc(& n);
#line 648
  h->size = n;
#line 649
  h->used = size;
#line 650
  h->next = (struct heap *)((void *)0);
#line 651
  h->sp = (struct heapstack *)((void *)0);
  }
#line 667
  if (hp) {
#line 668
    hp->next = h;
  } else {
#line 670
    heaps = h;
  }
#line 671
  fheap = h;
  {
#line 673
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 673
    queueing_enabled --;
#line 673
    if (! queueing_enabled) {
      {
#line 673
      while (1) {
        while_continue___4: /* CIL Label */ ;
        {
#line 673
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 673
          if (! (queue_front != queue_rear)) {
#line 673
            goto while_break___5;
          }
          {
#line 673
          queue_front = (queue_front + 1) % 128;
#line 673
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 673
          zhandler(signal_queue[queue_front]);
#line 673
          signal_setmask(oset___0);
          }
        }
        while_break___5: /* CIL Label */ ;
        }
#line 673
        goto while_break___4;
      }
      while_break___4: /* CIL Label */ ;
      }
    }
#line 673
    goto while_break___3;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 681
  return ((void *)((char *)h + sizeof(struct heap )));
}
}
#line 686 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void *hrealloc(char *p , size_t old , size_t new ) 
{ 
  Heap h ;
  Heap ph ;
  void *tmp ;
  char *ptr___0 ;
  void *tmp___0 ;
  sigset_t oset ;
  sigset_t oset___0 ;
  char *tmp___1 ;
  sigset_t oset___1 ;
  Heap hnew ;
  size_t n ;
  sigset_t oset___2 ;
  sigset_t oset___3 ;
  char *t ;
  void *tmp___2 ;
  size_t tmp___3 ;
  sigset_t oset___4 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  void *__cil_tmp23 ;
  void *__cil_tmp24 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;

  {
#line 695
  old = ((old + sizeof(union mem_align )) - 1UL) & ~ (sizeof(union mem_align ) - 1UL);
#line 696
  new = ((new + sizeof(union mem_align )) - 1UL) & ~ (sizeof(union mem_align ) - 1UL);
#line 698
  if (old == new) {
#line 699
    return ((void *)p);
  }
#line 700
  if (! old) {
#line 700
    if (! p) {
      {
#line 704
      tmp = zhalloc(new);
      }
#line 704
      return (tmp);
    }
  }
#line 709
  queueing_enabled ++;
#line 710
  h = heaps;
#line 710
  ph = (Heap )((void *)0);
  {
#line 710
  while (1) {
    while_continue: /* CIL Label */ ;
#line 710
    if (! h) {
#line 710
      goto while_break;
    }
#line 711
    if ((unsigned long )p >= (unsigned long )((char *)h + sizeof(struct heap ))) {
#line 711
      if ((unsigned long )p < (unsigned long )(((char *)h + sizeof(struct heap )) + (h->size - sizeof(struct heap )))) {
#line 712
        goto while_break;
      }
    }
#line 710
    ph = h;
#line 710
    h = h->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 726
  if ((unsigned long )(p + old) < (unsigned long )(((char *)h + sizeof(struct heap )) + h->used)) {
#line 727
    if (new > old) {
      {
#line 731
      tmp___0 = zhalloc(new);
#line 731
      ptr___0 = (char *)tmp___0;
#line 733
      memcpy((void */* __restrict  */)ptr___0, (void const   */* __restrict  */)p,
             old);
      }
      {
#line 744
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 744
        queueing_enabled --;
#line 744
        if (! queueing_enabled) {
          {
#line 744
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 744
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 744
              if (! (queue_front != queue_rear)) {
#line 744
                goto while_break___2;
              }
              {
#line 744
              queue_front = (queue_front + 1) % 128;
#line 744
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 744
              zhandler(signal_queue[queue_front]);
#line 744
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 744
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 744
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 745
      return ((void *)ptr___0);
    } else {
      {
#line 755
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 755
        queueing_enabled --;
#line 755
        if (! queueing_enabled) {
          {
#line 755
          while (1) {
            while_continue___4: /* CIL Label */ ;
            {
#line 755
            while (1) {
              while_continue___5: /* CIL Label */ ;
#line 755
              if (! (queue_front != queue_rear)) {
#line 755
                goto while_break___5;
              }
              {
#line 755
              queue_front = (queue_front + 1) % 128;
#line 755
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 755
              zhandler(signal_queue[queue_front]);
#line 755
              signal_setmask(oset___0);
              }
            }
            while_break___5: /* CIL Label */ ;
            }
#line 755
            goto while_break___4;
          }
          while_break___4: /* CIL Label */ ;
          }
        }
#line 755
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
#line 756
      if (new) {
#line 756
        tmp___1 = p;
      } else {
#line 756
        tmp___1 = (char *)((void *)0);
      }
#line 756
      return ((void *)tmp___1);
    }
  }
#line 770
  if ((unsigned long )p == (unsigned long )((char *)h + sizeof(struct heap ))) {
#line 778
    if (! new) {
#line 779
      if (ph) {
#line 780
        ph->next = h->next;
      } else {
#line 782
        heaps = h->next;
      }
      {
#line 783
      fheap = (Heap )((void *)0);
#line 785
      munmap((void *)h, h->size);
      }
      {
#line 792
      while (1) {
        while_continue___6: /* CIL Label */ ;
#line 792
        queueing_enabled --;
#line 792
        if (! queueing_enabled) {
          {
#line 792
          while (1) {
            while_continue___7: /* CIL Label */ ;
            {
#line 792
            while (1) {
              while_continue___8: /* CIL Label */ ;
#line 792
              if (! (queue_front != queue_rear)) {
#line 792
                goto while_break___8;
              }
              {
#line 792
              queue_front = (queue_front + 1) % 128;
#line 792
              oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 792
              zhandler(signal_queue[queue_front]);
#line 792
              signal_setmask(oset___1);
              }
            }
            while_break___8: /* CIL Label */ ;
            }
#line 792
            goto while_break___7;
          }
          while_break___7: /* CIL Label */ ;
          }
        }
#line 792
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
#line 793
      return ((void *)0);
    }
#line 795
    if (new > h->size - sizeof(struct heap )) {
      {
#line 807
      n = (new + sizeof(*h)) + (16384UL - sizeof(union mem_align ));
#line 808
      n -= n % (16384UL - sizeof(union mem_align ));
#line 809
      fheap = (Heap )((void *)0);
#line 818
      hnew = mmap_heap_alloc(& n);
#line 820
      memcpy((void */* __restrict  */)hnew, (void const   */* __restrict  */)h, h->size);
#line 821
      munmap((void *)h, h->size);
#line 834
      h = hnew;
#line 836
      h->size = n;
      }
#line 837
      if (ph) {
#line 838
        ph->next = h;
      } else {
#line 840
        heaps = h;
      }
    }
#line 849
    h->used = new;
    {
#line 853
    while (1) {
      while_continue___9: /* CIL Label */ ;
#line 853
      queueing_enabled --;
#line 853
      if (! queueing_enabled) {
        {
#line 853
        while (1) {
          while_continue___10: /* CIL Label */ ;
          {
#line 853
          while (1) {
            while_continue___11: /* CIL Label */ ;
#line 853
            if (! (queue_front != queue_rear)) {
#line 853
              goto while_break___11;
            }
            {
#line 853
            queue_front = (queue_front + 1) % 128;
#line 853
            oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 853
            zhandler(signal_queue[queue_front]);
#line 853
            signal_setmask(oset___2);
            }
          }
          while_break___11: /* CIL Label */ ;
          }
#line 853
          goto while_break___10;
        }
        while_break___10: /* CIL Label */ ;
        }
      }
#line 853
      goto while_break___9;
    }
    while_break___9: /* CIL Label */ ;
    }
#line 854
    return ((void *)((char *)h + sizeof(struct heap )));
  }
#line 859
  if (h->used + (new - old) <= h->size - sizeof(struct heap )) {
#line 860
    h->used += new - old;
    {
#line 861
    while (1) {
      while_continue___12: /* CIL Label */ ;
#line 861
      queueing_enabled --;
#line 861
      if (! queueing_enabled) {
        {
#line 861
        while (1) {
          while_continue___13: /* CIL Label */ ;
          {
#line 861
          while (1) {
            while_continue___14: /* CIL Label */ ;
#line 861
            if (! (queue_front != queue_rear)) {
#line 861
              goto while_break___14;
            }
            {
#line 861
            queue_front = (queue_front + 1) % 128;
#line 861
            oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 861
            zhandler(signal_queue[queue_front]);
#line 861
            signal_setmask(oset___3);
            }
          }
          while_break___14: /* CIL Label */ ;
          }
#line 861
          goto while_break___13;
        }
        while_break___13: /* CIL Label */ ;
        }
      }
#line 861
      goto while_break___12;
    }
    while_break___12: /* CIL Label */ ;
    }
#line 867
    return ((void *)p);
  } else {
    {
#line 869
    tmp___2 = zhalloc(new);
#line 869
    t = (char *)tmp___2;
    }
#line 870
    if (old > new) {
#line 870
      tmp___3 = new;
    } else {
#line 870
      tmp___3 = old;
    }
    {
#line 870
    memcpy((void */* __restrict  */)t, (void const   */* __restrict  */)p, tmp___3);
#line 871
    h->used -= old;
    }
    {
#line 879
    while (1) {
      while_continue___15: /* CIL Label */ ;
#line 879
      queueing_enabled --;
#line 879
      if (! queueing_enabled) {
        {
#line 879
        while (1) {
          while_continue___16: /* CIL Label */ ;
          {
#line 879
          while (1) {
            while_continue___17: /* CIL Label */ ;
#line 879
            if (! (queue_front != queue_rear)) {
#line 879
              goto while_break___17;
            }
            {
#line 879
            queue_front = (queue_front + 1) % 128;
#line 879
            oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 879
            zhandler(signal_queue[queue_front]);
#line 879
            signal_setmask(oset___4);
            }
          }
          while_break___17: /* CIL Label */ ;
          }
#line 879
          goto while_break___16;
        }
        while_break___16: /* CIL Label */ ;
        }
      }
#line 879
      goto while_break___15;
    }
    while_break___15: /* CIL Label */ ;
    }
#line 880
    return ((void *)t);
  }
}
}
#line 945 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void *hcalloc(size_t size ) 
{ 
  void *ptr___0 ;

  {
  {
#line 950
  ptr___0 = zhalloc(size);
#line 951
  memset(ptr___0, 0, size);
  }
#line 952
  return (ptr___0);
}
}
#line 958 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void *zalloc(size_t size ) 
{ 
  void *ptr___0 ;
  void *tmp ;
  sigset_t oset ;
  void *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 963
  if (! size) {
#line 964
    size = (size_t )1;
  }
  {
#line 965
  queueing_enabled ++;
#line 966
  tmp = malloc(size);
#line 966
  ptr___0 = tmp;
  }
#line 966
  if (! ptr___0) {
    {
#line 967
    zerr("fatal error: out of memory");
#line 968
    exit(1);
    }
  }
  {
#line 970
  while (1) {
    while_continue: /* CIL Label */ ;
#line 970
    queueing_enabled --;
#line 970
    if (! queueing_enabled) {
      {
#line 970
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 970
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 970
          if (! (queue_front != queue_rear)) {
#line 970
            goto while_break___1;
          }
          {
#line 970
          queue_front = (queue_front + 1) % 128;
#line 970
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 970
          zhandler(signal_queue[queue_front]);
#line 970
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 970
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 970
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 972
  return (ptr___0);
}
}
#line 976 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void *zshcalloc(size_t size ) 
{ 
  void *ptr___0 ;
  void *tmp ;

  {
  {
#line 979
  tmp = zalloc(size);
#line 979
  ptr___0 = tmp;
  }
#line 980
  if (! size) {
#line 981
    size = (size_t )1;
  }
  {
#line 982
  memset(ptr___0, 0, size);
  }
#line 983
  return (ptr___0);
}
}
#line 993 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void *zrealloc(void *ptr___0 , size_t size ) 
{ 
  void *tmp ;
  sigset_t oset ;
  void *tmp___0 ;
  sigset_t oset___0 ;
  void *__cil_tmp7 ;
  void *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 996
  queueing_enabled ++;
#line 997
  if (ptr___0) {
#line 998
    if (size) {
      {
#line 1000
      tmp = realloc(ptr___0, size);
#line 1000
      ptr___0 = tmp;
      }
#line 1000
      if (! ptr___0) {
        {
#line 1001
        zerr("fatal error: out of memory");
#line 1002
        exit(1);
        }
      }
      {
#line 1004
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1004
        queueing_enabled --;
#line 1004
        if (! queueing_enabled) {
          {
#line 1004
          while (1) {
            while_continue___0: /* CIL Label */ ;
            {
#line 1004
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 1004
              if (! (queue_front != queue_rear)) {
#line 1004
                goto while_break___1;
              }
              {
#line 1004
              queue_front = (queue_front + 1) % 128;
#line 1004
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1004
              zhandler(signal_queue[queue_front]);
#line 1004
              signal_setmask(oset);
              }
            }
            while_break___1: /* CIL Label */ ;
            }
#line 1004
            goto while_break___0;
          }
          while_break___0: /* CIL Label */ ;
          }
        }
#line 1004
        goto while_break;
      }
      while_break: /* CIL Label */ ;
      }
#line 1005
      return (ptr___0);
    } else {
      {
#line 1010
      free(ptr___0);
      }
    }
#line 1012
    ptr___0 = (void *)0;
  } else {
    {
#line 1015
    tmp___0 = malloc(size);
#line 1015
    ptr___0 = tmp___0;
    }
#line 1015
    if (! ptr___0) {
      {
#line 1016
      zerr("fatal error: out of memory");
#line 1017
      exit(1);
      }
    }
  }
  {
#line 1020
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 1020
    queueing_enabled --;
#line 1020
    if (! queueing_enabled) {
      {
#line 1020
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 1020
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 1020
          if (! (queue_front != queue_rear)) {
#line 1020
            goto while_break___4;
          }
          {
#line 1020
          queue_front = (queue_front + 1) % 128;
#line 1020
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 1020
          zhandler(signal_queue[queue_front]);
#line 1020
          signal_setmask(oset___0);
          }
        }
        while_break___4: /* CIL Label */ ;
        }
#line 1020
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 1020
    goto while_break___2;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 1022
  return (ptr___0);
}
}
#line 1879 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void zfree(void *p , int sz___0  __attribute__((__unused__)) ) 
{ 


  {
#line 1882
  if (p) {
    {
#line 1883
    free(p);
    }
  }
#line 1884
  return;
}
}
#line 1887 "/home/khheo/testset/zsh-zsh-5.3.1/Src/mem.c"
void zsfree(char *p ) 
{ 


  {
#line 1890
  if (p) {
    {
#line 1891
    free((void *)p);
    }
  }
#line 1892
  return;
}
}
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
int noeval  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
mnumber zero_mnumber  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
mnumber lastmathval  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
int lastbase  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
int outputradix  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.epro"
int outputunderscore  ;
#line 11
void op(int what ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.pro"
static int zzlex(void) ;
#line 3
static void push(mnumber val , char *lval , int getme ) ;
#line 4
static mnumber pop(int noget ) ;
#line 5
static mnumber getcvar(char *s ) ;
#line 6
static mnumber setmathvar(struct mathvalue *mvp , mnumber v ) ;
#line 7
static mnumber callmathfunc(char *o ) ;
#line 8
static int notzero(mnumber a ) ;
#line 9
static void bop(int tk ) ;
#line 10
static void checkunary(int mtokc , char *mptr ) ;
#line 11
static void mathparse(int pc ) ;
#line 153 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) pow)(double __x ,
                                                                             double __y ) ;
#line 187
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) fmod)(double __x ,
                                                                              double __y ) ;
#line 60 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static char *ptr  ;
#line 62 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber yyval  ;
#line 63 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static char *yylval  ;
#line 67 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int mlevel  =    0;
#line 71 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int unary  =    1;
#line 195 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int c_prec[53]  = 
#line 195
  {      1,      137,      2,      2, 
        2,      2,      2,      2, 
        9,      10,      11,      4, 
        4,      4,      5,      5, 
        6,      6,      7,      7, 
        7,      7,      8,      8, 
        12,      14,      13,      15, 
        16,      17,      17,      17, 
        17,      17,      17,      17, 
        17,      17,      17,      17, 
        17,      17,      17,      18, 
        200,      2,      2,      0, 
        0,      3,      0,      17, 
        0};
#line 251 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int z_prec[53]  = 
#line 251
  {      1,      137,      2,      2, 
        2,      2,      2,      2, 
        4,      5,      6,      8, 
        8,      8,      9,      9, 
        3,      3,      10,      10, 
        10,      10,      11,      11, 
        12,      13,      13,      14, 
        15,      16,      16,      16, 
        16,      16,      16,      16, 
        16,      16,      16,      16, 
        16,      16,      16,      17, 
        200,      2,      2,      0, 
        0,      7,      0,      16, 
        0};
#line 278 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int *prec  ;
#line 287 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int type[53]  = 
#line 287
  {      0,      384,      1,      1, 
        385,      385,      1,      1, 
        16,      16,      16,      4, 
        4,      4,      4,      4, 
        16,      16,      8,      8, 
        8,      8,      8,      8, 
        18,      18,      16,      129, 
        129,      33,      33,      33, 
        33,      33,      33,      65, 
        65,      65,      65,      65, 
        66,      66,      17,      5, 
        129,      1,      1,      256, 
        256,      5,      256,      33, 
        256};
#line 305 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int mtok  ;
#line 306 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int sp  =    -1;
#line 322 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static struct mathvalue *stack  ;
#line 336 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber getmathparam(struct mathvalue *mptr ) 
{ 
  mnumber result ;
  char *s ;
  void *tmp ;
  Value tmp___0 ;

  {
#line 340
  if (! mptr->pval) {
    {
#line 341
    s = mptr->lval;
#line 342
    tmp = zhalloc(sizeof(struct value ));
#line 342
    mptr->pval = (Value )tmp;
#line 343
    tmp___0 = getvalue(mptr->pval, & s, 1);
    }
#line 343
    if (! tmp___0) {
#line 345
      mptr->pval = (Value )((void *)0);
#line 346
      if (opts[56]) {
#line 347
        result.type = 2;
#line 348
        result.u.d = 0.0;
#line 349
        return (result);
      }
#line 351
      return (zero_mnumber);
    }
  }
  {
#line 354
  result = getnumvalue(mptr->pval);
  }
#line 355
  if (opts[56]) {
#line 355
    if (result.type == 1) {
#line 356
      result.type = 2;
#line 357
      result.u.d = (double )result.u.l;
    }
  }
#line 359
  return (result);
}
}
#line 362 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber mathevall(char *s , enum prec_type prec_tp , char **ep___0 ) 
{ 
  int xlastbase ;
  int xnoeval ;
  int xunary ;
  int *xprec ;
  char *xptr ;
  mnumber xyyval ;
  char *xyylval ;
  int xsp ;
  struct mathvalue *xstack ;
  struct mathvalue nstack[100] ;
  mnumber ret ;
  int tmp ;
  int tmp___0 ;
  void *__cil_tmp17 ;
  int __cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;

  {
#line 370
  xstack = (struct mathvalue *)0;
#line 373
  if (mlevel >= 256) {
    {
#line 374
    xyyval.type = 1;
#line 375
    xyyval.u.l = (zlong )0;
#line 376
    *ep___0 = s;
#line 378
    zerr("math recursion limit exceeded: %s", *ep___0);
    }
#line 380
    return (xyyval);
  }
#line 382
  tmp = mlevel;
#line 382
  mlevel ++;
#line 382
  if (tmp) {
#line 383
    xlastbase = lastbase;
#line 384
    xnoeval = noeval;
#line 385
    xunary = unary;
#line 386
    xptr = ptr;
#line 387
    xyyval = yyval;
#line 388
    xyylval = yylval;
#line 390
    xsp = sp;
#line 391
    xstack = stack;
#line 392
    xprec = prec;
  } else {
#line 394
    xsp = 0;
#line 394
    xunary = xsp;
#line 394
    xnoeval = xunary;
#line 394
    xlastbase = xnoeval;
#line 395
    xyyval.type = 1;
#line 396
    xyyval.u.l = (zlong )0;
#line 397
    xyylval = (char *)((void *)0);
#line 398
    xptr = (char *)((void *)0);
#line 399
    xprec = (int *)((void *)0);
  }
#line 401
  if (opts[40]) {
#line 401
    prec = c_prec;
  } else {
#line 401
    prec = z_prec;
  }
#line 402
  stack = nstack;
#line 403
  lastbase = -1;
#line 404
  ptr = s;
#line 405
  sp = -1;
#line 406
  unary = 1;
#line 407
  (stack + 0)->val.type = 1;
#line 408
  (stack + 0)->val.u.l = (zlong )0;
#line 409
  if ((unsigned int )prec_tp == 0U) {
#line 409
    tmp___0 = *(prec + 43) + 1;
  } else {
#line 409
    tmp___0 = *(prec + 43) - 1;
  }
  {
#line 409
  mathparse(tmp___0);
  }
#line 415
  if (mtok == 1) {
#line 415
    if (! errflag) {
      {
#line 416
      zerr("bad math expression: unexpected \')\'");
      }
    }
  }
#line 417
  *ep___0 = ptr;
#line 421
  if (errflag) {
#line 433
    ret.type = 1;
#line 434
    ret.u.l = (zlong )0;
  } else
#line 436
  if ((stack + 0)->val.type == 4) {
    {
#line 437
    ret = getmathparam(stack);
    }
  } else {
#line 439
    ret = (stack + 0)->val;
  }
#line 442
  mlevel --;
#line 442
  if (mlevel) {
#line 443
    lastbase = xlastbase;
#line 444
    noeval = xnoeval;
#line 445
    unary = xunary;
#line 446
    ptr = xptr;
#line 447
    yyval = xyyval;
#line 448
    yylval = xyylval;
#line 450
    sp = xsp;
#line 451
    stack = xstack;
#line 452
    prec = xprec;
  }
#line 454
  lastmathval = ret;
#line 454
  return (lastmathval);
}
}
#line 457 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int lexconstant(void) 
{ 
  char *prev_locale ;
  char *nptr ;
  int lowchar ;
  char *ptr2 ;
  char *ptr2___0 ;
  char *tmp ;
  int len ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 465
  nptr = ptr;
#line 466
  if ((int )*nptr == 45) {
#line 467
    nptr ++;
  }
#line 469
  if ((int )*nptr == 48) {
    {
#line 471
    nptr ++;
#line 472
    lowchar = tolower((int )*nptr);
    }
#line 473
    if (lowchar == 120) {
#line 473
      goto _L;
    } else
#line 473
    if (lowchar == 98) {
      _L: /* CIL Label */ 
      {
#line 475
      yyval.u.l = zstrtol_underscore((char const   *)ptr, & ptr, 0, 1);
      }
#line 477
      if (lowchar == 98) {
#line 477
        lastbase = 2;
      } else {
#line 477
        lastbase = 16;
      }
#line 478
      if (opts[56]) {
#line 480
        yyval.type = 2;
#line 481
        yyval.u.d = (double )yyval.u.l;
      }
#line 483
      return (47);
    } else
#line 485
    if (opts[123]) {
#line 494
      ptr2 = nptr;
      {
#line 494
      while (1) {
        while_continue: /* CIL Label */ ;
#line 494
        if (! ((int )typtab[(unsigned char )*ptr2] & 1)) {
#line 494
          if (! ((int )*ptr2 == 95)) {
#line 494
            goto while_break;
          }
        }
#line 494
        ptr2 ++;
      }
      while_break: /* CIL Label */ ;
      }
#line 497
      if ((unsigned long )ptr2 > (unsigned long )nptr) {
#line 497
        if ((int )*ptr2 != 46) {
#line 497
          if ((int )*ptr2 != 101) {
#line 497
            if ((int )*ptr2 != 69) {
#line 497
              if ((int )*ptr2 != 35) {
                {
#line 500
                yyval.u.l = zstrtol_underscore((char const   *)ptr, & ptr, 0, 1);
#line 501
                lastbase = 8;
                }
#line 502
                if (opts[56]) {
#line 504
                  yyval.type = 2;
#line 505
                  yyval.u.d = (double )yyval.u.l;
                }
#line 507
                return (47);
              }
            }
          }
        }
      }
#line 509
      nptr = ptr2;
    }
  }
  {
#line 512
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 512
    if (! ((int )typtab[(unsigned char )*nptr] & 1)) {
#line 512
      if (! ((int )*nptr == 95)) {
#line 512
        goto while_break___0;
      }
    }
#line 513
    nptr ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 515
  if ((int )*nptr == 46) {
#line 515
    goto _L___1;
  } else
#line 515
  if ((int )*nptr == 101) {
#line 515
    goto _L___1;
  } else
#line 515
  if ((int )*nptr == 69) {
    _L___1: /* CIL Label */ 
    {
#line 518
    yyval.type = 2;
#line 520
    tmp = setlocale(1, (char const   *)((void *)0));
#line 520
    prev_locale = dupstring((char const   *)tmp);
#line 521
    setlocale(1, "POSIX");
    }
#line 523
    if ((int )*nptr == 46) {
#line 524
      nptr ++;
      {
#line 525
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 525
        if (! ((int )typtab[(unsigned char )*nptr] & 1)) {
#line 525
          if (! ((int )*nptr == 95)) {
#line 525
            goto while_break___1;
          }
        }
#line 526
        nptr ++;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 528
    if ((int )*nptr == 101) {
#line 528
      goto _L___0;
    } else
#line 528
    if ((int )*nptr == 69) {
      _L___0: /* CIL Label */ 
#line 529
      nptr ++;
#line 530
      if ((int )*nptr == 43) {
#line 531
        nptr ++;
      } else
#line 530
      if ((int )*nptr == 45) {
#line 531
        nptr ++;
      }
      {
#line 532
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 532
        if (! ((int )typtab[(unsigned char )*nptr] & 1)) {
#line 532
          if (! ((int )*nptr == 95)) {
#line 532
            goto while_break___2;
          }
        }
#line 533
        nptr ++;
      }
      while_break___2: /* CIL Label */ ;
      }
    }
#line 535
    ptr2___0 = ptr;
    {
#line 535
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 535
      if (! ((unsigned long )ptr2___0 < (unsigned long )nptr)) {
#line 535
        goto while_break___3;
      }
#line 536
      if ((int )*ptr2___0 == 95) {
        {
#line 537
        len = (int )(nptr - ptr);
#line 538
        ptr = ztrdup((char const   *)ptr);
#line 539
        ptr2___0 = ptr;
        }
        {
#line 539
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 539
          if (! len) {
#line 539
            goto while_break___4;
          }
#line 540
          if ((int )*ptr2___0 == 95) {
            {
#line 541
            chuck(ptr2___0);
            }
          } else {
#line 543
            ptr2___0 ++;
          }
#line 539
          len --;
        }
        while_break___4: /* CIL Label */ ;
        }
#line 545
        goto while_break___3;
      }
#line 535
      ptr2___0 ++;
    }
    while_break___3: /* CIL Label */ ;
    }
    {
#line 548
    yyval.u.d = strtod((char const   */* __restrict  */)ptr, (char **/* __restrict  */)(& nptr));
    }
#line 550
    if (prev_locale) {
      {
#line 550
      setlocale(1, (char const   *)prev_locale);
      }
    }
#line 552
    if ((unsigned long )ptr == (unsigned long )nptr) {
      {
#line 553
      zerr("bad floating point constant");
      }
#line 554
      return (44);
    } else
#line 552
    if ((int )*nptr == 46) {
      {
#line 553
      zerr("bad floating point constant");
      }
#line 554
      return (44);
    }
#line 556
    ptr = nptr;
  } else {
    {
#line 559
    yyval.u.l = zstrtol_underscore((char const   *)ptr, & ptr, 10, 1);
    }
#line 561
    if ((int )*ptr == 35) {
      {
#line 562
      ptr ++;
#line 563
      lastbase = (int )yyval.u.l;
#line 564
      yyval.u.l = zstrtol_underscore((char const   *)ptr, & ptr, lastbase, 1);
      }
    }
#line 566
    if (opts[56]) {
#line 568
      yyval.type = 2;
#line 569
      yyval.u.d = (double )yyval.u.l;
    }
  }
#line 572
  return (47);
}
}
#line 582 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int zzlex(void) 
{ 
  int cct ;
  char *ie ;
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int n ;
  int checkradix ;
  zlong tmp___4 ;
  zlong tmp___5 ;
  zlong tmp___6 ;
  int tmp___7 ;
  int v ;
  int func ;
  char *p ;
  char op___0 ;
  char cp ;
  int tmp___8 ;
  int l ;
  int tmp___9 ;
  int tmp___10 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
#line 585
  cct = 0;
#line 587
  yyval.type = 1;
  {
#line 589
  while (1) {
    while_continue: /* CIL Label */ ;
#line 590
    tmp = ptr;
#line 590
    ptr ++;
    {
#line 591
    if ((int )*tmp == 43) {
#line 591
      goto case_43;
    }
#line 601
    if ((int )*tmp == 45) {
#line 601
      goto case_45;
    }
#line 618
    if ((int )*tmp == 40) {
#line 618
      goto case_40;
    }
#line 620
    if ((int )*tmp == 41) {
#line 620
      goto case_41;
    }
#line 622
    if ((int )*tmp == 33) {
#line 622
      goto case_33;
    }
#line 628
    if ((int )*tmp == 126) {
#line 628
      goto case_126;
    }
#line 630
    if ((int )*tmp == 38) {
#line 630
      goto case_38;
    }
#line 642
    if ((int )*tmp == 124) {
#line 642
      goto case_124;
    }
#line 654
    if ((int )*tmp == 94) {
#line 654
      goto case_94;
    }
#line 666
    if ((int )*tmp == 42) {
#line 666
      goto case_42;
    }
#line 679
    if ((int )*tmp == 47) {
#line 679
      goto case_47;
    }
#line 685
    if ((int )*tmp == 37) {
#line 685
      goto case_37;
    }
#line 691
    if ((int )*tmp == 60) {
#line 691
      goto case_60;
    }
#line 703
    if ((int )*tmp == 62) {
#line 703
      goto case_62;
    }
#line 715
    if ((int )*tmp == 61) {
#line 715
      goto case_61;
    }
#line 721
    if ((int )*tmp == 36) {
#line 721
      goto case_36;
    }
#line 724
    if ((int )*tmp == 63) {
#line 724
      goto case_63;
    }
#line 730
    if ((int )*tmp == 58) {
#line 730
      goto case_58;
    }
#line 732
    if ((int )*tmp == 44) {
#line 732
      goto case_44;
    }
#line 734
    if ((int )*tmp == 0) {
#line 734
      goto case_0;
    }
#line 737
    if ((int )*tmp == 91) {
#line 737
      goto case_91;
    }
#line 789
    if ((int )*tmp == 10) {
#line 789
      goto case_10;
    }
#line 789
    if ((int )*tmp == 9) {
#line 789
      goto case_10;
    }
#line 789
    if ((int )*tmp == 32) {
#line 789
      goto case_10;
    }
#line 792
    goto switch_default;
    case_43: /* CIL Label */ 
#line 592
    if ((int )*ptr == 43) {
#line 593
      ptr ++;
#line 594
      if (unary) {
#line 594
        tmp___0 = 45;
      } else {
#line 594
        tmp___0 = 4;
      }
#line 594
      return (tmp___0);
    }
#line 596
    if ((int )*ptr == 61) {
#line 597
      ptr ++;
#line 598
      return (30);
    }
#line 600
    if (unary) {
#line 600
      tmp___1 = 6;
    } else {
#line 600
      tmp___1 = 14;
    }
#line 600
    return (tmp___1);
    case_45: /* CIL Label */ 
#line 602
    if ((int )*ptr == 45) {
#line 603
      ptr ++;
#line 604
      if (unary) {
#line 604
        tmp___2 = 46;
      } else {
#line 604
        tmp___2 = 5;
      }
#line 604
      return (tmp___2);
    }
#line 606
    if ((int )*ptr == 61) {
#line 607
      ptr ++;
#line 608
      return (31);
    }
#line 610
    if (unary) {
#line 611
      if ((int )typtab[(unsigned char )*ptr] & 1) {
        {
#line 612
        ptr --;
#line 613
        tmp___3 = lexconstant();
        }
#line 613
        return (tmp___3);
      } else
#line 611
      if ((int )*ptr == 46) {
        {
#line 612
        ptr --;
#line 613
        tmp___3 = lexconstant();
        }
#line 613
        return (tmp___3);
      } else {
#line 615
        return (7);
      }
    } else {
#line 617
      return (15);
    }
    case_40: /* CIL Label */ 
#line 619
    return (0);
    case_41: /* CIL Label */ 
#line 621
    return (1);
    case_33: /* CIL Label */ 
#line 623
    if ((int )*ptr == 61) {
#line 624
      ptr ++;
#line 625
      return (23);
    }
#line 627
    return (2);
    case_126: /* CIL Label */ 
#line 629
    return (3);
    case_38: /* CIL Label */ 
#line 631
    if ((int )*ptr == 38) {
#line 632
      ptr ++;
#line 632
      if ((int )*ptr == 61) {
#line 633
        ptr ++;
#line 634
        return (40);
      }
#line 636
      return (24);
    } else
#line 637
    if ((int )*ptr == 61) {
#line 638
      ptr ++;
#line 639
      return (35);
    }
#line 641
    return (8);
    case_124: /* CIL Label */ 
#line 643
    if ((int )*ptr == 124) {
#line 644
      ptr ++;
#line 644
      if ((int )*ptr == 61) {
#line 645
        ptr ++;
#line 646
        return (41);
      }
#line 648
      return (25);
    } else
#line 649
    if ((int )*ptr == 61) {
#line 650
      ptr ++;
#line 651
      return (37);
    }
#line 653
    return (10);
    case_94: /* CIL Label */ 
#line 655
    if ((int )*ptr == 94) {
#line 656
      ptr ++;
#line 656
      if ((int )*ptr == 61) {
#line 657
        ptr ++;
#line 658
        return (42);
      }
#line 660
      return (26);
    } else
#line 661
    if ((int )*ptr == 61) {
#line 662
      ptr ++;
#line 663
      return (36);
    }
#line 665
    return (9);
    case_42: /* CIL Label */ 
#line 667
    if ((int )*ptr == 42) {
#line 668
      ptr ++;
#line 668
      if ((int )*ptr == 61) {
#line 669
        ptr ++;
#line 670
        return (51);
      }
#line 672
      return (49);
    }
#line 674
    if ((int )*ptr == 61) {
#line 675
      ptr ++;
#line 676
      return (32);
    }
#line 678
    return (11);
    case_47: /* CIL Label */ 
#line 680
    if ((int )*ptr == 61) {
#line 681
      ptr ++;
#line 682
      return (33);
    }
#line 684
    return (12);
    case_37: /* CIL Label */ 
#line 686
    if ((int )*ptr == 61) {
#line 687
      ptr ++;
#line 688
      return (34);
    }
#line 690
    return (13);
    case_60: /* CIL Label */ 
#line 692
    if ((int )*ptr == 60) {
#line 693
      ptr ++;
#line 693
      if ((int )*ptr == 61) {
#line 694
        ptr ++;
#line 695
        return (38);
      }
#line 697
      return (16);
    } else
#line 698
    if ((int )*ptr == 61) {
#line 699
      ptr ++;
#line 700
      return (19);
    }
#line 702
    return (18);
    case_62: /* CIL Label */ 
#line 704
    if ((int )*ptr == 62) {
#line 705
      ptr ++;
#line 705
      if ((int )*ptr == 61) {
#line 706
        ptr ++;
#line 707
        return (39);
      }
#line 709
      return (17);
    } else
#line 710
    if ((int )*ptr == 61) {
#line 711
      ptr ++;
#line 712
      return (21);
    }
#line 714
    return (20);
    case_61: /* CIL Label */ 
#line 716
    if ((int )*ptr == 61) {
#line 717
      ptr ++;
#line 718
      return (22);
    }
#line 720
    return (29);
    case_36: /* CIL Label */ 
#line 722
    yyval.u.l = mypid;
#line 723
    return (47);
    case_63: /* CIL Label */ 
#line 725
    if (unary) {
#line 726
      yyval.u.l = lastval;
#line 727
      return (47);
    }
#line 729
    return (27);
    case_58: /* CIL Label */ 
#line 731
    return (28);
    case_44: /* CIL Label */ 
#line 733
    return (43);
    case_0: /* CIL Label */ 
#line 735
    ptr --;
#line 736
    return (44);
    case_91: /* CIL Label */ 
#line 739
    checkradix = 0;
#line 741
    if ((int )typtab[(unsigned char )*ptr] & 1) {
      {
#line 742
      tmp___4 = zstrtol((char const   *)ptr, & ptr, 10);
#line 742
      n = (int )tmp___4;
      }
#line 743
      if ((int )*ptr != 93) {
        {
#line 744
        zerr("bad base syntax");
        }
#line 745
        return (44);
      } else {
#line 743
        ptr ++;
#line 743
        if (! ((int )typtab[(unsigned char )*ptr] & 1)) {
          {
#line 744
          zerr("bad base syntax");
          }
#line 745
          return (44);
        }
      }
      {
#line 747
      lastbase = n;
#line 747
      yyval.u.l = zstrtol((char const   *)ptr, & ptr, lastbase);
      }
#line 748
      return (47);
    }
#line 750
    if ((int )*ptr == 35) {
#line 751
      n = 1;
#line 752
      ptr ++;
#line 752
      if ((int )*ptr == 35) {
#line 753
        n = -1;
#line 754
        ptr ++;
      }
#line 756
      if (! ((int )typtab[(unsigned char )*ptr] & 1)) {
#line 756
        if ((int )*ptr != 95) {
#line 757
          goto bofs;
        }
      }
#line 758
      if ((int )typtab[(unsigned char )*ptr] & 1) {
        {
#line 759
        tmp___5 = zstrtol((char const   *)ptr, & ptr, 10);
#line 759
        outputradix = (int )((zlong )n * tmp___5);
#line 760
        checkradix = 1;
        }
      }
#line 762
      if ((int )*ptr == 95) {
#line 763
        ptr ++;
#line 764
        if ((int )typtab[(unsigned char )*ptr] & 1) {
          {
#line 765
          tmp___6 = zstrtol((char const   *)ptr, & ptr, 10);
#line 765
          outputunderscore = (int )tmp___6;
          }
        } else {
#line 767
          outputunderscore = 3;
        }
      }
    } else {
      bofs: 
      {
#line 771
      zerr("bad output format specification");
      }
#line 772
      return (44);
    }
#line 774
    if ((int )*ptr != 93) {
#line 775
      goto bofs;
    }
#line 776
    if (checkradix) {
#line 777
      if (outputradix < 0) {
#line 777
        n = - outputradix;
      } else {
#line 777
        n = outputradix;
      }
#line 778
      if (n < 2) {
        {
#line 779
        zerr("invalid base (must be 2 to 36 inclusive): %d", outputradix);
        }
#line 781
        return (44);
      } else
#line 778
      if (n > 36) {
        {
#line 779
        zerr("invalid base (must be 2 to 36 inclusive): %d", outputradix);
        }
#line 781
        return (44);
      }
    }
#line 784
    ptr ++;
#line 785
    goto switch_break;
    case_10: /* CIL Label */ 
    case_9: /* CIL Label */ 
    case_32: /* CIL Label */ 
#line 790
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 793
    ptr --;
#line 793
    if ((int )typtab[(unsigned char )*ptr] & 1) {
      {
#line 794
      tmp___7 = lexconstant();
      }
#line 794
      return (tmp___7);
    } else
#line 793
    if ((int )*ptr == 46) {
      {
#line 794
      tmp___7 = lexconstant();
      }
#line 794
      return (tmp___7);
    }
#line 795
    if ((int )*ptr == 35) {
#line 796
      ptr ++;
#line 796
      if ((int )*ptr == 92) {
#line 796
        goto _L;
      } else
#line 796
      if ((int )*ptr == 35) {
        _L: /* CIL Label */ 
#line 799
        ptr ++;
#line 800
        if (! *ptr) {
          {
#line 801
          zerr("bad math expression: character missing after ##");
          }
#line 802
          return (44);
        }
        {
#line 804
        ptr = getkeystring(ptr, (int *)((void *)0), 71, & v);
#line 805
        yyval.u.l = (zlong )v;
        }
#line 806
        return (47);
      }
#line 808
      cct = 1;
    }
    {
#line 810
    ie = itype_end((char const   *)ptr, 1 << 7, 0);
    }
#line 810
    if ((unsigned long )ie != (unsigned long )ptr) {
#line 811
      func = 0;
#line 814
      p = ptr;
#line 815
      ptr = ie;
#line 816
      if ((int )*ptr == 91) {
#line 816
        goto _L___0;
      } else
#line 816
      if (! cct) {
#line 816
        if ((int )*ptr == 40) {
          _L___0: /* CIL Label */ 
#line 817
          op___0 = *ptr;
#line 817
          if ((int )*ptr == 91) {
#line 817
            tmp___8 = ']';
          } else {
#line 817
            tmp___8 = ')';
          }
#line 817
          cp = (char )tmp___8;
#line 819
          func = (int )op___0 == 40;
#line 820
          ptr ++;
#line 820
          l = 1;
          {
#line 820
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 820
            if (*ptr) {
#line 820
              if (! l) {
#line 820
                goto while_break___0;
              }
            } else {
#line 820
              goto while_break___0;
            }
#line 821
            if ((int )*ptr == (int )op___0) {
#line 822
              l ++;
            }
#line 823
            if ((int )*ptr == (int )cp) {
#line 824
              l --;
            }
#line 825
            if ((int )*ptr == 92) {
#line 825
              if (*(ptr + 1)) {
#line 826
                ptr ++;
              }
            }
#line 820
            ptr ++;
          }
          while_break___0: /* CIL Label */ ;
          }
        }
      }
      {
#line 829
      yylval = dupstrpfx((char const   *)p, (int )(ptr - p));
      }
#line 830
      if (func) {
#line 830
        tmp___10 = 52;
      } else {
#line 830
        if (cct) {
#line 830
          tmp___9 = 50;
        } else {
#line 830
          tmp___9 = 48;
        }
#line 830
        tmp___10 = tmp___9;
      }
#line 830
      return (tmp___10);
    } else
#line 832
    if (cct) {
      {
#line 833
      yyval.u.l = poundgetfn((Param )((void *)0));
      }
#line 834
      return (47);
    }
#line 836
    return (44);
    switch_break: /* CIL Label */ ;
    }
#line 589
    cct = 0;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 841 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static void push(mnumber val , char *lval , int getme ) 
{ 
  char *__cil_tmp4 ;

  {
#line 844
  if (sp == 99) {
    {
#line 845
    zerr("stack overflow");
    }
  } else {
#line 847
    sp ++;
  }
#line 848
  (stack + sp)->val = val;
#line 849
  (stack + sp)->lval = lval;
#line 850
  (stack + sp)->pval = (Value )((void *)0);
#line 851
  if (getme) {
#line 852
    (stack + sp)->val.type = 4;
  }
#line 853
  return;
}
}
#line 856 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber pop(int noget ) 
{ 
  struct mathvalue *mv ;
  mnumber tmp ;

  {
#line 859
  mv = stack + sp;
#line 861
  if (mv->val.type == 4) {
#line 861
    if (! noget) {
      {
#line 862
      mv->val = getmathparam(mv);
      }
    }
  }
#line 863
  sp --;
#line 864
  if (errflag) {
#line 864
    tmp = zero_mnumber;
  } else {
#line 864
    tmp = mv->val;
  }
#line 864
  return (tmp);
}
}
#line 868 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber getcvar(char *s ) 
{ 
  char *t ;
  mnumber mn ;
  wint_t wc ;
  sigset_t oset ;
  int tmp ;
  sigset_t oset___0 ;
  void *__cil_tmp8 ;
  void *__cil_tmp9 ;

  {
  {
#line 873
  mn.type = 1;
#line 875
  queueing_enabled ++;
#line 876
  t = getsparam(s);
  }
#line 876
  if (t) {
#line 880
    if (opts[116]) {
      {
#line 882
      mb_metacharlenconv((char const   *)t, & wc);
      }
#line 883
      if (wc != 4294967295U) {
#line 884
        mn.u.l = (zlong )wc;
        {
#line 885
        while (1) {
          while_continue: /* CIL Label */ ;
#line 885
          queueing_enabled --;
#line 885
          if (! queueing_enabled) {
            {
#line 885
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 885
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 885
                if (! (queue_front != queue_rear)) {
#line 885
                  goto while_break___1;
                }
                {
#line 885
                queue_front = (queue_front + 1) % 128;
#line 885
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 885
                zhandler(signal_queue[queue_front]);
#line 885
                signal_setmask(oset);
                }
              }
              while_break___1: /* CIL Label */ ;
              }
#line 885
              goto while_break___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
#line 885
          goto while_break;
        }
        while_break: /* CIL Label */ ;
        }
#line 886
        return (mn);
      }
    }
#line 890
    if ((int )*t == -125) {
#line 890
      tmp = (int )*(t + 1) ^ 32;
    } else {
#line 890
      tmp = (int )*t;
    }
#line 890
    mn.u.l = (zlong )((unsigned char )tmp);
  } else {
#line 877
    mn.u.l = (zlong )0;
  }
  {
#line 892
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 892
    queueing_enabled --;
#line 892
    if (! queueing_enabled) {
      {
#line 892
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 892
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 892
          if (! (queue_front != queue_rear)) {
#line 892
            goto while_break___4;
          }
          {
#line 892
          queue_front = (queue_front + 1) % 128;
#line 892
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 892
          zhandler(signal_queue[queue_front]);
#line 892
          signal_setmask(oset___0);
          }
        }
        while_break___4: /* CIL Label */ ;
        }
#line 892
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 892
    goto while_break___2;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 893
  return (mn);
}
}
#line 897 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber setmathvar(struct mathvalue *mvp , mnumber v ) 
{ 
  Param pm ;
  char *s ;
  char *ptr___0 ;
  Param pm___0 ;
  HashNode tmp ;
  char *__cil_tmp8 ;

  {
#line 902
  if (mvp->pval) {
    {
#line 907
    s = mvp->lval;
#line 910
    ptr___0 = strchr((char const   *)s, '[');
    }
#line 910
    if (ptr___0) {
      {
#line 911
      s = dupstrpfx((char const   *)s, (int )(ptr___0 - s));
      }
    }
    {
#line 912
    tmp = (*(paramtab->getnode))(paramtab, (char const   *)s);
#line 912
    pm___0 = (Param )tmp;
    }
#line 913
    if ((unsigned long )pm___0 == (unsigned long )(mvp->pval)->pm) {
#line 914
      if (noeval) {
#line 915
        return (v);
      }
      {
#line 916
      setnumvalue(mvp->pval, v);
      }
#line 917
      return (v);
    }
#line 920
    mvp->pval = (Value )((void *)0);
  }
#line 922
  if (! mvp->lval) {
    {
#line 923
    zerr("bad math expression: lvalue required");
#line 924
    v.type = 1;
#line 925
    v.u.l = (zlong )0;
    }
#line 926
    return (v);
  }
#line 928
  if (noeval) {
#line 929
    return (v);
  }
  {
#line 930
  untokenize(mvp->lval);
#line 931
  pm = setnparam(mvp->lval, v);
  }
#line 932
  if (pm) {
    {
#line 941
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 941
      goto case_exp;
    }
#line 949
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 949
      goto case_exp___0;
    }
#line 949
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 949
      goto case_exp___0;
    }
#line 940
    goto switch_break;
    case_exp: /* CIL Label */ 
#line 942
    if (v.type != 1) {
#line 943
      v.u.l = (zlong )v.u.d;
#line 944
      v.type = 1;
    }
#line 946
    goto switch_break;
    case_exp___0: /* CIL Label */ 
    case_exp___1: /* CIL Label */ 
#line 950
    if (v.type != 2) {
#line 951
      v.u.d = (double )v.u.l;
#line 952
      v.type = 2;
    }
#line 954
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
#line 957
  return (v);
}
}
#line 967 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber dummy  ;
#line 962 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static mnumber callmathfunc(char *o ) 
{ 
  MathFunc f ;
  char *a ;
  char *n ;
  char *tmp ;
  size_t tmp___0 ;
  mnumber tmp___1 ;
  int argc ;
  mnumber *argv ;
  mnumber *q ;
  mnumber marg___0 ;
  LinkList l ;
  LinkList tmp___2 ;
  LinkNode node ;
  char *str ;
  char buf___7[(int )(sizeof(zlong ) * 8UL + 4UL)] ;
  void *tmp___3 ;
  char *shfnam ;
  char *tmp___4 ;
  Shfunc shfunc ;
  Shfunc tmp___5 ;
  void *tmp___6 ;
  mnumber *tmp___7 ;
  mnumber tmp___8 ;
  void *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;

  {
  {
#line 969
  a = dupstring((char const   *)o);
#line 969
  n = a;
  }
  {
#line 971
  while (1) {
    while_continue: /* CIL Label */ ;
#line 971
    if (! ((int )*a != 40)) {
#line 971
      goto while_break;
    }
#line 972
    a ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 973
  tmp = a;
#line 973
  a ++;
#line 973
  *tmp = (char )'\000';
#line 974
  tmp___0 = strlen((char const   *)a);
#line 974
  *(a + (tmp___0 - 1UL)) = (char )'\000';
#line 976
  f = getmathfunc((char const   *)n, 1);
  }
#line 976
  if (f) {
#line 977
    if (f->flags & 1) {
      {
#line 978
      tmp___1 = (*(f->sfunc))(n, a, f->funcid);
      }
#line 978
      return (tmp___1);
    } else {
      {
#line 980
      argc = 0;
#line 981
      argv = (mnumber *)((void *)0);
#line 982
      tmp___2 = newlinklist();
#line 982
      l = tmp___2;
      }
#line 985
      if (f->flags & 4) {
        {
#line 987
        insertlinknode(l, l->list.last, (void *)n);
        }
      }
      {
#line 990
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 990
        if (! ((int )typtab[(unsigned char )*a] & (1 << 2))) {
#line 990
          goto while_break___0;
        }
#line 991
        a ++;
      }
      while_break___0: /* CIL Label */ ;
      }
      {
#line 992
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 992
        if (! *a) {
#line 992
          goto while_break___1;
        }
#line 993
        if (*a) {
#line 994
          argc ++;
#line 995
          if (f->flags & 4) {
            {
#line 998
            marg___0 = mathevall(a, (enum prec_type )1, & a);
            }
#line 999
            if (marg___0.type & 2) {
              {
#line 1001
              str = convfloat(marg___0.u.d, 0, 0, (FILE *)((void *)0));
              }
            } else {
              {
#line 1004
              convbase(buf___7, marg___0.u.l, 10);
#line 1005
              str = dupstring((char const   *)(buf___7));
              }
            }
            {
#line 1007
            insertlinknode(l, l->list.last, (void *)str);
            }
          } else {
            {
#line 1009
            tmp___3 = zhalloc(sizeof(mnumber ));
#line 1009
            q = (mnumber *)tmp___3;
#line 1010
            *q = mathevall(a, (enum prec_type )1, & a);
#line 1011
            insertlinknode(l, l->list.last, (void *)q);
            }
          }
#line 1013
          if (errflag) {
#line 1014
            goto while_break___1;
          } else
#line 1013
          if (mtok != 43) {
#line 1014
            goto while_break___1;
          }
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1017
      if (*a) {
#line 1017
        if (! errflag) {
          {
#line 1018
          zerr("bad math expression: illegal character: %c", (int )*a);
          }
        }
      }
#line 1019
      if (! errflag) {
#line 1020
        if (argc >= f->minargs) {
#line 1020
          if (f->maxargs < 0) {
#line 1020
            goto _L;
          } else
#line 1020
          if (argc <= f->maxargs) {
            _L: /* CIL Label */ 
#line 1022
            if (f->flags & 4) {
#line 1023
              if (f->module) {
#line 1023
                tmp___4 = f->module;
              } else {
#line 1023
                tmp___4 = n;
              }
              {
#line 1023
              shfnam = tmp___4;
#line 1024
              tmp___5 = getshfunc(shfnam);
#line 1024
              shfunc = tmp___5;
              }
#line 1025
              if (! shfunc) {
                {
#line 1026
                zerr("no such function: %s", shfnam);
                }
              } else {
                {
#line 1028
                doshfunc(shfunc, l, 1);
                }
#line 1029
                return (lastmathval);
              }
            } else {
#line 1032
              if (argc) {
                {
#line 1033
                tmp___6 = zhalloc((unsigned long )argc * sizeof(mnumber ));
#line 1033
                argv = (mnumber *)tmp___6;
#line 1033
                q = argv;
#line 1035
                node = l->list.first;
                }
                {
#line 1035
                while (1) {
                  while_continue___2: /* CIL Label */ ;
#line 1035
                  if (! node) {
#line 1035
                    goto while_break___2;
                  }
#line 1036
                  tmp___7 = q;
#line 1036
                  q ++;
#line 1036
                  *tmp___7 = *((mnumber *)node->dat);
#line 1035
                  node = node->next;
                }
                while_break___2: /* CIL Label */ ;
                }
              }
              {
#line 1038
              tmp___8 = (*(f->nfunc))(n, argc, argv, f->funcid);
              }
#line 1038
              return (tmp___8);
            }
          } else {
            {
#line 1041
            zerr("wrong number of arguments: %s", o);
            }
          }
        } else {
          {
#line 1041
          zerr("wrong number of arguments: %s", o);
          }
        }
      }
    }
  } else {
    {
#line 1045
    zerr("unknown function: %s", n);
    }
  }
#line 1048
  dummy.type = 1;
#line 1049
  dummy.u.l = (zlong )0;
#line 1051
  return (dummy);
}
}
#line 1055 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static int notzero(mnumber a ) 
{ 
  int tmp ;
  char *__cil_tmp3 ;

  {
#line 1058
  if (a.type & 1) {
#line 1058
    tmp = a.u.l == 0L;
  } else {
#line 1058
    tmp = a.u.d == 0.0;
  }
#line 1058
  if (tmp) {
    {
#line 1059
    zerr("division by zero");
    }
#line 1060
    return (0);
  }
#line 1062
  return (1);
}
}
#line 1068 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
void op(int what ) 
{ 
  mnumber a ;
  mnumber b ;
  mnumber c ;
  mnumber *spval ;
  int tp ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  zlong tmp___10 ;
  int tmp___11 ;
  double tst ;
  struct mathvalue *mvp ;
  mnumber tmp___13 ;
  double tmp___14 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
#line 1072
  tp = type[what];
#line 1074
  if (errflag) {
#line 1075
    return;
  }
#line 1076
  if (sp < 0) {
    {
#line 1077
    zerr("bad math expression: stack empty");
    }
#line 1078
    return;
  }
#line 1081
  if (tp & 124) {
    {
#line 1084
    b = pop(0);
#line 1085
    a = pop(what == 29);
    }
#line 1086
    if (errflag) {
#line 1087
      return;
    }
#line 1089
    if (tp & 80) {
#line 1091
      if (a.type & 2) {
#line 1092
        a.type = 1;
#line 1093
        a.u.l = (zlong )a.u.d;
      }
#line 1095
      if (b.type & 2) {
#line 1096
        b.type = 1;
#line 1097
        b.u.l = (zlong )b.u.d;
      }
    } else
#line 1099
    if (a.type != b.type) {
#line 1099
      if (what != 43) {
#line 1099
        if (a.type != 4) {
#line 1099
          goto _L;
        } else
#line 1099
        if (what != 29) {
          _L: /* CIL Label */ 
#line 1110
          if (a.type & 1) {
#line 1111
            a.type = 2;
#line 1112
            a.u.d = (double )a.u.l;
          }
#line 1114
          if (b.type & 1) {
#line 1115
            b.type = 2;
#line 1116
            b.u.d = (double )b.u.l;
          }
        }
      }
    }
#line 1120
    if (noeval) {
#line 1121
      c.type = 1;
#line 1122
      c.u.l = (zlong )0;
    } else {
#line 1128
      if (tp & 8) {
#line 1128
        c.type = 1;
      } else {
#line 1128
        c.type = a.type;
      }
      {
#line 1132
      if (what == 35) {
#line 1132
        goto case_35;
      }
#line 1132
      if (what == 8) {
#line 1132
        goto case_35;
      }
#line 1136
      if (what == 36) {
#line 1136
        goto case_36;
      }
#line 1136
      if (what == 9) {
#line 1136
        goto case_36;
      }
#line 1140
      if (what == 37) {
#line 1140
        goto case_37;
      }
#line 1140
      if (what == 10) {
#line 1140
        goto case_37;
      }
#line 1144
      if (what == 32) {
#line 1144
        goto case_32;
      }
#line 1144
      if (what == 11) {
#line 1144
        goto case_32;
      }
#line 1151
      if (what == 33) {
#line 1151
        goto case_33;
      }
#line 1151
      if (what == 12) {
#line 1151
        goto case_33;
      }
#line 1172
      if (what == 34) {
#line 1172
        goto case_34;
      }
#line 1172
      if (what == 13) {
#line 1172
        goto case_34;
      }
#line 1188
      if (what == 30) {
#line 1188
        goto case_30;
      }
#line 1188
      if (what == 14) {
#line 1188
        goto case_30;
      }
#line 1195
      if (what == 31) {
#line 1195
        goto case_31;
      }
#line 1195
      if (what == 15) {
#line 1195
        goto case_31;
      }
#line 1202
      if (what == 38) {
#line 1202
        goto case_38;
      }
#line 1202
      if (what == 16) {
#line 1202
        goto case_38;
      }
#line 1206
      if (what == 39) {
#line 1206
        goto case_39;
      }
#line 1206
      if (what == 17) {
#line 1206
        goto case_39;
      }
#line 1209
      if (what == 18) {
#line 1209
        goto case_18;
      }
#line 1213
      if (what == 19) {
#line 1213
        goto case_19;
      }
#line 1217
      if (what == 20) {
#line 1217
        goto case_20;
      }
#line 1221
      if (what == 21) {
#line 1221
        goto case_21;
      }
#line 1225
      if (what == 22) {
#line 1225
        goto case_22;
      }
#line 1229
      if (what == 23) {
#line 1229
        goto case_23;
      }
#line 1234
      if (what == 40) {
#line 1234
        goto case_40;
      }
#line 1234
      if (what == 24) {
#line 1234
        goto case_40;
      }
#line 1238
      if (what == 41) {
#line 1238
        goto case_41;
      }
#line 1238
      if (what == 25) {
#line 1238
        goto case_41;
      }
#line 1242
      if (what == 42) {
#line 1242
        goto case_42;
      }
#line 1242
      if (what == 26) {
#line 1242
        goto case_42;
      }
#line 1245
      if (what == 43) {
#line 1245
        goto case_43;
      }
#line 1249
      if (what == 51) {
#line 1249
        goto case_51;
      }
#line 1249
      if (what == 49) {
#line 1249
        goto case_51;
      }
#line 1272
      if (what == 29) {
#line 1272
        goto case_29;
      }
#line 1130
      goto switch_break;
      case_35: /* CIL Label */ 
      case_8: /* CIL Label */ 
#line 1133
      c.u.l = a.u.l & b.u.l;
#line 1134
      goto switch_break;
      case_36: /* CIL Label */ 
      case_9: /* CIL Label */ 
#line 1137
      c.u.l = a.u.l ^ b.u.l;
#line 1138
      goto switch_break;
      case_37: /* CIL Label */ 
      case_10: /* CIL Label */ 
#line 1141
      c.u.l = a.u.l | b.u.l;
#line 1142
      goto switch_break;
      case_32: /* CIL Label */ 
      case_11: /* CIL Label */ 
#line 1145
      if (c.type == 2) {
#line 1146
        c.u.d = a.u.d * b.u.d;
      } else {
#line 1148
        c.u.l = a.u.l * b.u.l;
      }
#line 1149
      goto switch_break;
      case_33: /* CIL Label */ 
      case_12: /* CIL Label */ 
      {
#line 1152
      tmp = notzero(b);
      }
#line 1152
      if (! tmp) {
#line 1153
        return;
      }
#line 1154
      if (c.type == 2) {
#line 1155
        c.u.d = a.u.d / b.u.d;
      } else
#line 1165
      if (b.u.l == -1L) {
#line 1166
        c.u.l = - a.u.l;
      } else {
#line 1168
        c.u.l = a.u.l / b.u.l;
      }
#line 1170
      goto switch_break;
      case_34: /* CIL Label */ 
      case_13: /* CIL Label */ 
      {
#line 1173
      tmp___0 = notzero(b);
      }
#line 1173
      if (! tmp___0) {
#line 1174
        return;
      }
#line 1180
      if (c.type == 2) {
        {
#line 1181
        c.u.d = fmod(a.u.d, b.u.d);
        }
      } else
#line 1182
      if (b.u.l == -1L) {
#line 1183
        c.u.l = (zlong )0;
      } else {
#line 1185
        c.u.l = a.u.l % b.u.l;
      }
#line 1186
      goto switch_break;
      case_30: /* CIL Label */ 
      case_14: /* CIL Label */ 
#line 1189
      if (c.type == 2) {
#line 1190
        c.u.d = a.u.d + b.u.d;
      } else {
#line 1192
        c.u.l = a.u.l + b.u.l;
      }
#line 1193
      goto switch_break;
      case_31: /* CIL Label */ 
      case_15: /* CIL Label */ 
#line 1196
      if (c.type == 2) {
#line 1197
        c.u.d = a.u.d - b.u.d;
      } else {
#line 1199
        c.u.l = a.u.l - b.u.l;
      }
#line 1200
      goto switch_break;
      case_38: /* CIL Label */ 
      case_16: /* CIL Label */ 
#line 1203
      c.u.l = a.u.l << b.u.l;
#line 1204
      goto switch_break;
      case_39: /* CIL Label */ 
      case_17: /* CIL Label */ 
#line 1207
      c.u.l = a.u.l >> b.u.l;
#line 1208
      goto switch_break;
      case_18: /* CIL Label */ 
#line 1210
      if (a.type == 2) {
#line 1210
        tmp___1 = a.u.d < b.u.d;
      } else {
#line 1210
        tmp___1 = a.u.l < b.u.l;
      }
#line 1210
      c.u.l = (zlong )tmp___1;
#line 1212
      goto switch_break;
      case_19: /* CIL Label */ 
#line 1214
      if (a.type == 2) {
#line 1214
        tmp___2 = a.u.d <= b.u.d;
      } else {
#line 1214
        tmp___2 = a.u.l <= b.u.l;
      }
#line 1214
      c.u.l = (zlong )tmp___2;
#line 1216
      goto switch_break;
      case_20: /* CIL Label */ 
#line 1218
      if (a.type == 2) {
#line 1218
        tmp___3 = a.u.d > b.u.d;
      } else {
#line 1218
        tmp___3 = a.u.l > b.u.l;
      }
#line 1218
      c.u.l = (zlong )tmp___3;
#line 1220
      goto switch_break;
      case_21: /* CIL Label */ 
#line 1222
      if (a.type == 2) {
#line 1222
        tmp___4 = a.u.d >= b.u.d;
      } else {
#line 1222
        tmp___4 = a.u.l >= b.u.l;
      }
#line 1222
      c.u.l = (zlong )tmp___4;
#line 1224
      goto switch_break;
      case_22: /* CIL Label */ 
#line 1226
      if (a.type == 2) {
#line 1226
        tmp___5 = a.u.d == b.u.d;
      } else {
#line 1226
        tmp___5 = a.u.l == b.u.l;
      }
#line 1226
      c.u.l = (zlong )tmp___5;
#line 1228
      goto switch_break;
      case_23: /* CIL Label */ 
#line 1230
      if (a.type == 2) {
#line 1230
        tmp___6 = a.u.d != b.u.d;
      } else {
#line 1230
        tmp___6 = a.u.l != b.u.l;
      }
#line 1230
      c.u.l = (zlong )tmp___6;
#line 1232
      goto switch_break;
      case_40: /* CIL Label */ 
      case_24: /* CIL Label */ 
#line 1235
      if (a.u.l) {
#line 1235
        if (b.u.l) {
#line 1235
          tmp___7 = 1;
        } else {
#line 1235
          tmp___7 = 0;
        }
      } else {
#line 1235
        tmp___7 = 0;
      }
#line 1235
      c.u.l = (zlong )tmp___7;
#line 1236
      goto switch_break;
      case_41: /* CIL Label */ 
      case_25: /* CIL Label */ 
#line 1239
      if (a.u.l) {
#line 1239
        tmp___8 = 1;
      } else
#line 1239
      if (b.u.l) {
#line 1239
        tmp___8 = 1;
      } else {
#line 1239
        tmp___8 = 0;
      }
#line 1239
      c.u.l = (zlong )tmp___8;
#line 1240
      goto switch_break;
      case_42: /* CIL Label */ 
      case_26: /* CIL Label */ 
#line 1243
      if (a.u.l) {
#line 1243
        if (! b.u.l) {
#line 1243
          tmp___9 = 1;
        } else {
#line 1243
          goto _L___0;
        }
      } else
      _L___0: /* CIL Label */ 
#line 1243
      if (! a.u.l) {
#line 1243
        if (b.u.l) {
#line 1243
          tmp___9 = 1;
        } else {
#line 1243
          tmp___9 = 0;
        }
      } else {
#line 1243
        tmp___9 = 0;
      }
#line 1243
      c.u.l = (zlong )tmp___9;
#line 1244
      goto switch_break;
      case_43: /* CIL Label */ 
#line 1246
      c = b;
#line 1247
      goto switch_break;
      case_51: /* CIL Label */ 
      case_49: /* CIL Label */ 
#line 1250
      if (c.type == 1) {
#line 1250
        if (b.u.l < 0L) {
#line 1252
          c.type = 2;
#line 1252
          b.type = c.type;
#line 1252
          a.type = b.type;
#line 1253
          a.u.d = (double )a.u.l;
#line 1254
          b.u.d = (double )b.u.l;
        }
      }
#line 1256
      if (c.type == 1) {
#line 1257
        c.u.l = (zlong )1;
        {
#line 1257
        while (1) {
          while_continue: /* CIL Label */ ;
#line 1257
          tmp___10 = b.u.l;
#line 1257
          (b.u.l) --;
#line 1257
          if (! tmp___10) {
#line 1257
            goto while_break;
          }
#line 1257
          c.u.l *= a.u.l;
        }
        while_break: /* CIL Label */ ;
        }
      } else {
#line 1259
        if (b.u.d <= (double )0) {
          {
#line 1259
          tmp___11 = notzero(a);
          }
#line 1259
          if (! tmp___11) {
#line 1260
            return;
          }
        }
#line 1261
        if (a.u.d < (double )0) {
#line 1263
          tst = (double )((zlong )b.u.d);
#line 1264
          if (tst != b.u.d) {
            {
#line 1265
            zerr("bad math expression: imaginary power");
            }
#line 1266
            return;
          }
        }
        {
#line 1269
        c.u.d = pow(a.u.d, b.u.d);
        }
      }
#line 1271
      goto switch_break;
      case_29: /* CIL Label */ 
#line 1273
      c = b;
#line 1274
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    }
#line 1277
    if (tp & 96) {
      {
#line 1278
      mvp = (stack + sp) + 1;
#line 1279
      c = setmathvar(mvp, c);
#line 1280
      push(c, mvp->lval, 0);
      }
    } else {
      {
#line 1282
      push(c, (char *)((void *)0), 0);
      }
    }
#line 1283
    return;
  }
#line 1286
  spval = & (stack + sp)->val;
#line 1287
  if ((stack + sp)->val.type == 4) {
    {
#line 1288
    *spval = getmathparam(stack + sp);
    }
  }
  {
#line 1290
  if (what == 2) {
#line 1290
    goto case_2;
  }
#line 1299
  if (what == 3) {
#line 1299
    goto case_3;
  }
#line 1308
  if (what == 4) {
#line 1308
    goto case_4;
  }
#line 1316
  if (what == 5) {
#line 1316
    goto case_5;
  }
#line 1324
  if (what == 6) {
#line 1324
    goto case_6;
  }
#line 1328
  if (what == 7) {
#line 1328
    goto case_7;
  }
#line 1336
  if (what == 27) {
#line 1336
    goto case_27;
  }
#line 1346
  if (what == 28) {
#line 1346
    goto case_28;
  }
#line 1349
  if (what == 45) {
#line 1349
    goto case_45;
  }
#line 1356
  if (what == 46) {
#line 1356
    goto case_46;
  }
#line 1363
  goto switch_default;
  case_2: /* CIL Label */ 
#line 1291
  if (spval->type & 2) {
#line 1292
    spval->u.l = (zlong )(! spval->u.d);
#line 1293
    spval->type = 1;
  } else {
#line 1295
    spval->u.l = (zlong )(! spval->u.l);
  }
#line 1296
  (stack + sp)->lval = (char *)((void *)0);
#line 1297
  (stack + sp)->pval = (Value )((void *)0);
#line 1298
  goto switch_break___0;
  case_3: /* CIL Label */ 
#line 1300
  if (spval->type & 2) {
#line 1301
    spval->u.l = ~ ((zlong )spval->u.d);
#line 1302
    spval->type = 1;
  } else {
#line 1304
    spval->u.l = ~ spval->u.l;
  }
#line 1305
  (stack + sp)->lval = (char *)((void *)0);
#line 1306
  (stack + sp)->pval = (Value )((void *)0);
#line 1307
  goto switch_break___0;
  case_4: /* CIL Label */ 
#line 1309
  a = *spval;
#line 1310
  if (spval->type & 2) {
#line 1311
    a.u.d += (double )1;
  } else {
#line 1313
    (a.u.l) ++;
  }
  {
#line 1314
  setmathvar(stack + sp, a);
  }
#line 1315
  goto switch_break___0;
  case_5: /* CIL Label */ 
#line 1317
  a = *spval;
#line 1318
  if (spval->type & 2) {
#line 1319
    a.u.d -= (double )1;
  } else {
#line 1321
    (a.u.l) --;
  }
  {
#line 1322
  setmathvar(stack + sp, a);
  }
#line 1323
  goto switch_break___0;
  case_6: /* CIL Label */ 
#line 1325
  (stack + sp)->lval = (char *)((void *)0);
#line 1326
  (stack + sp)->pval = (Value )((void *)0);
#line 1327
  goto switch_break___0;
  case_7: /* CIL Label */ 
#line 1329
  if (spval->type & 2) {
#line 1330
    spval->u.d = - spval->u.d;
  } else {
#line 1332
    spval->u.l = - spval->u.l;
  }
#line 1333
  (stack + sp)->lval = (char *)((void *)0);
#line 1334
  (stack + sp)->pval = (Value )((void *)0);
#line 1335
  goto switch_break___0;
  case_27: /* CIL Label */ 
  {
#line 1338
  c = pop(0);
#line 1339
  b = pop(0);
#line 1340
  a = pop(0);
  }
#line 1341
  if (errflag) {
#line 1342
    return;
  }
#line 1344
  if (a.type & 2) {
#line 1344
    tmp___14 = a.u.d;
  } else {
#line 1344
    tmp___14 = (double )a.u.l;
  }
#line 1344
  if (tmp___14) {
#line 1344
    tmp___13 = b;
  } else {
#line 1344
    tmp___13 = c;
  }
  {
#line 1344
  push(tmp___13, (char *)((void *)0), 0);
  }
#line 1345
  goto switch_break___0;
  case_28: /* CIL Label */ 
  {
#line 1347
  zerr("bad math expression: \':\' without \'?\'");
  }
#line 1348
  goto switch_break___0;
  case_45: /* CIL Label */ 
#line 1350
  if (spval->type & 2) {
#line 1351
    spval->u.d += (double )1;
  } else {
#line 1353
    (spval->u.l) ++;
  }
  {
#line 1354
  setmathvar(stack + sp, *spval);
  }
#line 1355
  goto switch_break___0;
  case_46: /* CIL Label */ 
#line 1357
  if (spval->type & 2) {
#line 1358
    spval->u.d -= (double )1;
  } else {
#line 1360
    (spval->u.l) --;
  }
  {
#line 1361
  setmathvar(stack + sp, *spval);
  }
#line 1362
  goto switch_break___0;
  switch_default: /* CIL Label */ 
  {
#line 1364
  zerr("bad math expression: out of integers");
  }
#line 1365
  return;
  switch_break___0: /* CIL Label */ ;
  }
#line 1367
  return;
}
}
#line 1371 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static void bop(int tk ) 
{ 
  mnumber *spval ;
  int tst ;

  {
#line 1374
  spval = & (stack + sp)->val;
#line 1377
  if ((stack + sp)->val.type == 4) {
    {
#line 1378
    *spval = getmathparam(stack + sp);
    }
  }
#line 1379
  if (spval->type & 2) {
#line 1379
    tst = (int )((zlong )spval->u.d);
  } else {
#line 1379
    tst = (int )spval->u.l;
  }
  {
#line 1383
  if (tk == 40) {
#line 1383
    goto case_40;
  }
#line 1383
  if (tk == 24) {
#line 1383
    goto case_40;
  }
#line 1388
  if (tk == 41) {
#line 1388
    goto case_41;
  }
#line 1388
  if (tk == 25) {
#line 1388
    goto case_41;
  }
#line 1381
  goto switch_break;
  case_40: /* CIL Label */ 
  case_24: /* CIL Label */ 
#line 1384
  if (! tst) {
#line 1385
    noeval ++;
  }
#line 1386
  goto switch_break;
  case_41: /* CIL Label */ 
  case_25: /* CIL Label */ 
#line 1389
  if (tst) {
#line 1390
    noeval ++;
  }
#line 1391
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 1393
  return;
}
}
#line 1397 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
mnumber matheval(char *s ) 
{ 
  char *junk ;
  mnumber x ;
  int xmtok ;
  char *__cil_tmp5 ;

  {
#line 1402
  xmtok = mtok;
#line 1404
  if (! mlevel) {
#line 1405
    outputunderscore = 0;
#line 1405
    outputradix = outputunderscore;
  }
#line 1407
  if ((int )*s == -95) {
#line 1408
    s ++;
  }
#line 1409
  if (! *s) {
#line 1410
    x.type = 1;
#line 1411
    x.u.l = (zlong )0;
#line 1412
    return (x);
  }
  {
#line 1414
  x = mathevall(s, (enum prec_type )0, & junk);
#line 1415
  mtok = xmtok;
  }
#line 1416
  if (*junk) {
    {
#line 1417
    zerr("bad math expression: illegal character: %c", (int )*junk);
    }
  }
#line 1418
  return (x);
}
}
#line 1422 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
zlong mathevali(char *s ) 
{ 
  mnumber x ;
  mnumber tmp ;
  zlong tmp___0 ;

  {
  {
#line 1425
  tmp = matheval(s);
#line 1425
  x = tmp;
  }
#line 1426
  if (x.type & 2) {
#line 1426
    tmp___0 = (zlong )x.u.d;
  } else {
#line 1426
    tmp___0 = x.u.l;
  }
#line 1426
  return (tmp___0);
}
}
#line 1431 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
zlong mathevalarg(char *s , char **ss ) 
{ 
  mnumber x ;
  int xmtok ;
  zlong tmp ;
  char *__cil_tmp6 ;

  {
#line 1435
  xmtok = mtok;
#line 1446
  if ((int )*s == -95) {
#line 1447
    s ++;
  }
#line 1448
  if (! *s) {
    {
#line 1449
    zerr("bad math expression: empty string");
    }
#line 1450
    return ((zlong )0);
  }
  {
#line 1452
  x = mathevall(s, (enum prec_type )1, ss);
  }
#line 1453
  if (mtok == 43) {
#line 1454
    (*ss) --;
  }
#line 1455
  mtok = xmtok;
#line 1456
  if (x.type & 2) {
#line 1456
    tmp = (zlong )x.u.d;
  } else {
#line 1456
    tmp = x.u.l;
  }
#line 1456
  return (tmp);
}
}
#line 1465 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static void checkunary(int mtokc , char *mptr ) 
{ 
  int errmsg ;
  int tp ;
  int len ;
  int over ;
  char *errtype ;
  char const   *tmp ;
  char const   *tmp___0 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;

  {
#line 1468
  errmsg = 0;
#line 1469
  tp = type[mtokc];
#line 1470
  if (tp & 252) {
#line 1471
    if (unary) {
#line 1472
      errmsg = 1;
    }
  } else
#line 1474
  if (! unary) {
#line 1475
    errmsg = 2;
  }
#line 1477
  if (errmsg) {
#line 1478
    over = 0;
#line 1479
    if (errmsg == 2) {
#line 1479
      tmp = "operator";
    } else {
#line 1479
      tmp = "operand";
    }
#line 1479
    errtype = (char *)tmp;
    {
#line 1480
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1480
      if (! ((int )typtab[(unsigned char )*mptr] & (1 << 3))) {
#line 1480
        goto while_break;
      }
#line 1481
      mptr ++;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1482
    len = ztrlen((char const   *)mptr);
    }
#line 1483
    if (len > 10) {
#line 1484
      len = 10;
#line 1485
      over = 1;
    }
#line 1487
    if (! *mptr) {
      {
#line 1488
      zerr("bad math expression: %s expected at end of string", errtype);
      }
    } else {
#line 1491
      if (over) {
#line 1491
        tmp___0 = "...";
      } else {
#line 1491
        tmp___0 = "";
      }
      {
#line 1491
      zerr("bad math expression: %s expected at `%l%s\'", errtype, mptr, len, tmp___0);
      }
    }
  }
#line 1494
  unary = ! (tp & 256);
#line 1495
  return;
}
}
#line 1500 "/home/khheo/testset/zsh-zsh-5.3.1/Src/math.c"
static void mathparse(int pc ) 
{ 
  zlong q ;
  int otok ;
  int onoeval ;
  char *optr ;
  mnumber tmp ;
  mnumber tmp___0 ;
  mnumber tmp___1 ;
  mnumber tmp___2 ;
  int tmp___3 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
#line 1505
  optr = ptr;
#line 1507
  if (errflag) {
#line 1508
    return;
  }
  {
#line 1509
  mtok = zzlex();
  }
#line 1511
  if (pc == *(prec + 43) + 1) {
#line 1511
    if (mtok == 44) {
#line 1512
      return;
    }
  }
  {
#line 1513
  checkunary(mtok, optr);
  }
  {
#line 1514
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1514
    if (! (*(prec + mtok) <= pc)) {
#line 1514
      goto while_break;
    }
#line 1515
    if (errflag) {
#line 1516
      return;
    }
    {
#line 1518
    if (mtok == 47) {
#line 1518
      goto case_47;
    }
#line 1521
    if (mtok == 48) {
#line 1521
      goto case_48;
    }
#line 1524
    if (mtok == 50) {
#line 1524
      goto case_50;
    }
#line 1527
    if (mtok == 52) {
#line 1527
      goto case_52;
    }
#line 1530
    if (mtok == 0) {
#line 1530
      goto case_0;
    }
#line 1538
    if (mtok == 27) {
#line 1538
      goto case_27;
    }
#line 1562
    goto switch_default;
    case_47: /* CIL Label */ 
    {
#line 1519
    push(yyval, (char *)((void *)0), 0);
    }
#line 1520
    goto switch_break;
    case_48: /* CIL Label */ 
    {
#line 1522
    push(zero_mnumber, yylval, ! noeval);
    }
#line 1523
    goto switch_break;
    case_50: /* CIL Label */ 
#line 1525
    if (noeval) {
#line 1525
      tmp___0 = zero_mnumber;
    } else {
      {
#line 1525
      tmp = getcvar(yylval);
#line 1525
      tmp___0 = tmp;
      }
    }
    {
#line 1525
    push(tmp___0, yylval, 0);
    }
#line 1526
    goto switch_break;
    case_52: /* CIL Label */ 
#line 1528
    if (noeval) {
#line 1528
      tmp___2 = zero_mnumber;
    } else {
      {
#line 1528
      tmp___1 = callmathfunc(yylval);
#line 1528
      tmp___2 = tmp___1;
      }
    }
    {
#line 1528
    push(tmp___2, yylval, 0);
    }
#line 1529
    goto switch_break;
    case_0: /* CIL Label */ 
    {
#line 1531
    mathparse(*(prec + 43) + 1);
    }
#line 1532
    if (mtok != 1) {
#line 1533
      if (! errflag) {
        {
#line 1534
        zerr("bad math expression: \')\' expected");
        }
      }
#line 1535
      return;
    }
#line 1537
    goto switch_break;
    case_27: /* CIL Label */ 
#line 1539
    if ((stack + sp)->val.type == 4) {
      {
#line 1540
      (stack + sp)->val = getmathparam(stack + sp);
      }
    }
#line 1541
    if ((stack + sp)->val.type == 2) {
#line 1541
      if ((stack + sp)->val.u.d == (double )0) {
#line 1541
        tmp___3 = 0;
      } else {
#line 1541
        tmp___3 = 1;
      }
#line 1541
      q = (zlong )tmp___3;
    } else {
#line 1541
      q = (stack + sp)->val.u.l;
    }
#line 1545
    if (! q) {
#line 1546
      noeval ++;
    }
    {
#line 1547
    mathparse(*(prec + 28) - 1);
    }
#line 1548
    if (! q) {
#line 1549
      noeval --;
    }
#line 1550
    if (mtok != 28) {
#line 1551
      if (! errflag) {
        {
#line 1552
        zerr("bad math expression: \':\' expected");
        }
      }
#line 1553
      return;
    }
#line 1555
    if (q) {
#line 1556
      noeval ++;
    }
    {
#line 1557
    mathparse(*(prec + 27));
    }
#line 1558
    if (q) {
#line 1559
      noeval --;
    }
    {
#line 1560
    op(27);
    }
#line 1561
    goto while_continue;
    switch_default: /* CIL Label */ 
#line 1563
    otok = mtok;
#line 1564
    onoeval = noeval;
#line 1565
    if ((type[otok] & 3) == 2) {
      {
#line 1566
      bop(otok);
      }
    }
    {
#line 1567
    mathparse(*(prec + otok) - ((type[otok] & 3) != 1));
#line 1568
    noeval = onoeval;
#line 1569
    op(otok);
    }
#line 1570
    goto while_continue;
    switch_break: /* CIL Label */ ;
    }
    {
#line 1572
    optr = ptr;
#line 1573
    mtok = zzlex();
#line 1574
    checkunary(mtok, optr);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1576
  return;
}
}
#line 531 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) dup)(int __fd ) ;
#line 306 "/usr/include/stdio.h"
extern  __attribute__((__nothrow__)) FILE *( __attribute__((__leaf__)) fdopen)(int __fd ,
                                                                               char const   *__modes ) ;
#line 622
extern char *fgets(char * __restrict  __s , int __n , FILE * __restrict  __stream ) ;
#line 33 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
LinkList bufstack ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int this_noerrexit ;
#line 45
void execlist(Estate state , int dont_change_job , int exiting ) ;
#line 47
void quote_tokenized_output(char *str , FILE *file ) ;
#line 49
void execsubst(LinkList strs ) ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int isfirstln ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.epro"
void *getlinknode(LinkList list ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.epro"
int loops  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.epro"
int contflag  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.epro"
int breaks  ;
#line 8
int execfor(Estate state , int do_exec ) ;
#line 9
int execselect(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 10
size_t selectlist(LinkList l , size_t start ) ;
#line 11
int execwhile(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 12
int execrepeat(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 13
int execif(Estate state , int do_exec ) ;
#line 14
int execcase(Estate state , int do_exec ) ;
#line 18
int exectry(Estate state , int do_exec ) ;
#line 49 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
int execfor(Estate state , int do_exec ) 
{ 
  Wordcode end ;
  Wordcode loop___0 ;
  wordcode code ;
  int iscond ;
  int ctok ;
  int atok ;
  int last ;
  char *name ;
  char *str ;
  char *cond ;
  char *advance ;
  zlong val ;
  LinkList vars ;
  LinkList args ;
  int old_simple_pline ;
  char *tmp ;
  char *str2 ;
  char *tmp___0 ;
  Wordcode tmp___1 ;
  int htok ;
  Wordcode tmp___2 ;
  char **x ;
  char *tmp___3 ;
  LinkNode node ;
  int count ;
  void *tmp___4 ;
  char *tmp___5 ;
  int tmp___6 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;

  {
#line 53
  code = *(state->pc + -1);
#line 54
  iscond = ((code >> 5) & 3U) == 2U;
#line 54
  ctok = 0;
#line 54
  atok = 0;
#line 55
  last = 0;
#line 56
  cond = (char *)((void *)0);
#line 56
  advance = (char *)((void *)0);
#line 57
  val = (zlong )0;
#line 58
  vars = (LinkList )((void *)0);
#line 58
  args = (LinkList )((void *)0);
#line 59
  old_simple_pline = simple_pline;
#line 62
  simple_pline = 1;
#line 64
  end = state->pc + ((code >> 5) >> 2);
#line 66
  if (iscond) {
    {
#line 67
    tmp = ecgetstr(state, 0, (int *)((void *)0));
#line 67
    str = dupstring((char const   *)tmp);
#line 68
    singsub(& str);
    }
#line 69
    if (opts[175]) {
      {
#line 70
      tmp___0 = dupstring((char const   *)str);
#line 70
      str2 = tmp___0;
#line 71
      untokenize(str2);
#line 72
      printprompt4();
#line 73
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"%s\n",
              str2);
#line 74
      fflush(xtrerr);
      }
    }
#line 76
    if (! errflag) {
      {
#line 77
      matheval(str);
      }
    }
#line 79
    if (errflag) {
#line 80
      state->pc = end;
#line 81
      simple_pline = old_simple_pline;
#line 82
      return (1);
    }
    {
#line 84
    cond = ecgetstr(state, 0, & ctok);
#line 85
    advance = ecgetstr(state, 0, & atok);
    }
  } else {
    {
#line 87
    tmp___1 = state->pc;
#line 87
    (state->pc) ++;
#line 87
    vars = ecgetlist(state, (int )*tmp___1, 0, (int *)((void *)0));
    }
#line 89
    if (((code >> 5) & 3U) == 1U) {
      {
#line 90
      htok = 0;
#line 92
      tmp___2 = state->pc;
#line 92
      (state->pc) ++;
#line 92
      args = ecgetlist(state, (int )*tmp___2, 2, & htok);
      }
#line 92
      if (! args) {
#line 93
        state->pc = end;
#line 94
        simple_pline = old_simple_pline;
#line 95
        return (0);
      }
#line 97
      if (htok) {
        {
#line 98
        execsubst(args);
        }
#line 99
        if (errflag) {
#line 100
          state->pc = end;
#line 101
          simple_pline = old_simple_pline;
#line 102
          return (1);
        }
      }
    } else {
      {
#line 108
      args = newlinklist();
#line 109
      x = pparams;
      }
      {
#line 109
      while (1) {
        while_continue: /* CIL Label */ ;
#line 109
        if (! *x) {
#line 109
          goto while_break;
        }
        {
#line 110
        tmp___3 = dupstring((char const   *)*x);
#line 110
        insertlinknode(args, args->list.last, (void *)tmp___3);
#line 109
        x ++;
        }
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
#line 114
  if (! args) {
#line 115
    lastval = (zlong )0;
  } else
#line 114
  if ((unsigned long )args->list.first == (unsigned long )((void *)0)) {
#line 115
    lastval = (zlong )0;
  }
  {
#line 117
  loops ++;
#line 118
  pushheap();
#line 119
  cmdpush(0);
#line 120
  loop___0 = state->pc;
  }
  {
#line 121
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 121
    if (! (! last)) {
#line 121
      goto while_break___0;
    }
#line 122
    if (iscond) {
#line 123
      if (ctok) {
        {
#line 124
        str = dupstring((char const   *)cond);
#line 125
        singsub(& str);
        }
      } else {
#line 127
        str = cond;
      }
#line 128
      if (! errflag) {
        {
#line 129
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 129
          if (! ((int )typtab[(unsigned char )*str] & (1 << 2))) {
#line 129
            goto while_break___1;
          }
#line 130
          str ++;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 131
        if (*str) {
#line 132
          if (opts[175]) {
            {
#line 133
            printprompt4();
#line 134
            fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"%s\n",
                    str);
#line 135
            fflush(xtrerr);
            }
          }
          {
#line 137
          val = mathevali(str);
          }
        } else {
#line 139
          val = (zlong )1;
        }
      }
#line 141
      if (errflag) {
#line 142
        if (breaks) {
#line 143
          breaks --;
        }
#line 144
        lastval = (zlong )1;
#line 145
        goto while_break___0;
      }
#line 147
      if (! val) {
#line 148
        goto while_break___0;
      }
    } else {
#line 151
      count = 0;
#line 152
      node = vars->list.first;
      {
#line 152
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 152
        if (! node) {
#line 152
          goto while_break___2;
        }
#line 154
        name = (char *)node->dat;
#line 155
        if (! args) {
#line 155
          goto _L;
        } else {
          {
#line 155
          tmp___4 = ugetnode(args);
#line 155
          str = (char *)tmp___4;
          }
#line 155
          if (! str) {
            _L: /* CIL Label */ 
#line 157
            if (count) {
#line 158
              str = (char *)"";
#line 159
              last = 1;
            } else {
#line 161
              goto while_break___2;
            }
          }
        }
#line 163
        if (opts[175]) {
          {
#line 164
          printprompt4();
#line 165
          fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"%s=%s\n",
                  name, str);
#line 166
          fflush(xtrerr);
          }
        }
        {
#line 168
        tmp___5 = ztrdup((char const   *)str);
#line 168
        setsparam(name, tmp___5);
#line 169
        count ++;
#line 152
        node = node->next;
        }
      }
      while_break___2: /* CIL Label */ ;
      }
#line 171
      if (! count) {
#line 172
        goto while_break___0;
      }
    }
#line 174
    state->pc = loop___0;
#line 175
    if (do_exec) {
#line 175
      if (args) {
#line 175
        if ((unsigned long )args->list.first == (unsigned long )((void *)0)) {
#line 175
          tmp___6 = 1;
        } else {
#line 175
          tmp___6 = 0;
        }
      } else {
#line 175
        tmp___6 = 0;
      }
    } else {
#line 175
      tmp___6 = 0;
    }
    {
#line 175
    execlist(state, 1, tmp___6);
    }
#line 176
    if (breaks) {
#line 177
      breaks --;
#line 178
      if (breaks) {
#line 179
        goto while_break___0;
      } else
#line 178
      if (! contflag) {
#line 179
        goto while_break___0;
      }
#line 180
      contflag = 0;
    }
#line 182
    if (retflag) {
#line 183
      goto while_break___0;
    }
#line 184
    if (iscond) {
#line 184
      if (! errflag) {
#line 185
        if (atok) {
          {
#line 186
          str = dupstring((char const   *)advance);
#line 187
          singsub(& str);
          }
        } else {
#line 189
          str = advance;
        }
#line 190
        if (opts[175]) {
          {
#line 191
          printprompt4();
#line 192
          fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"%s\n",
                  str);
#line 193
          fflush(xtrerr);
          }
        }
#line 195
        if (! errflag) {
          {
#line 196
          matheval(str);
          }
        }
      }
    }
#line 198
    if (errflag) {
#line 199
      if (breaks) {
#line 200
        breaks --;
      }
#line 201
      lastval = (zlong )1;
#line 202
      goto while_break___0;
    }
    {
#line 204
    freeheap();
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 206
  popheap();
#line 207
  cmdpop();
#line 208
  loops --;
#line 209
  simple_pline = old_simple_pline;
#line 210
  state->pc = end;
#line 211
  this_noerrexit = 1;
  }
#line 212
  return ((int )lastval);
}
}
#line 216 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
int execselect(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  Wordcode end ;
  Wordcode loop___0 ;
  wordcode code ;
  char *str ;
  char *s ;
  char *name ;
  LinkNode n ;
  int i ;
  int usezle ;
  FILE *inp ;
  size_t more ;
  LinkList args ;
  int old_simple_pline ;
  char **x ;
  char *tmp ;
  int htok ;
  Wordcode tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int oef ;
  void *tmp___4 ;
  void *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;

  {
  {
#line 220
  code = *(state->pc + -1);
#line 227
  old_simple_pline = simple_pline;
#line 230
  simple_pline = 1;
#line 232
  end = state->pc + ((code >> 5) >> 2);
#line 233
  name = ecgetstr(state, 0, (int *)((void *)0));
  }
#line 235
  if (((code >> 5) & 1U) == 0U) {
    {
#line 238
    args = newlinklist();
#line 239
    x = pparams;
    }
    {
#line 239
    while (1) {
      while_continue: /* CIL Label */ ;
#line 239
      if (! *x) {
#line 239
        goto while_break;
      }
      {
#line 240
      tmp = dupstring((char const   *)*x);
#line 240
      insertlinknode(args, args->list.last, (void *)tmp);
#line 239
      x ++;
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 242
    htok = 0;
#line 244
    tmp___0 = state->pc;
#line 244
    (state->pc) ++;
#line 244
    args = ecgetlist(state, (int )*tmp___0, 2, & htok);
    }
#line 244
    if (! args) {
#line 245
      state->pc = end;
#line 246
      simple_pline = old_simple_pline;
#line 247
      return (0);
    }
#line 249
    if (htok) {
      {
#line 250
      execsubst(args);
      }
#line 251
      if (errflag) {
#line 252
        state->pc = end;
#line 253
        simple_pline = old_simple_pline;
#line 254
        return (1);
      }
    }
  }
#line 258
  if (! args) {
#line 259
    state->pc = end;
#line 260
    simple_pline = old_simple_pline;
#line 261
    return (0);
  } else
#line 258
  if ((unsigned long )args->list.first == (unsigned long )((void *)0)) {
#line 259
    state->pc = end;
#line 260
    simple_pline = old_simple_pline;
#line 261
    return (0);
  }
  {
#line 263
  loops ++;
#line 265
  pushheap();
#line 266
  cmdpush(3);
  }
#line 267
  if (opts[92]) {
#line 267
    if (SHTTY != -1) {
#line 267
      if (opts[176]) {
#line 267
        tmp___1 = 1;
      } else {
#line 267
        tmp___1 = 0;
      }
    } else {
#line 267
      tmp___1 = 0;
    }
  } else {
#line 267
    tmp___1 = 0;
  }
#line 267
  usezle = tmp___1;
#line 268
  if (usezle) {
#line 268
    tmp___2 = SHTTY;
  } else {
#line 268
    tmp___2 = 0;
  }
  {
#line 268
  tmp___3 = dup(tmp___2);
#line 268
  inp = fdopen(tmp___3, "r");
#line 269
  more = selectlist(args, (size_t )0);
#line 270
  loop___0 = state->pc;
  }
  {
#line 271
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 272
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 273
      if ((unsigned long )bufstack->list.first == (unsigned long )((void *)0)) {
#line 274
        if (usezle) {
          {
#line 275
          oef = errflag;
#line 277
          isfirstln = 1;
#line 278
          str = zleentry(1, & prompt3, (void *)0, 0, 2);
          }
#line 280
          if (errflag) {
#line 281
            str = (char *)((void *)0);
          }
#line 283
          errflag = oef | (errflag & 2);
        } else {
          {
#line 285
          str = promptexpand(prompt3, 0, (char *)((void *)0), (char *)((void *)0),
                             (unsigned int *)((void *)0));
#line 286
          zputs((char const   *)str, stderr);
#line 287
          free((void *)str);
#line 288
          fflush(stderr);
#line 289
          tmp___4 = zhalloc((size_t )256);
#line 289
          str = fgets((char */* __restrict  */)tmp___4, 256, (FILE */* __restrict  */)inp);
          }
        }
      } else {
        {
#line 292
        tmp___5 = getlinknode(bufstack);
#line 292
        str = (char *)tmp___5;
        }
      }
#line 293
      if (! str) {
#line 293
        if (! errflag) {
          {
#line 294
          tmp___6 = ztrdup("");
#line 294
          setsparam((char *)"REPLY", tmp___6);
          }
        }
      }
#line 295
      if (! str) {
#line 295
        goto _L;
      } else
#line 295
      if (errflag) {
        _L: /* CIL Label */ 
#line 296
        if (breaks) {
#line 297
          breaks --;
        }
        {
#line 298
        fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\n");
#line 299
        fflush(stderr);
        }
#line 300
        goto done;
      }
      {
#line 302
      s = strchr((char const   *)str, '\n');
      }
#line 302
      if (s) {
#line 303
        *s = (char )'\000';
      }
#line 304
      if (*str) {
#line 305
        goto while_break___1;
      }
      {
#line 306
      more = selectlist(args, more);
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 308
    tmp___7 = ztrdup((char const   *)str);
#line 308
    setsparam((char *)"REPLY", tmp___7);
#line 309
    i = atoi((char const   *)str);
    }
#line 310
    if (! i) {
#line 311
      str = (char *)"";
    } else {
#line 313
      i --;
#line 313
      n = args->list.first;
      {
#line 313
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 313
        if (n) {
#line 313
          if (! i) {
#line 313
            goto while_break___2;
          }
        } else {
#line 313
          goto while_break___2;
        }
#line 313
        n = n->next;
#line 313
        i --;
      }
      while_break___2: /* CIL Label */ ;
      }
#line 314
      if (n) {
#line 315
        str = (char *)n->dat;
      } else {
#line 317
        str = (char *)"";
      }
    }
    {
#line 319
    tmp___8 = ztrdup((char const   *)str);
#line 319
    setsparam(name, tmp___8);
#line 320
    state->pc = loop___0;
#line 321
    execlist(state, 1, 0);
#line 322
    freeheap();
    }
#line 323
    if (breaks) {
#line 324
      breaks --;
#line 325
      if (breaks) {
#line 326
        goto while_break___0;
      } else
#line 325
      if (! contflag) {
#line 326
        goto while_break___0;
      }
#line 327
      contflag = 0;
    }
#line 329
    if (retflag) {
#line 330
      goto while_break___0;
    } else
#line 329
    if (errflag) {
#line 330
      goto while_break___0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  done: 
  {
#line 333
  cmdpop();
#line 334
  popheap();
#line 335
  fclose(inp);
#line 336
  loops --;
#line 337
  simple_pline = old_simple_pline;
#line 338
  state->pc = end;
#line 339
  this_noerrexit = 1;
  }
#line 340
  return ((int )lastval);
}
}
#line 346 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
size_t selectlist(LinkList l , size_t start ) 
{ 
  size_t longest ;
  size_t fct ;
  size_t fw ;
  size_t colsz ;
  size_t t0 ;
  size_t t1 ;
  size_t ct ;
  char **arr ;
  char **ap ;
  size_t tmp ;
  size_t t2 ;
  size_t tmp___0 ;
  int t3 ;
  size_t tmp___1 ;
  char *__cil_tmp17 ;

  {
  {
#line 349
  longest = (size_t )1;
#line 349
  fw = (size_t )0;
#line 352
  zleentry(3);
#line 353
  arr = hlinklist2array(l, 0);
#line 354
  ap = arr;
  }
  {
#line 354
  while (1) {
    while_continue: /* CIL Label */ ;
#line 354
    if (! *ap) {
#line 354
      goto while_break;
    }
    {
#line 355
    tmp = strlen((char const   *)*ap);
    }
#line 355
    if (tmp > longest) {
      {
#line 356
      longest = strlen((char const   *)*ap);
      }
    }
#line 354
    ap ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 357
  ct = (size_t )(ap - arr);
#line 357
  t0 = ct;
#line 358
  longest ++;
  {
#line 359
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 359
    if (! t0) {
#line 359
      goto while_break___0;
    }
#line 360
    t0 /= 10UL;
#line 360
    longest ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 362
  fct = (size_t )(zterm_columns - 1L) / (longest + 3UL);
#line 363
  if (fct == 0UL) {
#line 364
    fct = (size_t )1;
  } else {
#line 366
    fw = (size_t )(zterm_columns - 1L) / fct;
  }
#line 367
  colsz = ((ct + fct) - 1UL) / fct;
#line 368
  t1 = start;
  {
#line 368
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 368
    if (t1 != colsz) {
#line 368
      if (! (t1 - start < (size_t )(zterm_lines - 2L))) {
#line 368
        goto while_break___1;
      }
    } else {
#line 368
      goto while_break___1;
    }
#line 369
    ap = arr + t1;
    {
#line 370
    while (1) {
      while_continue___2: /* CIL Label */ ;
      {
#line 371
      tmp___0 = strlen((char const   *)*ap);
#line 371
      t2 = tmp___0 + 2UL;
#line 374
      t3 = (int )((ap - arr) + 1L);
#line 374
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%d) %s",
              t3, *ap);
      }
      {
#line 375
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 375
        if (! t3) {
#line 375
          goto while_break___3;
        }
#line 376
        t2 ++;
#line 376
        t3 /= 10;
      }
      while_break___3: /* CIL Label */ ;
      }
      {
#line 377
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 377
        if (! (t2 < fw)) {
#line 377
          goto while_break___4;
        }
        {
#line 378
        fputc(' ', stderr);
#line 377
        t2 ++;
        }
      }
      while_break___4: /* CIL Label */ ;
      }
#line 379
      t0 = colsz;
      {
#line 379
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 379
        if (t0) {
#line 379
          if (! *ap) {
#line 379
            goto while_break___5;
          }
        } else {
#line 379
          goto while_break___5;
        }
#line 379
        t0 --;
#line 379
        ap ++;
      }
      while_break___5: /* CIL Label */ ;
      }
#line 370
      if (! *ap) {
#line 370
        goto while_break___2;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    {
#line 382
    fputc('\n', stderr);
#line 368
    t1 ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 394
  fflush(stderr);
  }
#line 396
  if (t1 < colsz) {
#line 396
    tmp___1 = t1;
  } else {
#line 396
    tmp___1 = (size_t )0;
  }
#line 396
  return (tmp___1);
}
}
#line 400 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
int execwhile(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  Wordcode end ;
  Wordcode loop___0 ;
  wordcode code ;
  int olderrexit ;
  int oldval ;
  int isuntil ;
  int old_simple_pline ;
  int tmp ;

  {
  {
#line 404
  code = *(state->pc + -1);
#line 405
  isuntil = ((code >> 5) & 1U) == 1U;
#line 406
  old_simple_pline = simple_pline;
#line 408
  end = state->pc + ((code >> 5) >> 1);
#line 409
  olderrexit = noerrexit;
#line 410
  oldval = 0;
#line 411
  pushheap();
  }
#line 412
  if (isuntil) {
#line 412
    tmp = 4;
  } else {
#line 412
    tmp = 1;
  }
  {
#line 412
  cmdpush(tmp);
#line 413
  loops ++;
#line 414
  loop___0 = state->pc;
  }
#line 416
  if (*(loop___0 + 0) == 0U) {
#line 416
    if (*(loop___0 + 1) == 0U) {
#line 421
      simple_pline = 1;
      {
#line 423
      while (1) {
        while_continue: /* CIL Label */ ;
#line 423
        if (! (! breaks)) {
#line 423
          goto while_break;
        }
      }
      while_break: /* CIL Label */ ;
      }
#line 425
      breaks --;
#line 427
      simple_pline = old_simple_pline;
    } else {
#line 416
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    {
#line 429
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 430
      state->pc = loop___0;
#line 431
      noerrexit = 1;
#line 435
      simple_pline = 1;
#line 437
      execlist(state, 1, 0);
#line 439
      simple_pline = old_simple_pline;
#line 440
      noerrexit = olderrexit;
      }
#line 441
      if (! ((lastval == 0L) ^ isuntil)) {
#line 442
        if (breaks) {
#line 443
          breaks --;
        }
#line 444
        if (! retflag) {
#line 445
          lastval = (zlong )oldval;
        }
#line 446
        goto while_break___0;
      }
#line 448
      if (retflag) {
#line 449
        goto while_break___0;
      }
      {
#line 453
      simple_pline = 1;
#line 455
      execlist(state, 1, 0);
#line 457
      simple_pline = old_simple_pline;
      }
#line 458
      if (breaks) {
#line 459
        breaks --;
#line 460
        if (breaks) {
#line 461
          goto while_break___0;
        } else
#line 460
        if (! contflag) {
#line 461
          goto while_break___0;
        }
#line 462
        contflag = 0;
      }
#line 464
      if (errflag) {
#line 465
        lastval = (zlong )1;
#line 466
        goto while_break___0;
      }
#line 468
      if (retflag) {
#line 469
        goto while_break___0;
      }
      {
#line 470
      freeheap();
#line 471
      oldval = (int )lastval;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  {
#line 473
  cmdpop();
#line 474
  popheap();
#line 475
  loops --;
#line 476
  state->pc = end;
#line 477
  this_noerrexit = 1;
  }
#line 478
  return ((int )lastval);
}
}
#line 482 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
int execrepeat(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  Wordcode end ;
  Wordcode loop___0 ;
  wordcode code ;
  int count ;
  int htok ;
  char *tmp ;
  int old_simple_pline ;
  zlong tmp___0 ;
  int tmp___1 ;

  {
  {
#line 486
  code = *(state->pc + -1);
#line 487
  htok = 0;
#line 489
  old_simple_pline = simple_pline;
#line 492
  simple_pline = 1;
#line 494
  end = state->pc + (code >> 5);
#line 496
  lastval = (zlong )0;
#line 497
  tmp = ecgetstr(state, 2, & htok);
  }
#line 498
  if (htok) {
    {
#line 499
    singsub(& tmp);
    }
  }
  {
#line 500
  tmp___0 = mathevali(tmp);
#line 500
  count = (int )tmp___0;
  }
#line 501
  if (errflag) {
#line 502
    return (1);
  }
  {
#line 503
  pushheap();
#line 504
  cmdpush(2);
#line 505
  loops ++;
#line 506
  loop___0 = state->pc;
  }
  {
#line 507
  while (1) {
    while_continue: /* CIL Label */ ;
#line 507
    tmp___1 = count;
#line 507
    count --;
#line 507
    if (! (tmp___1 > 0)) {
#line 507
      goto while_break;
    }
    {
#line 508
    state->pc = loop___0;
#line 509
    execlist(state, 1, 0);
#line 510
    freeheap();
    }
#line 511
    if (breaks) {
#line 512
      breaks --;
#line 513
      if (breaks) {
#line 514
        goto while_break;
      } else
#line 513
      if (! contflag) {
#line 514
        goto while_break;
      }
#line 515
      contflag = 0;
    }
#line 517
    if (errflag) {
#line 518
      lastval = (zlong )1;
#line 519
      goto while_break;
    }
#line 521
    if (retflag) {
#line 522
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 524
  cmdpop();
#line 525
  popheap();
#line 526
  loops --;
#line 527
  simple_pline = old_simple_pline;
#line 528
  state->pc = end;
#line 529
  this_noerrexit = 1;
  }
#line 530
  return ((int )lastval);
}
}
#line 534 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
int execif(Estate state , int do_exec ) 
{ 
  Wordcode end ;
  Wordcode next___0 ;
  wordcode code ;
  int olderrexit ;
  int s ;
  int run ;
  Wordcode tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
#line 538
  code = *(state->pc + -1);
#line 539
  s = 0;
#line 539
  run = 0;
#line 541
  olderrexit = noerrexit;
#line 542
  end = state->pc + ((code >> 5) >> 2);
#line 544
  if (! noerrexit) {
#line 545
    noerrexit = 1;
  }
  {
#line 546
  while (1) {
    while_continue: /* CIL Label */ ;
#line 546
    if (! ((unsigned long )state->pc < (unsigned long )end)) {
#line 546
      goto while_break;
    }
#line 547
    tmp = state->pc;
#line 547
    (state->pc) ++;
#line 547
    code = *tmp;
#line 548
    if ((code & (wordcode )((1 << 5) - 1)) != 17U) {
#line 548
      goto _L;
    } else {
#line 548
      run = ((code >> 5) & 3U) == 3U;
#line 548
      if (run) {
        _L: /* CIL Label */ 
#line 550
        if (run) {
#line 551
          run = 2;
        }
#line 552
        goto while_break;
      }
    }
#line 554
    next___0 = state->pc + ((code >> 5) >> 2);
#line 555
    if (s) {
#line 555
      tmp___0 = 8;
    } else {
#line 555
      tmp___0 = 5;
    }
    {
#line 555
    cmdpush(tmp___0);
#line 556
    execlist(state, 1, 0);
#line 557
    cmdpop();
    }
#line 558
    if (! lastval) {
#line 559
      run = 1;
#line 560
      goto while_break;
    }
#line 562
    if (retflag) {
#line 563
      goto while_break;
    }
#line 564
    s = 1;
#line 565
    state->pc = next___0;
  }
  while_break: /* CIL Label */ ;
  }
#line 568
  if (run) {
#line 570
    if (olderrexit) {
#line 570
      noerrexit = olderrexit;
    } else {
#line 570
      if (lastval) {
#line 570
        tmp___1 = 2;
      } else {
#line 570
        tmp___1 = 0;
      }
#line 570
      noerrexit = tmp___1;
    }
#line 571
    if (run == 2) {
#line 571
      tmp___3 = 7;
    } else {
#line 571
      if (s) {
#line 571
        tmp___2 = 26;
      } else {
#line 571
        tmp___2 = 6;
      }
#line 571
      tmp___3 = tmp___2;
    }
    {
#line 571
    cmdpush(tmp___3);
#line 572
    execlist(state, 1, do_exec);
#line 573
    cmdpop();
    }
  } else {
#line 575
    noerrexit = olderrexit;
#line 576
    if (! retflag) {
#line 577
      lastval = (zlong )0;
    }
  }
#line 579
  state->pc = end;
#line 580
  this_noerrexit = 1;
#line 582
  return ((int )lastval);
}
}
#line 586 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
int execcase(Estate state , int do_exec ) 
{ 
  Wordcode end ;
  Wordcode next___0 ;
  wordcode code ;
  char *word ;
  char *pat ;
  int npat ;
  int save ;
  int nalts ;
  int ialt ;
  int patok ;
  int anypatok ;
  Patprog *spprog ;
  Patprog pprog ;
  Wordcode tmp ;
  Wordcode tmp___0 ;
  int htok ;
  char *tmp___1 ;
  int tmp___2 ;
  char *opat ;
  int htok___0 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  Wordcode tmp___8 ;
  Wordcode tmp___9 ;
  int tmp___10 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;

  {
  {
#line 590
  code = *(state->pc + -1);
#line 595
  end = state->pc + ((code >> 5) >> 3);
#line 597
  word = ecgetstr(state, 1, (int *)((void *)0));
#line 598
  singsub(& word);
#line 599
  untokenize(word);
#line 600
  anypatok = 0;
#line 602
  cmdpush(16);
  }
  {
#line 603
  while (1) {
    while_continue: /* CIL Label */ ;
#line 603
    if (! ((unsigned long )state->pc < (unsigned long )end)) {
#line 603
      goto while_break;
    }
#line 604
    tmp = state->pc;
#line 604
    (state->pc) ++;
#line 604
    code = *tmp;
#line 605
    if ((code & (wordcode )((1 << 5) - 1)) != 16U) {
#line 606
      goto while_break;
    }
#line 608
    save = 0;
#line 609
    next___0 = state->pc + ((code >> 5) >> 3);
#line 610
    tmp___0 = state->pc;
#line 610
    (state->pc) ++;
#line 610
    nalts = (int )*tmp___0;
#line 611
    patok = 0;
#line 611
    ialt = patok;
#line 613
    if (opts[175]) {
      {
#line 614
      printprompt4();
#line 615
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"case %s (",
              word);
      }
    }
    {
#line 618
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 618
      if (! patok) {
#line 618
        if (! nalts) {
#line 618
          goto while_break___0;
        }
      } else {
#line 618
        goto while_break___0;
      }
#line 619
      npat = (int )*(state->pc + 1);
#line 620
      spprog = (state->prog)->pats + npat;
#line 621
      pprog = (Patprog )((void *)0);
#line 622
      pat = (char *)((void *)0);
#line 624
      if (opts[175]) {
        {
#line 625
        htok = 0;
#line 626
        tmp___1 = ecrawstr(state->prog, state->pc, & htok);
#line 626
        pat = dupstring((char const   *)tmp___1);
        }
#line 627
        if (htok) {
          {
#line 628
          singsub(& pat);
          }
        }
#line 630
        tmp___2 = ialt;
#line 630
        ialt ++;
#line 630
        if (tmp___2) {
          {
#line 631
          fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)" | ");
          }
        }
        {
#line 632
        quote_tokenized_output(pat, xtrerr);
        }
      }
#line 635
      if ((unsigned long )*spprog != (unsigned long )((Patprog )1)) {
#line 635
        if ((unsigned long )*spprog != (unsigned long )((Patprog )2)) {
#line 636
          pprog = *spprog;
        }
      }
#line 638
      if (! pprog) {
#line 639
        if (! pat) {
          {
#line 641
          htok___0 = 0;
#line 643
          opat = ecrawstr(state->prog, state->pc, & htok___0);
#line 643
          pat = dupstring((char const   *)opat);
          }
#line 645
          if (htok___0) {
            {
#line 646
            singsub(& pat);
            }
          }
#line 647
          if (! ((state->prog)->flags & 2)) {
            {
#line 647
            tmp___3 = strcmp((char const   *)pat, (char const   *)opat);
            }
#line 647
            if (tmp___3) {
#line 647
              tmp___4 = 0;
            } else
#line 647
            if ((unsigned long )*spprog != (unsigned long )((Patprog )2)) {
#line 647
              tmp___4 = 1;
            } else {
#line 647
              tmp___4 = 0;
            }
          } else {
#line 647
            tmp___4 = 0;
          }
#line 647
          save = tmp___4;
        }
#line 650
        if (save) {
#line 650
          tmp___5 = 256;
        } else {
#line 650
          tmp___5 = 64;
        }
        {
#line 650
        pprog = patcompile(pat, tmp___5, (char **)((void *)0));
        }
#line 650
        if (pprog) {
#line 653
          if (save) {
#line 654
            *spprog = pprog;
          }
        } else {
          {
#line 652
          zerr("bad pattern: %s", pat);
          }
        }
      }
#line 656
      if (pprog) {
        {
#line 656
        tmp___6 = pattry(pprog, word);
        }
#line 656
        if (tmp___6) {
#line 657
          anypatok = 1;
#line 657
          patok = anypatok;
        }
      }
#line 658
      state->pc += 2;
#line 659
      nalts --;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 661
    state->pc += 2 * nalts;
#line 662
    if (opts[175]) {
      {
#line 663
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)")\n");
#line 664
      fflush(xtrerr);
      }
    }
#line 666
    if (patok) {
#line 667
      if (((code >> 5) & 7U) == 1U) {
#line 667
        if (do_exec) {
#line 667
          tmp___7 = 1;
        } else {
#line 667
          tmp___7 = 0;
        }
      } else {
#line 667
        tmp___7 = 0;
      }
      {
#line 667
      execlist(state, 1, tmp___7);
      }
      {
#line 669
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 669
        if (! retflag) {
#line 669
          if ((code & (wordcode )((1 << 5) - 1)) == 16U) {
#line 669
            if (((code >> 5) & 7U) == 2U) {
#line 669
              if (! ((unsigned long )state->pc < (unsigned long )end)) {
#line 669
                goto while_break___1;
              }
            } else {
#line 669
              goto while_break___1;
            }
          } else {
#line 669
            goto while_break___1;
          }
        } else {
#line 669
          goto while_break___1;
        }
#line 671
        state->pc = next___0;
#line 672
        tmp___8 = state->pc;
#line 672
        (state->pc) ++;
#line 672
        code = *tmp___8;
#line 673
        next___0 = state->pc + ((code >> 5) >> 3);
#line 674
        tmp___9 = state->pc;
#line 674
        (state->pc) ++;
#line 674
        nalts = (int )*tmp___9;
#line 675
        state->pc += 2 * nalts;
#line 676
        if (((code >> 5) & 7U) == 1U) {
#line 676
          if (do_exec) {
#line 676
            tmp___10 = 1;
          } else {
#line 676
            tmp___10 = 0;
          }
        } else {
#line 676
          tmp___10 = 0;
        }
        {
#line 676
        execlist(state, 1, tmp___10);
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 679
      if (((code >> 5) & 7U) != 3U) {
#line 680
        goto while_break;
      }
    }
#line 682
    state->pc = next___0;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 684
  cmdpop();
#line 686
  state->pc = end;
  }
#line 688
  if (! anypatok) {
#line 689
    lastval = (zlong )0;
  }
#line 690
  this_noerrexit = 1;
#line 692
  return ((int )lastval);
}
}
#line 701 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
zlong try_errflag  =    (zlong )-1;
#line 709 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
zlong try_interrupt  =    (zlong )-1;
#line 713 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
zlong try_tryflag  =    (zlong )0;
#line 717 "/home/khheo/testset/zsh-zsh-5.3.1/Src/loop.c"
int exectry(Estate state , int do_exec ) 
{ 
  Wordcode end ;
  Wordcode always ;
  int endval ;
  int save_retflag ;
  int save_breaks ;
  int save_contflag ;
  zlong save_try_errflag ;
  zlong save_try_tryflag ;
  zlong save_try_interrupt ;
  int tmp ;

  {
  {
#line 725
  end = state->pc + (*(state->pc + -1) >> 5);
#line 726
  always = (state->pc + 1) + (*(state->pc) >> 5);
#line 727
  (state->pc) ++;
#line 728
  pushheap();
#line 729
  cmdpush(19);
#line 732
  save_try_tryflag = try_tryflag;
#line 733
  try_tryflag = (zlong )1;
#line 735
  execlist(state, 1, do_exec);
#line 737
  try_tryflag = save_try_tryflag;
  }
#line 741
  if (lastval) {
#line 741
    endval = (int )lastval;
  } else {
#line 741
    endval = errflag;
  }
  {
#line 743
  freeheap();
#line 745
  cmdpop();
#line 746
  cmdpush(31);
#line 749
  save_try_errflag = try_errflag;
#line 750
  save_try_interrupt = try_interrupt;
#line 751
  try_errflag = (zlong )(errflag & 1);
  }
#line 752
  if (errflag & 2) {
#line 752
    tmp = 1;
  } else {
#line 752
    tmp = 0;
  }
  {
#line 752
  try_interrupt = (zlong )tmp;
#line 754
  errflag = 0;
#line 755
  save_retflag = retflag;
#line 756
  retflag = 0;
#line 757
  save_breaks = breaks;
#line 758
  breaks = 0;
#line 759
  save_contflag = contflag;
#line 760
  contflag = 0;
#line 762
  state->pc = always;
#line 763
  execlist(state, 1, do_exec);
  }
#line 765
  if (try_errflag) {
#line 766
    errflag |= 1;
  } else {
#line 768
    errflag &= -2;
  }
#line 769
  if (try_interrupt) {
#line 770
    errflag |= 2;
  } else {
#line 772
    errflag &= -3;
  }
#line 773
  try_errflag = save_try_errflag;
#line 774
  try_interrupt = save_try_interrupt;
#line 775
  if (! retflag) {
#line 776
    retflag = save_retflag;
  }
#line 777
  if (! breaks) {
#line 778
    breaks = save_breaks;
  }
#line 779
  if (! contflag) {
#line 780
    contflag = save_contflag;
  }
  {
#line 782
  cmdpop();
#line 783
  popheap();
#line 784
  state->pc = end;
  }
#line 786
  return (endval);
}
}
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.epro"
LinkNode uinsertlinknode(LinkList list , LinkNode node , LinkNode new ) ;
#line 17
void rolllist(LinkList l , LinkNode nd ) ;
#line 22
char **zlinklist2array(LinkList list ) ;
#line 102 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkList newlinklist(void) 
{ 
  LinkList list ;
  void *tmp ;

  {
  {
#line 107
  tmp = zhalloc(sizeof(*list));
#line 107
  list = (LinkList )tmp;
#line 108
  list->list.first = (LinkNode )((void *)0);
#line 109
  list->list.last = & list->node;
#line 110
  list->list.flags = 0;
  }
#line 111
  return (list);
}
}
#line 115 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkList znewlinklist(void) 
{ 
  LinkList list ;
  void *tmp ;

  {
  {
#line 120
  tmp = zalloc(sizeof(*list));
#line 120
  list = (LinkList )tmp;
  }
#line 121
  if (! list) {
#line 122
    return ((LinkList )((void *)0));
  }
#line 123
  list->list.first = (LinkNode )((void *)0);
#line 124
  list->list.last = & list->node;
#line 125
  list->list.flags = 0;
#line 126
  return (list);
}
}
#line 132 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkNode insertlinknode(LinkList list , LinkNode node , void *dat ) 
{ 
  LinkNode tmp ;
  LinkNode new ;
  void *tmp___0 ;

  {
  {
#line 137
  tmp = node->next;
#line 138
  tmp___0 = zhalloc(sizeof(*tmp));
#line 138
  new = (LinkNode )tmp___0;
#line 138
  node->next = new;
#line 139
  new->prev = node;
#line 140
  new->dat = dat;
#line 141
  new->next = tmp;
  }
#line 142
  if (tmp) {
#line 143
    tmp->prev = new;
  } else {
#line 145
    list->list.last = new;
  }
#line 146
  return (new);
}
}
#line 150 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkNode zinsertlinknode(LinkList list , LinkNode node , void *dat ) 
{ 
  LinkNode tmp ;
  LinkNode new ;
  void *tmp___0 ;

  {
  {
#line 155
  tmp = node->next;
#line 156
  tmp___0 = zalloc(sizeof(*tmp));
#line 156
  new = (LinkNode )tmp___0;
#line 156
  node->next = new;
  }
#line 157
  if (! new) {
#line 158
    return ((LinkNode )((void *)0));
  }
#line 159
  new->prev = node;
#line 160
  new->dat = dat;
#line 161
  new->next = tmp;
#line 162
  if (tmp) {
#line 163
    tmp->prev = new;
  } else {
#line 165
    list->list.last = new;
  }
#line 166
  return (new);
}
}
#line 172 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkNode uinsertlinknode(LinkList list , LinkNode node , LinkNode new ) 
{ 
  LinkNode tmp ;

  {
#line 175
  tmp = node->next;
#line 176
  node->next = new;
#line 177
  new->prev = node;
#line 178
  new->next = tmp;
#line 179
  if (tmp) {
#line 180
    tmp->prev = new;
  } else {
#line 182
    list->list.last = new;
  }
#line 183
  return (new);
}
}
#line 189 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
void insertlinklist(LinkList l , LinkNode where , LinkList x ) 
{ 
  LinkNode nx ;

  {
#line 194
  nx = where->next;
#line 195
  if (! l->list.first) {
#line 196
    return;
  }
#line 197
  where->next = l->list.first;
#line 198
  (l->list.last)->next = nx;
#line 199
  (l->list.first)->prev = where;
#line 200
  if (nx) {
#line 201
    nx->prev = l->list.last;
  } else {
#line 203
    x->list.last = l->list.last;
  }
#line 204
  return;
}
}
#line 209 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
void *getlinknode(LinkList list ) 
{ 
  void *dat ;
  LinkNode node ;

  {
#line 215
  node = list->list.first;
#line 215
  if (! node) {
#line 216
    return ((void *)0);
  }
#line 217
  dat = node->dat;
#line 218
  list->list.first = node->next;
#line 219
  if (node->next) {
#line 220
    (node->next)->prev = & list->node;
  } else {
#line 222
    list->list.last = & list->node;
  }
  {
#line 223
  zfree((void *)node, (int )sizeof(*node));
  }
#line 224
  return (dat);
}
}
#line 230 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
void *ugetnode(LinkList list ) 
{ 
  void *dat ;
  LinkNode node ;

  {
#line 236
  node = list->list.first;
#line 236
  if (! node) {
#line 237
    return ((void *)0);
  }
#line 238
  dat = node->dat;
#line 239
  list->list.first = node->next;
#line 240
  if (node->next) {
#line 241
    (node->next)->prev = & list->node;
  } else {
#line 243
    list->list.last = & list->node;
  }
#line 244
  return (dat);
}
}
#line 250 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
void *remnode(LinkList list , LinkNode nd ) 
{ 
  void *dat ;

  {
#line 255
  (nd->prev)->next = nd->next;
#line 256
  if (nd->next) {
#line 257
    (nd->next)->prev = nd->prev;
  } else {
#line 259
    list->list.last = nd->prev;
  }
  {
#line 260
  dat = nd->dat;
#line 261
  zfree((void *)nd, (int )sizeof(*nd));
  }
#line 263
  return (dat);
}
}
#line 269 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
void *uremnode(LinkList list , LinkNode nd ) 
{ 
  void *dat ;

  {
#line 274
  (nd->prev)->next = nd->next;
#line 275
  if (nd->next) {
#line 276
    (nd->next)->prev = nd->prev;
  } else {
#line 278
    list->list.last = nd->prev;
  }
#line 279
  dat = nd->dat;
#line 280
  return (dat);
}
}
#line 286 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
void freelinklist(LinkList list , void (*freefunc)(void * ) ) 
{ 
  LinkNode node ;
  LinkNode next___0 ;

  {
#line 291
  node = list->list.first;
  {
#line 291
  while (1) {
    while_continue: /* CIL Label */ ;
#line 291
    if (! node) {
#line 291
      goto while_break;
    }
#line 292
    next___0 = node->next;
#line 293
    if (freefunc) {
      {
#line 294
      (*freefunc)(node->dat);
      }
    }
    {
#line 295
    zfree((void *)node, (int )sizeof(*node));
#line 291
    node = next___0;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 297
  zfree((void *)list, (int )sizeof(*list));
  }
#line 298
  return;
}
}
#line 303 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
int countlinknodes(LinkList list ) 
{ 
  LinkNode nd ;
  int ct ;

  {
#line 307
  ct = 0;
#line 309
  nd = list->list.first;
  {
#line 309
  while (1) {
    while_continue: /* CIL Label */ ;
#line 309
    if (! nd) {
#line 309
      goto while_break;
    }
#line 309
    nd = nd->next;
#line 309
    ct ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 310
  return (ct);
}
}
#line 316 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
void rolllist(LinkList l , LinkNode nd ) 
{ 


  {
#line 319
  (l->list.last)->next = l->list.first;
#line 320
  (l->list.first)->prev = l->list.last;
#line 321
  l->list.first = nd;
#line 322
  l->list.last = nd->prev;
#line 323
  nd->prev = & l->node;
#line 324
  (l->list.last)->next = (LinkNode )0;
#line 325
  return;
}
}
#line 330 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkList newsizedlist(int size ) 
{ 
  LinkList list ;
  LinkNode node ;
  void *tmp ;

  {
  {
#line 336
  tmp = zhalloc(sizeof(*list) + (unsigned long )size * sizeof(*node));
#line 336
  list = (LinkList )tmp;
#line 338
  list->list.first = & (list + 1)->node;
#line 339
  node = list->list.first;
  }
  {
#line 339
  while (1) {
    while_continue: /* CIL Label */ ;
#line 339
    if (! size) {
#line 339
      goto while_break;
    }
#line 340
    node->prev = node - 1;
#line 341
    node->next = node + 1;
#line 339
    size --;
#line 339
    node ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 343
  list->list.last = node - 1;
#line 344
  (list->list.first)->prev = & list->node;
#line 345
  (node + -1)->next = (LinkNode )((void *)0);
#line 347
  return (list);
}
}
#line 356 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkNode linknodebydatum(LinkList list , void *dat ) 
{ 
  LinkNode node ;

  {
#line 361
  node = list->list.first;
  {
#line 361
  while (1) {
    while_continue: /* CIL Label */ ;
#line 361
    if (! node) {
#line 361
      goto while_break;
    }
#line 362
    if ((unsigned long )node->dat == (unsigned long )dat) {
#line 363
      return (node);
    }
#line 361
    node = node->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 365
  return ((LinkNode )((void *)0));
}
}
#line 373 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
LinkNode linknodebystring(LinkList list , char *dat ) 
{ 
  LinkNode node ;
  int tmp ;

  {
#line 378
  node = list->list.first;
  {
#line 378
  while (1) {
    while_continue: /* CIL Label */ ;
#line 378
    if (! node) {
#line 378
      goto while_break;
    }
    {
#line 379
    tmp = strcmp((char const   *)((char *)node->dat), (char const   *)dat);
    }
#line 379
    if (! tmp) {
#line 380
      return (node);
    }
#line 378
    node = node->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 382
  return ((LinkNode )((void *)0));
}
}
#line 393 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
char **hlinklist2array(LinkList list , int copy ) 
{ 
  int l ;
  int tmp ;
  char **ret ;
  void *tmp___0 ;
  char **p ;
  LinkNode n ;

  {
  {
#line 396
  tmp = countlinknodes(list);
#line 396
  l = tmp;
#line 397
  tmp___0 = zhalloc((unsigned long )(l + 1) * sizeof(char *));
#line 397
  ret = (char **)tmp___0;
#line 400
  n = list->list.first;
#line 400
  p = ret;
  }
  {
#line 400
  while (1) {
    while_continue: /* CIL Label */ ;
#line 400
    if (! n) {
#line 400
      goto while_break;
    }
#line 401
    *p = (char *)n->dat;
#line 402
    if (copy) {
      {
#line 403
      *p = dupstring((char const   *)*p);
      }
    }
#line 400
    n = n->next;
#line 400
    p ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 405
  *p = (char *)((void *)0);
#line 407
  return (ret);
}
}
#line 417 "/home/khheo/testset/zsh-zsh-5.3.1/Src/linklist.c"
char **zlinklist2array(LinkList list ) 
{ 
  int l ;
  int tmp ;
  char **ret ;
  void *tmp___0 ;
  char **p ;
  LinkNode n ;

  {
  {
#line 420
  tmp = countlinknodes(list);
#line 420
  l = tmp;
#line 421
  tmp___0 = zalloc((unsigned long )(l + 1) * sizeof(char *));
#line 421
  ret = (char **)tmp___0;
#line 424
  n = list->list.first;
#line 424
  p = ret;
  }
  {
#line 424
  while (1) {
    while_continue: /* CIL Label */ ;
#line 424
    if (! n) {
#line 424
      goto while_break;
    }
    {
#line 425
    *p = ztrdup((char const   *)((char *)n->dat));
#line 424
    n = n->next;
#line 424
    p ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 427
  *p = (char *)((void *)0);
#line 429
  return (ret);
}
}
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.epro"
void zcontext_save_partial(int parts ) ;
#line 7
void zcontext_restore_partial(int parts ) ;
#line 51 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
char *gethere(char **strp , int typ ) ;
#line 33 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
extern HashTable sufaliastab ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int (*hgetc)(void) ;
#line 6
void (*hungetc)(int  ) ;
#line 7
void (*hwaddc)(int  ) ;
#line 8
void (*hwbegin)(int  ) ;
#line 9
void (*hwend)(void) ;
#line 10
void (*addtoline)(int  ) ;
#line 11
int stophist ;
#line 12
int expanding ;
#line 34
int qbang ;
#line 38
void hist_in_word(int yesno ) ;
#line 41
void strinbeg(int dohist ) ;
#line 42
void strinend(void) ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.epro"
int strin ;
#line 8
int inbufct ;
#line 9
int inbufflags ;
#line 11
int ingetc(void) ;
#line 15
void inpush(char *str , int flags , Alias inalias ) ;
#line 16
void inpop(void) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
char *zshlextext  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
char *tokstr  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
enum lextok tok  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int tokfd  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
zlong toklineno  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int lexstop  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int isfirstln  ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int isfirstch  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int inalmore  ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int nocorrect  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int zlemetacs  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int zlemetall  ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int inwhat  ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int addedx  ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int wb  ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int we  ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int wordbeg  ;
#line 23 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int parbegin  ;
#line 24 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int parend  ;
#line 25 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int noaliases  ;
#line 26 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int lexflags  ;
#line 27 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.epro"
int nocomments  ;
#line 28
char *tokstrings[63] ;
#line 29
void lex_context_save(struct lex_stack *ls , int toplevel ) ;
#line 30
void lex_context_restore(struct lex_stack  const  *ls , int toplevel ) ;
#line 32
void ctxtlex(void) ;
#line 33
void initlextabs(void) ;
#line 34
void lexinit(void) ;
#line 35
void add(int c ) ;
#line 40
int exalias(void) ;
#line 41
void zshlex_raw_add(int c ) ;
#line 42
void zshlex_raw_back(void) ;
#line 43
int zshlex_raw_mark(int offset ) ;
#line 44
void zshlex_raw_back_to_mark(int mark ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.pro"
static int lex_add_raw  ;
#line 3
static int isnumglob(void) ;
#line 4
static enum lextok gettok(void) ;
#line 5
static enum lextok gettokstr(int c , int sub ) ;
#line 6
static int dquote_parse(char endchar , int sub ) ;
#line 7
static void gotword(void) ;
#line 8
static int skipcomm(void) ;
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
char ztokens[30]  = 
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
  {      (char )'#',      (char )'$',      (char )'^',      (char )'*', 
        (char )'(',      (char )'(',      (char )')',      (char )')', 
        (char )'$',      (char )'=',      (char )'|',      (char )'{', 
        (char )'}',      (char )'[',      (char )']',      (char )'`', 
        (char )'<',      (char )'>',      (char )'>',      (char )'?', 
        (char )'~',      (char )'`',      (char )',',      (char )'-', 
        (char )'!',      (char )'\'',      (char )'\"',      (char )'\\', 
        (char )'\\',      (char )'\000'};
#line 165 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static char *tokstr_raw  ;
#line 166 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static struct lexbufstate lexbuf_raw  ;
#line 171 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
char *tokstrings[63]  = 
#line 171
  {      (char *)((void *)0),      (char *)";",      (char *)"\\n",      (char *)";", 
        (char *)";;",      (char *)"&",      (char *)"(",      (char *)")", 
        (char *)"||",      (char *)"&&",      (char *)">",      (char *)">|", 
        (char *)">>",      (char *)">>|",      (char *)"<",      (char *)"<>", 
        (char *)"<<",      (char *)"<<-",      (char *)"<&",      (char *)">&", 
        (char *)"&>",      (char *)"&>|",      (char *)">>&",      (char *)">>&|", 
        (char *)"<<<",      (char *)"|",      (char *)"|&",      (char *)"()", 
        (char *)"((",      (char *)"))",      (char *)"&|",      (char *)";&", 
        (char *)";|"};
#line 209 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int dbparens  ;
#line 210 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static struct lexbufstate lexbuf  =    {(char *)((void *)0), 256, 0};
#line 215 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void lex_context_save(struct lex_stack *ls , int toplevel ) 
{ 


  {
#line 220
  ls->dbparens = dbparens;
#line 221
  ls->isfirstln = isfirstln;
#line 222
  ls->isfirstch = isfirstch;
#line 223
  ls->lexflags = lexflags;
#line 225
  ls->tok = tok;
#line 226
  ls->tokstr = tokstr;
#line 227
  ls->zshlextext = zshlextext;
#line 228
  ls->lexbuf = lexbuf;
#line 229
  ls->lex_add_raw = lex_add_raw;
#line 230
  ls->tokstr_raw = tokstr_raw;
#line 231
  ls->lexbuf_raw = lexbuf_raw;
#line 232
  ls->lexstop = lexstop;
#line 233
  ls->toklineno = toklineno;
#line 235
  lexbuf.ptr = (char *)((void *)0);
#line 235
  zshlextext = lexbuf.ptr;
#line 235
  tokstr = zshlextext;
#line 236
  lexbuf.siz = 256;
#line 237
  lexbuf_raw.ptr = (char *)((void *)0);
#line 237
  tokstr_raw = lexbuf_raw.ptr;
#line 238
  lex_add_raw = 0;
#line 238
  lexbuf_raw.len = lex_add_raw;
#line 238
  lexbuf_raw.siz = lexbuf_raw.len;
#line 239
  return;
}
}
#line 244 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void lex_context_restore(struct lex_stack  const  *ls , int toplevel ) 
{ 


  {
#line 249
  dbparens = (int )ls->dbparens;
#line 250
  isfirstln = (int )ls->isfirstln;
#line 251
  isfirstch = (int )ls->isfirstch;
#line 252
  lexflags = (int )ls->lexflags;
#line 253
  tok = (enum lextok )ls->tok;
#line 254
  tokstr = (char *)ls->tokstr;
#line 255
  zshlextext = (char *)ls->zshlextext;
#line 256
  lexbuf = (struct lexbufstate )ls->lexbuf;
#line 257
  lex_add_raw = (int )ls->lex_add_raw;
#line 258
  tokstr_raw = (char *)ls->tokstr_raw;
#line 259
  lexbuf_raw = (struct lexbufstate )ls->lexbuf_raw;
#line 260
  lexstop = (int )ls->lexstop;
#line 261
  toklineno = (zlong )ls->toklineno;
#line 262
  return;
}
}
#line 265 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void zshlex(void) 
{ 
  int tmp ;
  struct heredocs *next___0 ;
  char *doc ;
  char *munged_term ;
  int tmp___0 ;
  char *__cil_tmp6 ;

  {
#line 268
  if ((unsigned int )tok == 38U) {
#line 269
    return;
  }
  {
#line 270
  while (1) {
    while_continue: /* CIL Label */ ;
#line 271
    if (inrepeat_) {
#line 272
      inrepeat_ ++;
    }
#line 273
    if (inrepeat_ == 3) {
#line 273
      if (opts[162]) {
#line 274
        incmdpos = 1;
      }
    }
    {
#line 275
    tok = gettok();
    }
#line 270
    if ((unsigned int )tok != 37U) {
      {
#line 270
      tmp = exalias();
      }
#line 270
      if (! tmp) {
#line 270
        goto while_break;
      }
    } else {
#line 270
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 277
  nocorrect &= 1;
#line 278
  if ((unsigned int )tok == 2U) {
#line 278
    goto _L;
  } else
#line 278
  if ((unsigned int )tok == 37U) {
    _L: /* CIL Label */ 
    {
#line 279
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 279
      if (! hdocs) {
#line 279
        goto while_break___0;
      }
      {
#line 280
      next___0 = hdocs->next;
#line 283
      (*hwbegin)(0);
      }
#line 284
      if (hdocs->type == 10) {
#line 284
        tmp___0 = 27;
      } else {
#line 284
        tmp___0 = 28;
      }
      {
#line 284
      cmdpush(tmp___0);
#line 285
      munged_term = dupstring((char const   *)hdocs->str);
#line 286
      stophist += 4;
#line 287
      doc = gethere(& munged_term, hdocs->type);
#line 288
      stophist -= 4;
#line 289
      cmdpop();
#line 290
      (*hwend)();
      }
#line 291
      if (! doc) {
        {
#line 292
        zerr("here document too large");
        }
        {
#line 293
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 293
          if (! hdocs) {
#line 293
            goto while_break___1;
          }
          {
#line 294
          next___0 = hdocs->next;
#line 295
          zfree((void *)hdocs, (int )sizeof(struct heredocs ));
#line 296
          hdocs = next___0;
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 298
        tok = (enum lextok )38;
#line 299
        goto while_break___0;
      }
      {
#line 301
      setheredoc(hdocs->pc, 12, doc, hdocs->str, munged_term);
#line 303
      zfree((void *)hdocs, (int )sizeof(struct heredocs ));
#line 304
      hdocs = next___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 307
  if ((unsigned int )tok != 2U) {
#line 308
    isnewlin = 0;
  } else
#line 310
  if (inbufct) {
#line 310
    isnewlin = -1;
  } else {
#line 310
    isnewlin = 1;
  }
#line 311
  if ((unsigned int )tok == 3U) {
#line 312
    tok = (enum lextok )1;
  } else
#line 311
  if ((unsigned int )tok == 2U) {
#line 311
    if (! (lexflags & 16)) {
#line 312
      tok = (enum lextok )1;
    }
  }
#line 313
  return;
}
}
#line 319 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int oldpos  ;
#line 316 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void ctxtlex(void) 
{ 


  {
  {
#line 321
  zshlex();
  }
  {
#line 342
  if ((unsigned int )tok == 33U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 48U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 47U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 59U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 45U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 27U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 26U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 25U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 9U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 8U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 41U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 6U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 30U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 5U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 32U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 31U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 4U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 3U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 2U) {
#line 342
    goto case_33;
  }
#line 342
  if ((unsigned int )tok == 1U) {
#line 342
    goto case_33;
  }
#line 351
  if ((unsigned int )tok == 40U) {
#line 351
    goto case_40;
  }
#line 351
  if ((unsigned int )tok == 43U) {
#line 351
    goto case_40;
  }
#line 351
  if ((unsigned int )tok == 7U) {
#line 351
    goto case_40;
  }
#line 351
  if ((unsigned int )tok == 36U) {
#line 351
    goto case_40;
  }
#line 351
  if ((unsigned int )tok == 63U) {
#line 351
    goto case_40;
  }
#line 351
  if ((unsigned int )tok == 34U) {
#line 351
    goto case_40;
  }
#line 355
  goto switch_default;
  case_33: /* CIL Label */ 
  case_48: /* CIL Label */ 
  case_47: /* CIL Label */ 
  case_59: /* CIL Label */ 
  case_45: /* CIL Label */ 
  case_27: /* CIL Label */ 
  case_26: /* CIL Label */ 
  case_25: /* CIL Label */ 
  case_9: /* CIL Label */ 
  case_8: /* CIL Label */ 
  case_41: /* CIL Label */ 
  case_6: /* CIL Label */ 
  case_30: /* CIL Label */ 
  case_5: /* CIL Label */ 
  case_32: /* CIL Label */ 
  case_31: /* CIL Label */ 
  case_4: /* CIL Label */ 
  case_3: /* CIL Label */ 
  case_2: /* CIL Label */ 
  case_1: /* CIL Label */ 
#line 343
  incmdpos = 1;
#line 344
  goto switch_break;
  case_40: /* CIL Label */ 
  case_43: /* CIL Label */ 
  case_7: /* CIL Label */ 
  case_36: /* CIL Label */ 
  case_63: /* CIL Label */ 
  case_34: /* CIL Label */ 
#line 352
  incmdpos = 0;
#line 353
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 357
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 359
  if ((unsigned int )tok != 28U) {
#line 360
    if ((unsigned int )tok == 52U) {
#line 360
      infor = 2;
    } else {
#line 360
      infor = 0;
    }
  }
#line 361
  if ((unsigned int )tok >= 10U) {
#line 361
    if ((unsigned int )tok <= 24U) {
#line 362
      inredir = 1;
#line 363
      oldpos = incmdpos;
#line 364
      incmdpos = 0;
    } else {
#line 361
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 361
  if ((unsigned int )tok == 52U) {
#line 362
    inredir = 1;
#line 363
    oldpos = incmdpos;
#line 364
    incmdpos = 0;
  } else
#line 361
  if ((unsigned int )tok == 53U) {
#line 362
    inredir = 1;
#line 363
    oldpos = incmdpos;
#line 364
    incmdpos = 0;
  } else
#line 361
  if ((unsigned int )tok == 58U) {
#line 362
    inredir = 1;
#line 363
    oldpos = incmdpos;
#line 364
    incmdpos = 0;
  } else
#line 365
  if (inredir) {
#line 366
    incmdpos = oldpos;
#line 367
    inredir = 0;
  }
#line 369
  return;
}
}
#line 406 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static unsigned char lexact1[256]  ;
#line 406 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static unsigned char lexact2[256]  ;
#line 406 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static unsigned char lextok2[256]  ;
#line 413 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static char *lx1  =    (char *)"\\q\n;!&|(){}[]<>";
#line 414 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static char *lx2  =    (char *)";)|$[]~({}><=\\\'\"`,-!";
#line 409 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void initlextabs(void) 
{ 
  int t0 ;

  {
#line 416
  t0 = 0;
  {
#line 416
  while (1) {
    while_continue: /* CIL Label */ ;
#line 416
    if (! (t0 != 256)) {
#line 416
      goto while_break;
    }
#line 417
    lexact1[t0] = (unsigned char)15;
#line 418
    lexact2[t0] = (unsigned char)20;
#line 419
    lextok2[t0] = (unsigned char )t0;
#line 416
    t0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 421
  t0 = 0;
  {
#line 421
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 421
    if (! *(lx1 + t0)) {
#line 421
      goto while_break___0;
    }
#line 422
    lexact1[(int )*(lx1 + t0)] = (unsigned char )t0;
#line 421
    t0 ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 423
  t0 = 0;
  {
#line 423
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 423
    if (! *(lx2 + t0)) {
#line 423
      goto while_break___1;
    }
#line 424
    lexact2[(int )*(lx2 + t0)] = (unsigned char )t0;
#line 423
    t0 ++;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 425
  lexact2['&'] = (unsigned char)0;
#line 426
  lexact2[(unsigned char)131] = (unsigned char)21;
#line 427
  lextok2['*'] = (unsigned char)135;
#line 428
  lextok2['?'] = (unsigned char)151;
#line 429
  lextok2['{'] = (unsigned char)143;
#line 430
  lextok2['['] = (unsigned char)145;
#line 431
  lextok2['$'] = (unsigned char)133;
#line 432
  lextok2['~'] = (unsigned char)152;
#line 433
  lextok2['#'] = (unsigned char)132;
#line 434
  lextok2['^'] = (unsigned char)134;
#line 435
  return;
}
}
#line 440 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void lexinit(void) 
{ 


  {
#line 443
  lexstop = 0;
#line 443
  dbparens = lexstop;
#line 443
  nocorrect = dbparens;
#line 444
  tok = (enum lextok )37;
#line 445
  return;
}
}
#line 450 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void add(int c ) 
{ 
  char *tmp ;
  int newbsiz ;
  void *tmp___0 ;

  {
#line 453
  tmp = lexbuf.ptr;
#line 453
  (lexbuf.ptr) ++;
#line 453
  *tmp = (char )c;
#line 454
  (lexbuf.len) ++;
#line 454
  if (lexbuf.siz == lexbuf.len) {
#line 455
    newbsiz = lexbuf.siz * 2;
#line 457
    if (newbsiz > inbufct) {
#line 457
      if (inbufct > lexbuf.siz) {
#line 458
        newbsiz = inbufct;
      }
    }
    {
#line 460
    tmp___0 = hrealloc(tokstr, (size_t )lexbuf.siz, (size_t )newbsiz);
#line 460
    tokstr = (char *)tmp___0;
#line 461
    lexbuf.ptr = tokstr + lexbuf.len;
#line 463
    memset((void *)lexbuf.ptr, 0, (size_t )(newbsiz - lexbuf.siz));
#line 464
    lexbuf.siz = newbsiz;
    }
  }
#line 466
  return;
}
}
#line 494 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int cmd_or_math(int cs_type ) 
{ 
  int oldlen ;
  int c ;
  int oinflags ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 497
  oldlen = lexbuf.len;
#line 499
  oinflags = inbufflags;
#line 501
  cmdpush(cs_type);
#line 502
  inbufflags |= 1 << 7;
#line 503
  c = dquote_parse((char )')', 0);
  }
#line 504
  if (! (oinflags & (1 << 7))) {
#line 505
    inbufflags &= ~ (1 << 7);
  }
  {
#line 506
  cmdpop();
#line 507
  *(lexbuf.ptr) = (char )'\000';
  }
#line 508
  if (! c) {
    {
#line 510
    c = (*hgetc)();
    }
#line 511
    if (c == 41) {
#line 512
      return (1);
    }
    {
#line 513
    (*hungetc)(c);
#line 514
    lexstop = 0;
#line 515
    c = ')';
    }
  } else
#line 516
  if (lexstop) {
#line 518
    return (2);
  }
  {
#line 521
  (*hungetc)(c);
#line 522
  lexstop = 0;
  }
  {
#line 523
  while (1) {
    while_continue: /* CIL Label */ ;
#line 523
    if (lexbuf.len > oldlen) {
#line 523
      if (! (! (errflag & 1))) {
#line 523
        goto while_break;
      }
    } else {
#line 523
      goto while_break;
    }
#line 524
    (lexbuf.len) --;
#line 525
    (lexbuf.ptr) --;
#line 525
    if ((int )typtab[(unsigned char )*(lexbuf.ptr)] & (1 << 4)) {
#line 525
      tmp = (int )ztokens[(int )*(lexbuf.ptr) - -124];
    } else {
#line 525
      tmp = (int )*(lexbuf.ptr);
    }
    {
#line 525
    (*hungetc)(tmp);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 528
  if (errflag) {
#line 529
    return (2);
  }
  {
#line 530
  (*hungetc)('(');
  }
#line 531
  if (errflag) {
#line 531
    tmp___0 = 2;
  } else {
#line 531
    tmp___0 = 0;
  }
#line 531
  return (tmp___0);
}
}
#line 539 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int cmd_or_math_sub(void) 
{ 
  int c ;
  int tmp ;
  int ret ;
  int lexpos ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 542
  tmp = (*hgetc)();
#line 542
  c = tmp;
  }
#line 544
  if (c == 40) {
    {
#line 545
    lexpos = (int )(lexbuf.ptr - tokstr);
#line 546
    add(-120);
#line 547
    add('(');
#line 548
    ret = cmd_or_math(25);
    }
#line 548
    if (ret == 1) {
      {
#line 549
      *(tokstr + lexpos) = (char)-119;
#line 550
      add(')');
      }
#line 551
      return (1);
    }
#line 553
    if (ret == 2) {
#line 554
      return (2);
    }
#line 555
    lexbuf.ptr -= 2;
#line 556
    lexbuf.len -= 2;
  } else {
    {
#line 558
    (*hungetc)(c);
#line 559
    lexstop = 0;
    }
  }
  {
#line 561
  tmp___2 = skipcomm();
  }
#line 561
  if (tmp___2) {
#line 561
    tmp___1 = 2;
  } else {
#line 561
    tmp___1 = 0;
  }
#line 561
  return (tmp___1);
}
}
#line 569 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int isnumglob(void) 
{ 
  int c ;
  int ec ;
  int ret ;
  int tbs ;
  int n ;
  char *tbuf___0 ;
  void *tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;

  {
  {
#line 572
  ec = '-';
#line 572
  ret = 0;
#line 573
  tbs = 256;
#line 573
  n = 0;
#line 574
  tmp = zalloc((size_t )tbs);
#line 574
  tbuf___0 = (char *)tmp;
  }
  {
#line 576
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 577
    c = (*hgetc)();
    }
#line 578
    if (lexstop) {
#line 579
      lexstop = 0;
#line 580
      goto while_break;
    }
#line 582
    tmp___0 = n;
#line 582
    n ++;
#line 582
    *(tbuf___0 + tmp___0) = (char )c;
#line 583
    if (! ((int )typtab[(unsigned char )c] & 1)) {
#line 584
      if (c != ec) {
#line 585
        goto while_break;
      }
#line 586
      if (ec == 62) {
#line 587
        ret = 1;
#line 588
        goto while_break;
      }
#line 590
      ec = '>';
    }
#line 592
    if (n == tbs) {
      {
#line 593
      tbs *= 2;
#line 593
      tmp___1 = realloc((void *)tbuf___0, (size_t )tbs);
#line 593
      tbuf___0 = (char *)tmp___1;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 595
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 595
    tmp___2 = n;
#line 595
    n --;
#line 595
    if (! tmp___2) {
#line 595
      goto while_break___0;
    }
    {
#line 596
    (*hungetc)((int )*(tbuf___0 + n));
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 597
  zfree((void *)tbuf___0, tbs);
  }
#line 598
  return (ret);
}
}
#line 602 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static enum lextok gettok(void) 
{ 
  int c ;
  int d___0 ;
  int peekfd ;
  enum lextok peek ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  int tmp___6 ;
  char const   *tmp___7 ;
  int e ;
  int tmp___8 ;
  int tmp___9 ;
  enum lextok tmp___10 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
#line 606
  peekfd = -1;
  beginning: 
#line 610
  tokstr = (char *)((void *)0);
  {
#line 611
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 611
    c = (*hgetc)();
    }
#line 611
    if ((int )typtab[(unsigned char )c] & (1 << 2)) {
#line 611
      if (! (! lexstop)) {
#line 611
        goto while_break;
      }
    } else {
#line 611
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 612
  toklineno = lineno;
#line 613
  if (lexstop) {
#line 614
    if (errflag) {
#line 614
      tmp = 38;
    } else {
#line 614
      tmp = 37;
    }
#line 614
    return ((enum lextok )tmp);
  }
#line 615
  isfirstln = 0;
#line 616
  if (lexflags & 2) {
#line 616
    if (! (inbufflags & (1 << 1))) {
#line 617
      if (qbang) {
#line 617
        if (c == (int )bangchar) {
#line 617
          tmp___0 = 1;
        } else {
#line 617
          tmp___0 = 0;
        }
      } else {
#line 617
        tmp___0 = 0;
      }
#line 617
      wordbeg = inbufct - tmp___0;
    }
  }
#line 618
  if (qbang) {
#line 618
    if (c == (int )bangchar) {
#line 618
      tmp___1 = 1;
    } else {
#line 618
      tmp___1 = 0;
    }
  } else {
#line 618
    tmp___1 = 0;
  }
  {
#line 618
  (*hwbegin)(-1 - tmp___1);
  }
#line 620
  if (dbparens) {
    {
#line 621
    lexbuf.len = 0;
#line 622
    lexbuf.siz = 32;
#line 622
    tmp___2 = hcalloc((size_t )lexbuf.siz);
#line 622
    tokstr = (char *)tmp___2;
#line 622
    lexbuf.ptr = tokstr;
#line 623
    (*hungetc)(c);
#line 624
    cmdpush(9);
    }
#line 625
    if (infor) {
#line 625
      tmp___3 = ';';
    } else {
#line 625
      tmp___3 = ')';
    }
    {
#line 625
    c = dquote_parse((char )tmp___3, 0);
#line 626
    cmdpop();
#line 627
    *(lexbuf.ptr) = (char )'\000';
    }
#line 628
    if (! c) {
#line 628
      if (infor) {
#line 629
        infor --;
#line 630
        return ((enum lextok )28);
      }
    }
#line 632
    if (c) {
      {
#line 633
      (*hungetc)(c);
      }
#line 634
      return ((enum lextok )38);
    } else {
      {
#line 632
      c = (*hgetc)();
      }
#line 632
      if (c != 41) {
        {
#line 633
        (*hungetc)(c);
        }
#line 634
        return ((enum lextok )38);
      }
    }
#line 636
    dbparens = 0;
#line 637
    return ((enum lextok )29);
  } else
#line 638
  if ((int )typtab[(unsigned char )c] & 1) {
    {
#line 639
    d___0 = (*hgetc)();
    }
#line 640
    if (d___0 == 38) {
      {
#line 641
      d___0 = (*hgetc)();
      }
#line 642
      if (d___0 == 62) {
        {
#line 643
        peekfd = c - 48;
#line 644
        (*hungetc)('>');
#line 645
        c = '&';
        }
      } else {
        {
#line 647
        (*hungetc)(d___0);
#line 648
        lexstop = 0;
#line 649
        (*hungetc)('&');
        }
      }
    } else
#line 651
    if (d___0 == 62) {
#line 652
      peekfd = c - 48;
#line 653
      c = d___0;
    } else
#line 651
    if (d___0 == 60) {
#line 652
      peekfd = c - 48;
#line 653
      c = d___0;
    } else {
      {
#line 655
      (*hungetc)(d___0);
#line 656
      lexstop = 0;
      }
    }
  }
#line 667
  if (c == (int )hashchar) {
#line 667
    if (! nocomments) {
#line 667
      if (opts[93]) {
#line 667
        goto _L___0;
      } else
#line 667
      if (! lexflags) {
#line 667
        goto _L___1;
      } else
#line 667
      if (lexflags & 12) {
        _L___1: /* CIL Label */ 
#line 667
        if (! expanding) {
#line 667
          if (! opts[92]) {
#line 667
            goto _L___0;
          } else
#line 667
          if (! opts[159]) {
#line 667
            goto _L___0;
          } else
#line 667
          if (strin) {
            _L___0: /* CIL Label */ 
#line 674
            if (lexflags & 4) {
              {
#line 675
              lexbuf.len = 0;
#line 676
              lexbuf.siz = 32;
#line 676
              tmp___4 = hcalloc((size_t )lexbuf.siz);
#line 676
              tokstr = (char *)tmp___4;
#line 676
              lexbuf.ptr = tokstr;
#line 678
              add(c);
              }
            }
            {
#line 680
            (*hwend)();
            }
            {
#line 681
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 681
              c = ingetc();
              }
#line 681
              if (c != 10) {
#line 681
                if (! (! lexstop)) {
#line 681
                  goto while_break___0;
                }
              } else {
#line 681
                goto while_break___0;
              }
              {
#line 682
              (*hwaddc)(c);
#line 683
              (*addtoline)(c);
              }
#line 684
              if (lexflags & 4) {
                {
#line 685
                add(c);
                }
              }
            }
            while_break___0: /* CIL Label */ ;
            }
#line 688
            if (errflag) {
#line 689
              peek = (enum lextok )38;
            } else
#line 691
            if (lexflags & 4) {
#line 692
              *(lexbuf.ptr) = (char )'\000';
#line 693
              if (! lexstop) {
                {
#line 694
                (*hungetc)(c);
                }
              }
#line 695
              peek = (enum lextok )34;
            } else {
              {
#line 697
              (*hwend)();
#line 698
              (*hwbegin)(0);
#line 699
              (*hwaddc)('\n');
#line 700
              (*addtoline)('\n');
              }
#line 706
              if (lexflags & 8) {
#line 706
                if (lexstop) {
#line 707
                  peek = (enum lextok )37;
                } else {
#line 709
                  peek = (enum lextok )2;
                }
              } else {
#line 709
                peek = (enum lextok )2;
              }
            }
#line 712
            return (peek);
          }
        }
      }
    }
  }
  {
#line 715
  if ((int )lexact1[(unsigned char )c] == 0) {
#line 715
    goto case_0;
  }
#line 722
  if ((int )lexact1[(unsigned char )c] == 2) {
#line 722
    goto case_2;
  }
#line 724
  if ((int )lexact1[(unsigned char )c] == 3) {
#line 724
    goto case_3;
  }
#line 735
  if ((int )lexact1[(unsigned char )c] == 5) {
#line 735
    goto case_5;
  }
#line 761
  if ((int )lexact1[(unsigned char )c] == 6) {
#line 761
    goto case_6;
  }
#line 770
  if ((int )lexact1[(unsigned char )c] == 7) {
#line 770
    goto case_7;
  }
#line 813
  if ((int )lexact1[(unsigned char )c] == 8) {
#line 813
    goto case_8;
  }
#line 815
  if ((int )lexact1[(unsigned char )c] == 13) {
#line 815
    goto case_13;
  }
#line 855
  if ((int )lexact1[(unsigned char )c] == 14) {
#line 855
    goto case_14;
  }
#line 714
  goto switch_break;
  case_0: /* CIL Label */ 
  {
#line 716
  d___0 = (*hgetc)();
  }
#line 717
  if (d___0 == 10) {
#line 718
    goto beginning;
  }
  {
#line 719
  (*hungetc)(d___0);
#line 720
  lexstop = 0;
  }
#line 721
  goto switch_break;
  case_2: /* CIL Label */ 
#line 723
  return ((enum lextok )2);
  case_3: /* CIL Label */ 
  {
#line 725
  d___0 = (*hgetc)();
  }
#line 726
  if (d___0 == 59) {
#line 727
    return ((enum lextok )4);
  } else
#line 728
  if (d___0 == 38) {
#line 729
    return ((enum lextok )31);
  } else
#line 730
  if (d___0 == 124) {
#line 731
    return ((enum lextok )32);
  }
  {
#line 732
  (*hungetc)(d___0);
#line 733
  lexstop = 0;
  }
#line 734
  return ((enum lextok )3);
  case_5: /* CIL Label */ 
  {
#line 736
  d___0 = (*hgetc)();
  }
#line 737
  if (d___0 == 38) {
#line 738
    return ((enum lextok )9);
  } else
#line 739
  if (d___0 == 33) {
#line 740
    return ((enum lextok )30);
  } else
#line 739
  if (d___0 == 124) {
#line 740
    return ((enum lextok )30);
  } else
#line 741
  if (d___0 == 62) {
    {
#line 742
    tokfd = peekfd;
#line 743
    d___0 = (*hgetc)();
    }
#line 744
    if (d___0 == 33) {
#line 745
      return ((enum lextok )21);
    } else
#line 744
    if (d___0 == 124) {
#line 745
      return ((enum lextok )21);
    } else
#line 746
    if (d___0 == 62) {
      {
#line 747
      d___0 = (*hgetc)();
      }
#line 748
      if (d___0 == 33) {
#line 749
        return ((enum lextok )23);
      } else
#line 748
      if (d___0 == 124) {
#line 749
        return ((enum lextok )23);
      }
      {
#line 750
      (*hungetc)(d___0);
#line 751
      lexstop = 0;
      }
#line 752
      return ((enum lextok )22);
    }
    {
#line 754
    (*hungetc)(d___0);
#line 755
    lexstop = 0;
    }
#line 756
    return ((enum lextok )20);
  }
  {
#line 758
  (*hungetc)(d___0);
#line 759
  lexstop = 0;
  }
#line 760
  return ((enum lextok )5);
  case_6: /* CIL Label */ 
  {
#line 762
  d___0 = (*hgetc)();
  }
#line 763
  if (d___0 == 124) {
#line 764
    return ((enum lextok )8);
  } else
#line 765
  if (d___0 == 38) {
#line 766
    return ((enum lextok )26);
  }
  {
#line 767
  (*hungetc)(d___0);
#line 768
  lexstop = 0;
  }
#line 769
  return ((enum lextok )25);
  case_7: /* CIL Label */ 
  {
#line 771
  d___0 = (*hgetc)();
  }
#line 772
  if (d___0 == 40) {
#line 773
    if (infor) {
#line 774
      dbparens = 1;
#line 775
      return ((enum lextok )28);
    }
#line 777
    if (incmdpos) {
#line 777
      goto _L___2;
    } else
#line 777
    if (opts[158]) {
#line 777
      if (! opts[96]) {
        _L___2: /* CIL Label */ 
        {
#line 778
        lexbuf.len = 0;
#line 779
        lexbuf.siz = 32;
#line 779
        tmp___5 = hcalloc((size_t )lexbuf.siz);
#line 779
        tokstr = (char *)tmp___5;
#line 779
        lexbuf.ptr = tokstr;
#line 781
        tmp___6 = cmd_or_math(9);
        }
        {
#line 782
        if (tmp___6 == 1) {
#line 782
          goto case_1;
        }
#line 785
        if (tmp___6 == 0) {
#line 785
          goto case_0___0;
        }
#line 793
        if (tmp___6 == 2) {
#line 793
          goto case_2___0;
        }
#line 802
        goto switch_default;
        case_1: /* CIL Label */ 
#line 783
        return ((enum lextok )28);
        case_0___0: /* CIL Label */ 
#line 790
        tokstr = (char *)((void *)0);
#line 791
        return ((enum lextok )6);
        case_2___0: /* CIL Label */ 
#line 798
        if (lexflags & 1) {
#line 799
          if (tokstr) {
#line 799
            tmp___7 = (char const   *)tokstr;
          } else {
#line 799
            tmp___7 = "";
          }
          {
#line 799
          tokstr = dyncat("((", tmp___7);
          }
        }
        switch_default: /* CIL Label */ 
#line 803
        return ((enum lextok )38);
        switch_break___0: /* CIL Label */ ;
        }
      }
    }
  } else
#line 806
  if (d___0 == 41) {
#line 807
    return ((enum lextok )27);
  }
  {
#line 808
  (*hungetc)(d___0);
#line 809
  lexstop = 0;
  }
#line 810
  if (! opts[158]) {
#line 810
    if (! (incond == 1)) {
#line 810
      if (! incmdpos) {
#line 811
        goto switch_break;
      }
    }
  }
#line 812
  return ((enum lextok )6);
  case_8: /* CIL Label */ 
#line 814
  return ((enum lextok )7);
  case_13: /* CIL Label */ 
  {
#line 816
  d___0 = (*hgetc)();
  }
#line 817
  if (d___0 == 40) {
    {
#line 818
    (*hungetc)(d___0);
#line 819
    lexstop = 0;
    }
    unpeekfd: 
#line 821
    if (peekfd != -1) {
      {
#line 822
      (*hungetc)(c);
#line 823
      c = 48 + peekfd;
      }
    }
#line 825
    goto switch_break;
  }
#line 827
  if (d___0 == 62) {
#line 828
    peek = (enum lextok )15;
  } else
#line 829
  if (d___0 == 60) {
    {
#line 830
    tmp___8 = (*hgetc)();
#line 830
    e = tmp___8;
    }
#line 832
    if (e == 40) {
      {
#line 833
      (*hungetc)(e);
#line 834
      (*hungetc)(d___0);
#line 835
      peek = (enum lextok )14;
      }
    } else
#line 836
    if (e == 60) {
#line 837
      peek = (enum lextok )24;
    } else
#line 838
    if (e == 45) {
#line 839
      peek = (enum lextok )17;
    } else {
      {
#line 841
      (*hungetc)(e);
#line 842
      lexstop = 0;
#line 843
      peek = (enum lextok )16;
      }
    }
  } else
#line 845
  if (d___0 == 38) {
#line 846
    peek = (enum lextok )18;
  } else {
    {
#line 848
    (*hungetc)(d___0);
#line 849
    tmp___9 = isnumglob();
    }
#line 849
    if (tmp___9) {
#line 850
      goto unpeekfd;
    }
#line 851
    peek = (enum lextok )14;
  }
#line 853
  tokfd = peekfd;
#line 854
  return (peek);
  case_14: /* CIL Label */ 
  {
#line 856
  d___0 = (*hgetc)();
  }
#line 857
  if (d___0 == 40) {
    {
#line 858
    (*hungetc)(d___0);
    }
#line 859
    goto unpeekfd;
  } else
#line 860
  if (d___0 == 38) {
    {
#line 861
    d___0 = (*hgetc)();
    }
#line 862
    if (d___0 == 33) {
#line 863
      peek = (enum lextok )21;
    } else
#line 862
    if (d___0 == 124) {
#line 863
      peek = (enum lextok )21;
    } else {
      {
#line 865
      (*hungetc)(d___0);
#line 866
      lexstop = 0;
#line 867
      peek = (enum lextok )19;
      }
    }
  } else
#line 869
  if (d___0 == 33) {
#line 870
    peek = (enum lextok )11;
  } else
#line 869
  if (d___0 == 124) {
#line 870
    peek = (enum lextok )11;
  } else
#line 871
  if (d___0 == 62) {
    {
#line 872
    d___0 = (*hgetc)();
    }
#line 873
    if (d___0 == 38) {
      {
#line 874
      d___0 = (*hgetc)();
      }
#line 875
      if (d___0 == 33) {
#line 876
        peek = (enum lextok )23;
      } else
#line 875
      if (d___0 == 124) {
#line 876
        peek = (enum lextok )23;
      } else {
        {
#line 878
        (*hungetc)(d___0);
#line 879
        lexstop = 0;
#line 880
        peek = (enum lextok )22;
        }
      }
    } else
#line 882
    if (d___0 == 33) {
#line 883
      peek = (enum lextok )13;
    } else
#line 882
    if (d___0 == 124) {
#line 883
      peek = (enum lextok )13;
    } else
#line 884
    if (d___0 == 40) {
      {
#line 885
      (*hungetc)(d___0);
#line 886
      (*hungetc)('>');
#line 887
      peek = (enum lextok )10;
      }
    } else {
      {
#line 889
      (*hungetc)(d___0);
#line 890
      lexstop = 0;
#line 891
      peek = (enum lextok )12;
      }
#line 892
      if (opts[70]) {
        {
#line 893
        (*hwaddc)('|');
        }
      }
    }
  } else {
    {
#line 896
    (*hungetc)(d___0);
#line 897
    lexstop = 0;
#line 898
    peek = (enum lextok )10;
    }
#line 899
    if (! incond) {
#line 899
      if (opts[70]) {
        {
#line 900
        (*hwaddc)('|');
        }
      }
    }
  }
#line 902
  tokfd = peekfd;
#line 903
  return (peek);
  switch_break: /* CIL Label */ ;
  }
  {
#line 908
  tmp___10 = gettokstr(c, 0);
  }
#line 908
  return (tmp___10);
}
}
#line 925 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static enum lextok gettokstr(int c , int sub ) 
{ 
  int bct ;
  int pct ;
  int brct ;
  int seen_brct ;
  int fdpar ;
  int intpos ;
  int in_brace_param ;
  int inquote ;
  int unmatched ;
  enum lextok peek ;
  void *tmp ;
  int act ;
  int e ;
  int inbl ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  char *t ;
  int sav ;
  int strquote ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;

  {
#line 928
  bct = 0;
#line 928
  pct = 0;
#line 928
  brct = 0;
#line 928
  seen_brct = 0;
#line 928
  fdpar = 0;
#line 929
  intpos = 1;
#line 929
  in_brace_param = 0;
#line 930
  unmatched = 0;
#line 936
  peek = (enum lextok )34;
#line 937
  if (! sub) {
    {
#line 938
    lexbuf.len = 0;
#line 939
    lexbuf.siz = 32;
#line 939
    tmp = hcalloc((size_t )lexbuf.siz);
#line 939
    tokstr = (char *)tmp;
#line 939
    lexbuf.ptr = tokstr;
    }
  }
  {
#line 941
  while (1) {
    while_continue: /* CIL Label */ ;
#line 944
    inbl = (int )typtab[(unsigned char )c] & (1 << 3);
#line 946
    if (fdpar) {
#line 946
      if (! inbl) {
#line 946
        if (c != 41) {
#line 947
          fdpar = 0;
        }
      }
    }
#line 949
    if (inbl) {
#line 949
      if (! in_brace_param) {
#line 949
        if (! pct) {
#line 950
          act = 0;
        } else {
#line 952
          act = (int )lexact2[(unsigned char )c];
#line 953
          c = (int )lextok2[(unsigned char )c];
        }
      } else {
#line 952
        act = (int )lexact2[(unsigned char )c];
#line 953
        c = (int )lextok2[(unsigned char )c];
      }
    } else {
#line 952
      act = (int )lexact2[(unsigned char )c];
#line 953
      c = (int )lextok2[(unsigned char )c];
    }
    {
#line 956
    if (act == 0) {
#line 956
      goto case_0;
    }
#line 960
    if (act == 21) {
#line 960
      goto case_21;
    }
#line 971
    if (act == 1) {
#line 971
      goto case_1;
    }
#line 989
    if (act == 2) {
#line 989
      goto case_2;
    }
#line 999
    if (act == 3) {
#line 999
      goto case_3;
    }
#line 1043
    if (act == 4) {
#line 1043
      goto case_4;
    }
#line 1050
    if (act == 5) {
#line 1050
      goto case_5;
    }
#line 1057
    if (act == 7) {
#line 1057
      goto case_7;
    }
#line 1116
    if (act == 8) {
#line 1116
      goto case_8;
    }
#line 1131
    if (act == 9) {
#line 1131
      goto case_9;
    }
#line 1143
    if (act == 17) {
#line 1143
      goto case_17;
    }
#line 1147
    if (act == 10) {
#line 1147
      goto case_10;
    }
#line 1163
    if (act == 11) {
#line 1163
      goto case_11;
    }
#line 1188
    if (act == 12) {
#line 1188
      goto case_12;
    }
#line 1237
    if (act == 13) {
#line 1237
      goto case_13;
    }
#line 1260
    if (act == 14) {
#line 1260
      goto case_14;
    }
#line 1309
    if (act == 15) {
#line 1309
      goto case_15;
    }
#line 1321
    if (act == 16) {
#line 1321
      goto case_16;
    }
#line 1359
    if (act == 18) {
#line 1359
      goto case_18;
    }
#line 1374
    if (act == 19) {
#line 1374
      goto case_19;
    }
#line 955
    goto switch_break;
    case_0: /* CIL Label */ 
#line 957
    if (! in_brace_param) {
#line 957
      if (! sub) {
#line 958
        goto brk;
      }
    }
#line 959
    goto switch_break;
    case_21: /* CIL Label */ 
    {
#line 961
    c = (*hgetc)();
#line 969
    add(-125);
    }
#line 970
    goto switch_break;
    case_1: /* CIL Label */ 
#line 972
    if (fdpar) {
      {
#line 974
      add(c);
#line 975
      *(lexbuf.ptr) = (char )'\000';
      }
#line 976
      return ((enum lextok )27);
    }
#line 978
    if (sub) {
#line 978
      goto _L;
    } else
#line 978
    if (in_brace_param) {
      _L: /* CIL Label */ 
#line 978
      if (opts[158]) {
#line 979
        goto switch_break;
      }
    }
#line 980
    if (! in_brace_param) {
#line 980
      tmp___0 = pct;
#line 980
      pct --;
#line 980
      if (! tmp___0) {
#line 981
        if (sub) {
#line 982
          pct = 0;
#line 983
          goto switch_break;
        } else {
#line 985
          goto brk;
        }
      }
    }
#line 987
    c = -118;
#line 988
    goto switch_break;
    case_2: /* CIL Label */ 
#line 990
    if (! pct) {
#line 990
      if (! in_brace_param) {
#line 991
        if (sub) {
#line 992
          goto switch_break;
        } else {
#line 994
          goto brk;
        }
      }
    }
#line 996
    if (! opts[158]) {
#line 997
      c = -114;
    } else
#line 996
    if (! sub) {
#line 996
      if (! in_brace_param) {
#line 997
        c = -114;
      }
    }
#line 998
    goto switch_break;
    case_3: /* CIL Label */ 
    {
#line 1000
    e = (*hgetc)();
    }
#line 1001
    if (e == 91) {
      {
#line 1002
      cmdpush(25);
#line 1003
      add(-123);
#line 1004
      add(-111);
#line 1005
      c = dquote_parse((char )']', sub);
#line 1006
      cmdpop();
      }
#line 1007
      if (c) {
#line 1008
        peek = (enum lextok )38;
#line 1009
        goto brk;
      }
#line 1011
      c = -110;
    } else
#line 1012
    if (e == 40) {
      {
#line 1013
      add(-123);
#line 1014
      tmp___1 = cmd_or_math_sub();
      }
      {
#line 1015
      if (tmp___1 == 0) {
#line 1015
        goto case_0___0;
      }
#line 1019
      if (tmp___1 == 1) {
#line 1019
        goto case_1___0;
      }
#line 1023
      goto switch_default;
      case_0___0: /* CIL Label */ 
#line 1016
      c = -118;
#line 1017
      goto switch_break___0;
      case_1___0: /* CIL Label */ 
#line 1020
      c = -117;
#line 1021
      goto switch_break___0;
      switch_default: /* CIL Label */ 
#line 1024
      peek = (enum lextok )38;
#line 1025
      goto brk;
      switch_break___0: /* CIL Label */ ;
      }
    } else
#line 1028
    if (e == 123) {
      {
#line 1029
      add(c);
#line 1030
      c = -113;
#line 1031
      bct ++;
#line 1032
      cmdpush(30);
      }
#line 1033
      if (! in_brace_param) {
#line 1034
        in_brace_param = bct;
#line 1034
        if (in_brace_param) {
#line 1035
          seen_brct = 0;
        }
      }
    } else {
      {
#line 1038
      (*hungetc)(e);
#line 1039
      lexstop = 0;
      }
    }
#line 1042
    goto switch_break;
    case_4: /* CIL Label */ 
#line 1044
    if (! in_brace_param) {
#line 1045
      brct ++;
#line 1046
      seen_brct = 1;
    }
#line 1048
    c = -111;
#line 1049
    goto switch_break;
    case_5: /* CIL Label */ 
#line 1051
    if (! in_brace_param) {
#line 1052
      brct --;
    }
#line 1053
    if (brct < 0) {
#line 1054
      brct = 0;
    }
#line 1055
    c = -110;
#line 1056
    goto switch_break;
    case_7: /* CIL Label */ 
#line 1058
    if (opts[158]) {
#line 1059
      if (sub) {
#line 1060
        goto switch_break;
      } else
#line 1059
      if (in_brace_param) {
#line 1060
        goto switch_break;
      }
#line 1061
      if (incasepat) {
#line 1061
        if (! lexbuf.len) {
#line 1062
          return ((enum lextok )6);
        }
      }
#line 1063
      if (! opts[96]) {
#line 1063
        if (lexbuf.len) {
#line 1064
          goto brk;
        }
      }
    }
#line 1066
    if (! in_brace_param) {
#line 1067
      if (! sub) {
        {
#line 1068
        e = (*hgetc)();
#line 1069
        (*hungetc)(e);
#line 1070
        lexstop = 0;
        }
#line 1091
        if (e == 41) {
#line 1099
          nocorrect |= 2;
#line 1100
          goto brk;
        } else
#line 1091
        if (opts[158]) {
#line 1091
          if ((int )typtab[(unsigned char )e] & (1 << 3)) {
#line 1091
            if (! bct) {
#line 1091
              if (! brct) {
#line 1091
                if (! intpos) {
#line 1091
                  if (incmdpos) {
#line 1099
                    nocorrect |= 2;
#line 1100
                    goto brk;
                  }
                }
              }
            }
          }
        }
      }
#line 1111
      tmp___2 = pct;
#line 1111
      pct ++;
#line 1111
      if (! tmp___2) {
#line 1111
        if (opts[158]) {
#line 1111
          if (intpos) {
#line 1111
            if (! bct) {
#line 1111
              if (! brct) {
#line 1112
                fdpar = 1;
              }
            }
          }
        }
      }
    }
#line 1114
    c = -120;
#line 1115
    goto switch_break;
    case_8: /* CIL Label */ 
#line 1117
    if (opts[87]) {
#line 1118
      c = '{';
    } else
#line 1117
    if (sub) {
#line 1118
      c = '{';
    } else {
#line 1120
      if (! lexbuf.len) {
#line 1120
        if (incmdpos) {
          {
#line 1121
          add('{');
#line 1122
          *(lexbuf.ptr) = (char )'\000';
          }
#line 1123
          return ((enum lextok )34);
        }
      }
#line 1125
      if (in_brace_param) {
        {
#line 1126
        cmdpush(29);
        }
      }
#line 1128
      bct ++;
    }
#line 1130
    goto switch_break;
    case_9: /* CIL Label */ 
#line 1132
    if (opts[87]) {
#line 1132
      goto _L___0;
    } else
#line 1132
    if (sub) {
      _L___0: /* CIL Label */ 
#line 1132
      if (! in_brace_param) {
#line 1133
        goto switch_break;
      }
    }
#line 1134
    if (! bct) {
#line 1135
      goto switch_break;
    }
#line 1136
    if (in_brace_param) {
      {
#line 1137
      cmdpop();
      }
    }
#line 1139
    tmp___3 = bct;
#line 1139
    bct --;
#line 1139
    if (tmp___3 == in_brace_param) {
#line 1140
      in_brace_param = 0;
    }
#line 1141
    c = -112;
#line 1142
    goto switch_break;
    case_17: /* CIL Label */ 
#line 1144
    if (! opts[87]) {
#line 1144
      if (! sub) {
#line 1144
        if (bct > in_brace_param) {
#line 1145
          c = -102;
        }
      }
    }
#line 1146
    goto switch_break;
    case_10: /* CIL Label */ 
#line 1148
    if (in_brace_param) {
#line 1149
      goto switch_break;
    } else
#line 1148
    if (sub) {
#line 1149
      goto switch_break;
    }
    {
#line 1150
    e = (*hgetc)();
    }
#line 1151
    if (e != 40) {
      {
#line 1152
      (*hungetc)(e);
#line 1153
      lexstop = 0;
      }
#line 1154
      goto brk;
    }
    {
#line 1156
    add(-106);
#line 1157
    tmp___4 = skipcomm();
    }
#line 1157
    if (tmp___4) {
#line 1158
      peek = (enum lextok )38;
#line 1159
      goto brk;
    }
#line 1161
    c = -118;
#line 1162
    goto switch_break;
    case_11: /* CIL Label */ 
#line 1164
    if (opts[158]) {
#line 1164
      if (sub) {
#line 1165
        goto switch_break;
      }
    }
    {
#line 1166
    e = (*hgetc)();
    }
#line 1167
    if (! in_brace_param) {
#line 1167
      if (! sub) {
#line 1167
        if (e == 40) {
          {
#line 1168
          add(-108);
#line 1169
          tmp___5 = skipcomm();
          }
#line 1169
          if (tmp___5) {
#line 1170
            peek = (enum lextok )38;
#line 1171
            goto brk;
          }
#line 1173
          c = -118;
#line 1174
          goto switch_break;
        }
      }
    }
    {
#line 1176
    (*hungetc)(e);
#line 1177
    tmp___6 = isnumglob();
    }
#line 1177
    if (tmp___6) {
      {
#line 1178
      add(-108);
      }
      {
#line 1179
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 1179
        c = (*hgetc)();
        }
#line 1179
        if (! (c != 62)) {
#line 1179
          goto while_break___0;
        }
        {
#line 1180
        add(c);
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 1181
      c = -107;
#line 1182
      goto switch_break;
    }
#line 1184
    lexstop = 0;
#line 1185
    if (in_brace_param) {
#line 1186
      goto switch_break;
    } else
#line 1185
    if (sub) {
#line 1186
      goto switch_break;
    }
#line 1187
    goto brk;
    case_12: /* CIL Label */ 
#line 1189
    if (! sub) {
#line 1190
      if (intpos) {
        {
#line 1191
        e = (*hgetc)();
        }
#line 1192
        if (e != 40) {
          {
#line 1193
          (*hungetc)(e);
#line 1194
          lexstop = 0;
#line 1195
          c = -115;
          }
        } else {
          {
#line 1197
          add(-115);
#line 1198
          tmp___7 = skipcomm();
          }
#line 1198
          if (tmp___7) {
#line 1199
            peek = (enum lextok )38;
#line 1200
            goto brk;
          }
#line 1202
          c = -118;
        }
      } else
#line 1204
      if ((unsigned int )peek != 35U) {
#line 1204
        if (incmdpos) {
#line 1204
          goto _L___1;
        } else
#line 1204
        if (intypeset) {
          _L___1: /* CIL Label */ 
#line 1204
          if (! bct) {
#line 1204
            if (! brct) {
#line 1206
              t = tokstr;
#line 1207
              if ((int )typtab[(unsigned char )*t] & 1) {
                {
#line 1208
                while (1) {
                  while_continue___1: /* CIL Label */ ;
#line 1208
                  t ++;
#line 1208
                  if ((unsigned long )t < (unsigned long )lexbuf.ptr) {
#line 1208
                    if (! ((int )typtab[(unsigned char )*t] & 1)) {
#line 1208
                      goto while_break___1;
                    }
                  } else {
#line 1208
                    goto while_break___1;
                  }
                }
                while_break___1: /* CIL Label */ ;
                }
              } else {
                {
#line 1210
                sav = (int )*(lexbuf.ptr);
#line 1211
                *(lexbuf.ptr) = (char )'\000';
#line 1212
                t = itype_end((char const   *)t, 1 << 7, 0);
                }
#line 1213
                if ((unsigned long )t < (unsigned long )lexbuf.ptr) {
                  {
#line 1214
                  skipparens((char)-111, (char)-110, & t);
                  }
                } else {
#line 1216
                  *(lexbuf.ptr) = (char )sav;
                }
              }
#line 1219
              if ((int )*t == 43) {
#line 1220
                t ++;
              }
#line 1221
              if ((unsigned long )t == (unsigned long )lexbuf.ptr) {
                {
#line 1222
                e = (*hgetc)();
                }
#line 1223
                if (e == 40) {
#line 1224
                  *(lexbuf.ptr) = (char )'\000';
#line 1225
                  return ((enum lextok )36);
                }
                {
#line 1227
                (*hungetc)(e);
#line 1228
                lexstop = 0;
#line 1229
                peek = (enum lextok )35;
#line 1230
                intpos = 2;
                }
              } else {
#line 1232
                c = -115;
              }
            } else {
#line 1234
              c = -115;
            }
          } else {
#line 1234
            c = -115;
          }
        } else {
#line 1234
          c = -115;
        }
      } else {
#line 1234
        c = -115;
      }
    }
#line 1236
    goto switch_break;
    case_13: /* CIL Label */ 
    {
#line 1238
    c = (*hgetc)();
    }
#line 1239
    if (c == 10) {
      {
#line 1240
      c = (*hgetc)();
      }
#line 1241
      if (! lexstop) {
#line 1242
        goto __Cont;
      }
    } else {
      {
#line 1244
      add(-97);
      }
#line 1245
      if (c == 131) {
        {
#line 1246
        c = (*hgetc)();
#line 1254
        add(-125);
        }
      }
    }
#line 1257
    if (lexstop) {
#line 1258
      goto brk;
    }
#line 1259
    goto switch_break;
    case_14: /* CIL Label */ 
#line 1261
    if (lexbuf.len) {
#line 1261
      if ((int )*(lexbuf.ptr + -1) == -123) {
#line 1261
        tmp___8 = 1;
      } else {
#line 1261
        tmp___8 = 0;
      }
    } else {
#line 1261
      tmp___8 = 0;
    }
    {
#line 1261
    strquote = tmp___8;
#line 1263
    add(-99);
#line 1264
    cmdpush(21);
    }
    {
#line 1265
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1266
      stophist += 4;
      {
#line 1267
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 1267
        c = (*hgetc)();
        }
#line 1267
        if (c != 39) {
#line 1267
          if (! (! lexstop)) {
#line 1267
            goto while_break___3;
          }
        } else {
#line 1267
          goto while_break___3;
        }
#line 1268
        if (strquote) {
#line 1268
          if (c == 92) {
            {
#line 1269
            c = (*hgetc)();
            }
#line 1270
            if (lexstop) {
#line 1271
              goto while_break___3;
            }
#line 1279
            if (c == 92) {
              {
#line 1280
              add(-97);
              }
            } else
#line 1279
            if (c == 39) {
              {
#line 1280
              add(-97);
              }
            } else {
              {
#line 1282
              add('\\');
              }
            }
          } else {
#line 1268
            goto _L___2;
          }
        } else
        _L___2: /* CIL Label */ 
#line 1283
        if (! sub) {
#line 1283
          if (opts[43]) {
#line 1283
            if (c == 10) {
#line 1284
              if ((int )*(lexbuf.ptr + -1) == 92) {
#line 1285
                (lexbuf.ptr) --;
#line 1285
                (lexbuf.len) --;
              } else {
#line 1287
                goto while_break___3;
              }
            }
          }
        }
        {
#line 1289
        add(c);
        }
      }
      while_break___3: /* CIL Label */ ;
      }
#line 1291
      stophist -= 4;
#line 1292
      if (c != 39) {
        {
#line 1293
        unmatched = '\'';
#line 1294
        peek = (enum lextok )38;
#line 1295
        cmdpop();
        }
#line 1296
        goto brk;
      }
      {
#line 1298
      e = (*hgetc)();
      }
#line 1299
      if (e != 39) {
#line 1300
        goto while_break___2;
      } else
#line 1299
      if (! opts[149]) {
#line 1300
        goto while_break___2;
      } else
#line 1299
      if (strquote) {
#line 1300
        goto while_break___2;
      }
      {
#line 1301
      add(c);
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    {
#line 1303
    cmdpop();
#line 1304
    (*hungetc)(e);
#line 1305
    lexstop = 0;
#line 1306
    c = -99;
    }
#line 1307
    goto switch_break;
    case_15: /* CIL Label */ 
    {
#line 1310
    add(-98);
#line 1311
    cmdpush(22);
#line 1312
    c = dquote_parse((char )'\"', sub);
#line 1313
    cmdpop();
    }
#line 1314
    if (c) {
#line 1315
      unmatched = '\"';
#line 1316
      peek = (enum lextok )38;
#line 1317
      goto brk;
    }
#line 1319
    c = -98;
#line 1320
    goto switch_break;
    case_16: /* CIL Label */ 
    {
#line 1322
    add(-109);
#line 1323
    cmdpush(23);
    }
#line 1324
    if (lexflags & 2) {
#line 1324
      if (! (inbufflags & (1 << 1))) {
#line 1324
        if (zlemetacs >= (zlemetall + 1) - inbufct) {
#line 1324
          parbegin = inbufct;
        }
      }
    }
#line 1325
    inquote = 0;
    {
#line 1326
    while (1) {
      while_continue___4: /* CIL Label */ ;
      {
#line 1326
      c = (*hgetc)();
      }
#line 1326
      if (c != 96) {
#line 1326
        if (! (! lexstop)) {
#line 1326
          goto while_break___4;
        }
      } else {
#line 1326
        goto while_break___4;
      }
#line 1327
      if (c == 92) {
        {
#line 1328
        c = (*hgetc)();
        }
#line 1329
        if (c != 10) {
#line 1330
          if (c == 96) {
#line 1330
            tmp___9 = -97;
          } else
#line 1330
          if (c == 92) {
#line 1330
            tmp___9 = -97;
          } else
#line 1330
          if (c == 36) {
#line 1330
            tmp___9 = -97;
          } else {
#line 1330
            tmp___9 = '\\';
          }
          {
#line 1330
          add(tmp___9);
#line 1331
          add(c);
          }
        } else
#line 1333
        if (! sub) {
#line 1333
          if (opts[43]) {
            {
#line 1334
            add(c);
            }
          }
        }
      } else {
#line 1336
        if (! sub) {
#line 1336
          if (opts[43]) {
#line 1336
            if (c == 10) {
#line 1337
              goto while_break___4;
            }
          }
        }
        {
#line 1339
        add(c);
        }
#line 1340
        if (c == 39) {
#line 1341
          inquote = ! inquote;
#line 1341
          if (inquote) {
#line 1342
            stophist += 4;
          } else {
#line 1344
            stophist -= 4;
          }
        }
      }
    }
    while_break___4: /* CIL Label */ ;
    }
#line 1348
    if (inquote) {
#line 1349
      stophist -= 4;
    }
    {
#line 1350
    cmdpop();
    }
#line 1351
    if (c != 96) {
#line 1352
      unmatched = '`';
#line 1353
      peek = (enum lextok )38;
#line 1354
      goto brk;
    }
#line 1356
    c = -109;
#line 1357
    if (lexflags & 2) {
#line 1357
      if (! (inbufflags & (1 << 1))) {
#line 1357
        if (parbegin != -1) {
#line 1357
          if (parend == -1) {
#line 1357
            if (zlemetacs >= (zlemetall + 1) - inbufct) {
#line 1357
              parbegin = -1;
            } else {
#line 1357
              parend = inbufct;
            }
          }
        }
      }
    }
#line 1358
    goto switch_break;
    case_18: /* CIL Label */ 
#line 1369
    if (seen_brct) {
#line 1370
      c = -101;
    } else {
#line 1372
      c = '-';
    }
#line 1373
    goto switch_break;
    case_19: /* CIL Label */ 
#line 1378
    if (seen_brct) {
#line 1379
      c = -100;
    } else {
#line 1381
      c = '!';
    }
    switch_break: /* CIL Label */ ;
    }
    {
#line 1383
    add(c);
#line 1384
    c = (*hgetc)();
    }
#line 1385
    if (intpos) {
#line 1386
      intpos --;
    }
#line 1387
    if (lexstop) {
#line 1388
      goto while_break;
    }
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  brk: 
#line 1391
  if (errflag) {
#line 1392
    if (in_brace_param) {
      {
#line 1393
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 1393
        tmp___10 = bct;
#line 1393
        bct --;
#line 1393
        if (! (tmp___10 >= in_brace_param)) {
#line 1393
          goto while_break___5;
        }
        {
#line 1394
        cmdpop();
        }
      }
      while_break___5: /* CIL Label */ ;
      }
    }
#line 1396
    return ((enum lextok )38);
  }
  {
#line 1398
  (*hungetc)(c);
  }
#line 1399
  if (unmatched) {
    {
#line 1400
    zerr("unmatched %c", unmatched);
    }
  }
#line 1401
  if (in_brace_param) {
    {
#line 1402
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 1402
      tmp___11 = bct;
#line 1402
      bct --;
#line 1402
      if (! (tmp___11 >= in_brace_param)) {
#line 1402
        goto while_break___6;
      }
      {
#line 1403
      cmdpop();
      }
    }
    while_break___6: /* CIL Label */ ;
    }
    {
#line 1404
    zerr("closing brace expected");
    }
  } else
#line 1405
  if (! opts[87]) {
#line 1405
    if (! sub) {
#line 1405
      if (lexbuf.len > 1) {
#line 1405
        if ((unsigned int )peek == 34U) {
#line 1405
          if ((int )*(lexbuf.ptr + -1) == 125) {
#line 1405
            if ((int )*(lexbuf.ptr + -2) != -97) {
              {
#line 1409
              (lexbuf.ptr) --;
#line 1410
              (lexbuf.len) --;
#line 1411
              lexstop = 0;
#line 1412
              (*hungetc)('}');
              }
            }
          }
        }
      }
    }
  }
#line 1414
  *(lexbuf.ptr) = (char )'\000';
#line 1416
  return (peek);
}
}
#line 1428 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int dquote_parse(char endchar , int sub ) 
{ 
  int pct ;
  int brct ;
  int bct ;
  int intick ;
  int err ;
  int c ;
  int math ;
  int tmp ;
  int zlemath ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;

  {
#line 1431
  pct = 0;
#line 1431
  brct = 0;
#line 1431
  bct = 0;
#line 1431
  intick = 0;
#line 1431
  err = 0;
#line 1433
  if ((int )endchar == 41) {
#line 1433
    tmp = 1;
  } else
#line 1433
  if ((int )endchar == 93) {
#line 1433
    tmp = 1;
  } else
#line 1433
  if (infor) {
#line 1433
    tmp = 1;
  } else {
#line 1433
    tmp = 0;
  }
#line 1433
  math = tmp;
#line 1434
  if (math) {
#line 1434
    if (zlemetacs > (zlemetall + addedx) - inbufct) {
#line 1434
      tmp___0 = 1;
    } else {
#line 1434
      tmp___0 = 0;
    }
  } else {
#line 1434
    tmp___0 = 0;
  }
#line 1434
  zlemath = tmp___0;
  {
#line 1436
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 1436
    c = (*hgetc)();
    }
#line 1436
    if (c != (int )endchar) {
#line 1436
      goto _L___3;
    } else
#line 1436
    if (bct) {
#line 1436
      goto _L___3;
    } else
#line 1436
    if (math) {
#line 1436
      if (pct > 0) {
#line 1436
        goto _L___3;
      } else
#line 1436
      if (brct > 0) {
#line 1436
        goto _L___3;
      } else {
#line 1436
        goto _L___4;
      }
    } else
    _L___4: /* CIL Label */ 
#line 1436
    if (intick) {
      _L___3: /* CIL Label */ 
#line 1436
      if (! (! lexstop)) {
#line 1436
        goto while_break;
      }
    } else {
#line 1436
      goto while_break;
    }
    cont: 
    {
#line 1441
    if (c == 92) {
#line 1441
      goto case_92;
    }
#line 1459
    if (c == 10) {
#line 1459
      goto case_10;
    }
#line 1462
    if (c == 36) {
#line 1462
      goto case_36;
    }
#line 1501
    if (c == 125) {
#line 1501
      goto case_125;
    }
#line 1508
    if (c == 96) {
#line 1508
      goto case_96;
    }
#line 1520
    if (c == 39) {
#line 1520
      goto case_39;
    }
#line 1528
    if (c == 40) {
#line 1528
      goto case_40;
    }
#line 1532
    if (c == 41) {
#line 1532
      goto case_41;
    }
#line 1536
    if (c == 91) {
#line 1536
      goto case_91;
    }
#line 1540
    if (c == 93) {
#line 1540
      goto case_93;
    }
#line 1544
    if (c == 34) {
#line 1544
      goto case_34;
    }
#line 1440
    goto switch_break;
    case_92: /* CIL Label */ 
    {
#line 1442
    c = (*hgetc)();
    }
#line 1443
    if (c != 10) {
#line 1444
      if (c == 36) {
        {
#line 1450
        add(-97);
        }
      } else
#line 1444
      if (c == 92) {
        {
#line 1450
        add(-97);
        }
      } else
#line 1444
      if (c == 125) {
#line 1444
        if (! intick) {
#line 1444
          if (bct) {
            {
#line 1450
            add(-97);
            }
          } else {
#line 1444
            goto _L___0;
          }
        } else {
#line 1444
          goto _L___0;
        }
      } else
      _L___0: /* CIL Label */ 
#line 1444
      if (c == (int )endchar) {
        {
#line 1450
        add(-97);
        }
      } else
#line 1444
      if (c == 96) {
        {
#line 1450
        add(-97);
        }
      } else
#line 1444
      if ((int )endchar == 93) {
#line 1444
        if (c == 91) {
          {
#line 1450
          add(-97);
          }
        } else
#line 1444
        if (c == 93) {
          {
#line 1450
          add(-97);
          }
        } else
#line 1444
        if (c == 40) {
          {
#line 1450
          add(-97);
          }
        } else
#line 1444
        if (c == 41) {
          {
#line 1450
          add(-97);
          }
        } else
#line 1444
        if (c == 123) {
          {
#line 1450
          add(-97);
          }
        } else
#line 1444
        if (c == 125) {
          {
#line 1450
          add(-97);
          }
        } else
#line 1444
        if (c == 34) {
#line 1444
          if (sub) {
            {
#line 1450
            add(-97);
            }
          } else {
            {
#line 1453
            add('\\');
            }
#line 1454
            goto cont;
          }
        } else {
          {
#line 1453
          add('\\');
          }
#line 1454
          goto cont;
        }
      } else {
        {
#line 1453
        add('\\');
        }
#line 1454
        goto cont;
      }
    } else
#line 1456
    if (sub) {
#line 1457
      goto while_continue;
    } else
#line 1456
    if (! opts[43]) {
#line 1457
      goto while_continue;
    } else
#line 1456
    if ((int )endchar != 34) {
#line 1457
      goto while_continue;
    }
#line 1458
    goto switch_break;
    case_10: /* CIL Label */ 
#line 1460
    if (! sub) {
#line 1460
      if (opts[43]) {
#line 1460
        if ((int )endchar == 34) {
#line 1460
          tmp___1 = 1;
        } else {
#line 1460
          tmp___1 = 0;
        }
      } else {
#line 1460
        tmp___1 = 0;
      }
    } else {
#line 1460
      tmp___1 = 0;
    }
#line 1460
    err = tmp___1;
#line 1461
    goto switch_break;
    case_36: /* CIL Label */ 
#line 1463
    if (intick) {
#line 1464
      goto switch_break;
    }
    {
#line 1465
    c = (*hgetc)();
    }
#line 1466
    if (c == 40) {
      {
#line 1467
      add(-116);
#line 1468
      tmp___2 = cmd_or_math_sub();
      }
      {
#line 1469
      if (tmp___2 == 0) {
#line 1469
        goto case_0;
      }
#line 1473
      if (tmp___2 == 1) {
#line 1473
        goto case_1;
      }
#line 1477
      goto switch_default;
      case_0: /* CIL Label */ 
#line 1470
      c = -118;
#line 1471
      goto switch_break___0;
      case_1: /* CIL Label */ 
#line 1474
      c = -117;
#line 1475
      goto switch_break___0;
      switch_default: /* CIL Label */ 
#line 1478
      err = 1;
#line 1479
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
    } else
#line 1481
    if (c == 91) {
      {
#line 1482
      add(-123);
#line 1483
      add(-111);
#line 1484
      cmdpush(25);
#line 1485
      err = dquote_parse((char )']', sub);
#line 1486
      cmdpop();
#line 1487
      c = -110;
      }
    } else
#line 1488
    if (c == 123) {
      {
#line 1489
      add(-116);
#line 1490
      c = -113;
#line 1491
      cmdpush(30);
#line 1492
      bct ++;
      }
    } else
#line 1493
    if (c == 36) {
      {
#line 1494
      add(-116);
      }
    } else {
      {
#line 1496
      (*hungetc)(c);
#line 1497
      lexstop = 0;
#line 1498
      c = -116;
      }
    }
#line 1500
    goto switch_break;
    case_125: /* CIL Label */ 
#line 1502
    if (intick) {
#line 1503
      goto switch_break;
    } else
#line 1502
    if (! bct) {
#line 1503
      goto switch_break;
    }
    {
#line 1504
    c = -112;
#line 1505
    bct --;
#line 1506
    cmdpop();
    }
#line 1507
    goto switch_break;
    case_96: /* CIL Label */ 
#line 1509
    c = -103;
#line 1510
    if (intick == 2) {
#line 1511
      stophist -= 4;
    }
#line 1512
    intick = ! intick;
#line 1512
    if (intick) {
#line 1513
      if (lexflags & 2) {
#line 1513
        if (! (inbufflags & (1 << 1))) {
#line 1513
          if (zlemetacs >= (zlemetall + 1) - inbufct) {
#line 1513
            parbegin = inbufct;
          }
        }
      }
      {
#line 1514
      cmdpush(23);
      }
    } else {
#line 1516
      if (lexflags & 2) {
#line 1516
        if (! (inbufflags & (1 << 1))) {
#line 1516
          if (parbegin != -1) {
#line 1516
            if (parend == -1) {
#line 1516
              if (zlemetacs >= (zlemetall + 1) - inbufct) {
#line 1516
                parbegin = -1;
              } else {
#line 1516
                parend = inbufct;
              }
            }
          }
        }
      }
      {
#line 1517
      cmdpop();
      }
    }
#line 1519
    goto switch_break;
    case_39: /* CIL Label */ 
#line 1521
    if (! intick) {
#line 1522
      goto switch_break;
    }
#line 1523
    if (intick == 1) {
#line 1524
      intick = 2;
#line 1524
      stophist += 4;
    } else {
#line 1526
      intick = 1;
#line 1526
      stophist -= 4;
    }
#line 1527
    goto switch_break;
    case_40: /* CIL Label */ 
#line 1529
    if (! math) {
#line 1530
      pct ++;
    } else
#line 1529
    if (! bct) {
#line 1530
      pct ++;
    }
#line 1531
    goto switch_break;
    case_41: /* CIL Label */ 
#line 1533
    if (! math) {
#line 1533
      goto _L___1;
    } else
#line 1533
    if (! bct) {
      _L___1: /* CIL Label */ 
#line 1534
      tmp___3 = pct;
#line 1534
      pct --;
#line 1534
      if (tmp___3) {
#line 1534
        tmp___4 = 0;
      } else
#line 1534
      if (math) {
#line 1534
        tmp___4 = 1;
      } else {
#line 1534
        tmp___4 = 0;
      }
#line 1534
      err = tmp___4;
    }
#line 1535
    goto switch_break;
    case_91: /* CIL Label */ 
#line 1537
    if (! math) {
#line 1538
      brct ++;
    } else
#line 1537
    if (! bct) {
#line 1538
      brct ++;
    }
#line 1539
    goto switch_break;
    case_93: /* CIL Label */ 
#line 1541
    if (! math) {
#line 1541
      goto _L___2;
    } else
#line 1541
    if (! bct) {
      _L___2: /* CIL Label */ 
#line 1542
      tmp___5 = brct;
#line 1542
      brct --;
#line 1542
      if (tmp___5) {
#line 1542
        tmp___6 = 0;
      } else
#line 1542
      if (math) {
#line 1542
        tmp___6 = 1;
      } else {
#line 1542
        tmp___6 = 0;
      }
#line 1542
      err = tmp___6;
    }
#line 1543
    goto switch_break;
    case_34: /* CIL Label */ 
#line 1545
    if (intick) {
#line 1546
      goto switch_break;
    } else
#line 1545
    if ((int )endchar != 34) {
#line 1545
      if (! bct) {
#line 1546
        goto switch_break;
      }
    }
#line 1547
    if (bct) {
      {
#line 1548
      add(-98);
#line 1549
      cmdpush(22);
#line 1550
      err = dquote_parse((char )'\"', sub);
#line 1551
      cmdpop();
#line 1552
      c = -98;
      }
    } else {
#line 1554
      err = 1;
    }
#line 1555
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 1557
    if (err) {
#line 1558
      goto while_break;
    } else
#line 1557
    if (lexstop) {
#line 1558
      goto while_break;
    }
    {
#line 1559
    add(c);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1561
  if (intick == 2) {
#line 1562
    stophist -= 4;
  }
#line 1563
  if (intick) {
    {
#line 1564
    cmdpop();
    }
  }
  {
#line 1566
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1566
    tmp___7 = bct;
#line 1566
    bct --;
#line 1566
    if (! tmp___7) {
#line 1566
      goto while_break___0;
    }
    {
#line 1567
    cmdpop();
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1568
  if (lexstop) {
#line 1569
    if (intick) {
#line 1569
      tmp___8 = 1;
    } else
#line 1569
    if (endchar) {
#line 1569
      tmp___8 = 1;
    } else
#line 1569
    if (err) {
#line 1569
      tmp___8 = 1;
    } else {
#line 1569
      tmp___8 = 0;
    }
#line 1569
    err = tmp___8;
  } else
#line 1570
  if (err == 1) {
#line 1581
    err = c;
  }
#line 1583
  if (zlemath) {
#line 1583
    if (zlemetacs <= (zlemetall + 1) - inbufct) {
#line 1584
      inwhat = 2;
    }
  }
#line 1585
  return (err);
}
}
#line 1602 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
int parsestr(char **s ) 
{ 
  int err ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
  {
#line 1607
  err = parsestrnoerr(s);
  }
#line 1607
  if (err) {
    {
#line 1608
    untokenize(*s);
    }
#line 1609
    if (! (errflag & 2)) {
#line 1610
      if (err > 32) {
#line 1610
        if (err < 127) {
          {
#line 1611
          zerr("parse error near `%c\'", err);
          }
        } else {
          {
#line 1613
          zerr("parse error");
          }
        }
      } else {
        {
#line 1613
        zerr("parse error");
        }
      }
    }
  }
#line 1616
  return (err);
}
}
#line 1620 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
int parsestrnoerr(char **s ) 
{ 
  int l ;
  size_t tmp ;
  int err ;
  char *tmp___0 ;

  {
  {
#line 1623
  tmp = strlen((char const   *)*s);
#line 1623
  l = (int )tmp;
#line 1625
  zcontext_save();
#line 1626
  untokenize(*s);
#line 1627
  tmp___0 = dupstring((char const   *)*s);
#line 1627
  inpush(tmp___0, 0, (Alias )((void *)0));
#line 1628
  strinbeg(0);
#line 1629
  lexbuf.len = 0;
#line 1630
  tokstr = *s;
#line 1630
  lexbuf.ptr = tokstr;
#line 1631
  lexbuf.siz = l + 1;
#line 1632
  err = dquote_parse((char )'\000', 1);
  }
#line 1633
  if (tokstr) {
#line 1634
    *s = tokstr;
  }
  {
#line 1635
  *(lexbuf.ptr) = (char )'\000';
#line 1636
  strinend();
#line 1637
  inpop();
#line 1639
  zcontext_restore();
  }
#line 1640
  return (err);
}
}
#line 1650 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
char *parse_subscript(char *s , int sub , int endchar ) 
{ 
  int l ;
  size_t tmp ;
  int err ;
  int toklen ;
  char *t ;
  char *strend___0 ;

  {
  {
#line 1653
  tmp = strlen((char const   *)s);
#line 1653
  l = (int )tmp;
  }
#line 1656
  if (! *s) {
#line 1657
    return ((char *)0);
  } else
#line 1656
  if ((int )*s == endchar) {
#line 1657
    return ((char *)0);
  }
  {
#line 1658
  zcontext_save();
#line 1659
  t = dupstring((char const   *)s);
#line 1659
  untokenize(t);
#line 1660
  inpush(t, 0, (Alias )((void *)0));
#line 1661
  strinbeg(0);
#line 1674
  lexbuf.len = 0;
#line 1675
  tokstr = dupstring((char const   *)s);
#line 1675
  lexbuf.ptr = tokstr;
#line 1676
  lexbuf.siz = l + 1;
#line 1677
  err = dquote_parse((char )endchar, sub);
#line 1678
  toklen = (int )(lexbuf.ptr - tokstr);
#line 1680
  memcpy((void */* __restrict  */)s, (void const   */* __restrict  */)tokstr, (size_t )toklen);
  }
#line 1681
  if (err) {
    {
#line 1682
    strend___0 = s + toklen;
#line 1683
    err = (int )*strend___0;
#line 1684
    *strend___0 = (char )'\000';
#line 1685
    untokenize(s);
#line 1686
    *strend___0 = (char )err;
#line 1687
    s = (char *)((void *)0);
    }
  } else {
#line 1689
    s += toklen;
  }
  {
#line 1691
  strinend();
#line 1692
  inpop();
#line 1694
  zcontext_restore();
  }
#line 1695
  return (s);
}
}
#line 1703 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
int parse_subst_string(char *s ) 
{ 
  int c ;
  int l ;
  size_t tmp ;
  int err ;
  char *ptr___0 ;
  enum lextok ctok ;
  int tmp___0 ;
  char *tmp___1 ;
  char *t ;
  int len ;
  int tlen ;
  int diff ;
  size_t tmp___2 ;
  char *dptr ;
  char *sptr ;
  char *tmp___3 ;
  char tmp___4 ;
  char *tmp___5 ;

  {
  {
#line 1706
  tmp = strlen((char const   *)s);
#line 1706
  l = (int )tmp;
  }
#line 1710
  if (! *s) {
#line 1711
    return (0);
  } else {
    {
#line 1710
    tmp___0 = strcmp((char const   *)s, (char const   *)(nulstring));
    }
#line 1710
    if (! tmp___0) {
#line 1711
      return (0);
    }
  }
  {
#line 1712
  zcontext_save();
#line 1713
  untokenize(s);
#line 1714
  tmp___1 = dupstring((char const   *)s);
#line 1714
  inpush(tmp___1, 0, (Alias )((void *)0));
#line 1715
  strinbeg(0);
#line 1716
  lexbuf.len = 0;
#line 1717
  tokstr = s;
#line 1717
  lexbuf.ptr = tokstr;
#line 1718
  lexbuf.siz = l + 1;
#line 1719
  c = (*hgetc)();
#line 1720
  ctok = gettokstr(c, 1);
#line 1721
  err = errflag;
#line 1722
  strinend();
#line 1723
  inpop();
#line 1725
  zcontext_restore();
#line 1727
  errflag = err | (errflag & 2);
  }
#line 1728
  if ((unsigned int )ctok == 38U) {
    {
#line 1729
    untokenize(s);
    }
#line 1730
    return (1);
  }
#line 1747
  ptr___0 = s;
  {
#line 1747
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1747
    if (! *ptr___0) {
#line 1747
      goto while_break;
    }
#line 1749
    if ((int )*ptr___0 == -123) {
#line 1749
      if ((int )*(ptr___0 + 1) == -99) {
        {
#line 1753
        t = getkeystring(ptr___0 + 2, & len, 19, (int *)((void *)0));
#line 1754
        len += 2;
#line 1755
        tmp___2 = strlen((char const   *)t);
#line 1755
        tlen = (int )tmp___2;
#line 1756
        diff = len - tlen;
        }
#line 1768
        if (diff < 0) {
#line 1770
          return (1);
        }
        {
#line 1772
        memcpy((void */* __restrict  */)ptr___0, (void const   */* __restrict  */)t,
               (size_t )tlen);
#line 1773
        ptr___0 += tlen;
        }
#line 1774
        if (diff > 0) {
#line 1775
          dptr = ptr___0;
#line 1776
          sptr = ptr___0 + diff;
          {
#line 1777
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 1777
            tmp___3 = dptr;
#line 1777
            dptr ++;
#line 1777
            tmp___5 = sptr;
#line 1777
            sptr ++;
#line 1777
            tmp___4 = *tmp___5;
#line 1777
            *tmp___3 = tmp___4;
#line 1777
            if (! tmp___4) {
#line 1777
              goto while_break___0;
            }
          }
          while_break___0: /* CIL Label */ ;
          }
        }
      } else {
#line 1781
        ptr___0 ++;
      }
    } else {
#line 1781
      ptr___0 ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1783
  return (0);
}
}
#line 1789 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static void gotword(void) 
{ 
  int nwe ;
  int tmp ;
  int nwb ;

  {
#line 1792
  if (addedx == 2) {
#line 1792
    tmp = 1;
  } else {
#line 1792
    tmp = 0;
  }
#line 1792
  nwe = ((zlemetall + 1) - inbufct) + tmp;
#line 1793
  if (zlemetacs <= nwe) {
#line 1794
    nwb = (zlemetall - wordbeg) + addedx;
#line 1795
    if (zlemetacs >= nwb) {
#line 1796
      wb = nwb;
#line 1797
      we = nwe;
    } else {
#line 1799
      wb = zlemetacs + addedx;
#line 1800
      if (we < wb) {
#line 1801
        we = wb;
      }
    }
#line 1803
    lexflags = 0;
  }
#line 1805
  return;
}
}
#line 1809 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int checkalias(void) 
{ 
  Alias an ;
  char *suf ;
  HashNode tmp ;
  int c ;
  int tmp___0 ;
  char *tmp___1 ;
  HashNode tmp___2 ;
  HashNode tmp___3 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 1814
  if (! zshlextext) {
#line 1815
    return (0);
  }
#line 1817
  if (! noaliases) {
#line 1817
    if (opts[1]) {
#line 1817
      if (! opts[128]) {
#line 1817
        goto _L___1;
      } else
#line 1817
      if ((unsigned int )tok == 34U) {
        {
#line 1817
        tmp___3 = (*(reswdtab->getnode))(reswdtab, (char const   *)zshlextext);
        }
#line 1817
        if (! tmp___3) {
          _L___1: /* CIL Label */ 
          {
#line 1822
          tmp = (*(aliastab->getnode))(aliastab, (char const   *)zshlextext);
#line 1822
          an = (Alias )tmp;
          }
#line 1823
          if (an) {
#line 1823
            if (! an->inuse) {
#line 1823
              if (an->node.flags & (1 << 1)) {
#line 1823
                goto _L;
              } else
#line 1823
              if (incmdpos) {
#line 1823
                if ((unsigned int )tok == 34U) {
#line 1823
                  goto _L;
                } else {
#line 1823
                  goto _L___0;
                }
              } else
              _L___0: /* CIL Label */ 
#line 1823
              if (inalmore) {
                _L: /* CIL Label */ 
#line 1826
                if (! lexstop) {
                  {
#line 1831
                  tmp___0 = (*hgetc)();
#line 1831
                  c = tmp___0;
#line 1832
                  (*hungetc)(c);
                  }
#line 1833
                  if (! ((int )typtab[(unsigned char )c] & (1 << 2))) {
                    {
#line 1834
                    inpush((char *)" ", 1 << 1, (Alias )0);
                    }
                  }
                }
                {
#line 1836
                inpush(an->text, 1 << 1, an);
                }
#line 1837
                if ((int )*(an->text + 0) == 32) {
#line 1837
                  if (! (an->node.flags & (1 << 1))) {
#line 1838
                    aliasspaceflag = 1;
                  }
                }
#line 1839
                lexstop = 0;
#line 1840
                return (1);
              }
            }
          }
          {
#line 1842
          suf = strrchr((char const   *)zshlextext, '.');
          }
#line 1842
          if (suf) {
#line 1842
            if (*(suf + 1)) {
#line 1842
              if ((unsigned long )suf > (unsigned long )zshlextext) {
#line 1842
                if ((int )*(suf + -1) != -125) {
                  {
#line 1842
                  tmp___2 = (*(sufaliastab->getnode))(sufaliastab, (char const   *)(suf + 1));
#line 1842
                  an = (Alias )tmp___2;
                  }
#line 1842
                  if (an) {
#line 1842
                    if (! an->inuse) {
#line 1842
                      if (incmdpos) {
                        {
#line 1846
                        tmp___1 = dupstring((char const   *)zshlextext);
#line 1846
                        inpush(tmp___1, 1 << 1, an);
#line 1847
                        inpush((char *)" ", 1 << 1, (Alias )((void *)0));
#line 1848
                        inpush(an->text, 1 << 1, (Alias )((void *)0));
#line 1849
                        lexstop = 0;
                        }
#line 1850
                        return (1);
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 1854
  return (0);
}
}
#line 1860 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
int exalias(void) 
{ 
  Reswd rw ;
  int tmp ;
  char *copy ;
  size_t tmp___0 ;
  void *tmp___1 ;
  char *p ;
  char *t ;
  char *tmp___2 ;
  char tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  int tmp___6 ;
  int zp ;
  int tmp___7 ;
  int tmp___8 ;
  HashNode tmp___9 ;
  char *__cil_tmp17 ;

  {
  {
#line 1865
  (*hwend)();
  }
#line 1866
  if (opts[92]) {
#line 1866
    if (opts[159]) {
#line 1866
      if (! strin) {
#line 1866
        if (! incasepat) {
#line 1866
          if ((unsigned int )tok == 34U) {
#line 1866
            if (! nocorrect) {
#line 1866
              if (! (inbufflags & (1 << 1))) {
#line 1866
                if (opts[38]) {
                  {
#line 1869
                  spckword(& tokstr, 1, incmdpos, 1);
                  }
                } else
#line 1866
                if (opts[37]) {
#line 1866
                  if (incmdpos) {
                    {
#line 1869
                    spckword(& tokstr, 1, incmdpos, 1);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 1871
  if (! tokstr) {
#line 1872
    zshlextext = tokstrings[tok];
#line 1874
    if ((unsigned int )tok == 2U) {
#line 1875
      return (0);
    }
    {
#line 1876
    tmp = checkalias();
    }
#line 1876
    return (tmp);
  } else {
    {
#line 1878
    tmp___0 = strlen((char const   *)tokstr);
#line 1878
    tmp___1 = zhalloc(sizeof(char ) * (tmp___0 + 1UL));
#line 1878
    copy = (char *)tmp___1;
#line 1880
    tmp___6 = has_token((char const   *)tokstr);
    }
#line 1880
    if (tmp___6) {
#line 1883
      p = copy;
#line 1883
      zshlextext = p;
#line 1884
      t = tokstr;
      {
#line 1884
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1884
        tmp___2 = p;
#line 1884
        p ++;
#line 1884
        if ((int )typtab[(unsigned char )*t] & (1 << 4)) {
#line 1884
          tmp___4 = t;
#line 1884
          t ++;
#line 1884
          tmp___3 = ztokens[(int )*tmp___4 - -124];
        } else {
#line 1884
          tmp___5 = t;
#line 1884
          t ++;
#line 1884
          tmp___3 = *tmp___5;
        }
#line 1884
        *tmp___2 = tmp___3;
#line 1884
        if (! tmp___3) {
#line 1884
          goto while_break;
        }
      }
      while_break: /* CIL Label */ ;
      }
    } else {
#line 1887
      zshlextext = tokstr;
    }
#line 1889
    if (lexflags & 2) {
#line 1889
      if (! (inbufflags & (1 << 1))) {
        {
#line 1890
        zp = lexflags;
#line 1892
        gotword();
        }
#line 1893
        if (zp & 2) {
#line 1893
          if (! lexflags) {
#line 1894
            if ((unsigned long )zshlextext == (unsigned long )copy) {
#line 1895
              zshlextext = tokstr;
            }
#line 1896
            return (0);
          }
        }
      }
    }
#line 1900
    if ((unsigned int )tok == 34U) {
#line 1902
      if ((unsigned long )zshlextext != (unsigned long )copy) {
#line 1902
        goto _L;
      } else
#line 1902
      if (! opts[128]) {
        _L: /* CIL Label */ 
        {
#line 1902
        tmp___7 = checkalias();
        }
#line 1902
        if (tmp___7) {
#line 1903
          if ((unsigned long )zshlextext == (unsigned long )copy) {
#line 1904
            zshlextext = tokstr;
          }
#line 1905
          return (1);
        }
      }
#line 1909
      if (incmdpos) {
#line 1909
        goto _L___2;
      } else
#line 1909
      if (! opts[87]) {
#line 1909
        if (! opts[88]) {
#line 1909
          if ((int )*(zshlextext + 0) == 125) {
#line 1909
            if (! *(zshlextext + 1)) {
              _L___2: /* CIL Label */ 
              {
#line 1909
              tmp___9 = (*(reswdtab->getnode))(reswdtab, (char const   *)zshlextext);
#line 1909
              rw = (Reswd )tmp___9;
              }
#line 1909
              if (rw) {
#line 1913
                tok = (enum lextok )rw->token;
#line 1914
                inrepeat_ = (unsigned int )tok == 57U;
#line 1915
                if ((unsigned int )tok == 40U) {
#line 1916
                  incond = 1;
                }
              } else {
#line 1909
                goto _L___5;
              }
            } else {
#line 1909
              goto _L___5;
            }
          } else {
#line 1909
            goto _L___5;
          }
        } else {
#line 1909
          goto _L___5;
        }
      } else
      _L___5: /* CIL Label */ 
#line 1917
      if (incond) {
        {
#line 1917
        tmp___8 = strcmp((char const   *)zshlextext, "]]");
        }
#line 1917
        if (tmp___8) {
#line 1917
          goto _L___0;
        } else {
#line 1918
          tok = (enum lextok )33;
#line 1919
          incond = 0;
        }
      } else
      _L___0: /* CIL Label */ 
#line 1920
      if (incond == 1) {
#line 1920
        if ((int )*(zshlextext + 0) == 33) {
#line 1920
          if (! *(zshlextext + 1)) {
#line 1921
            tok = (enum lextok )39;
          }
        }
      }
    }
#line 1923
    inalmore = 0;
#line 1924
    if ((unsigned long )zshlextext == (unsigned long )copy) {
#line 1925
      zshlextext = tokstr;
    }
  }
#line 1927
  return (0);
}
}
#line 1931 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void zshlex_raw_add(int c ) 
{ 
  char *tmp ;
  int newbsiz ;
  void *tmp___0 ;

  {
#line 1934
  if (! lex_add_raw) {
#line 1935
    return;
  }
#line 1937
  tmp = lexbuf_raw.ptr;
#line 1937
  (lexbuf_raw.ptr) ++;
#line 1937
  *tmp = (char )c;
#line 1938
  (lexbuf_raw.len) ++;
#line 1938
  if (lexbuf_raw.siz == lexbuf_raw.len) {
    {
#line 1939
    newbsiz = lexbuf_raw.siz * 2;
#line 1941
    tmp___0 = hrealloc(tokstr_raw, (size_t )lexbuf_raw.siz, (size_t )newbsiz);
#line 1941
    tokstr_raw = (char *)tmp___0;
#line 1942
    lexbuf_raw.ptr = tokstr_raw + lexbuf_raw.len;
#line 1943
    memset((void *)lexbuf_raw.ptr, 0, (size_t )(newbsiz - lexbuf_raw.siz));
#line 1944
    lexbuf_raw.siz = newbsiz;
    }
  }
#line 1946
  return;
}
}
#line 1949 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void zshlex_raw_back(void) 
{ 


  {
#line 1952
  if (! lex_add_raw) {
#line 1953
    return;
  }
#line 1954
  (lexbuf_raw.ptr) --;
#line 1955
  (lexbuf_raw.len) --;
#line 1956
  return;
}
}
#line 1959 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
int zshlex_raw_mark(int offset ) 
{ 


  {
#line 1962
  if (! lex_add_raw) {
#line 1963
    return (0);
  }
#line 1964
  return (lexbuf_raw.len + offset);
}
}
#line 1968 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
void zshlex_raw_back_to_mark(int mark ) 
{ 


  {
#line 1971
  if (! lex_add_raw) {
#line 1972
    return;
  }
#line 1973
  lexbuf_raw.ptr = tokstr_raw + mark;
#line 1974
  lexbuf_raw.len = mark;
#line 1975
  return;
}
}
#line 1988 "/home/khheo/testset/zsh-zsh-5.3.1/Src/lex.c"
static int skipcomm(void) 
{ 
  char *new_tokstr ;
  int new_lexstop ;
  int new_lex_add_raw ;
  int save_infor ;
  struct lexbufstate new_lexbuf ;
  int noalias ;
  Eprog tmp ;

  {
  {
#line 2065
  save_infor = infor;
#line 2067
  noalias = noaliases;
#line 2069
  noaliases = 1;
#line 2070
  infor = 0;
#line 2071
  cmdpush(24);
  }
#line 2072
  if (lexflags & 2) {
#line 2072
    if (! (inbufflags & (1 << 1))) {
#line 2072
      if (zlemetacs >= (zlemetall + 1) - inbufct) {
#line 2072
        parbegin = inbufct;
      }
    }
  }
  {
#line 2073
  add(-120);
#line 2075
  new_lex_add_raw = lex_add_raw + 1;
  }
#line 2076
  if (! lex_add_raw) {
#line 2092
    new_tokstr = tokstr;
#line 2093
    new_lexbuf = lexbuf;
#line 2105
    if (inbufflags & (1 << 1)) {
#line 2106
      inbufflags |= 1 << 8;
    }
    {
#line 2107
    zcontext_save_partial(6);
#line 2108
    hist_in_word(1);
    }
  } else {
    {
#line 2119
    new_tokstr = tokstr_raw;
#line 2120
    new_lexbuf = lexbuf_raw;
#line 2122
    zcontext_save_partial(6);
    }
  }
  {
#line 2124
  tokstr_raw = new_tokstr;
#line 2125
  lexbuf_raw = new_lexbuf;
#line 2126
  lex_add_raw = new_lex_add_raw;
#line 2138
  lexflags &= -3;
#line 2139
  dbparens = 0;
#line 2141
  tmp = parse_event(7);
  }
#line 2141
  if (tmp) {
#line 2141
    if ((unsigned int )tok != 7U) {
      _L: /* CIL Label */ 
#line 2142
      if (strin) {
        {
#line 2147
        while (1) {
          while_continue: /* CIL Label */ ;
#line 2147
          if (! (! lexstop)) {
#line 2147
            goto while_break;
          }
          {
#line 2148
          ingetc();
          }
        }
        while_break: /* CIL Label */ ;
        }
      } else {
#line 2150
        lexstop = 1;
      }
    }
  } else {
#line 2141
    goto _L;
  }
  {
#line 2158
  new_tokstr = tokstr_raw;
#line 2159
  new_lexbuf = lexbuf_raw;
#line 2165
  new_lexstop = lexstop;
#line 2167
  zcontext_restore_partial(6);
  }
#line 2169
  if (lex_add_raw) {
#line 2173
    tokstr_raw = new_tokstr;
#line 2174
    lexbuf_raw = new_lexbuf;
  } else {
#line 2176
    if (! new_lexstop) {
#line 2178
      (new_lexbuf.len) --;
#line 2179
      (new_lexbuf.ptr) --;
#line 2179
      *(new_lexbuf.ptr) = (char )'\000';
    }
    {
#line 2186
    tokstr = new_tokstr;
#line 2187
    lexbuf = new_lexbuf;
#line 2188
    lexstop = new_lexstop;
#line 2189
    hist_in_word(0);
    }
  }
#line 2192
  if (! lexstop) {
#line 2193
    if (lexflags & 2) {
#line 2193
      if (! (inbufflags & (1 << 1))) {
#line 2193
        if (parbegin != -1) {
#line 2193
          if (parend == -1) {
#line 2193
            if (zlemetacs >= (zlemetall + 1) - inbufct) {
#line 2193
              parbegin = -1;
            } else {
#line 2193
              parend = inbufct;
            }
          }
        }
      }
    }
  }
  {
#line 2194
  cmdpop();
#line 2195
  infor = save_infor;
#line 2196
  noaliases = noalias;
  }
#line 2198
  return (lexstop);
}
}
#line 646 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) setpgid)(__pid_t __pid ,
                                                                              __pid_t __pgid ) ;
#line 342 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strstr)(char const   *__haystack ,
                                                                                                 char const   *__needle )  __attribute__((__pure__)) ;
#line 534
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcasecmp)(char const   *__s1 ,
                                                                                                   char const   *__s2 )  __attribute__((__pure__)) ;
#line 87 "/usr/include/x86_64-linux-gnu/sys/resource.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) getrusage)(__rusage_who_t __who ,
                                                                                struct rusage *__usage ) ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int subsh ;
#line 14
long lastval2 ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
sigset_t sigchld_mask ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
pid_t origpgrp  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
pid_t mypgrp  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int thisjob  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int curjob  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int prevjob  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
struct job *jobtab  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int jobtabsize  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int maxjob  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int ttyfrozen  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int prev_errflag  ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int prev_breaks  ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int errbrk_saved  ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int numpipestats  ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.epro"
int pipestats[256]  ;
#line 22
void makerunning(Job jn ) ;
#line 24
int hasprocs(int job ) ;
#line 28
void storepipestats(Job jn , int inforeground , int fixlastval ) ;
#line 30
long get_clktck(void) ;
#line 31
int printjob(Job jn , int lng , int synch ) ;
#line 32
void addfilelist(char const   *name , int fd ) ;
#line 33
void pipecleanfilelist(LinkList filelist , int proc_subst_only ) ;
#line 34
void deletefilelist(LinkList file_list , int disowning ) ;
#line 35
void freejob(Job jn , int deleting ) ;
#line 36
void deletejob(Job jn , int disowning ) ;
#line 37
void addproc(pid_t pid , char *text , int aux , struct timeval *bgtime ) ;
#line 38
int havefiles(void) ;
#line 39
int waitforpid(pid_t pid , int wait_cmd ) ;
#line 40
void waitjobs(void) ;
#line 41
void clearjobtab(int monitor ) ;
#line 42
int initjob(void) ;
#line 43
void setjobpwd(void) ;
#line 44
void spawnjob(void) ;
#line 45
void shelltime(void) ;
#line 47
int getjob(char const   *s , char const   *prog ) ;
#line 48
void init_jobs(char **argv , char **envp ) ;
#line 49
int expandjobtab(void) ;
#line 50
void maybeshrinkjobtab(void) ;
#line 52
int bin_fg(char *name , char **argv , Options ops , int func ) ;
#line 53
int bin_kill(char *nam , char **argv , Options ops  __attribute__((__unused__)) ,
             int func  __attribute__((__unused__)) ) ;
#line 54
int getsignum(char const   *s ) ;
#line 55
char const   *getsigname(int sig ) ;
#line 57
void removetrapnode(int sig ) ;
#line 58
int bin_suspend(char *name , char **argv  __attribute__((__unused__)) , Options ops ,
                int func  __attribute__((__unused__)) ) ;
#line 59
int findjobnam(char const   *s ) ;
#line 61
void release_pgrp(void) ;
#line 3 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.pro"
static struct rusage child_usage  ;
#line 7
static struct timeval *dtime(struct timeval *dt , struct timeval *t1 , struct timeval *t2 ) ;
#line 8
static int super_job(int sub ) ;
#line 9
static int handle_sub(int job , int fg ) ;
#line 10
static void setprevjob(void) ;
#line 11
static void printhhmmss(double secs ) ;
#line 12
static void dumptime(Job jn ) ;
#line 13
static int should_report_time(Job j ) ;
#line 14
static int zwaitjob(int job , int wait_cmd ) ;
#line 15
static int isanum(char *s ) ;
#line 16
static void setcurjob(void) ;
#line 75 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static struct job *oldjobtab  ;
#line 78 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int oldmaxjob  ;
#line 110 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static struct timeval *dtime(struct timeval *dt , struct timeval *t1 , struct timeval *t2 ) 
{ 


  {
#line 113
  dt->tv_sec = t2->tv_sec - t1->tv_sec;
#line 114
  dt->tv_usec = t2->tv_usec - t1->tv_usec;
#line 115
  if (dt->tv_usec < 0L) {
#line 116
    dt->tv_usec = (__suseconds_t )((double )dt->tv_usec + 1000000.0);
#line 117
    dt->tv_sec = (__time_t )((double )dt->tv_sec - 1.0);
  }
#line 119
  return (dt);
}
}
#line 125 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void makerunning(Job jn ) 
{ 
  Process pn ;
  union __anonunion_110___0 __constr_expr_12 ;

  {
#line 130
  jn->stat &= -3;
#line 131
  pn = jn->procs;
  {
#line 131
  while (1) {
    while_continue: /* CIL Label */ ;
#line 131
    if (! pn) {
#line 131
      goto while_break;
    }
#line 137
    __constr_expr_12.__in = pn->status;
#line 137
    if ((__constr_expr_12.__i & 255) == 127) {
#line 138
      pn->status = -1;
    }
#line 131
    pn = pn->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 141
  if (jn->stat & 128) {
    {
#line 142
    makerunning(jobtab + jn->other);
    }
  }
#line 143
  return;
}
}
#line 149 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int findproc(pid_t pid , Job *jptr , Process *pptr , int aux ) 
{ 
  Process pn ;
  int i ;
  int tmp ;

  {
#line 155
  *jptr = (Job )((void *)0);
#line 156
  *pptr = (Process )((void *)0);
#line 157
  i = 1;
  {
#line 157
  while (1) {
    while_continue: /* CIL Label */ ;
#line 157
    if (! (i <= maxjob)) {
#line 157
      goto while_break;
    }
#line 165
    if ((jobtab + i)->stat & 8) {
#line 166
      goto __Cont;
    }
#line 168
    if (aux) {
#line 168
      pn = (jobtab + i)->auxprocs;
    } else {
#line 168
      pn = (jobtab + i)->procs;
    }
    {
#line 168
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 168
      if (! pn) {
#line 168
        goto while_break___0;
      }
#line 186
      if (pn->pid == pid) {
#line 187
        *pptr = pn;
#line 188
        *jptr = jobtab + i;
#line 189
        if (pn->status == -1) {
#line 190
          return (1);
        }
      }
#line 168
      pn = pn->next;
    }
    while_break___0: /* CIL Label */ ;
    }
    __Cont: /* CIL Label */ 
#line 157
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 195
  if (*pptr) {
#line 195
    if (*jptr) {
#line 195
      tmp = 1;
    } else {
#line 195
      tmp = 0;
    }
  } else {
#line 195
    tmp = 0;
  }
#line 195
  return (tmp);
}
}
#line 201 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int hasprocs(int job ) 
{ 
  Job jn ;
  int tmp ;

  {
#line 206
  if (job < 0) {
#line 208
    return (0);
  }
#line 210
  jn = jobtab + job;
#line 212
  if (jn->procs) {
#line 212
    tmp = 1;
  } else
#line 212
  if (jn->auxprocs) {
#line 212
    tmp = 1;
  } else {
#line 212
    tmp = 0;
  }
#line 212
  return (tmp);
}
}
#line 218 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int super_job(int sub ) 
{ 
  int i ;

  {
#line 223
  i = 1;
  {
#line 223
  while (1) {
    while_continue: /* CIL Label */ ;
#line 223
    if (! (i <= maxjob)) {
#line 223
      goto while_break;
    }
#line 224
    if ((jobtab + i)->stat & 128) {
#line 224
      if ((jobtab + i)->other == sub) {
#line 224
        if ((jobtab + i)->gleader) {
#line 227
          return (i);
        }
      }
    }
#line 223
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 228
  return (0);
}
}
#line 232 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int handle_sub(int job , int fg ) 
{ 
  Job jn ;
  Job sj ;
  struct process *p ;
  union __anonunion_111___0 __constr_expr_13 ;
  union __anonunion_112___0 __constr_expr_14 ;
  union __anonunion_113___0 __constr_expr_15 ;
  union __anonunion_114___0 __constr_expr_16 ;
  int cp ;
  Process p___0 ;
  union __anonunion_115___0 __constr_expr_17 ;
  union __anonunion_116___0 __constr_expr_18 ;
  int tmp ;
  int tmp___0 ;
  struct process *p___1 ;
  union __anonunion_117___0 __constr_expr_19 ;
  union __anonunion_118___0 __constr_expr_20 ;

  {
#line 236
  jn = jobtab + job;
#line 236
  sj = jobtab + jn->other;
#line 238
  if (sj->stat & 8) {
#line 238
    goto _L___1;
  } else
#line 238
  if (! sj->procs) {
#line 238
    if (! sj->auxprocs) {
      _L___1: /* CIL Label */ 
#line 241
      p = sj->procs;
      {
#line 241
      while (1) {
        while_continue: /* CIL Label */ ;
#line 241
        if (! p) {
#line 241
          goto while_break;
        }
#line 242
        __constr_expr_16.__in = p->status;
#line 242
        if ((int )((signed char )((__constr_expr_16.__i & 127) + 1)) >> 1 > 0) {
#line 243
          if (jn->gleader != mypgrp) {
#line 243
            if ((jn->procs)->next) {
              {
#line 244
              __constr_expr_13.__in = p->status;
#line 244
              killpg(jn->gleader, __constr_expr_13.__i & 127);
              }
            } else {
              {
#line 246
              __constr_expr_14.__in = p->status;
#line 246
              kill((jn->procs)->pid, __constr_expr_14.__i & 127);
              }
            }
          } else {
            {
#line 246
            __constr_expr_14.__in = p->status;
#line 246
            kill((jn->procs)->pid, __constr_expr_14.__i & 127);
            }
          }
          {
#line 247
          kill(sj->other, 18);
#line 248
          __constr_expr_15.__in = p->status;
#line 248
          kill(sj->other, __constr_expr_15.__i & 127);
          }
#line 249
          goto while_break;
        }
#line 241
        p = p->next;
      }
      while_break: /* CIL Label */ ;
      }
#line 252
      if (! p) {
#line 255
        jn->stat &= -129;
#line 256
        jn->stat |= 512;
#line 258
        __constr_expr_17.__in = (jn->procs)->status;
#line 258
        if ((__constr_expr_17.__i & 127) == 0) {
#line 258
          goto _L;
        } else {
#line 258
          __constr_expr_18.__in = (jn->procs)->status;
#line 258
          if ((int )((signed char )((__constr_expr_18.__i & 127) + 1)) >> 1 > 0) {
            _L: /* CIL Label */ 
            {
#line 258
            tmp = killpg(jn->gleader, 0);
            }
#line 258
            if (tmp == -1) {
#line 258
              tmp___0 = 1;
            } else {
#line 258
              tmp___0 = 0;
            }
          } else {
#line 258
            tmp___0 = 0;
          }
        }
#line 258
        cp = tmp___0;
#line 258
        if (cp) {
#line 262
          p___0 = jn->procs;
          {
#line 262
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 262
            if (! p___0->next) {
#line 262
              goto while_break___0;
            }
#line 262
            p___0 = p___0->next;
          }
          while_break___0: /* CIL Label */ ;
          }
#line 263
          jn->gleader = p___0->pid;
        }
#line 276
        if (fg) {
#line 276
          goto _L___0;
        } else
#line 276
        if (thisjob == job) {
          _L___0: /* CIL Label */ 
#line 276
          if (! (jn->procs)->next) {
            {
#line 278
            attachtty(jn->gleader);
            }
          } else
#line 276
          if (cp) {
            {
#line 278
            attachtty(jn->gleader);
            }
          } else
#line 276
          if ((jn->procs)->pid != jn->gleader) {
            {
#line 278
            attachtty(jn->gleader);
            }
          }
        }
        {
#line 279
        kill(sj->other, 18);
        }
      }
#line 281
      curjob = (int )(jn - jobtab);
    } else {
#line 238
      goto _L___2;
    }
  } else
  _L___2: /* CIL Label */ 
#line 282
  if (sj->stat & 2) {
#line 285
    jn->stat |= 2;
#line 286
    p___1 = jn->procs;
    {
#line 286
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 286
      if (! p___1) {
#line 286
        goto while_break___1;
      }
#line 287
      if (p___1->status == -1) {
#line 289
        p___1->status = (sj->procs)->status;
      } else {
#line 287
        __constr_expr_19.__in = p___1->status;
#line 287
        if (! ((__constr_expr_19.__i & 127) == 0)) {
#line 287
          __constr_expr_20.__in = p___1->status;
#line 287
          if (! ((int )((signed char )((__constr_expr_20.__i & 127) + 1)) >> 1 > 0)) {
#line 289
            p___1->status = (sj->procs)->status;
          }
        }
      }
#line 286
      p___1 = p___1->next;
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 290
    curjob = (int )(jn - jobtab);
#line 291
    printjob(jn, ! (! opts[110]), 1);
    }
#line 292
    return (1);
  }
#line 294
  return (0);
}
}
#line 301 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void get_usage(void) 
{ 


  {
  {
#line 305
  getrusage((__rusage_who_t )-1, & child_usage);
  }
#line 309
  return;
}
}
#line 351 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void check_cursh_sig(int sig ) 
{ 
  int i ;
  int j ;
  Process pn ;
  struct process *tmp ;

  {
#line 356
  if (! errflag) {
#line 357
    return;
  }
#line 358
  i = 1;
  {
#line 358
  while (1) {
    while_continue: /* CIL Label */ ;
#line 358
    if (! (i <= maxjob)) {
#line 358
      goto while_break;
    }
#line 359
    if (((jobtab + i)->stat & 1032) == 1024) {
#line 361
      j = 0;
      {
#line 361
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 361
        if (! (j < 2)) {
#line 361
          goto while_break___0;
        }
#line 362
        if (j) {
#line 362
          tmp = (jobtab + i)->auxprocs;
        } else {
#line 362
          tmp = (jobtab + i)->procs;
        }
#line 362
        pn = tmp;
        {
#line 363
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 363
          if (! pn) {
#line 363
            goto while_break___1;
          }
#line 364
          if (pn->status == -1) {
            {
#line 365
            kill(pn->pid, sig);
            }
          }
#line 363
          pn = pn->next;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 361
        j ++;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 358
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 371
  return;
}
}
#line 374 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void storepipestats(Job jn , int inforeground , int fixlastval ) 
{ 
  int i ;
  int pipefail ;
  int jpipestats[256] ;
  Process p ;
  union __anonunion_120___0 __constr_expr_22 ;
  union __anonunion_122 __constr_expr_24 ;
  union __anonunion_123 __constr_expr_25 ;
  int tmp ;
  union __anonunion_124 __constr_expr_26 ;
  union __anonunion_125 __constr_expr_27 ;
  int tmp___0 ;
  void *__cil_tmp17 ;

  {
#line 377
  pipefail = 0;
#line 380
  p = jn->procs;
#line 380
  i = 0;
  {
#line 380
  while (1) {
    while_continue: /* CIL Label */ ;
#line 380
    if (p) {
#line 380
      if (! (i < 256)) {
#line 380
        goto while_break;
      }
    } else {
#line 380
      goto while_break;
    }
#line 381
    __constr_expr_27.__in = p->status;
#line 381
    if ((int )((signed char )((__constr_expr_27.__i & 127) + 1)) >> 1 > 0) {
#line 381
      __constr_expr_22.__in = p->status;
#line 381
      jpipestats[i] = 128 | (__constr_expr_22.__i & 127);
    } else {
#line 381
      __constr_expr_26.__in = p->status;
#line 381
      if ((__constr_expr_26.__i & 255) == 127) {
#line 381
        __constr_expr_24.__in = p->status;
#line 381
        tmp = 128 | ((__constr_expr_24.__i & 65280) >> 8);
      } else {
#line 381
        __constr_expr_25.__in = p->status;
#line 381
        tmp = (__constr_expr_25.__i & 65280) >> 8;
      }
#line 381
      jpipestats[i] = tmp;
    }
#line 386
    if (jpipestats[i]) {
#line 387
      pipefail = jpipestats[i];
    }
#line 380
    p = p->next;
#line 380
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 389
  if (inforeground) {
    {
#line 390
    memcpy((void */* __restrict  */)(pipestats), (void const   */* __restrict  */)(jpipestats),
           sizeof(int ) * (unsigned long )i);
    }
#line 391
    if (jn->stat & 1024) {
#line 391
      if (i < 256) {
#line 392
        tmp___0 = i;
#line 392
        i ++;
#line 392
        pipestats[tmp___0] = (int )lastval;
      }
    }
#line 393
    numpipestats = i;
  }
#line 396
  if (fixlastval) {
#line 397
    if (jn->stat & 1024) {
#line 398
      if (! lastval) {
#line 398
        if (opts[127]) {
#line 399
          lastval = (zlong )pipefail;
        }
      }
    } else
#line 400
    if (opts[127]) {
#line 401
      lastval = (zlong )pipefail;
    }
  }
#line 403
  return;
}
}
#line 408 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void update_job(Job jn ) 
{ 
  Process pn ;
  int job ;
  int val ;
  int status ;
  int somestopped ;
  int inforeground ;
  union __anonunion_126 __constr_expr_28 ;
  union __anonunion_127 __constr_expr_29 ;
  union __anonunion_128 __constr_expr_30 ;
  union __anonunion_130 __constr_expr_32 ;
  union __anonunion_132 __constr_expr_34 ;
  union __anonunion_133 __constr_expr_35 ;
  int tmp ;
  union __anonunion_134 __constr_expr_36 ;
  union __anonunion_135 __constr_expr_37 ;
  void *tmp___0 ;
  int i ;
  pid_t pgrp ;
  pid_t tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int su ;
  int tmp___5 ;
  int sig ;
  union __anonunion_136 __constr_expr_38 ;
  union __anonunion_137 __constr_expr_39 ;

  {
#line 413
  val = 0;
#line 413
  status = 0;
#line 414
  somestopped = 0;
#line 414
  inforeground = 0;
#line 416
  pn = jn->auxprocs;
  {
#line 416
  while (1) {
    while_continue: /* CIL Label */ ;
#line 416
    if (! pn) {
#line 416
      goto while_break;
    }
#line 418
    __constr_expr_28.__in = pn->status;
#line 418
    if (__constr_expr_28.__i == 65535) {
#line 419
      pn->status = -1;
    }
#line 421
    if (pn->status == -1) {
#line 422
      return;
    }
#line 416
    pn = pn->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 425
  pn = jn->procs;
  {
#line 425
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 425
    if (! pn) {
#line 425
      goto while_break___0;
    }
#line 427
    __constr_expr_29.__in = pn->status;
#line 427
    if (__constr_expr_29.__i == 65535) {
#line 428
      jn->stat &= -3;
#line 429
      pn->status = -1;
    }
#line 432
    if (pn->status == -1) {
#line 433
      return;
    }
#line 434
    __constr_expr_30.__in = pn->status;
#line 434
    if ((__constr_expr_30.__i & 255) == 127) {
#line 435
      somestopped = 1;
    }
#line 436
    if (! pn->next) {
#line 437
      __constr_expr_37.__in = pn->status;
#line 437
      if ((int )((signed char )((__constr_expr_37.__i & 127) + 1)) >> 1 > 0) {
#line 437
        __constr_expr_32.__in = pn->status;
#line 437
        val = 128 | (__constr_expr_32.__i & 127);
      } else {
#line 437
        __constr_expr_36.__in = pn->status;
#line 437
        if ((__constr_expr_36.__i & 255) == 127) {
#line 437
          __constr_expr_34.__in = pn->status;
#line 437
          tmp = 128 | ((__constr_expr_34.__i & 65280) >> 8);
        } else {
#line 437
          __constr_expr_35.__in = pn->status;
#line 437
          tmp = (__constr_expr_35.__i & 65280) >> 8;
        }
#line 437
        val = tmp;
      }
    }
#line 442
    if (pn->pid == jn->gleader) {
#line 443
      status = pn->status;
    }
#line 425
    pn = pn->next;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 446
  job = (int )(jn - jobtab);
#line 448
  if (somestopped) {
#line 449
    if (jn->stty_in_env) {
#line 449
      if (! jn->ty) {
        {
#line 450
        tmp___0 = zalloc(sizeof(struct ttyinfo ));
#line 450
        jn->ty = (struct ttyinfo *)tmp___0;
#line 451
        gettyinfo(jn->ty);
        }
      }
    }
#line 453
    if (jn->stat & 2) {
#line 454
      if (jn->stat & 256) {
        {
#line 461
        i = super_job(job);
        }
#line 461
        if (i) {
          {
#line 462
          killpg((jobtab + i)->gleader, 20);
          }
        }
      }
#line 464
      return;
    }
  }
#line 468
  lastval2 = (long )val;
#line 473
  if (jn->stat & 1024) {
#line 474
    inforeground = 1;
  } else
#line 475
  if (job == thisjob) {
#line 476
    lastval = (zlong )val;
#line 477
    inforeground = 2;
  }
#line 481
  if (shout) {
#line 481
    if ((unsigned long )shout != (unsigned long )stderr) {
#line 481
      if (! ttyfrozen) {
#line 481
        if (! jn->stty_in_env) {
#line 481
          if (! zleactive) {
#line 481
            if (job == thisjob) {
#line 481
              if (! somestopped) {
#line 481
                if (! (jn->stat & 2048)) {
                  {
#line 484
                  gettyinfo(& shttyinfo);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 486
  if (opts[115]) {
    {
#line 487
    tmp___1 = gettygrp();
#line 487
    pgrp = tmp___1;
    }
#line 490
    if (mypgrp != pgrp) {
#line 490
      if (inforeground) {
#line 490
        if (jn->gleader == pgrp) {
#line 490
          goto _L___0;
        } else
#line 490
        if (pgrp > 1) {
          {
#line 490
          tmp___3 = kill(- pgrp, 0);
          }
#line 490
          if (tmp___3 == -1) {
            _L___0: /* CIL Label */ 
#line 492
            if (list_pipe) {
#line 493
              if (somestopped) {
                {
#line 494
                attachtty(mypgrp);
#line 496
                adjustwinsize(0);
                }
              } else
#line 493
              if (pgrp > 1) {
                {
#line 493
                tmp___2 = kill(- pgrp, 0);
                }
#line 493
                if (tmp___2 == -1) {
                  {
#line 494
                  attachtty(mypgrp);
#line 496
                  adjustwinsize(0);
                  }
                } else {
#line 505
                  jn->stat |= 4096;
                }
              } else {
#line 505
                jn->stat |= 4096;
              }
#line 509
              if (val & 128) {
#line 509
                if (inforeground == 1) {
#line 509
                  if ((val & -129) == 2) {
#line 509
                    goto _L;
                  } else
#line 509
                  if ((val & -129) == 3) {
                    _L: /* CIL Label */ 
#line 511
                    if (! errbrk_saved) {
#line 512
                      errbrk_saved = 1;
#line 513
                      prev_breaks = breaks;
#line 514
                      prev_errflag = errflag;
                    }
                    {
#line 516
                    breaks = loops;
#line 517
                    errflag |= 2;
#line 518
                    inerrflush();
                    }
                  }
                }
              }
            } else {
              {
#line 521
              attachtty(mypgrp);
#line 523
              adjustwinsize(0);
              }
            }
          }
        }
      }
    }
  } else
#line 526
  if (list_pipe) {
#line 526
    if (val & 128) {
#line 526
      if (inforeground == 1) {
#line 526
        if ((val & -129) == 2) {
#line 526
          goto _L___1;
        } else
#line 526
        if ((val & -129) == 3) {
          _L___1: /* CIL Label */ 
#line 528
          if (! errbrk_saved) {
#line 529
            errbrk_saved = 1;
#line 530
            prev_breaks = breaks;
#line 531
            prev_errflag = errflag;
          }
          {
#line 533
          breaks = loops;
#line 534
          errflag |= 2;
#line 535
          inerrflush();
          }
        }
      }
    }
  }
#line 537
  if (somestopped) {
#line 537
    if (jn->stat & 128) {
#line 538
      return;
    }
  }
#line 539
  if (somestopped) {
#line 539
    tmp___4 = 3;
  } else {
#line 539
    tmp___4 = 9;
  }
#line 539
  jn->stat |= tmp___4;
#line 541
  if (jn->stat & 10) {
    {
#line 547
    storepipestats(jn, inforeground, 0);
    }
  }
#line 549
  if (! inforeground) {
#line 549
    if ((jn->stat & 264) == 264) {
      {
#line 553
      su = super_job((int )(jn - jobtab));
      }
#line 553
      if (su) {
        {
#line 554
        handle_sub(su, 0);
        }
      }
    }
  }
#line 556
  if ((jn->stat & 10) == 2) {
#line 557
    prevjob = curjob;
#line 558
    curjob = job;
  }
#line 560
  if (opts[120]) {
#line 560
    goto _L___2;
  } else
#line 560
  if (job == thisjob) {
    _L___2: /* CIL Label */ 
#line 560
    if (jn->stat & 16) {
      {
#line 561
      tmp___5 = printjob(jn, ! (! opts[110]), 0);
      }
#line 561
      if (tmp___5) {
#line 561
        if (zleactive) {
          {
#line 563
          zleentry(5);
          }
        }
      }
    }
  }
#line 565
  if (sigtrapped[17]) {
#line 565
    if (job != thisjob) {
      {
#line 566
      dotrap(17);
      }
    }
  }
#line 572
  if (inforeground == 2) {
#line 572
    if (opts[115]) {
#line 572
      __constr_expr_39.__in = status;
#line 572
      if ((int )((signed char )((__constr_expr_39.__i & 127) + 1)) >> 1 > 0) {
#line 573
        __constr_expr_38.__in = status;
#line 573
        sig = __constr_expr_38.__i & 127;
#line 575
        if (sig == 2) {
#line 575
          goto _L___3;
        } else
#line 575
        if (sig == 3) {
          _L___3: /* CIL Label */ 
#line 576
          if (sigtrapped[sig]) {
            {
#line 577
            dotrap(sig);
            }
#line 585
            if (errflag) {
#line 586
              breaks = loops;
            }
          } else {
#line 588
            breaks = loops;
#line 589
            errflag |= 2;
          }
          {
#line 591
          check_cursh_sig(sig);
          }
        }
      }
    }
  }
#line 594
  return;
}
}
#line 599 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static void setprevjob(void) 
{ 
  int i ;

  {
#line 604
  i = maxjob;
  {
#line 604
  while (1) {
    while_continue: /* CIL Label */ ;
#line 604
    if (! i) {
#line 604
      goto while_break;
    }
#line 605
    if ((jobtab + i)->stat & 64) {
#line 605
      if ((jobtab + i)->stat & 2) {
#line 605
        if (! ((jobtab + i)->stat & 256)) {
#line 605
          if (i != curjob) {
#line 605
            if (i != thisjob) {
#line 607
              prevjob = i;
#line 608
              return;
            }
          }
        }
      }
    }
#line 604
    i --;
  }
  while_break: /* CIL Label */ ;
  }
#line 611
  i = maxjob;
  {
#line 611
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 611
    if (! i) {
#line 611
      goto while_break___0;
    }
#line 612
    if ((jobtab + i)->stat & 64) {
#line 612
      if (! ((jobtab + i)->stat & 256)) {
#line 612
        if (i != curjob) {
#line 612
          if (i != thisjob) {
#line 614
            prevjob = i;
#line 615
            return;
          }
        }
      }
    }
#line 611
    i --;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 618
  prevjob = -1;
#line 619
  return;
}
}
#line 625 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static long clktck  ;
#line 622 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
long get_clktck(void) 
{ 


  {
#line 628
  if (! clktck) {
    {
#line 631
    clktck = sysconf(2);
    }
  }
#line 649
  return (clktck);
}
}
#line 653 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static void printhhmmss(double secs ) 
{ 
  int mins ;
  int hours ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 656
  mins = (int )secs / 60;
#line 657
  hours = mins / 60;
#line 659
  secs -= (double )(60 * mins);
#line 660
  mins -= 60 * hours;
#line 661
  if (hours) {
    {
#line 662
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%d:%02d:%05.2f",
            hours, mins, secs);
    }
  } else
#line 663
  if (mins) {
    {
#line 664
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%d:%05.2f",
            mins, secs);
    }
  } else {
    {
#line 666
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%.3f",
            secs);
    }
  }
#line 667
  return;
}
}
#line 669 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static void printtime(struct timeval *real , child_times_t *ti , char *desc ) 
{ 
  char *s ;
  double elapsed_time ;
  double user_time ;
  double system_time ;
  double total_time ;
  int percent ;
  int desclen ;
  long tmp ;
  long tmp___0 ;
  long tmp___1 ;
  sigset_t oset ;
  void *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;

  {
#line 679
  if (! desc) {
#line 681
    desc = (char *)"";
#line 682
    desclen = 0;
  } else {
    {
#line 686
    desc = dupstring((char const   *)desc);
#line 687
    unmetafy(desc, & desclen);
    }
  }
  {
#line 691
  elapsed_time = (double )real->tv_sec + (double )real->tv_usec / 1000000.0;
#line 694
  user_time = (double )ti->ru_utime.tv_sec + (double )ti->ru_utime.tv_usec / 1000000.0;
#line 695
  system_time = (double )ti->ru_stime.tv_sec + (double )ti->ru_stime.tv_usec / 1000000.0;
#line 696
  total_time = user_time + system_time;
#line 697
  percent = (int )((100.0 * total_time) / ((double )real->tv_sec + (double )real->tv_usec / 1000000.0));
#line 709
  queueing_enabled ++;
#line 710
  s = getsparam((char *)"TIMEFMT");
  }
#line 710
  if (s) {
    {
#line 713
    s = unmetafy(s, (int *)((void *)0));
    }
  } else {
#line 711
    s = (char *)"%J  %U user %S system %P cpu %*E total";
  }
  {
#line 715
  while (1) {
    while_continue: /* CIL Label */ ;
#line 715
    if (! *s) {
#line 715
      goto while_break;
    }
#line 716
    if ((int )*s == 37) {
#line 717
      s ++;
      {
#line 718
      if ((int )*s == 69) {
#line 718
        goto case_69;
      }
#line 721
      if ((int )*s == 85) {
#line 721
        goto case_85;
      }
#line 724
      if ((int )*s == 83) {
#line 724
        goto case_83;
      }
#line 727
      if ((int )*s == 42) {
#line 727
        goto case_42;
      }
#line 744
      if ((int )*s == 80) {
#line 744
        goto case_80;
      }
#line 748
      if ((int )*s == 87) {
#line 748
        goto case_87;
      }
#line 753
      if ((int )*s == 88) {
#line 753
        goto case_88;
      }
#line 761
      if ((int )*s == 68) {
#line 761
        goto case_68;
      }
#line 775
      if ((int )*s == 75) {
#line 775
        goto case_75;
      }
#line 796
      if ((int )*s == 77) {
#line 796
        goto case_77;
      }
#line 801
      if ((int )*s == 70) {
#line 801
        goto case_70;
      }
#line 806
      if ((int )*s == 82) {
#line 806
        goto case_82;
      }
#line 811
      if ((int )*s == 73) {
#line 811
        goto case_73;
      }
#line 816
      if ((int )*s == 79) {
#line 816
        goto case_79;
      }
#line 821
      if ((int )*s == 114) {
#line 821
        goto case_114;
      }
#line 826
      if ((int )*s == 115) {
#line 826
        goto case_115;
      }
#line 831
      if ((int )*s == 107) {
#line 831
        goto case_107;
      }
#line 836
      if ((int )*s == 119) {
#line 836
        goto case_119;
      }
#line 841
      if ((int )*s == 99) {
#line 841
        goto case_99;
      }
#line 845
      if ((int )*s == 74) {
#line 845
        goto case_74;
      }
#line 848
      if ((int )*s == 37) {
#line 848
        goto case_37;
      }
#line 851
      if ((int )*s == 0) {
#line 851
        goto case_0;
      }
#line 854
      goto switch_default___0;
      case_69: /* CIL Label */ 
      {
#line 719
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%4.2fs",
              elapsed_time);
      }
#line 720
      goto switch_break;
      case_85: /* CIL Label */ 
      {
#line 722
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%4.2fs",
              user_time);
      }
#line 723
      goto switch_break;
      case_83: /* CIL Label */ 
      {
#line 725
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%4.2fs",
              system_time);
      }
#line 726
      goto switch_break;
      case_42: /* CIL Label */ 
#line 728
      s ++;
      {
#line 729
      if ((int )*s == 69) {
#line 729
        goto case_69___0;
      }
#line 732
      if ((int )*s == 85) {
#line 732
        goto case_85___0;
      }
#line 735
      if ((int )*s == 83) {
#line 735
        goto case_83___0;
      }
#line 738
      goto switch_default;
      case_69___0: /* CIL Label */ 
      {
#line 730
      printhhmmss(elapsed_time);
      }
#line 731
      goto switch_break___0;
      case_85___0: /* CIL Label */ 
      {
#line 733
      printhhmmss(user_time);
      }
#line 734
      goto switch_break___0;
      case_83___0: /* CIL Label */ 
      {
#line 736
      printhhmmss(system_time);
      }
#line 737
      goto switch_break___0;
      switch_default: /* CIL Label */ 
      {
#line 739
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%%*");
#line 740
      s --;
      }
#line 741
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
#line 743
      goto switch_break;
      case_80: /* CIL Label */ 
      {
#line 745
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%d%%",
              percent);
      }
#line 746
      goto switch_break;
      case_87: /* CIL Label */ 
      {
#line 749
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField8.ru_nswap);
      }
#line 750
      goto switch_break;
      case_88: /* CIL Label */ 
#line 754
      if (total_time) {
#line 754
        tmp = (long )((double )ti->__annonCompField3.ru_ixrss / total_time);
      } else {
#line 754
        tmp = 0L;
      }
      {
#line 754
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              tmp);
      }
#line 758
      goto switch_break;
      case_68: /* CIL Label */ 
#line 762
      if (total_time) {
#line 762
        tmp___0 = (long )((double )(ti->__annonCompField4.ru_idrss + ti->__annonCompField5.ru_isrss) / total_time);
      } else {
#line 762
        tmp___0 = 0L;
      }
      {
#line 762
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              tmp___0);
      }
#line 770
      goto switch_break;
      case_75: /* CIL Label */ 
#line 777
      if (total_time) {
#line 777
        tmp___1 = (long )((double )((ti->__annonCompField3.ru_ixrss + ti->__annonCompField4.ru_idrss) + ti->__annonCompField5.ru_isrss) / total_time);
      } else {
#line 777
        tmp___1 = 0L;
      }
      {
#line 777
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              tmp___1);
      }
#line 793
      goto switch_break;
      case_77: /* CIL Label */ 
      {
#line 797
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField2.ru_maxrss / 1024L);
      }
#line 798
      goto switch_break;
      case_70: /* CIL Label */ 
      {
#line 802
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField7.ru_majflt);
      }
#line 803
      goto switch_break;
      case_82: /* CIL Label */ 
      {
#line 807
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField6.ru_minflt);
      }
#line 808
      goto switch_break;
      case_73: /* CIL Label */ 
      {
#line 812
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField9.ru_inblock);
      }
#line 813
      goto switch_break;
      case_79: /* CIL Label */ 
      {
#line 817
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField10.ru_oublock);
      }
#line 818
      goto switch_break;
      case_114: /* CIL Label */ 
      {
#line 822
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField12.ru_msgrcv);
      }
#line 823
      goto switch_break;
      case_115: /* CIL Label */ 
      {
#line 827
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField11.ru_msgsnd);
      }
#line 828
      goto switch_break;
      case_107: /* CIL Label */ 
      {
#line 832
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField13.ru_nsignals);
      }
#line 833
      goto switch_break;
      case_119: /* CIL Label */ 
      {
#line 837
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField14.ru_nvcsw);
      }
#line 838
      goto switch_break;
      case_99: /* CIL Label */ 
      {
#line 842
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%ld",
              ti->__annonCompField15.ru_nivcsw);
      }
#line 843
      goto switch_break;
      case_74: /* CIL Label */ 
      {
#line 846
      fwrite((void const   */* __restrict  */)desc, sizeof(char ), (size_t )desclen,
             (FILE */* __restrict  */)stderr);
      }
#line 847
      goto switch_break;
      case_37: /* CIL Label */ 
      {
#line 849
      _IO_putc('%', stderr);
      }
#line 850
      goto switch_break;
      case_0: /* CIL Label */ 
#line 852
      s --;
#line 853
      goto switch_break;
      switch_default___0: /* CIL Label */ 
      {
#line 855
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%%%c",
              (int )*s);
      }
#line 856
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    } else {
      {
#line 858
      _IO_putc((int )*s, stderr);
      }
    }
#line 715
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 859
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 859
    queueing_enabled --;
#line 859
    if (! queueing_enabled) {
      {
#line 859
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 859
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 859
          if (! (queue_front != queue_rear)) {
#line 859
            goto while_break___2;
          }
          {
#line 859
          queue_front = (queue_front + 1) % 128;
#line 859
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 859
          zhandler(signal_queue[queue_front]);
#line 859
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 859
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 859
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 860
  _IO_putc('\n', stderr);
#line 861
  fflush(stderr);
  }
#line 862
  return;
}
}
#line 865 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static void dumptime(Job jn ) 
{ 
  Process pn ;
  struct timeval dtimeval ;
  struct timeval *tmp ;

  {
#line 871
  if (! jn->procs) {
#line 872
    return;
  }
#line 873
  pn = jn->procs;
  {
#line 873
  while (1) {
    while_continue: /* CIL Label */ ;
#line 873
    if (! pn) {
#line 873
      goto while_break;
    }
    {
#line 874
    tmp = dtime(& dtimeval, & pn->bgtime, & pn->endtime);
#line 874
    printtime(tmp, & pn->ti, pn->text);
#line 873
    pn = pn->next;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 876
  return;
}
}
#line 884 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int should_report_time(Job j ) 
{ 
  struct value vbuf ;
  Value v ;
  char *s ;
  zlong reporttime ;
  char *sm ;
  zlong reportmemory ;
  sigset_t oset ;
  void *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 889
  s = (char *)"REPORTTIME";
#line 890
  reporttime = (zlong )-1;
#line 892
  sm = (char *)"REPORTMEMORY";
#line 893
  reportmemory = (zlong )-1;
#line 897
  if (j->stat & 4) {
#line 898
    return (1);
  }
  {
#line 900
  queueing_enabled ++;
#line 901
  v = getvalue(& vbuf, & s, 0);
  }
#line 901
  if (v) {
    {
#line 902
    reporttime = getintvalue(v);
    }
  }
  {
#line 904
  v = getvalue(& vbuf, & sm, 0);
  }
#line 904
  if (v) {
    {
#line 905
    reportmemory = getintvalue(v);
    }
  }
  {
#line 907
  while (1) {
    while_continue: /* CIL Label */ ;
#line 907
    queueing_enabled --;
#line 907
    if (! queueing_enabled) {
      {
#line 907
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 907
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 907
          if (! (queue_front != queue_rear)) {
#line 907
            goto while_break___1;
          }
          {
#line 907
          queue_front = (queue_front + 1) % 128;
#line 907
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 907
          zhandler(signal_queue[queue_front]);
#line 907
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 907
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 907
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 908
  if (reporttime < 0L) {
#line 908
    if (reportmemory < 0L) {
#line 913
      return (0);
    }
  }
#line 915
  if (! j->procs) {
#line 916
    return (0);
  }
#line 917
  if (zleactive) {
#line 918
    return (0);
  }
#line 920
  if (reporttime >= 0L) {
#line 923
    reporttime -= (j->procs)->ti.ru_utime.tv_sec + (j->procs)->ti.ru_stime.tv_sec;
#line 925
    if ((j->procs)->ti.ru_utime.tv_usec + (j->procs)->ti.ru_stime.tv_usec >= 1000000L) {
#line 927
      reporttime --;
    }
#line 928
    if (reporttime <= 0L) {
#line 929
      return (1);
    }
  }
#line 940
  if (reportmemory >= 0L) {
#line 940
    if ((j->procs)->ti.__annonCompField2.ru_maxrss / 1024L > reportmemory) {
#line 942
      return (1);
    }
  }
#line 945
  return (0);
}
}
#line 965 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int printjob(Job jn , int lng , int synch ) 
{ 
  Process pn ;
  int job ;
  int len ;
  int sig ;
  int sflag ;
  int llen ;
  int conted ;
  int lineleng ;
  int skip ;
  int doputnl ;
  int doneprint ;
  int skip_print ;
  FILE *fout ;
  struct _IO_FILE *tmp ;
  union __anonunion_138 __constr_expr_40 ;
  char const   *tmp___0 ;
  size_t tmp___1 ;
  union __anonunion_139 __constr_expr_41 ;
  union __anonunion_140 __constr_expr_42 ;
  char const   *tmp___2 ;
  size_t tmp___3 ;
  char const   *tmp___4 ;
  size_t tmp___5 ;
  union __anonunion_141 __constr_expr_43 ;
  union __anonunion_142 __constr_expr_44 ;
  union __anonunion_143 __constr_expr_45 ;
  int tmp___6 ;
  int len2 ;
  int fline ;
  int plainfmt ;
  int tmp___7 ;
  int thisfmt ;
  int tmp___8 ;
  Process qn ;
  int tmp___9 ;
  size_t tmp___10 ;
  int tmp___11 ;
  size_t tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  char const   *tmp___15 ;
  pid_t x ;
  union __anonunion_144 __constr_expr_46 ;
  union __anonunion_145 __constr_expr_47 ;
  union __anonunion_147 __constr_expr_49 ;
  char const   *tmp___16 ;
  union __anonunion_148 __constr_expr_50 ;
  union __anonunion_150 __constr_expr_52 ;
  char const   *tmp___17 ;
  union __anonunion_151 __constr_expr_53 ;
  size_t tmp___18 ;
  union __anonunion_153 __constr_expr_55 ;
  char const   *tmp___19 ;
  union __anonunion_154 __constr_expr_56 ;
  union __anonunion_156 __constr_expr_58 ;
  char const   *tmp___20 ;
  union __anonunion_157 __constr_expr_59 ;
  union __anonunion_158 __constr_expr_60 ;
  union __anonunion_159 __constr_expr_61 ;
  union __anonunion_160 __constr_expr_62 ;
  char *txt ;
  char *tmp___21 ;
  int txtlen ;
  char const   *tmp___22 ;
  char *tmp___23 ;
  int tmp___24 ;
  int tmp___25 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;
  char *__cil_tmp85 ;
  char *__cil_tmp86 ;
  char *__cil_tmp87 ;
  char *__cil_tmp88 ;
  char *__cil_tmp89 ;
  char *__cil_tmp90 ;
  char *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;
  char *__cil_tmp94 ;
  char *__cil_tmp95 ;
  char *__cil_tmp96 ;
  char *__cil_tmp97 ;
  char *__cil_tmp98 ;
  char *__cil_tmp99 ;
  char *__cil_tmp100 ;
  char *__cil_tmp101 ;
  char *__cil_tmp102 ;
  char *__cil_tmp103 ;
  char *__cil_tmp104 ;
  char *__cil_tmp105 ;
  char *__cil_tmp106 ;

  {
#line 969
  len = 9;
#line 969
  sflag = 0;
#line 970
  conted = 0;
#line 970
  lineleng = (int )zterm_columns;
#line 970
  skip = 0;
#line 970
  doputnl = 0;
#line 971
  doneprint = 0;
#line 971
  skip_print = 0;
#line 972
  if (synch == 2) {
#line 972
    tmp = stdout;
  } else
#line 972
  if (! shout) {
#line 972
    tmp = stdout;
  } else {
#line 972
    tmp = shout;
  }
#line 972
  fout = tmp;
#line 974
  if (synch > 1) {
#line 974
    if ((unsigned long )oldjobtab != (unsigned long )((void *)0)) {
#line 975
      job = (int )(jn - oldjobtab);
    } else {
#line 977
      job = (int )(jn - jobtab);
    }
  } else {
#line 977
    job = (int )(jn - jobtab);
  }
#line 982
  if (jn->stat & 32) {
#line 983
    skip_print = 1;
  }
#line 986
  if (lng < 0) {
#line 987
    conted = 1;
#line 988
    lng = ! (! opts[110]);
  }
#line 994
  pn = jn->procs;
  {
#line 994
  while (1) {
    while_continue: /* CIL Label */ ;
#line 994
    if (! pn) {
#line 994
      goto while_break;
    }
#line 995
    if (jn->stat & 128) {
#line 995
      if ((jn->procs)->status == -1) {
#line 995
        if (! pn->next) {
#line 997
          pn->status = -1;
        }
      }
    }
#line 998
    if (pn->status != -1) {
#line 999
      __constr_expr_45.__in = pn->status;
#line 999
      if ((int )((signed char )((__constr_expr_45.__i & 127) + 1)) >> 1 > 0) {
#line 1000
        __constr_expr_40.__in = pn->status;
#line 1000
        sig = __constr_expr_40.__i & 127;
#line 1001
        if (sig <= 31) {
#line 1001
          tmp___0 = (char const   *)sig_msg[sig];
        } else {
#line 1001
          tmp___0 = "unknown signal";
        }
        {
#line 1001
        tmp___1 = strlen(tmp___0);
#line 1001
        llen = (int )tmp___1;
#line 1002
        __constr_expr_41.__in = pn->status;
        }
#line 1002
        if (__constr_expr_41.__i & 128) {
#line 1003
          llen += 14;
        }
#line 1004
        if (llen > len) {
#line 1005
          len = llen;
        }
#line 1006
        if (sig != 2) {
#line 1006
          if (sig != 13) {
#line 1007
            sflag = 1;
          }
        }
#line 1008
        if (job == thisjob) {
#line 1008
          if (sig == 2) {
#line 1009
            doputnl = 1;
          }
        }
#line 1010
        if (opts[137]) {
#line 1010
          if (opts[159]) {
#line 1011
            sflag = 1;
#line 1012
            skip_print = 0;
          }
        }
      } else {
#line 1014
        __constr_expr_44.__in = pn->status;
#line 1014
        if ((__constr_expr_44.__i & 255) == 127) {
#line 1015
          __constr_expr_42.__in = pn->status;
#line 1015
          sig = (__constr_expr_42.__i & 65280) >> 8;
#line 1016
          if (sig <= 31) {
#line 1016
            tmp___4 = (char const   *)sig_msg[sig];
          } else {
#line 1016
            tmp___4 = "unknown signal";
          }
          {
#line 1016
          tmp___5 = strlen(tmp___4);
          }
#line 1016
          if ((int )tmp___5 > len) {
#line 1017
            if (sig <= 31) {
#line 1017
              tmp___2 = (char const   *)sig_msg[sig];
            } else {
#line 1017
              tmp___2 = "unknown signal";
            }
            {
#line 1017
            tmp___3 = strlen(tmp___2);
#line 1017
            len = (int )tmp___3;
            }
          }
#line 1018
          if (job == thisjob) {
#line 1018
            if (sig == 20) {
#line 1019
              doputnl = 1;
            }
          }
        } else
#line 1020
        if (opts[137]) {
#line 1020
          if (opts[159]) {
#line 1020
            __constr_expr_43.__in = pn->status;
#line 1020
            if ((__constr_expr_43.__i & 65280) >> 8) {
#line 1022
              sflag = 1;
#line 1023
              skip_print = 0;
            }
          }
        }
      }
    }
#line 994
    pn = pn->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1028
  if (skip_print) {
#line 1029
    if (jn->stat & 8) {
#line 1031
      if (synch <= 1) {
        {
#line 1032
        storepipestats(jn, job == thisjob, job == thisjob);
        }
      }
      {
#line 1033
      tmp___6 = should_report_time(jn);
      }
#line 1033
      if (tmp___6) {
        {
#line 1034
        dumptime(jn);
        }
      }
      {
#line 1035
      deletejob(jn, 0);
      }
#line 1036
      if (job == curjob) {
#line 1037
        curjob = prevjob;
#line 1038
        prevjob = job;
      }
#line 1040
      if (job == prevjob) {
        {
#line 1041
        setprevjob();
        }
      }
    }
#line 1043
    return (0);
  }
#line 1052
  if (synch == 2) {
#line 1052
    goto _L___2;
  } else
#line 1052
  if (opts[92]) {
#line 1052
    goto _L___4;
  } else
#line 1052
  if (synch) {
    _L___4: /* CIL Label */ 
#line 1052
    if (opts[115]) {
#line 1052
      if (jn->stat & 2) {
#line 1052
        goto _L___2;
      } else
#line 1052
      if (sflag) {
#line 1052
        goto _L___2;
      } else
#line 1052
      if (job != thisjob) {
        _L___2: /* CIL Label */ 
#line 1055
        fline = 1;
#line 1057
        if (synch == 3) {
#line 1057
          if (opts[133]) {
#line 1057
            tmp___7 = 1;
          } else {
#line 1057
            tmp___7 = 0;
          }
        } else {
#line 1057
          tmp___7 = 0;
        }
#line 1057
        plainfmt = tmp___7;
#line 1059
        if (job == thisjob) {
#line 1059
          if (synch != 2) {
#line 1059
            tmp___8 = 1;
          } else {
#line 1059
            tmp___8 = 0;
          }
        } else {
#line 1059
          tmp___8 = 0;
        }
#line 1059
        thisfmt = tmp___8;
#line 1062
        if (! synch) {
          {
#line 1063
          zleentry(3);
          }
        }
#line 1064
        if (doputnl) {
#line 1064
          if (! synch) {
            {
#line 1065
            doneprint = 1;
#line 1066
            _IO_putc('\n', fout);
            }
          }
        }
#line 1068
        pn = jn->procs;
        {
#line 1068
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 1068
          if (! pn) {
#line 1068
            goto while_break___0;
          }
#line 1069
          if (thisfmt) {
#line 1069
            tmp___9 = 5;
          } else {
#line 1069
            tmp___9 = 10;
          }
#line 1069
          len2 = tmp___9 + len;
#line 1070
          if (lng & 3) {
#line 1071
            qn = pn->next;
          } else {
#line 1073
            qn = pn->next;
            {
#line 1073
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 1073
              if (! qn) {
#line 1073
                goto while_break___1;
              }
#line 1074
              if (qn->status != pn->status) {
#line 1075
                goto while_break___1;
              }
              {
#line 1076
              tmp___10 = strlen((char const   *)(qn->text));
              }
#line 1076
              if (qn->next) {
#line 1076
                tmp___11 = 3;
              } else {
#line 1076
                tmp___11 = 0;
              }
#line 1076
              if (((int )tmp___10 + len2) + tmp___11 > lineleng) {
#line 1078
                goto while_break___1;
              }
              {
#line 1079
              tmp___12 = strlen((char const   *)(qn->text));
#line 1079
              len2 = (int )((size_t )len2 + (tmp___12 + 2UL));
#line 1073
              qn = qn->next;
              }
            }
            while_break___1: /* CIL Label */ ;
            }
          }
#line 1081
          doneprint = 1;
#line 1082
          if (! plainfmt) {
#line 1083
            if (! thisfmt) {
#line 1083
              goto _L;
            } else
#line 1083
            if (lng) {
              _L: /* CIL Label */ 
#line 1084
              if (fline) {
#line 1085
                if (job == curjob) {
#line 1085
                  tmp___14 = '+';
                } else {
#line 1085
                  if (job == prevjob) {
#line 1085
                    tmp___13 = '-';
                  } else {
#line 1085
                    tmp___13 = ' ';
                  }
#line 1085
                  tmp___14 = tmp___13;
                }
                {
#line 1085
                fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"[%ld]  %c ",
                        (long )job, tmp___14);
                }
              } else {
#line 1090
                if (job > 9) {
#line 1090
                  tmp___15 = "        ";
                } else {
#line 1090
                  tmp___15 = "       ";
                }
                {
#line 1090
                fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)tmp___15);
                }
              }
            } else {
              {
#line 1092
              fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"zsh: ");
              }
            }
#line 1093
            if (lng & 1) {
              {
#line 1094
              fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%ld ",
                      (long )pn->pid);
              }
            } else
#line 1095
            if (lng & 2) {
              {
#line 1096
              x = jn->gleader;
#line 1098
              fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%ld ",
                      (long )x);
              }
              {
#line 1099
              while (1) {
                while_continue___2: /* CIL Label */ ;
#line 1100
                skip ++;
#line 1099
                x /= 10;
#line 1099
                if (! x) {
#line 1099
                  goto while_break___2;
                }
              }
              while_break___2: /* CIL Label */ ;
              }
#line 1102
              skip ++;
#line 1103
              lng &= -4;
            } else {
              {
#line 1105
              fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%*s",
                      skip, "");
              }
            }
#line 1106
            if (pn->status == -1) {
#line 1107
              if (! conted) {
                {
#line 1108
                fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"running%*s",
                        (len - 7) + 2, "");
                }
              } else {
                {
#line 1110
                fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"continued%*s",
                        (len - 9) + 2, "");
                }
              }
            } else {
#line 1112
              __constr_expr_62.__in = pn->status;
#line 1112
              if ((__constr_expr_62.__i & 127) == 0) {
#line 1113
                __constr_expr_47.__in = pn->status;
#line 1113
                if ((__constr_expr_47.__i & 65280) >> 8) {
                  {
#line 1114
                  __constr_expr_46.__in = pn->status;
#line 1114
                  fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"exit %-4d%*s",
                          (__constr_expr_46.__i & 65280) >> 8, (len - 9) + 2, "");
                  }
                } else {
                  {
#line 1117
                  fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"done%*s",
                          (len - 4) + 2, "");
                  }
                }
              } else {
#line 1118
                __constr_expr_61.__in = pn->status;
#line 1118
                if ((__constr_expr_61.__i & 255) == 127) {
#line 1119
                  __constr_expr_50.__in = pn->status;
#line 1119
                  if ((__constr_expr_50.__i & 65280) >> 8 <= 31) {
#line 1119
                    __constr_expr_49.__in = pn->status;
#line 1119
                    tmp___16 = (char const   *)sig_msg[(__constr_expr_49.__i & 65280) >> 8];
                  } else {
#line 1119
                    tmp___16 = "unknown signal";
                  }
                  {
#line 1119
                  fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%-*s",
                          len + 2, tmp___16);
                  }
                } else {
#line 1121
                  __constr_expr_60.__in = pn->status;
#line 1121
                  if (__constr_expr_60.__i & 128) {
#line 1122
                    __constr_expr_53.__in = pn->status;
#line 1122
                    if ((__constr_expr_53.__i & 127) <= 31) {
#line 1122
                      __constr_expr_52.__in = pn->status;
#line 1122
                      tmp___17 = (char const   *)sig_msg[__constr_expr_52.__i & 127];
                    } else {
#line 1122
                      tmp___17 = "unknown signal";
                    }
                    {
#line 1122
                    tmp___18 = strlen(tmp___17);
#line 1122
                    __constr_expr_56.__in = pn->status;
                    }
#line 1122
                    if ((__constr_expr_56.__i & 127) <= 31) {
#line 1122
                      __constr_expr_55.__in = pn->status;
#line 1122
                      tmp___19 = (char const   *)sig_msg[__constr_expr_55.__i & 127];
                    } else {
#line 1122
                      tmp___19 = "unknown signal";
                    }
                    {
#line 1122
                    fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%s (core dumped)%*s",
                            tmp___19, (int )((size_t )((len - 14) + 2) - tmp___18),
                            "");
                    }
                  } else {
#line 1127
                    __constr_expr_59.__in = pn->status;
#line 1127
                    if ((__constr_expr_59.__i & 127) <= 31) {
#line 1127
                      __constr_expr_58.__in = pn->status;
#line 1127
                      tmp___20 = (char const   *)sig_msg[__constr_expr_58.__i & 127];
                    } else {
#line 1127
                      tmp___20 = "unknown signal";
                    }
                    {
#line 1127
                    fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%-*s",
                            len + 2, tmp___20);
                    }
                  }
                }
              }
            }
          }
          {
#line 1130
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 1130
            if (! ((unsigned long )pn != (unsigned long )qn)) {
#line 1130
              goto while_break___3;
            }
            {
#line 1131
            tmp___21 = dupstring((char const   *)(pn->text));
#line 1131
            txt = tmp___21;
#line 1133
            unmetafy(txt, & txtlen);
#line 1134
            fwrite((void const   */* __restrict  */)txt, sizeof(char ), (size_t )txtlen,
                   (FILE */* __restrict  */)fout);
            }
#line 1135
            if (pn->next) {
              {
#line 1136
              fputs((char const   */* __restrict  */)" | ", (FILE */* __restrict  */)fout);
              }
            }
#line 1130
            pn = pn->next;
          }
          while_break___3: /* CIL Label */ ;
          }
          {
#line 1138
          _IO_putc('\n', fout);
#line 1139
          fline = 0;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
        {
#line 1141
        fflush(fout);
        }
      } else {
#line 1052
        goto _L___3;
      }
    } else {
#line 1052
      goto _L___3;
    }
  } else
  _L___3: /* CIL Label */ 
#line 1142
  if (doputnl) {
#line 1142
    if (opts[92]) {
#line 1142
      if (! synch) {
        {
#line 1143
        doneprint = 1;
#line 1144
        _IO_putc('\n', fout);
#line 1145
        fflush(fout);
        }
      }
    }
  }
#line 1152
  if (lng & 4) {
#line 1152
    goto _L___5;
  } else
#line 1152
  if (opts[92]) {
#line 1152
    if (job == thisjob) {
#line 1152
      if (jn->pwd) {
        {
#line 1152
        tmp___24 = strcmp((char const   *)jn->pwd, (char const   *)pwd);
        }
#line 1152
        if (tmp___24) {
          _L___5: /* CIL Label */ 
#line 1154
          doneprint = 1;
#line 1155
          if (lng & 4) {
#line 1155
            tmp___22 = "";
          } else {
#line 1155
            tmp___22 = "now";
          }
          {
#line 1155
          fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"(pwd %s: ",
                  tmp___22);
          }
#line 1156
          if (lng & 4) {
#line 1156
            if (jn->pwd) {
#line 1156
              tmp___23 = jn->pwd;
            } else {
#line 1156
              tmp___23 = pwd;
            }
          } else {
#line 1156
            tmp___23 = pwd;
          }
          {
#line 1156
          fprintdir(tmp___23, fout);
#line 1157
          fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)")\n");
#line 1158
          fflush(fout);
          }
        }
      }
    }
  }
#line 1163
  if (jn->stat & 8) {
#line 1165
    if (synch <= 1) {
      {
#line 1166
      storepipestats(jn, job == thisjob, job == thisjob);
      }
    }
    {
#line 1167
    tmp___25 = should_report_time(jn);
    }
#line 1167
    if (tmp___25) {
      {
#line 1168
      dumptime(jn);
      }
    }
    {
#line 1169
    deletejob(jn, 0);
    }
#line 1170
    if (job == curjob) {
#line 1171
      curjob = prevjob;
#line 1172
      prevjob = job;
    }
#line 1174
    if (job == prevjob) {
      {
#line 1175
      setprevjob();
      }
    }
  } else {
#line 1177
    jn->stat &= -2;
  }
#line 1179
  return (doneprint);
}
}
#line 1185 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void addfilelist(char const   *name , int fd ) 
{ 
  Jobfile jf ;
  void *tmp ;
  LinkList ll ;
  LinkList tmp___0 ;

  {
  {
#line 1188
  tmp = zalloc(sizeof(struct jobfile ));
#line 1188
  jf = (Jobfile )tmp;
#line 1189
  ll = (jobtab + thisjob)->filelist;
  }
#line 1191
  if (! ll) {
    {
#line 1192
    tmp___0 = znewlinklist();
#line 1192
    (jobtab + thisjob)->filelist = tmp___0;
#line 1192
    ll = tmp___0;
    }
  }
#line 1193
  if (name) {
    {
#line 1195
    jf->u.name = ztrdup(name);
#line 1196
    jf->is_fd = 0;
    }
  } else {
#line 1200
    jf->u.fd = fd;
#line 1201
    jf->is_fd = 1;
  }
  {
#line 1203
  zinsertlinknode(ll, ll->list.last, (void *)jf);
  }
#line 1204
  return;
}
}
#line 1209 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void pipecleanfilelist(LinkList filelist , int proc_subst_only ) 
{ 
  LinkNode node ;
  Jobfile jf ;
  LinkNode next___0 ;

  {
#line 1214
  if (! filelist) {
#line 1215
    return;
  }
#line 1216
  node = filelist->list.first;
  {
#line 1217
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1217
    if (! node) {
#line 1217
      goto while_break;
    }
#line 1218
    jf = (Jobfile )node->dat;
#line 1219
    if (jf->is_fd) {
#line 1219
      if (! proc_subst_only) {
        {
#line 1225
        next___0 = node->next;
#line 1226
        zclose(jf->u.fd);
#line 1227
        remnode(filelist, node);
#line 1228
        zfree((void *)jf, (int )sizeof(*jf));
#line 1229
        node = next___0;
        }
      } else
#line 1219
      if ((int )*(fdtable + jf->u.fd) == 7) {
        {
#line 1225
        next___0 = node->next;
#line 1226
        zclose(jf->u.fd);
#line 1227
        remnode(filelist, node);
#line 1228
        zfree((void *)jf, (int )sizeof(*jf));
#line 1229
        node = next___0;
        }
      } else {
#line 1231
        node = node->next;
      }
    } else {
#line 1231
      node = node->next;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1233
  return;
}
}
#line 1238 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void deletefilelist(LinkList file_list , int disowning ) 
{ 
  Jobfile jf ;
  void *tmp ;

  {
#line 1242
  if (file_list) {
    {
#line 1243
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 1243
      tmp = getlinknode(file_list);
#line 1243
      jf = (Jobfile )tmp;
      }
#line 1243
      if (! jf) {
#line 1243
        goto while_break;
      }
#line 1244
      if (jf->is_fd) {
#line 1245
        if (! disowning) {
          {
#line 1246
          zclose(jf->u.fd);
          }
        }
      } else {
#line 1248
        if (! disowning) {
          {
#line 1249
          unlink((char const   *)jf->u.name);
          }
        }
        {
#line 1250
        zsfree(jf->u.name);
        }
      }
      {
#line 1252
      zfree((void *)jf, (int )sizeof(*jf));
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1254
    zfree((void *)file_list, (int )sizeof(struct linklist ));
    }
  }
#line 1256
  return;
}
}
#line 1259 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void freejob(Job jn , int deleting ) 
{ 
  struct process *pn ;
  struct process *nx ;
  int job ;
  pid_t tmp ;
  int tmp___0 ;

  {
#line 1264
  pn = jn->procs;
#line 1265
  jn->procs = (struct process *)((void *)0);
  {
#line 1266
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1266
    if (! pn) {
#line 1266
      goto while_break;
    }
    {
#line 1267
    nx = pn->next;
#line 1268
    zfree((void *)pn, (int )sizeof(struct process ));
#line 1266
    pn = nx;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1271
  pn = jn->auxprocs;
#line 1272
  jn->auxprocs = (struct process *)((void *)0);
  {
#line 1273
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1273
    if (! pn) {
#line 1273
      goto while_break___0;
    }
    {
#line 1274
    nx = pn->next;
#line 1275
    zfree((void *)pn, (int )sizeof(struct process ));
#line 1273
    pn = nx;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1278
  if (jn->ty) {
    {
#line 1279
    zfree((void *)jn->ty, (int )sizeof(struct ttyinfo ));
    }
  }
#line 1280
  if (jn->pwd) {
    {
#line 1281
    zsfree(jn->pwd);
    }
  }
#line 1282
  jn->pwd = (char *)((void *)0);
#line 1283
  if (jn->stat & 512) {
#line 1285
    job = (int )(jn - jobtab);
#line 1286
    if (deleting) {
      {
#line 1287
      deletejob(jobtab + jn->other, 0);
      }
    } else {
      {
#line 1289
      freejob(jobtab + jn->other, 0);
      }
    }
#line 1290
    jn = jobtab + job;
  }
#line 1292
  tmp = 0;
#line 1292
  jn->other = tmp;
#line 1292
  jn->gleader = tmp;
#line 1293
  tmp___0 = 0;
#line 1293
  jn->stty_in_env = tmp___0;
#line 1293
  jn->stat = tmp___0;
#line 1294
  jn->filelist = (LinkList )((void *)0);
#line 1295
  jn->ty = (struct ttyinfo *)((void *)0);
#line 1298
  if ((long )maxjob == jn - jobtab) {
    {
#line 1299
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 1299
      if (maxjob) {
#line 1299
        if (! (! ((jobtab + maxjob)->stat & 64))) {
#line 1299
          goto while_break___1;
        }
      } else {
#line 1299
        goto while_break___1;
      }
#line 1300
      maxjob --;
    }
    while_break___1: /* CIL Label */ ;
    }
  }
#line 1302
  return;
}
}
#line 1314 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void deletejob(Job jn , int disowning ) 
{ 
  Job jno ;

  {
  {
#line 1317
  deletefilelist(jn->filelist, disowning);
  }
#line 1318
  if (jn->stat & 4096) {
    {
#line 1319
    attachtty(mypgrp);
#line 1320
    adjustwinsize(0);
    }
  }
#line 1322
  if (jn->stat & 128) {
#line 1323
    jno = jobtab + jn->other;
#line 1324
    if (jno->stat & 256) {
#line 1325
      jno->stat |= 32768;
    }
  }
  {
#line 1328
  freejob(jn, 1);
  }
#line 1329
  return;
}
}
#line 1340 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void addproc(pid_t pid , char *text , int aux , struct timeval *bgtime ) 
{ 
  Process pn ;
  Process *pnlist ;
  void *tmp ;
  Process n ;

  {
  {
#line 1346
  tmp = zshcalloc(sizeof(*pn));
#line 1346
  pn = (Process )tmp;
#line 1347
  pn->pid = pid;
  }
#line 1348
  if (text) {
    {
#line 1349
    strcpy((char */* __restrict  */)(pn->text), (char const   */* __restrict  */)text);
    }
  } else {
#line 1351
    pn->text[0] = (char )'\000';
  }
#line 1352
  pn->status = -1;
#line 1353
  pn->next = (struct process *)((void *)0);
#line 1355
  if (! aux) {
#line 1357
    pn->bgtime = *bgtime;
#line 1360
    if (! (jobtab + thisjob)->gleader) {
#line 1361
      (jobtab + thisjob)->gleader = pid;
    }
#line 1363
    pnlist = & (jobtab + thisjob)->procs;
  } else {
#line 1366
    pnlist = & (jobtab + thisjob)->auxprocs;
  }
#line 1368
  if (*pnlist) {
#line 1371
    n = *pnlist;
    {
#line 1371
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1371
      if (! n->next) {
#line 1371
        goto while_break;
      }
#line 1371
      n = n->next;
    }
    while_break: /* CIL Label */ ;
    }
#line 1372
    n->next = pn;
  } else {
#line 1375
    *pnlist = pn;
  }
#line 1383
  (jobtab + thisjob)->stat &= -9;
#line 1384
  return;
}
}
#line 1391 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int havefiles(void) 
{ 
  int i ;

  {
#line 1396
  i = 1;
  {
#line 1396
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1396
    if (! (i <= maxjob)) {
#line 1396
      goto while_break;
    }
#line 1397
    if ((jobtab + i)->stat) {
#line 1397
      if ((jobtab + i)->filelist) {
#line 1398
        return (1);
      }
    }
#line 1396
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1399
  return (0);
}
}
#line 1411 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int waitforpid(pid_t pid , int wait_cmd ) 
{ 
  int first ;
  int q ;
  sigset_t oset ;
  int tmp ;
  int *tmp___0 ;
  void *__cil_tmp8 ;

  {
#line 1414
  first = 1;
#line 1414
  q = queueing_enabled;
  {
#line 1417
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1417
    queueing_enabled = 0;
    {
#line 1417
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 1417
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1417
        if (! (queue_front != queue_rear)) {
#line 1417
          goto while_break___1;
        }
        {
#line 1417
        queue_front = (queue_front + 1) % 128;
#line 1417
        oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1417
        zhandler(signal_queue[queue_front]);
#line 1417
        signal_setmask(oset);
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1417
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1417
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1418
  signal_block(sigchld_mask);
#line 1419
  queue_traps(wait_cmd);
  }
  {
#line 1427
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 1427
    if (! errflag) {
      {
#line 1427
      tmp = kill(pid, 0);
      }
#line 1427
      if (! (tmp >= 0)) {
        {
#line 1427
        tmp___0 = __errno_location();
        }
#line 1427
        if (! (*tmp___0 != 3)) {
#line 1427
          goto while_break___2;
        }
      }
    } else {
#line 1427
      goto while_break___2;
    }
#line 1428
    if (first) {
#line 1429
      first = 0;
    } else
#line 1430
    if (! wait_cmd) {
      {
#line 1431
      kill(pid, 18);
      }
    }
    {
#line 1433
    last_signal = -1;
#line 1434
    signal_suspend(17, wait_cmd);
    }
#line 1435
    if (last_signal != 17) {
#line 1435
      if (wait_cmd) {
#line 1435
        if (last_signal >= 0) {
#line 1435
          if (sigtrapped[last_signal] & 1) {
#line 1438
            queueing_enabled = q;
#line 1439
            return (128 + last_signal);
          }
        }
      }
    }
    {
#line 1441
    signal_block(sigchld_mask);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  {
#line 1443
  unqueue_traps();
#line 1444
  signal_unblock(sigchld_mask);
#line 1445
  queueing_enabled = q;
  }
#line 1447
  return (0);
}
}
#line 1457 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int zwaitjob(int job , int wait_cmd ) 
{ 
  int q ;
  Job jn ;
  sigset_t oset ;
  int tmp ;
  void *__cil_tmp7 ;

  {
  {
#line 1460
  q = queueing_enabled;
#line 1461
  jn = jobtab + job;
#line 1463
  signal_block(sigchld_mask);
#line 1464
  queue_traps(wait_cmd);
  }
  {
#line 1465
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1465
    queueing_enabled = 0;
    {
#line 1465
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 1465
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1465
        if (! (queue_front != queue_rear)) {
#line 1465
          goto while_break___1;
        }
        {
#line 1465
        queue_front = (queue_front + 1) % 128;
#line 1465
        oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1465
        zhandler(signal_queue[queue_front]);
#line 1465
        signal_setmask(oset);
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1465
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1465
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 1466
  if (jn->procs) {
#line 1466
    goto _L;
  } else
#line 1466
  if (jn->auxprocs) {
    _L: /* CIL Label */ 
#line 1467
    jn->stat |= 16;
#line 1468
    if (jn->stat & 1) {
      {
#line 1469
      printjob(jn, ! (! opts[110]), 1);
      }
    }
#line 1470
    if (jn->filelist) {
      {
#line 1481
      pipecleanfilelist(jn->filelist, 0);
      }
    }
    {
#line 1483
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1483
      if (! (errflag & 1)) {
#line 1483
        if (jn->stat) {
#line 1483
          if (! (jn->stat & 8)) {
#line 1483
            if (opts[92]) {
#line 1483
              if (jn->stat & 2) {
#line 1483
                goto while_break___2;
              }
            }
          } else {
#line 1483
            goto while_break___2;
          }
        } else {
#line 1483
          goto while_break___2;
        }
      } else {
#line 1483
        goto while_break___2;
      }
      {
#line 1486
      signal_suspend(17, wait_cmd);
      }
#line 1487
      if (last_signal != 17) {
#line 1487
        if (wait_cmd) {
#line 1487
          if (last_signal >= 0) {
#line 1487
            if (sigtrapped[last_signal] & 1) {
#line 1491
              queueing_enabled = q;
#line 1492
              return (128 + last_signal);
            }
          }
        }
      }
#line 1514
      if (subsh) {
        {
#line 1515
        killjb(jn, 18);
#line 1516
        jn->stat &= -3;
        }
      }
#line 1518
      if (jn->stat & 128) {
        {
#line 1519
        tmp = handle_sub((int )(jn - jobtab), 1);
        }
#line 1519
        if (tmp) {
#line 1520
          goto while_break___2;
        }
      }
      {
#line 1521
      signal_block(sigchld_mask);
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  } else {
    {
#line 1524
    deletejob(jn, 0);
#line 1525
    pipestats[0] = (int )lastval;
#line 1526
    numpipestats = 1;
    }
  }
  {
#line 1528
  queueing_enabled = q;
#line 1529
  unqueue_traps();
#line 1530
  signal_unblock(sigchld_mask);
  }
#line 1532
  return (0);
}
}
#line 1538 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void waitjobs(void) 
{ 
  Job jn ;

  {
#line 1541
  jn = jobtab + thisjob;
#line 1544
  if (jn->procs) {
    {
#line 1545
    zwaitjob(thisjob, 0);
    }
  } else
#line 1544
  if (jn->auxprocs) {
    {
#line 1545
    zwaitjob(thisjob, 0);
    }
  } else {
    {
#line 1547
    deletejob(jn, 0);
#line 1548
    pipestats[0] = (int )lastval;
#line 1549
    numpipestats = 1;
    }
  }
#line 1551
  thisjob = -1;
#line 1552
  return;
}
}
#line 1557 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void clearjobtab(int monitor ) 
{ 
  int i ;
  int sz___0 ;
  void *tmp ;

  {
#line 1562
  if (opts[133]) {
#line 1563
    oldmaxjob = 0;
  }
#line 1564
  i = 1;
  {
#line 1564
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1564
    if (! (i <= maxjob)) {
#line 1564
      goto while_break;
    }
#line 1571
    if (monitor) {
#line 1571
      if (! opts[133]) {
#line 1571
        if ((jobtab + i)->stat) {
#line 1572
          oldmaxjob = i + 1;
        } else {
#line 1571
          goto _L___0;
        }
      } else {
#line 1571
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 1573
    if ((jobtab + i)->stat & 64) {
      {
#line 1574
      freejob(jobtab + i, 0);
      }
    }
#line 1564
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1577
  if (monitor) {
#line 1577
    if (oldmaxjob) {
#line 1578
      sz___0 = (int )((unsigned long )oldmaxjob * sizeof(struct job ));
#line 1579
      if (oldjobtab) {
        {
#line 1580
        free((void *)oldjobtab);
        }
      }
      {
#line 1581
      tmp = zalloc((size_t )sz___0);
#line 1581
      oldjobtab = (struct job *)tmp;
#line 1582
      memcpy((void */* __restrict  */)oldjobtab, (void const   */* __restrict  */)jobtab,
             (size_t )sz___0);
      }
#line 1585
      if (thisjob != -1) {
#line 1585
        if (thisjob < oldmaxjob) {
          {
#line 1586
          memset((void *)(oldjobtab + thisjob), 0, sizeof(struct job ));
          }
        }
      }
    }
  }
  {
#line 1589
  memset((void *)jobtab, 0, (unsigned long )jobtabsize * sizeof(struct job ));
#line 1590
  maxjob = 0;
#line 1599
  thisjob = initjob();
  }
#line 1600
  return;
}
}
#line 1602 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int initnewjob(int i ) 
{ 


  {
#line 1604
  (jobtab + i)->stat = 64;
#line 1605
  if ((jobtab + i)->pwd) {
    {
#line 1606
    zsfree((jobtab + i)->pwd);
#line 1607
    (jobtab + i)->pwd = (char *)((void *)0);
    }
  }
#line 1609
  (jobtab + i)->gleader = 0;
#line 1611
  if (i > maxjob) {
#line 1612
    maxjob = i;
  }
#line 1614
  return (i);
}
}
#line 1620 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int initjob(void) 
{ 
  int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp6 ;

  {
#line 1625
  i = 1;
  {
#line 1625
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1625
    if (! (i <= maxjob)) {
#line 1625
      goto while_break;
    }
#line 1626
    if (! (jobtab + i)->stat) {
      {
#line 1627
      tmp = initnewjob(i);
      }
#line 1627
      return (tmp);
    }
#line 1625
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1628
  if (maxjob + 1 < jobtabsize) {
    {
#line 1629
    tmp___0 = initnewjob(maxjob + 1);
    }
#line 1629
    return (tmp___0);
  }
  {
#line 1631
  tmp___2 = expandjobtab();
  }
#line 1631
  if (tmp___2) {
    {
#line 1632
    tmp___1 = initnewjob(i);
    }
#line 1632
    return (tmp___1);
  }
  {
#line 1634
  zerr("job table full or recursion limit exceeded");
  }
#line 1635
  return (-1);
}
}
#line 1639 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void setjobpwd(void) 
{ 
  int i ;

  {
#line 1644
  i = 1;
  {
#line 1644
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1644
    if (! (i <= maxjob)) {
#line 1644
      goto while_break;
    }
#line 1645
    if ((jobtab + i)->stat) {
#line 1645
      if (! (jobtab + i)->pwd) {
        {
#line 1646
        (jobtab + i)->pwd = ztrdup((char const   *)pwd);
        }
      }
    }
#line 1644
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1647
  return;
}
}
#line 1652 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void spawnjob(void) 
{ 
  Process pn ;
  FILE *fout ;
  FILE *tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
#line 1659
  if (! subsh) {
#line 1660
    if (curjob == -1) {
      {
#line 1661
      curjob = thisjob;
#line 1662
      setprevjob();
      }
    } else
#line 1660
    if (! ((jobtab + curjob)->stat & 2)) {
      {
#line 1661
      curjob = thisjob;
#line 1662
      setprevjob();
      }
    } else
#line 1663
    if (prevjob == -1) {
#line 1664
      prevjob = thisjob;
    } else
#line 1663
    if (! ((jobtab + prevjob)->stat & 2)) {
#line 1664
      prevjob = thisjob;
    }
#line 1665
    if (opts[115]) {
#line 1665
      if ((jobtab + thisjob)->procs) {
#line 1666
        if (shout) {
#line 1666
          tmp = shout;
        } else {
#line 1666
          tmp = stdout;
        }
        {
#line 1666
        fout = tmp;
#line 1667
        fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"[%d]",
                thisjob);
#line 1668
        pn = (jobtab + thisjob)->procs;
        }
        {
#line 1668
        while (1) {
          while_continue: /* CIL Label */ ;
#line 1668
          if (! pn) {
#line 1668
            goto while_break;
          }
          {
#line 1669
          fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)" %ld",
                  (long )pn->pid);
#line 1668
          pn = pn->next;
          }
        }
        while_break: /* CIL Label */ ;
        }
        {
#line 1670
        fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"\n");
#line 1671
        fflush(fout);
        }
      }
    }
  }
  {
#line 1674
  tmp___0 = hasprocs(thisjob);
  }
#line 1674
  if (tmp___0) {
    {
#line 1677
    (jobtab + thisjob)->stat |= 16;
#line 1678
    pipecleanfilelist((jobtab + thisjob)->filelist, 0);
    }
  } else {
    {
#line 1675
    deletejob(jobtab + thisjob, 0);
    }
  }
#line 1680
  thisjob = -1;
#line 1681
  return;
}
}
#line 1684 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void shelltime(void) 
{ 
  struct timezone dummy_tz ;
  struct timeval dtimeval ;
  struct timeval now ;
  child_times_t ti ;
  struct timeval *tmp ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
  {
#line 1694
  gettimeofday((struct timeval */* __restrict  */)(& now), (__timezone_ptr_t )(& dummy_tz));
#line 1697
  getrusage((__rusage_who_t )0, & ti);
#line 1704
  tmp = dtime(& dtimeval, & shtimer, & now);
#line 1704
  printtime(tmp, & ti, (char *)"shell");
#line 1707
  getrusage((__rusage_who_t )-1, & ti);
#line 1712
  printtime(& dtimeval, & ti, (char *)"children");
  }
#line 1714
  return;
}
}
#line 1719 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void scanjobs(void) 
{ 
  int i ;

  {
#line 1724
  i = 1;
  {
#line 1724
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1724
    if (! (i <= maxjob)) {
#line 1724
      goto while_break;
    }
#line 1725
    if ((jobtab + i)->stat & 1) {
      {
#line 1726
      printjob(jobtab + i, ! (! opts[110]), 1);
      }
    }
#line 1724
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1727
  return;
}
}
#line 1737 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int isanum(char *s ) 
{ 


  {
  {
#line 1740
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1740
    if (! ((int )*s == 45)) {
#line 1740
      if (! ((int )typtab[(unsigned char )*s] & 1)) {
#line 1740
        goto while_break;
      }
    }
#line 1741
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1742
  return ((int )*s == 0);
}
}
#line 1748 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static void setcurjob(void) 
{ 


  {
#line 1751
  if (curjob == thisjob) {
#line 1751
    goto _L;
  } else
#line 1751
  if (curjob != -1) {
#line 1751
    if (! ((jobtab + curjob)->stat & 64)) {
      _L: /* CIL Label */ 
      {
#line 1753
      curjob = prevjob;
#line 1754
      setprevjob();
      }
#line 1755
      if (curjob == thisjob) {
        {
#line 1758
        curjob = prevjob;
#line 1759
        setprevjob();
        }
      } else
#line 1755
      if (curjob != -1) {
#line 1755
        if ((jobtab + curjob)->stat & 64) {
#line 1755
          if (! (curjob != thisjob)) {
            {
#line 1758
            curjob = prevjob;
#line 1759
            setprevjob();
            }
          }
        } else {
          {
#line 1758
          curjob = prevjob;
#line 1759
          setprevjob();
          }
        }
      }
    }
  }
#line 1762
  return;
}
}
#line 1768 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int getjob(char const   *s , char const   *prog ) 
{ 
  int jobnum ;
  int returnval ;
  int mymaxjob ;
  Job myjobtab ;
  struct process *pn ;
  char *tmp ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 1774
  if (oldjobtab) {
#line 1775
    myjobtab = oldjobtab;
#line 1776
    mymaxjob = oldmaxjob;
  } else {
#line 1778
    myjobtab = jobtab;
#line 1779
    mymaxjob = maxjob;
  }
#line 1783
  if ((int const   )*s != 37) {
#line 1784
    goto jump;
  }
#line 1785
  s ++;
#line 1787
  if ((int const   )*s == 37) {
#line 1787
    goto _L;
  } else
#line 1787
  if ((int const   )*s == 43) {
#line 1787
    goto _L;
  } else
#line 1787
  if (! *s) {
    _L: /* CIL Label */ 
#line 1788
    if (curjob == -1) {
#line 1789
      if (prog) {
        {
#line 1790
        zwarnnam(prog, "no current job");
        }
      }
#line 1791
      returnval = -1;
#line 1792
      goto done;
    }
#line 1794
    returnval = curjob;
#line 1795
    goto done;
  }
#line 1798
  if ((int const   )*s == 45) {
#line 1799
    if (prevjob == -1) {
#line 1800
      if (prog) {
        {
#line 1801
        zwarnnam(prog, "no previous job");
        }
      }
#line 1802
      returnval = -1;
#line 1803
      goto done;
    }
#line 1805
    returnval = prevjob;
#line 1806
    goto done;
  }
#line 1809
  if ((int )typtab[(unsigned char )*s] & 1) {
    {
#line 1810
    jobnum = atoi(s);
    }
#line 1811
    if (jobnum) {
#line 1811
      if (jobnum <= mymaxjob) {
#line 1811
        if ((myjobtab + jobnum)->stat) {
#line 1811
          if (! ((myjobtab + jobnum)->stat & 256)) {
#line 1811
            if ((unsigned long )myjobtab == (unsigned long )oldjobtab) {
#line 1820
              returnval = jobnum;
#line 1821
              goto done;
            } else
#line 1811
            if (jobnum != thisjob) {
#line 1820
              returnval = jobnum;
#line 1821
              goto done;
            }
          }
        }
      }
    }
#line 1823
    if (prog) {
      {
#line 1824
      zwarnnam(prog, "%%%s: no such job", s);
      }
    }
#line 1825
    returnval = -1;
#line 1826
    goto done;
  }
#line 1829
  if ((int const   )*s == 63) {
#line 1832
    jobnum = mymaxjob;
    {
#line 1832
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1832
      if (! (jobnum >= 0)) {
#line 1832
        goto while_break;
      }
#line 1833
      if ((myjobtab + jobnum)->stat) {
#line 1833
        if (! ((myjobtab + jobnum)->stat & 256)) {
#line 1833
          if (jobnum != thisjob) {
#line 1836
            pn = (myjobtab + jobnum)->procs;
            {
#line 1836
            while (1) {
              while_continue___0: /* CIL Label */ ;
#line 1836
              if (! pn) {
#line 1836
                goto while_break___0;
              }
              {
#line 1837
              tmp = strstr((char const   *)(pn->text), s + 1);
              }
#line 1837
              if (tmp) {
#line 1838
                returnval = jobnum;
#line 1839
                goto done;
              }
#line 1836
              pn = pn->next;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
        }
      }
#line 1832
      jobnum --;
    }
    while_break: /* CIL Label */ ;
    }
#line 1841
    if (prog) {
      {
#line 1842
      zwarnnam(prog, "job not found: %s", s);
      }
    }
#line 1843
    returnval = -1;
#line 1844
    goto done;
  }
  jump: 
  {
#line 1849
  jobnum = findjobnam(s);
  }
#line 1849
  if (jobnum != -1) {
#line 1850
    returnval = jobnum;
#line 1851
    goto done;
  }
  {
#line 1855
  zwarnnam(prog, "job not found: %s", s);
#line 1856
  returnval = -1;
  }
  done: 
#line 1858
  return (returnval);
}
}
#line 1866 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static char *hackzero  ;
#line 1867 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int hackspace  ;
#line 1874 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void init_jobs(char **argv , char **envp ) 
{ 
  char *p ;
  char *q ;
  size_t init_bytes ;
  void *tmp ;
  char *__cil_tmp7 ;

  {
  {
#line 1880
  init_bytes = 50UL * sizeof(struct job );
#line 1885
  tmp = zalloc(init_bytes);
#line 1885
  jobtab = (struct job *)tmp;
  }
#line 1886
  if (! jobtab) {
    {
#line 1887
    zerr("failed to allocate job table, aborting.");
#line 1888
    exit(1);
    }
  }
  {
#line 1890
  jobtabsize = 50;
#line 1891
  memset((void *)jobtab, 0, init_bytes);
#line 1900
  hackzero = *argv;
#line 1901
  p = strchr((char const   *)hackzero, 0);
  }
  {
#line 1902
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1902
    argv ++;
#line 1902
    if (! *argv) {
#line 1902
      goto while_break;
    }
#line 1903
    q = *argv;
#line 1904
    if ((unsigned long )q != (unsigned long )(p + 1)) {
#line 1905
      goto done;
    }
    {
#line 1906
    p = strchr((char const   *)q, 0);
    }
  }
  while_break: /* CIL Label */ ;
  }
  done: 
#line 1917
  hackspace = (int )(p - hackzero);
#line 1919
  return;
}
}
#line 1935 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int expandjobtab(void) 
{ 
  int newsize ;
  struct job *newjobtab ;
  void *tmp ;

  {
#line 1938
  newsize = jobtabsize + 50;
#line 1941
  if (newsize > 1000) {
#line 1942
    return (0);
  }
  {
#line 1944
  tmp = zrealloc((void *)jobtab, (unsigned long )newsize * sizeof(struct job ));
#line 1944
  newjobtab = (struct job *)tmp;
  }
#line 1945
  if (! newjobtab) {
#line 1946
    return (0);
  }
  {
#line 1952
  memset((void *)(newjobtab + jobtabsize), 0, 50UL * sizeof(struct job ));
#line 1954
  jobtab = newjobtab;
#line 1955
  jobtabsize = newsize;
  }
#line 1957
  return (1);
}
}
#line 1969 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void maybeshrinkjobtab(void) 
{ 
  int jobbound ;
  struct job *newjobtab ;
  void *tmp ;
  sigset_t oset ;
  void *__cil_tmp5 ;

  {
#line 1974
  queueing_enabled ++;
#line 1975
  jobbound = (maxjob + 50) - maxjob % 50;
#line 1976
  if (jobbound < jobtabsize) {
#line 1976
    if (jobbound > maxjob + 20) {
      {
#line 1980
      tmp = zrealloc((void *)jobtab, (unsigned long )jobbound * sizeof(struct job ));
#line 1980
      newjobtab = (struct job *)tmp;
      }
#line 1983
      if (newjobtab) {
#line 1984
        jobtab = newjobtab;
#line 1985
        jobtabsize = jobbound;
      }
    }
  }
  {
#line 1988
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1988
    queueing_enabled --;
#line 1988
    if (! queueing_enabled) {
      {
#line 1988
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 1988
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 1988
          if (! (queue_front != queue_rear)) {
#line 1988
            goto while_break___1;
          }
          {
#line 1988
          queue_front = (queue_front + 1) % 128;
#line 1988
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1988
          zhandler(signal_queue[queue_front]);
#line 1988
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 1988
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 1988
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 1989
  return;
}
}
#line 2013 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static LinkList bgstatus_list  ;
#line 2015 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static long bgstatus_count  ;
#line 2020 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static void rembgstatus(LinkNode node ) 
{ 
  void *tmp ;

  {
  {
#line 2022
  tmp = remnode(bgstatus_list, node);
#line 2022
  zfree(tmp, (int )sizeof(struct bgstatus ));
#line 2023
  bgstatus_count --;
  }
#line 2024
  return;
}
}
#line 2038 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static long child_max  ;
#line 2035 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void addbgstatus(pid_t pid , int status ) 
{ 
  Bgstatus bgstatus_entry ;
  void *tmp ;
  LinkNode tmp___0 ;

  {
#line 2041
  if (! child_max) {
    {
#line 2043
    child_max = sysconf(1);
    }
#line 2044
    if (! child_max) {
#line 2048
      child_max = 1024L;
    }
  }
#line 2052
  if (! bgstatus_list) {
    {
#line 2053
    bgstatus_list = znewlinklist();
    }
#line 2060
    if (! bgstatus_list) {
#line 2061
      return;
    }
  }
#line 2063
  if (bgstatus_count == child_max) {
    {
#line 2065
    rembgstatus(bgstatus_list->list.first);
    }
  }
  {
#line 2067
  tmp = zalloc(sizeof(*bgstatus_entry));
#line 2067
  bgstatus_entry = (Bgstatus )tmp;
  }
#line 2068
  if (! bgstatus_entry) {
#line 2070
    return;
  }
  {
#line 2072
  bgstatus_entry->pid = pid;
#line 2073
  bgstatus_entry->status = status;
#line 2074
  tmp___0 = zinsertlinknode(bgstatus_list, bgstatus_list->list.last, (void *)bgstatus_entry);
  }
#line 2074
  if (! tmp___0) {
    {
#line 2075
    zfree((void *)bgstatus_entry, (int )sizeof(*bgstatus_entry));
    }
#line 2076
    return;
  }
#line 2078
  bgstatus_count ++;
#line 2079
  return;
}
}
#line 2090 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static int getbgstatus(pid_t pid ) 
{ 
  LinkNode node ;
  Bgstatus bgstatus_entry ;
  int status ;

  {
#line 2095
  if (! bgstatus_list) {
#line 2096
    return (-1);
  }
#line 2097
  node = bgstatus_list->list.first;
  {
#line 2097
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2097
    if (! node) {
#line 2097
      goto while_break;
    }
#line 2098
    bgstatus_entry = (Bgstatus )node->dat;
#line 2099
    if (bgstatus_entry->pid == pid) {
      {
#line 2100
      status = bgstatus_entry->status;
#line 2101
      rembgstatus(node);
      }
#line 2102
      return (status);
    }
#line 2097
    node = node->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 2105
  return (-1);
}
}
#line 2113 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int bin_fg(char *name , char **argv , Options ops , int func ) 
{ 
  int job ;
  int lng ;
  int firstjob ;
  int retval ;
  int ofunc ;
  int len ;
  sigset_t oset ;
  int tmp ;
  sigset_t oset___0 ;
  struct job *jobptr ;
  int curmaxjob ;
  int ignorejob ;
  sigset_t oset___1 ;
  sigset_t oset___2 ;
  char **tmp___0 ;
  int tmp___1 ;
  int stopped ;
  int ocj ;
  int jstat ;
  pid_t pid ;
  int tmp___2 ;
  Job j ;
  Process p ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  sigset_t oset___3 ;
  int tmp___6 ;
  sigset_t oset___4 ;
  Process pn ;
  Process next___0 ;
  sigset_t oset___5 ;
  int tmp___7 ;
  FILE *fout ;
  struct _IO_FILE *tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  struct job *tmp___11 ;
  char buf___7[20] ;
  char *pids ;
  Process pn___0 ;
  sigset_t oset___6 ;
  void *__cil_tmp47 ;
  void *__cil_tmp48 ;
  void *__cil_tmp49 ;
  void *__cil_tmp50 ;
  void *__cil_tmp51 ;
  void *__cil_tmp52 ;
  void *__cil_tmp53 ;
  void *__cil_tmp54 ;
  void *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;

  {
#line 2116
  firstjob = -1;
#line 2116
  retval = 0;
#line 2116
  ofunc = func;
#line 2118
  if ((int )ops->ind[90] != 0) {
#line 2121
    if (opts[153]) {
      {
#line 2122
      zwarnnam((char const   *)name, "-Z is restricted");
      }
#line 2123
      return (1);
    }
#line 2125
    if (! *(argv + 0)) {
      {
#line 2126
      zwarnnam((char const   *)name, "-Z requires one argument");
      }
#line 2127
      return (1);
    } else
#line 2125
    if (*(argv + 1)) {
      {
#line 2126
      zwarnnam((char const   *)name, "-Z requires one argument");
      }
#line 2127
      return (1);
    }
    {
#line 2129
    queueing_enabled ++;
#line 2130
    unmetafy(*argv, & len);
    }
#line 2134
    if (len > hackspace) {
#line 2135
      len = hackspace;
    }
    {
#line 2136
    memcpy((void */* __restrict  */)hackzero, (void const   */* __restrict  */)*argv,
           (size_t )len);
#line 2137
    memset((void *)(hackzero + len), 0, (size_t )(hackspace - len));
    }
    {
#line 2139
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2139
      queueing_enabled --;
#line 2139
      if (! queueing_enabled) {
        {
#line 2139
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 2139
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 2139
            if (! (queue_front != queue_rear)) {
#line 2139
              goto while_break___1;
            }
            {
#line 2139
            queue_front = (queue_front + 1) % 128;
#line 2139
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2139
            zhandler(signal_queue[queue_front]);
#line 2139
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 2139
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 2139
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 2140
    return (0);
  }
#line 2143
  if (func == 3) {
#line 2144
    if ((int )ops->ind[108] != 0) {
#line 2144
      lng = 1;
    } else {
#line 2144
      if ((int )ops->ind[112] != 0) {
#line 2144
        tmp = 2;
      } else {
#line 2144
        tmp = 0;
      }
#line 2144
      lng = tmp;
    }
#line 2145
    if ((int )ops->ind[100] != 0) {
#line 2146
      lng |= 4;
    }
  } else {
#line 2148
    lng = ! (! opts[110]);
  }
#line 2151
  if (func == 2) {
#line 2151
    goto _L;
  } else
#line 2151
  if (func == 1) {
    _L: /* CIL Label */ 
#line 2151
    if (! opts[115]) {
      {
#line 2153
      zwarnnam((char const   *)name, "no job control in this shell.");
      }
#line 2154
      return (1);
    }
  }
  {
#line 2157
  queueing_enabled ++;
#line 2164
  wait_for_processes();
  }
#line 2167
  if (! opts[120]) {
    {
#line 2168
    scanjobs();
    }
  }
#line 2170
  if (func != 3) {
    {
#line 2171
    setcurjob();
    }
  } else
#line 2170
  if (opts[115]) {
    {
#line 2171
    setcurjob();
    }
  } else
#line 2170
  if (! oldmaxjob) {
    {
#line 2171
    setcurjob();
    }
  }
#line 2173
  if (func == 3) {
#line 2176
    stopmsg = 2;
  }
#line 2177
  if (! *argv) {
#line 2181
    if (func == 2) {
#line 2181
      goto _L___4;
    } else
#line 2181
    if (func == 1) {
#line 2181
      goto _L___4;
    } else
#line 2181
    if (func == 5) {
      _L___4: /* CIL Label */ 
#line 2184
      if (curjob == -1) {
#line 2184
        goto _L___0;
      } else
#line 2184
      if ((jobtab + curjob)->stat & 32) {
        _L___0: /* CIL Label */ 
        {
#line 2185
        zwarnnam((char const   *)name, "no current job");
        }
        {
#line 2186
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 2186
          queueing_enabled --;
#line 2186
          if (! queueing_enabled) {
            {
#line 2186
            while (1) {
              while_continue___3: /* CIL Label */ ;
              {
#line 2186
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 2186
                if (! (queue_front != queue_rear)) {
#line 2186
                  goto while_break___4;
                }
                {
#line 2186
                queue_front = (queue_front + 1) % 128;
#line 2186
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 2186
                zhandler(signal_queue[queue_front]);
#line 2186
                signal_setmask(oset___0);
                }
              }
              while_break___4: /* CIL Label */ ;
              }
#line 2186
              goto while_break___3;
            }
            while_break___3: /* CIL Label */ ;
            }
          }
#line 2186
          goto while_break___2;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 2187
        return (1);
      }
#line 2189
      firstjob = curjob;
    } else
#line 2190
    if (func == 3) {
#line 2194
      if (! opts[115]) {
#line 2194
        if (oldmaxjob) {
#line 2195
          jobptr = oldjobtab;
#line 2196
          if (oldmaxjob) {
#line 2196
            curmaxjob = oldmaxjob - 1;
          } else {
#line 2196
            curmaxjob = 0;
          }
#line 2197
          ignorejob = 0;
        } else {
#line 2199
          jobptr = jobtab;
#line 2200
          curmaxjob = maxjob;
#line 2201
          ignorejob = thisjob;
        }
      } else {
#line 2199
        jobptr = jobtab;
#line 2200
        curmaxjob = maxjob;
#line 2201
        ignorejob = thisjob;
      }
#line 2203
      job = 0;
      {
#line 2203
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 2203
        if (! (job <= curmaxjob)) {
#line 2203
          goto while_break___5;
        }
#line 2204
        if (job != ignorejob) {
#line 2204
          if (jobptr->stat) {
#line 2205
            if (! ((int )ops->ind[114] != 0)) {
#line 2205
              if (! ((int )ops->ind[115] != 0)) {
                {
#line 2210
                printjob(jobptr, lng, 2);
                }
              } else {
#line 2205
                goto _L___3;
              }
            } else
            _L___3: /* CIL Label */ 
#line 2205
            if ((int )ops->ind[114] != 0) {
#line 2205
              if ((int )ops->ind[115] != 0) {
                {
#line 2210
                printjob(jobptr, lng, 2);
                }
              } else {
#line 2205
                goto _L___2;
              }
            } else
            _L___2: /* CIL Label */ 
#line 2205
            if ((int )ops->ind[114] != 0) {
#line 2205
              if (! (jobptr->stat & 2)) {
                {
#line 2210
                printjob(jobptr, lng, 2);
                }
              } else {
#line 2205
                goto _L___1;
              }
            } else
            _L___1: /* CIL Label */ 
#line 2205
            if ((int )ops->ind[115] != 0) {
#line 2205
              if (jobptr->stat & 2) {
                {
#line 2210
                printjob(jobptr, lng, 2);
                }
              }
            }
          }
        }
#line 2203
        job ++;
#line 2203
        jobptr ++;
      }
      while_break___5: /* CIL Label */ ;
      }
      {
#line 2212
      while (1) {
        while_continue___6: /* CIL Label */ ;
#line 2212
        queueing_enabled --;
#line 2212
        if (! queueing_enabled) {
          {
#line 2212
          while (1) {
            while_continue___7: /* CIL Label */ ;
            {
#line 2212
            while (1) {
              while_continue___8: /* CIL Label */ ;
#line 2212
              if (! (queue_front != queue_rear)) {
#line 2212
                goto while_break___8;
              }
              {
#line 2212
              queue_front = (queue_front + 1) % 128;
#line 2212
              oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 2212
              zhandler(signal_queue[queue_front]);
#line 2212
              signal_setmask(oset___1);
              }
            }
            while_break___8: /* CIL Label */ ;
            }
#line 2212
            goto while_break___7;
          }
          while_break___7: /* CIL Label */ ;
          }
        }
#line 2212
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
#line 2213
      return (0);
    } else {
#line 2215
      job = 0;
      {
#line 2215
      while (1) {
        while_continue___9: /* CIL Label */ ;
#line 2215
        if (! (job <= maxjob)) {
#line 2215
          goto while_break___9;
        }
#line 2216
        if (job != thisjob) {
#line 2216
          if ((jobtab + job)->stat) {
            {
#line 2217
            retval = zwaitjob(job, 1);
            }
          }
        }
#line 2215
        job ++;
      }
      while_break___9: /* CIL Label */ ;
      }
      {
#line 2218
      while (1) {
        while_continue___10: /* CIL Label */ ;
#line 2218
        queueing_enabled --;
#line 2218
        if (! queueing_enabled) {
          {
#line 2218
          while (1) {
            while_continue___11: /* CIL Label */ ;
            {
#line 2218
            while (1) {
              while_continue___12: /* CIL Label */ ;
#line 2218
              if (! (queue_front != queue_rear)) {
#line 2218
                goto while_break___12;
              }
              {
#line 2218
              queue_front = (queue_front + 1) % 128;
#line 2218
              oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 2218
              zhandler(signal_queue[queue_front]);
#line 2218
              signal_setmask(oset___2);
              }
            }
            while_break___12: /* CIL Label */ ;
            }
#line 2218
            goto while_break___11;
          }
          while_break___11: /* CIL Label */ ;
          }
        }
#line 2218
        goto while_break___10;
      }
      while_break___10: /* CIL Label */ ;
      }
#line 2219
      return (retval);
    }
  }
  {
#line 2226
  while (1) {
    while_continue___13: /* CIL Label */ ;
#line 2226
    if (! (firstjob != -1)) {
#line 2226
      if (! *argv) {
#line 2226
        goto while_break___13;
      }
    }
#line 2227
    ocj = thisjob;
#line 2229
    func = ofunc;
#line 2231
    if (func == 4) {
      {
#line 2231
      tmp___5 = isanum(*argv);
      }
#line 2231
      if (tmp___5) {
        {
#line 2233
        tmp___2 = atoi((char const   *)*argv);
#line 2233
        pid = (pid_t )((long )tmp___2);
#line 2237
        tmp___4 = findproc(pid, & j, & p, 0);
        }
#line 2237
        if (tmp___4) {
#line 2238
          if (j->stat & 2) {
            {
#line 2239
            tmp___3 = killjb(j, 18);
#line 2239
            retval = tmp___3 != 0;
            }
#line 2240
            if (retval == 0) {
              {
#line 2241
              makerunning(j);
              }
            }
          }
#line 2243
          if (retval == 0) {
            {
#line 2248
            retval = waitforpid(pid, 1);
            }
          }
#line 2250
          if (retval == 0) {
#line 2251
            retval = (int )lastval2;
          }
        } else {
          {
#line 2252
          retval = getbgstatus(pid);
          }
#line 2252
          if (retval < 0) {
            {
#line 2253
            zwarnnam((char const   *)name, "pid %d is not a child of this shell",
                     pid);
#line 2255
            retval = 1;
            }
          }
        }
#line 2257
        thisjob = ocj;
#line 2258
        goto __Cont;
      }
    }
#line 2260
    if (func != 3) {
#line 2260
      if ((unsigned long )oldjobtab != (unsigned long )((void *)0)) {
        {
#line 2261
        zwarnnam((char const   *)name, "can\'t manipulate jobs in subshell");
        }
        {
#line 2262
        while (1) {
          while_continue___14: /* CIL Label */ ;
#line 2262
          queueing_enabled --;
#line 2262
          if (! queueing_enabled) {
            {
#line 2262
            while (1) {
              while_continue___15: /* CIL Label */ ;
              {
#line 2262
              while (1) {
                while_continue___16: /* CIL Label */ ;
#line 2262
                if (! (queue_front != queue_rear)) {
#line 2262
                  goto while_break___16;
                }
                {
#line 2262
                queue_front = (queue_front + 1) % 128;
#line 2262
                oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 2262
                zhandler(signal_queue[queue_front]);
#line 2262
                signal_setmask(oset___3);
                }
              }
              while_break___16: /* CIL Label */ ;
              }
#line 2262
              goto while_break___15;
            }
            while_break___15: /* CIL Label */ ;
            }
          }
#line 2262
          goto while_break___14;
        }
        while_break___14: /* CIL Label */ ;
        }
#line 2263
        return (1);
      }
    }
#line 2266
    if (*argv) {
      {
#line 2266
      tmp___6 = getjob((char const   *)*argv, (char const   *)name);
#line 2266
      job = tmp___6;
      }
    } else {
#line 2266
      job = firstjob;
    }
#line 2267
    firstjob = -1;
#line 2268
    if (job == -1) {
#line 2269
      retval = 1;
#line 2270
      goto while_break___13;
    }
#line 2272
    if (oldjobtab) {
#line 2272
      jstat = (oldjobtab + job)->stat;
    } else {
#line 2272
      jstat = (jobtab + job)->stat;
    }
#line 2273
    if (! (jstat & 64)) {
#line 2273
      goto _L___5;
    } else
#line 2273
    if (jstat & 32) {
      _L___5: /* CIL Label */ 
      {
#line 2275
      zwarnnam((char const   *)name, "%s: no such job", *argv);
      }
      {
#line 2276
      while (1) {
        while_continue___17: /* CIL Label */ ;
#line 2276
        queueing_enabled --;
#line 2276
        if (! queueing_enabled) {
          {
#line 2276
          while (1) {
            while_continue___18: /* CIL Label */ ;
            {
#line 2276
            while (1) {
              while_continue___19: /* CIL Label */ ;
#line 2276
              if (! (queue_front != queue_rear)) {
#line 2276
                goto while_break___19;
              }
              {
#line 2276
              queue_front = (queue_front + 1) % 128;
#line 2276
              oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 2276
              zhandler(signal_queue[queue_front]);
#line 2276
              signal_setmask(oset___4);
              }
            }
            while_break___19: /* CIL Label */ ;
            }
#line 2276
            goto while_break___18;
          }
          while_break___18: /* CIL Label */ ;
          }
        }
#line 2276
        goto while_break___17;
      }
      while_break___17: /* CIL Label */ ;
      }
#line 2277
      return (1);
    }
#line 2282
    if (opts[7]) {
#line 2282
      if (func == 5) {
#line 2282
        if (jstat & 2) {
#line 2284
          func = 1;
        }
      }
    }
    {
#line 2290
    if (func == 4) {
#line 2290
      goto case_4;
    }
#line 2290
    if (func == 1) {
#line 2290
      goto case_4;
    }
#line 2290
    if (func == 2) {
#line 2290
      goto case_4;
    }
#line 2372
    if (func == 3) {
#line 2372
      goto case_3;
    }
#line 2375
    if (func == 5) {
#line 2375
      goto case_5;
    }
#line 2287
    goto switch_break;
    case_4: /* CIL Label */ 
    case_1: /* CIL Label */ 
    case_2: /* CIL Label */ 
#line 2291
    if (func == 1) {
#line 2292
      (jobtab + job)->stat |= 2048;
    }
#line 2293
    stopped = (jobtab + job)->stat & 2;
#line 2293
    if (stopped) {
      {
#line 2294
      makerunning(jobtab + job);
      }
#line 2295
      if (func == 1) {
#line 2297
        pn = (jobtab + job)->procs;
        {
#line 2298
        while (1) {
          while_continue___20: /* CIL Label */ ;
#line 2299
          next___0 = pn->next;
#line 2300
          if (! next___0) {
#line 2301
            lastpid = (zlong )pn->pid;
#line 2302
            goto while_break___20;
          }
#line 2304
          pn = next___0;
        }
        while_break___20: /* CIL Label */ ;
        }
      }
    } else
#line 2307
    if (func == 1) {
      {
#line 2309
      zwarnnam((char const   *)name, "job already in background");
#line 2310
      thisjob = ocj;
      }
      {
#line 2311
      while (1) {
        while_continue___21: /* CIL Label */ ;
#line 2311
        queueing_enabled --;
#line 2311
        if (! queueing_enabled) {
          {
#line 2311
          while (1) {
            while_continue___22: /* CIL Label */ ;
            {
#line 2311
            while (1) {
              while_continue___23: /* CIL Label */ ;
#line 2311
              if (! (queue_front != queue_rear)) {
#line 2311
                goto while_break___23;
              }
              {
#line 2311
              queue_front = (queue_front + 1) % 128;
#line 2311
              oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 2311
              zhandler(signal_queue[queue_front]);
#line 2311
              signal_setmask(oset___5);
              }
            }
            while_break___23: /* CIL Label */ ;
            }
#line 2311
            goto while_break___22;
          }
          while_break___22: /* CIL Label */ ;
          }
        }
#line 2311
        goto while_break___21;
      }
      while_break___21: /* CIL Label */ ;
      }
#line 2312
      return (1);
    }
#line 2316
    if (curjob == job) {
#line 2317
      curjob = prevjob;
#line 2318
      if (func == 1) {
#line 2318
        prevjob = -1;
      } else {
#line 2318
        prevjob = job;
      }
    }
#line 2320
    if (prevjob == job) {
      {
#line 2321
      setprevjob();
      }
    } else
#line 2320
    if (prevjob == -1) {
      {
#line 2321
      setprevjob();
      }
    }
#line 2322
    if (curjob == -1) {
      {
#line 2323
      curjob = prevjob;
#line 2324
      setprevjob();
      }
    }
#line 2326
    if (func != 4) {
#line 2328
      if (stopped) {
#line 2328
        tmp___7 = -1;
      } else {
#line 2328
        tmp___7 = lng;
      }
      {
#line 2328
      printjob(jobtab + job, tmp___7, 3);
      }
    }
#line 2329
    if (func != 1) {
#line 2330
      if ((jobtab + job)->pwd) {
        {
#line 2330
        tmp___9 = strcmp((char const   *)(jobtab + job)->pwd, (char const   *)pwd);
        }
#line 2330
        if (tmp___9) {
#line 2331
          if (func == 3) {
#line 2331
            tmp___8 = stdout;
          } else
#line 2331
          if (! shout) {
#line 2331
            tmp___8 = stdout;
          } else {
#line 2331
            tmp___8 = shout;
          }
          {
#line 2331
          fout = tmp___8;
#line 2332
          fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"(pwd : ");
#line 2333
          fprintdir((jobtab + job)->pwd, fout);
#line 2334
          fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)")\n");
#line 2335
          fflush(fout);
          }
        }
      }
#line 2337
      if (func != 4) {
#line 2338
        thisjob = job;
#line 2339
        if ((jobtab + job)->stat & 128) {
#line 2339
          if (! ((jobtab + job)->procs)->next) {
#line 2339
            goto _L___6;
          } else
#line 2339
          if ((jobtab + job)->stat & 8192) {
#line 2339
            goto _L___6;
          } else {
            {
#line 2339
            tmp___10 = killpg((jobtab + job)->gleader, 0);
            }
#line 2339
            if (tmp___10 == -1) {
              _L___6: /* CIL Label */ 
#line 2339
              if ((jobtab + (jobtab + job)->other)->gleader) {
                {
#line 2344
                attachtty((jobtab + (jobtab + job)->other)->gleader);
                }
              } else {
                {
#line 2346
                attachtty((jobtab + job)->gleader);
                }
              }
            } else {
              {
#line 2346
              attachtty((jobtab + job)->gleader);
              }
            }
          }
        } else {
          {
#line 2346
          attachtty((jobtab + job)->gleader);
          }
        }
      }
    }
#line 2349
    if (stopped) {
#line 2350
      if (func != 1) {
#line 2350
        if ((jobtab + job)->ty) {
          {
#line 2351
          settyinfo((jobtab + job)->ty);
          }
        }
      }
      {
#line 2352
      killjb(jobtab + job, 18);
      }
    }
#line 2354
    if (func == 4) {
      {
#line 2356
      retval = zwaitjob(job, 1);
      }
#line 2357
      if (! retval) {
#line 2358
        retval = (int )lastval2;
      }
    } else
#line 2360
    if (func != 1) {
      {
#line 2367
      waitjobs();
#line 2368
      retval = (int )lastval2;
      }
    } else
#line 2369
    if (ofunc == 5) {
      {
#line 2370
      deletejob(jobtab + job, 1);
      }
    }
#line 2371
    goto switch_break;
    case_3: /* CIL Label */ 
#line 2373
    if (oldjobtab) {
#line 2373
      tmp___11 = oldjobtab;
    } else {
#line 2373
      tmp___11 = jobtab;
    }
    {
#line 2373
    printjob(tmp___11 + job, lng, 2);
    }
#line 2374
    goto switch_break;
    case_5: /* CIL Label */ 
#line 2376
    if ((jobtab + job)->stat & 2) {
#line 2377
      pids = (char *)"";
#line 2379
      if ((jobtab + job)->stat & 128) {
#line 2382
        pn___0 = (jobtab + (jobtab + job)->other)->procs;
        {
#line 2382
        while (1) {
          while_continue___24: /* CIL Label */ ;
#line 2382
          if (! pn___0) {
#line 2382
            goto while_break___24;
          }
          {
#line 2383
          sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)" -%d",
                  pn___0->pid);
#line 2384
          pids = dyncat((char const   *)pids, (char const   *)(buf___7));
#line 2382
          pn___0 = pn___0->next;
          }
        }
        while_break___24: /* CIL Label */ ;
        }
#line 2386
        pn___0 = (jobtab + job)->procs;
        {
#line 2386
        while (1) {
          while_continue___25: /* CIL Label */ ;
#line 2386
          if (! pn___0->next) {
#line 2386
            goto while_break___25;
          }
          {
#line 2387
          sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)" %d",
                  pn___0->pid);
#line 2388
          pids = dyncat((char const   *)pids, (char const   *)(buf___7));
#line 2386
          pn___0 = pn___0->next;
          }
        }
        while_break___25: /* CIL Label */ ;
        }
#line 2390
        if (! (jobtab + (jobtab + job)->other)->procs) {
#line 2390
          if (pn___0) {
            {
#line 2391
            sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)" %d",
                    pn___0->pid);
#line 2392
            pids = dyncat((char const   *)pids, (char const   *)(buf___7));
            }
          }
        }
      } else {
        {
#line 2395
        sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)" -%d",
                (jobtab + job)->gleader);
#line 2396
        pids = buf___7;
        }
      }
      {
#line 2398
      zwarnnam((char const   *)name, "warning: job is suspended, use `kill -CONT%s\' to resume",
               pids);
      }
    }
    {
#line 2406
    deletejob(jobtab + job, 1);
    }
#line 2407
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 2409
    thisjob = ocj;
    __Cont: /* CIL Label */ 
#line 2226
    if (*argv) {
#line 2226
      tmp___0 = argv;
#line 2226
      argv ++;
#line 2226
      if (tmp___0) {
#line 2226
        tmp___1 = 1;
      } else {
#line 2226
        tmp___1 = 0;
      }
    } else {
#line 2226
      tmp___1 = 0;
    }
  }
  while_break___13: /* CIL Label */ ;
  }
  {
#line 2411
  while (1) {
    while_continue___26: /* CIL Label */ ;
#line 2411
    queueing_enabled --;
#line 2411
    if (! queueing_enabled) {
      {
#line 2411
      while (1) {
        while_continue___27: /* CIL Label */ ;
        {
#line 2411
        while (1) {
          while_continue___28: /* CIL Label */ ;
#line 2411
          if (! (queue_front != queue_rear)) {
#line 2411
            goto while_break___28;
          }
          {
#line 2411
          queue_front = (queue_front + 1) % 128;
#line 2411
          oset___6 = signal_setmask(signal_mask_queue[queue_front]);
#line 2411
          zhandler(signal_queue[queue_front]);
#line 2411
          signal_setmask(oset___6);
          }
        }
        while_break___28: /* CIL Label */ ;
        }
#line 2411
        goto while_break___27;
      }
      while_break___27: /* CIL Label */ ;
      }
    }
#line 2411
    goto while_break___26;
  }
  while_break___26: /* CIL Label */ ;
  }
#line 2412
  return (retval);
}
}
#line 2415 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
static struct __anonstruct_alt_sigs_161  const  alt_sigs[4]  = {      {"CLD", 17}, 
        {"IO", 29}, 
        {"ERR", 32}, 
        {(char const   *)((void *)0), 0}};
#line 2444 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int bin_kill(char *nam , char **argv , Options ops  __attribute__((__unused__)) ,
             int func  __attribute__((__unused__)) ) 
{ 
  int sig ;
  int returnval ;
  char *endp ;
  zlong tmp ;
  char *signame ;
  zlong tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int i ;
  int tmp___3 ;
  union __anonunion_162 __constr_expr_63 ;
  union __anonunion_163 __constr_expr_64 ;
  union __anonunion_164 __constr_expr_65 ;
  union __anonunion_165 __constr_expr_66 ;
  char *endp___0 ;
  zlong tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int i___0 ;
  int tmp___7 ;
  int p ;
  int *tmp___8 ;
  int tmp___9 ;
  int pid ;
  int tmp___10 ;
  int *tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  sigset_t oset ;
  int tmp___14 ;
  void *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;
  char *__cil_tmp50 ;
  char *__cil_tmp51 ;
  char *__cil_tmp52 ;
  char *__cil_tmp53 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;

  {
#line 2447
  sig = 15;
#line 2448
  returnval = 0;
#line 2451
  if (*argv) {
#line 2451
    if ((int )*(*argv) == 45) {
#line 2452
      if ((int )typtab[(unsigned char )*(*argv + 1)] & 1) {
        {
#line 2455
        tmp = zstrtol((char const   *)(*argv + 1), & endp, 10);
#line 2455
        sig = (int )tmp;
        }
#line 2456
        if (*endp) {
          {
#line 2457
          zwarnnam((char const   *)nam, "invalid signal number: %s", *argv);
          }
#line 2458
          return (1);
        }
      } else
#line 2460
      if ((int )*(*argv + 1) != 45) {
#line 2460
        goto _L___0;
      } else
#line 2460
      if (*(*argv + 2)) {
        _L___0: /* CIL Label */ 
#line 2464
        if ((int )*(*argv + 1) == 108) {
#line 2464
          if ((int )*(*argv + 2) == 0) {
#line 2465
            if (*(argv + 1)) {
              {
#line 2466
              while (1) {
                while_continue: /* CIL Label */ ;
#line 2466
                argv ++;
#line 2466
                if (! *argv) {
#line 2466
                  goto while_break;
                }
                {
#line 2467
                tmp___0 = zstrtol((char const   *)*argv, & signame, 10);
#line 2467
                sig = (int )tmp___0;
                }
#line 2468
                if ((unsigned long )signame == (unsigned long )*argv) {
                  {
#line 2469
                  tmp___1 = strncmp((char const   *)signame, "SIG", (size_t )3);
                  }
#line 2469
                  if (! tmp___1) {
#line 2470
                    signame += 3;
                  }
#line 2471
                  sig = 1;
                  {
#line 2471
                  while (1) {
                    while_continue___0: /* CIL Label */ ;
#line 2471
                    if (! (sig <= 31)) {
#line 2471
                      goto while_break___0;
                    }
                    {
#line 2472
                    tmp___2 = strcasecmp((char const   *)sigs[sig], (char const   *)signame);
                    }
#line 2472
                    if (! tmp___2) {
#line 2473
                      goto while_break___0;
                    }
#line 2471
                    sig ++;
                  }
                  while_break___0: /* CIL Label */ ;
                  }
#line 2474
                  if (sig > 31) {
#line 2477
                    i = 0;
                    {
#line 2477
                    while (1) {
                      while_continue___1: /* CIL Label */ ;
#line 2477
                      if (! alt_sigs[i].name) {
#line 2477
                        goto while_break___1;
                      }
                      {
#line 2478
                      tmp___3 = strcasecmp((char const   *)alt_sigs[i].name, (char const   *)signame);
                      }
#line 2478
                      if (! tmp___3) {
#line 2480
                        sig = (int )alt_sigs[i].num;
#line 2481
                        goto while_break___1;
                      }
#line 2477
                      i ++;
                    }
                    while_break___1: /* CIL Label */ ;
                    }
                  }
#line 2484
                  if (sig > 31) {
                    {
#line 2485
                    zwarnnam((char const   *)nam, "unknown signal: SIG%s", signame);
#line 2487
                    returnval ++;
                    }
                  } else {
                    {
#line 2489
                    printf((char const   */* __restrict  */)"%d\n", sig);
                    }
                  }
                } else
#line 2491
                if (*signame) {
                  {
#line 2492
                  zwarnnam((char const   *)nam, "unknown signal: SIG%s", signame);
#line 2494
                  returnval ++;
                  }
                } else {
#line 2496
                  __constr_expr_66.__in = sig;
#line 2496
                  if ((int )((signed char )((__constr_expr_66.__i & 127) + 1)) >> 1 > 0) {
#line 2497
                    __constr_expr_63.__in = sig;
#line 2497
                    sig = __constr_expr_63.__i & 127;
                  } else {
#line 2498
                    __constr_expr_65.__in = sig;
#line 2498
                    if ((__constr_expr_65.__i & 255) == 127) {
#line 2499
                      __constr_expr_64.__in = sig;
#line 2499
                      sig = (__constr_expr_64.__i & 65280) >> 8;
                    }
                  }
#line 2500
                  if (1 <= sig) {
#line 2500
                    if (sig <= 31) {
                      {
#line 2501
                      printf((char const   */* __restrict  */)"%s\n", sigs[sig]);
                      }
                    } else {
                      {
#line 2503
                      printf((char const   */* __restrict  */)"%d\n", sig);
                      }
                    }
                  } else {
                    {
#line 2503
                    printf((char const   */* __restrict  */)"%d\n", sig);
                    }
                  }
                }
              }
              while_break: /* CIL Label */ ;
              }
#line 2507
              return (returnval);
            }
            {
#line 2509
            printf((char const   */* __restrict  */)"%s", sigs[1]);
#line 2510
            sig = 2;
            }
            {
#line 2510
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 2510
              if (! (sig <= 31)) {
#line 2510
                goto while_break___2;
              }
              {
#line 2511
              printf((char const   */* __restrict  */)" %s", sigs[sig]);
#line 2510
              sig ++;
              }
            }
            while_break___2: /* CIL Label */ ;
            }
            {
#line 2512
            putchar('\n');
            }
#line 2513
            return (0);
          }
        }
#line 2516
        if ((int )*(*argv + 1) == 110) {
#line 2516
          if ((int )*(*argv + 2) == 0) {
#line 2519
            argv ++;
#line 2519
            if (! *argv) {
              {
#line 2520
              zwarnnam((char const   *)nam, "-n: argument expected");
              }
#line 2521
              return (1);
            }
            {
#line 2523
            tmp___4 = zstrtol((char const   *)*argv, & endp___0, 10);
#line 2523
            sig = (int )tmp___4;
            }
#line 2524
            if (*endp___0) {
              {
#line 2525
              zwarnnam((char const   *)nam, "invalid signal number: %s", *argv);
              }
#line 2526
              return (1);
            }
          } else {
#line 2516
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
#line 2529
          if ((int )*(*argv + 1) == 115) {
#line 2529
            if ((int )*(*argv + 2) == 0) {
#line 2531
              argv ++;
#line 2531
              if (*argv) {
#line 2535
                signame = *argv;
              } else {
                {
#line 2532
                zwarnnam((char const   *)nam, "-s: argument expected");
                }
#line 2533
                return (1);
              }
            } else {
#line 2530
              signame = *argv + 1;
            }
          } else {
#line 2530
            signame = *argv + 1;
          }
#line 2536
          if (! *signame) {
            {
#line 2537
            zwarnnam((char const   *)nam, "-: signal name expected");
            }
#line 2538
            return (1);
          }
          {
#line 2540
          signame = casemodify(signame, 1);
#line 2541
          tmp___5 = strncmp((char const   *)signame, "SIG", (size_t )3);
          }
#line 2541
          if (! tmp___5) {
#line 2542
            signame += 3;
          }
#line 2545
          sig = 1;
          {
#line 2545
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 2545
            if (! (sig <= 31)) {
#line 2545
              goto while_break___3;
            }
            {
#line 2546
            tmp___6 = strcmp((char const   *)*(sigs + sig), (char const   *)signame);
            }
#line 2546
            if (! tmp___6) {
#line 2547
              goto while_break___3;
            }
#line 2545
            sig ++;
          }
          while_break___3: /* CIL Label */ ;
          }
#line 2548
          if ((int )*signame == 48) {
#line 2548
            if (! *(signame + 1)) {
#line 2549
              sig = 0;
            }
          }
#line 2550
          if (sig > 31) {
#line 2553
            i___0 = 0;
            {
#line 2553
            while (1) {
              while_continue___4: /* CIL Label */ ;
#line 2553
              if (! alt_sigs[i___0].name) {
#line 2553
                goto while_break___4;
              }
              {
#line 2554
              tmp___7 = strcmp((char const   *)alt_sigs[i___0].name, (char const   *)signame);
              }
#line 2554
              if (! tmp___7) {
#line 2556
                sig = (int )alt_sigs[i___0].num;
#line 2557
                goto while_break___4;
              }
#line 2553
              i___0 ++;
            }
            while_break___4: /* CIL Label */ ;
            }
          }
#line 2560
          if (sig > 31) {
            {
#line 2561
            zwarnnam((char const   *)nam, "unknown signal: SIG%s", signame);
#line 2562
            zwarnnam((char const   *)nam, "type kill -l for a list of signals");
            }
#line 2563
            return (1);
          }
        }
      }
#line 2567
      argv ++;
    }
  }
#line 2571
  if (*argv) {
#line 2571
    if ((int )*(*argv + 0) == 45) {
#line 2571
      if (! *(*argv + 1)) {
#line 2572
        argv ++;
      } else
#line 2571
      if ((int )*(*argv + 1) == 45) {
#line 2572
        argv ++;
      }
    }
  }
#line 2574
  if (! *argv) {
    {
#line 2575
    zwarnnam((char const   *)nam, "not enough arguments");
    }
#line 2576
    return (1);
  }
  {
#line 2579
  queueing_enabled ++;
#line 2580
  setcurjob();
  }
  {
#line 2584
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 2584
    if (! *argv) {
#line 2584
      goto while_break___5;
    }
#line 2585
    if ((int )*(*argv) == 37) {
      {
#line 2589
      p = getjob((char const   *)*argv, (char const   *)nam);
      }
#line 2589
      if (p == -1) {
#line 2590
        returnval ++;
#line 2591
        goto __Cont;
      }
      {
#line 2593
      tmp___9 = killjb(jobtab + p, sig);
      }
#line 2593
      if (tmp___9 == -1) {
        {
#line 2594
        tmp___8 = __errno_location();
#line 2594
        zwarnnam("kill", "kill %s failed: %e", *argv, *tmp___8);
#line 2595
        returnval ++;
        }
#line 2596
        goto __Cont;
      }
#line 2601
      if ((jobtab + p)->stat & 2) {
#line 2607
        if (sig != 9) {
#line 2607
          if (sig != 18) {
#line 2607
            if (sig != 20) {
#line 2607
              if (sig != 22) {
#line 2607
                if (sig != 21) {
#line 2607
                  if (sig != 19) {
                    {
#line 2609
                    killjb(jobtab + p, 18);
                    }
                  }
                }
              }
            }
          }
        }
      }
    } else {
      {
#line 2611
      tmp___13 = isanum(*argv);
      }
#line 2611
      if (tmp___13) {
        {
#line 2615
        tmp___10 = atoi((char const   *)*argv);
#line 2615
        pid = tmp___10;
#line 2616
        tmp___12 = kill(pid, sig);
        }
#line 2616
        if (tmp___12 == -1) {
          {
#line 2617
          tmp___11 = __errno_location();
#line 2617
          zwarnnam("kill", "kill %s failed: %e", *argv, *tmp___11);
#line 2618
          returnval ++;
          }
        }
      } else {
        {
#line 2612
        zwarnnam("kill", "illegal pid: %s", *argv);
#line 2613
        returnval ++;
        }
      }
    }
    __Cont: /* CIL Label */ 
#line 2584
    argv ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  {
#line 2633
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 2633
    queueing_enabled --;
#line 2633
    if (! queueing_enabled) {
      {
#line 2633
      while (1) {
        while_continue___7: /* CIL Label */ ;
        {
#line 2633
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 2633
          if (! (queue_front != queue_rear)) {
#line 2633
            goto while_break___8;
          }
          {
#line 2633
          queue_front = (queue_front + 1) % 128;
#line 2633
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2633
          zhandler(signal_queue[queue_front]);
#line 2633
          signal_setmask(oset);
          }
        }
        while_break___8: /* CIL Label */ ;
        }
#line 2633
        goto while_break___7;
      }
      while_break___7: /* CIL Label */ ;
      }
    }
#line 2633
    goto while_break___6;
  }
  while_break___6: /* CIL Label */ ;
  }
#line 2635
  if (returnval < 126) {
#line 2635
    tmp___14 = returnval;
  } else {
#line 2635
    tmp___14 = 1;
  }
#line 2635
  return (tmp___14);
}
}
#line 2640 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int getsignum(char const   *s ) 
{ 
  int x ;
  int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp7 ;

  {
  {
#line 2646
  x = atoi(s);
  }
#line 2647
  if ((int )typtab[(unsigned char )*s] & 1) {
#line 2647
    if (x >= 0) {
#line 2647
      if (x < 34) {
#line 2648
        return (x);
      }
    }
  }
  {
#line 2651
  tmp = strncmp(s, "SIG", (size_t )3);
  }
#line 2651
  if (! tmp) {
#line 2652
    s += 3;
  }
#line 2654
  i = 0;
  {
#line 2654
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2654
    if (! (i < 34)) {
#line 2654
      goto while_break;
    }
    {
#line 2655
    tmp___0 = strcmp(s, (char const   *)sigs[i]);
    }
#line 2655
    if (! tmp___0) {
#line 2656
      return (i);
    }
#line 2654
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2658
  i = 0;
  {
#line 2658
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2658
    if (! alt_sigs[i].name) {
#line 2658
      goto while_break___0;
    }
    {
#line 2660
    tmp___1 = strcmp(s, (char const   *)alt_sigs[i].name);
    }
#line 2660
    if (! tmp___1) {
#line 2661
      return ((int )alt_sigs[i].num);
    }
#line 2658
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2665
  return (-1);
}
}
#line 2671 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
char const   *getsigname(int sig ) 
{ 
  int i ;
  char *__cil_tmp3 ;

  {
#line 2674
  if (sigtrapped[sig] & (1 << 3)) {
#line 2677
    i = 0;
    {
#line 2677
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2677
      if (! alt_sigs[i].name) {
#line 2677
        goto while_break;
      }
#line 2678
      if (sig == (int )alt_sigs[i].num) {
#line 2679
        return ((char const   *)alt_sigs[i].name);
      }
#line 2677
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 2682
    return ((char const   *)sigs[sig]);
  }
#line 2688
  return ("");
}
}
#line 2694 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
HashNode gettrapnode(int sig , int ignoredisable ) 
{ 
  char fname[20] ;
  HashNode hn ;
  HashNode (*getptr)(HashTable ht , char const   *name ) ;
  int i ;
  void *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 2701
  if (ignoredisable) {
#line 2702
    getptr = shfunctab->getnode2;
  } else {
#line 2704
    getptr = shfunctab->getnode;
  }
  {
#line 2706
  sprintf((char */* __restrict  */)(fname), (char const   */* __restrict  */)"TRAP%s",
          sigs[sig]);
#line 2707
  hn = (*getptr)(shfunctab, (char const   *)(fname));
  }
#line 2707
  if (hn) {
#line 2708
    return (hn);
  }
#line 2710
  i = 0;
  {
#line 2710
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2710
    if (! alt_sigs[i].name) {
#line 2710
      goto while_break;
    }
#line 2711
    if (alt_sigs[i].num == (int const   )sig) {
      {
#line 2712
      sprintf((char */* __restrict  */)(fname), (char const   */* __restrict  */)"TRAP%s",
              alt_sigs[i].name);
#line 2713
      hn = (*getptr)(shfunctab, (char const   *)(fname));
      }
#line 2713
      if (hn) {
#line 2714
        return (hn);
      }
    }
#line 2710
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2718
  return ((HashNode )((void *)0));
}
}
#line 2724 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void removetrapnode(int sig ) 
{ 
  HashNode hn ;
  HashNode tmp ;

  {
  {
#line 2727
  tmp = gettrapnode(sig, 1);
#line 2727
  hn = tmp;
  }
#line 2728
  if (hn) {
    {
#line 2729
    (*(shfunctab->removenode))(shfunctab, (char const   *)hn->nam);
#line 2730
    (*(shfunctab->freenode))(hn);
    }
  }
#line 2732
  return;
}
}
#line 2737 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int bin_suspend(char *name , char **argv  __attribute__((__unused__)) , Options ops ,
                int func  __attribute__((__unused__)) ) 
{ 
  char *__cil_tmp5 ;

  {
#line 2741
  if (opts[109]) {
#line 2741
    if (! ((int )ops->ind[102] != 0)) {
      {
#line 2742
      zwarnnam((char const   *)name, "can\'t suspend login shell");
      }
#line 2743
      return (1);
    }
  }
#line 2745
  if (opts[115]) {
    {
#line 2747
    signal(21, (void (*)(int  ))0);
#line 2748
    signal(20, (void (*)(int  ))0);
#line 2749
    signal(22, (void (*)(int  ))0);
#line 2752
    release_pgrp();
    }
  }
  {
#line 2756
  killpg(origpgrp, 20);
  }
#line 2758
  if (opts[115]) {
    {
#line 2759
    acquire_pgrp();
#line 2761
    signal(22, (void (*)(int  ))1);
#line 2762
    signal(20, (void (*)(int  ))1);
#line 2763
    signal(21, (void (*)(int  ))1);
    }
  }
#line 2765
  return (0);
}
}
#line 2771 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
int findjobnam(char const   *s ) 
{ 
  int jobnum ;
  int tmp ;

  {
#line 2776
  jobnum = maxjob;
  {
#line 2776
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2776
    if (! (jobnum >= 0)) {
#line 2776
      goto while_break;
    }
#line 2777
    if (! ((jobtab + jobnum)->stat & 288)) {
#line 2777
      if ((jobtab + jobnum)->stat) {
#line 2777
        if ((jobtab + jobnum)->procs) {
#line 2777
          if (jobnum != thisjob) {
#line 2777
            if (((jobtab + jobnum)->procs)->text[0]) {
              {
#line 2777
              tmp = strpfx(s, (char const   *)(((jobtab + jobnum)->procs)->text));
              }
#line 2777
              if (tmp) {
#line 2780
                return (jobnum);
              }
            }
          }
        }
      }
    }
#line 2776
    jobnum --;
  }
  while_break: /* CIL Label */ ;
  }
#line 2781
  return (-1);
}
}
#line 2789 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void acquire_pgrp(void) 
{ 
  long ttpgrp ;
  sigset_t blockset ;
  sigset_t oldset ;
  long lastpgrp ;
  pid_t tmp ;
  ssize_t tmp___0 ;
  pid_t tmp___1 ;
  int tmp___2 ;
  void *__cil_tmp9 ;
  void *__cil_tmp10 ;

  {
  {
#line 2795
  mypgrp = getpgrp();
  }
#line 2795
  if (mypgrp >= 0) {
    {
#line 2796
    lastpgrp = (long )mypgrp;
#line 2797
    sigemptyset(& blockset);
#line 2798
    sigaddset(& blockset, 21);
#line 2799
    sigaddset(& blockset, 22);
#line 2800
    sigaddset(& blockset, 20);
#line 2801
    oldset = signal_block(blockset);
    }
    {
#line 2802
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 2802
      tmp___1 = gettygrp();
#line 2802
      ttpgrp = (long )tmp___1;
      }
#line 2802
      if (ttpgrp != -1L) {
#line 2802
        if (! (ttpgrp != (long )mypgrp)) {
#line 2802
          goto while_break;
        }
      } else {
#line 2802
        goto while_break;
      }
      {
#line 2803
      mypgrp = getpgrp();
      }
#line 2804
      if ((zlong )mypgrp == mypid) {
#line 2805
        if (! opts[92]) {
#line 2806
          goto while_break;
        }
        {
#line 2807
        signal_setmask(oldset);
#line 2808
        attachtty(mypgrp);
#line 2809
        signal_block(blockset);
        }
      }
      {
#line 2811
      tmp = gettygrp();
      }
#line 2811
      if (mypgrp == tmp) {
#line 2812
        goto while_break;
      }
      {
#line 2813
      signal_setmask(oldset);
#line 2814
      tmp___0 = read(0, (void *)0, (size_t )0);
#line 2815
      signal_block(blockset);
#line 2816
      mypgrp = getpgrp();
      }
#line 2817
      if ((long )mypgrp == lastpgrp) {
#line 2817
        if (! opts[92]) {
#line 2818
          goto while_break;
        }
      }
#line 2819
      lastpgrp = (long )mypgrp;
    }
    while_break: /* CIL Label */ ;
    }
#line 2821
    if ((zlong )mypgrp != mypid) {
      {
#line 2822
      tmp___2 = setpgid(0, 0);
      }
#line 2822
      if (tmp___2 == 0) {
        {
#line 2823
        mypgrp = (pid_t )mypid;
#line 2824
        attachtty(mypgrp);
        }
      } else {
#line 2826
        opts[115] = (char)0;
      }
    }
    {
#line 2828
    signal_setmask(oldset);
    }
  } else {
#line 2830
    opts[115] = (char)0;
  }
#line 2831
  return;
}
}
#line 2836 "/home/khheo/testset/zsh-zsh-5.3.1/Src/jobs.c"
void release_pgrp(void) 
{ 


  {
#line 2839
  if (origpgrp != mypgrp) {
#line 2841
    if (origpgrp) {
      {
#line 2842
      attachtty(origpgrp);
#line 2843
      setpgid(0, origpgrp);
      }
    }
#line 2845
    mypgrp = origpgrp;
  }
#line 2847
  return;
}
}
#line 531 "/usr/include/stdio.h"
extern int fgetc(FILE *__stream ) ;
#line 778
extern __off_t ftello(FILE *__stream ) ;
#line 55 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
void histbackword(void) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.epro"
int SHIN  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.epro"
FILE *bshin  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.epro"
int strin  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.epro"
int inbufct  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.epro"
int inbufflags  ;
#line 10
char *shingetline(void) ;
#line 12
void inungetc(int c ) ;
#line 13
int stuff(char *fn___0 ) ;
#line 17
void inpopalias(void) ;
#line 18
char *ingetptr(void) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.pro"
static int inputline(void) ;
#line 3
static void inputsetline(char *str , int flags ) ;
#line 4
static void inpoptop(void) ;
#line 103 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static char *inbuf  ;
#line 104 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static char *inbufptr  ;
#line 105 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static char *inbufpush  ;
#line 106 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static int inbufleft  ;
#line 119 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static struct instacks *instack  ;
#line 119 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static struct instacks *instacktop  ;
#line 130 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static int instacksz  =    4;
#line 136 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
char *shingetline(void) 
{ 
  char *line ;
  int ll ;
  int c ;
  char buf___7[8192] ;
  char *p ;
  int q ;
  sigset_t tmp ;
  sigset_t oset ;
  int *tmp___0 ;
  int *tmp___1 ;
  sigset_t tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  void *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  sigset_t tmp___9 ;
  void *tmp___10 ;
  sigset_t oset___0 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  void *__cil_tmp23 ;
  void *__cil_tmp24 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;

  {
#line 139
  line = (char *)((void *)0);
#line 140
  ll = 0;
#line 144
  q = queueing_enabled;
#line 146
  p = buf___7;
  {
#line 147
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 148
    tmp = signal_mask(28);
#line 148
    signal_unblock(tmp);
    }
    {
#line 149
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 149
      queueing_enabled = 0;
      {
#line 149
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 149
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 149
          if (! (queue_front != queue_rear)) {
#line 149
            goto while_break___2;
          }
          {
#line 149
          queue_front = (queue_front + 1) % 128;
#line 149
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 149
          zhandler(signal_queue[queue_front]);
#line 149
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 149
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 149
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 150
    while (1) {
      while_continue___3: /* CIL Label */ ;
      {
#line 151
      tmp___0 = __errno_location();
#line 151
      *tmp___0 = 0;
#line 152
      c = fgetc(bshin);
      }
#line 150
      if (c < 0) {
        {
#line 150
        tmp___1 = __errno_location();
        }
#line 150
        if (! (*tmp___1 == 4)) {
#line 150
          goto while_break___3;
        }
      } else {
#line 150
        goto while_break___3;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
#line 154
    if (c < 0) {
#line 154
      goto _L;
    } else
#line 154
    if (c == 10) {
      _L: /* CIL Label */ 
      {
#line 155
      tmp___2 = signal_mask(28);
#line 155
      signal_block(tmp___2);
#line 156
      queueing_enabled = q;
      }
#line 157
      if (c == 10) {
#line 158
        tmp___3 = p;
#line 158
        p ++;
#line 158
        *tmp___3 = (char )'\n';
      }
#line 159
      if ((unsigned long )p > (unsigned long )(buf___7)) {
        {
#line 160
        tmp___4 = p;
#line 160
        p ++;
#line 160
        *tmp___4 = (char )'\000';
#line 161
        tmp___5 = zrealloc((void *)line, (size_t )((long )ll + (p - buf___7)));
#line 161
        line = (char *)tmp___5;
#line 162
        memcpy((void */* __restrict  */)(line + ll), (void const   */* __restrict  */)(buf___7),
               (size_t )(p - buf___7));
        }
      }
#line 164
      return (line);
    }
#line 166
    if ((int )typtab[(unsigned char )c] & (1 << 12)) {
#line 167
      tmp___6 = p;
#line 167
      p ++;
#line 167
      *tmp___6 = (char)-125;
#line 168
      tmp___7 = p;
#line 168
      p ++;
#line 168
      *tmp___7 = (char )(c ^ 32);
    } else {
#line 170
      tmp___8 = p;
#line 170
      p ++;
#line 170
      *tmp___8 = (char )c;
    }
#line 171
    if ((unsigned long )p >= (unsigned long )((buf___7 + 8192) - 1)) {
      {
#line 172
      tmp___9 = signal_mask(28);
#line 172
      signal_block(tmp___9);
#line 173
      queueing_enabled ++;
#line 174
      tmp___10 = zrealloc((void *)line, (size_t )(((long )ll + (p - buf___7)) + 1L));
#line 174
      line = (char *)tmp___10;
#line 175
      memcpy((void */* __restrict  */)(line + ll), (void const   */* __restrict  */)(buf___7),
             (size_t )(p - buf___7));
#line 176
      ll = (int )((long )ll + (p - buf___7));
#line 177
      *(line + ll) = (char )'\000';
#line 178
      p = buf___7;
      }
      {
#line 179
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 179
        queueing_enabled --;
#line 179
        if (! queueing_enabled) {
          {
#line 179
          while (1) {
            while_continue___5: /* CIL Label */ ;
            {
#line 179
            while (1) {
              while_continue___6: /* CIL Label */ ;
#line 179
              if (! (queue_front != queue_rear)) {
#line 179
                goto while_break___6;
              }
              {
#line 179
              queue_front = (queue_front + 1) % 128;
#line 179
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 179
              zhandler(signal_queue[queue_front]);
#line 179
              signal_setmask(oset___0);
              }
            }
            while_break___6: /* CIL Label */ ;
            }
#line 179
            goto while_break___5;
          }
          while_break___5: /* CIL Label */ ;
          }
        }
#line 179
        goto while_break___4;
      }
      while_break___4: /* CIL Label */ ;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 189 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
int ingetc(void) 
{ 
  int lastc ;
  char *tmp ;
  int tmp___0 ;

  {
#line 192
  lastc = ' ';
#line 194
  if (lexstop) {
#line 195
    return (' ');
  }
  {
#line 196
  while (1) {
    while_continue: /* CIL Label */ ;
#line 197
    if (inbufleft) {
#line 198
      inbufleft --;
#line 199
      inbufct --;
#line 200
      tmp = inbufptr;
#line 200
      inbufptr ++;
#line 200
      lastc = (int )((unsigned char )*tmp);
#line 200
      if ((int )typtab[(unsigned char )lastc] & (1 << 4)) {
#line 201
        goto __Cont;
      }
#line 202
      if (inbufflags & (1 << 6)) {
#line 202
        goto _L;
      } else
#line 202
      if (! strin) {
        _L: /* CIL Label */ 
#line 202
        if (lastc == 10) {
#line 203
          lineno ++;
        }
      }
#line 204
      goto while_break;
    }
#line 214
    if (! inbufct) {
#line 214
      if (strin) {
#line 215
        lexstop = 1;
#line 216
        goto while_break;
      } else
#line 214
      if (errflag) {
#line 215
        lexstop = 1;
#line 216
        goto while_break;
      }
    }
#line 221
    if (inbufflags & (1 << 3)) {
      {
#line 222
      inpoptop();
      }
#line 223
      goto __Cont;
    }
    {
#line 226
    tmp___0 = inputline();
    }
#line 226
    if (tmp___0) {
#line 227
      goto while_break;
    }
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 229
  if (! lexstop) {
    {
#line 230
    zshlex_raw_add(lastc);
    }
  }
#line 231
  return (lastc);
}
}
#line 237 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static int inputline(void) 
{ 
  char *ingetcline ;
  char **ingetcpmptl ;
  char **ingetcpmptr ;
  int context ;
  char *pptbuf ;
  int pptlen ;
  char *tmp ;
  char *tmp___0 ;
  int flags ;
  char *stripptr ;
  size_t tmp___1 ;
  int ct ;
  char *ptr___0 ;
  size_t tmp___2 ;
  char *oinbuf ;
  int newlen ;
  size_t tmp___3 ;
  int oldlen ;
  void *tmp___4 ;
  void *tmp___5 ;

  {
#line 240
  ingetcpmptl = (char **)((void *)0);
#line 240
  ingetcpmptr = (char **)((void *)0);
#line 241
  context = 0;
#line 244
  if (opts[92]) {
#line 244
    if (opts[159]) {
#line 245
      if (! isfirstln) {
#line 246
        ingetcpmptl = & prompt2;
#line 247
        if (rprompt2) {
#line 248
          ingetcpmptr = & rprompt2;
        }
#line 249
        context = 1;
      } else {
#line 252
        ingetcpmptl = & prompt;
#line 253
        if (rprompt) {
#line 254
          ingetcpmptr = & rprompt;
        }
      }
    }
  }
#line 257
  if (opts[92]) {
#line 257
    if (opts[159]) {
#line 257
      if (SHTTY != -1) {
#line 257
        if (opts[176]) {
#line 290
          flags = 3;
#line 291
          if (opts[89]) {
#line 292
            flags |= 4;
          }
          {
#line 293
          ingetcline = zleentry(1, ingetcpmptl, ingetcpmptr, flags, context);
#line 295
          histdone |= 8;
          }
        } else {
#line 257
          goto _L___1;
        }
      } else {
#line 257
        goto _L___1;
      }
    } else {
#line 257
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
#line 264
    if (opts[92]) {
#line 264
      if (opts[159]) {
#line 273
        if (ingetcpmptl) {
#line 273
          tmp = *ingetcpmptl;
        } else {
#line 273
          tmp = (char *)((void *)0);
        }
        {
#line 273
        tmp___0 = promptexpand(tmp, 0, (char *)((void *)0), (char *)((void *)0), (unsigned int *)((void *)0));
#line 273
        pptbuf = unmetafy(tmp___0, & pptlen);
#line 275
        write_loop(2, (char const   *)pptbuf, (size_t )pptlen);
#line 276
        free((void *)pptbuf);
        }
      }
    }
    {
#line 278
    ingetcline = shingetline();
    }
  }
#line 297
  if (! ingetcline) {
#line 298
    lexstop = 1;
#line 298
    return (lexstop);
  }
#line 300
  if (errflag) {
    {
#line 301
    free((void *)ingetcline);
#line 302
    errflag |= 1;
#line 303
    lexstop = 1;
    }
#line 303
    return (lexstop);
  }
#line 305
  if (opts[172]) {
    {
#line 307
    zputs((char const   *)ingetcline, stderr);
#line 308
    fflush(stderr);
    }
  }
#line 310
  if (keyboardhackchar) {
#line 310
    if (*ingetcline) {
      {
#line 310
      tmp___2 = strlen((char const   *)ingetcline);
      }
#line 310
      if ((int )*(ingetcline + (tmp___2 - 1UL)) == 10) {
#line 310
        if (opts[92]) {
#line 310
          if (opts[159]) {
#line 310
            if (SHTTY != -1) {
#line 310
              if (*(ingetcline + 1)) {
                {
#line 315
                tmp___1 = strlen((char const   *)ingetcline);
#line 315
                stripptr = (ingetcline + tmp___1) - 2;
                }
#line 316
                if ((int )*stripptr == (int )keyboardhackchar) {
#line 319
                  ct = 1;
#line 322
                  if ((int )keyboardhackchar == 39) {
#line 322
                    goto _L___2;
                  } else
#line 322
                  if ((int )keyboardhackchar == 34) {
#line 322
                    goto _L___2;
                  } else
#line 322
                  if ((int )keyboardhackchar == 96) {
                    _L___2: /* CIL Label */ 
#line 328
                    ct = 0;
#line 328
                    ptr___0 = ingetcline;
                    {
#line 328
                    while (1) {
                      while_continue: /* CIL Label */ ;
#line 328
                      if (! *ptr___0) {
#line 328
                        goto while_break;
                      }
#line 329
                      if ((int )*ptr___0 == (int )keyboardhackchar) {
#line 330
                        ct ++;
                      }
#line 328
                      ptr___0 ++;
                    }
                    while_break: /* CIL Label */ ;
                    }
                  }
#line 332
                  if (ct & 1) {
#line 333
                    *(stripptr + 0) = (char )'\n';
#line 334
                    *(stripptr + 1) = (char )'\000';
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 338
  isfirstch = 1;
#line 339
  if (inbufflags & (1 << 7)) {
#line 339
    if (inbuf) {
      {
#line 352
      oinbuf = inbuf;
#line 353
      tmp___3 = strlen((char const   *)ingetcline);
#line 353
      newlen = (int )tmp___3;
#line 354
      oldlen = (int )(inbufptr - inbuf) + inbufleft;
      }
#line 355
      if (inbufflags & 1) {
        {
#line 356
        tmp___4 = realloc((void *)inbuf, (size_t )((oldlen + newlen) + 1));
#line 356
        inbuf = (char *)tmp___4;
        }
      } else {
        {
#line 358
        tmp___5 = zalloc((size_t )((oldlen + newlen) + 1));
#line 358
        inbuf = (char *)tmp___5;
#line 359
        memcpy((void */* __restrict  */)inbuf, (void const   */* __restrict  */)oinbuf,
               (size_t )oldlen);
        }
      }
      {
#line 361
      inbufptr += inbuf - oinbuf;
#line 362
      strcpy((char */* __restrict  */)(inbuf + oldlen), (char const   */* __restrict  */)ingetcline);
#line 363
      free((void *)ingetcline);
#line 364
      inbufleft += newlen;
#line 365
      inbufct += newlen;
#line 366
      inbufflags |= 1;
      }
    } else {
      {
#line 369
      inputsetline(ingetcline, 1);
      }
    }
  } else {
    {
#line 369
    inputsetline(ingetcline, 1);
    }
  }
#line 372
  return (0);
}
}
#line 381 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static void inputsetline(char *str , int flags ) 
{ 
  size_t tmp ;
  sigset_t oset ;
  void *__cil_tmp5 ;

  {
#line 384
  queueing_enabled ++;
#line 386
  if (inbufflags & 1) {
#line 386
    if (inbuf) {
      {
#line 387
      free((void *)inbuf);
      }
    }
  }
  {
#line 389
  inbufptr = str;
#line 389
  inbuf = inbufptr;
#line 390
  tmp = strlen((char const   *)inbuf);
#line 390
  inbufleft = (int )tmp;
  }
#line 398
  if (flags & (1 << 3)) {
#line 399
    inbufct += inbufleft;
  } else {
#line 401
    inbufct = inbufleft;
  }
#line 402
  inbufflags = flags;
  {
#line 404
  while (1) {
    while_continue: /* CIL Label */ ;
#line 404
    queueing_enabled --;
#line 404
    if (! queueing_enabled) {
      {
#line 404
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 404
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 404
          if (! (queue_front != queue_rear)) {
#line 404
            goto while_break___1;
          }
          {
#line 404
          queue_front = (queue_front + 1) % 128;
#line 404
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 404
          zhandler(signal_queue[queue_front]);
#line 404
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 404
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 404
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 405
  return;
}
}
#line 417 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
void inungetc(int c ) 
{ 
  char *cback ;
  void *tmp ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 420
  if (! lexstop) {
#line 421
    if ((unsigned long )inbufptr != (unsigned long )inbuf) {
#line 430
      inbufptr --;
#line 431
      inbufct ++;
#line 432
      inbufleft ++;
#line 433
      if (inbufflags & (1 << 6)) {
#line 433
        goto _L;
      } else
#line 433
      if (! strin) {
        _L: /* CIL Label */ 
#line 433
        if (c == 10) {
#line 434
          lineno --;
        }
      }
    } else
#line 436
    if (! (inbufflags & (1 << 3))) {
      {
#line 441
      zerr("Garbled input at %c (binary file as commands?)", c);
      }
#line 442
      return;
    } else {
      {
#line 451
      tmp = zshcalloc((size_t )2);
#line 451
      cback = (char *)tmp;
#line 452
      *(cback + 0) = (char )c;
#line 453
      inpush(cback, 1 | (1 << 3), (Alias )((void *)0));
      }
    }
#line 459
    if ((unsigned long )inbufptr == (unsigned long )inbufpush) {
#line 459
      if (inbufflags & ((1 << 4) | (1 << 5))) {
        {
#line 465
        while (1) {
          while_continue: /* CIL Label */ ;
#line 466
          if (instacktop->alias) {
#line 467
            (instacktop->alias)->inuse = 1;
          }
#line 468
          instacktop ++;
#line 465
          if (instacktop->flags & ((1 << 4) | (1 << 5))) {
#line 465
            if (! (! instacktop->bufleft)) {
#line 465
              goto while_break;
            }
          } else {
#line 465
            goto while_break;
          }
        }
        while_break: /* CIL Label */ ;
        }
#line 471
        if (inbufflags & (1 << 5)) {
#line 472
          inbufflags = ((1 << 3) | (1 << 1)) | (1 << 2);
        } else {
#line 474
          inbufflags = (1 << 3) | (1 << 1);
        }
#line 475
        inbufleft = 0;
#line 476
        inbufptr = (char *)"";
#line 476
        inbuf = inbufptr;
      }
    }
    {
#line 478
    zshlex_raw_back();
    }
  }
#line 480
  return;
}
}
#line 485 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
int stuff(char *fn___0 ) 
{ 
  FILE *in ;
  char *buf___7 ;
  off_t len ;
  char *tmp ;
  void *tmp___0 ;
  size_t tmp___1 ;
  char *tmp___2 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
  {
#line 492
  tmp = unmeta((char const   *)fn___0);
#line 492
  in = fopen((char const   */* __restrict  */)tmp, (char const   */* __restrict  */)"r");
  }
#line 492
  if (! in) {
    {
#line 493
    zerr("can\'t open %s", fn___0);
    }
#line 494
    return (1);
  }
  {
#line 496
  fseeko(in, (__off_t )0, 2);
#line 497
  len = ftello(in);
#line 498
  fseeko(in, (__off_t )0, 0);
#line 499
  tmp___0 = zalloc((size_t )(len + 1L));
#line 499
  buf___7 = (char *)tmp___0;
#line 500
  tmp___1 = fread((void */* __restrict  */)buf___7, (size_t )len, (size_t )1, (FILE */* __restrict  */)in);
  }
#line 500
  if (! tmp___1) {
    {
#line 501
    zerr("read error on %s", fn___0);
#line 502
    fclose(in);
#line 503
    zfree((void *)buf___7, (int )(len + 1L));
    }
#line 504
    return (1);
  }
  {
#line 506
  fclose(in);
#line 507
  *(buf___7 + len) = (char )'\000';
#line 508
  fwrite((void const   */* __restrict  */)buf___7, (size_t )len, (size_t )1, (FILE */* __restrict  */)stderr);
#line 509
  fflush(stderr);
#line 510
  tmp___2 = metafy(buf___7, (int )len, 0);
#line 510
  inputsetline(tmp___2, 1);
  }
#line 511
  return (0);
}
}
#line 517 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
void inerrflush(void) 
{ 


  {
  {
#line 520
  while (1) {
    while_continue: /* CIL Label */ ;
#line 520
    if (! lexstop) {
#line 520
      if (! inbufct) {
#line 520
        goto while_break;
      }
    } else {
#line 520
      goto while_break;
    }
    {
#line 521
    ingetc();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 522
  return;
}
}
#line 527 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
void inpush(char *str , int flags , Alias inalias ) 
{ 
  void *tmp ;
  Alias tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;

  {
#line 530
  if (! instack) {
    {
#line 532
    tmp = zalloc((unsigned long )instacksz * sizeof(struct instacks ));
#line 532
    instack = (struct instacks *)tmp;
#line 533
    instacktop = instack;
    }
  }
#line 536
  instacktop->buf = inbuf;
#line 537
  instacktop->bufptr = inbufptr;
#line 538
  instacktop->bufleft = inbufleft;
#line 539
  instacktop->bufct = inbufct;
#line 540
  inbufflags &= ~ ((1 << 4) | (1 << 5));
#line 541
  if (flags & ((1 << 1) | (1 << 2))) {
#line 548
    flags |= (1 << 3) | (1 << 1);
#line 549
    if (flags & (1 << 2)) {
#line 550
      instacktop->flags = inbufflags | (1 << 5);
    } else {
#line 552
      instacktop->flags = inbufflags | (1 << 4);
    }
#line 553
    tmp___0 = inalias;
#line 553
    instacktop->alias = tmp___0;
#line 553
    if (tmp___0) {
#line 554
      inalias->inuse = 1;
    }
  } else {
#line 559
    tmp___1 = inbufflags;
#line 559
    instacktop->flags = tmp___1;
#line 559
    if (tmp___1 & (1 << 1)) {
#line 559
      if (flags & (1 << 3)) {
#line 561
        flags |= 1 << 1;
      }
    }
  }
#line 564
  instacktop ++;
#line 565
  if ((unsigned long )instacktop == (unsigned long )(instack + instacksz)) {
    {
#line 567
    tmp___2 = realloc((void *)instack, (unsigned long )(instacksz + 4) * sizeof(struct instacks ));
#line 567
    instack = (struct instacks *)tmp___2;
#line 570
    instacktop = instack + instacksz;
#line 571
    instacksz += 4;
    }
  }
  {
#line 577
  instacktop->flags = 0;
#line 579
  inbuf = (char *)((void *)0);
#line 579
  inbufpush = inbuf;
#line 581
  inputsetline(str, flags);
  }
#line 582
  return;
}
}
#line 587 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
static void inpoptop(void) 
{ 
  char *t ;
  size_t tmp ;

  {
#line 590
  if (! lexstop) {
#line 591
    inbufflags &= ~ ((1 << 4) | (1 << 5));
    {
#line 592
    while (1) {
      while_continue: /* CIL Label */ ;
#line 592
      if (! ((unsigned long )inbufptr > (unsigned long )inbuf)) {
#line 592
        goto while_break;
      }
#line 593
      inbufptr --;
#line 594
      inbufct ++;
#line 595
      inbufleft ++;
#line 603
      if ((inbufflags & (((1 << 1) | (1 << 2)) | (1 << 8))) == 1 << 1) {
        {
#line 604
        zshlex_raw_back();
        }
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 608
  if (inbuf) {
#line 608
    if (inbufflags & 1) {
      {
#line 609
      free((void *)inbuf);
      }
    }
  }
#line 611
  instacktop --;
#line 613
  inbuf = instacktop->buf;
#line 614
  inbufpush = instacktop->bufptr;
#line 614
  inbufptr = inbufpush;
#line 615
  inbufleft = instacktop->bufleft;
#line 616
  inbufct = instacktop->bufct;
#line 617
  inbufflags = instacktop->flags;
#line 619
  if (! (inbufflags & ((1 << 4) | (1 << 5)))) {
#line 620
    return;
  }
#line 622
  if (instacktop->alias) {
#line 623
    t = (instacktop->alias)->text;
#line 625
    (instacktop->alias)->inuse = 0;
#line 626
    if (*t) {
      {
#line 626
      tmp = strlen((char const   *)t);
      }
#line 626
      if ((int )*(t + (tmp - 1UL)) == 32) {
        {
#line 627
        inalmore = 1;
#line 628
        histbackword();
        }
      }
    }
  }
#line 631
  return;
}
}
#line 636 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
void inpop(void) 
{ 
  int remcont ;

  {
  {
#line 641
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 642
    remcont = inbufflags & (1 << 3);
#line 644
    inpoptop();
    }
#line 641
    if (! remcont) {
#line 641
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 646
  return;
}
}
#line 655 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
void inpopalias(void) 
{ 


  {
  {
#line 658
  while (1) {
    while_continue: /* CIL Label */ ;
#line 658
    if (! (inbufflags & (1 << 1))) {
#line 658
      goto while_break;
    }
    {
#line 659
    inpoptop();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 660
  return;
}
}
#line 668 "/home/khheo/testset/zsh-zsh-5.3.1/Src/input.c"
char *ingetptr(void) 
{ 


  {
#line 671
  return (inbufptr);
}
}
#line 417 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) pipe)(int *__pipedes ) ;
#line 631
extern  __attribute__((__nothrow__)) __pid_t ( __attribute__((__leaf__)) getppid)(void) ;
#line 770
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) ttyname)(int __fd ) ;
#line 168 "/usr/include/stdio.h"
extern struct _IO_FILE *stdin ;
#line 336
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) setvbuf)(FILE * __restrict  __stream ,
                                                                              char * __restrict  __buf ,
                                                                              int __modes ,
                                                                              size_t __n ) ;
#line 826
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) clearerr)(FILE *__stream ) ;
#line 830
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) ferror)(FILE *__stream ) ;
#line 50 "/usr/include/x86_64-linux-gnu/sys/resource.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) getrlimit)(__rlimit_resource_t __resource ,
                                                                                struct rlimit *__rlimits ) ;
#line 763 "/home/khheo/.linuxbrew/include/ncursesw/term.h"
extern char *tgetstr(char const   * , char ** ) ;
#line 765
extern int tgetent(char * , char const   * ) ;
#line 766
extern int tgetflag(char const   * ) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
void createbuiltintable(void) ;
#line 7
void init_builtins(void) ;
#line 38
int exit_pending ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/compat.epro"
long zopenmax(void) ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int nohistsave ;
#line 30
struct rlimit current_limits[16] ;
#line 31
struct rlimit limits[16] ;
#line 43
void execstring(char *s , int dont_change_job , int exiting , char *context ) ;
#line 23 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
void createcmdnamtable(void) ;
#line 26
void createshfunctable(void) ;
#line 31
void createreswdtable(void) ;
#line 35
void createaliastables(void) ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.epro"
void createnameddirtable(void) ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
struct histent curline ;
#line 19
Histent hist_ring ;
#line 43
void hbegin(int dohist ) ;
#line 52
int hend(Eprog prog ) ;
#line 69
void inithist(void) ;
#line 71
void readhistfile(char *fn___0 , int err , int readflags ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int noexitct ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
char *zunderscore  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int underscorelen  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int underscoreused  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int sourcelevel  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int SHTTY  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
FILE *shout  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
char *tcstr[34]  ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int tclen[34]  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int tclines  ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int tccolumns  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int hasam  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int hasbw  ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int hasxn  ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int hasye  ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int tccolours  ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
sigset_t sigchld_mask  ;
#line 23
enum loop_return loop(int toplevel , int justonce ) ;
#line 24
int parseopts(char *nam , char ***argvp , char *new_opts , char **cmdp , LinkList optlist ) ;
#line 25
void init_io(char *cmd ) ;
#line 26
void init_shout(void) ;
#line 27
char *tccap_get_name(int cap ) ;
#line 29
void setupvals(char *cmd , char *runscript , char *zsh_name ) ;
#line 30
void init_signals(void) ;
#line 31
void run_init_scripts(void) ;
#line 32
void init_misc(char *cmd , char *zsh_name ) ;
#line 33
enum source_return source(char *s ) ;
#line 34
void sourcehome(char *s ) ;
#line 35
void init_bltinmods(void) ;
#line 36
void noop_function(void) ;
#line 37
void noop_function_int(int nothing  __attribute__((__unused__)) ) ;
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
char *(*zle_entry_ptr)(int cmd , va_list ap )  ;
#line 39 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int zle_load_state  ;
#line 41
int (*compctlreadptr)(char * , char ** , Options  , char * ) ;
#line 42
int fallback_compctlread(char *name , char **args  __attribute__((__unused__)) , Options ops  __attribute__((__unused__)) ,
                         char *reply  __attribute__((__unused__)) ) ;
#line 43 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.epro"
int use_exit_printed  ;
#line 44
int zsh_main(int argc  __attribute__((__unused__)) , char **argv ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.pro"
static void parseargs(char **argv , char **runscript , char **cmdptr ) ;
#line 3
static void parseopts_insert(LinkList optlist , char *base , int optno ) ;
#line 4
static void printhelp(void) ;
#line 40 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
int noexitct  =    0;
#line 93 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
struct hookdef zshhooks[3]  = {      {(Hookdef )((void *)0), (char *)"exit", (int (*)(Hookdef  , void * ))((void *)0),
      1, (LinkList )((void *)0)}, 
        {(Hookdef )((void *)0), (char *)"before_trap", (int (*)(Hookdef  , void * ))((void *)0),
      1, (LinkList )((void *)0)}, 
        {(Hookdef )((void *)0), (char *)"after_trap", (int (*)(Hookdef  , void * ))((void *)0),
      1, (LinkList )((void *)0)}};
#line 102 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
enum loop_return loop(int toplevel , int justonce ) 
{ 
  Eprog prog ;
  int err ;
  int non_empty ;
  int hstop ;
  enum lextok toksav ;
  LinkList args ;
  char *cmdstr ;
  char *tmp ;
  char *tmp___0 ;
  Shfunc tmp___1 ;
  HashNode tmp___2 ;
  char const   *tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  sigset_t oset ;
  sigset_t oset___0 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;

  {
  {
#line 106
  non_empty = 0;
#line 108
  queueing_enabled ++;
#line 109
  pushheap();
  }
#line 110
  if (! toplevel) {
    {
#line 111
    zcontext_save();
    }
  }
  {
#line 112
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 113
    freeheap();
    }
#line 114
    if (stophist == 3) {
      {
#line 115
      hend((Eprog )((void *)0));
      }
    }
    {
#line 116
    hbegin(1);
    }
#line 117
    if (opts[159]) {
      {
#line 118
      setblock_stdin();
      }
#line 119
      if (opts[92]) {
#line 119
        if (toplevel) {
          {
#line 120
          hstop = stophist;
#line 121
          stophist = 3;
#line 129
          errflag = 0;
#line 130
          preprompt();
          }
#line 131
          if (stophist != 3) {
            {
#line 132
            hbegin(1);
            }
          } else {
#line 134
            stophist = hstop;
          }
#line 140
          errflag = 0;
        }
      }
    }
    {
#line 143
    use_exit_printed = 0;
#line 144
    intr();
#line 145
    lexinit();
#line 146
    prog = parse_event(37);
    }
#line 146
    if (! prog) {
      {
#line 148
      hend((Eprog )((void *)0));
      }
#line 149
      if ((unsigned int )tok == 37U) {
#line 149
        if (! errflag) {
#line 152
          goto while_break;
        } else {
#line 149
          goto _L___0;
        }
      } else
      _L___0: /* CIL Label */ 
#line 149
      if ((unsigned int )tok == 38U) {
#line 149
        if (! opts[159]) {
#line 152
          goto while_break;
        } else
#line 149
        if (! toplevel) {
#line 152
          goto while_break;
        } else {
#line 149
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 149
      if (justonce) {
#line 152
        goto while_break;
      }
#line 153
      if (exit_pending) {
        {
#line 159
        stopmsg = 1;
#line 160
        zexit(exit_pending >> 1, 0);
        }
      }
#line 162
      if ((unsigned int )tok == 38U) {
#line 162
        if (! lastval) {
#line 163
          lastval = (zlong )1;
        }
      }
#line 164
      goto __Cont;
    }
    {
#line 166
    tmp___4 = hend(prog);
    }
#line 166
    if (tmp___4) {
#line 167
      toksav = tok;
#line 169
      non_empty = 1;
#line 170
      if (toplevel) {
        {
#line 170
        tmp___1 = getshfunc((char *)"preexec");
        }
#line 170
        if (tmp___1) {
#line 170
          goto _L___1;
        } else {
          {
#line 170
          tmp___2 = (*(paramtab->getnode))(paramtab, "preexec_functions");
          }
#line 170
          if (tmp___2) {
            _L___1: /* CIL Label */ 
            {
#line 181
            args = newlinklist();
#line 182
            insertlinknode(args, args->list.last, (void *)"preexec");
            }
#line 185
            if (hist_ring) {
#line 185
              if (curline.histnum == curhist) {
                {
#line 186
                insertlinknode(args, args->list.last, (void *)hist_ring->node.nam);
                }
              } else {
                {
#line 188
                insertlinknode(args, args->list.last, (void *)"");
                }
              }
            } else {
              {
#line 188
              insertlinknode(args, args->list.last, (void *)"");
              }
            }
            {
#line 189
            tmp = getjobtext(prog, (Wordcode )((void *)0));
#line 189
            tmp___0 = dupstring((char const   *)tmp);
#line 189
            insertlinknode(args, args->list.last, (void *)tmp___0);
#line 190
            cmdstr = getpermtext(prog, (Wordcode )((void *)0), 0);
#line 190
            insertlinknode(args, args->list.last, (void *)cmdstr);
#line 192
            callhookfunc((char *)"preexec", args, 1, (int *)((void *)0));
#line 195
            zsfree(cmdstr);
#line 204
            errflag &= -2;
            }
          }
        }
      }
#line 206
      if (stopmsg) {
#line 207
        stopmsg --;
      }
#line 208
      if (toplevel) {
#line 208
        tmp___3 = "toplevel";
      } else {
#line 208
        tmp___3 = "file";
      }
      {
#line 208
      execode(prog, 0, 0, (char *)tmp___3);
#line 209
      tok = toksav;
      }
#line 210
      if (toplevel) {
#line 211
        noexitct = 0;
      }
    }
    {
#line 213
    tmp___5 = ferror(stderr);
    }
#line 213
    if (tmp___5) {
      {
#line 214
      zerr("write error");
#line 215
      clearerr(stderr);
      }
    }
#line 217
    if (subsh) {
      {
#line 218
      exit((int )lastval);
      }
    }
#line 219
    if (! opts[92]) {
#line 219
      goto _L___3;
    } else
#line 219
    if (sourcelevel) {
      _L___3: /* CIL Label */ 
#line 219
      if (errflag) {
#line 220
        goto while_break;
      } else {
#line 219
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 219
    if (retflag) {
#line 220
      goto while_break;
    }
#line 221
    if (opts[164]) {
#line 221
      if (toplevel) {
        {
#line 222
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 222
          queueing_enabled = 0;
          {
#line 222
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 222
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 222
              if (! (queue_front != queue_rear)) {
#line 222
                goto while_break___2;
              }
              {
#line 222
              queue_front = (queue_front + 1) % 128;
#line 222
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 222
              zhandler(signal_queue[queue_front]);
#line 222
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 222
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 222
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 223
        if (sigtrapped[0]) {
          {
#line 224
          dotrap(0);
          }
        }
        {
#line 225
        exit((int )lastval);
        }
      }
    }
#line 227
    if (justonce) {
#line 228
      goto while_break;
    }
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 230
  err = errflag;
#line 231
  if (! toplevel) {
    {
#line 232
    zcontext_restore();
    }
  }
  {
#line 233
  popheap();
  }
  {
#line 234
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 234
    queueing_enabled --;
#line 234
    if (! queueing_enabled) {
      {
#line 234
      while (1) {
        while_continue___4: /* CIL Label */ ;
        {
#line 234
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 234
          if (! (queue_front != queue_rear)) {
#line 234
            goto while_break___5;
          }
          {
#line 234
          queue_front = (queue_front + 1) % 128;
#line 234
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 234
          zhandler(signal_queue[queue_front]);
#line 234
          signal_setmask(oset___0);
          }
        }
        while_break___5: /* CIL Label */ ;
        }
#line 234
        goto while_break___4;
      }
      while_break___4: /* CIL Label */ ;
      }
    }
#line 234
    goto while_break___3;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 236
  if (err) {
#line 237
    return ((enum loop_return )2);
  }
#line 238
  if (! non_empty) {
#line 239
    return ((enum loop_return )1);
  }
#line 240
  return ((enum loop_return )0);
}
}
#line 243 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static int restricted  ;
#line 246 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static void parseargs(char **argv , char **runscript , char **cmdptr ) 
{ 
  char **x ;
  LinkList paramlist ;
  char **tmp ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  char **tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  void *tmp___8 ;
  char **tmp___9 ;
  char *tmp___10 ;
  void *tmp___11 ;

  {
  {
#line 252
  tmp = argv;
#line 252
  argv ++;
#line 252
  posixzero = *tmp;
#line 252
  argzero = posixzero;
#line 253
  SHIN = 0;
#line 262
  tmp___1 = isatty(0);
  }
#line 262
  if (tmp___1) {
#line 262
    opts[92] = (char)2;
  } else {
#line 262
    opts[92] = (char)0;
  }
  {
#line 267
  opts[115] = (char)2;
#line 268
  opts[67] = (char)2;
#line 269
  opts[176] = (char)1;
#line 270
  opts[159] = (char)0;
#line 271
  opts[164] = (char)0;
#line 273
  tmp___2 = parseopts((char *)((void *)0), & argv, opts, cmdptr, (LinkList )((void *)0));
  }
#line 273
  if (tmp___2) {
    {
#line 274
    exit(1);
    }
  }
#line 284
  if (opts[159]) {
#line 285
    if (opts[176]) {
      {
#line 285
      tmp___3 = isatty(0);
      }
#line 285
      if (tmp___3) {
#line 285
        tmp___4 = 1;
      } else {
#line 285
        tmp___4 = 0;
      }
    } else {
#line 285
      tmp___4 = 0;
    }
#line 285
    opts[176] = (char )tmp___4;
  }
  {
#line 287
  paramlist = znewlinklist();
  }
#line 288
  if (*argv) {
#line 289
    if (! opts[159]) {
#line 290
      posixzero = *argv;
#line 291
      if (*cmdptr) {
#line 292
        argzero = *argv;
      } else {
#line 294
        *runscript = *argv;
      }
#line 295
      opts[92] = (char )((int )opts[92] & 1);
#line 296
      argv ++;
    }
    {
#line 298
    while (1) {
      while_continue: /* CIL Label */ ;
#line 298
      if (! *argv) {
#line 298
        goto while_break;
      }
      {
#line 299
      tmp___5 = argv;
#line 299
      argv ++;
#line 299
      tmp___6 = ztrdup((char const   *)*tmp___5);
#line 299
      zinsertlinknode(paramlist, paramlist->list.last, (void *)tmp___6);
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else
#line 300
  if (! *cmdptr) {
#line 301
    opts[159] = (char)1;
  }
#line 302
  if (opts[164]) {
#line 303
    opts[92] = (char )((int )opts[92] & 1);
  }
#line 304
  opts[92] = (char )(! (! opts[92]));
#line 305
  if ((int )opts[115] == 2) {
#line 306
    opts[115] = opts[92];
  }
#line 307
  if ((int )opts[67] == 2) {
#line 308
    opts[67] = opts[92];
  }
  {
#line 309
  tmp___7 = countlinknodes(paramlist);
#line 309
  tmp___8 = zshcalloc((unsigned long )(tmp___7 + 1) * sizeof(char *));
#line 309
  x = (char **)tmp___8;
#line 309
  pparams = x;
  }
  {
#line 311
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 311
    tmp___9 = x;
#line 311
    x ++;
#line 311
    tmp___11 = getlinknode(paramlist);
#line 311
    tmp___10 = (char *)tmp___11;
#line 311
    *tmp___9 = tmp___10;
    }
#line 311
    if (! tmp___10) {
#line 311
      goto while_break___0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 312
  free((void *)paramlist);
#line 313
  argzero = ztrdup((char const   *)argzero);
#line 314
  posixzero = ztrdup((char const   *)posixzero);
  }
#line 315
  return;
}
}
#line 320 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static void parseopts_insert(LinkList optlist , char *base , int optno ) 
{ 
  LinkNode node ;
  void *ptr___0 ;
  int tmp ;

  {
#line 324
  if (optno < 0) {
#line 324
    tmp = - optno;
  } else {
#line 324
    tmp = optno;
  }
#line 324
  ptr___0 = (void *)(base + tmp);
#line 326
  node = optlist->list.first;
  {
#line 326
  while (1) {
    while_continue: /* CIL Label */ ;
#line 326
    if (! node) {
#line 326
      goto while_break;
    }
#line 327
    if ((unsigned long )ptr___0 < (unsigned long )node->dat) {
      {
#line 328
      insertlinknode(optlist, node->prev, ptr___0);
      }
#line 329
      return;
    }
#line 326
    node = node->next;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 333
  insertlinknode(optlist, optlist->list.last, ptr___0);
  }
#line 334
  return;
}
}
#line 346 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
int parseopts(char *nam , char ***argvp , char *new_opts , char **cmdp , LinkList optlist ) 
{ 
  int optionbreak ;
  int action ;
  int optno ;
  char **argv ;
  char *args ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  unsigned short const   **tmp___2 ;
  int tmp___3 ;
  unsigned short const   **tmp___4 ;
  char **tmp___5 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;

  {
#line 350
  optionbreak = 0;
#line 352
  argv = *argvp;
#line 354
  *cmdp = (char *)0;
  {
#line 372
  while (1) {
    while_continue: /* CIL Label */ ;
#line 372
    if (! optionbreak) {
#line 372
      if (*argv) {
#line 372
        if (! ((int )*(*argv) == 45)) {
#line 372
          if (! ((int )*(*argv) == 43)) {
#line 372
            goto while_break;
          }
        }
      } else {
#line 372
        goto while_break;
      }
    } else {
#line 372
      goto while_break;
    }
#line 373
    args = *argv;
#line 374
    action = (int )*(*argv) == 45;
#line 375
    if (! *(*(argv + 0) + 1)) {
#line 376
      *argv = (char *)"--";
    }
    {
#line 377
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 377
      (*argv) ++;
#line 377
      if (! *(*argv)) {
#line 377
        goto while_break___0;
      }
#line 378
      if ((int )*(*argv) == 45) {
#line 379
        if (! *(*(argv + 0) + 1)) {
#line 381
          argv ++;
#line 382
          goto doneoptions;
        }
#line 384
        if ((unsigned long )*argv != (unsigned long )(args + 1)) {
#line 385
          goto badoptionstring;
        } else
#line 384
        if ((int )*(*argv) != 45) {
#line 385
          goto badoptionstring;
        }
        {
#line 387
        (*argv) ++;
#line 388
        tmp = strcmp((char const   *)*argv, "version");
        }
#line 388
        if (! tmp) {
          {
#line 389
          printf((char const   */* __restrict  */)"zsh %s (%s-%s-%s)\n", "5.3.1",
                 "x86_64", "unknown", "linux-gnu");
          }
          {
#line 391
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 391
            if (nam) {
#line 391
              if (*argv) {
#line 391
                argv ++;
              }
#line 391
              goto doneargv;
            } else {
              {
#line 391
              exit(0);
              }
            }
#line 391
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
        {
#line 393
        tmp___0 = strcmp((char const   *)*argv, "help");
        }
#line 393
        if (! tmp___0) {
          {
#line 394
          printhelp();
          }
          {
#line 395
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 395
            if (nam) {
#line 395
              if (*argv) {
#line 395
                argv ++;
              }
#line 395
              goto doneargv;
            } else {
              {
#line 395
              exit(0);
              }
            }
#line 395
            goto while_break___2;
          }
          while_break___2: /* CIL Label */ ;
          }
        }
#line 398
        args = *argv;
        {
#line 398
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 398
          if (! *args) {
#line 398
            goto while_break___3;
          }
#line 399
          if ((int )*args == 45) {
#line 400
            *args = (char )'_';
          }
#line 398
          args ++;
        }
        while_break___3: /* CIL Label */ ;
        }
#line 401
        goto longoptions;
      }
#line 404
      if (! opts[161]) {
#line 404
        if ((int )*(*argv) == 98) {
#line 406
          optionbreak = 1;
        } else {
#line 404
          goto _L___7;
        }
      } else
      _L___7: /* CIL Label */ 
#line 407
      if ((int )*(*argv) == 99) {
        {
#line 409
        *cmdp = *argv;
#line 410
        *(new_opts + 92) = (char )((int )*(new_opts + 92) & 1);
#line 411
        scriptfilename = ztrdup("zsh");
#line 411
        scriptname = scriptfilename;
        }
      } else
#line 412
      if ((int )*(*argv) == 111) {
#line 413
        (*argv) ++;
#line 413
        if (! *(*argv)) {
#line 414
          argv ++;
        }
#line 415
        if (! *argv) {
          {
#line 416
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 416
            if (nam) {
              {
#line 416
              zwarnnam((char const   *)nam, "string expected after -o", (void *)0);
              }
            } else {
              {
#line 416
              zerr("string expected after -o", (void *)0);
              }
            }
#line 416
            goto while_break___4;
          }
          while_break___4: /* CIL Label */ ;
          }
#line 417
          return (1);
        }
        longoptions: 
        {
#line 420
        optno = optlookup((char const   *)*argv);
        }
#line 420
        if (optno) {
#line 423
          if (optno == 153) {
#line 423
            if (! nam) {
#line 424
              restricted = action;
            } else {
#line 423
              goto _L___2;
            }
          } else
          _L___2: /* CIL Label */ 
#line 425
          if (optno == 47) {
#line 425
            goto _L___1;
          } else
#line 425
          if (optno == 173) {
            _L___1: /* CIL Label */ 
#line 425
            if (nam) {
              {
#line 426
              while (1) {
                while_continue___5: /* CIL Label */ ;
#line 426
                if (nam) {
                  {
#line 426
                  zwarnnam((char const   *)nam, "can\'t change option: %s", *argv);
                  }
                } else {
                  {
#line 426
                  zerr("can\'t change option: %s", *argv);
                  }
                }
#line 426
                goto while_break___5;
              }
              while_break___5: /* CIL Label */ ;
              }
            } else {
#line 425
              goto _L___0;
            }
          } else {
            _L___0: /* CIL Label */ 
            {
#line 428
            tmp___1 = dosetopt(optno, action, ! nam, new_opts);
            }
#line 428
            if (tmp___1) {
#line 428
              if (nam) {
                {
#line 429
                while (1) {
                  while_continue___6: /* CIL Label */ ;
#line 429
                  if (nam) {
                    {
#line 429
                    zwarnnam((char const   *)nam, "can\'t change option: %s", *argv);
                    }
                  } else {
                    {
#line 429
                    zerr("can\'t change option: %s", *argv);
                    }
                  }
#line 429
                  goto while_break___6;
                }
                while_break___6: /* CIL Label */ ;
                }
              } else {
#line 428
                goto _L;
              }
            } else
            _L: /* CIL Label */ 
#line 430
            if (optlist) {
              {
#line 431
              parseopts_insert(optlist, new_opts, optno);
              }
            }
          }
        } else {
          {
#line 421
          while (1) {
            while_continue___7: /* CIL Label */ ;
#line 421
            if (nam) {
              {
#line 421
              zwarnnam((char const   *)nam, "no such option: %s", *argv);
              }
            } else {
              {
#line 421
              zerr("no such option: %s", *argv);
              }
            }
#line 421
            goto while_break___7;
          }
          while_break___7: /* CIL Label */ ;
          }
#line 422
          return (1);
        }
#line 434
        goto while_break___0;
      } else {
        {
#line 435
        tmp___4 = __ctype_b_loc();
        }
#line 435
        if ((int const   )*(*tmp___4 + (int )((unsigned char )*(*argv))) & 8192) {
          {
#line 437
          while (1) {
            while_continue___8: /* CIL Label */ ;
#line 437
            (*argv) ++;
#line 437
            if (! *(*argv)) {
#line 437
              goto while_break___8;
            }
            {
#line 438
            tmp___2 = __ctype_b_loc();
            }
#line 438
            if (! ((int const   )*(*tmp___2 + (int )((unsigned char )*(*argv))) & 8192)) {
              badoptionstring: 
              {
#line 440
              while (1) {
                while_continue___9: /* CIL Label */ ;
#line 440
                if (nam) {
                  {
#line 440
                  zwarnnam((char const   *)nam, "bad option string: \'%s\'", args);
                  }
                } else {
                  {
#line 440
                  zerr("bad option string: \'%s\'", args);
                  }
                }
#line 440
                goto while_break___9;
              }
              while_break___9: /* CIL Label */ ;
              }
#line 441
              return (1);
            }
          }
          while_break___8: /* CIL Label */ ;
          }
#line 443
          goto while_break___0;
        } else {
          {
#line 445
          optno = optlookupc(*(*argv));
          }
#line 445
          if (optno) {
#line 448
            if (optno == 153) {
#line 448
              if (! nam) {
#line 449
                restricted = action;
              } else {
#line 448
                goto _L___6;
              }
            } else
            _L___6: /* CIL Label */ 
#line 450
            if (optno == 47) {
#line 450
              goto _L___5;
            } else
#line 450
            if (optno == 173) {
              _L___5: /* CIL Label */ 
#line 450
              if (nam) {
                {
#line 451
                while (1) {
                  while_continue___10: /* CIL Label */ ;
#line 451
                  if (nam) {
                    {
#line 451
                    zwarnnam((char const   *)nam, "can\'t change option: %s", *argv);
                    }
                  } else {
                    {
#line 451
                    zerr("can\'t change option: %s", *argv);
                    }
                  }
#line 451
                  goto while_break___10;
                }
                while_break___10: /* CIL Label */ ;
                }
              } else {
#line 450
                goto _L___4;
              }
            } else {
              _L___4: /* CIL Label */ 
              {
#line 453
              tmp___3 = dosetopt(optno, action, ! nam, new_opts);
              }
#line 453
              if (tmp___3) {
#line 453
                if (nam) {
                  {
#line 454
                  while (1) {
                    while_continue___11: /* CIL Label */ ;
#line 454
                    if (nam) {
                      {
#line 454
                      zwarnnam((char const   *)nam, "can\'t change option: -%c", (int )*(*argv));
                      }
                    } else {
                      {
#line 454
                      zerr("can\'t change option: -%c", (int )*(*argv));
                      }
                    }
#line 454
                    goto while_break___11;
                  }
                  while_break___11: /* CIL Label */ ;
                  }
                } else {
#line 453
                  goto _L___3;
                }
              } else
              _L___3: /* CIL Label */ 
#line 455
              if (optlist) {
                {
#line 456
                parseopts_insert(optlist, new_opts, optno);
                }
              }
            }
          } else {
            {
#line 446
            while (1) {
              while_continue___12: /* CIL Label */ ;
#line 446
              if (nam) {
                {
#line 446
                zwarnnam((char const   *)nam, "bad option: -%c", (int )*(*argv));
                }
              } else {
                {
#line 446
                zerr("bad option: -%c", (int )*(*argv));
                }
              }
#line 446
              goto while_break___12;
            }
            while_break___12: /* CIL Label */ ;
            }
#line 447
            return (1);
          }
        }
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 461
    argv ++;
  }
  while_break: /* CIL Label */ ;
  }
  doneoptions: 
#line 464
  if (*cmdp) {
#line 465
    if (! *argv) {
      {
#line 466
      while (1) {
        while_continue___13: /* CIL Label */ ;
#line 466
        if (nam) {
          {
#line 466
          zwarnnam((char const   *)nam, "string expected after -%s", *cmdp);
          }
        } else {
          {
#line 466
          zerr("string expected after -%s", *cmdp);
          }
        }
#line 466
        goto while_break___13;
      }
      while_break___13: /* CIL Label */ ;
      }
#line 467
      return (1);
    }
#line 469
    tmp___5 = argv;
#line 469
    argv ++;
#line 469
    *cmdp = *tmp___5;
  }
  doneargv: 
#line 472
  *argvp = argv;
#line 473
  return (0);
}
}
#line 477 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static void printhelp(void) 
{ 
  char *__cil_tmp1 ;
  char *__cil_tmp2 ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
  {
#line 480
  printf((char const   */* __restrict  */)"Usage: %s [<options>] [<argument> ...]\n",
         argzero);
#line 481
  printf((char const   */* __restrict  */)"\nSpecial options:\n");
#line 482
  printf((char const   */* __restrict  */)"  --help     show this message, then exit\n");
#line 483
  printf((char const   */* __restrict  */)"  --version  show zsh version number, then exit\n");
  }
#line 484
  if (! opts[161]) {
    {
#line 485
    printf((char const   */* __restrict  */)"  -b         end option processing, like --\n");
    }
  }
  {
#line 486
  printf((char const   */* __restrict  */)"  -c         take first argument as a command to execute\n");
#line 487
  printf((char const   */* __restrict  */)"  -o OPTION  set an option by name (see below)\n");
#line 488
  printf((char const   */* __restrict  */)"\nNormal options are named.  An option may be turned on by\n");
#line 489
  printf((char const   */* __restrict  */)"`-o OPTION\', `--OPTION\', `+o no_OPTION\' or `+-no-OPTION\'.  An\n");
#line 490
  printf((char const   */* __restrict  */)"option may be turned off by `-o no_OPTION\', `--no-OPTION\',\n");
#line 491
  printf((char const   */* __restrict  */)"`+o OPTION\' or `+-OPTION\'.  Options are listed below only in\n");
#line 492
  printf((char const   */* __restrict  */)"`--OPTION\' or `--no-OPTION\' form.\n");
#line 493
  printoptionlist();
  }
#line 494
  return;
}
}
#line 500 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static char outbuf[8192]  ;
#line 500 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static char errbuf[8192]  ;
#line 497 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void init_io(char *cmd ) 
{ 
  int tmp ;
  int *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  char *tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  char *tmp___9 ;
  int tmp___10 ;
  long fdflags ;
  int tmp___11 ;
  __pid_t tmp___12 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
  {
#line 508
  setvbuf((FILE */* __restrict  */)stdout, (char */* __restrict  */)(outbuf), 0, (size_t )8192);
#line 509
  setvbuf((FILE */* __restrict  */)stderr, (char */* __restrict  */)(errbuf), 0, (size_t )8192);
  }
#line 526
  if (shout) {
#line 532
    if ((unsigned long )shout != (unsigned long )stderr) {
      {
#line 533
      fclose(shout);
      }
    }
#line 534
    shout = (FILE *)0;
  }
#line 536
  if (SHTTY != -1) {
    {
#line 537
    zclose(SHTTY);
#line 538
    SHTTY = -1;
    }
  }
  {
#line 542
  xtrerr = stderr;
#line 545
  tmp___4 = isatty(0);
  }
#line 545
  if (tmp___4) {
    {
#line 546
    zsfree(ttystrname);
#line 547
    tmp___1 = ttyname(0);
#line 547
    ttystrname = ztrdup((char const   *)tmp___1);
    }
#line 547
    if (ttystrname) {
      {
#line 548
      tmp = open((char const   *)ttystrname, 258);
#line 548
      SHTTY = movefd(tmp);
      }
#line 555
      if (SHTTY == -1) {
        {
#line 555
        tmp___0 = __errno_location();
        }
#line 555
        if (*tmp___0 == 16) {
          {
#line 556
          ioctl(0, 21517UL, 0);
          }
        }
      }
    }
#line 579
    if (SHTTY == -1) {
      {
#line 579
      tmp___3 = fcntl(0, 3, 0);
      }
#line 579
      if ((tmp___3 & 2) == 2) {
        {
#line 580
        tmp___2 = dup(0);
#line 580
        SHTTY = movefd(tmp___2);
        }
      }
    }
  }
#line 583
  if (SHTTY == -1) {
    {
#line 583
    tmp___6 = isatty(1);
    }
#line 583
    if (tmp___6) {
      {
#line 583
      tmp___7 = fcntl(1, 3, 0);
      }
#line 583
      if ((tmp___7 & 2) == 2) {
        {
#line 583
        tmp___8 = dup(1);
#line 583
        SHTTY = movefd(tmp___8);
        }
#line 583
        if (SHTTY != -1) {
          {
#line 585
          zsfree(ttystrname);
#line 586
          tmp___5 = ttyname(1);
#line 586
          ttystrname = ztrdup((char const   *)tmp___5);
          }
        }
      }
    }
  }
#line 588
  if (SHTTY == -1) {
    {
#line 588
    tmp___10 = open("/dev/tty", 258);
#line 588
    SHTTY = movefd(tmp___10);
    }
#line 588
    if (SHTTY != -1) {
      {
#line 590
      zsfree(ttystrname);
#line 591
      tmp___9 = ttyname(SHTTY);
#line 591
      ttystrname = ztrdup((char const   *)tmp___9);
      }
    }
  }
#line 593
  if (SHTTY == -1) {
    {
#line 594
    zsfree(ttystrname);
#line 595
    ttystrname = ztrdup("");
    }
  } else {
    {
#line 598
    tmp___11 = fcntl(SHTTY, 1, 0);
#line 598
    fdflags = (long )tmp___11;
    }
#line 599
    if (fdflags != -1L) {
      {
#line 600
      fdflags |= 1L;
#line 601
      fcntl(SHTTY, 2, fdflags);
      }
    }
#line 604
    if (! ttystrname) {
      {
#line 605
      ttystrname = ztrdup("/dev/tty");
      }
    }
  }
#line 610
  if (opts[92]) {
    {
#line 611
    init_shout();
    }
#line 612
    if (! SHTTY) {
#line 613
      opts[176] = (char)0;
    } else
#line 612
    if (! shout) {
#line 613
      opts[176] = (char)0;
    }
  } else {
#line 615
    opts[176] = (char)0;
  }
  {
#line 621
  tmp___12 = getpid();
#line 621
  mypid = (zlong )tmp___12;
  }
#line 622
  if (opts[115]) {
#line 622
    if (SHTTY != -1) {
      {
#line 623
      origpgrp = getpgrp();
#line 624
      acquire_pgrp();
      }
    } else {
#line 626
      opts[115] = (char)0;
    }
  } else {
#line 626
    opts[115] = (char)0;
  }
#line 630
  return;
}
}
#line 636 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static char shoutbuf[8192]  ;
#line 633 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void init_shout(void) 
{ 
  char *__cil_tmp1 ;

  {
#line 641
  if (SHTTY == -1) {
#line 644
    shout = stderr;
#line 645
    return;
  }
  {
#line 654
  shout = fdopen(SHTTY, "w");
  }
#line 656
  if (shout) {
    {
#line 657
    setvbuf((FILE */* __restrict  */)shout, (char */* __restrict  */)(shoutbuf), 0,
            (size_t )8192);
    }
  }
  {
#line 660
  gettyinfo(& shttyinfo);
  }
#line 665
  return;
}
}
#line 669 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static char *tccapnams[34]  = 
#line 669
  {      (char *)"cl",      (char *)"le",      (char *)"LE",      (char *)"nd", 
        (char *)"RI",      (char *)"up",      (char *)"UP",      (char *)"do", 
        (char *)"DO",      (char *)"dc",      (char *)"DC",      (char *)"ic", 
        (char *)"IC",      (char *)"cd",      (char *)"ce",      (char *)"al", 
        (char *)"dl",      (char *)"ta",      (char *)"md",      (char *)"so", 
        (char *)"us",      (char *)"me",      (char *)"se",      (char *)"ue", 
        (char *)"ch",      (char *)"ku",      (char *)"kd",      (char *)"kl", 
        (char *)"kr",      (char *)"sc",      (char *)"rc",      (char *)"bc", 
        (char *)"AF",      (char *)"AB"};
#line 677 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
char *tccap_get_name(int cap ) 
{ 
  char *__cil_tmp2 ;

  {
#line 680
  if (cap >= 34) {
#line 684
    return ((char *)"");
  }
#line 686
  return (tccapnams[cap]);
}
}
#line 692 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
int init_term(void) 
{ 
  int tmp ;
  char tbuf___0[1024] ;
  char *pp ;
  int t0 ;
  size_t tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  void *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
#line 699
  if (! *term) {
#line 700
    termflags |= 2;
#line 701
    return (0);
  }
  {
#line 705
  tmp = strcmp((char const   *)term, "emacs");
  }
#line 705
  if (! tmp) {
#line 706
    opts[176] = (char)0;
  }
  {
#line 710
  tmp___2 = tgetent((char *)((void *)0), (char const   *)term);
  }
#line 710
  if (tmp___2 != 1) {
#line 715
    if (opts[92]) {
      {
#line 716
      zerr("can\'t find terminal definition for %s", term);
      }
    }
#line 717
    errflag &= -2;
#line 718
    termflags |= 1;
#line 719
    return (0);
  } else {
#line 724
    termflags &= -2;
#line 725
    termflags &= -3;
#line 726
    t0 = 0;
    {
#line 726
    while (1) {
      while_continue: /* CIL Label */ ;
#line 726
      if (! (t0 != 34)) {
#line 726
        goto while_break;
      }
      {
#line 727
      pp = tbuf___0;
#line 728
      zsfree(tcstr[t0]);
#line 730
      pp = tgetstr((char const   *)tccapnams[t0], & pp);
      }
#line 730
      if (pp) {
        {
#line 733
        tmp___0 = strlen((char const   *)pp);
#line 733
        tclen[t0] = (int )tmp___0;
#line 734
        tmp___1 = zalloc((size_t )(tclen[t0] + 1));
#line 734
        tcstr[t0] = (char *)tmp___1;
#line 735
        memcpy((void */* __restrict  */)tcstr[t0], (void const   */* __restrict  */)pp,
               (size_t )(tclen[t0] + 1));
        }
      } else {
#line 731
        tcstr[t0] = (char *)((void *)0);
#line 731
        tclen[t0] = 0;
      }
#line 726
      t0 ++;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 740
    hasam = tgetflag("am");
#line 741
    hasbw = tgetflag("bw");
#line 742
    hasxn = tgetflag("xn");
#line 743
    hasye = tgetflag("YE");
#line 745
    tclines = tgetnum("li");
#line 746
    tccolumns = tgetnum("co");
#line 747
    tccolours = tgetnum("Co");
    }
#line 752
    if (tclen[5]) {
#line 753
      termflags &= -5;
    } else {
      {
#line 755
      zsfree(tcstr[5]);
#line 756
      tcstr[5] = (char *)((void *)0);
#line 757
      termflags |= 4;
      }
    }
#line 761
    if (! tclen[31]) {
      {
#line 762
      zsfree(tcstr[31]);
#line 763
      tcstr[31] = ztrdup("\b");
#line 764
      tclen[31] = 1;
      }
    }
#line 768
    if (! tclen[1]) {
      {
#line 769
      zsfree(tcstr[1]);
#line 770
      tcstr[1] = ztrdup((char const   *)tcstr[31]);
#line 771
      tclen[1] = tclen[31];
      }
    }
#line 774
    if (tclen[29]) {
#line 774
      if (! tclen[30]) {
        {
#line 775
        tclen[29] = 0;
#line 776
        zsfree(tcstr[29]);
#line 777
        tcstr[29] = (char *)((void *)0);
        }
      }
    }
#line 781
    if (tclen[7]) {
#line 781
      if ((int )*(tcstr[7] + 0) == 10) {
        {
#line 782
        tclen[7] = 0;
#line 783
        zsfree(tcstr[7]);
#line 784
        tcstr[7] = (char *)((void *)0);
        }
      }
    }
#line 788
    if (! tclen[0]) {
      {
#line 789
      zsfree(tcstr[0]);
#line 790
      tcstr[0] = ztrdup("\f");
#line 791
      tclen[0] = 1;
      }
    }
#line 793
    rprompt_indent = (zlong )1;
  }
#line 798
  return (1);
}
}
#line 804 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void setupvals(char *cmd , char *runscript , char *zsh_name ) 
{ 
  struct passwd *pswd ;
  struct timezone dummy_tz ;
  char *ptr___0 ;
  int i ;
  int j ;
  char **fpathptr ;
  int fpathlen ;
  int close_fds[10] ;
  int tmppipe[2] ;
  int tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  char **tmp___3 ;
  char **tmp___4 ;
  char *tmp___5 ;
  char const   *tmp___7 ;
  int tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  void *tmp___13 ;
  __pid_t tmp___14 ;
  __pid_t tmp___15 ;
  char *tmp___16 ;
  size_t tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  char *tmp___20 ;
  char *tmp___21 ;
  char *tmp___22 ;
  void *__cil_tmp37 ;
  void *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;
  char *__cil_tmp50 ;
  char *__cil_tmp51 ;
  char *__cil_tmp52 ;
  char *__cil_tmp53 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;

  {
  {
#line 833
  fpathlen = 1;
#line 844
  memset((void *)(close_fds), 0, 10UL * sizeof(int ));
#line 845
  tmp = pipe((int *)(tmppipe));
  }
#line 845
  if (tmp == 0) {
#line 852
    i = -1;
    {
#line 853
    while (1) {
      while_continue: /* CIL Label */ ;
#line 853
      if (! (i < 9)) {
#line 853
        goto while_break;
      }
#line 855
      if (i < tmppipe[0]) {
#line 856
        j = tmppipe[0];
      } else
#line 857
      if (i < tmppipe[1]) {
#line 858
        j = tmppipe[1];
      } else {
        {
#line 860
        j = dup(0);
        }
#line 861
        if (j == -1) {
#line 862
          goto while_break;
        }
      }
#line 864
      if (j < 10) {
#line 865
        close_fds[j] = 1;
      } else {
        {
#line 867
        close(j);
        }
      }
#line 868
      if (i < j) {
#line 869
        i = j;
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 871
    if (i < tmppipe[0]) {
      {
#line 872
      close(tmppipe[0]);
      }
    }
#line 873
    if (i < tmppipe[1]) {
      {
#line 874
      close(tmppipe[1]);
      }
    }
  }
  {
#line 877
  addhookdefs((Module )((void *)0), zshhooks, (int )(sizeof(zshhooks) / sizeof(zshhooks[0])));
#line 879
  init_eprog();
#line 881
  zero_mnumber.type = 1;
#line 882
  zero_mnumber.u.l = (zlong )0;
#line 884
  noeval = 0;
#line 885
  curhist = (zlong )0;
#line 886
  histsiz = (zlong )30;
#line 887
  inithist();
#line 889
  tmp___0 = zalloc((size_t )256);
#line 889
  cmdstack = (unsigned char *)tmp___0;
#line 890
  cmdsp = 0;
#line 892
  bangchar = (unsigned char )'!';
#line 893
  hashchar = (unsigned char )'#';
#line 894
  hatchar = (unsigned char )'^';
#line 895
  termflags = 2;
#line 896
  coprocout = -1;
#line 896
  coprocin = coprocout;
#line 896
  prevjob = coprocin;
#line 896
  curjob = prevjob;
#line 897
  gettimeofday((struct timeval */* __restrict  */)(& shtimer), (__timezone_ptr_t )(& dummy_tz));
#line 898
  srand((unsigned int )(shtimer.tv_sec + shtimer.tv_usec));
#line 901
  tmp___1 = zalloc(sizeof(*path) * 5UL);
#line 901
  path = (char **)tmp___1;
#line 902
  *(path + 0) = ztrdup("/bin");
#line 903
  *(path + 1) = ztrdup("/usr/bin");
#line 904
  *(path + 2) = ztrdup("/usr/ucb");
#line 905
  *(path + 3) = ztrdup("/usr/local/bin");
#line 906
  *(path + 4) = (char *)((void *)0);
#line 908
  cdpath = mkarray((char *)((void *)0));
#line 909
  manpath = mkarray((char *)((void *)0));
#line 910
  fignore = mkarray((char *)((void *)0));
#line 917
  fpathlen ++;
#line 924
  tmp___2 = zalloc((unsigned long )(fpathlen + 1) * sizeof(char *));
#line 924
  fpathptr = (char **)tmp___2;
#line 924
  fpath = fpathptr;
#line 930
  tmp___3 = fpathptr;
#line 930
  fpathptr ++;
#line 930
  *tmp___3 = ztrdup("/usr/local/share/zsh/site-functions");
#line 931
  fpathlen --;
#line 947
  tmp___4 = fpathptr;
#line 947
  fpathptr ++;
#line 947
  *tmp___4 = ztrdup("/usr/local/share/zsh/5.3.1/functions");
#line 950
  *fpathptr = (char *)((void *)0);
#line 955
  mailpath = mkarray((char *)((void *)0));
#line 956
  watch = mkarray((char *)((void *)0));
#line 957
  psvar = mkarray((char *)((void *)0));
#line 958
  tmp___5 = ztrdup("/usr/local/lib/zsh/5.3.1");
#line 958
  module_path = mkarray(tmp___5);
#line 959
  modulestab = newmoduletable(17, "modules");
#line 960
  linkedmodules = znewlinklist();
  }
#line 963
  if (! opts[92]) {
    {
#line 964
    prompt = ztrdup("");
#line 965
    prompt2 = ztrdup("");
    }
  } else
#line 966
  if (emulation & ((1 << 2) | (1 << 3))) {
    {
#line 967
    tmp___8 = privasserted();
    }
#line 967
    if (tmp___8) {
#line 967
      tmp___7 = "# ";
    } else {
#line 967
      tmp___7 = "$ ";
    }
    {
#line 967
    prompt = ztrdup(tmp___7);
#line 968
    prompt2 = ztrdup("> ");
    }
  } else {
    {
#line 970
    prompt = ztrdup("%m%# ");
#line 971
    prompt2 = ztrdup("%_> ");
    }
  }
  {
#line 973
  prompt3 = ztrdup("?# ");
  }
#line 974
  if (emulation & ((1 << 2) | (1 << 3))) {
    {
#line 974
    tmp___9 = ztrdup("+ ");
#line 974
    prompt4 = tmp___9;
    }
  } else {
    {
#line 974
    tmp___10 = ztrdup("+%N:%i> ");
#line 974
    prompt4 = tmp___10;
    }
  }
  {
#line 976
  sprompt = ztrdup("zsh: correct \'%R\' to \'%r\' [nyae]? ");
  }
#line 978
  if (emulation & ((1 << 2) | (1 << 3))) {
    {
#line 978
    tmp___11 = ztrdup(" \t\n");
#line 978
    ifs = tmp___11;
    }
  } else {
    {
#line 978
    tmp___12 = ztrdup(" \t\n\203 ");
#line 978
    ifs = tmp___12;
    }
  }
  {
#line 980
  wordchars = ztrdup("*?_-.[]~=/&;!#$%^(){}<>");
#line 981
  postedit = ztrdup("");
#line 982
  underscorelen = 32;
#line 982
  tmp___13 = zalloc((size_t )underscorelen);
#line 982
  zunderscore = (char *)tmp___13;
#line 983
  underscoreused = 1;
#line 984
  *zunderscore = (char )'\000';
#line 986
  zoptarg = ztrdup("");
#line 987
  zoptind = (zlong )1;
#line 989
  tmp___14 = getppid();
#line 989
  ppid = (zlong )tmp___14;
#line 990
  tmp___15 = getpid();
#line 990
  mypid = (zlong )tmp___15;
#line 991
  term = ztrdup("");
#line 993
  nullcmd = ztrdup("cat");
#line 994
  readnullcmd = ztrdup("more");
#line 998
  cached_uid = getuid();
#line 1002
  pswd = getpwuid(cached_uid);
  }
#line 1002
  if (pswd) {
#line 1003
    if (emulation & (1 << 4)) {
      {
#line 1004
      home = metafy(pswd->pw_dir, -1, 3);
      }
    }
    {
#line 1005
    cached_username = ztrdup((char const   *)pswd->pw_name);
    }
  } else {
#line 1010
    if (emulation & (1 << 4)) {
      {
#line 1011
      home = ztrdup("/");
      }
    }
    {
#line 1012
    cached_username = ztrdup("");
    }
  }
#line 1020
  if (emulation & (1 << 4)) {
#line 1021
    ptr___0 = home;
  } else {
    {
#line 1023
    ptr___0 = zgetenv((char *)"HOME");
    }
  }
#line 1024
  if (ptr___0) {
    {
#line 1024
    tmp___19 = ispwd(ptr___0);
    }
#line 1024
    if (tmp___19) {
      {
#line 1025
      pwd = ztrdup((char const   *)ptr___0);
      }
    } else {
#line 1024
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
    {
#line 1026
    ptr___0 = zgetenv((char *)"PWD");
    }
#line 1026
    if (ptr___0) {
      {
#line 1026
      tmp___17 = strlen((char const   *)ptr___0);
      }
#line 1026
      if (tmp___17 < 4096UL) {
        {
#line 1026
        ptr___0 = metafy(ptr___0, -1, 2);
#line 1026
        tmp___18 = ispwd(ptr___0);
        }
#line 1026
        if (tmp___18) {
          {
#line 1028
          pwd = ztrdup((char const   *)ptr___0);
          }
        } else {
          {
#line 1030
          pwd = (char *)((void *)0);
#line 1031
          tmp___16 = zgetcwd();
#line 1031
          pwd = metafy(tmp___16, -1, 3);
          }
        }
      } else {
        {
#line 1030
        pwd = (char *)((void *)0);
#line 1031
        tmp___16 = zgetcwd();
#line 1031
        pwd = metafy(tmp___16, -1, 3);
        }
      }
    } else {
      {
#line 1030
      pwd = (char *)((void *)0);
#line 1031
      tmp___16 = zgetcwd();
#line 1031
      pwd = metafy(tmp___16, -1, 3);
      }
    }
  }
  {
#line 1034
  oldpwd = ztrdup((char const   *)pwd);
#line 1036
  inittyptab();
#line 1037
  initlextabs();
#line 1039
  createreswdtable();
#line 1040
  createaliastables();
#line 1041
  createcmdnamtable();
#line 1042
  createshfunctable();
#line 1043
  createbuiltintable();
#line 1044
  createnameddirtable();
#line 1045
  createparamtable();
#line 1047
  condtab = (Conddef )((void *)0);
#line 1048
  wrappers = (FuncWrap )((void *)0);
#line 1051
  adjustwinsize(0);
#line 1061
  i = 0;
  }
  {
#line 1061
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1061
    if (! (i != 16)) {
#line 1061
      goto while_break___0;
    }
    {
#line 1062
    getrlimit((__rlimit_resource_t )i, current_limits + i);
#line 1063
    limits[i] = current_limits[i];
#line 1061
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 1067
  loops = 0;
#line 1067
  breaks = loops;
#line 1068
  lastmailcheck = time((time_t *)((void *)0));
#line 1069
  sourcelevel = 0;
#line 1069
  locallevel = sourcelevel;
#line 1070
  sfcontext = 0;
#line 1071
  trap_return = 0;
#line 1072
  trap_state = 0;
#line 1073
  noerrexit = -1;
#line 1074
  nohistsave = 1;
#line 1075
  dirstack = znewlinklist();
#line 1076
  bufstack = znewlinklist();
#line 1077
  hsubr = (char *)((void *)0);
#line 1077
  hsubl = hsubr;
#line 1078
  lastpid = (zlong )0;
#line 1080
  get_usage();
#line 1083
  i = 0;
  }
  {
#line 1083
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 1083
    if (! (i < 10)) {
#line 1083
      goto while_break___1;
    }
#line 1084
    if (close_fds[i]) {
      {
#line 1085
      close(i);
      }
    }
#line 1083
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 1088
  set_default_colour_sequences();
  }
#line 1090
  if (cmd) {
    {
#line 1091
    tmp___20 = ztrdup((char const   *)cmd);
#line 1091
    setsparam((char *)"ZSH_EXECUTION_STRING", tmp___20);
    }
  }
#line 1092
  if (runscript) {
    {
#line 1093
    tmp___21 = ztrdup((char const   *)runscript);
#line 1093
    setsparam((char *)"ZSH_SCRIPT", tmp___21);
    }
  }
  {
#line 1094
  tmp___22 = ztrdup((char const   *)zsh_name);
#line 1094
  setsparam((char *)"ZSH_NAME", tmp___22);
  }
#line 1095
  return;
}
}
#line 1102 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
static void setupshin(char *runscript ) 
{ 
  char *funmeta ;
  char *sfname ;
  struct stat st___0 ;
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  FILE *tmp___3 ;
  void *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 1105
  if (runscript) {
    {
#line 1106
    sfname = (char *)((void *)0);
#line 1109
    funmeta = unmeta((char const   *)runscript);
#line 1113
    tmp___0 = access((char const   *)funmeta, 0);
    }
#line 1113
    if (tmp___0 == 0) {
      {
#line 1113
      tmp___1 = stat((char const   */* __restrict  */)funmeta, (struct stat */* __restrict  */)(& st___0));
      }
#line 1113
      if (tmp___1 >= 0) {
#line 1113
        if (! ((st___0.st_mode & 61440U) == 16384U)) {
#line 1116
          sfname = runscript;
        } else {
#line 1113
          goto _L___0;
        }
      } else {
#line 1113
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 1117
    if (opts[126]) {
      {
#line 1117
      tmp = strchr((char const   *)runscript, '/');
      }
#line 1117
      if (! tmp) {
        {
#line 1122
        funmeta = pathprog(runscript, & sfname);
        }
      }
    }
#line 1124
    if (! sfname) {
      {
#line 1127
      zerr("can\'t open input file: %s", runscript);
#line 1128
      exit(127);
      }
    } else {
      {
#line 1124
      tmp___2 = open((char const   *)funmeta, 256);
#line 1124
      SHIN = movefd(tmp___2);
      }
#line 1124
      if (SHIN == -1) {
        {
#line 1127
        zerr("can\'t open input file: %s", runscript);
#line 1128
        exit(127);
        }
      }
    }
    {
#line 1130
    scriptfilename = sfname;
#line 1131
    sfname = argzero;
#line 1132
    argzero = ztrdup((char const   *)runscript);
#line 1133
    zsfree(sfname);
    }
  }
#line 1139
  lineno = (zlong )1;
#line 1143
  if (SHIN) {
    {
#line 1143
    tmp___3 = fdopen(SHIN, "r");
#line 1143
    bshin = tmp___3;
    }
  } else {
#line 1143
    bshin = stdin;
  }
#line 1144
  if (opts[159]) {
#line 1144
    if (! SHIN) {
#line 1144
      if (! opts[92]) {
        {
#line 1146
        setvbuf((FILE */* __restrict  */)stdin, (char */* __restrict  */)((void *)0),
                2, (size_t )0);
        }
      }
    }
  }
#line 1151
  return;
}
}
#line 1156 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void init_signals(void) 
{ 
  int i ;
  sigset_t tmp ;
  __sighandler_t tmp___0 ;
  sigset_t tmp___1 ;
  void *__cil_tmp5 ;
  void *__cil_tmp6 ;

  {
#line 1159
  if (opts[92]) {
    {
#line 1161
    tmp = signal_mask(0);
#line 1161
    signal_setmask(tmp);
#line 1162
    i = 0;
    }
    {
#line 1162
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1162
      if (! (i < 65)) {
#line 1162
        goto while_break;
      }
      {
#line 1163
      signal(i, (void (*)(int  ))0);
#line 1162
      i ++;
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 1165
  sigchld_mask = signal_mask(17);
#line 1167
  intr();
#line 1170
  signal(3, (void (*)(int  ))1);
#line 1173
  tmp___0 = signal(1, (void (*)(int  ))1);
  }
#line 1173
  if ((unsigned long )tmp___0 == (unsigned long )((void (*)(int  ))1)) {
#line 1174
    opts[86] = (char)0;
  } else {
    {
#line 1176
    install_handler(1);
    }
  }
  {
#line 1177
  install_handler(17);
#line 1179
  install_handler(28);
#line 1180
  tmp___1 = signal_mask(28);
#line 1180
  signal_block(tmp___1);
  }
#line 1182
  if (opts[92]) {
    {
#line 1183
    install_handler(13);
#line 1184
    install_handler(14);
#line 1185
    signal(15, (void (*)(int  ))1);
    }
  }
#line 1187
  if (opts[115]) {
    {
#line 1188
    signal(22, (void (*)(int  ))1);
#line 1189
    signal(20, (void (*)(int  ))1);
#line 1190
    signal(21, (void (*)(int  ))1);
    }
  }
#line 1192
  return;
}
}
#line 1199 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void run_init_scripts(void) 
{ 
  char *s ;
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
#line 1202
  noerrexit = -1;
#line 1204
  if (emulation & ((1 << 2) | (1 << 3))) {
#line 1205
    if (opts[109]) {
      {
#line 1206
      source((char *)"/etc/profile");
      }
    }
#line 1207
    if (! opts[138]) {
#line 1208
      if (opts[109]) {
        {
#line 1209
        sourcehome((char *)".profile");
        }
      }
#line 1211
      if (opts[92]) {
        {
#line 1212
        noerrs = 2;
#line 1213
        tmp = getsparam((char *)"ENV");
#line 1213
        s = tmp;
        }
#line 1214
        if (s) {
          {
#line 1215
          s = dupstring((char const   *)s);
#line 1216
          tmp___0 = parsestr(& s);
          }
#line 1216
          if (! tmp___0) {
            {
#line 1217
            singsub(& s);
#line 1218
            noerrs = 0;
#line 1219
            source(s);
            }
          }
        }
#line 1222
        noerrs = 0;
      }
    } else {
      {
#line 1225
      source((char *)"/etc/suid_profile");
      }
    }
  } else {
    {
#line 1228
    source((char *)"/etc/zshenv");
    }
#line 1231
    if (opts[150]) {
#line 1231
      if (! opts[138]) {
#line 1233
        if (opts[92]) {
          {
#line 1238
          tmp___1 = load_module("zsh/newuser", (Feature_enables )((void *)0), 1);
          }
#line 1238
          if (! tmp___1) {
            {
#line 1240
            unload_named_module((char *)"zsh/newuser", (char *)"zsh", 1);
            }
          }
        }
        {
#line 1244
        sourcehome((char *)".zshenv");
        }
      }
    }
#line 1246
    if (opts[109]) {
#line 1248
      if (opts[150]) {
#line 1248
        if (opts[60]) {
          {
#line 1249
          source((char *)"/etc/zprofile");
          }
        }
      }
#line 1251
      if (opts[150]) {
#line 1251
        if (! opts[138]) {
          {
#line 1252
          sourcehome((char *)".zprofile");
          }
        }
      }
    }
#line 1254
    if (opts[92]) {
#line 1256
      if (opts[150]) {
#line 1256
        if (opts[60]) {
          {
#line 1257
          source((char *)"/etc/zshrc");
          }
        }
      }
#line 1259
      if (opts[150]) {
#line 1259
        if (! opts[138]) {
          {
#line 1260
          sourcehome((char *)".zshrc");
          }
        }
      }
    }
#line 1262
    if (opts[109]) {
#line 1264
      if (opts[150]) {
#line 1264
        if (opts[60]) {
          {
#line 1265
          source((char *)"/etc/zlogin");
          }
        }
      }
#line 1267
      if (opts[150]) {
#line 1267
        if (! opts[138]) {
          {
#line 1268
          sourcehome((char *)".zlogin");
          }
        }
      }
    }
  }
#line 1271
  noerrexit = 0;
#line 1272
  nohistsave = 0;
#line 1273
  return;
}
}
#line 1278 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void init_misc(char *cmd , char *zsh_name ) 
{ 
  int tmp ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 1284
  if ((int )*zsh_name == 114) {
    {
#line 1286
    dosetopt(153, 1, 0, opts);
    }
  } else
#line 1284
  if (restricted) {
    {
#line 1286
    dosetopt(153, 1, 0, opts);
    }
  }
#line 1287
  if (cmd) {
#line 1288
    if (SHIN >= 10) {
      {
#line 1289
      fclose(bshin);
      }
    }
    {
#line 1290
    tmp = open("/dev/null", 256);
#line 1290
    SHIN = movefd(tmp);
#line 1291
    bshin = fdopen(SHIN, "r");
#line 1292
    execstring(cmd, 0, 1, (char *)"cmdarg");
#line 1293
    stopmsg = 1;
#line 1294
    zexit((int )lastval, 0);
    }
  }
#line 1297
  if (opts[92]) {
#line 1297
    if (opts[150]) {
      {
#line 1298
      readhistfile((char *)((void *)0), 0, 32768);
      }
    }
  }
#line 1299
  return;
}
}
#line 1307 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
enum source_return source(char *s ) 
{ 
  Eprog prog ;
  int tempfd ;
  int fd ;
  int cj ;
  zlong oldlineno ;
  int oldshst ;
  int osubsh ;
  int oloops ;
  FILE *obshin ;
  char *old_scriptname ;
  char *us ;
  char *old_scriptfilename ;
  unsigned char *ocs ;
  int ocsp ;
  int otrap_return ;
  int otrap_state ;
  struct funcstack fstack ;
  enum source_return ret ;
  int tmp ;
  void *tmp___0 ;
  FILE *tmp___1 ;
  char const   *tmp___2 ;
  char *tmp___3 ;
  enum loop_return tmp___4 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;

  {
#line 1311
  tempfd = -1;
#line 1315
  old_scriptname = scriptname;
#line 1316
  old_scriptfilename = scriptfilename;
#line 1319
  otrap_return = trap_return;
#line 1319
  otrap_state = trap_state;
#line 1321
  ret = (enum source_return )0;
#line 1323
  if (! s) {
#line 1326
    return ((enum source_return )1);
  } else {
    {
#line 1323
    us = unmeta((char const   *)s);
#line 1323
    prog = try_source_file(us);
    }
#line 1323
    if (! prog) {
      {
#line 1323
      tmp = open((char const   *)us, 256);
#line 1323
      tempfd = movefd(tmp);
      }
#line 1323
      if (tempfd == -1) {
#line 1326
        return ((enum source_return )1);
      }
    }
  }
  {
#line 1330
  fd = SHIN;
#line 1331
  obshin = bshin;
#line 1332
  osubsh = subsh;
#line 1333
  cj = thisjob;
#line 1334
  oldlineno = lineno;
#line 1335
  oloops = loops;
#line 1336
  oldshst = (int )opts[159];
#line 1337
  ocs = cmdstack;
#line 1338
  ocsp = cmdsp;
#line 1339
  tmp___0 = zalloc((size_t )256);
#line 1339
  cmdstack = (unsigned char *)tmp___0;
#line 1340
  cmdsp = 0;
  }
#line 1342
  if (! prog) {
    {
#line 1343
    SHIN = tempfd;
#line 1344
    bshin = fdopen(SHIN, "r");
    }
  }
  {
#line 1346
  subsh = 0;
#line 1347
  lineno = (zlong )1;
#line 1348
  loops = 0;
#line 1349
  dosetopt(159, 0, 1, opts);
#line 1350
  scriptname = s;
#line 1351
  scriptfilename = s;
  }
#line 1353
  if (opts[166]) {
    {
#line 1354
    printprompt4();
    }
#line 1355
    if (xtrerr) {
#line 1355
      tmp___1 = xtrerr;
    } else {
#line 1355
      tmp___1 = stderr;
    }
    {
#line 1355
    fprintf((FILE */* __restrict  */)tmp___1, (char const   */* __restrict  */)"<sourcetrace>\n");
    }
  }
#line 1363
  trap_state = 0;
#line 1365
  sourcelevel ++;
#line 1367
  fstack.name = scriptfilename;
#line 1368
  if (funcstack) {
#line 1368
    fstack.caller = funcstack->name;
  } else {
#line 1368
    if (old_scriptfilename) {
#line 1368
      tmp___2 = (char const   *)old_scriptfilename;
    } else {
#line 1368
      tmp___2 = "zsh";
    }
    {
#line 1368
    tmp___3 = dupstring(tmp___2);
#line 1368
    fstack.caller = tmp___3;
    }
  }
#line 1370
  fstack.flineno = (zlong )0;
#line 1371
  fstack.lineno = oldlineno;
#line 1372
  fstack.filename = scriptfilename;
#line 1373
  fstack.prev = funcstack;
#line 1374
  fstack.tp = 0;
#line 1375
  funcstack = & fstack;
#line 1377
  if (prog) {
    {
#line 1378
    pushheap();
#line 1379
    errflag &= -2;
#line 1380
    execode(prog, 1, 0, (char *)"filecode");
#line 1381
    popheap();
    }
#line 1382
    if (errflag) {
#line 1383
      ret = (enum source_return )2;
    }
  } else {
    {
#line 1386
    tmp___4 = loop(0, 0);
    }
    {
#line 1388
    if ((unsigned int )tmp___4 == 0U) {
#line 1388
      goto case_0;
    }
#line 1392
    if ((unsigned int )tmp___4 == 1U) {
#line 1392
      goto case_1;
    }
#line 1397
    if ((unsigned int )tmp___4 == 2U) {
#line 1397
      goto case_2;
    }
#line 1386
    goto switch_break;
    case_0: /* CIL Label */ 
#line 1390
    goto switch_break;
    case_1: /* CIL Label */ 
#line 1394
    lastval = (zlong )0;
#line 1395
    goto switch_break;
    case_2: /* CIL Label */ 
#line 1398
    ret = (enum source_return )2;
#line 1399
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
#line 1402
  funcstack = funcstack->prev;
#line 1403
  sourcelevel --;
#line 1405
  trap_state = otrap_state;
#line 1406
  trap_return = otrap_return;
#line 1409
  if (prog) {
    {
#line 1410
    freeeprog(prog);
    }
  } else {
    {
#line 1412
    fclose(bshin);
#line 1413
    *(fdtable + SHIN) = (unsigned char)0;
#line 1414
    SHIN = fd;
#line 1415
    bshin = obshin;
    }
  }
  {
#line 1417
  subsh = osubsh;
#line 1418
  thisjob = cj;
#line 1419
  lineno = oldlineno;
#line 1420
  loops = oloops;
#line 1421
  dosetopt(159, oldshst, 1, opts);
#line 1422
  errflag &= -2;
  }
#line 1423
  if (! exit_pending) {
#line 1424
    retflag = 0;
  }
  {
#line 1425
  scriptname = old_scriptname;
#line 1426
  scriptfilename = old_scriptfilename;
#line 1427
  zfree((void *)cmdstack, 256);
#line 1428
  cmdstack = ocs;
#line 1429
  cmdsp = ocsp;
  }
#line 1431
  return (ret);
}
}
#line 1437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void sourcehome(char *s ) 
{ 
  char *h ;
  sigset_t oset ;
  char *buf___7 ;
  size_t tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  sigset_t oset___0 ;
  void *__cil_tmp9 ;
  void *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
#line 1442
  queueing_enabled ++;
#line 1443
  if (emulation & ((1 << 3) | (1 << 2))) {
#line 1443
    goto _L;
  } else {
    {
#line 1443
    h = getsparam_u((char *)"ZDOTDIR");
    }
#line 1443
    if (! h) {
      _L: /* CIL Label */ 
#line 1444
      h = home;
#line 1445
      if (! h) {
        {
#line 1446
        while (1) {
          while_continue: /* CIL Label */ ;
#line 1446
          queueing_enabled --;
#line 1446
          if (! queueing_enabled) {
            {
#line 1446
            while (1) {
              while_continue___0: /* CIL Label */ ;
              {
#line 1446
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 1446
                if (! (queue_front != queue_rear)) {
#line 1446
                  goto while_break___1;
                }
                {
#line 1446
                queue_front = (queue_front + 1) % 128;
#line 1446
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1446
                zhandler(signal_queue[queue_front]);
#line 1446
                signal_setmask(oset);
                }
              }
              while_break___1: /* CIL Label */ ;
              }
#line 1446
              goto while_break___0;
            }
            while_break___0: /* CIL Label */ ;
            }
          }
#line 1446
          goto while_break;
        }
        while_break: /* CIL Label */ ;
        }
#line 1447
        return;
      }
    }
  }
  {
#line 1453
  tmp = strlen((char const   *)h);
#line 1453
  tmp___0 = strlen((char const   *)s);
#line 1453
  tmp___1 = zhalloc(sizeof(char ) * ((tmp + tmp___0) + 2UL));
#line 1453
  buf___7 = (char *)tmp___1;
#line 1454
  sprintf((char */* __restrict  */)buf___7, (char const   */* __restrict  */)"%s/%s",
          h, s);
  }
  {
#line 1455
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 1455
    queueing_enabled --;
#line 1455
    if (! queueing_enabled) {
      {
#line 1455
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 1455
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 1455
          if (! (queue_front != queue_rear)) {
#line 1455
            goto while_break___4;
          }
          {
#line 1455
          queue_front = (queue_front + 1) % 128;
#line 1455
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 1455
          zhandler(signal_queue[queue_front]);
#line 1455
          signal_setmask(oset___0);
          }
        }
        while_break___4: /* CIL Label */ ;
        }
#line 1455
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 1455
    goto while_break___2;
  }
  while_break___2: /* CIL Label */ ;
  }
  {
#line 1456
  source(buf___7);
  }
#line 1458
  return;
}
}
#line 1461 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void init_bltinmods(void) 
{ 
  char *zsh_features[4] ;
  char *emu_features[2] ;
  char **tmp ;
  char *features[3] ;
  char *features___0[2] ;
  char *features___1[31] ;
  char *features___2[3] ;
  char *features___3[3] ;
  char *features___4[5] ;
  char *features___5[3] ;
  char *features___6[7] ;
  char *features___7[9] ;
  char *features___8[4] ;
  char *features___9[3] ;
  void *__cil_tmp15 ;
  void *__cil_tmp16 ;
  void *__cil_tmp17 ;
  void *__cil_tmp18 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  void *__cil_tmp23 ;
  void *__cil_tmp24 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;
  void *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;
  char *__cil_tmp50 ;
  char *__cil_tmp51 ;
  char *__cil_tmp52 ;
  char *__cil_tmp53 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;
  char *__cil_tmp85 ;
  char *__cil_tmp86 ;
  char *__cil_tmp87 ;
  char *__cil_tmp88 ;
  char *__cil_tmp89 ;
  char *__cil_tmp90 ;
  char *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;
  char *__cil_tmp94 ;
  char *__cil_tmp95 ;
  char *__cil_tmp96 ;
  char *__cil_tmp97 ;
  char *__cil_tmp98 ;
  char *__cil_tmp99 ;
  char *__cil_tmp100 ;
  char *__cil_tmp101 ;
  char *__cil_tmp102 ;
  char *__cil_tmp103 ;
  char *__cil_tmp104 ;
  char *__cil_tmp105 ;
  char *__cil_tmp106 ;
  char *__cil_tmp107 ;
  char *__cil_tmp108 ;
  char *__cil_tmp109 ;
  char *__cil_tmp110 ;
  char *__cil_tmp111 ;
  char *__cil_tmp112 ;
  char *__cil_tmp113 ;
  char *__cil_tmp114 ;
  char *__cil_tmp115 ;
  char *__cil_tmp116 ;
  char *__cil_tmp117 ;
  char *__cil_tmp118 ;
  char *__cil_tmp119 ;
  char *__cil_tmp120 ;
  char *__cil_tmp121 ;
  char *__cil_tmp122 ;
  char *__cil_tmp123 ;
  char *__cil_tmp124 ;
  char *__cil_tmp125 ;
  char *__cil_tmp126 ;
  char *__cil_tmp127 ;
  char *__cil_tmp128 ;
  char *__cil_tmp129 ;
  char *__cil_tmp130 ;
  char *__cil_tmp131 ;
  char *__cil_tmp132 ;
  char *__cil_tmp133 ;
  char *__cil_tmp134 ;
  char *__cil_tmp135 ;
  char *__cil_tmp136 ;
  char *__cil_tmp137 ;

  {
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/bltinmods.list"
  zsh_features[0] = (char *)"b:limit";
#line 5
  zsh_features[1] = (char *)"b:ulimit";
#line 5
  zsh_features[2] = (char *)"b:unlimit";
#line 5
  zsh_features[3] = (char *)((void *)0);
#line 11
  emu_features[0] = (char *)"b:ulimit";
#line 11
  emu_features[1] = (char *)((void *)0);
#line 15
  if (emulation & (1 << 4)) {
#line 15
    tmp = zsh_features;
  } else {
#line 15
    tmp = emu_features;
  }
  {
#line 15
  autofeatures("zsh", "zsh/rlimits", tmp, 0, 1);
  }
#line 22
  if (emulation & (1 << 4)) {
    {
#line 23
    features[0] = (char *)"b:sched";
#line 23
    features[1] = (char *)"p:zsh_scheduled_events";
#line 23
    features[2] = (char *)((void *)0);
#line 28
    autofeatures("zsh", "zsh/sched", features, 0, 1);
    }
  }
#line 33
  if (emulation & (1 << 4)) {
    {
#line 34
    features___0[0] = (char *)"b:private";
#line 34
    features___0[1] = (char *)((void *)0);
#line 38
    autofeatures("zsh", "zsh/param/private", features___0, 0, 1);
    }
  }
#line 43
  if (emulation & (1 << 4)) {
    {
#line 44
    features___1[0] = (char *)"p:parameters";
#line 44
    features___1[1] = (char *)"p:commands";
#line 44
    features___1[2] = (char *)"p:functions";
#line 44
    features___1[3] = (char *)"p:dis_functions";
#line 44
    features___1[4] = (char *)"p:funcfiletrace";
#line 44
    features___1[5] = (char *)"p:funcsourcetrace";
#line 44
    features___1[6] = (char *)"p:funcstack";
#line 44
    features___1[7] = (char *)"p:functrace";
#line 44
    features___1[8] = (char *)"p:builtins";
#line 44
    features___1[9] = (char *)"p:dis_builtins";
#line 44
    features___1[10] = (char *)"p:reswords";
#line 44
    features___1[11] = (char *)"p:dis_reswords";
#line 44
    features___1[12] = (char *)"p:patchars";
#line 44
    features___1[13] = (char *)"p:dis_patchars";
#line 44
    features___1[14] = (char *)"p:options";
#line 44
    features___1[15] = (char *)"p:modules";
#line 44
    features___1[16] = (char *)"p:dirstack";
#line 44
    features___1[17] = (char *)"p:history";
#line 44
    features___1[18] = (char *)"p:historywords";
#line 44
    features___1[19] = (char *)"p:jobtexts";
#line 44
    features___1[20] = (char *)"p:jobdirs";
#line 44
    features___1[21] = (char *)"p:jobstates";
#line 44
    features___1[22] = (char *)"p:nameddirs";
#line 44
    features___1[23] = (char *)"p:userdirs";
#line 44
    features___1[24] = (char *)"p:aliases";
#line 44
    features___1[25] = (char *)"p:dis_aliases";
#line 44
    features___1[26] = (char *)"p:galiases";
#line 44
    features___1[27] = (char *)"p:dis_galiases";
#line 44
    features___1[28] = (char *)"p:saliases";
#line 44
    features___1[29] = (char *)"p:dis_saliases";
#line 44
    features___1[30] = (char *)((void *)0);
#line 77
    autofeatures("zsh", "zsh/parameter", features___1, 0, 1);
    }
  }
#line 82
  if (emulation & (1 << 4)) {
    {
#line 83
    features___2[0] = (char *)"b:echotc";
#line 83
    features___2[1] = (char *)"p:termcap";
#line 83
    features___2[2] = (char *)((void *)0);
#line 88
    autofeatures("zsh", "zsh/termcap", features___2, 0, 1);
    }
  }
#line 93
  if (emulation & (1 << 4)) {
    {
#line 94
    features___3[0] = (char *)"b:echoti";
#line 94
    features___3[1] = (char *)"p:terminfo";
#line 94
    features___3[2] = (char *)((void *)0);
#line 99
    autofeatures("zsh", "zsh/terminfo", features___3, 0, 1);
    }
  }
#line 104
  if (emulation & (1 << 4)) {
    {
#line 105
    features___4[0] = (char *)"b:zformat";
#line 105
    features___4[1] = (char *)"b:zstyle";
#line 105
    features___4[2] = (char *)"b:zregexparse";
#line 105
    features___4[3] = (char *)"b:zparseopts";
#line 105
    features___4[4] = (char *)((void *)0);
#line 112
    autofeatures("zsh", "zsh/zutil", features___4, 0, 1);
    }
  }
  {
#line 114
  add_dep("zsh/zutil", (char *)"zsh/complete");
  }
#line 118
  if (emulation & (1 << 4)) {
    {
#line 119
    features___5[0] = (char *)"b:compctl";
#line 119
    features___5[1] = (char *)"b:compcall";
#line 119
    features___5[2] = (char *)((void *)0);
#line 124
    autofeatures("zsh", "zsh/compctl", features___5, 0, 1);
    }
  }
  {
#line 126
  add_dep("zsh/compctl", (char *)"zsh/complete");
#line 127
  add_dep("zsh/compctl", (char *)"zsh/zle");
  }
#line 131
  if (emulation & (1 << 4)) {
    {
#line 132
    features___6[0] = (char *)"b:compadd";
#line 132
    features___6[1] = (char *)"b:compset";
#line 132
    features___6[2] = (char *)"c:prefix";
#line 132
    features___6[3] = (char *)"c:suffix";
#line 132
    features___6[4] = (char *)"c:between";
#line 132
    features___6[5] = (char *)"c:after";
#line 132
    features___6[6] = (char *)((void *)0);
#line 141
    autofeatures("zsh", "zsh/complete", features___6, 0, 1);
    }
  }
  {
#line 143
  add_dep("zsh/complete", (char *)"zsh/zle");
#line 147
  add_dep("zsh/complist", (char *)"zsh/complete");
#line 148
  add_dep("zsh/complist", (char *)"zsh/zle");
  }
#line 152
  if (emulation & (1 << 4)) {
    {
#line 153
    features___7[0] = (char *)"b:compdescribe";
#line 153
    features___7[1] = (char *)"b:comparguments";
#line 153
    features___7[2] = (char *)"b:compvalues";
#line 153
    features___7[3] = (char *)"b:compquote";
#line 153
    features___7[4] = (char *)"b:comptags";
#line 153
    features___7[5] = (char *)"b:comptry";
#line 153
    features___7[6] = (char *)"b:compfiles";
#line 153
    features___7[7] = (char *)"b:compgroups";
#line 153
    features___7[8] = (char *)((void *)0);
#line 164
    autofeatures("zsh", "zsh/computil", features___7, 0, 1);
    }
  }
  {
#line 166
  add_dep("zsh/computil", (char *)"zsh/complete");
#line 167
  add_dep("zsh/computil", (char *)"zsh/zle");
  }
#line 171
  if (emulation & (1 << 4)) {
    {
#line 172
    features___8[0] = (char *)"b:bindkey";
#line 172
    features___8[1] = (char *)"b:vared";
#line 172
    features___8[2] = (char *)"b:zle";
#line 172
    features___8[3] = (char *)((void *)0);
#line 178
    autofeatures("zsh", "zsh/zle", features___8, 0, 1);
    }
  }
#line 183
  if (emulation & (1 << 4)) {
    {
#line 184
    features___9[0] = (char *)"p:widgets";
#line 184
    features___9[1] = (char *)"p:keymaps";
#line 184
    features___9[2] = (char *)((void *)0);
#line 189
    autofeatures("zsh", "zsh/zleparameter", features___9, 0, 1);
    }
  }
  {
#line 191
  add_dep("zsh/zleparameter", (char *)"zsh/zle");
#line 203
  register_module((char *)"zsh/main", & setup_zshQsmain, & features_zshQsmain, & enables_zshQsmain,
                  & boot_zshQsmain, & cleanup_zshQsmain, & finish_zshQsmain);
#line 1467 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
  load_module("zsh/main", (Feature_enables )((void *)0), 0);
  }
#line 1468
  return;
}
}
#line 1471 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void noop_function(void) 
{ 


  {
#line 1475
  return;
}
}
#line 1478 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
void noop_function_int(int nothing  __attribute__((__unused__)) ) 
{ 


  {
#line 1482
  return;
}
}
#line 1501 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
char *zleentry(int cmd  , ...) 
{ 
  char *ret ;
  va_list ap ;
  int tmp ;
  char *pptbuf ;
  char **lp ;
  int pptlen ;
  char **tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  int *ll ;
  int *cs ;
  int *tmp___3 ;
  int *tmp___4 ;
  int tmp___5 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
  {
#line 1505
  ret = (char *)((void *)0);
#line 1509
  __builtin_va_start(ap, cmd);
  }
  {
#line 1515
  if (zle_load_state == 0) {
#line 1515
    goto case_0;
  }
#line 1535
  if (zle_load_state == 1) {
#line 1535
    goto case_1;
  }
#line 1541
  if (zle_load_state == 2) {
#line 1541
    goto case_2;
  }
#line 1514
  goto switch_break;
  case_0: /* CIL Label */ 
#line 1520
  if (cmd != 3) {
#line 1520
    if (cmd != 4) {
#line 1520
      if (cmd != 5) {
        {
#line 1523
        tmp = load_module("zsh/zle", (Feature_enables )((void *)0), 0);
        }
#line 1523
        if (tmp != 1) {
          {
#line 1524
          load_module("zsh/compctl", (Feature_enables )((void *)0), 0);
#line 1525
          ret = (*zle_entry_ptr)(cmd, ap);
#line 1527
          cmd = -1;
          }
        } else {
#line 1529
          zle_load_state = 2;
        }
      }
    }
  }
#line 1533
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 1536
  ret = (*zle_entry_ptr)(cmd, ap);
#line 1538
  cmd = -1;
  }
#line 1539
  goto switch_break;
  case_2: /* CIL Label */ 
#line 1543
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
  {
#line 1555
  if (cmd == 1) {
#line 1555
    goto case_1___0;
  }
#line 1572
  if (cmd == 0) {
#line 1572
    goto case_0___0;
  }
#line 1547
  goto switch_break___0;
  case_1___0: /* CIL Label */ 
  {
#line 1560
  tmp___0 = __builtin_va_arg(ap, char **);
#line 1560
  lp = tmp___0;
  }
#line 1562
  if (lp) {
#line 1562
    tmp___1 = *lp;
  } else {
#line 1562
    tmp___1 = (char *)((void *)0);
  }
  {
#line 1562
  tmp___2 = promptexpand(tmp___1, 0, (char *)((void *)0), (char *)((void *)0), (unsigned int *)((void *)0));
#line 1562
  pptbuf = unmetafy(tmp___2, & pptlen);
#line 1565
  write_loop(2, (char const   *)pptbuf, (size_t )pptlen);
#line 1566
  free((void *)pptbuf);
#line 1568
  ret = shingetline();
  }
#line 1569
  goto switch_break___0;
  case_0___0: /* CIL Label */ 
  {
#line 1576
  tmp___3 = __builtin_va_arg(ap, int *);
#line 1576
  ll = tmp___3;
#line 1577
  tmp___4 = __builtin_va_arg(ap, int *);
#line 1577
  cs = tmp___4;
#line 1578
  tmp___5 = 0;
#line 1578
  *cs = tmp___5;
#line 1578
  *ll = tmp___5;
#line 1579
  ret = ztrdup("");
  }
#line 1580
  goto switch_break___0;
  switch_break___0: /* CIL Label */ ;
  }
  {
#line 1584
  __builtin_va_end(ap);
  }
#line 1585
  return (ret);
}
}
#line 1591 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
int (*compctlreadptr)(char * , char ** , Options  , char * )  =    & fallback_compctlread;
#line 1594 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
int fallback_compctlread(char *name , char **args  __attribute__((__unused__)) , Options ops  __attribute__((__unused__)) ,
                         char *reply  __attribute__((__unused__)) ) 
{ 
  char *__cil_tmp5 ;

  {
  {
#line 1597
  zwarnnam((char const   *)name, "no loaded module provides read for completion context");
  }
#line 1598
  return (1);
}
}
#line 1614 "/home/khheo/testset/zsh-zsh-5.3.1/Src/init.c"
int zsh_main(int argc  __attribute__((__unused__)) , char **argv ) 
{ 
  char **t ;
  char *runscript ;
  char *zsh_name ;
  char *cmd ;
  int t0 ;
  char *arg0 ;
  char *sh ;
  char *tmp ;
  int tmp___0 ;
  long tmp___1 ;
  void *tmp___2 ;
  unsigned char tmp___3 ;
  unsigned char tmp___4 ;
  __uid_t tmp___5 ;
  __uid_t tmp___6 ;
  __gid_t tmp___7 ;
  __gid_t tmp___8 ;
  int tmp___9 ;
  int errexit ;
  char const   *tmp___10 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
  {
#line 1617
  runscript = (char *)((void *)0);
#line 1621
  setlocale(6, "");
#line 1624
  init_jobs(argv, environ);
#line 1631
  typtab['\000'] = (short )((int )typtab[0] | (1 << 12));
#line 1632
  typtab[(unsigned char)131] = (short )((int )typtab[(unsigned char)131] | (1 << 12));
#line 1633
  typtab[(unsigned char)162] = (short )((int )typtab[(unsigned char)162] | (1 << 12));
#line 1634
  t0 = 132;
  }
  {
#line 1634
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1634
    if (! (t0 <= 161)) {
#line 1634
      goto while_break;
    }
#line 1635
    typtab[t0] = (short )((int )typtab[t0] | ((1 << 4) | (1 << 12)));
#line 1634
    t0 ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1637
  t = argv;
  {
#line 1637
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1637
    if (! *t) {
#line 1637
      goto while_break___0;
    }
    {
#line 1637
    *t = metafy(*t, -1, 4);
#line 1637
    t ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1639
  zsh_name = *(argv + 0);
  {
#line 1640
  while (1) {
    while_continue___1: /* CIL Label */ ;
    {
#line 1641
    arg0 = zsh_name;
#line 1642
    zsh_name = strrchr((char const   *)arg0, '/');
    }
#line 1642
    if (zsh_name) {
#line 1645
      zsh_name ++;
    } else {
#line 1643
      zsh_name = arg0;
    }
#line 1646
    if ((int )*zsh_name == 45) {
#line 1647
      zsh_name ++;
    }
    {
#line 1648
    tmp___0 = strcmp((char const   *)zsh_name, "su");
    }
#line 1648
    if (tmp___0 == 0) {
      {
#line 1649
      tmp = zgetenv((char *)"SHELL");
#line 1649
      sh = tmp;
      }
#line 1650
      if (sh) {
#line 1650
        if (*sh) {
#line 1650
          if ((unsigned long )arg0 != (unsigned long )sh) {
#line 1651
            zsh_name = sh;
          } else {
#line 1653
            goto while_break___1;
          }
        } else {
#line 1653
          goto while_break___1;
        }
      } else {
#line 1653
        goto while_break___1;
      }
    } else {
#line 1655
      goto while_break___1;
    }
#line 1640
    if (! zsh_name) {
#line 1640
      goto while_break___1;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 1658
  tmp___1 = zopenmax();
#line 1658
  fdtable_size = (int )tmp___1;
#line 1659
  tmp___2 = zshcalloc((unsigned long )fdtable_size * sizeof(*fdtable));
#line 1659
  fdtable = (unsigned char *)tmp___2;
#line 1660
  tmp___4 = (unsigned char)2;
#line 1660
  *(fdtable + 2) = tmp___4;
#line 1660
  tmp___3 = tmp___4;
#line 1660
  *(fdtable + 1) = tmp___3;
#line 1660
  *(fdtable + 0) = tmp___3;
#line 1662
  createoptiontable();
#line 1663
  emulate((char const   *)zsh_name, 1, & emulation, opts);
#line 1664
  opts[109] = (char )((int )*(*argv) == 45);
#line 1665
  tmp___5 = getuid();
#line 1665
  tmp___6 = geteuid();
  }
#line 1665
  if (tmp___5 != tmp___6) {
#line 1665
    tmp___9 = 1;
  } else {
    {
#line 1665
    tmp___7 = getgid();
#line 1665
    tmp___8 = getegid();
    }
#line 1665
    if (tmp___7 != tmp___8) {
#line 1665
      tmp___9 = 1;
    } else {
#line 1665
      tmp___9 = 0;
    }
  }
  {
#line 1665
  opts[138] = (char )tmp___9;
#line 1667
  parseargs(argv, & runscript, & cmd);
#line 1669
  SHTTY = -1;
#line 1670
  init_io(cmd);
#line 1671
  setupvals(cmd, runscript, zsh_name);
#line 1673
  init_signals();
#line 1674
  init_bltinmods();
#line 1675
  init_builtins();
#line 1676
  run_init_scripts();
#line 1677
  setupshin(runscript);
#line 1678
  init_misc(cmd, zsh_name);
  }
  {
#line 1680
  while (1) {
    while_continue___2: /* CIL Label */ ;
    {
#line 1686
    errexit = 0;
#line 1687
    maybeshrinkjobtab();
    }
    {
#line 1689
    while (1) {
      while_continue___3: /* CIL Label */ ;
      {
#line 1691
      retflag = 0;
#line 1692
      loop(1, 0);
      }
#line 1693
      if (errflag) {
#line 1693
        if (! opts[92]) {
#line 1693
          if (! opts[39]) {
#line 1694
            errexit = 1;
#line 1695
            goto while_break___3;
          }
        }
      }
#line 1689
      if ((unsigned int )tok != 37U) {
#line 1689
        if (! ((unsigned int )tok != 38U)) {
#line 1689
          if (! opts[159]) {
#line 1689
            goto while_break___3;
          }
        }
      } else {
#line 1689
        goto while_break___3;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
#line 1698
    if ((unsigned int )tok == 38U) {
#line 1698
      goto _L;
    } else
#line 1698
    if (errexit) {
      _L: /* CIL Label */ 
#line 1700
      if (! lastval) {
#line 1701
        lastval = (zlong )1;
      }
      {
#line 1702
      stopmsg = 1;
#line 1703
      zexit((int )lastval, 0);
      }
    }
#line 1705
    if (opts[89]) {
#line 1705
      if (! opts[92]) {
        {
#line 1710
        zexit((int )lastval, 0);
        }
#line 1711
        goto __Cont;
      }
    } else {
      {
#line 1710
      zexit((int )lastval, 0);
      }
#line 1711
      goto __Cont;
    }
#line 1713
    noexitct ++;
#line 1714
    if (noexitct >= 10) {
      {
#line 1715
      stopmsg = 1;
#line 1716
      zexit((int )lastval, 0);
      }
    }
#line 1723
    if (! use_exit_printed) {
#line 1724
      if (! opts[109]) {
#line 1724
        tmp___10 = "use \'exit\' to exit.";
      } else {
#line 1724
        tmp___10 = "use \'logout\' to logout.";
      }
      {
#line 1724
      zerrnam("zsh", tmp___10);
      }
    }
    __Cont: /* CIL Label */ ;
  }
  while_break___2: /* CIL Label */ ;
  }
}
}
#line 478 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) fchown)(int __fd ,
                                                                             __uid_t __owner ,
                                                                             __gid_t __group ) ;
#line 803
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) symlink)(char const   *__from ,
                                                                                                char const   *__to ) ;
#line 180 "/usr/include/stdio.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) rename)(char const   *__old ,
                                                                             char const   *__new ) ;
#line 828
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) feof)(FILE *__stream ) ;
#line 858
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) fileno)(FILE *__stream ) ;
#line 297 "/usr/include/x86_64-linux-gnu/sys/stat.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) fchmod)(int __fd ,
                                                                             __mode_t __mode ) ;
#line 734 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) realpath)(char const   * __restrict  __name ,
                                                                                 char * __restrict  __resolved ) ;
#line 37 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
void createhisttable(void) ;
#line 40
int histstrcmp(char const   *str1 , char const   *str2 ) ;
#line 41
extern void addhistnode(HashTable ht , char *nam , void *nodeptr ) ;
#line 42
void freehistnode(HashNode nodeptr ) ;
#line 43
void freehistdata(Histent he , int unlink___0 ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int (*hgetc)(void)  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
void (*hungetc)(int  )  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
void (*hwaddc)(int  )  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
void (*hwbegin)(int  )  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
void (*hwend)(void)  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
void (*addtoline)(int  )  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int stophist  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int expanding  ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int excs  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int exlast  ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
zlong curhist  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
struct histent curline  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
zlong histlinect  ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
HashTable histtab  ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
Histent hist_ring  ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
zlong histsiz  ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
zlong savehistsiz  ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int histdone  ;
#line 23 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int histactive  ;
#line 24 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int hist_ignore_all_dups  ;
#line 25 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int hist_skip_flags  ;
#line 26 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
short *chwords  ;
#line 27 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int chwordlen  ;
#line 28 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int chwordpos  ;
#line 29 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
char *hsubl  ;
#line 30 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
char *hsubr  ;
#line 31 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
char *hptr  ;
#line 32 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
char *chline  ;
#line 33 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
char *zle_chline  ;
#line 34 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int qbang  ;
#line 35 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.epro"
int hlinesz  ;
#line 36
void hist_context_save(struct hist_stack *hs , int toplevel ) ;
#line 37
void hist_context_restore(struct hist_stack  const  *hs , int toplevel ) ;
#line 39
void iaddtoline(int c ) ;
#line 44
void histreduceblanks(void) ;
#line 45
void histremovedups(void) ;
#line 46
zlong addhistnum(zlong hl , int n , int xflags ) ;
#line 47
Histent movehistent(Histent he , int n , int xflags ) ;
#line 48
Histent up_histent(Histent he ) ;
#line 49
Histent down_histent(Histent he ) ;
#line 50
Histent gethistent(zlong ev , int nearmatch ) ;
#line 51
Histent prepnexthistent(void) ;
#line 53
void ihwbegin(int offset ) ;
#line 54
void ihwend(void) ;
#line 57
char *hgetline(void) ;
#line 58
zlong hcomsearch(char *str ) ;
#line 67
void checkcurline(Histent he ) ;
#line 68
Histent quietgethist(int ev ) ;
#line 72
void savehistfile(char *fn___0 , int err , int writeflags ) ;
#line 73
int lockhistfile(char *fn___0 , int keep_trying ) ;
#line 74
void unlockhistfile(char *fn___0 ) ;
#line 75
int histfileIsLocked(void) ;
#line 77
void histsplitwords(char *lineptr , short **wordsp , int *nwordsp , int *nwordposp ,
                    int uselex ) ;
#line 78
int pushhiststack(char *hf , zlong hs , zlong shs , int level ) ;
#line 79
int pophiststack(void) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.pro"
static void safeinungetc(int c ) ;
#line 3
static int getsubsargs(char *subline  __attribute__((__unused__)) , int *gbalp , int *cflagp ) ;
#line 4
static int getargc(Histent ehist ) ;
#line 5
static int substfailed(void) ;
#line 6
static int histsubchar(int c ) ;
#line 7
static void hwget(char **startptr ) ;
#line 8
static int getargspec(int argc , int marg___0 , int evset ) ;
#line 9
static zlong hconsearch(char *str , int *marg___0 ) ;
#line 10
static char *convamps(char *out , char *in , int inlen ) ;
#line 11
static Histent gethist(int ev ) ;
#line 12
static char *getargs(Histent elist , int arg1 , int arg2 ) ;
#line 13
static int quote(char **tr ) ;
#line 14
static int quotebreak(char **tr ) ;
#line 15
static char *hdynread2(int stop ) ;
#line 202 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static zlong defev  ;
#line 205 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static struct histfile_stats lasthist  ;
#line 212 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static struct histsave *histsave_stack  ;
#line 223 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int histsave_stack_size  =    0;
#line 224 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int histsave_stack_pos  =    0;
#line 226 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static zlong histfile_linect  ;
#line 231 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void hist_context_save(struct hist_stack *hs , int toplevel ) 
{ 
  void *tmp ;

  {
#line 234
  if (toplevel) {
#line 236
    zle_chline = chline;
#line 238
    if (hptr) {
#line 239
      *hptr = (char )'\000';
    }
  }
  {
#line 241
  hs->histactive = histactive;
#line 242
  hs->histdone = histdone;
#line 243
  hs->stophist = stophist;
#line 244
  hs->hline = chline;
#line 245
  hs->hptr = hptr;
#line 246
  hs->chwords = chwords;
#line 247
  hs->chwordlen = chwordlen;
#line 248
  hs->chwordpos = chwordpos;
#line 249
  hs->hgetc = hgetc;
#line 250
  hs->hungetc = hungetc;
#line 251
  hs->hwaddc = hwaddc;
#line 252
  hs->hwbegin = hwbegin;
#line 253
  hs->hwend = hwend;
#line 254
  hs->addtoline = addtoline;
#line 255
  hs->hlinesz = hlinesz;
#line 262
  hs->cstack = cmdstack;
#line 263
  hs->csp = cmdsp;
#line 265
  stophist = 0;
#line 266
  chline = (char *)((void *)0);
#line 267
  hptr = (char *)((void *)0);
#line 268
  histactive = 0;
#line 269
  tmp = zalloc((size_t )256);
#line 269
  cmdstack = (unsigned char *)tmp;
#line 270
  cmdsp = 0;
  }
#line 271
  return;
}
}
#line 276 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void hist_context_restore(struct hist_stack  const  *hs , int toplevel ) 
{ 


  {
#line 279
  if (toplevel) {
#line 282
    zle_chline = (char *)((void *)0);
  }
#line 284
  histactive = (int )hs->histactive;
#line 285
  histdone = (int )hs->histdone;
#line 286
  stophist = (int )hs->stophist;
#line 287
  chline = (char *)hs->hline;
#line 288
  hptr = (char *)hs->hptr;
#line 289
  chwords = (short *)hs->chwords;
#line 290
  chwordlen = (int )hs->chwordlen;
#line 291
  chwordpos = (int )hs->chwordpos;
#line 292
  hgetc = (int (*)(void))hs->hgetc;
#line 293
  hungetc = (void (*)(int  ))hs->hungetc;
#line 294
  hwaddc = (void (*)(int  ))hs->hwaddc;
#line 295
  hwbegin = (void (*)(int  ))hs->hwbegin;
#line 296
  hwend = (void (*)(void))hs->hwend;
#line 297
  addtoline = (void (*)(int  ))hs->addtoline;
#line 298
  hlinesz = (int )hs->hlinesz;
#line 299
  if (cmdstack) {
    {
#line 300
    zfree((void *)cmdstack, 256);
    }
  }
#line 301
  cmdstack = (unsigned char *)hs->cstack;
#line 302
  cmdsp = (int )hs->csp;
#line 303
  return;
}
}
#line 316 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void hist_in_word(int yesno ) 
{ 


  {
#line 319
  if (yesno) {
#line 320
    histactive |= 1 << 2;
  } else {
#line 322
    histactive &= ~ (1 << 2);
  }
#line 323
  return;
}
}
#line 327 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void ihwaddc(int c ) 
{ 
  char *tmp ;
  int oldsiz ;
  void *tmp___0 ;

  {
#line 331
  if (chline) {
#line 331
    if (! errflag) {
#line 331
      if (! lexstop) {
#line 331
        if ((inbufflags & ((1 << 1) | (1 << 2))) != 1 << 1) {
#line 342
          if (c == (int )bangchar) {
#line 342
            if (stophist < 2) {
#line 342
              if (qbang) {
                {
#line 348
                (*hwaddc)('\\');
                }
              }
            }
          }
#line 349
          tmp = hptr;
#line 349
          hptr ++;
#line 349
          *tmp = (char )c;
#line 352
          if (hptr - chline >= (long )hlinesz) {
            {
#line 353
            oldsiz = hlinesz;
#line 355
            hlinesz = oldsiz + 64;
#line 355
            tmp___0 = realloc((void *)chline, (size_t )hlinesz);
#line 355
            chline = (char *)tmp___0;
#line 356
            hptr = chline + oldsiz;
            }
          }
        }
      }
    }
  }
#line 359
  return;
}
}
#line 367 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void iaddtoline(int c ) 
{ 
  int tmp ;

  {
#line 370
  if (! expanding) {
#line 371
    return;
  } else
#line 370
  if (lexstop) {
#line 371
    return;
  }
#line 372
  if (qbang) {
#line 372
    if (c == (int )bangchar) {
#line 372
      if (stophist < 2) {
        {
#line 373
        exlast --;
#line 374
        zleentry(2, '\\');
        }
      }
    }
  }
#line 376
  if (excs > zlemetacs) {
#line 377
    excs += (1 + inbufct) - exlast;
#line 378
    if (excs < zlemetacs) {
#line 381
      excs = zlemetacs;
    }
  }
#line 383
  exlast = inbufct;
#line 384
  if ((int )typtab[(unsigned char )c] & (1 << 4)) {
#line 384
    tmp = (int )ztokens[c - -124];
  } else {
#line 384
    tmp = c;
  }
  {
#line 384
  zleentry(2, tmp);
  }
#line 385
  return;
}
}
#line 388 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int ihgetc(void) 
{ 
  int c ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 391
  tmp = ingetc();
#line 391
  c = tmp;
  }
#line 393
  if (exit_pending) {
#line 395
    lexstop = 1;
#line 396
    errflag |= 1;
#line 397
    return (' ');
  }
#line 399
  qbang = 0;
#line 400
  if (! stophist) {
#line 400
    if (! (inbufflags & (1 << 1))) {
      {
#line 402
      c = histsubchar(c);
      }
#line 403
      if (c < 0) {
#line 405
        lexstop = 1;
#line 406
        errflag |= 1;
#line 407
        return (' ');
      }
    }
  }
#line 410
  if (inbufflags & (1 << 2)) {
#line 410
    if (! stophist) {
#line 418
      qbang = 0;
#line 419
      if (c == 92) {
        {
#line 419
        c = ingetc();
#line 419
        qbang = c == (int )bangchar;
        }
#line 419
        if (! qbang) {
          {
#line 420
          safeinungetc(c);
#line 420
          c = '\\';
          }
        }
      }
    } else {
#line 410
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 421
  if (stophist) {
#line 421
    goto _L;
  } else
#line 421
  if (inbufflags & (1 << 1)) {
    _L: /* CIL Label */ 
#line 429
    if (c == (int )bangchar) {
#line 429
      if (stophist < 2) {
#line 429
        tmp___0 = 1;
      } else {
#line 429
        tmp___0 = 0;
      }
    } else {
#line 429
      tmp___0 = 0;
    }
#line 429
    qbang = tmp___0;
  }
  {
#line 430
  (*hwaddc)(c);
#line 431
  (*addtoline)(c);
  }
#line 433
  return (c);
}
}
#line 437 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void safeinungetc(int c ) 
{ 


  {
#line 440
  if (lexstop) {
#line 441
    lexstop = 0;
  } else {
    {
#line 443
    inungetc(c);
    }
  }
#line 444
  return;
}
}
#line 447 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void herrflush(void) 
{ 
  int tmp ;

  {
  {
#line 450
  inpopalias();
  }
  {
#line 452
  while (1) {
    while_continue: /* CIL Label */ ;
#line 452
    if (! lexstop) {
#line 452
      if (inbufct) {
#line 452
        if (! (! strin)) {
#line 452
          goto while_break;
        }
      } else {
#line 452
        goto while_break;
      }
    } else {
#line 452
      goto while_break;
    }
    {
#line 453
    tmp = ingetc();
#line 453
    (*hwaddc)(tmp);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 454
  return;
}
}
#line 470 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int getsubsargs(char *subline  __attribute__((__unused__)) , int *gbalp , int *cflagp ) 
{ 
  int del ;
  int follow ;
  char *ptr1 ;
  char *ptr2 ;
  size_t tmp ;

  {
  {
#line 476
  del = ingetc();
#line 477
  ptr1 = hdynread2(del);
  }
#line 478
  if (! ptr1) {
#line 479
    return (1);
  }
  {
#line 480
  ptr2 = hdynread2(del);
#line 481
  tmp = strlen((char const   *)ptr1);
  }
#line 481
  if (tmp) {
    {
#line 482
    zsfree(hsubl);
#line 483
    hsubl = ptr1;
    }
  } else
#line 484
  if (! hsubl) {
    {
#line 485
    zsfree(ptr1);
#line 486
    zsfree(ptr2);
    }
#line 487
    return (0);
  }
  {
#line 489
  zsfree(hsubr);
#line 490
  hsubr = ptr2;
#line 491
  follow = ingetc();
  }
#line 492
  if (follow == 58) {
    {
#line 493
    follow = ingetc();
    }
#line 494
    if (follow == 71) {
#line 495
      *gbalp = 1;
    } else {
      {
#line 497
      inungetc(follow);
#line 498
      *cflagp = 1;
      }
    }
  } else {
    {
#line 501
    inungetc(follow);
    }
  }
#line 502
  return (0);
}
}
#line 508 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int getargc(Histent ehist ) 
{ 
  int tmp ;

  {
#line 511
  if (ehist->nwords) {
#line 511
    tmp = ehist->nwords - 1;
  } else {
#line 511
    tmp = 0;
  }
#line 511
  return (tmp);
}
}
#line 515 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int substfailed(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
#line 518
  herrflush();
#line 519
  zerr("substitution failed");
  }
#line 520
  return (-1);
}
}
#line 531 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int marg  =    -1;
#line 532 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static zlong mev  =    (zlong )-1;
#line 526 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int histsubchar(int c ) 
{ 
  int farg ;
  int evset ;
  int larg ;
  int argc ;
  int cflag ;
  int bflag ;
  zlong ev ;
  char *buf___7 ;
  char *ptr___0 ;
  char *sline ;
  int lexraw_mark ;
  Histent ehist ;
  size_t buflen ;
  int gbal ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int g ;
  int tmp___4 ;
  int tmp___5 ;
  void *tmp___6 ;
  char *tmp___7 ;
  void *tmp___8 ;
  sigset_t oset ;
  zlong t0 ;
  char *tmp___9 ;
  void *tmp___10 ;
  sigset_t oset___0 ;
  zlong tmp___11 ;
  sigset_t oset___1 ;
  sigset_t oset___2 ;
  sigset_t oset___3 ;
  sigset_t oset___4 ;
  sigset_t oset___5 ;
  sigset_t oset___6 ;
  sigset_t oset___7 ;
  int tmp___12 ;
  int gbal___0 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  int one ;
  int oef ;
  int tmp___22 ;
  void *__cil_tmp54 ;
  void *__cil_tmp55 ;
  void *__cil_tmp56 ;
  void *__cil_tmp57 ;
  void *__cil_tmp58 ;
  void *__cil_tmp59 ;
  void *__cil_tmp60 ;
  void *__cil_tmp61 ;
  void *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;

  {
  {
#line 529
  evset = -1;
#line 529
  cflag = 0;
#line 529
  bflag = 0;
#line 547
  lexraw_mark = zshlex_raw_mark(-1);
  }
#line 550
  if (isfirstch) {
#line 550
    if (c == (int )hatchar) {
      {
#line 551
      gbal = 0;
#line 554
      isfirstch = 0;
#line 555
      inungetc((int )hatchar);
#line 556
      ehist = gethist((int )defev);
      }
#line 556
      if (ehist) {
        {
#line 556
        tmp = getargc(ehist);
#line 556
        sline = getargs(ehist, 0, tmp);
        }
#line 556
        if (! sline) {
#line 558
          return (-1);
        }
      } else {
#line 558
        return (-1);
      }
      {
#line 560
      tmp___1 = getsubsargs(sline, & gbal, & cflag);
      }
#line 560
      if (tmp___1) {
        {
#line 561
        tmp___0 = substfailed();
        }
#line 561
        return (tmp___0);
      }
#line 562
      if (! hsubl) {
#line 563
        return (-1);
      }
      {
#line 564
      tmp___3 = subst(& sline, hsubl, hsubr, gbal);
      }
#line 564
      if (tmp___3) {
        {
#line 565
        tmp___2 = substfailed();
        }
#line 565
        return (tmp___2);
      }
    } else {
#line 550
      goto _L___2;
    }
  } else {
    _L___2: /* CIL Label */ 
#line 568
    if (c != 32) {
#line 569
      isfirstch = 0;
    }
#line 570
    if (c == 92) {
      {
#line 571
      tmp___4 = ingetc();
#line 571
      g = tmp___4;
      }
#line 573
      if (g != (int )bangchar) {
        {
#line 574
        safeinungetc(g);
        }
      } else {
#line 576
        qbang = 1;
#line 577
        return ((int )bangchar);
      }
    }
#line 580
    if (c != (int )bangchar) {
#line 581
      return (c);
    }
    {
#line 582
    *hptr = (char )'\000';
#line 583
    c = ingetc();
    }
#line 583
    if (c == 123) {
      {
#line 584
      cflag = 1;
#line 584
      bflag = cflag;
#line 585
      c = ingetc();
      }
    }
#line 587
    if (c == 34) {
      {
#line 588
      stophist = 1;
#line 589
      tmp___5 = ingetc();
      }
#line 589
      return (tmp___5);
    }
#line 591
    if (! cflag) {
#line 591
      if ((int )typtab[(unsigned char )c] & (1 << 3)) {
        {
#line 592
        safeinungetc(c);
        }
#line 593
        return ((int )bangchar);
      } else {
#line 591
        goto _L;
      }
    } else
    _L: /* CIL Label */ 
#line 591
    if (c == 61) {
      {
#line 592
      safeinungetc(c);
      }
#line 593
      return ((int )bangchar);
    } else
#line 591
    if (c == 40) {
      {
#line 592
      safeinungetc(c);
      }
#line 593
      return ((int )bangchar);
    } else
#line 591
    if (lexstop) {
      {
#line 592
      safeinungetc(c);
      }
#line 593
      return ((int )bangchar);
    }
    {
#line 595
    cflag = 0;
#line 596
    buflen = (size_t )265;
#line 596
    tmp___6 = zhalloc(buflen);
#line 596
    buf___7 = (char *)tmp___6;
#line 596
    ptr___0 = buf___7;
#line 600
    queueing_enabled ++;
    }
#line 601
    if (c == 63) {
      {
#line 602
      while (1) {
        while_continue: /* CIL Label */ ;
        {
#line 603
        c = ingetc();
        }
#line 604
        if (c == 63) {
#line 605
          goto while_break;
        } else
#line 604
        if (c == 10) {
#line 605
          goto while_break;
        } else
#line 604
        if (lexstop) {
#line 605
          goto while_break;
        } else {
#line 607
          tmp___7 = ptr___0;
#line 607
          ptr___0 ++;
#line 607
          *tmp___7 = (char )c;
#line 608
          if ((unsigned long )ptr___0 == (unsigned long )(buf___7 + buflen)) {
            {
#line 609
            tmp___8 = hrealloc(buf___7, buflen, 2UL * buflen);
#line 609
            buf___7 = (char *)tmp___8;
#line 610
            ptr___0 = buf___7 + buflen;
#line 611
            buflen *= 2UL;
            }
          }
        }
      }
      while_break: /* CIL Label */ ;
      }
#line 615
      if (c != 10) {
#line 615
        if (! lexstop) {
          {
#line 616
          c = ingetc();
          }
        }
      }
      {
#line 617
      *ptr___0 = (char )'\000';
#line 618
      hsubl = ztrdup((char const   *)buf___7);
#line 618
      ev = hconsearch(hsubl, & marg);
#line 618
      mev = ev;
#line 619
      evset = 0;
      }
#line 620
      if (ev == -1L) {
        {
#line 621
        herrflush();
        }
        {
#line 622
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 622
          queueing_enabled --;
#line 622
          if (! queueing_enabled) {
            {
#line 622
            while (1) {
              while_continue___1: /* CIL Label */ ;
              {
#line 622
              while (1) {
                while_continue___2: /* CIL Label */ ;
#line 622
                if (! (queue_front != queue_rear)) {
#line 622
                  goto while_break___2;
                }
                {
#line 622
                queue_front = (queue_front + 1) % 128;
#line 622
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 622
                zhandler(signal_queue[queue_front]);
#line 622
                signal_setmask(oset);
                }
              }
              while_break___2: /* CIL Label */ ;
              }
#line 622
              goto while_break___1;
            }
            while_break___1: /* CIL Label */ ;
            }
          }
#line 622
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
        {
#line 623
        zerr("no such event: %s", buf___7);
        }
#line 624
        return (-1);
      }
    } else {
      {
#line 629
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 630
        if ((int )typtab[(unsigned char )c] & (1 << 3)) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 59) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 58) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 94) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 36) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 42) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 37) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 125) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 39) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 34) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (c == 96) {
#line 633
          goto while_break___3;
        } else
#line 630
        if (lexstop) {
#line 633
          goto while_break___3;
        }
#line 634
        if ((unsigned long )ptr___0 != (unsigned long )buf___7) {
#line 635
          if (c == 45) {
#line 636
            goto while_break___3;
          }
#line 637
          if ((int )typtab[(unsigned char )*(buf___7 + 0)] & 1) {
#line 637
            goto _L___0;
          } else
#line 637
          if ((int )*(buf___7 + 0) == 45) {
            _L___0: /* CIL Label */ 
#line 637
            if (! ((int )typtab[(unsigned char )c] & 1)) {
#line 638
              goto while_break___3;
            }
          }
        }
#line 640
        tmp___9 = ptr___0;
#line 640
        ptr___0 ++;
#line 640
        *tmp___9 = (char )c;
#line 641
        if ((unsigned long )ptr___0 == (unsigned long )(buf___7 + buflen)) {
          {
#line 642
          tmp___10 = hrealloc(buf___7, buflen, 2UL * buflen);
#line 642
          buf___7 = (char *)tmp___10;
#line 643
          ptr___0 = buf___7 + buflen;
#line 644
          buflen *= 2UL;
          }
        }
#line 646
        if (c == 35) {
          {
#line 647
          c = ingetc();
          }
#line 648
          goto while_break___3;
        } else
#line 646
        if (c == (int )bangchar) {
          {
#line 647
          c = ingetc();
          }
#line 648
          goto while_break___3;
        }
        {
#line 650
        c = ingetc();
        }
      }
      while_break___3: /* CIL Label */ ;
      }
#line 652
      if ((unsigned long )ptr___0 == (unsigned long )buf___7) {
#line 652
        if (c == 125) {
#line 652
          goto _L___1;
        } else
#line 652
        if (c == 59) {
#line 652
          goto _L___1;
        } else
#line 652
        if (c == 39) {
#line 652
          goto _L___1;
        } else
#line 652
        if (c == 34) {
#line 652
          goto _L___1;
        } else
#line 652
        if (c == 96) {
          _L___1: /* CIL Label */ 
          {
#line 655
          safeinungetc(c);
          }
          {
#line 656
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 656
            queueing_enabled --;
#line 656
            if (! queueing_enabled) {
              {
#line 656
              while (1) {
                while_continue___5: /* CIL Label */ ;
                {
#line 656
                while (1) {
                  while_continue___6: /* CIL Label */ ;
#line 656
                  if (! (queue_front != queue_rear)) {
#line 656
                    goto while_break___6;
                  }
                  {
#line 656
                  queue_front = (queue_front + 1) % 128;
#line 656
                  oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 656
                  zhandler(signal_queue[queue_front]);
#line 656
                  signal_setmask(oset___0);
                  }
                }
                while_break___6: /* CIL Label */ ;
                }
#line 656
                goto while_break___5;
              }
              while_break___5: /* CIL Label */ ;
              }
            }
#line 656
            goto while_break___4;
          }
          while_break___4: /* CIL Label */ ;
          }
#line 657
          return ((int )bangchar);
        }
      }
#line 659
      *ptr___0 = (char)0;
#line 660
      if (! *buf___7) {
#line 661
        if (c != 37) {
#line 662
          if (opts[41]) {
            {
#line 663
            ev = addhistnum(curhist, -1, 16);
            }
          } else {
#line 665
            ev = defev;
          }
#line 666
          if (c == 58) {
#line 666
            if (evset == -1) {
#line 667
              evset = 0;
            } else {
#line 669
              evset = 1;
            }
          } else {
#line 669
            evset = 1;
          }
        } else {
#line 671
          if (marg != -1) {
#line 672
            ev = mev;
          } else {
#line 674
            ev = defev;
          }
#line 675
          evset = 0;
        }
      } else {
        {
#line 677
        t0 = zstrtol((char const   *)buf___7, (char **)((void *)0), 10);
        }
#line 677
        if (t0) {
#line 678
          if (t0 < 0L) {
            {
#line 678
            tmp___11 = addhistnum(curhist, (int )t0, 16);
#line 678
            ev = tmp___11;
            }
          } else {
#line 678
            ev = t0;
          }
#line 679
          evset = 1;
        } else
#line 680
        if ((unsigned int )*buf___7 == (unsigned int )bangchar) {
          {
#line 681
          ev = addhistnum(curhist, -1, 16);
#line 682
          evset = 1;
          }
        } else
#line 683
        if ((int )*buf___7 == 35) {
#line 684
          ev = curhist;
#line 685
          evset = 1;
        } else {
          {
#line 686
          ev = hcomsearch(buf___7);
          }
#line 686
          if (ev == -1L) {
            {
#line 687
            herrflush();
            }
            {
#line 688
            while (1) {
              while_continue___7: /* CIL Label */ ;
#line 688
              queueing_enabled --;
#line 688
              if (! queueing_enabled) {
                {
#line 688
                while (1) {
                  while_continue___8: /* CIL Label */ ;
                  {
#line 688
                  while (1) {
                    while_continue___9: /* CIL Label */ ;
#line 688
                    if (! (queue_front != queue_rear)) {
#line 688
                      goto while_break___9;
                    }
                    {
#line 688
                    queue_front = (queue_front + 1) % 128;
#line 688
                    oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 688
                    zhandler(signal_queue[queue_front]);
#line 688
                    signal_setmask(oset___1);
                    }
                  }
                  while_break___9: /* CIL Label */ ;
                  }
#line 688
                  goto while_break___8;
                }
                while_break___8: /* CIL Label */ ;
                }
              }
#line 688
              goto while_break___7;
            }
            while_break___7: /* CIL Label */ ;
            }
            {
#line 689
            zerr("event not found: %s", buf___7);
            }
#line 690
            return (-1);
          } else {
#line 692
            evset = 1;
          }
        }
      }
    }
    {
#line 697
    defev = ev;
#line 697
    ehist = gethist((int )defev);
    }
#line 697
    if (! ehist) {
      {
#line 698
      while (1) {
        while_continue___10: /* CIL Label */ ;
#line 698
        queueing_enabled --;
#line 698
        if (! queueing_enabled) {
          {
#line 698
          while (1) {
            while_continue___11: /* CIL Label */ ;
            {
#line 698
            while (1) {
              while_continue___12: /* CIL Label */ ;
#line 698
              if (! (queue_front != queue_rear)) {
#line 698
                goto while_break___12;
              }
              {
#line 698
              queue_front = (queue_front + 1) % 128;
#line 698
              oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 698
              zhandler(signal_queue[queue_front]);
#line 698
              signal_setmask(oset___2);
              }
            }
            while_break___12: /* CIL Label */ ;
            }
#line 698
            goto while_break___11;
          }
          while_break___11: /* CIL Label */ ;
          }
        }
#line 698
        goto while_break___10;
      }
      while_break___10: /* CIL Label */ ;
      }
#line 699
      return (-1);
    }
    {
#line 703
    argc = getargc(ehist);
    }
#line 704
    if (c == 58) {
      {
#line 705
      cflag = 1;
#line 706
      c = ingetc();
      }
#line 707
      if (c == 37) {
#line 707
        if (marg != -1) {
#line 708
          if (! evset) {
            {
#line 709
            defev = mev;
#line 709
            ehist = gethist((int )defev);
#line 710
            argc = getargc(ehist);
            }
          } else {
            {
#line 712
            herrflush();
            }
            {
#line 713
            while (1) {
              while_continue___13: /* CIL Label */ ;
#line 713
              queueing_enabled --;
#line 713
              if (! queueing_enabled) {
                {
#line 713
                while (1) {
                  while_continue___14: /* CIL Label */ ;
                  {
#line 713
                  while (1) {
                    while_continue___15: /* CIL Label */ ;
#line 713
                    if (! (queue_front != queue_rear)) {
#line 713
                      goto while_break___15;
                    }
                    {
#line 713
                    queue_front = (queue_front + 1) % 128;
#line 713
                    oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 713
                    zhandler(signal_queue[queue_front]);
#line 713
                    signal_setmask(oset___3);
                    }
                  }
                  while_break___15: /* CIL Label */ ;
                  }
#line 713
                  goto while_break___14;
                }
                while_break___14: /* CIL Label */ ;
                }
              }
#line 713
              goto while_break___13;
            }
            while_break___13: /* CIL Label */ ;
            }
            {
#line 714
            zerr("ambiguous history reference");
            }
#line 715
            return (-1);
          }
        }
      }
    }
#line 720
    if (c == 42) {
#line 721
      farg = 1;
#line 722
      larg = argc;
#line 723
      cflag = 0;
    } else {
      {
#line 725
      inungetc(c);
#line 726
      farg = getargspec(argc, marg, evset);
#line 726
      larg = farg;
      }
#line 727
      if (larg == -2) {
        {
#line 728
        while (1) {
          while_continue___16: /* CIL Label */ ;
#line 728
          queueing_enabled --;
#line 728
          if (! queueing_enabled) {
            {
#line 728
            while (1) {
              while_continue___17: /* CIL Label */ ;
              {
#line 728
              while (1) {
                while_continue___18: /* CIL Label */ ;
#line 728
                if (! (queue_front != queue_rear)) {
#line 728
                  goto while_break___18;
                }
                {
#line 728
                queue_front = (queue_front + 1) % 128;
#line 728
                oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 728
                zhandler(signal_queue[queue_front]);
#line 728
                signal_setmask(oset___4);
                }
              }
              while_break___18: /* CIL Label */ ;
              }
#line 728
              goto while_break___17;
            }
            while_break___17: /* CIL Label */ ;
            }
          }
#line 728
          goto while_break___16;
        }
        while_break___16: /* CIL Label */ ;
        }
#line 729
        return (-1);
      }
#line 731
      if (farg != -1) {
#line 732
        cflag = 0;
      }
      {
#line 733
      c = ingetc();
      }
#line 734
      if (c == 42) {
#line 735
        cflag = 0;
#line 736
        larg = argc;
      } else
#line 737
      if (c == 45) {
        {
#line 738
        cflag = 0;
#line 739
        larg = getargspec(argc, marg, evset);
        }
#line 740
        if (larg == -2) {
          {
#line 741
          while (1) {
            while_continue___19: /* CIL Label */ ;
#line 741
            queueing_enabled --;
#line 741
            if (! queueing_enabled) {
              {
#line 741
              while (1) {
                while_continue___20: /* CIL Label */ ;
                {
#line 741
                while (1) {
                  while_continue___21: /* CIL Label */ ;
#line 741
                  if (! (queue_front != queue_rear)) {
#line 741
                    goto while_break___21;
                  }
                  {
#line 741
                  queue_front = (queue_front + 1) % 128;
#line 741
                  oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 741
                  zhandler(signal_queue[queue_front]);
#line 741
                  signal_setmask(oset___5);
                  }
                }
                while_break___21: /* CIL Label */ ;
                }
#line 741
                goto while_break___20;
              }
              while_break___20: /* CIL Label */ ;
              }
            }
#line 741
            goto while_break___19;
          }
          while_break___19: /* CIL Label */ ;
          }
#line 742
          return (-1);
        }
#line 744
        if (larg == -1) {
#line 745
          larg = argc - 1;
        }
      } else {
        {
#line 747
        inungetc(c);
        }
      }
    }
#line 749
    if (farg == -1) {
#line 750
      farg = 0;
    }
#line 751
    if (larg == -1) {
#line 752
      larg = argc;
    }
    {
#line 753
    sline = getargs(ehist, farg, larg);
    }
#line 753
    if (! sline) {
      {
#line 754
      while (1) {
        while_continue___22: /* CIL Label */ ;
#line 754
        queueing_enabled --;
#line 754
        if (! queueing_enabled) {
          {
#line 754
          while (1) {
            while_continue___23: /* CIL Label */ ;
            {
#line 754
            while (1) {
              while_continue___24: /* CIL Label */ ;
#line 754
              if (! (queue_front != queue_rear)) {
#line 754
                goto while_break___24;
              }
              {
#line 754
              queue_front = (queue_front + 1) % 128;
#line 754
              oset___6 = signal_setmask(signal_mask_queue[queue_front]);
#line 754
              zhandler(signal_queue[queue_front]);
#line 754
              signal_setmask(oset___6);
              }
            }
            while_break___24: /* CIL Label */ ;
            }
#line 754
            goto while_break___23;
          }
          while_break___23: /* CIL Label */ ;
          }
        }
#line 754
        goto while_break___22;
      }
      while_break___22: /* CIL Label */ ;
      }
#line 755
      return (-1);
    }
    {
#line 757
    while (1) {
      while_continue___25: /* CIL Label */ ;
#line 757
      queueing_enabled --;
#line 757
      if (! queueing_enabled) {
        {
#line 757
        while (1) {
          while_continue___26: /* CIL Label */ ;
          {
#line 757
          while (1) {
            while_continue___27: /* CIL Label */ ;
#line 757
            if (! (queue_front != queue_rear)) {
#line 757
              goto while_break___27;
            }
            {
#line 757
            queue_front = (queue_front + 1) % 128;
#line 757
            oset___7 = signal_setmask(signal_mask_queue[queue_front]);
#line 757
            zhandler(signal_queue[queue_front]);
#line 757
            signal_setmask(oset___7);
            }
          }
          while_break___27: /* CIL Label */ ;
          }
#line 757
          goto while_break___26;
        }
        while_break___26: /* CIL Label */ ;
        }
      }
#line 757
      goto while_break___25;
    }
    while_break___25: /* CIL Label */ ;
    }
  }
  {
#line 762
  while (1) {
    while_continue___28: /* CIL Label */ ;
#line 763
    if (cflag) {
#line 763
      c = ':';
    } else {
      {
#line 763
      tmp___12 = ingetc();
#line 763
      c = tmp___12;
      }
    }
#line 764
    cflag = 0;
#line 765
    if (c == 58) {
      {
#line 766
      gbal___0 = 0;
#line 768
      c = ingetc();
      }
#line 768
      if (c == 103) {
        {
#line 769
        gbal___0 = 1;
#line 770
        c = ingetc();
        }
#line 771
        if (c != 115) {
#line 771
          if (c != 38) {
            {
#line 772
            zerr("\'s\' or \'&\' modifier expected after \'g\'");
            }
#line 773
            return (-1);
          }
        }
      }
      {
#line 777
      if (c == 112) {
#line 777
        goto case_112;
      }
#line 780
      if (c == 97) {
#line 780
        goto case_97;
      }
#line 788
      if (c == 65) {
#line 788
        goto case_65;
      }
#line 795
      if (c == 99) {
#line 795
        goto case_99;
      }
#line 802
      if (c == 104) {
#line 802
        goto case_104;
      }
#line 809
      if (c == 101) {
#line 809
        goto case_101;
      }
#line 816
      if (c == 114) {
#line 816
        goto case_114;
      }
#line 823
      if (c == 116) {
#line 823
        goto case_116;
      }
#line 830
      if (c == 115) {
#line 830
        goto case_115;
      }
#line 833
      if (c == 38) {
#line 833
        goto case_38;
      }
#line 843
      if (c == 113) {
#line 843
        goto case_113;
      }
#line 846
      if (c == 81) {
#line 846
        goto case_81;
      }
#line 858
      if (c == 120) {
#line 858
        goto case_120;
      }
#line 861
      if (c == 108) {
#line 861
        goto case_108;
      }
#line 864
      if (c == 117) {
#line 864
        goto case_117;
      }
#line 867
      goto switch_default;
      case_112: /* CIL Label */ 
#line 778
      histdone = 3;
#line 779
      goto switch_break;
      case_97: /* CIL Label */ 
      {
#line 781
      tmp___13 = chabspath(& sline);
      }
#line 781
      if (! tmp___13) {
        {
#line 782
        herrflush();
#line 783
        zerr("modifier failed: a");
        }
#line 784
        return (-1);
      }
#line 786
      goto switch_break;
      case_65: /* CIL Label */ 
      {
#line 789
      tmp___14 = chrealpath(& sline);
      }
#line 789
      if (! tmp___14) {
        {
#line 790
        herrflush();
#line 791
        zerr("modifier failed: A");
        }
#line 792
        return (-1);
      }
#line 794
      goto switch_break;
      case_99: /* CIL Label */ 
      {
#line 796
      sline = equalsubstr(sline, 0, 0);
      }
#line 796
      if (! sline) {
        {
#line 797
        herrflush();
#line 798
        zerr("modifier failed: c");
        }
#line 799
        return (-1);
      }
#line 801
      goto switch_break;
      case_104: /* CIL Label */ 
      {
#line 803
      tmp___15 = remtpath(& sline);
      }
#line 803
      if (! tmp___15) {
        {
#line 804
        herrflush();
#line 805
        zerr("modifier failed: h");
        }
#line 806
        return (-1);
      }
#line 808
      goto switch_break;
      case_101: /* CIL Label */ 
      {
#line 810
      tmp___16 = rembutext(& sline);
      }
#line 810
      if (! tmp___16) {
        {
#line 811
        herrflush();
#line 812
        zerr("modifier failed: e");
        }
#line 813
        return (-1);
      }
#line 815
      goto switch_break;
      case_114: /* CIL Label */ 
      {
#line 817
      tmp___17 = remtext(& sline);
      }
#line 817
      if (! tmp___17) {
        {
#line 818
        herrflush();
#line 819
        zerr("modifier failed: r");
        }
#line 820
        return (-1);
      }
#line 822
      goto switch_break;
      case_116: /* CIL Label */ 
      {
#line 824
      tmp___18 = remlpaths(& sline);
      }
#line 824
      if (! tmp___18) {
        {
#line 825
        herrflush();
#line 826
        zerr("modifier failed: t");
        }
#line 827
        return (-1);
      }
#line 829
      goto switch_break;
      case_115: /* CIL Label */ 
      {
#line 831
      tmp___19 = getsubsargs(sline, & gbal___0, & cflag);
      }
#line 831
      if (tmp___19) {
#line 832
        return (-1);
      }
      case_38: /* CIL Label */ 
#line 834
      if (hsubl) {
#line 834
        if (hsubr) {
          {
#line 835
          tmp___21 = subst(& sline, hsubl, hsubr, gbal___0);
          }
#line 835
          if (tmp___21) {
            {
#line 836
            tmp___20 = substfailed();
            }
#line 836
            return (tmp___20);
          }
        } else {
          {
#line 838
          herrflush();
#line 839
          zerr("no previous substitution");
          }
#line 840
          return (-1);
        }
      } else {
        {
#line 838
        herrflush();
#line 839
        zerr("no previous substitution");
        }
#line 840
        return (-1);
      }
#line 842
      goto switch_break;
      case_113: /* CIL Label */ 
      {
#line 844
      quote(& sline);
      }
#line 845
      goto switch_break;
      case_81: /* CIL Label */ 
      {
#line 848
      one = noerrs;
#line 848
      oef = errflag;
#line 850
      noerrs = 1;
#line 851
      parse_subst_string(sline);
#line 852
      noerrs = one;
#line 853
      errflag = oef | (errflag & 2);
#line 854
      remnulargs(sline);
#line 855
      untokenize(sline);
      }
#line 857
      goto switch_break;
      case_120: /* CIL Label */ 
      {
#line 859
      quotebreak(& sline);
      }
#line 860
      goto switch_break;
      case_108: /* CIL Label */ 
      {
#line 862
      sline = casemodify(sline, 2);
      }
#line 863
      goto switch_break;
      case_117: /* CIL Label */ 
      {
#line 865
      sline = casemodify(sline, 1);
      }
#line 866
      goto switch_break;
      switch_default: /* CIL Label */ 
      {
#line 868
      herrflush();
#line 869
      zerr("illegal modifier: %c", c);
      }
#line 870
      return (-1);
      switch_break: /* CIL Label */ ;
      }
    } else {
#line 873
      if (c != 125) {
        {
#line 874
        inungetc(c);
        }
      } else
#line 873
      if (! bflag) {
        {
#line 874
        inungetc(c);
        }
      }
#line 875
      if (c != 125) {
#line 875
        if (bflag) {
          {
#line 876
          zerr("\'}\' expected");
          }
#line 877
          return (-1);
        }
      }
#line 879
      goto while_break___28;
    }
  }
  while_break___28: /* CIL Label */ ;
  }
  {
#line 883
  zshlex_raw_back_to_mark(lexraw_mark);
#line 890
  lexstop = 0;
#line 896
  inpush(sline, 1 << 2, (Alias )((void *)0));
#line 897
  histdone |= 1;
  }
#line 898
  if (opts[85]) {
#line 899
    histdone |= 6;
  }
  {
#line 902
  tmp___22 = ingetc();
  }
#line 902
  return (tmp___22);
}
}
#line 908 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void ihungetc(int c ) 
{ 
  int doit ;
  int tmp ;
  int tmp___0 ;

  {
#line 911
  doit = 1;
  {
#line 913
  while (1) {
    while_continue: /* CIL Label */ ;
#line 913
    if (! lexstop) {
#line 913
      if (! (! errflag)) {
#line 913
        goto while_break;
      }
    } else {
#line 913
      goto while_break;
    }
#line 914
    if ((int )*(hptr + -1) != (int )((char )c)) {
#line 914
      if (stophist < 4) {
#line 914
        if ((unsigned long )hptr > (unsigned long )(chline + 1)) {
#line 914
          if ((int )*(hptr + -1) == 10) {
#line 914
            if ((int )*(hptr + -2) == 92) {
#line 914
              if (! (histactive & (1 << 3))) {
#line 914
                if ((inbufflags & ((1 << 1) | (1 << 2))) != 1 << 1) {
                  {
#line 918
                  histactive |= 1 << 3;
#line 919
                  (*hungetc)('\n');
#line 920
                  (*hungetc)('\\');
#line 921
                  histactive &= ~ (1 << 3);
                  }
                }
              }
            }
          }
        }
      }
    }
#line 924
    if (expanding) {
#line 925
      zlemetacs --;
#line 926
      zlemetall --;
#line 927
      exlast ++;
    }
#line 929
    if ((inbufflags & ((1 << 1) | (1 << 2))) != 1 << 1) {
#line 931
      hptr --;
#line 933
      if (c == (int )bangchar) {
#line 933
        if (stophist < 2) {
#line 933
          if ((unsigned long )hptr > (unsigned long )chline) {
#line 933
            if ((int )*(hptr + -1) == 92) {
#line 933
              tmp = 1;
            } else {
#line 933
              tmp = 0;
            }
          } else {
#line 933
            tmp = 0;
          }
        } else {
#line 933
          tmp = 0;
        }
      } else {
#line 933
        tmp = 0;
      }
#line 933
      qbang = tmp;
    } else {
#line 937
      qbang = 0;
    }
#line 939
    if (doit) {
      {
#line 940
      inungetc(c);
      }
    }
#line 941
    if (! qbang) {
#line 942
      return;
    }
#line 943
    if (! stophist) {
#line 943
      if (inbufflags & (1 << 2)) {
#line 943
        tmp___0 = 1;
      } else
#line 943
      if (! (inbufflags & (1 << 1))) {
#line 943
        tmp___0 = 1;
      } else {
#line 943
        tmp___0 = 0;
      }
    } else {
#line 943
      tmp___0 = 0;
    }
#line 943
    doit = tmp___0;
#line 945
    c = '\\';
  }
  while_break: /* CIL Label */ ;
  }
#line 947
  return;
}
}
#line 952 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void strinbeg(int dohist ) 
{ 


  {
  {
#line 955
  strin ++;
#line 956
  hbegin(dohist);
#line 957
  lexinit();
#line 962
  init_parse_status();
  }
#line 963
  return;
}
}
#line 968 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void strinend(void) 
{ 


  {
  {
#line 971
  hend((Eprog )((void *)0));
#line 973
  strin --;
#line 974
  isfirstch = 1;
#line 975
  histdone = 0;
  }
#line 976
  return;
}
}
#line 981 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void nohw(int c  __attribute__((__unused__)) ) 
{ 


  {
#line 984
  return;
}
}
#line 986 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void nohwe(void) 
{ 


  {
#line 989
  return;
}
}
#line 993 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void linkcurline(void) 
{ 
  Histent tmp ;

  {
#line 996
  if (! hist_ring) {
#line 997
    curline.down = & curline;
#line 997
    curline.up = curline.down;
#line 997
    hist_ring = curline.up;
  } else {
#line 999
    curline.up = hist_ring;
#line 1000
    curline.down = hist_ring->down;
#line 1001
    tmp = & curline;
#line 1001
    (hist_ring->down)->up = tmp;
#line 1001
    hist_ring->down = tmp;
#line 1002
    hist_ring = & curline;
  }
#line 1004
  curhist ++;
#line 1004
  curline.histnum = curhist;
#line 1005
  return;
}
}
#line 1007 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void unlinkcurline(void) 
{ 


  {
#line 1010
  (curline.up)->down = curline.down;
#line 1011
  (curline.down)->up = curline.up;
#line 1012
  if ((unsigned long )hist_ring == (unsigned long )(& curline)) {
#line 1013
    if (! histlinect) {
#line 1014
      hist_ring = (Histent )((void *)0);
    } else {
#line 1016
      hist_ring = curline.up;
    }
  }
#line 1018
  curhist --;
#line 1019
  return;
}
}
#line 1024 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void hbegin(int dohist ) 
{ 
  char *hf ;
  void *tmp ;
  void *tmp___0 ;
  char *__cil_tmp5 ;

  {
#line 1029
  isfirstch = 1;
#line 1029
  isfirstln = isfirstch;
#line 1030
  errflag &= -2;
#line 1031
  histdone = 0;
#line 1032
  if (! dohist) {
#line 1033
    stophist = 2;
  } else
#line 1034
  if (dohist != 2) {
#line 1035
    if (! opts[92]) {
#line 1035
      stophist = 2;
    } else
#line 1035
    if (! opts[159]) {
#line 1035
      stophist = 2;
    } else {
#line 1035
      stophist = 0;
    }
  } else {
#line 1037
    stophist = 0;
  }
#line 1049
  if (stophist == 2) {
#line 1050
    hptr = (char *)((void *)0);
#line 1050
    chline = hptr;
#line 1051
    hlinesz = 0;
#line 1052
    chwords = (short *)((void *)0);
#line 1053
    chwordlen = 0;
#line 1054
    hgetc = & ingetc;
#line 1055
    hungetc = & inungetc;
#line 1056
    hwaddc = & nohw;
#line 1057
    hwbegin = & nohw;
#line 1058
    hwend = & nohwe;
#line 1059
    addtoline = & nohw;
  } else {
    {
#line 1061
    hlinesz = 64;
#line 1061
    tmp = zshcalloc((size_t )hlinesz);
#line 1061
    hptr = (char *)tmp;
#line 1061
    chline = hptr;
#line 1062
    chwordlen = 64;
#line 1062
    tmp___0 = zalloc((unsigned long )chwordlen * sizeof(short ));
#line 1062
    chwords = (short *)tmp___0;
#line 1063
    hgetc = & ihgetc;
#line 1064
    hungetc = & ihungetc;
#line 1065
    hwaddc = & ihwaddc;
#line 1066
    hwbegin = & ihwbegin;
#line 1067
    hwend = & ihwend;
#line 1068
    addtoline = & iaddtoline;
    }
#line 1069
    if (! opts[17]) {
#line 1070
      stophist = 4;
    }
  }
#line 1072
  chwordpos = 0;
#line 1074
  if (hist_ring) {
#line 1074
    if (! hist_ring->ftim) {
#line 1074
      if (! strin) {
        {
#line 1075
        hist_ring->ftim = time((time_t *)((void *)0));
        }
      }
    }
  }
#line 1076
  if (dohist == 2) {
#line 1076
    goto _L;
  } else
#line 1076
  if (opts[92]) {
#line 1076
    if (opts[159]) {
      _L: /* CIL Label */ 
#line 1076
      if (! strin) {
        {
#line 1077
        histactive = 1;
#line 1078
        attachtty(mypgrp);
#line 1079
        linkcurline();
#line 1080
        defev = addhistnum(curhist, -1, 16);
        }
      } else {
#line 1082
        histactive = 1 | (1 << 1);
      }
    } else {
#line 1082
      histactive = 1 | (1 << 1);
    }
  } else {
#line 1082
    histactive = 1 | (1 << 1);
  }
  {
#line 1084
  hf = getsparam((char *)"HISTFILE");
  }
#line 1103
  if (opts[91]) {
#line 1103
    if (! opts[156]) {
#line 1103
      if (! opts[90]) {
#line 1103
        if (! (histactive & (1 << 1))) {
#line 1103
          if (! strin) {
#line 1103
            if (histsave_stack_pos == 0) {
              {
#line 1106
              savehistfile(hf, 0, 32784);
              }
            }
          }
        }
      }
    }
  }
#line 1107
  return;
}
}
#line 1110 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void histreduceblanks(void) 
{ 
  int i ;
  int len ;
  int pos ;
  int needblank ;
  int spacecount ;
  int trunc_ok ;
  char *lastptr ;
  char *ptr___0 ;
  int tmp ;
  int tmp___0 ;
  char *tmp___1 ;
  char tmp___2 ;
  char *tmp___3 ;

  {
#line 1113
  spacecount = 0;
#line 1116
  if (opts[77]) {
    {
#line 1117
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1117
      if (! ((int )*(chline + spacecount) == 32)) {
#line 1117
        goto while_break;
      }
#line 1117
      spacecount ++;
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 1119
  i = 0;
#line 1119
  len = spacecount;
  {
#line 1119
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1119
    if (! (i < chwordpos)) {
#line 1119
      goto while_break___0;
    }
#line 1120
    if (i > 0) {
#line 1120
      if ((int )*(chwords + i) > (int )*(chwords + (i - 1))) {
#line 1120
        tmp = 1;
      } else {
#line 1120
        tmp = 0;
      }
    } else {
#line 1120
      tmp = 0;
    }
#line 1120
    len += ((int )*(chwords + (i + 1)) - (int )*(chwords + i)) + tmp;
#line 1119
    i += 2;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1123
  if ((int )*(chline + len) == 0) {
#line 1124
    return;
  }
#line 1127
  if (chwordpos) {
#line 1128
    lastptr = chline + (int )*(chwords + (chwordpos - 1));
  } else {
#line 1130
    lastptr = chline;
  }
#line 1132
  i = 0;
#line 1132
  pos = spacecount;
  {
#line 1132
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 1132
    if (! (i < chwordpos)) {
#line 1132
      goto while_break___1;
    }
#line 1133
    len = (int )*(chwords + (i + 1)) - (int )*(chwords + i);
#line 1134
    if (i < chwordpos - 2) {
#line 1134
      if ((int )*(chwords + (i + 2)) > (int )*(chwords + (i + 1))) {
#line 1134
        tmp___0 = 1;
      } else {
#line 1134
        tmp___0 = 0;
      }
    } else {
#line 1134
      tmp___0 = 0;
    }
#line 1134
    needblank = tmp___0;
#line 1135
    if (pos != (int )*(chwords + i)) {
      {
#line 1136
      memmove((void *)(chline + pos), (void const   *)(chline + (int )*(chwords + i)),
              (size_t )(len + needblank));
#line 1137
      *(chwords + i) = (short )pos;
#line 1138
      *(chwords + (i + 1)) = (short )((int )*(chwords + i) + len);
      }
    }
#line 1140
    pos += len + needblank;
#line 1132
    i += 2;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 1147
  trunc_ok = 1;
#line 1148
  ptr___0 = lastptr;
  {
#line 1148
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 1148
    if (! *ptr___0) {
#line 1148
      goto while_break___2;
    }
#line 1149
    if (! ((int )typtab[(unsigned char )*ptr___0] & (1 << 3))) {
#line 1150
      trunc_ok = 0;
#line 1151
      goto while_break___2;
    }
#line 1148
    ptr___0 ++;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 1154
  if (trunc_ok) {
#line 1155
    *(chline + pos) = (char )'\000';
  } else {
#line 1157
    ptr___0 = chline + pos;
    {
#line 1158
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 1158
      tmp___1 = ptr___0;
#line 1158
      ptr___0 ++;
#line 1158
      tmp___3 = lastptr;
#line 1158
      lastptr ++;
#line 1158
      tmp___2 = *tmp___3;
#line 1158
      *tmp___1 = tmp___2;
#line 1158
      if (! tmp___2) {
#line 1158
        goto while_break___3;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
  }
#line 1161
  return;
}
}
#line 1164 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void histremovedups(void) 
{ 
  Histent he ;
  Histent next___0 ;

  {
#line 1168
  he = hist_ring;
  {
#line 1168
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1168
    if (! he) {
#line 1168
      goto while_break;
    }
    {
#line 1169
    next___0 = up_histent(he);
    }
#line 1170
    if (he->node.flags & 8) {
      {
#line 1171
      freehistnode(& he->node);
      }
    }
#line 1168
    he = next___0;
  }
  while_break: /* CIL Label */ ;
  }
#line 1173
  return;
}
}
#line 1176 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
zlong addhistnum(zlong hl , int n , int xflags ) 
{ 
  int dir ;
  int tmp ;
  int tmp___0 ;
  Histent he ;
  Histent tmp___1 ;
  zlong tmp___2 ;
  zlong tmp___3 ;

  {
#line 1179
  if (n < 0) {
#line 1179
    tmp___0 = -1;
  } else {
#line 1179
    if (n > 0) {
#line 1179
      tmp = 1;
    } else {
#line 1179
      tmp = 0;
    }
#line 1179
    tmp___0 = tmp;
  }
  {
#line 1179
  dir = tmp___0;
#line 1180
  tmp___1 = gethistent(hl, dir);
#line 1180
  he = tmp___1;
  }
#line 1182
  if (! he) {
#line 1183
    return ((zlong )0);
  }
#line 1184
  if (he->histnum != hl) {
#line 1185
    n -= dir;
  }
#line 1186
  if (n) {
    {
#line 1187
    he = movehistent(he, n, xflags);
    }
  }
#line 1188
  if (! he) {
#line 1189
    if (dir < 0) {
#line 1189
      if (hist_ring) {
#line 1189
        tmp___2 = (hist_ring->down)->histnum;
      } else {
#line 1189
        tmp___2 = curhist;
      }
#line 1189
      tmp___3 = tmp___2 - 1L;
    } else {
#line 1189
      tmp___3 = curhist + 1L;
    }
#line 1189
    return (tmp___3);
  }
#line 1190
  return (he->histnum);
}
}
#line 1194 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
Histent movehistent(Histent he , int n , int xflags ) 
{ 


  {
  {
#line 1197
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1197
    if (! (n < 0)) {
#line 1197
      goto while_break;
    }
    {
#line 1198
    he = up_histent(he);
    }
#line 1198
    if (! he) {
#line 1199
      return ((Histent )((void *)0));
    }
#line 1200
    if (! (he->node.flags & xflags)) {
#line 1201
      n ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1203
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1203
    if (! (n > 0)) {
#line 1203
      goto while_break___0;
    }
    {
#line 1204
    he = down_histent(he);
    }
#line 1204
    if (! he) {
#line 1205
      return ((Histent )((void *)0));
    }
#line 1206
    if (! (he->node.flags & xflags)) {
#line 1207
      n --;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 1209
  checkcurline(he);
  }
#line 1210
  return (he);
}
}
#line 1214 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
Histent up_histent(Histent he ) 
{ 
  Histent tmp ;

  {
#line 1217
  if (! he) {
#line 1217
    tmp = (Histent )((void *)0);
  } else
#line 1217
  if ((unsigned long )he->up == (unsigned long )hist_ring) {
#line 1217
    tmp = (Histent )((void *)0);
  } else {
#line 1217
    tmp = he->up;
  }
#line 1217
  return (tmp);
}
}
#line 1221 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
Histent down_histent(Histent he ) 
{ 
  Histent tmp ;

  {
#line 1224
  if ((unsigned long )he == (unsigned long )hist_ring) {
#line 1224
    tmp = (Histent )((void *)0);
  } else {
#line 1224
    tmp = he->down;
  }
#line 1224
  return (tmp);
}
}
#line 1228 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
Histent gethistent(zlong ev , int nearmatch ) 
{ 
  Histent he ;

  {
#line 1233
  if (! hist_ring) {
#line 1234
    return ((Histent )((void *)0));
  }
#line 1236
  if (ev - (hist_ring->down)->histnum < hist_ring->histnum - ev) {
#line 1237
    he = hist_ring->down;
    {
#line 1237
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1237
      if (! (he->histnum < ev)) {
#line 1237
        goto while_break;
      }
#line 1237
      he = he->down;
    }
    while_break: /* CIL Label */ ;
    }
#line 1238
    if (he->histnum != ev) {
#line 1239
      if (nearmatch == 0) {
#line 1241
        return ((Histent )((void *)0));
      } else
#line 1239
      if (nearmatch < 0) {
        {
#line 1239
        he = up_histent(he);
        }
#line 1239
        if ((unsigned long )he == (unsigned long )((void *)0)) {
#line 1241
          return ((Histent )((void *)0));
        }
      }
    }
  } else {
#line 1245
    he = hist_ring;
    {
#line 1245
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1245
      if (! (he->histnum > ev)) {
#line 1245
        goto while_break___0;
      }
#line 1245
      he = he->up;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1246
    if (he->histnum != ev) {
#line 1247
      if (nearmatch == 0) {
#line 1249
        return ((Histent )((void *)0));
      } else
#line 1247
      if (nearmatch > 0) {
        {
#line 1247
        he = down_histent(he);
        }
#line 1247
        if ((unsigned long )he == (unsigned long )((void *)0)) {
#line 1249
          return ((Histent )((void *)0));
        }
      }
    }
  }
  {
#line 1253
  checkcurline(he);
  }
#line 1254
  return (he);
}
}
#line 1260
static void putoldhistentryontop(short keep_going ) ;
#line 1260 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static Histent next  =    (Histent )((void *)0);
#line 1267 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static zlong max_unique_ct  =    (zlong )0;
#line 1257 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void putoldhistentryontop(short keep_going ) 
{ 
  Histent he ;
  Histent tmp ;
  zlong tmp___0 ;
  Histent tmp___1 ;

  {
#line 1261
  if (keep_going) {
#line 1261
    tmp = next;
  } else
#line 1261
  if (! hist_ring) {
#line 1261
    tmp = next;
  } else {
#line 1261
    tmp = hist_ring->down;
  }
#line 1261
  he = tmp;
#line 1262
  if (he) {
#line 1263
    next = he->down;
  } else {
#line 1265
    return;
  }
#line 1266
  if (opts[72]) {
#line 1266
    if (! (he->node.flags & 8)) {
#line 1268
      if (! keep_going) {
#line 1269
        max_unique_ct = savehistsiz;
      }
      {
#line 1270
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1271
        tmp___0 = max_unique_ct;
#line 1271
        max_unique_ct --;
#line 1271
        if (tmp___0 <= 0L) {
#line 1272
          max_unique_ct = (zlong )0;
#line 1273
          he = hist_ring->down;
#line 1274
          next = hist_ring;
#line 1275
          goto while_break;
        } else
#line 1271
        if ((unsigned long )he == (unsigned long )hist_ring) {
#line 1272
          max_unique_ct = (zlong )0;
#line 1273
          he = hist_ring->down;
#line 1274
          next = hist_ring;
#line 1275
          goto while_break;
        }
#line 1277
        he = next;
#line 1278
        next = he->down;
#line 1270
        if (! (! (he->node.flags & 8))) {
#line 1270
          goto while_break;
        }
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
#line 1281
  if ((unsigned long )he != (unsigned long )hist_ring->down) {
#line 1282
    (he->up)->down = he->down;
#line 1283
    (he->down)->up = he->up;
#line 1284
    he->up = hist_ring;
#line 1285
    he->down = hist_ring->down;
#line 1286
    tmp___1 = he;
#line 1286
    (he->down)->up = tmp___1;
#line 1286
    hist_ring->down = tmp___1;
  }
#line 1288
  hist_ring = he;
#line 1289
  return;
}
}
#line 1292 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
Histent prepnexthistent(void) 
{ 
  Histent he ;
  int curline_in_ring ;
  void *tmp ;
  Histent tmp___0 ;
  Histent tmp___1 ;
  Histent tmp___2 ;

  {
#line 1296
  curline_in_ring = (unsigned long )hist_ring == (unsigned long )(& curline);
#line 1298
  if (curline_in_ring) {
    {
#line 1299
    unlinkcurline();
    }
  }
#line 1300
  if (hist_ring) {
#line 1300
    if (hist_ring->node.flags & 32) {
      {
#line 1301
      curhist --;
#line 1302
      freehistnode(& hist_ring->node);
      }
    }
  }
#line 1305
  if (histlinect < histsiz) {
#line 1305
    goto _L;
  } else
#line 1305
  if (! hist_ring) {
    _L: /* CIL Label */ 
    {
#line 1306
    tmp = zshcalloc(sizeof(*he));
#line 1306
    he = (Histent )tmp;
    }
#line 1307
    if (! hist_ring) {
#line 1308
      tmp___1 = he;
#line 1308
      he->down = tmp___1;
#line 1308
      tmp___0 = tmp___1;
#line 1308
      he->up = tmp___0;
#line 1308
      hist_ring = tmp___0;
    } else {
#line 1310
      he->up = hist_ring;
#line 1311
      he->down = hist_ring->down;
#line 1312
      tmp___2 = he;
#line 1312
      (he->down)->up = tmp___2;
#line 1312
      hist_ring->down = tmp___2;
#line 1313
      hist_ring = he;
    }
#line 1315
    histlinect ++;
  } else {
    {
#line 1318
    putoldhistentryontop((short)0);
#line 1319
    freehistdata(hist_ring, 0);
#line 1320
    he = hist_ring;
    }
  }
#line 1322
  curhist ++;
#line 1322
  he->histnum = curhist;
#line 1323
  if (curline_in_ring) {
    {
#line 1324
    linkcurline();
    }
  }
#line 1325
  return (he);
}
}
#line 1330 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int should_ignore_line(Eprog prog ) 
{ 
  Wordcode pc ;
  wordcode code ;
  char *b ;
  char *tmp ;
  int saw_builtin ;
  int tmp___0 ;
  int tmp___1 ;
  HashNode tmp___2 ;
  HashNode tmp___3 ;
  HashNode tmp___4 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 1333
  if (opts[77]) {
#line 1334
    if ((int )*chline == 32) {
#line 1335
      return (1);
    } else
#line 1334
    if (aliasspaceflag) {
#line 1335
      return (1);
    }
  }
#line 1338
  if (! prog) {
#line 1339
    return (0);
  }
#line 1341
  if (opts[79]) {
#line 1342
    pc = prog->prog;
#line 1343
    code = *pc;
#line 1344
    if ((code & (wordcode )((1 << 5) - 1)) == 1U) {
#line 1344
      if ((code >> 5) & (unsigned int )(1 << 5)) {
#line 1344
        if ((*(pc + 2) & (wordcode )((1 << 5) - 1)) == 11U) {
#line 1346
          return (1);
        }
      }
    }
  }
#line 1349
  if (opts[80]) {
    {
#line 1350
    tmp = getjobtext(prog, (Wordcode )((void *)0));
#line 1350
    b = tmp;
    }
#line 1352
    if ((int )*b == 98) {
      {
#line 1352
      tmp___0 = strncmp((char const   *)b, "builtin ", (size_t )8);
      }
#line 1352
      if (tmp___0 == 0) {
#line 1353
        b += 8;
#line 1354
        saw_builtin = 1;
      } else {
#line 1356
        saw_builtin = 0;
      }
    } else {
#line 1356
      saw_builtin = 0;
    }
#line 1357
    if ((int )*b == 104) {
      {
#line 1357
      tmp___1 = strncmp((char const   *)b, "history", (size_t )7);
      }
#line 1357
      if (tmp___1 == 0) {
#line 1357
        if (! *(b + 7)) {
#line 1357
          goto _L;
        } else
#line 1357
        if ((int )*(b + 7) == 32) {
          _L: /* CIL Label */ 
#line 1357
          if (saw_builtin) {
#line 1359
            return (1);
          } else {
            {
#line 1357
            tmp___2 = (*(shfunctab->getnode))(shfunctab, "history");
            }
#line 1357
            if (! tmp___2) {
#line 1359
              return (1);
            }
          }
        }
      }
    }
#line 1360
    if ((int )*b == 114) {
#line 1360
      if (! *(b + 1)) {
#line 1360
        goto _L___0;
      } else
#line 1360
      if ((int )*(b + 1) == 32) {
        _L___0: /* CIL Label */ 
#line 1360
        if (saw_builtin) {
#line 1362
          return (1);
        } else {
          {
#line 1360
          tmp___3 = (*(shfunctab->getnode))(shfunctab, "r");
          }
#line 1360
          if (! tmp___3) {
#line 1362
            return (1);
          }
        }
      }
    }
#line 1363
    if ((int )*b == 102) {
#line 1363
      if ((int )*(b + 1) == 99) {
#line 1363
        if ((int )*(b + 2) == 32) {
#line 1363
          if ((int )*(b + 3) == 45) {
#line 1363
            if (saw_builtin) {
#line 1363
              goto _L___1;
            } else {
              {
#line 1363
              tmp___4 = (*(shfunctab->getnode))(shfunctab, "fc");
              }
#line 1363
              if (! tmp___4) {
                _L___1: /* CIL Label */ 
#line 1365
                b += 3;
                {
#line 1366
                while (1) {
                  while_continue: /* CIL Label */ ;
#line 1367
                  b ++;
#line 1367
                  if ((int )*b == 108) {
#line 1368
                    return (1);
                  }
#line 1366
                  if (! ((int )typtab[(unsigned char )*b] & (1 << 6))) {
#line 1366
                    goto while_break;
                  }
                }
                while_break: /* CIL Label */ ;
                }
              }
            }
          }
        }
      }
    }
  }
#line 1373
  return (0);
}
}
#line 1379 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int hend(Eprog prog ) 
{ 
  int flag ;
  int hookret ;
  int stack_pos ;
  int save ;
  char *hf ;
  sigset_t oset ;
  LinkList hookargs ;
  LinkList tmp ;
  int save_errflag ;
  int tmp___0 ;
  int tmp___1 ;
  char *ptr___0 ;
  Histent he ;
  zlong tmp___2 ;
  Histent he___0 ;
  int newflags ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  sigset_t oset___0 ;
  int tmp___9 ;
  void *__cil_tmp26 ;
  void *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;

  {
#line 1382
  stack_pos = histsave_stack_pos;
#line 1390
  save = 1;
#line 1395
  queueing_enabled ++;
#line 1396
  if (histdone & 8) {
    {
#line 1397
    settyinfo(& shttyinfo);
    }
  }
#line 1398
  if (! (histactive & (1 << 1))) {
    {
#line 1399
    unlinkcurline();
    }
  }
#line 1400
  if (histactive & (1 << 1)) {
    {
#line 1401
    zfree((void *)chline, hlinesz);
#line 1402
    zfree((void *)chwords, (int )((unsigned long )chwordlen * sizeof(short )));
#line 1403
    hptr = (char *)((void *)0);
#line 1403
    chline = hptr;
#line 1404
    chwords = (short *)((void *)0);
#line 1405
    histactive = 0;
    }
    {
#line 1406
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1406
      queueing_enabled --;
#line 1406
      if (! queueing_enabled) {
        {
#line 1406
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 1406
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 1406
            if (! (queue_front != queue_rear)) {
#line 1406
              goto while_break___1;
            }
            {
#line 1406
            queue_front = (queue_front + 1) % 128;
#line 1406
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1406
            zhandler(signal_queue[queue_front]);
#line 1406
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 1406
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 1406
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 1407
    return (1);
  }
#line 1409
  if (hist_ignore_all_dups != (int )opts[75]) {
#line 1409
    hist_ignore_all_dups = (int )opts[75];
#line 1409
    if (hist_ignore_all_dups != 0) {
      {
#line 1411
      histremovedups();
      }
    }
  }
#line 1413
  if (hptr) {
#line 1419
    *hptr = (char )'\000';
  }
  {
#line 1422
  tmp = newlinklist();
#line 1422
  hookargs = tmp;
#line 1423
  save_errflag = errflag;
#line 1424
  errflag = 0;
#line 1426
  insertlinknode(hookargs, hookargs->list.last, (void *)"zshaddhistory");
#line 1427
  insertlinknode(hookargs, hookargs->list.last, (void *)chline);
#line 1428
  callhookfunc((char *)"zshaddhistory", hookargs, 1, & hookret);
#line 1430
  errflag |= save_errflag;
#line 1433
  hf = getsparam((char *)"HISTFILE");
  }
#line 1434
  if (opts[156]) {
    {
#line 1434
    tmp___0 = lockhistfile(hf, 0);
    }
#line 1434
    if (! tmp___0) {
      {
#line 1435
      readhistfile(hf, 0, 32784);
#line 1436
      curline.histnum = curhist + 1L;
      }
    }
  }
#line 1438
  flag = histdone;
#line 1439
  histdone = 0;
#line 1440
  if ((unsigned long )hptr < (unsigned long )(chline + 1)) {
#line 1441
    save = 0;
  } else {
#line 1443
    if ((int )*(hptr + -1) == 10) {
#line 1444
      if (*(chline + 1)) {
#line 1445
        hptr --;
#line 1445
        *hptr = (char )'\000';
      } else {
#line 1447
        save = 0;
      }
    }
#line 1449
    if (chwordpos <= 2) {
#line 1450
      save = 0;
    } else {
      {
#line 1451
      tmp___1 = should_ignore_line(prog);
      }
#line 1451
      if (tmp___1) {
#line 1452
        save = -1;
      } else
#line 1453
      if (hookret == 2) {
#line 1454
        save = -2;
      } else
#line 1455
      if (hookret) {
#line 1456
        save = -1;
      }
    }
  }
#line 1458
  if (flag & 5) {
    {
#line 1461
    ptr___0 = ztrdup((char const   *)chline);
    }
#line 1462
    if ((flag & 5) == 1) {
      {
#line 1463
      zputs((char const   *)ptr___0, shout);
#line 1464
      fputc('\n', shout);
#line 1465
      fflush(shout);
      }
    }
#line 1467
    if (flag & 4) {
      {
#line 1468
      zinsertlinknode(bufstack, & bufstack->node, (void *)ptr___0);
#line 1469
      save = 0;
      }
    } else {
      {
#line 1471
      zsfree(ptr___0);
      }
    }
  }
#line 1473
  if (save) {
#line 1473
    goto _L;
  } else
#line 1473
  if ((int )*chline == 32) {
    _L: /* CIL Label */ 
#line 1475
    he = hist_ring;
    {
#line 1475
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1475
      if (he) {
#line 1475
        if (! (he->node.flags & 16)) {
#line 1475
          goto while_break___2;
        }
      } else {
#line 1475
        goto while_break___2;
      }
      {
#line 1475
      he = up_histent(he);
      }
    }
    while_break___2: /* CIL Label */ ;
    }
#line 1477
    if (he) {
#line 1477
      if (he->node.flags & 32) {
#line 1478
        if ((unsigned long )he == (unsigned long )hist_ring) {
#line 1479
          tmp___2 = curhist;
#line 1479
          curhist --;
#line 1479
          curline.histnum = tmp___2;
        }
        {
#line 1480
        freehistnode(& he->node);
        }
      }
    }
  }
#line 1483
  if (save) {
#line 1495
    if (chwordpos > 1) {
#line 1495
      if (! *(chline + *(chwords + (chwordpos - 2)))) {
#line 1496
        chwordpos -= 2;
#line 1498
        if (opts[81]) {
          {
#line 1499
          histreduceblanks();
          }
        }
      }
    }
#line 1501
    if (save == -1) {
#line 1502
      newflags = 32;
    } else
#line 1503
    if (save == -2) {
#line 1504
      newflags = 64;
    } else {
#line 1506
      newflags = 0;
    }
#line 1507
    if (opts[76]) {
#line 1507
      goto _L___0;
    } else
#line 1507
    if (opts[75]) {
      _L___0: /* CIL Label */ 
#line 1507
      if (save > 0) {
#line 1507
        if (hist_ring) {
          {
#line 1507
          tmp___3 = histstrcmp((char const   *)chline, (char const   *)hist_ring->node.nam);
          }
#line 1507
          if (tmp___3 == 0) {
            {
#line 1514
            he___0 = hist_ring;
#line 1515
            newflags |= he___0->node.flags & 2;
#line 1516
            freehistdata(he___0, 0);
#line 1517
            curline.histnum = curhist;
            }
          } else {
            {
#line 1519
            he___0 = prepnexthistent();
            }
          }
        } else {
          {
#line 1519
          he___0 = prepnexthistent();
          }
        }
      } else {
        {
#line 1519
        he___0 = prepnexthistent();
        }
      }
    } else {
      {
#line 1519
      he___0 = prepnexthistent();
      }
    }
    {
#line 1521
    he___0->node.nam = ztrdup((char const   *)chline);
#line 1522
    he___0->stim = time((time_t *)((void *)0));
#line 1523
    he___0->ftim = 0L;
#line 1524
    he___0->node.flags = newflags;
#line 1526
    tmp___5 = chwordpos / 2;
#line 1526
    he___0->nwords = tmp___5;
    }
#line 1526
    if (tmp___5) {
      {
#line 1527
      tmp___4 = zalloc((unsigned long )chwordpos * sizeof(short ));
#line 1527
      he___0->words = (short *)tmp___4;
#line 1528
      memcpy((void */* __restrict  */)he___0->words, (void const   */* __restrict  */)chwords,
             (unsigned long )chwordpos * sizeof(short ));
      }
    }
#line 1530
    if (! (newflags & 32)) {
      {
#line 1531
      addhistnode(histtab, he___0->node.nam, (void *)he___0);
      }
    }
  }
  {
#line 1533
  zfree((void *)chline, hlinesz);
#line 1534
  zfree((void *)chwords, (int )((unsigned long )chwordlen * sizeof(short )));
#line 1535
  hptr = (char *)((void *)0);
#line 1535
  chline = hptr;
#line 1536
  chwords = (short *)((void *)0);
#line 1537
  histactive = 0;
  }
#line 1541
  if (opts[156]) {
    {
#line 1541
    tmp___6 = histfileIsLocked();
#line 1541
    tmp___8 = tmp___6;
    }
  } else {
#line 1541
    if (opts[90]) {
#line 1541
      tmp___7 = 1;
    } else
#line 1541
    if (opts[91]) {
#line 1541
      if (histsave_stack_pos != 0) {
#line 1541
        tmp___7 = 1;
      } else {
#line 1541
        tmp___7 = 0;
      }
    } else {
#line 1541
      tmp___7 = 0;
    }
#line 1541
    tmp___8 = tmp___7;
  }
#line 1541
  if (tmp___8) {
    {
#line 1544
    savehistfile(hf, 0, 32784);
    }
  }
  {
#line 1545
  unlockhistfile(hf);
  }
  {
#line 1550
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 1550
    if (! (histsave_stack_pos > stack_pos)) {
#line 1550
      goto while_break___3;
    }
    {
#line 1551
    pophiststack();
    }
  }
  while_break___3: /* CIL Label */ ;
  }
  {
#line 1552
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 1552
    queueing_enabled --;
#line 1552
    if (! queueing_enabled) {
      {
#line 1552
      while (1) {
        while_continue___5: /* CIL Label */ ;
        {
#line 1552
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 1552
          if (! (queue_front != queue_rear)) {
#line 1552
            goto while_break___6;
          }
          {
#line 1552
          queue_front = (queue_front + 1) % 128;
#line 1552
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 1552
          zhandler(signal_queue[queue_front]);
#line 1552
          signal_setmask(oset___0);
          }
        }
        while_break___6: /* CIL Label */ ;
        }
#line 1552
        goto while_break___5;
      }
      while_break___5: /* CIL Label */ ;
      }
    }
#line 1552
    goto while_break___4;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 1553
  if (flag & 2) {
#line 1553
    tmp___9 = 0;
  } else
#line 1553
  if (errflag) {
#line 1553
    tmp___9 = 0;
  } else {
#line 1553
    tmp___9 = 1;
  }
#line 1553
  return (tmp___9);
}
}
#line 1559 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void ihwbegin(int offset ) 
{ 
  int tmp ;

  {
#line 1562
  if (stophist == 2) {
#line 1564
    return;
  } else
#line 1562
  if (histactive & (1 << 2)) {
#line 1564
    return;
  } else
#line 1562
  if ((inbufflags & ((1 << 1) | (1 << 2))) == 1 << 1) {
#line 1564
    return;
  }
#line 1565
  if (chwordpos % 2) {
#line 1566
    chwordpos --;
  }
#line 1567
  tmp = chwordpos;
#line 1567
  chwordpos ++;
#line 1567
  *(chwords + tmp) = (short )((hptr - chline) + (long )offset);
#line 1568
  return;
}
}
#line 1573 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void ihwend(void) 
{ 
  int tmp ;
  void *tmp___0 ;

  {
#line 1576
  if (stophist == 2) {
#line 1578
    return;
  } else
#line 1576
  if (histactive & (1 << 2)) {
#line 1578
    return;
  } else
#line 1576
  if ((inbufflags & ((1 << 1) | (1 << 2))) == 1 << 1) {
#line 1578
    return;
  }
#line 1579
  if (chwordpos % 2) {
#line 1579
    if (chline) {
#line 1581
      if ((unsigned long )hptr > (unsigned long )(chline + (int )*(chwords + (chwordpos - 1)))) {
#line 1582
        tmp = chwordpos;
#line 1582
        chwordpos ++;
#line 1582
        *(chwords + tmp) = (short )(hptr - chline);
#line 1583
        if (chwordpos >= chwordlen) {
          {
#line 1584
          chwordlen += 32;
#line 1584
          tmp___0 = realloc((void *)chwords, (unsigned long )chwordlen * sizeof(short ));
#line 1584
          chwords = (short *)tmp___0;
          }
        }
      } else {
#line 1590
        chwordpos --;
      }
    }
  }
#line 1593
  return;
}
}
#line 1598 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void histbackword(void) 
{ 


  {
#line 1601
  if (! (chwordpos % 2)) {
#line 1601
    if (chwordpos) {
#line 1602
      hptr = chline + (int )*(chwords + (chwordpos - 1));
    }
  }
#line 1603
  return;
}
}
#line 1608 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static void hwget(char **startptr ) 
{ 
  int pos ;

  {
#line 1611
  pos = chwordpos - 2;
#line 1628
  *startptr = chline + (int )*(chwords + pos);
#line 1629
  pos ++;
#line 1629
  *(chline + *(chwords + pos)) = (char )'\000';
#line 1630
  return;
}
}
#line 1635 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void hwrep(char *rep ) 
{ 
  char *start ;
  int tmp ;
  char *tmp___0 ;

  {
  {
#line 1639
  hwget(& start);
#line 1641
  tmp = strcmp((char const   *)rep, (char const   *)start);
  }
#line 1641
  if (! tmp) {
#line 1642
    return;
  }
  {
#line 1644
  hptr = start;
#line 1645
  chwordpos -= 2;
#line 1646
  (*hwbegin)(0);
#line 1647
  qbang = 1;
  }
  {
#line 1648
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1648
    if (! *rep) {
#line 1648
      goto while_break;
    }
    {
#line 1649
    tmp___0 = rep;
#line 1649
    rep ++;
#line 1649
    (*hwaddc)((int )*tmp___0);
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1650
  (*hwend)();
  }
#line 1651
  return;
}
}
#line 1656 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
char *hgetline(void) 
{ 
  char *ret ;

  {
#line 1665
  if (! chline) {
#line 1666
    return ((char *)((void *)0));
  } else
#line 1665
  if ((unsigned long )hptr == (unsigned long )chline) {
#line 1666
    return ((char *)((void *)0));
  }
  {
#line 1667
  *hptr = (char )'\000';
#line 1668
  ret = dupstring((char const   *)chline);
#line 1671
  hptr = chline;
#line 1672
  chwordpos = 0;
  }
#line 1674
  return (ret);
}
}
#line 1680 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int getargspec(int argc , int marg___0 , int evset ) 
{ 
  int c ;
  int ret ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
  {
#line 1683
  ret = -1;
#line 1685
  c = ingetc();
  }
#line 1685
  if (c == 48) {
#line 1686
    return (0);
  }
#line 1687
  if ((int )typtab[(unsigned char )c] & 1) {
#line 1688
    ret = 0;
    {
#line 1689
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1689
      if (! ((int )typtab[(unsigned char )c] & 1)) {
#line 1689
        goto while_break;
      }
      {
#line 1690
      ret = (ret * 10 + c) - 48;
#line 1691
      c = ingetc();
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1693
    inungetc(c);
    }
  } else
#line 1694
  if (c == 94) {
#line 1695
    ret = 1;
  } else
#line 1696
  if (c == 36) {
#line 1697
    ret = argc;
  } else
#line 1698
  if (c == 37) {
#line 1699
    if (evset) {
      {
#line 1700
      herrflush();
#line 1701
      zerr("Ambiguous history reference");
      }
#line 1702
      return (-2);
    }
#line 1704
    if (marg___0 == -1) {
      {
#line 1705
      herrflush();
#line 1706
      zerr("%% with no previous word matched");
      }
#line 1707
      return (-2);
    }
#line 1709
    ret = marg___0;
  } else {
    {
#line 1711
    inungetc(c);
    }
  }
#line 1712
  return (ret);
}
}
#line 1718 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static zlong hconsearch(char *str , int *marg___0 ) 
{ 
  int t1 ;
  char *s ;
  Histent he ;
  int pos ;

  {
  {
#line 1721
  t1 = 0;
#line 1725
  he = up_histent(hist_ring);
  }
  {
#line 1725
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1725
    if (! he) {
#line 1725
      goto while_break;
    }
#line 1726
    if (he->node.flags & 16) {
#line 1727
      goto __Cont;
    }
    {
#line 1728
    s = strstr((char const   *)he->node.nam, (char const   *)str);
    }
#line 1728
    if (s) {
#line 1729
      pos = (int )(s - he->node.nam);
      {
#line 1730
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 1730
        if (t1 < he->nwords) {
#line 1730
          if (! ((int )*(he->words + 2 * t1) <= pos)) {
#line 1730
            goto while_break___0;
          }
        } else {
#line 1730
          goto while_break___0;
        }
#line 1731
        t1 ++;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 1732
      *marg___0 = t1 - 1;
#line 1733
      return (he->histnum);
    }
    __Cont: /* CIL Label */ 
    {
#line 1725
    he = up_histent(he);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1736
  return ((zlong )-1);
}
}
#line 1742 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
zlong hcomsearch(char *str ) 
{ 
  Histent he ;
  int len ;
  size_t tmp ;
  int tmp___0 ;

  {
  {
#line 1746
  tmp = strlen((char const   *)str);
#line 1746
  len = (int )tmp;
#line 1748
  he = up_histent(hist_ring);
  }
  {
#line 1748
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1748
    if (! he) {
#line 1748
      goto while_break;
    }
#line 1749
    if (he->node.flags & 16) {
#line 1750
      goto __Cont;
    }
    {
#line 1751
    tmp___0 = strncmp((char const   *)he->node.nam, (char const   *)str, (size_t )len);
    }
#line 1751
    if (tmp___0 == 0) {
#line 1752
      return (he->histnum);
    }
    __Cont: /* CIL Label */ 
    {
#line 1748
    he = up_histent(he);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1754
  return ((zlong )-1);
}
}
#line 1760 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int chabspath(char **junkptr ) 
{ 
  char *current ;
  char *dest ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char tmp___11 ;
  char *tmp___12 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
#line 1765
  if (! *(*junkptr)) {
#line 1766
    return (1);
  }
#line 1768
  if ((int )*(*junkptr) != 47) {
    {
#line 1769
    tmp = zgetcwd();
#line 1769
    tmp___0 = metafy(tmp, -1, 6);
#line 1769
    *junkptr = zhtricat((char const   *)tmp___0, "/", (char const   *)*junkptr);
    }
  }
#line 1772
  current = *junkptr;
#line 1773
  dest = *junkptr;
  {
#line 1785
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1786
    if ((int )*current == 47) {
#line 1791
      tmp___1 = dest;
#line 1791
      dest ++;
#line 1791
      tmp___2 = current;
#line 1791
      current ++;
#line 1791
      *tmp___1 = *tmp___2;
      {
#line 1792
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 1792
        if (! ((int )*current == 47)) {
#line 1792
          goto while_break___0;
        }
#line 1793
        current ++;
      }
      while_break___0: /* CIL Label */ ;
      }
    } else
#line 1794
    if (! *current) {
      {
#line 1795
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1795
        if ((unsigned long )dest > (unsigned long )(*junkptr + 1)) {
#line 1795
          if (! ((int )*(dest + -1) == 47)) {
#line 1795
            goto while_break___1;
          }
        } else {
#line 1795
          goto while_break___1;
        }
#line 1796
        dest --;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1797
      *dest = (char )'\000';
#line 1798
      goto while_break;
    } else
#line 1799
    if ((int )*(current + 0) == 46) {
#line 1799
      if ((int )*(current + 1) == 46) {
#line 1799
        if (! *(current + 2)) {
#line 1799
          goto _L___4;
        } else
#line 1799
        if ((int )*(current + 2) == 47) {
          _L___4: /* CIL Label */ 
#line 1801
          if ((unsigned long )current == (unsigned long )*junkptr) {
#line 1801
            goto _L___0;
          } else
#line 1801
          if ((unsigned long )dest == (unsigned long )*junkptr) {
            _L___0: /* CIL Label */ 
#line 1802
            tmp___3 = dest;
#line 1802
            dest ++;
#line 1802
            *tmp___3 = (char )'.';
#line 1803
            tmp___4 = dest;
#line 1803
            dest ++;
#line 1803
            *tmp___4 = (char )'.';
#line 1804
            current += 2;
          } else
#line 1805
          if ((unsigned long )dest > (unsigned long )(*junkptr + 2)) {
            {
#line 1805
            tmp___7 = strncmp((char const   *)(dest - 3), "../", (size_t )3);
            }
#line 1805
            if (tmp___7) {
#line 1805
              goto _L;
            } else {
#line 1807
              tmp___5 = dest;
#line 1807
              dest ++;
#line 1807
              *tmp___5 = (char )'.';
#line 1808
              tmp___6 = dest;
#line 1808
              dest ++;
#line 1808
              *tmp___6 = (char )'.';
#line 1809
              current += 2;
            }
          } else
          _L: /* CIL Label */ 
#line 1810
          if ((unsigned long )dest > (unsigned long )(*junkptr + 1)) {
#line 1811
            *dest = (char )'\000';
#line 1812
            dest --;
            {
#line 1812
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 1812
              if ((unsigned long )dest > (unsigned long )(*junkptr + 1)) {
#line 1812
                if (! ((int )*(dest + -1) != 47)) {
#line 1812
                  goto while_break___2;
                }
              } else {
#line 1812
                goto while_break___2;
              }
#line 1812
              dest --;
            }
            while_break___2: /* CIL Label */ ;
            }
#line 1815
            if ((int )*(dest + -1) != 47) {
#line 1816
              dest --;
            }
#line 1817
            current += 2;
#line 1818
            if ((int )*current == 47) {
#line 1819
              current ++;
            }
          } else
#line 1820
          if ((unsigned long )dest == (unsigned long )(*junkptr + 1)) {
#line 1822
            current += 2;
          } else {
#line 1824
            return (0);
          }
        } else {
#line 1799
          goto _L___5;
        }
      } else {
#line 1799
        goto _L___5;
      }
    } else
    _L___5: /* CIL Label */ 
#line 1826
    if ((int )*(current + 0) == 46) {
#line 1826
      if ((int )*(current + 1) == 47) {
#line 1826
        goto _L___2;
      } else
#line 1826
      if (! *(current + 1)) {
        _L___2: /* CIL Label */ 
        {
#line 1827
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 1827
          current ++;
#line 1827
          if (! ((int )*current == 47)) {
#line 1827
            goto while_break___3;
          }
        }
        while_break___3: /* CIL Label */ ;
        }
      } else {
#line 1826
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      {
#line 1829
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 1829
        if ((int )*current != 47) {
#line 1829
          if (! ((int )*current != 0)) {
#line 1829
            goto while_break___4;
          }
        } else {
#line 1829
          goto while_break___4;
        }
#line 1830
        tmp___10 = dest;
#line 1830
        dest ++;
#line 1830
        tmp___12 = current;
#line 1830
        current ++;
#line 1830
        tmp___11 = *tmp___12;
#line 1830
        *tmp___10 = tmp___11;
#line 1830
        if ((int )tmp___11 == -125) {
#line 1831
          tmp___8 = dest;
#line 1831
          dest ++;
#line 1831
          tmp___9 = current;
#line 1831
          current ++;
#line 1831
          *tmp___8 = *tmp___9;
        }
      }
      while_break___4: /* CIL Label */ ;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1834
  return (1);
}
}
#line 1838 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int chrealpath(char **junkptr ) 
{ 
  char *str ;
  char *lastpos ;
  char *nonreal ;
  char *real ;
  int tmp ;
  int *tmp___0 ;
  int *tmp___1 ;

  {
#line 1851
  if (! *(*junkptr)) {
#line 1852
    return (1);
  }
  {
#line 1855
  tmp = chabspath(junkptr);
  }
#line 1855
  if (! tmp) {
#line 1856
    return (0);
  }
#line 1865
  if ((int )*(*junkptr) != 47) {
#line 1866
    return (0);
  }
  {
#line 1868
  unmetafy(*junkptr, (int *)((void *)0));
#line 1870
  lastpos = strend(*junkptr);
#line 1871
  nonreal = lastpos + 1;
  }
  {
#line 1873
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 1873
    real = realpath((char const   */* __restrict  */)*junkptr, (char */* __restrict  */)((void *)0));
    }
#line 1873
    if (real) {
#line 1873
      goto while_break;
    }
    {
#line 1882
    tmp___0 = __errno_location();
    }
#line 1882
    if (*tmp___0 == 22) {
#line 1883
      return (0);
    } else {
      {
#line 1882
      tmp___1 = __errno_location();
      }
#line 1882
      if (*tmp___1 == 12) {
#line 1883
        return (0);
      }
    }
#line 1885
    if ((unsigned long )nonreal == (unsigned long )*junkptr) {
#line 1889
      goto while_break;
    }
    {
#line 1892
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1892
      if ((int )*nonreal != 47) {
#line 1892
        if (! ((unsigned long )nonreal >= (unsigned long )*junkptr)) {
#line 1892
          goto while_break___0;
        }
      } else {
#line 1892
        goto while_break___0;
      }
#line 1893
      nonreal --;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1894
    *nonreal = (char )'\000';
  }
  while_break: /* CIL Label */ ;
  }
#line 1897
  str = nonreal;
  {
#line 1898
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 1898
    if (! ((unsigned long )str <= (unsigned long )lastpos)) {
#line 1898
      goto while_break___1;
    }
#line 1899
    if ((int )*str == 0) {
#line 1900
      *str = (char )'/';
    }
#line 1901
    str ++;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 1904
  if (real) {
    {
#line 1905
    str = bicat((char const   *)real, (char const   *)nonreal);
#line 1905
    *junkptr = metafy(str, -1, 6);
#line 1906
    zsfree(str);
#line 1908
    free((void *)real);
    }
  } else {
    {
#line 1911
    *junkptr = metafy(nonreal, (int )((lastpos - nonreal) + 1L), 6);
    }
  }
#line 1915
  return (1);
}
}
#line 1919 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int remtpath(char **junkptr ) 
{ 
  char *str ;
  char *tmp ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
  {
#line 1922
  tmp = strend(*junkptr);
#line 1922
  str = tmp;
  }
  {
#line 1925
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1925
    if ((unsigned long )str >= (unsigned long )*junkptr) {
#line 1925
      if (! ((int )*str == 47)) {
#line 1925
        goto while_break;
      }
    } else {
#line 1925
      goto while_break;
    }
#line 1926
    str --;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1928
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1928
    if ((unsigned long )str >= (unsigned long )*junkptr) {
#line 1928
      if (! (! ((int )*str == 47))) {
#line 1928
        goto while_break___0;
      }
    } else {
#line 1928
      goto while_break___0;
    }
#line 1929
    str --;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1930
  if ((unsigned long )str < (unsigned long )*junkptr) {
#line 1931
    if ((int )*(*junkptr) == 47) {
      {
#line 1932
      *junkptr = dupstring("/");
      }
    } else {
      {
#line 1934
      *junkptr = dupstring(".");
      }
    }
#line 1936
    return (0);
  }
  {
#line 1939
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 1939
    if ((unsigned long )str > (unsigned long )*junkptr) {
#line 1939
      if (! ((int )*(str + -1) == 47)) {
#line 1939
        goto while_break___1;
      }
    } else {
#line 1939
      goto while_break___1;
    }
#line 1940
    str --;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 1942
  if ((unsigned long )str == (unsigned long )*junkptr) {
#line 1943
    str ++;
#line 1947
    if ((int )*str == 47) {
#line 1947
      if (! ((int )*(str + 1) == 47)) {
#line 1948
        str ++;
      }
    }
  }
#line 1950
  *str = (char )'\000';
#line 1951
  return (1);
}
}
#line 1955 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int remtext(char **junkptr ) 
{ 
  char *str ;

  {
  {
#line 1960
  str = strend(*junkptr);
  }
  {
#line 1960
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1960
    if ((unsigned long )str >= (unsigned long )*junkptr) {
#line 1960
      if (! (! ((int )*str == 47))) {
#line 1960
        goto while_break;
      }
    } else {
#line 1960
      goto while_break;
    }
#line 1961
    if ((int )*str == 46) {
#line 1962
      *str = (char )'\000';
#line 1963
      return (1);
    }
#line 1960
    str --;
  }
  while_break: /* CIL Label */ ;
  }
#line 1965
  return (0);
}
}
#line 1969 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int rembutext(char **junkptr ) 
{ 
  char *str ;
  char *__cil_tmp3 ;

  {
  {
#line 1974
  str = strend(*junkptr);
  }
  {
#line 1974
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1974
    if ((unsigned long )str >= (unsigned long )*junkptr) {
#line 1974
      if (! (! ((int )*str == 47))) {
#line 1974
        goto while_break;
      }
    } else {
#line 1974
      goto while_break;
    }
#line 1975
    if ((int )*str == 46) {
      {
#line 1976
      *junkptr = dupstring((char const   *)(str + 1));
      }
#line 1977
      return (1);
    }
#line 1974
    str --;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1980
  *junkptr = dupstring("");
  }
#line 1981
  return (0);
}
}
#line 1985 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int remlpaths(char **junkptr ) 
{ 
  char *str ;
  char *tmp ;

  {
  {
#line 1988
  tmp = strend(*junkptr);
#line 1988
  str = tmp;
  }
#line 1990
  if ((int )*str == 47) {
    {
#line 1992
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1992
      if ((unsigned long )str >= (unsigned long )*junkptr) {
#line 1992
        if (! ((int )*str == 47)) {
#line 1992
          goto while_break;
        }
      } else {
#line 1992
        goto while_break;
      }
#line 1993
      str --;
    }
    while_break: /* CIL Label */ ;
    }
#line 1994
    *(str + 1) = (char )'\000';
  }
  {
#line 1996
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1996
    if (! ((unsigned long )str >= (unsigned long )*junkptr)) {
#line 1996
      goto while_break___0;
    }
#line 1997
    if ((int )*str == 47) {
      {
#line 1998
      *str = (char )'\000';
#line 1999
      *junkptr = dupstring((char const   *)(str + 1));
      }
#line 2000
      return (1);
    }
#line 1996
    str --;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2002
  return (0);
}
}
#line 2012 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
char *casemodify(char *str , int how ) 
{ 
  char *str2 ;
  size_t tmp ;
  void *tmp___0 ;
  char *ptr2 ;
  int nextupper ;
  char *mbstr ;
  size_t tmp___1 ;
  void *tmp___2 ;
  mbstate_t ps ;
  wint_t wc ;
  int len ;
  int tmp___3 ;
  int mod ;
  int len2 ;
  char *tmp___4 ;
  char *tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  char *mbptr ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  int tmp___18 ;
  size_t tmp___19 ;
  int c ;
  char *tmp___20 ;
  unsigned short const   **tmp___21 ;
  unsigned short const   **tmp___22 ;
  unsigned short const   **tmp___23 ;
  unsigned short const   **tmp___24 ;
  char *tmp___25 ;
  char *tmp___26 ;
  char *tmp___27 ;
  void *__cil_tmp43 ;

  {
  {
#line 2015
  tmp = strlen((char const   *)str);
#line 2015
  tmp___0 = zhalloc(2UL * tmp + 1UL);
#line 2015
  str2 = (char *)tmp___0;
#line 2016
  ptr2 = str2;
#line 2017
  nextupper = 1;
  }
#line 2020
  if (opts[116]) {
    {
#line 2021
    tmp___1 = __ctype_get_mb_cur_max();
#line 2021
    tmp___2 = zhalloc(sizeof(char ) * tmp___1);
#line 2021
    mbstr = (char *)tmp___2;
#line 2024
    mb_charinit();
#line 2025
    memset((void *)(& ps), 0, sizeof(ps));
    }
    {
#line 2026
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2026
      if (! *str) {
#line 2026
        goto while_break;
      }
      {
#line 2028
      tmp___3 = mb_metacharlenconv((char const   *)str, & wc);
#line 2028
      len = tmp___3;
#line 2028
      mod = 0;
      }
#line 2034
      if (wc == 4294967295U) {
        {
#line 2035
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 2035
          tmp___6 = len;
#line 2035
          len --;
#line 2035
          if (! tmp___6) {
#line 2035
            goto while_break___0;
          }
#line 2036
          tmp___4 = ptr2;
#line 2036
          ptr2 ++;
#line 2036
          tmp___5 = str;
#line 2036
          str ++;
#line 2036
          *tmp___4 = *tmp___5;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 2038
        nextupper = 1;
#line 2039
        goto while_continue;
      }
      {
#line 2042
      if (how == 2) {
#line 2042
        goto case_2;
      }
#line 2049
      if (how == 1) {
#line 2049
        goto case_1;
      }
#line 2057
      goto switch_default;
      case_2: /* CIL Label */ 
      {
#line 2043
      tmp___7 = iswupper(wc);
      }
#line 2043
      if (tmp___7) {
        {
#line 2044
        wc = towlower(wc);
#line 2045
        mod = 1;
        }
      }
#line 2047
      goto switch_break;
      case_1: /* CIL Label */ 
      {
#line 2050
      tmp___8 = iswlower(wc);
      }
#line 2050
      if (tmp___8) {
        {
#line 2051
        wc = towupper(wc);
#line 2052
        mod = 1;
        }
      }
#line 2054
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 2058
      if (wc != 0U) {
        {
#line 2058
        tmp___9 = wcwidth((wchar_t )wc);
        }
#line 2058
        if (tmp___9 == 0) {
#line 2059
          goto switch_break;
        }
      }
      {
#line 2060
      tmp___12 = iswalnum(wc);
      }
#line 2060
      if (tmp___12) {
#line 2062
        if (nextupper) {
          {
#line 2063
          tmp___10 = iswlower(wc);
          }
#line 2063
          if (tmp___10) {
            {
#line 2064
            wc = towupper(wc);
#line 2065
            mod = 1;
            }
          }
#line 2067
          nextupper = 0;
        } else {
          {
#line 2068
          tmp___11 = iswupper(wc);
          }
#line 2068
          if (tmp___11) {
            {
#line 2069
            wc = towlower(wc);
#line 2070
            mod = 1;
            }
          }
        }
      } else {
#line 2061
        nextupper = 1;
      }
#line 2072
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
#line 2074
      if (mod) {
        {
#line 2074
        tmp___19 = wcrtomb((char */* __restrict  */)mbstr, (wchar_t )wc, (mbstate_t */* __restrict  */)(& ps));
#line 2074
        len2 = (int )tmp___19;
        }
#line 2074
        if (len2 > 0) {
#line 2077
          mbptr = mbstr;
          {
#line 2077
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 2077
            if (! ((unsigned long )mbptr < (unsigned long )(mbstr + len2))) {
#line 2077
              goto while_break___1;
            }
#line 2078
            if ((int )typtab[(unsigned char )*mbptr] & (1 << 12)) {
#line 2079
              tmp___13 = ptr2;
#line 2079
              ptr2 ++;
#line 2079
              *tmp___13 = (char)-125;
#line 2080
              tmp___14 = ptr2;
#line 2080
              ptr2 ++;
#line 2080
              *tmp___14 = (char )((int )*mbptr ^ 32);
            } else {
#line 2082
              tmp___15 = ptr2;
#line 2082
              ptr2 ++;
#line 2082
              *tmp___15 = *mbptr;
            }
#line 2077
            mbptr ++;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 2084
          str += len;
        } else {
#line 2074
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
        {
#line 2086
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 2086
          tmp___18 = len;
#line 2086
          len --;
#line 2086
          if (! tmp___18) {
#line 2086
            goto while_break___2;
          }
#line 2087
          tmp___16 = ptr2;
#line 2087
          ptr2 ++;
#line 2087
          tmp___17 = str;
#line 2087
          str ++;
#line 2087
          *tmp___16 = *tmp___17;
        }
        while_break___2: /* CIL Label */ ;
        }
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 2093
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 2093
      if (! *str) {
#line 2093
        goto while_break___3;
      }
#line 2095
      if ((int )*str == -125) {
#line 2096
        c = (int )*(str + 1) ^ 32;
#line 2097
        str += 2;
      } else {
#line 2099
        tmp___20 = str;
#line 2099
        str ++;
#line 2099
        c = (int )*tmp___20;
      }
      {
#line 2101
      if (how == 2) {
#line 2101
        goto case_2___0;
      }
#line 2106
      if (how == 1) {
#line 2106
        goto case_1___0;
      }
#line 2112
      goto switch_default___0;
      case_2___0: /* CIL Label */ 
      {
#line 2102
      tmp___21 = __ctype_b_loc();
      }
#line 2102
      if ((int const   )*(*tmp___21 + c) & 256) {
        {
#line 2103
        c = tolower(c);
        }
      }
#line 2104
      goto switch_break___0;
      case_1___0: /* CIL Label */ 
      {
#line 2107
      tmp___22 = __ctype_b_loc();
      }
#line 2107
      if ((int const   )*(*tmp___22 + c) & 512) {
        {
#line 2108
        c = toupper(c);
        }
      }
#line 2109
      goto switch_break___0;
      switch_default___0: /* CIL Label */ 
#line 2113
      if (! ((int )typtab[(unsigned char )c] & (1 << 1))) {
#line 2114
        nextupper = 1;
      } else
#line 2115
      if (nextupper) {
        {
#line 2116
        tmp___23 = __ctype_b_loc();
        }
#line 2116
        if ((int const   )*(*tmp___23 + c) & 512) {
          {
#line 2117
          c = toupper(c);
          }
        }
#line 2118
        nextupper = 0;
      } else {
        {
#line 2119
        tmp___24 = __ctype_b_loc();
        }
#line 2119
        if ((int const   )*(*tmp___24 + c) & 256) {
          {
#line 2120
          c = tolower(c);
          }
        }
      }
#line 2121
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
#line 2123
      if ((int )typtab[(unsigned char )c] & (1 << 12)) {
#line 2124
        tmp___25 = ptr2;
#line 2124
        ptr2 ++;
#line 2124
        *tmp___25 = (char)-125;
#line 2125
        tmp___26 = ptr2;
#line 2125
        ptr2 ++;
#line 2125
        *tmp___26 = (char )(c ^ 32);
      } else {
#line 2127
        tmp___27 = ptr2;
#line 2127
        ptr2 ++;
#line 2127
        *tmp___27 = (char )c;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
  }
#line 2129
  *ptr2 = (char )'\000';
#line 2130
  return (str2);
}
}
#line 2143 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int subst(char **strptr , char *in , char *out , int gbal ) 
{ 
  char *str ;
  char *substcut ;
  char *sptr ;
  int off ;
  int inlen ;
  int outlen ;
  int fl ;
  char *oldin ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  size_t tmp___2 ;
  size_t tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;

  {
#line 2146
  str = *strptr;
#line 2149
  if (! *in) {
#line 2150
    in = str;
#line 2150
    gbal = 0;
  }
#line 2152
  if (opts[84]) {
#line 2153
    fl = 2066;
#line 2154
    oldin = in;
#line 2155
    if (gbal) {
#line 2156
      fl |= 512;
    }
#line 2157
    if ((int )*in == 35) {
#line 2159
      fl |= 4096;
#line 2160
      in ++;
    } else
#line 2157
    if ((int )*in == -124) {
#line 2159
      fl |= 4096;
#line 2160
      in ++;
    }
#line 2162
    if ((int )*in == 37) {
#line 2164
      in ++;
#line 2165
      fl |= 1;
    }
#line 2167
    if ((unsigned long )in == (unsigned long )oldin) {
#line 2169
      fl |= 4;
    }
#line 2171
    if ((unsigned long )in == (unsigned long )str) {
      {
#line 2172
      in = dupstring((char const   *)in);
      }
    }
    {
#line 2173
    tmp = parse_subst_string(in);
    }
#line 2173
    if (tmp) {
#line 2174
      return (1);
    } else
#line 2173
    if (errflag) {
#line 2174
      return (1);
    }
    {
#line 2175
    tmp___0 = parse_subst_string(out);
    }
#line 2175
    if (tmp___0) {
#line 2176
      return (1);
    } else
#line 2175
    if (errflag) {
#line 2176
      return (1);
    }
    {
#line 2177
    singsub(& in);
#line 2178
    tmp___1 = getmatch(strptr, in, fl, 1, out);
    }
#line 2178
    if (tmp___1) {
#line 2179
      return (0);
    }
  } else {
    {
#line 2181
    tmp___5 = strstr((char const   *)str, (char const   *)in);
#line 2181
    substcut = tmp___5;
    }
#line 2181
    if (substcut) {
      {
#line 2182
      tmp___2 = strlen((char const   *)in);
#line 2182
      inlen = (int )tmp___2;
#line 2183
      sptr = convamps(out, in, inlen);
#line 2184
      tmp___3 = strlen((char const   *)sptr);
#line 2184
      outlen = (int )tmp___3;
      }
      {
#line 2186
      while (1) {
        while_continue: /* CIL Label */ ;
        {
#line 2187
        *substcut = (char )'\000';
#line 2188
        off = (int )((substcut - *strptr) + (long )outlen);
#line 2189
        substcut += inlen;
#line 2190
        *strptr = zhtricat((char const   *)*strptr, (char const   *)sptr, (char const   *)substcut);
#line 2191
        str = *strptr + off;
        }
#line 2186
        if (gbal) {
          {
#line 2186
          tmp___4 = strstr((char const   *)str, (char const   *)in);
#line 2186
          substcut = tmp___4;
          }
#line 2186
          if (! substcut) {
#line 2186
            goto while_break;
          }
        } else {
#line 2186
          goto while_break;
        }
      }
      while_break: /* CIL Label */ ;
      }
#line 2194
      return (0);
    }
  }
#line 2198
  return (1);
}
}
#line 2202 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static char *convamps(char *out , char *in , int inlen ) 
{ 
  char *ptr___0 ;
  char *ret ;
  char *pp ;
  int slen ;
  int sdup ;
  void *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;

  {
#line 2206
  sdup = 0;
#line 2208
  ptr___0 = out;
#line 2208
  slen = 0;
  {
#line 2208
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2208
    if (! *ptr___0) {
#line 2208
      goto while_break;
    }
#line 2209
    if ((int )*ptr___0 == 92) {
#line 2210
      ptr___0 ++;
#line 2210
      sdup = 1;
    } else
#line 2211
    if ((int )*ptr___0 == 38) {
#line 2212
      slen += inlen - 1;
#line 2212
      sdup = 1;
    }
#line 2208
    ptr___0 ++;
#line 2208
    slen ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2213
  if (! sdup) {
#line 2214
    return (out);
  }
  {
#line 2215
  tmp = zhalloc((size_t )(slen + 1));
#line 2215
  pp = (char *)tmp;
#line 2215
  ret = pp;
#line 2216
  ptr___0 = out;
  }
  {
#line 2216
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2216
    if (! *ptr___0) {
#line 2216
      goto while_break___0;
    }
#line 2217
    if ((int )*ptr___0 == 92) {
#line 2218
      tmp___0 = pp;
#line 2218
      pp ++;
#line 2218
      ptr___0 ++;
#line 2218
      *tmp___0 = *ptr___0;
    } else
#line 2219
    if ((int )*ptr___0 == 38) {
      {
#line 2220
      strcpy((char */* __restrict  */)pp, (char const   */* __restrict  */)in);
#line 2221
      pp += inlen;
      }
    } else {
#line 2223
      tmp___1 = pp;
#line 2223
      pp ++;
#line 2223
      *tmp___1 = *ptr___0;
    }
#line 2216
    ptr___0 ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2224
  *pp = (char )'\000';
#line 2225
  return (ret);
}
}
#line 2229 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void checkcurline(Histent he ) 
{ 


  {
#line 2232
  if (he->histnum == curhist) {
#line 2232
    if (histactive & 1) {
#line 2233
      curline.node.nam = chline;
#line 2234
      curline.nwords = chwordpos / 2;
#line 2235
      curline.words = chwords;
    }
  }
#line 2237
  return;
}
}
#line 2240 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
Histent quietgethist(int ev ) 
{ 
  Histent tmp ;

  {
  {
#line 2243
  tmp = gethistent((zlong )ev, 0);
  }
#line 2243
  return (tmp);
}
}
#line 2247 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static Histent gethist(int ev ) 
{ 
  Histent ret ;
  char *__cil_tmp3 ;

  {
  {
#line 2252
  ret = quietgethist(ev);
  }
#line 2253
  if (! ret) {
    {
#line 2254
    herrflush();
#line 2255
    zerr("no such event: %d", ev);
    }
  }
#line 2257
  return (ret);
}
}
#line 2261 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static char *getargs(Histent elist , int arg1 , int arg2 ) 
{ 
  short *words ;
  int pos1 ;
  int pos2 ;
  int nwords ;
  char *tmp ;
  char *tmp___0 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 2264
  words = elist->words;
#line 2265
  nwords = elist->nwords;
#line 2267
  if (arg2 < arg1) {
    {
#line 2269
    herrflush();
#line 2270
    zerr("no such word in event");
    }
#line 2271
    return ((char *)((void *)0));
  } else
#line 2267
  if (arg1 >= nwords) {
    {
#line 2269
    herrflush();
#line 2270
    zerr("no such word in event");
    }
#line 2271
    return ((char *)((void *)0));
  } else
#line 2267
  if (arg2 >= nwords) {
    {
#line 2269
    herrflush();
#line 2270
    zerr("no such word in event");
    }
#line 2271
    return ((char *)((void *)0));
  }
#line 2275
  if (arg1 == 0) {
#line 2275
    if (arg2 == nwords - 1) {
      {
#line 2276
      tmp = dupstring((char const   *)elist->node.nam);
      }
#line 2276
      return (tmp);
    }
  }
#line 2278
  pos1 = (int )*(words + 2 * arg1);
#line 2279
  pos2 = (int )*(words + (2 * arg2 + 1));
#line 2284
  if (pos1 < 0) {
    {
#line 2285
    herrflush();
#line 2286
    zerr("history event too long, can\'t index requested words");
    }
#line 2287
    return ((char *)((void *)0));
  } else
#line 2284
  if (pos1 < arg1) {
    {
#line 2285
    herrflush();
#line 2286
    zerr("history event too long, can\'t index requested words");
    }
#line 2287
    return ((char *)((void *)0));
  } else
#line 2284
  if (pos2 < 0) {
    {
#line 2285
    herrflush();
#line 2286
    zerr("history event too long, can\'t index requested words");
    }
#line 2287
    return ((char *)((void *)0));
  } else
#line 2284
  if (pos2 < arg2) {
    {
#line 2285
    herrflush();
#line 2286
    zerr("history event too long, can\'t index requested words");
    }
#line 2287
    return ((char *)((void *)0));
  }
  {
#line 2289
  tmp___0 = dupstrpfx((char const   *)(elist->node.nam + pos1), pos2 - pos1);
  }
#line 2289
  return (tmp___0);
}
}
#line 2293 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int quote(char **tr ) 
{ 
  char *ptr___0 ;
  char *rptr ;
  char **str ;
  int len ;
  int inquotes ;
  void *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;

  {
#line 2296
  str = tr;
#line 2297
  len = 3;
#line 2298
  inquotes = 0;
#line 2300
  ptr___0 = *str;
  {
#line 2300
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2300
    if (! *ptr___0) {
#line 2300
      goto while_break;
    }
#line 2301
    if ((int )*ptr___0 == 39) {
#line 2302
      len += 3;
#line 2303
      if (! inquotes) {
#line 2304
        inquotes = 1;
      } else {
#line 2306
        inquotes = 0;
      }
    } else
#line 2307
    if ((int )typtab[(unsigned char )*ptr___0] & (1 << 3)) {
#line 2307
      if (! inquotes) {
#line 2307
        if ((int )*(ptr___0 + -1) != 92) {
#line 2308
          len += 2;
        }
      }
    }
#line 2300
    ptr___0 ++;
#line 2300
    len ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 2309
  ptr___0 = *str;
#line 2310
  tmp = zhalloc((size_t )len);
#line 2310
  rptr = (char *)tmp;
#line 2310
  *str = rptr;
#line 2311
  tmp___0 = rptr;
#line 2311
  rptr ++;
#line 2311
  *tmp___0 = (char )'\'';
  }
  {
#line 2312
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2312
    if (! *ptr___0) {
#line 2312
      goto while_break___0;
    }
#line 2313
    if ((int )*ptr___0 == 39) {
#line 2314
      if (! inquotes) {
#line 2315
        inquotes = 1;
      } else {
#line 2317
        inquotes = 0;
      }
#line 2318
      tmp___1 = rptr;
#line 2318
      rptr ++;
#line 2318
      *tmp___1 = (char )'\'';
#line 2319
      tmp___2 = rptr;
#line 2319
      rptr ++;
#line 2319
      *tmp___2 = (char )'\\';
#line 2320
      tmp___3 = rptr;
#line 2320
      rptr ++;
#line 2320
      *tmp___3 = (char )'\'';
#line 2321
      tmp___4 = rptr;
#line 2321
      rptr ++;
#line 2321
      *tmp___4 = (char )'\'';
    } else
#line 2322
    if ((int )typtab[(unsigned char )*ptr___0] & (1 << 3)) {
#line 2322
      if (! inquotes) {
#line 2322
        if ((int )*(ptr___0 + -1) != 92) {
#line 2323
          tmp___5 = rptr;
#line 2323
          rptr ++;
#line 2323
          *tmp___5 = (char )'\'';
#line 2324
          tmp___6 = rptr;
#line 2324
          rptr ++;
#line 2324
          *tmp___6 = *ptr___0;
#line 2325
          tmp___7 = rptr;
#line 2325
          rptr ++;
#line 2325
          *tmp___7 = (char )'\'';
        } else {
#line 2327
          tmp___8 = rptr;
#line 2327
          rptr ++;
#line 2327
          *tmp___8 = *ptr___0;
        }
      } else {
#line 2327
        tmp___8 = rptr;
#line 2327
        rptr ++;
#line 2327
        *tmp___8 = *ptr___0;
      }
    } else {
#line 2327
      tmp___8 = rptr;
#line 2327
      rptr ++;
#line 2327
      *tmp___8 = *ptr___0;
    }
#line 2312
    ptr___0 ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2328
  tmp___9 = rptr;
#line 2328
  rptr ++;
#line 2328
  *tmp___9 = (char )'\'';
#line 2329
  tmp___10 = rptr;
#line 2329
  rptr ++;
#line 2329
  *tmp___10 = (char)0;
#line 2330
  return (0);
}
}
#line 2334 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int quotebreak(char **tr ) 
{ 
  char *ptr___0 ;
  char *rptr ;
  char **str ;
  int len ;
  void *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;

  {
#line 2337
  str = tr;
#line 2338
  len = 3;
#line 2340
  ptr___0 = *str;
  {
#line 2340
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2340
    if (! *ptr___0) {
#line 2340
      goto while_break;
    }
#line 2341
    if ((int )*ptr___0 == 39) {
#line 2342
      len += 3;
    } else
#line 2343
    if ((int )typtab[(unsigned char )*ptr___0] & (1 << 3)) {
#line 2344
      len += 2;
    }
#line 2340
    ptr___0 ++;
#line 2340
    len ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 2345
  ptr___0 = *str;
#line 2346
  tmp = zhalloc((size_t )len);
#line 2346
  rptr = (char *)tmp;
#line 2346
  *str = rptr;
#line 2347
  tmp___0 = rptr;
#line 2347
  rptr ++;
#line 2347
  *tmp___0 = (char )'\'';
  }
  {
#line 2348
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2348
    if (! *ptr___0) {
#line 2348
      goto while_break___0;
    }
#line 2349
    if ((int )*ptr___0 == 39) {
#line 2350
      tmp___1 = rptr;
#line 2350
      rptr ++;
#line 2350
      *tmp___1 = (char )'\'';
#line 2351
      tmp___2 = rptr;
#line 2351
      rptr ++;
#line 2351
      *tmp___2 = (char )'\\';
#line 2352
      tmp___3 = rptr;
#line 2352
      rptr ++;
#line 2352
      *tmp___3 = (char )'\'';
#line 2353
      tmp___4 = rptr;
#line 2353
      rptr ++;
#line 2353
      *tmp___4 = (char )'\'';
#line 2354
      ptr___0 ++;
    } else
#line 2355
    if ((int )typtab[(unsigned char )*ptr___0] & (1 << 3)) {
#line 2356
      tmp___5 = rptr;
#line 2356
      rptr ++;
#line 2356
      *tmp___5 = (char )'\'';
#line 2357
      tmp___6 = rptr;
#line 2357
      rptr ++;
#line 2357
      tmp___7 = ptr___0;
#line 2357
      ptr___0 ++;
#line 2357
      *tmp___6 = *tmp___7;
#line 2358
      tmp___8 = rptr;
#line 2358
      rptr ++;
#line 2358
      *tmp___8 = (char )'\'';
    } else {
#line 2360
      tmp___9 = rptr;
#line 2360
      rptr ++;
#line 2360
      tmp___10 = ptr___0;
#line 2360
      ptr___0 ++;
#line 2360
      *tmp___9 = *tmp___10;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2361
  tmp___11 = rptr;
#line 2361
  rptr ++;
#line 2361
  *tmp___11 = (char )'\'';
#line 2362
  tmp___12 = rptr;
#line 2362
  rptr ++;
#line 2362
  *tmp___12 = (char )'\000';
#line 2363
  return (0);
}
}
#line 2397 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static char *hdynread2(int stop ) 
{ 
  int bsiz ;
  int ct ;
  int c ;
  char *buf___7 ;
  void *tmp ;
  char *ptr___0 ;
  char *tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 2400
  bsiz = 256;
#line 2400
  ct = 0;
#line 2401
  tmp = zalloc((size_t )bsiz);
#line 2401
  buf___7 = (char *)tmp;
#line 2403
  ptr___0 = buf___7;
  }
  {
#line 2404
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2404
    c = ingetc();
    }
#line 2404
    if (c != stop) {
#line 2404
      if (c != 10) {
#line 2404
        if (! (! lexstop)) {
#line 2404
          goto while_break;
        }
      } else {
#line 2404
        goto while_break;
      }
    } else {
#line 2404
      goto while_break;
    }
#line 2405
    if (c == 92) {
      {
#line 2406
      c = ingetc();
      }
    }
#line 2407
    tmp___0 = ptr___0;
#line 2407
    ptr___0 ++;
#line 2407
    *tmp___0 = (char )c;
#line 2408
    ct ++;
#line 2408
    if (ct == bsiz) {
      {
#line 2409
      bsiz *= 2;
#line 2409
      tmp___1 = realloc((void *)buf___7, (size_t )bsiz);
#line 2409
      buf___7 = (char *)tmp___1;
#line 2410
      ptr___0 = buf___7 + ct;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2413
  *ptr___0 = (char)0;
#line 2414
  if (c == 10) {
    {
#line 2415
    inungetc('\n');
    }
  }
#line 2416
  return (buf___7);
}
}
#line 2420 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void inithist(void) 
{ 


  {
  {
#line 2423
  createhisttable();
  }
#line 2424
  return;
}
}
#line 2427 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void resizehistents(void) 
{ 


  {
#line 2430
  if (histlinect > histsiz) {
    {
#line 2433
    putoldhistentryontop((short)0);
#line 2434
    freehistnode(& hist_ring->node);
    }
    {
#line 2435
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2435
      if (! (histlinect > histsiz)) {
#line 2435
        goto while_break;
      }
      {
#line 2436
      putoldhistentryontop((short)1);
#line 2437
      freehistnode(& hist_ring->node);
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 2440
  return;
}
}
#line 2442 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int readhistline(int start , char **bufp , int *bufsiz , FILE *in ) 
{ 
  char *buf___7 ;
  int len ;
  size_t tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  char *tmp___5 ;

  {
  {
#line 2445
  buf___7 = *bufp;
#line 2446
  tmp___5 = fgets((char */* __restrict  */)(buf___7 + start), *bufsiz - start, (FILE */* __restrict  */)in);
  }
#line 2446
  if (tmp___5) {
    {
#line 2447
    tmp = strlen((char const   *)(buf___7 + start));
#line 2447
    len = (int )((size_t )start + tmp);
    }
#line 2448
    if (len == start) {
#line 2449
      return (-1);
    }
#line 2450
    if ((int )*(buf___7 + (len - 1)) != 10) {
      {
#line 2451
      tmp___2 = feof(in);
      }
#line 2451
      if (! tmp___2) {
#line 2452
        if (len < *bufsiz - 1) {
#line 2453
          return (-1);
        }
        {
#line 2454
        tmp___0 = zrealloc((void *)buf___7, (size_t )(2 * *bufsiz));
#line 2454
        *bufp = (char *)tmp___0;
#line 2455
        *bufsiz = 2 * *bufsiz;
#line 2456
        tmp___1 = readhistline(len, bufp, bufsiz, in);
        }
#line 2456
        return (tmp___1);
      }
    } else {
#line 2460
      *(buf___7 + (len - 1)) = (char )'\000';
#line 2461
      if (len > 1) {
#line 2461
        if ((int )*(buf___7 + (len - 2)) == 92) {
          {
#line 2462
          len --;
#line 2462
          *(buf___7 + (len - 1)) = (char )'\n';
#line 2463
          tmp___4 = feof(in);
          }
#line 2463
          if (! tmp___4) {
            {
#line 2464
            tmp___3 = readhistline(len, bufp, bufsiz, in);
            }
#line 2464
            return (tmp___3);
          }
        }
      }
    }
#line 2467
    return (len);
  }
#line 2469
  return (0);
}
}
#line 2473 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void readhistfile(char *fn___0 , int err , int readflags ) 
{ 
  char *buf___7 ;
  char *start ;
  FILE *in ;
  Histent he ;
  time_t stim ;
  time_t ftim ;
  time_t tim ;
  time_t tmp ;
  off_t fpos ;
  short *words ;
  struct stat sb ;
  int nwordpos ;
  int nwords ;
  int bufsiz ;
  int searching ;
  int newflags ;
  int l ;
  int ret ;
  int uselex ;
  char *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int *tmp___3 ;
  int *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;
  char *pt ;
  int remeta ;
  int tmp___7 ;
  time_t tmp___8 ;
  time_t tmp___9 ;
  int tmp___10 ;
  void *tmp___11 ;
  char *tmp___12 ;
  void *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;

  {
  {
#line 2476
  start = (char *)((void *)0);
#line 2479
  tmp = time((time_t *)((void *)0));
#line 2479
  tim = tmp;
  }
#line 2486
  if (! fn___0) {
    {
#line 2486
    fn___0 = getsparam((char *)"HISTFILE");
    }
#line 2486
    if (! fn___0) {
#line 2487
      return;
    }
  }
  {
#line 2488
  tmp___0 = unmeta((char const   *)fn___0);
#line 2488
  tmp___1 = stat((char const   */* __restrict  */)tmp___0, (struct stat */* __restrict  */)(& sb));
  }
#line 2488
  if (tmp___1 < 0) {
#line 2490
    return;
  } else
#line 2488
  if (sb.st_size == 0L) {
#line 2490
    return;
  }
#line 2491
  if (readflags & 16) {
#line 2492
    if (lasthist.fsiz == sb.st_size) {
#line 2492
      if (lasthist.mtim == sb.st_mtim.tv_sec) {
#line 2494
        return;
      } else {
#line 2492
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      {
#line 2492
      tmp___2 = lockhistfile(fn___0, 0);
      }
#line 2492
      if (tmp___2) {
#line 2494
        return;
      }
    }
#line 2495
    lasthist.fsiz = sb.st_size;
#line 2496
    lasthist.mtim = sb.st_mtim.tv_sec;
  } else {
    {
#line 2497
    ret = lockhistfile(fn___0, 1);
    }
#line 2497
    if (ret) {
#line 2498
      if (ret == 2) {
        {
#line 2499
        tmp___3 = __errno_location();
#line 2499
        zwarn("locking failed for %s: %e: reading anyway", fn___0, *tmp___3);
        }
      } else {
        {
#line 2501
        tmp___4 = __errno_location();
#line 2501
        zerr("locking failed for %s: %e", fn___0, *tmp___4);
        }
#line 2502
        return;
      }
    }
  }
  {
#line 2505
  tmp___12 = unmeta((char const   *)fn___0);
#line 2505
  in = fopen((char const   */* __restrict  */)tmp___12, (char const   */* __restrict  */)"r");
  }
#line 2505
  if (in) {
    {
#line 2506
    nwords = 64;
#line 2507
    tmp___5 = zalloc((unsigned long )nwords * sizeof(short ));
#line 2507
    words = (short *)tmp___5;
#line 2508
    bufsiz = 1024;
#line 2509
    tmp___6 = zalloc((size_t )bufsiz);
#line 2509
    buf___7 = (char *)tmp___6;
#line 2511
    pushheap();
    }
#line 2512
    if (readflags & 16) {
#line 2512
      if (lasthist.text) {
#line 2513
        if (lasthist.fpos < lasthist.fsiz) {
          {
#line 2514
          fseeko(in, lasthist.fpos, 0);
#line 2515
          searching = 1;
          }
        } else {
#line 2518
          histfile_linect = (zlong )0;
#line 2519
          searching = -1;
        }
      } else {
#line 2522
        searching = 0;
      }
    } else {
#line 2522
      searching = 0;
    }
#line 2524
    newflags = 6;
#line 2525
    if (readflags & 16) {
#line 2526
      newflags |= 16;
    }
#line 2527
    if (readflags & 2) {
#line 2529
      newflags |= 1;
    } else
#line 2527
    if (hist_ignore_all_dups) {
#line 2527
      if (newflags & hist_skip_flags) {
#line 2529
        newflags |= 1;
      }
    }
    {
#line 2530
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 2530
      fpos = ftello(in);
#line 2530
      l = readhistline(0, & buf___7, & bufsiz, in);
      }
#line 2530
      if (! l) {
#line 2530
        goto while_break;
      }
#line 2532
      remeta = 0;
#line 2534
      if (l < 0) {
        {
#line 2535
        zerr("corrupt history file %s", fn___0);
        }
#line 2536
        goto while_break;
      }
#line 2550
      pt = buf___7;
      {
#line 2550
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 2550
        if (! *pt) {
#line 2550
          goto while_break___0;
        }
#line 2551
        if ((int )*pt == -125) {
#line 2551
          if (*(pt + 1)) {
#line 2552
            pt ++;
          } else {
#line 2551
            goto _L___0;
          }
        } else
        _L___0: /* CIL Label */ 
#line 2553
        if ((int )typtab[(unsigned char )*pt] & (1 << 12)) {
#line 2554
          remeta = 1;
#line 2555
          goto while_break___0;
        }
#line 2550
        pt ++;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2558
      if (remeta) {
        {
#line 2559
        unmetafy(buf___7, & remeta);
#line 2560
        pt = metafy(buf___7, remeta, 1);
        }
      } else {
#line 2562
        pt = buf___7;
      }
#line 2565
      if ((int )*pt == 58) {
        {
#line 2566
        pt ++;
#line 2567
        stim = zstrtol((char const   *)pt, (char **)((void *)0), 0);
        }
        {
#line 2568
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 2568
          if ((int )*pt != 58) {
#line 2568
            if (! *pt) {
#line 2568
              goto while_break___1;
            }
          } else {
#line 2568
            goto while_break___1;
          }
#line 2568
          pt ++;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 2569
        if (*pt) {
          {
#line 2570
          pt ++;
#line 2571
          ftim = zstrtol((char const   *)pt, (char **)((void *)0), 0);
          }
          {
#line 2572
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2572
            if ((int )*pt != 59) {
#line 2572
              if (! *pt) {
#line 2572
                goto while_break___2;
              }
            } else {
#line 2572
              goto while_break___2;
            }
#line 2572
            pt ++;
          }
          while_break___2: /* CIL Label */ ;
          }
#line 2573
          if (*pt) {
#line 2574
            pt ++;
          }
        } else {
#line 2576
          ftim = stim;
        }
      } else {
#line 2578
        if ((int )*pt == 92) {
#line 2578
          if ((int )*(pt + 1) == 58) {
#line 2579
            pt ++;
          }
        }
#line 2580
        ftim = (time_t )0;
#line 2580
        stim = ftim;
      }
#line 2583
      if (searching) {
#line 2584
        if (searching > 0) {
#line 2585
          if (stim == lasthist.stim) {
            {
#line 2585
            tmp___7 = histstrcmp((char const   *)pt, (char const   *)lasthist.text);
            }
#line 2585
            if (tmp___7 == 0) {
#line 2587
              searching = 0;
            } else {
              {
#line 2589
              fseeko(in, (__off_t )0, 0);
#line 2590
              histfile_linect = (zlong )0;
#line 2591
              searching = -1;
              }
            }
          } else {
            {
#line 2589
            fseeko(in, (__off_t )0, 0);
#line 2590
            histfile_linect = (zlong )0;
#line 2591
            searching = -1;
            }
          }
#line 2593
          goto while_continue;
        } else
#line 2595
        if (stim < lasthist.stim) {
#line 2596
          histfile_linect ++;
#line 2597
          goto while_continue;
        }
#line 2599
        searching = 0;
      }
#line 2602
      if (readflags & 32768) {
#line 2603
        histfile_linect ++;
#line 2604
        lasthist.fpos = fpos;
#line 2605
        lasthist.stim = stim;
      }
      {
#line 2608
      he = prepnexthistent();
#line 2609
      he->node.nam = ztrdup((char const   *)pt);
#line 2610
      he->node.flags = newflags;
#line 2611
      tmp___9 = stim;
#line 2611
      he->stim = tmp___9;
      }
#line 2611
      if (tmp___9 == 0L) {
#line 2612
        tmp___8 = tim;
#line 2612
        he->ftim = tmp___8;
#line 2612
        he->stim = tmp___8;
      } else
#line 2613
      if (ftim < stim) {
#line 2614
        he->ftim = stim + ftim;
      } else {
#line 2616
        he->ftim = ftim;
      }
#line 2621
      start = pt;
#line 2622
      if (opts[78]) {
#line 2622
        if (! (readflags & 16)) {
#line 2622
          tmp___10 = 1;
        } else {
#line 2622
          tmp___10 = 0;
        }
      } else {
#line 2622
        tmp___10 = 0;
      }
      {
#line 2622
      uselex = tmp___10;
#line 2623
      histsplitwords(pt, & words, & nwords, & nwordpos, uselex);
#line 2625
      he->nwords = nwordpos / 2;
      }
#line 2626
      if (he->nwords) {
        {
#line 2627
        tmp___11 = zalloc((unsigned long )nwordpos * sizeof(short ));
#line 2627
        he->words = (short *)tmp___11;
#line 2628
        memcpy((void */* __restrict  */)he->words, (void const   */* __restrict  */)words,
               (unsigned long )nwordpos * sizeof(short ));
        }
      } else {
#line 2630
        he->words = (short *)((void *)0);
      }
      {
#line 2631
      addhistnode(histtab, he->node.nam, (void *)he);
      }
#line 2632
      if (he->node.flags & 8) {
        {
#line 2633
        freehistnode(& he->node);
#line 2634
        curhist --;
        }
      }
#line 2640
      if (uselex) {
        {
#line 2641
        freeheap();
        }
      } else
#line 2640
      if (remeta) {
        {
#line 2641
        freeheap();
        }
      }
#line 2642
      if (errflag & 2) {
#line 2643
        goto while_break;
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 2645
    if (start) {
#line 2645
      if (readflags & 32768) {
        {
#line 2646
        zsfree(lasthist.text);
#line 2647
        lasthist.text = ztrdup((char const   *)start);
        }
      }
    }
    {
#line 2649
    zfree((void *)words, (int )((unsigned long )nwords * sizeof(short )));
#line 2650
    zfree((void *)buf___7, bufsiz);
#line 2652
    popheap();
#line 2653
    fclose(in);
    }
  } else
#line 2654
  if (err) {
    {
#line 2655
    zerr("can\'t read history file %s", fn___0);
    }
  }
  {
#line 2657
  unlockhistfile(fn___0);
  }
#line 2659
  if (zleactive) {
    {
#line 2660
    zleentry(8, curhist);
    }
  }
#line 2661
  return;
}
}
#line 2664 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int flock_fd  =    -1;
#line 2671 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int flockhistfile(char *fn___0 , int keep_trying ) 
{ 
  struct flock lck ;
  long sleep_us ;
  time_t end_time ;
  int tmp___0 ;
  int *tmp___1 ;
  char *tmp___2 ;
  time_t tmp___3 ;
  time_t tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
#line 2675
  sleep_us = 65536L;
#line 2678
  if (flock_fd >= 0) {
#line 2679
    return (0);
  }
  {
#line 2681
  tmp___2 = unmeta((char const   *)fn___0);
#line 2681
  flock_fd = open((char const   *)tmp___2, 258);
  }
#line 2681
  if (flock_fd < 0) {
    {
#line 2682
    tmp___1 = __errno_location();
    }
#line 2682
    if (*tmp___1 == 2) {
#line 2682
      tmp___0 = 0;
    } else {
#line 2682
      tmp___0 = 2;
    }
#line 2682
    return (tmp___0);
  }
  {
#line 2684
  lck.l_type = (short)1;
#line 2685
  lck.l_whence = (short)0;
#line 2686
  lck.l_start = (__off_t )0;
#line 2687
  lck.l_len = (__off_t )0;
#line 2692
  tmp___3 = time((time_t *)((void *)0));
#line 2692
  end_time = tmp___3 + 10L;
  }
  {
#line 2693
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2693
    tmp___6 = fcntl(flock_fd, 7, & lck);
    }
#line 2693
    if (! (tmp___6 == -1)) {
#line 2693
      goto while_break;
    }
#line 2694
    if (! keep_trying) {
      {
#line 2700
      close(flock_fd);
#line 2701
      flock_fd = -1;
      }
#line 2702
      return (1);
    } else {
      {
#line 2694
      tmp___4 = time((time_t *)((void *)0));
      }
#line 2694
      if (tmp___4 >= end_time) {
        {
#line 2700
        close(flock_fd);
#line 2701
        flock_fd = -1;
        }
#line 2702
        return (1);
      } else {
        {
#line 2694
        tmp___5 = zsleep_random(sleep_us, end_time);
        }
#line 2694
        if (! tmp___5) {
          {
#line 2700
          close(flock_fd);
#line 2701
          flock_fd = -1;
          }
#line 2702
          return (1);
        }
      }
    }
#line 2704
    sleep_us <<= 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 2707
  return (0);
}
}
#line 2712 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void savehistfile(char *fn___0 , int err , int writeflags ) 
{ 
  char *t ;
  char *tmpfile___0 ;
  char *start ;
  FILE *out ;
  Histent he ;
  zlong xcurhist ;
  int extended_history ;
  int ret ;
  int tmp ;
  int *tmp___0 ;
  int tmp___1 ;
  int *tmp___2 ;
  int fd ;
  char *tmp___3 ;
  int tmp___4 ;
  FILE *tmp___5 ;
  int fd___0 ;
  char *tmp___6 ;
  int tmp___7 ;
  FILE *tmp___8 ;
  char *tmp___9 ;
  struct stat sb ;
  int old_exists ;
  char *tmp___10 ;
  int tmp___11 ;
  uid_t euid ;
  __uid_t tmp___12 ;
  int fd___1 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int *tmp___19 ;
  char *history_ignore ;
  Patprog histpat ;
  int count_backslashes ;
  char *tmp___20 ;
  int tmp___21 ;
  long tmp___22 ;
  struct stat sb___0 ;
  int tmp___23 ;
  int tmp___24 ;
  int tmp___25 ;
  char *tmp___26 ;
  int tmp___27 ;
  int remember_histactive ;
  int *tmp___28 ;
  int *tmp___29 ;
  void *__cil_tmp54 ;
  void *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;

  {
#line 2715
  start = (char *)((void *)0);
#line 2718
  xcurhist = curhist - (zlong )(! (! (histactive & 1)));
#line 2719
  extended_history = (int )opts[53];
#line 2722
  if (! opts[92]) {
#line 2724
    return;
  } else
#line 2722
  if (savehistsiz <= 0L) {
#line 2724
    return;
  } else
#line 2722
  if (! hist_ring) {
#line 2724
    return;
  } else
#line 2722
  if (! fn___0) {
    {
#line 2722
    fn___0 = getsparam((char *)"HISTFILE");
    }
#line 2722
    if (! fn___0) {
#line 2724
      return;
    }
  }
#line 2725
  if (writeflags & 16) {
    {
#line 2726
    he = gethistent(lasthist.next_write_ev, 1);
    }
    {
#line 2727
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2727
      if (he) {
#line 2727
        if (! (he->node.flags & 2)) {
#line 2727
          goto while_break;
        }
      } else {
#line 2727
        goto while_break;
      }
      {
#line 2728
      lasthist.next_write_ev = he->histnum + 1L;
#line 2729
      he = down_histent(he);
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 2731
    if (! he) {
#line 2732
      return;
    } else {
      {
#line 2731
      tmp = lockhistfile(fn___0, 0);
      }
#line 2731
      if (tmp) {
#line 2732
        return;
      }
    }
#line 2733
    if (histfile_linect > savehistsiz + savehistsiz / 5L) {
#line 2734
      writeflags &= -17;
    }
  } else {
    {
#line 2737
    tmp___1 = lockhistfile(fn___0, 1);
    }
#line 2737
    if (tmp___1) {
      {
#line 2738
      tmp___0 = __errno_location();
#line 2738
      zerr("locking failed for %s: %e", fn___0, *tmp___0);
      }
#line 2739
      return;
    }
#line 2741
    he = hist_ring->down;
  }
#line 2743
  if (writeflags & 32768) {
#line 2744
    if (opts[5]) {
#line 2746
      writeflags |= 3;
    } else
#line 2744
    if (opts[90]) {
#line 2746
      writeflags |= 3;
    } else
#line 2744
    if (opts[91]) {
#line 2746
      writeflags |= 3;
    } else
#line 2744
    if (opts[156]) {
#line 2746
      writeflags |= 3;
    } else {
#line 2748
      histfile_linect = (zlong )0;
    }
#line 2749
    if (opts[83]) {
#line 2750
      writeflags |= 4;
    }
#line 2751
    if (opts[156]) {
#line 2752
      extended_history = 1;
    }
  }
  {
#line 2754
  tmp___2 = __errno_location();
#line 2754
  *tmp___2 = 0;
  }
#line 2755
  if (writeflags & 1) {
    {
#line 2756
    tmp___3 = unmeta((char const   *)fn___0);
#line 2756
    tmp___4 = open((char const   *)tmp___3, 1345, 384);
#line 2756
    fd = tmp___4;
#line 2757
    tmpfile___0 = (char *)((void *)0);
    }
#line 2758
    if (fd >= 0) {
      {
#line 2758
      tmp___5 = fdopen(fd, "a");
#line 2758
      out = tmp___5;
      }
    } else {
#line 2758
      out = (FILE *)((void *)0);
    }
  } else
#line 2759
  if (! opts[82]) {
    {
#line 2760
    tmp___6 = unmeta((char const   *)fn___0);
#line 2760
    tmp___7 = open((char const   *)tmp___6, 833, 384);
#line 2760
    fd___0 = tmp___7;
#line 2761
    tmpfile___0 = (char *)((void *)0);
    }
#line 2762
    if (fd___0 >= 0) {
      {
#line 2762
      tmp___8 = fdopen(fd___0, "w");
#line 2762
      out = tmp___8;
      }
    } else {
#line 2762
      out = (FILE *)((void *)0);
    }
  } else {
    {
#line 2764
    tmp___9 = unmeta((char const   *)fn___0);
#line 2764
    tmpfile___0 = bicat((char const   *)tmp___9, ".new");
#line 2765
    tmp___18 = unlink((char const   *)tmpfile___0);
    }
#line 2765
    if (tmp___18 < 0) {
      {
#line 2765
      tmp___19 = __errno_location();
      }
#line 2765
      if (*tmp___19 != 2) {
#line 2766
        out = (FILE *)((void *)0);
      } else {
#line 2765
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      {
#line 2769
      tmp___10 = unmeta((char const   *)fn___0);
#line 2769
      tmp___11 = stat((char const   */* __restrict  */)tmp___10, (struct stat */* __restrict  */)(& sb));
#line 2769
      old_exists = tmp___11 == 0;
#line 2770
      tmp___12 = geteuid();
#line 2770
      euid = tmp___12;
      }
#line 2772
      if (old_exists) {
#line 2772
        if (euid) {
#line 2772
          if (sb.st_uid != euid) {
            {
#line 2777
            free((void *)tmpfile___0);
#line 2778
            tmpfile___0 = (char *)((void *)0);
            }
#line 2779
            if (err) {
#line 2780
              if (opts[5]) {
                {
#line 2782
                zerr("rewriting %s would change its ownership -- skipped", fn___0);
                }
              } else
#line 2780
              if (opts[90]) {
                {
#line 2782
                zerr("rewriting %s would change its ownership -- skipped", fn___0);
                }
              } else
#line 2780
              if (opts[91]) {
                {
#line 2782
                zerr("rewriting %s would change its ownership -- skipped", fn___0);
                }
              } else
#line 2780
              if (opts[156]) {
                {
#line 2782
                zerr("rewriting %s would change its ownership -- skipped", fn___0);
                }
              } else {
                {
#line 2784
                zerr("rewriting %s would change its ownership -- history not saved",
                     fn___0);
                }
              }
#line 2785
              err = 0;
            }
#line 2787
            out = (FILE *)((void *)0);
          } else {
#line 2772
            goto _L___0;
          }
        } else {
#line 2772
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
        {
#line 2789
        tmp___13 = open((char const   *)tmpfile___0, 193, 384);
#line 2789
        fd___1 = tmp___13;
        }
#line 2790
        if (fd___1 >= 0) {
          {
#line 2791
          out = fdopen(fd___1, "w");
          }
#line 2792
          if (! out) {
            {
#line 2793
            close(fd___1);
            }
          }
        } else {
#line 2795
          out = (FILE *)((void *)0);
        }
      }
#line 2799
      if (old_exists) {
#line 2799
        if (out) {
          {
#line 2801
          tmp___14 = fileno(out);
#line 2801
          tmp___15 = fchown(tmp___14, sb.st_uid, sb.st_gid);
#line 2803
          tmp___16 = fileno(out);
#line 2803
          tmp___17 = fchmod(tmp___16, sb.st_mode);
          }
        }
      }
    }
  }
#line 2808
  if (out) {
    {
#line 2810
    histpat = (Patprog )((void *)0);
#line 2812
    pushheap();
#line 2814
    history_ignore = getsparam((char *)"HISTORY_IGNORE");
    }
#line 2814
    if ((unsigned long )history_ignore != (unsigned long )((void *)0)) {
      {
#line 2815
      history_ignore = dupstring((char const   *)history_ignore);
#line 2815
      tokenize(history_ignore);
#line 2816
      remnulargs(history_ignore);
#line 2817
      histpat = patcompile(history_ignore, 0, (char **)((void *)0));
      }
    }
#line 2820
    ret = 0;
    {
#line 2821
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2821
      if (he) {
#line 2821
        if (! (he->histnum <= xcurhist)) {
#line 2821
          goto while_break___0;
        }
      } else {
#line 2821
        goto while_break___0;
      }
#line 2822
      count_backslashes = 0;
#line 2824
      if (writeflags & 4) {
#line 2824
        if (he->node.flags & 8) {
#line 2827
          goto __Cont;
        } else {
#line 2824
          goto _L___3;
        }
      } else
      _L___3: /* CIL Label */ 
#line 2824
      if (writeflags & 8) {
#line 2824
        if (he->node.flags & 16) {
#line 2827
          goto __Cont;
        } else {
#line 2824
          goto _L___2;
        }
      } else
      _L___2: /* CIL Label */ 
#line 2824
      if (he->node.flags & 32) {
#line 2827
        goto __Cont;
      }
#line 2828
      if (histpat) {
        {
#line 2828
        tmp___20 = metafy(he->node.nam, -1, 6);
#line 2828
        tmp___21 = pattry(histpat, tmp___20);
        }
#line 2828
        if (tmp___21) {
#line 2830
          goto __Cont;
        }
      }
#line 2832
      if (writeflags & 2) {
#line 2833
        if (he->node.flags & 66) {
#line 2834
          goto __Cont;
        }
#line 2835
        he->node.flags |= 2;
#line 2836
        if (writeflags & 32768) {
#line 2837
          lasthist.next_write_ev = he->histnum + 1L;
        }
      }
#line 2839
      if (writeflags & 32768) {
        {
#line 2840
        lasthist.fpos = ftello(out);
#line 2841
        lasthist.stim = he->stim;
#line 2842
        histfile_linect ++;
        }
      }
#line 2844
      start = he->node.nam;
#line 2844
      t = start;
#line 2845
      if (extended_history) {
#line 2846
        if (he->ftim) {
#line 2846
          tmp___22 = he->ftim - he->stim;
        } else {
#line 2846
          tmp___22 = 0L;
        }
        {
#line 2846
        ret = fprintf((FILE */* __restrict  */)out, (char const   */* __restrict  */)": %ld:%ld;",
                      he->stim, tmp___22);
        }
      } else
#line 2848
      if ((int )*t == 58) {
        {
#line 2849
        ret = fputc('\\', out);
        }
      }
      {
#line 2851
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 2851
        if (ret >= 0) {
#line 2851
          if (! *t) {
#line 2851
            goto while_break___1;
          }
        } else {
#line 2851
          goto while_break___1;
        }
#line 2852
        if ((int )*t == 10) {
          {
#line 2853
          ret = fputc('\\', out);
          }
#line 2853
          if (ret < 0) {
#line 2854
            goto while_break___1;
          }
        }
#line 2855
        if ((int )*t == 92) {
#line 2856
          count_backslashes ++;
        } else {
#line 2858
          count_backslashes = 0;
        }
        {
#line 2859
        ret = fputc((int )*t, out);
        }
#line 2859
        if (ret < 0) {
#line 2860
          goto while_break___1;
        }
#line 2851
        t ++;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 2862
      if (ret < 0) {
#line 2863
        goto while_break___0;
      }
#line 2864
      if (count_backslashes) {
#line 2864
        if (count_backslashes % 2 == 0) {
          {
#line 2865
          ret = fputc(' ', out);
          }
#line 2865
          if (ret < 0) {
#line 2866
            goto while_break___0;
          }
        }
      }
#line 2867
      if (ret < 0) {
#line 2868
        goto while_break___0;
      } else {
        {
#line 2867
        ret = fputc('\n', out);
        }
#line 2867
        if (ret < 0) {
#line 2868
          goto while_break___0;
        }
      }
      __Cont: /* CIL Label */ 
      {
#line 2821
      he = down_histent(he);
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 2870
    if (ret >= 0) {
#line 2870
      if (start) {
#line 2870
        if (writeflags & 32768) {
          {
#line 2872
          ret = fflush(out);
          }
#line 2872
          if (ret >= 0) {
            {
#line 2873
            tmp___23 = fileno(out);
#line 2873
            tmp___24 = fstat(tmp___23, & sb___0);
            }
#line 2873
            if (tmp___24 == 0) {
#line 2874
              lasthist.fsiz = sb___0.st_size;
#line 2875
              lasthist.mtim = sb___0.st_mtim.tv_sec;
            }
            {
#line 2877
            zsfree(lasthist.text);
#line 2878
            lasthist.text = ztrdup((char const   *)start);
            }
          }
        }
      }
    }
    {
#line 2881
    tmp___25 = fclose(out);
    }
#line 2881
    if (tmp___25 < 0) {
#line 2881
      if (ret >= 0) {
#line 2882
        ret = -1;
      }
    }
#line 2883
    if (ret >= 0) {
#line 2884
      if (tmpfile___0) {
        {
#line 2885
        tmp___26 = unmeta((char const   *)fn___0);
#line 2885
        tmp___27 = rename((char const   *)tmpfile___0, (char const   *)tmp___26);
        }
#line 2885
        if (tmp___27 < 0) {
          {
#line 2886
          zerr("can\'t rename %s.new to $HISTFILE", fn___0);
#line 2887
          ret = -1;
#line 2888
          err = 0;
          }
        } else
#line 2893
        if (flock_fd >= 0) {
          {
#line 2894
          close(flock_fd);
#line 2895
          flock_fd = -1;
          }
        }
      }
#line 2901
      if (ret >= 0) {
#line 2901
        if (writeflags & 2) {
#line 2901
          if (! (writeflags & 48)) {
            {
#line 2903
            remember_histactive = histactive;
#line 2906
            histactive = 0;
#line 2908
            pushhiststack((char *)((void *)0), savehistsiz, savehistsiz, -1);
#line 2910
            hist_ignore_all_dups |= (int )opts[83];
#line 2911
            readhistfile(fn___0, err, 0);
#line 2912
            hist_ignore_all_dups = (int )opts[75];
            }
#line 2913
            if (histlinect) {
              {
#line 2914
              savehistfile(fn___0, err, 0);
              }
            }
            {
#line 2916
            pophiststack();
#line 2917
            histactive = remember_histactive;
            }
          }
        }
      }
    }
    {
#line 2921
    popheap();
    }
  } else {
#line 2923
    ret = -1;
  }
#line 2925
  if (ret < 0) {
#line 2925
    if (err) {
#line 2926
      if (tmpfile___0) {
        {
#line 2927
        tmp___28 = __errno_location();
#line 2927
        zerr("failed to write history file %s.new: %e", fn___0, *tmp___28);
        }
      } else {
        {
#line 2929
        tmp___29 = __errno_location();
#line 2929
        zerr("failed to write history file %s: %e", fn___0, *tmp___29);
        }
      }
    }
  }
#line 2931
  if (tmpfile___0) {
    {
#line 2932
    free((void *)tmpfile___0);
    }
  }
  {
#line 2934
  unlockhistfile(fn___0);
  }
#line 2935
  return;
}
}
#line 2937 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int lockhistct  ;
#line 2939 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
static int checklocktime(char *lockfile , long *sleep_usp , time_t then ) 
{ 
  time_t now ;
  time_t tmp ;
  int *tmp___0 ;

  {
  {
#line 2942
  tmp = time((time_t *)((void *)0));
#line 2942
  now = tmp;
  }
#line 2944
  if (now + 10L < then) {
    {
#line 2946
    tmp___0 = __errno_location();
#line 2946
    *tmp___0 = 17;
    }
#line 2947
    return (-1);
  }
#line 2950
  if (now - then < 10L) {
    {
#line 2960
    zsleep_random(*sleep_usp, then + 10L);
#line 2961
    *sleep_usp <<= 1;
    }
  } else {
    {
#line 2963
    unlink((char const   *)lockfile);
    }
  }
#line 2965
  return (0);
}
}
#line 2974 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int lockhistfile(char *fn___0 , int keep_trying ) 
{ 
  int ct ;
  int ret ;
  long sleep_us ;
  struct stat sb ;
  int fd ;
  char *lockfile ;
  char pidbuf[32] ;
  char *lnk ;
  int tmp ;
  char *tmp___0 ;
  char const   *tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
#line 2977
  ct = lockhistct;
#line 2978
  ret = 0;
#line 2979
  sleep_us = 65536L;
#line 2981
  if (! fn___0) {
    {
#line 2981
    fn___0 = getsparam((char *)"HISTFILE");
    }
#line 2981
    if (! fn___0) {
#line 2982
      return (1);
    }
  }
#line 2984
  tmp___6 = lockhistct;
#line 2984
  lockhistct ++;
#line 2984
  if (! tmp___6) {
#line 2997
    if (opts[73]) {
      {
#line 2998
      tmp = flockhistfile(fn___0, keep_trying);
      }
#line 2998
      return (tmp);
    }
    {
#line 3001
    tmp___0 = unmeta((char const   *)fn___0);
#line 3001
    lockfile = bicat((char const   *)tmp___0, ".LOCK");
#line 3006
    sprintf((char */* __restrict  */)(pidbuf), (char const   */* __restrict  */)"/pid-%ld/host-",
            mypid);
#line 3007
    lnk = getsparam((char *)"HOST");
    }
#line 3008
    if (lnk) {
#line 3008
      tmp___1 = (char const   *)lnk;
    } else {
#line 3008
      tmp___1 = "";
    }
    {
#line 3008
    lnk = bicat((char const   *)(pidbuf), tmp___1);
    }
    {
#line 3010
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 3010
      fd = symlink((char const   *)lnk, (char const   *)lockfile);
      }
#line 3010
      if (! (fd < 0)) {
#line 3010
        goto while_break;
      }
      {
#line 3011
      tmp___2 = __errno_location();
      }
#line 3011
      if (*tmp___2 != 17) {
#line 3012
        ret = 2;
#line 3013
        goto while_break;
      } else
#line 3014
      if (! keep_trying) {
#line 3015
        ret = 1;
#line 3016
        goto while_break;
      }
      {
#line 3018
      tmp___4 = lstat((char const   */* __restrict  */)lockfile, (struct stat */* __restrict  */)(& sb));
      }
#line 3018
      if (tmp___4 < 0) {
        {
#line 3019
        tmp___3 = __errno_location();
        }
#line 3019
        if (*tmp___3 == 2) {
#line 3020
          goto while_continue;
        }
#line 3021
        goto while_break;
      }
      {
#line 3023
      tmp___5 = checklocktime(lockfile, & sleep_us, sb.st_mtim.tv_sec);
      }
#line 3023
      if (tmp___5 < 0) {
#line 3024
        ret = 1;
#line 3025
        goto while_break;
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 3028
    if (fd < 0) {
#line 3029
      lockhistct --;
    }
    {
#line 3030
    free((void *)lnk);
#line 3095
    free((void *)lockfile);
    }
  }
#line 3098
  if (ct == lockhistct) {
#line 3100
    if (flock_fd >= 0) {
      {
#line 3101
      close(flock_fd);
#line 3102
      flock_fd = -1;
      }
    }
#line 3106
    return (ret);
  }
#line 3108
  return (0);
}
}
#line 3116 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void unlockhistfile(char *fn___0 ) 
{ 
  char *lockfile ;
  size_t tmp ;
  void *tmp___0 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 3119
  if (! fn___0) {
    {
#line 3119
    fn___0 = getsparam((char *)"HISTFILE");
    }
#line 3119
    if (! fn___0) {
#line 3120
      return;
    }
  }
#line 3121
  lockhistct --;
#line 3121
  if (lockhistct) {
#line 3122
    if (lockhistct < 0) {
#line 3123
      lockhistct = 0;
    }
  } else {
    {
#line 3127
    fn___0 = unmeta((char const   *)fn___0);
#line 3128
    tmp = strlen((char const   *)fn___0);
#line 3128
    tmp___0 = zalloc((tmp + 5UL) + 1UL);
#line 3128
    lockfile = (char *)tmp___0;
#line 3129
    sprintf((char */* __restrict  */)lockfile, (char const   */* __restrict  */)"%s.LOCK",
            fn___0);
#line 3130
    unlink((char const   *)lockfile);
#line 3131
    free((void *)lockfile);
    }
#line 3133
    if (flock_fd >= 0) {
      {
#line 3134
      close(flock_fd);
#line 3135
      flock_fd = -1;
      }
    }
  }
#line 3139
  return;
}
}
#line 3142 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int histfileIsLocked(void) 
{ 


  {
#line 3145
  return (lockhistct > 0);
}
}
#line 3177 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
LinkList bufferwords(LinkList list , char *buf___7 , int *index___0 , int flags ) 
{ 
  int num ;
  int cur ;
  int got ;
  int ne ;
  int owb ;
  int owe ;
  int oadx ;
  int onc ;
  int ona ;
  int ocs ;
  int oll ;
  int forloop ;
  int rcquotes ;
  char *p ;
  char *addedspaceptr ;
  int l ;
  size_t tmp ;
  void *tmp___0 ;
  size_t tmp___1 ;
  int ll ;
  int cs ;
  char *linein ;
  void *tmp___2 ;
  void *tmp___3 ;
  int tmp___4 ;
  int plen ;
  size_t tmp___5 ;
  char *tmp___6 ;
  char b[20] ;
  char *tmp___7 ;
  char *tmp___8 ;
  char *tmp___9 ;
  int plen___0 ;
  size_t tmp___10 ;
  void *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;

  {
#line 3180
  num = 0;
#line 3180
  cur = -1;
#line 3180
  got = 0;
#line 3180
  ne = noerrs;
#line 3181
  owb = wb;
#line 3181
  owe = we;
#line 3181
  oadx = addedx;
#line 3181
  onc = nocomments;
#line 3182
  ona = noaliases;
#line 3182
  ocs = zlemetacs;
#line 3182
  oll = zlemetall;
#line 3183
  forloop = 0;
#line 3183
  rcquotes = (int )opts[149];
#line 3186
  if (! list) {
    {
#line 3187
    list = newlinklist();
    }
  }
  {
#line 3194
  opts[149] = (char)0;
#line 3195
  addedx = 0;
#line 3196
  noerrs = 1;
#line 3197
  zcontext_save();
#line 3198
  lexflags = flags | 1;
#line 3202
  nocomments = ! (flags & 12);
  }
#line 3204
  if (buf___7) {
    {
#line 3205
    tmp = strlen((char const   *)buf___7);
#line 3205
    l = (int )tmp;
#line 3207
    tmp___0 = zhalloc((size_t )(l + 2));
#line 3207
    p = (char *)tmp___0;
#line 3208
    memcpy((void */* __restrict  */)p, (void const   */* __restrict  */)buf___7, (size_t )l);
#line 3216
    addedspaceptr = p + l;
#line 3217
    *addedspaceptr = (char )' ';
#line 3218
    *(addedspaceptr + 1) = (char )'\000';
#line 3219
    inpush(p, 0, (Alias )((void *)0));
#line 3220
    tmp___1 = strlen((char const   *)p);
#line 3220
    zlemetall = (int )tmp___1;
#line 3221
    zlemetacs = zlemetall + 1;
    }
  } else {
    {
#line 3226
    linein = zleentry(0, & ll, & cs);
#line 3227
    zlemetall = ll + 1;
#line 3228
    zlemetacs = cs;
    }
#line 3230
    if (! isfirstln) {
#line 3230
      if (chline) {
        {
#line 3231
        tmp___2 = zhalloc((size_t )(((hptr - chline) + (long )ll) + 2L));
#line 3231
        p = (char *)tmp___2;
#line 3232
        memcpy((void */* __restrict  */)p, (void const   */* __restrict  */)chline,
               (size_t )(hptr - chline));
#line 3233
        memcpy((void */* __restrict  */)(p + (hptr - chline)), (void const   */* __restrict  */)linein,
               (size_t )ll);
#line 3234
        addedspaceptr = (p + (hptr - chline)) + ll;
#line 3235
        *addedspaceptr = (char )' ';
#line 3236
        *(addedspaceptr + 1) = (char )'\000';
#line 3237
        inpush(p, 0, (Alias )((void *)0));
#line 3243
        zlemetall = (int )((long )zlemetall + (hptr - chline));
#line 3244
        zlemetacs = (int )((long )zlemetacs + (hptr - chline));
        }
      } else {
#line 3230
        goto _L;
      }
    } else {
      _L: /* CIL Label */ 
      {
#line 3246
      tmp___3 = zhalloc((size_t )(ll + 2));
#line 3246
      p = (char *)tmp___3;
#line 3247
      memcpy((void */* __restrict  */)p, (void const   */* __restrict  */)linein,
             (size_t )ll);
#line 3248
      addedspaceptr = p + ll;
#line 3249
      *addedspaceptr = (char )' ';
#line 3250
      *(p + zlemetall) = (char )'\000';
#line 3251
      inpush(p, 0, (Alias )((void *)0));
      }
    }
    {
#line 3253
    zsfree(linein);
    }
  }
#line 3255
  if (zlemetacs) {
#line 3256
    zlemetacs --;
  }
  {
#line 3257
  strinbeg(0);
#line 3258
  noaliases = 1;
  }
  {
#line 3259
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3260
    if (incond) {
#line 3261
      if ((unsigned int )tok != 40U) {
#line 3261
        if ((unsigned int )tok != 6U) {
#line 3261
          if ((unsigned int )tok != 8U) {
#line 3261
            if ((unsigned int )tok != 9U) {
#line 3261
              if ((unsigned int )tok != 39U) {
#line 3261
                tmp___4 = 1;
              } else {
#line 3261
                tmp___4 = 0;
              }
            } else {
#line 3261
              tmp___4 = 0;
            }
          } else {
#line 3261
            tmp___4 = 0;
          }
        } else {
#line 3261
          tmp___4 = 0;
        }
      } else {
#line 3261
        tmp___4 = 0;
      }
#line 3261
      incond = 1 + tmp___4;
    }
    {
#line 3264
    ctxtlex();
    }
#line 3265
    if ((unsigned int )tok == 37U) {
#line 3266
      goto while_break;
    } else
#line 3265
    if ((unsigned int )tok == 38U) {
#line 3266
      goto while_break;
    }
#line 3267
    if ((unsigned int )tok == 52U) {
#line 3280
      forloop = 5;
    } else {
      {
#line 3283
      if (forloop == 1) {
#line 3283
        goto case_1;
      }
#line 3290
      if (forloop == 4) {
#line 3290
        goto case_4;
      }
#line 3290
      if (forloop == 3) {
#line 3290
        goto case_4;
      }
#line 3290
      if (forloop == 2) {
#line 3290
        goto case_4;
      }
#line 3295
      goto switch_default;
      case_1: /* CIL Label */ 
#line 3284
      if ((unsigned int )tok != 29U) {
#line 3285
        forloop = 0;
      }
#line 3286
      goto switch_break;
      case_4: /* CIL Label */ 
      case_3: /* CIL Label */ 
      case_2: /* CIL Label */ 
#line 3291
      if ((unsigned int )tok != 28U) {
#line 3292
        forloop = 0;
      }
#line 3293
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 3297
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    }
#line 3300
    if (tokstr) {
      {
#line 3302
      if ((unsigned int )tok == 36U) {
#line 3302
        goto case_36;
      }
#line 3306
      if ((unsigned int )tok == 28U) {
#line 3306
        goto case_28;
      }
#line 3321
      goto switch_default___0;
      case_36: /* CIL Label */ 
      {
#line 3303
      p = dyncat((char const   *)tokstr, "=(");
      }
#line 3304
      goto switch_break___0;
      case_28: /* CIL Label */ 
#line 3307
      if (forloop) {
        {
#line 3309
        p = dyncat((char const   *)tokstr, ";");
        }
      } else {
        {
#line 3317
        p = zhtricat("((", (char const   *)tokstr, "))");
        }
      }
#line 3319
      goto switch_break___0;
      switch_default___0: /* CIL Label */ 
      {
#line 3322
      p = dupstring((char const   *)tokstr);
      }
#line 3323
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
#line 3325
      if (*p) {
        {
#line 3326
        untokenize(p);
#line 3327
        tmp___6 = ingetptr();
        }
#line 3327
        if ((unsigned long )tmp___6 == (unsigned long )(addedspaceptr + 1)) {
          {
#line 3337
          tmp___5 = strlen((char const   *)p);
#line 3337
          plen = (int )tmp___5;
          }
#line 3338
          if (plen) {
#line 3338
            if ((int )*(p + (plen - 1)) == 32) {
#line 3338
              if (plen == 1) {
#line 3340
                *(p + (plen - 1)) = (char )'\000';
              } else
#line 3338
              if ((int )*(p + (plen - 2)) != -125) {
#line 3340
                *(p + (plen - 1)) = (char )'\000';
              }
            }
          }
        }
        {
#line 3342
        insertlinknode(list, list->list.last, (void *)p);
#line 3343
        num ++;
        }
      }
    } else
#line 3345
    if (buf___7) {
#line 3346
      if ((unsigned int )tok >= 10U) {
#line 3346
        if ((unsigned int )tok <= 24U) {
#line 3346
          if (tokfd >= 0) {
            {
#line 3349
            sprintf((char */* __restrict  */)(b), (char const   */* __restrict  */)"%d%s",
                    tokfd, tokstrings[tok]);
#line 3350
            tmp___7 = dupstring((char const   *)(b));
#line 3350
            insertlinknode(list, list->list.last, (void *)tmp___7);
#line 3351
            num ++;
            }
          } else {
#line 3346
            goto _L___1;
          }
        } else {
#line 3346
          goto _L___1;
        }
      } else
      _L___1: /* CIL Label */ 
#line 3352
      if ((unsigned int )tok != 2U) {
        {
#line 3353
        tmp___8 = dupstring((char const   *)tokstrings[tok]);
#line 3353
        insertlinknode(list, list->list.last, (void *)tmp___8);
#line 3354
        num ++;
        }
      }
    }
#line 3357
    if (forloop) {
#line 3358
      if (forloop == 1) {
        {
#line 3363
        tmp___9 = dupstring("))");
#line 3363
        insertlinknode(list, list->list.last, (void *)tmp___9);
        }
      }
#line 3365
      forloop --;
    }
#line 3367
    if (! got) {
#line 3367
      if (! lexflags) {
#line 3368
        got = 1;
#line 3369
        cur = num - 1;
      }
    }
#line 3259
    if ((unsigned int )tok != 37U) {
#line 3259
      if ((unsigned int )tok != 38U) {
#line 3259
        if (! (! (errflag & 2))) {
#line 3259
          goto while_break;
        }
      } else {
#line 3259
        goto while_break;
      }
    } else {
#line 3259
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3372
  if (buf___7) {
#line 3372
    if ((unsigned int )tok == 38U) {
#line 3372
      if (tokstr) {
#line 3372
        if (*tokstr) {
          {
#line 3374
          p = dupstring((char const   *)tokstr);
#line 3374
          untokenize(p);
#line 3375
          tmp___10 = strlen((char const   *)p);
#line 3375
          plen___0 = (int )tmp___10;
          }
#line 3381
          if (plen___0) {
#line 3381
            if ((int )*(p + (plen___0 - 1)) == 32) {
#line 3381
              if (plen___0 == 1) {
#line 3382
                *(p + (plen___0 - 1)) = (char )'\000';
              } else
#line 3381
              if ((int )*(p + (plen___0 - 2)) != -125) {
#line 3382
                *(p + (plen___0 - 1)) = (char )'\000';
              }
            }
          }
          {
#line 3383
          insertlinknode(list, list->list.last, (void *)p);
#line 3384
          num ++;
          }
        }
      }
    }
  }
#line 3386
  if (cur < 0) {
#line 3386
    if (num) {
#line 3387
      cur = num - 1;
    }
  }
  {
#line 3388
  noaliases = ona;
#line 3389
  strinend();
#line 3390
  inpop();
#line 3391
  errflag &= -2;
#line 3392
  nocomments = onc;
#line 3393
  noerrs = ne;
#line 3394
  zcontext_restore();
#line 3395
  zlemetacs = ocs;
#line 3396
  zlemetall = oll;
#line 3397
  wb = owb;
#line 3398
  we = owe;
#line 3399
  addedx = oadx;
#line 3400
  opts[149] = (char )rcquotes;
  }
#line 3402
  if (index___0) {
#line 3403
    *index___0 = cur;
  }
#line 3405
  return (list);
}
}
#line 3433 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
void histsplitwords(char *lineptr , short **wordsp , int *nwordsp , int *nwordposp ,
                    int uselex ) 
{ 
  int nwords ;
  int nwordpos ;
  short *words ;
  char *start ;
  LinkList wordlist ;
  LinkNode wordnode ;
  int nwords_max ;
  int tmp ;
  void *tmp___0 ;
  char *word ;
  char *lptr ;
  char *wptr ;
  int loop_next ;
  int skipping ;
  int len ;
  int tmp___1 ;
  int tmp___2 ;
  size_t tmp___3 ;
  int bad ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  void *tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;

  {
#line 3437
  nwords = *nwordsp;
#line 3437
  nwordpos = 0;
#line 3438
  words = *wordsp;
#line 3439
  start = lineptr;
#line 3441
  if (uselex) {
    {
#line 3446
    wordlist = bufferwords((LinkList )((void *)0), lineptr, (int *)((void *)0), 4);
    }
#line 3448
    if (errflag) {
#line 3449
      return;
    }
    {
#line 3450
    tmp = countlinknodes(wordlist);
#line 3450
    nwords_max = 2 * tmp;
    }
#line 3451
    if (nwords_max > nwords) {
      {
#line 3452
      nwords = nwords_max;
#line 3452
      *nwordsp = nwords;
#line 3453
      tmp___0 = zrealloc((void *)words, (unsigned long )nwords * sizeof(short ));
#line 3453
      words = (short *)tmp___0;
#line 3453
      *wordsp = words;
      }
    }
#line 3455
    wordnode = wordlist->list.first;
    {
#line 3455
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3455
      if (! wordnode) {
#line 3455
        goto while_break;
      }
#line 3458
      word = (char *)wordnode->dat;
#line 3459
      wptr = word;
#line 3460
      loop_next = 0;
      {
#line 3463
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3468
        if ((int )typtab[(unsigned char )*lineptr] & (1 << 3)) {
#line 3469
          lineptr ++;
        } else
#line 3470
        if ((int )*(lineptr + 0) == 92) {
#line 3470
          if ((int )*(lineptr + 1) == 10) {
#line 3475
            lineptr += 2;
          } else {
#line 3477
            goto while_break___0;
          }
        } else {
#line 3477
          goto while_break___0;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 3479
      lptr = lineptr;
      {
#line 3491
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 3492
        skipping = 0;
#line 3493
        tmp___5 = strpfx((char const   *)wptr, (char const   *)lptr);
        }
#line 3493
        if (tmp___5) {
          {
#line 3499
          tmp___1 = strcmp((char const   *)wptr, ";");
          }
#line 3499
          if (! tmp___1) {
            {
#line 3499
            tmp___2 = strpfx(";;", (char const   *)lptr);
            }
#line 3499
            if (tmp___2) {
#line 3505
              loop_next = 2;
#line 3506
              goto while_break___1;
            }
          }
          {
#line 3508
          tmp___3 = strlen((char const   *)wptr);
#line 3508
          len = (int )tmp___3;
#line 3509
          lptr += len;
#line 3510
          wptr += len;
          }
        } else {
          {
#line 3516
          bad = 0;
#line 3520
          tmp___4 = strcmp((char const   *)wptr, ";");
          }
#line 3520
          if (! tmp___4) {
#line 3522
            loop_next = 2;
#line 3523
            goto while_break___1;
          }
          {
#line 3525
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 3525
            if (! *lptr) {
#line 3525
              goto while_break___2;
            }
#line 3526
            if (! *wptr) {
#line 3531
              bad = 1;
#line 3532
              loop_next = 1;
#line 3533
              goto while_break___2;
            }
#line 3538
            if ((int )*lptr == (int )*wptr) {
#line 3538
              goto _L;
            } else
#line 3538
            if ((int )*lptr == 33) {
#line 3538
              if ((int )*wptr == 124) {
                _L: /* CIL Label */ 
#line 3540
                lptr ++;
#line 3541
                wptr ++;
#line 3541
                if (! *wptr) {
#line 3542
                  goto while_break___2;
                }
              } else {
#line 3538
                goto _L___0;
              }
            } else
            _L___0: /* CIL Label */ 
#line 3543
            if ((int )*(lptr + 0) == 92) {
#line 3543
              if ((int )*(lptr + 1) == 10) {
#line 3551
                lptr += 2;
#line 3552
                skipping = 1;
#line 3553
                goto while_break___2;
              } else {
#line 3555
                bad = 1;
#line 3556
                loop_next = 1;
#line 3557
                goto while_break___2;
              }
            } else {
#line 3555
              bad = 1;
#line 3556
              loop_next = 1;
#line 3557
              goto while_break___2;
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 3560
          if (bad) {
#line 3566
            lineptr = start;
#line 3567
            nwordpos = 0;
#line 3568
            uselex = 0;
#line 3569
            loop_next = 1;
          }
        }
#line 3491
        if (! skipping) {
#line 3491
          goto while_break___1;
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 3573
      if (loop_next) {
#line 3574
        if (loop_next == 1) {
#line 3575
          goto while_break;
        }
#line 3576
        goto __Cont;
      }
#line 3579
      tmp___6 = nwordpos;
#line 3579
      nwordpos ++;
#line 3579
      *(words + tmp___6) = (short )(lineptr - start);
#line 3580
      tmp___7 = nwordpos;
#line 3580
      nwordpos ++;
#line 3580
      *(words + tmp___7) = (short )(lptr - start);
#line 3583
      lineptr = lptr;
      __Cont: /* CIL Label */ 
#line 3455
      wordnode = wordnode->next;
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 3586
  if (! uselex) {
    {
#line 3587
    while (1) {
      while_continue___3: /* CIL Label */ ;
      {
#line 3588
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 3589
        if ((int )typtab[(unsigned char )*lineptr] & (1 << 3)) {
#line 3590
          lineptr ++;
        } else
#line 3591
        if ((int )*(lineptr + 0) == 92) {
#line 3591
          if ((int )*(lineptr + 1) == 10) {
#line 3592
            lineptr += 2;
          } else {
#line 3594
            goto while_break___4;
          }
        } else {
#line 3594
          goto while_break___4;
        }
      }
      while_break___4: /* CIL Label */ ;
      }
#line 3596
      if (*lineptr) {
#line 3597
        if (nwordpos >= nwords) {
          {
#line 3598
          nwords += 64;
#line 3598
          *nwordsp = nwords;
#line 3599
          tmp___8 = zrealloc((void *)words, (unsigned long )nwords * sizeof(*words));
#line 3599
          words = (short *)tmp___8;
#line 3599
          *wordsp = words;
          }
        }
#line 3602
        tmp___9 = nwordpos;
#line 3602
        nwordpos ++;
#line 3602
        *(words + tmp___9) = (short )(lineptr - start);
        {
#line 3603
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 3603
          if (*lineptr) {
#line 3603
            if (! (! ((int )typtab[(unsigned char )*lineptr] & (1 << 3)))) {
#line 3603
              goto while_break___5;
            }
          } else {
#line 3603
            goto while_break___5;
          }
#line 3604
          lineptr ++;
        }
        while_break___5: /* CIL Label */ ;
        }
#line 3605
        tmp___10 = nwordpos;
#line 3605
        nwordpos ++;
#line 3605
        *(words + tmp___10) = (short )(lineptr - start);
      }
#line 3587
      if (! *lineptr) {
#line 3587
        goto while_break___3;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
  }
#line 3610
  *nwordposp = nwordpos;
#line 3611
  return;
}
}
#line 3622 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int pushhiststack(char *hf , zlong hs , zlong shs , int level ) 
{ 
  struct histsave *h ;
  int curline_in_ring ;
  int tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 3626
  if (histactive & 1) {
#line 3626
    if ((unsigned long )hist_ring == (unsigned long )(& curline)) {
#line 3626
      tmp = 1;
    } else {
#line 3626
      tmp = 0;
    }
  } else {
#line 3626
    tmp = 0;
  }
#line 3626
  curline_in_ring = tmp;
#line 3628
  if (histsave_stack_pos == histsave_stack_size) {
    {
#line 3629
    histsave_stack_size += 5;
#line 3630
    tmp___0 = zrealloc((void *)histsave_stack, (unsigned long )histsave_stack_size * sizeof(struct histsave ));
#line 3630
    histsave_stack = (struct histsave *)tmp___0;
    }
  }
#line 3634
  if (curline_in_ring) {
    {
#line 3635
    unlinkcurline();
    }
  }
#line 3637
  tmp___1 = histsave_stack_pos;
#line 3637
  histsave_stack_pos ++;
#line 3637
  h = histsave_stack + tmp___1;
#line 3639
  h->lasthist = lasthist;
#line 3640
  if (hf) {
    {
#line 3641
    tmp___2 = getsparam((char *)"HISTFILE");
#line 3641
    h->histfile = tmp___2;
    }
#line 3641
    if ((unsigned long )tmp___2 != (unsigned long )((void *)0)) {
#line 3641
      if (*(h->histfile)) {
        {
#line 3642
        h->histfile = ztrdup((char const   *)h->histfile);
        }
      } else {
#line 3644
        h->histfile = (char *)"";
      }
    } else {
#line 3644
      h->histfile = (char *)"";
    }
  } else {
#line 3646
    h->histfile = (char *)((void *)0);
  }
  {
#line 3647
  h->histtab = histtab;
#line 3648
  h->hist_ring = hist_ring;
#line 3649
  h->curhist = curhist;
#line 3650
  h->histlinect = histlinect;
#line 3651
  h->histsiz = histsiz;
#line 3652
  h->savehistsiz = savehistsiz;
#line 3653
  h->locallevel = level;
#line 3655
  memset((void *)(& lasthist), 0, sizeof(lasthist));
  }
#line 3656
  if (hf) {
#line 3657
    if (*hf) {
      {
#line 3658
      tmp___3 = ztrdup((char const   *)hf);
#line 3658
      setsparam((char *)"HISTFILE", tmp___3);
      }
    } else {
      {
#line 3660
      unsetparam((char *)"HISTFILE");
      }
    }
  }
#line 3662
  hist_ring = (Histent )((void *)0);
#line 3663
  histlinect = (zlong )0;
#line 3663
  curhist = histlinect;
#line 3664
  if (zleactive) {
    {
#line 3665
    zleentry(8, curhist);
    }
  }
  {
#line 3666
  histsiz = hs;
#line 3667
  savehistsiz = shs;
#line 3668
  inithist();
  }
#line 3670
  if (curline_in_ring) {
    {
#line 3671
    linkcurline();
    }
  }
#line 3673
  return (histsave_stack_pos);
}
}
#line 3678 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int pophiststack(void) 
{ 
  struct histsave *h ;
  int curline_in_ring ;
  int tmp ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 3682
  if (histactive & 1) {
#line 3682
    if ((unsigned long )hist_ring == (unsigned long )(& curline)) {
#line 3682
      tmp = 1;
    } else {
#line 3682
      tmp = 0;
    }
  } else {
#line 3682
    tmp = 0;
  }
#line 3682
  curline_in_ring = tmp;
#line 3684
  if (histsave_stack_pos == 0) {
#line 3685
    return (0);
  }
#line 3687
  if (curline_in_ring) {
    {
#line 3688
    unlinkcurline();
    }
  }
  {
#line 3690
  deletehashtable(histtab);
#line 3691
  zsfree(lasthist.text);
#line 3693
  histsave_stack_pos --;
#line 3693
  h = histsave_stack + histsave_stack_pos;
#line 3695
  lasthist = h->lasthist;
  }
#line 3696
  if (h->histfile) {
#line 3697
    if (*(h->histfile)) {
      {
#line 3698
      setsparam((char *)"HISTFILE", h->histfile);
      }
    } else {
      {
#line 3700
      unsetparam((char *)"HISTFILE");
      }
    }
  }
#line 3702
  histtab = h->histtab;
#line 3703
  hist_ring = h->hist_ring;
#line 3704
  curhist = h->curhist;
#line 3705
  if (zleactive) {
    {
#line 3706
    zleentry(8, curhist);
    }
  }
#line 3707
  histlinect = h->histlinect;
#line 3708
  histsiz = h->histsiz;
#line 3709
  savehistsiz = h->savehistsiz;
#line 3711
  if (curline_in_ring) {
    {
#line 3712
    linkcurline();
    }
  }
#line 3714
  return (histsave_stack_pos + 1);
}
}
#line 3724 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hist.c"
int saveandpophiststack(int pop_through , int writeflags ) 
{ 


  {
#line 3727
  if (pop_through <= 0) {
#line 3728
    pop_through += histsave_stack_pos + 1;
#line 3729
    if (pop_through <= 0) {
#line 3730
      pop_through = 1;
    }
  }
  {
#line 3732
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3732
    if (pop_through > 1) {
#line 3732
      if (! ((histsave_stack + (pop_through - 2))->locallevel > locallevel)) {
#line 3732
        goto while_break;
      }
    } else {
#line 3732
      goto while_break;
    }
#line 3734
    pop_through --;
  }
  while_break: /* CIL Label */ ;
  }
#line 3735
  if (histsave_stack_pos < pop_through) {
#line 3736
    return (0);
  }
  {
#line 3737
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 3738
    if (! nohistsave) {
      {
#line 3739
      savehistfile((char *)((void *)0), 1, writeflags);
      }
    }
    {
#line 3740
    pophiststack();
    }
#line 3737
    if (! (histsave_stack_pos >= pop_through)) {
#line 3737
      goto while_break___0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 3742
  return (1);
}
}
#line 72 "/usr/include/pwd.h"
extern void setpwent(void) ;
#line 78
extern void endpwent(void) ;
#line 84
extern struct passwd *getpwent(void) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.epro"
HashTable nameddirtab  ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.pro"
static void emptynameddirtable(HashTable ht ) ;
#line 3
static void fillnameddirtable(HashTable ht  __attribute__((__unused__)) ) ;
#line 4
static void addnameddirnode(HashTable ht , char *nam , void *nodeptr ) ;
#line 5
static HashNode removenameddirnode(HashTable ht , char const   *nam ) ;
#line 6
static void freenameddirnode(HashNode hn ) ;
#line 7
static void printnameddirnode(HashNode hn , int printflags ) ;
#line 64 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
static int allusersadded  ;
#line 69 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
void createnameddirtable(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
#line 72
  nameddirtab = newhashtable(201, "nameddirtab", (void (*)(HashTable  ))((void *)0));
#line 74
  nameddirtab->hash = & hasher;
#line 75
  nameddirtab->emptytable = & emptynameddirtable;
#line 76
  nameddirtab->filltable = & fillnameddirtable;
#line 77
  nameddirtab->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 78
  nameddirtab->addnode = & addnameddirnode;
#line 79
  nameddirtab->getnode = & gethashnode;
#line 80
  nameddirtab->getnode2 = & gethashnode2;
#line 81
  nameddirtab->removenode = & removenameddirnode;
#line 82
  nameddirtab->disablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 83
  nameddirtab->enablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 84
  nameddirtab->freenode = & freenameddirnode;
#line 85
  nameddirtab->printnode = & printnameddirnode;
#line 87
  allusersadded = 0;
#line 88
  finddir((char *)((void *)0));
  }
#line 89
  return;
}
}
#line 94 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
static void emptynameddirtable(HashTable ht ) 
{ 


  {
  {
#line 97
  emptyhashtable(ht);
#line 98
  allusersadded = 0;
#line 99
  finddir((char *)((void *)0));
  }
#line 100
  return;
}
}
#line 152 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
static void fillnameddirtable(HashTable ht  __attribute__((__unused__)) ) 
{ 
  struct passwd *pw ;

  {
#line 155
  if (! allusersadded) {
    {
#line 224
    setpwent();
    }
    {
#line 228
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 228
      pw = getpwent();
      }
#line 228
      if (pw) {
#line 228
        if (! (! errflag)) {
#line 228
          goto while_break;
        }
      } else {
#line 228
        goto while_break;
      }
      {
#line 229
      adduserdir(pw->pw_name, pw->pw_dir, 1 << 1, 1);
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 231
    endpwent();
#line 234
    allusersadded = 1;
    }
  }
#line 236
  return;
}
}
#line 243 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
static void addnameddirnode(HashTable ht , char *nam , void *nodeptr ) 
{ 
  Nameddir nd ;
  size_t tmp ;
  size_t tmp___0 ;

  {
  {
#line 246
  nd = (Nameddir )nodeptr;
#line 248
  tmp = strlen((char const   *)nd->dir);
#line 248
  tmp___0 = strlen((char const   *)nam);
#line 248
  nd->diff = (int )(tmp - tmp___0);
#line 249
  finddir((char *)((void *)0));
#line 250
  addhashnode(ht, nam, nodeptr);
  }
#line 251
  return;
}
}
#line 257 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
static HashNode removenameddirnode(HashTable ht , char const   *nam ) 
{ 
  HashNode hn ;
  HashNode tmp ;

  {
  {
#line 260
  tmp = removehashnode(ht, nam);
#line 260
  hn = tmp;
  }
#line 262
  if (hn) {
    {
#line 263
    finddir((char *)((void *)0));
    }
  }
#line 264
  return (hn);
}
}
#line 270 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
static void freenameddirnode(HashNode hn ) 
{ 
  Nameddir nd ;

  {
  {
#line 273
  nd = (Nameddir )hn;
#line 275
  zsfree(nd->node.nam);
#line 276
  zsfree(nd->dir);
#line 277
  zfree((void *)nd, (int )sizeof(struct nameddir ));
  }
#line 278
  return;
}
}
#line 283 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashnameddir.c"
static void printnameddirnode(HashNode hn , int printflags ) 
{ 
  Nameddir nd ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 286
  nd = (Nameddir )hn;
#line 288
  if (printflags & 1) {
    {
#line 289
    zputs((char const   *)nd->node.nam, stdout);
#line 290
    putchar('\n');
    }
#line 291
    return;
  }
#line 294
  if (printflags & (1 << 2)) {
    {
#line 295
    printf((char const   */* __restrict  */)"hash -d ");
    }
#line 297
    if ((int )*(nd->node.nam + 0) == 45) {
      {
#line 298
      printf((char const   */* __restrict  */)"-- ");
      }
    }
  }
  {
#line 301
  quotedzputs((char const   *)nd->node.nam, stdout);
#line 302
  putchar('=');
#line 303
  quotedzputs((char const   *)nd->dir, stdout);
#line 304
  putchar('\n');
  }
#line 305
  return;
}
}
#line 40 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int isrelative(char *s ) ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
HashTable___0 cmdnamtab  ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
char **pathchecked  ;
#line 24
void hashdir(char **dirp ) ;
#line 25 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
HashTable___0 shfunctab  ;
#line 27
int scanmatchshfunc(Patprog pprog , int sorted , int flags1 , int flags2 , void (*scanfunc)(HashNode  ,
                                                                                            int  ) ,
                    int scanflags , int expand ) ;
#line 28
int scanshfunc(int sorted , int flags1 , int flags2 , void (*scanfunc)(HashNode  ,
                                                                       int  ) , int scanflags ,
               int expand ) ;
#line 29
void printshfuncexpand(HashNode hn , int printflags , int expand ) ;
#line 30 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
HashTable___0 reswdtab  ;
#line 32 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
HashTable___0 aliastab  ;
#line 33 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.epro"
HashTable___0 sufaliastab  ;
#line 34
void createaliastable(HashTable___0 ht ) ;
#line 36
Alias createaliasnode(char *txt , int flags ) ;
#line 38
unsigned int histhasher(char const   *str ) ;
#line 39
void emptyhisttable(HashTable___0 ht ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.pro"
static int hnamcmp(void const   *ap , void const   *bp ) ;
#line 3
static void expandhashtable(HashTable___0 ht ) ;
#line 4
static void resizehashtable(HashTable___0 ht , int newsize ) ;
#line 8
static void emptycmdnamtable(HashTable___0 ht ) ;
#line 9
static void fillcmdnamtable(HashTable___0 ht  __attribute__((__unused__)) ) ;
#line 10
static void freecmdnamnode(HashNode hn ) ;
#line 11
static void printcmdnamnode(HashNode hn , int printflags ) ;
#line 12
static HashNode removeshfuncnode(HashTable___0 ht  __attribute__((__unused__)) , char const   *nam ) ;
#line 13
static void disableshfuncnode(HashNode hn , int flags  __attribute__((__unused__)) ) ;
#line 14
static void enableshfuncnode(HashNode hn , int flags  __attribute__((__unused__)) ) ;
#line 15
static void freeshfuncnode(HashNode hn ) ;
#line 16
static void printshfuncnode(HashNode hn , int printflags ) ;
#line 17
static void printreswdnode(HashNode hn , int printflags ) ;
#line 18
static void freealiasnode(HashNode hn ) ;
#line 19
static void printaliasnode(HashNode hn , int printflags ) ;
#line 80 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
unsigned int hasher(char const   *str ) 
{ 
  unsigned int hashval ;
  unsigned int c ;
  char const   *tmp ;

  {
#line 83
  hashval = 0U;
  {
#line 85
  while (1) {
    while_continue: /* CIL Label */ ;
#line 85
    tmp = str;
#line 85
    str ++;
#line 85
    c = (unsigned int )*((unsigned char *)tmp);
#line 85
    if (! c) {
#line 85
      goto while_break;
    }
#line 86
    hashval += (hashval << 5) + c;
  }
  while_break: /* CIL Label */ ;
  }
#line 88
  return (hashval);
}
}
#line 94 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
HashTable___0 newhashtable(int size , char const   *name  __attribute__((__unused__)) ,
                           void (*printinfo)(HashTable___0  )  __attribute__((__unused__)) ) 
{ 
  HashTable___0 ht ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 99
  tmp = zshcalloc(sizeof(*ht));
#line 99
  ht = (HashTable___0 )tmp;
#line 111
  tmp___0 = zshcalloc((unsigned long )size * sizeof(HashNode ));
#line 111
  ht->nodes = (HashNode *)tmp___0;
#line 112
  ht->hsize = size;
#line 113
  ht->ct = 0;
#line 114
  ht->scan = (ScanStatus )((void *)0);
#line 115
  ht->scantab = (void (*)(HashTable___0  , void (*)(HashNode  , int  ) , int  ))((void *)0);
  }
#line 116
  return (ht);
}
}
#line 123 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void deletehashtable(HashTable___0 ht ) 
{ 


  {
  {
#line 126
  (*(ht->emptytable))(ht);
#line 138
  zfree((void *)ht->nodes, (int )((unsigned long )ht->hsize * sizeof(HashNode )));
#line 139
  zfree((void *)ht, (int )sizeof(*ht));
  }
#line 140
  return;
}
}
#line 151 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void addhashnode(HashTable___0 ht , char *nam , void *nodeptr ) 
{ 
  HashNode oldnode ;
  HashNode tmp ;

  {
  {
#line 154
  tmp = addhashnode2(ht, nam, nodeptr);
#line 154
  oldnode = tmp;
  }
#line 155
  if (oldnode) {
    {
#line 156
    (*(ht->freenode))(oldnode);
    }
  }
#line 157
  return;
}
}
#line 162 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
HashNode addhashnode2(HashTable___0 ht , char *nam , void *nodeptr ) 
{ 
  unsigned int hashval ;
  HashNode hn ;
  HashNode hp ;
  HashNode hq ;
  unsigned int tmp ;
  HashNode *hashtab ;
  int i ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 168
  hn = (HashNode )nodeptr;
#line 169
  hn->nam = nam;
#line 171
  tmp = (*(ht->hash))((char const   *)hn->nam);
#line 171
  hashval = tmp % (unsigned int )ht->hsize;
#line 172
  hp = *(ht->nodes + hashval);
  }
#line 175
  if (! hp) {
#line 176
    hn->next = (HashNode )((void *)0);
#line 177
    *(ht->nodes + hashval) = hn;
#line 178
    (ht->ct) ++;
#line 178
    if (ht->ct >= ht->hsize * 2) {
#line 178
      if (! ht->scan) {
        {
#line 179
        expandhashtable(ht);
        }
      }
    }
#line 180
    return ((HashNode )((void *)0));
  }
  {
#line 184
  tmp___1 = (*(ht->cmpnodes))((char const   *)hp->nam, (char const   *)hn->nam);
  }
#line 184
  if (tmp___1 == 0) {
#line 185
    *(ht->nodes + hashval) = hn;
    replacing: 
#line 187
    hn->next = hp->next;
#line 188
    if (ht->scan) {
#line 189
      if ((ht->scan)->sorted) {
#line 190
        hashtab = (ht->scan)->u.s.hashtab;
#line 192
        i = (ht->scan)->u.s.ct;
        {
#line 192
        while (1) {
          while_continue: /* CIL Label */ ;
#line 192
          tmp___0 = i;
#line 192
          i --;
#line 192
          if (! tmp___0) {
#line 192
            goto while_break;
          }
#line 193
          if ((unsigned long )*(hashtab + i) == (unsigned long )hp) {
#line 194
            *(hashtab + i) = hn;
          }
        }
        while_break: /* CIL Label */ ;
        }
      } else
#line 195
      if ((unsigned long )(ht->scan)->u.u == (unsigned long )hp) {
#line 196
        (ht->scan)->u.u = hn;
      }
    }
#line 198
    return (hp);
  }
#line 202
  hq = hp;
#line 203
  hp = hp->next;
  {
#line 204
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 204
    if (! hp) {
#line 204
      goto while_break___0;
    }
    {
#line 205
    tmp___2 = (*(ht->cmpnodes))((char const   *)hp->nam, (char const   *)hn->nam);
    }
#line 205
    if (tmp___2 == 0) {
#line 206
      hq->next = hn;
#line 207
      goto replacing;
    }
#line 204
    hq = hp;
#line 204
    hp = hp->next;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 212
  hn->next = *(ht->nodes + hashval);
#line 213
  *(ht->nodes + hashval) = hn;
#line 214
  (ht->ct) ++;
#line 214
  if (ht->ct >= ht->hsize * 2) {
#line 214
    if (! ht->scan) {
      {
#line 215
      expandhashtable(ht);
      }
    }
  }
#line 216
  return ((HashNode )((void *)0));
}
}
#line 225 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
HashNode gethashnode(HashTable___0 ht , char const   *nam ) 
{ 
  unsigned int hashval ;
  HashNode hp ;
  unsigned int tmp ;
  int tmp___0 ;

  {
  {
#line 231
  tmp = (*(ht->hash))(nam);
#line 231
  hashval = tmp % (unsigned int )ht->hsize;
#line 232
  hp = *(ht->nodes + hashval);
  }
  {
#line 232
  while (1) {
    while_continue: /* CIL Label */ ;
#line 232
    if (! hp) {
#line 232
      goto while_break;
    }
    {
#line 233
    tmp___0 = (*(ht->cmpnodes))((char const   *)hp->nam, nam);
    }
#line 233
    if (tmp___0 == 0) {
#line 234
      if (hp->flags & 1) {
#line 235
        return ((HashNode )((void *)0));
      } else {
#line 237
        return (hp);
      }
    }
#line 232
    hp = hp->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 240
  return ((HashNode )((void *)0));
}
}
#line 249 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
HashNode gethashnode2(HashTable___0 ht , char const   *nam ) 
{ 
  unsigned int hashval ;
  HashNode hp ;
  unsigned int tmp ;
  int tmp___0 ;

  {
  {
#line 255
  tmp = (*(ht->hash))(nam);
#line 255
  hashval = tmp % (unsigned int )ht->hsize;
#line 256
  hp = *(ht->nodes + hashval);
  }
  {
#line 256
  while (1) {
    while_continue: /* CIL Label */ ;
#line 256
    if (! hp) {
#line 256
      goto while_break;
    }
    {
#line 257
    tmp___0 = (*(ht->cmpnodes))((char const   *)hp->nam, nam);
    }
#line 257
    if (tmp___0 == 0) {
#line 258
      return (hp);
    }
#line 256
    hp = hp->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 260
  return ((HashNode )((void *)0));
}
}
#line 269 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
HashNode removehashnode(HashTable___0 ht , char const   *nam ) 
{ 
  unsigned int hashval ;
  HashNode hp ;
  HashNode hq ;
  unsigned int tmp ;
  HashNode *hashtab ;
  int i ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 275
  tmp = (*(ht->hash))(nam);
#line 275
  hashval = tmp % (unsigned int )ht->hsize;
#line 276
  hp = *(ht->nodes + hashval);
  }
#line 279
  if (! hp) {
#line 280
    return ((HashNode )((void *)0));
  }
  {
#line 283
  tmp___1 = (*(ht->cmpnodes))((char const   *)hp->nam, nam);
  }
#line 283
  if (tmp___1 == 0) {
#line 284
    *(ht->nodes + hashval) = hp->next;
    gotit: 
#line 286
    (ht->ct) --;
#line 287
    if (ht->scan) {
#line 288
      if ((ht->scan)->sorted) {
#line 289
        hashtab = (ht->scan)->u.s.hashtab;
#line 291
        i = (ht->scan)->u.s.ct;
        {
#line 291
        while (1) {
          while_continue: /* CIL Label */ ;
#line 291
          tmp___0 = i;
#line 291
          i --;
#line 291
          if (! tmp___0) {
#line 291
            goto while_break;
          }
#line 292
          if ((unsigned long )*(hashtab + i) == (unsigned long )hp) {
#line 293
            *(hashtab + i) = (HashNode )((void *)0);
          }
        }
        while_break: /* CIL Label */ ;
        }
      } else
#line 294
      if ((unsigned long )(ht->scan)->u.u == (unsigned long )hp) {
#line 295
        (ht->scan)->u.u = hp->next;
      }
    }
#line 297
    return (hp);
  }
#line 301
  hq = hp;
#line 302
  hp = hp->next;
  {
#line 303
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 303
    if (! hp) {
#line 303
      goto while_break___0;
    }
    {
#line 304
    tmp___2 = (*(ht->cmpnodes))((char const   *)hp->nam, nam);
    }
#line 304
    if (tmp___2 == 0) {
#line 305
      hq->next = hp->next;
#line 306
      goto gotit;
    }
#line 303
    hq = hp;
#line 303
    hp = hp->next;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 311
  return ((HashNode )((void *)0));
}
}
#line 317 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void disablehashnode(HashNode hn , int flags  __attribute__((__unused__)) ) 
{ 


  {
#line 320
  hn->flags |= 1;
#line 321
  return;
}
}
#line 326 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void enablehashnode(HashNode hn , int flags  __attribute__((__unused__)) ) 
{ 


  {
#line 329
  hn->flags &= -2;
#line 330
  return;
}
}
#line 335 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static int hnamcmp(void const   *ap , void const   *bp ) 
{ 
  HashNode a ;
  HashNode b ;
  int tmp ;

  {
  {
#line 338
  a = *((HashNode *)ap);
#line 339
  b = *((HashNode *)bp);
#line 340
  tmp = ztrcmp((char const   *)a->nam, (char const   *)b->nam);
  }
#line 340
  return (tmp);
}
}
#line 367 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
int scanmatchtable(HashTable___0 ht , Patprog pprog , int sorted , int flags1 , int flags2 ,
                   void (*scanfunc)(HashNode  , int  ) , int scanflags ) 
{ 
  int match ;
  struct scanstatus st___0 ;
  int i ;
  int ct ;
  HashNode *hnsorttab ;
  void *tmp ;
  HashNode *htp ;
  HashNode hn ;
  HashNode *tmp___0 ;
  int tmp___1 ;
  int i___0 ;
  int hsize ;
  HashNode *nodes ;
  HashNode hn___0 ;
  int tmp___2 ;

  {
#line 371
  match = 0;
#line 380
  if (! pprog) {
#line 380
    if (ht->scantab) {
      {
#line 381
      (*(ht->scantab))(ht, scanfunc, scanflags);
      }
#line 382
      return (ht->ct);
    }
  }
#line 384
  if (sorted) {
    {
#line 385
    ct = ht->ct;
#line 386
    tmp = zhalloc(sizeof(HashNode ) * (unsigned long )ct);
#line 386
    hnsorttab = (HashNode *)tmp;
#line 394
    htp = hnsorttab;
#line 394
    i = 0;
    }
    {
#line 394
    while (1) {
      while_continue: /* CIL Label */ ;
#line 394
      if (! (i < ht->hsize)) {
#line 394
        goto while_break;
      }
#line 395
      hn = *(ht->nodes + i);
      {
#line 395
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 395
        if (! hn) {
#line 395
          goto while_break___0;
        }
#line 396
        tmp___0 = htp;
#line 396
        htp ++;
#line 396
        *tmp___0 = hn;
#line 395
        hn = hn->next;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 394
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 397
    qsort((void *)hnsorttab, (size_t )ct, sizeof(HashNode ), & hnamcmp);
#line 399
    st___0.sorted = 1;
#line 400
    st___0.u.s.hashtab = hnsorttab;
#line 401
    st___0.u.s.ct = ct;
#line 402
    ht->scan = & st___0;
#line 404
    htp = hnsorttab;
#line 404
    i = 0;
    }
    {
#line 404
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 404
      if (! (i < ct)) {
#line 404
        goto while_break___1;
      }
#line 405
      if (! flags1) {
#line 405
        goto _L;
      } else
#line 405
      if ((*htp)->flags & flags1) {
        _L: /* CIL Label */ 
#line 405
        if (! ((*htp)->flags & flags2)) {
#line 405
          if (! pprog) {
            {
#line 408
            match ++;
#line 409
            (*scanfunc)(*htp, scanflags);
            }
          } else {
            {
#line 405
            tmp___1 = pattry(pprog, (*htp)->nam);
            }
#line 405
            if (tmp___1) {
              {
#line 408
              match ++;
#line 409
              (*scanfunc)(*htp, scanflags);
              }
            }
          }
        }
      }
#line 404
      i ++;
#line 404
      htp ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 413
    ht->scan = (ScanStatus )((void *)0);
  } else {
#line 415
    hsize = ht->hsize;
#line 416
    nodes = ht->nodes;
#line 418
    st___0.sorted = 0;
#line 419
    ht->scan = & st___0;
#line 421
    i___0 = 0;
    {
#line 421
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 421
      if (! (i___0 < hsize)) {
#line 421
        goto while_break___2;
      }
#line 422
      st___0.u.u = *(nodes + i___0);
      {
#line 422
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 422
        if (! st___0.u.u) {
#line 422
          goto while_break___3;
        }
#line 423
        hn___0 = st___0.u.u;
#line 424
        st___0.u.u = (st___0.u.u)->next;
#line 425
        if (! flags1) {
#line 425
          goto _L___0;
        } else
#line 425
        if (hn___0->flags & flags1) {
          _L___0: /* CIL Label */ 
#line 425
          if (! (hn___0->flags & flags2)) {
#line 425
            if (! pprog) {
              {
#line 427
              match ++;
#line 428
              (*scanfunc)(hn___0, scanflags);
              }
            } else {
              {
#line 425
              tmp___2 = pattry(pprog, hn___0->nam);
              }
#line 425
              if (tmp___2) {
                {
#line 427
                match ++;
#line 428
                (*scanfunc)(hn___0, scanflags);
                }
              }
            }
          }
        }
      }
      while_break___3: /* CIL Label */ ;
      }
#line 421
      i___0 ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 432
    ht->scan = (ScanStatus )((void *)0);
  }
#line 435
  return (match);
}
}
#line 440 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
int scanhashtable(HashTable___0 ht , int sorted , int flags1 , int flags2 , void (*scanfunc)(HashNode  ,
                                                                                             int  ) ,
                  int scanflags ) 
{ 
  int tmp ;

  {
  {
#line 444
  tmp = scanmatchtable(ht, (Patprog )((void *)0), sorted, flags1, flags2, scanfunc,
                       scanflags);
  }
#line 444
  return (tmp);
}
}
#line 452 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void expandhashtable(HashTable___0 ht ) 
{ 
  struct hashnode **onodes ;
  struct hashnode **ha ;
  struct hashnode *hn ;
  struct hashnode *hp ;
  int i ;
  int osize ;
  void *tmp ;

  {
  {
#line 458
  osize = ht->hsize;
#line 459
  onodes = ht->nodes;
#line 461
  ht->hsize = osize * 4;
#line 462
  tmp = zshcalloc((unsigned long )ht->hsize * sizeof(HashNode ));
#line 462
  ht->nodes = (HashNode *)tmp;
#line 463
  ht->ct = 0;
#line 467
  i = 0;
#line 467
  ha = onodes;
  }
  {
#line 467
  while (1) {
    while_continue: /* CIL Label */ ;
#line 467
    if (! (i < osize)) {
#line 467
      goto while_break;
    }
#line 468
    hn = *ha;
    {
#line 468
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 468
      if (! hn) {
#line 468
        goto while_break___0;
      }
      {
#line 469
      hp = hn->next;
#line 470
      (*(ht->addnode))(ht, hn->nam, (void *)hn);
#line 471
      hn = hp;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 467
    i ++;
#line 467
    ha ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 474
  zfree((void *)onodes, (int )((unsigned long )osize * sizeof(HashNode )));
  }
#line 475
  return;
}
}
#line 480 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void resizehashtable(HashTable___0 ht , int newsize ) 
{ 
  struct hashnode **ha ;
  struct hashnode *hn ;
  struct hashnode *hp ;
  int i ;
  void *tmp ;

  {
#line 487
  ha = ht->nodes;
#line 488
  i = 0;
  {
#line 488
  while (1) {
    while_continue: /* CIL Label */ ;
#line 488
    if (! (i < ht->hsize)) {
#line 488
      goto while_break;
    }
#line 489
    hn = *ha;
    {
#line 489
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 489
      if (! hn) {
#line 489
        goto while_break___0;
      }
      {
#line 490
      hp = hn->next;
#line 491
      (*(ht->freenode))(hn);
#line 492
      hn = hp;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 488
    i ++;
#line 488
    ha ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 498
  if (ht->hsize != newsize) {
    {
#line 499
    zfree((void *)ht->nodes, (int )((unsigned long )ht->hsize * sizeof(HashNode )));
#line 500
    tmp = zshcalloc((unsigned long )newsize * sizeof(HashNode ));
#line 500
    ht->nodes = (HashNode *)tmp;
#line 501
    ht->hsize = newsize;
    }
  } else {
    {
#line 504
    memset((void *)ht->nodes, 0, (unsigned long )newsize * sizeof(HashNode ));
    }
  }
#line 507
  ht->ct = 0;
#line 508
  return;
}
}
#line 513 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void emptyhashtable(HashTable___0 ht ) 
{ 


  {
  {
#line 516
  resizehashtable(ht, ht->hsize);
  }
#line 517
  return;
}
}
#line 595 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void createcmdnamtable(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
#line 598
  cmdnamtab = newhashtable(201, "cmdnamtab", (void (*)(HashTable___0  ))((void *)0));
#line 600
  cmdnamtab->hash = & hasher;
#line 601
  cmdnamtab->emptytable = & emptycmdnamtable;
#line 602
  cmdnamtab->filltable = & fillcmdnamtable;
#line 603
  cmdnamtab->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 604
  cmdnamtab->addnode = & addhashnode;
#line 605
  cmdnamtab->getnode = & gethashnode2;
#line 606
  cmdnamtab->getnode2 = & gethashnode2;
#line 607
  cmdnamtab->removenode = & removehashnode;
#line 608
  cmdnamtab->disablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 609
  cmdnamtab->enablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 610
  cmdnamtab->freenode = & freecmdnamnode;
#line 611
  cmdnamtab->printnode = & printcmdnamnode;
#line 613
  pathchecked = path;
  }
#line 614
  return;
}
}
#line 617 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void emptycmdnamtable(HashTable___0 ht ) 
{ 


  {
  {
#line 620
  emptyhashtable(ht);
#line 621
  pathchecked = path;
  }
#line 622
  return;
}
}
#line 628 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void hashdir(char **dirp ) 
{ 
  Cmdnam cn ;
  DIR *dir ;
  char *fn___0 ;
  char *unmetadir ;
  char *pathbuf___0 ;
  char *pathptr ;
  int dirlen ;
  int tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  char *fname ;
  char *tmp___2 ;
  struct stat statbuf ;
  int add___0 ;
  int dummylen ;
  int tmp___3 ;
  int tmp___4 ;
  size_t tmp___5 ;
  void *tmp___6 ;
  HashNode tmp___7 ;
  void *__cil_tmp22 ;
  char *__cil_tmp23 ;

  {
  {
#line 639
  tmp = isrelative(*dirp);
  }
#line 639
  if (tmp) {
#line 640
    return;
  }
  {
#line 641
  unmetadir = unmeta((char const   *)*dirp);
#line 642
  dir = opendir((char const   *)unmetadir);
  }
#line 642
  if (! dir) {
#line 643
    return;
  }
  {
#line 645
  tmp___0 = strlen((char const   *)unmetadir);
#line 645
  dirlen = (int )tmp___0;
#line 646
  tmp___1 = zalloc((size_t )((dirlen + 4096) + 2));
#line 646
  pathbuf___0 = (char *)tmp___1;
#line 647
  sprintf((char */* __restrict  */)pathbuf___0, (char const   */* __restrict  */)"%s/",
          unmetadir);
#line 648
  pathptr = (pathbuf___0 + dirlen) + 1;
  }
  {
#line 650
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 650
    fn___0 = zreaddir(dir, 1);
    }
#line 650
    if (! fn___0) {
#line 650
      goto while_break;
    }
    {
#line 651
    tmp___7 = (*(cmdnamtab->getnode))(cmdnamtab, (char const   *)fn___0);
    }
#line 651
    if (! tmp___7) {
      {
#line 652
      tmp___2 = ztrdup((char const   *)fn___0);
#line 652
      fname = tmp___2;
#line 654
      add___0 = 0;
#line 656
      unmetafy(fn___0, & dummylen);
#line 657
      tmp___5 = strlen((char const   *)fn___0);
      }
#line 657
      if (tmp___5 > 4096UL) {
#line 659
        add___0 = 1;
      } else {
        {
#line 661
        strcpy((char */* __restrict  */)pathptr, (char const   */* __restrict  */)fn___0);
        }
#line 666
        if (! opts[68]) {
#line 670
          add___0 = 1;
        } else {
          {
#line 666
          tmp___3 = access((char const   *)pathbuf___0, 1);
          }
#line 666
          if (tmp___3 == 0) {
            {
#line 666
            tmp___4 = stat((char const   */* __restrict  */)pathbuf___0, (struct stat */* __restrict  */)(& statbuf));
            }
#line 666
            if (tmp___4 == 0) {
#line 666
              if ((statbuf.st_mode & 61440U) == 32768U) {
#line 666
                if (statbuf.st_mode & (unsigned int )((64 | (64 >> 3)) | ((64 >> 3) >> 3))) {
#line 670
                  add___0 = 1;
                }
              }
            }
          }
        }
      }
#line 672
      if (add___0) {
        {
#line 673
        tmp___6 = zshcalloc(sizeof(*cn));
#line 673
        cn = (Cmdnam )tmp___6;
#line 674
        cn->node.flags = 0;
#line 675
        cn->u.name = dirp;
#line 676
        (*(cmdnamtab->addnode))(cmdnamtab, fname, (void *)cn);
        }
      } else {
        {
#line 678
        zsfree(fname);
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 698
  closedir(dir);
#line 699
  zfree((void *)pathbuf___0, (dirlen + 4096) + 2);
  }
#line 700
  return;
}
}
#line 706 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void fillcmdnamtable(HashTable___0 ht  __attribute__((__unused__)) ) 
{ 
  char **pq ;

  {
#line 711
  pq = pathchecked;
  {
#line 711
  while (1) {
    while_continue: /* CIL Label */ ;
#line 711
    if (! *pq) {
#line 711
      goto while_break;
    }
    {
#line 712
    hashdir(pq);
#line 711
    pq ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 714
  pathchecked = pq;
#line 715
  return;
}
}
#line 718 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void freecmdnamnode(HashNode hn ) 
{ 
  Cmdnam cn ;

  {
  {
#line 721
  cn = (Cmdnam )hn;
#line 723
  zsfree(cn->node.nam);
  }
#line 724
  if (cn->node.flags & (1 << 1)) {
    {
#line 725
    zsfree(cn->u.cmd);
    }
  }
  {
#line 727
  zfree((void *)cn, (int )sizeof(struct cmdnam ));
  }
#line 728
  return;
}
}
#line 733 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void printcmdnamnode(HashNode hn , int printflags ) 
{ 
  Cmdnam cn ;
  char const   *tmp ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 736
  cn = (Cmdnam )hn;
#line 738
  if (printflags & (1 << 10)) {
#line 739
    if (cn->node.flags & (1 << 1)) {
#line 739
      tmp = "hashed";
    } else {
#line 739
      tmp = "command";
    }
    {
#line 739
    printf((char const   */* __restrict  */)"%s: %s\n", cn->node.nam, tmp);
    }
#line 741
    return;
  }
#line 744
  if (printflags & (1 << 6)) {
#line 744
    goto _L;
  } else
#line 744
  if (printflags & (1 << 8)) {
    _L: /* CIL Label */ 
#line 745
    if (cn->node.flags & (1 << 1)) {
      {
#line 746
      zputs((char const   *)cn->u.cmd, stdout);
#line 747
      putchar('\n');
      }
    } else {
      {
#line 749
      zputs((char const   *)*(cn->u.name), stdout);
#line 750
      putchar('/');
#line 751
      zputs((char const   *)cn->node.nam, stdout);
#line 752
      putchar('\n');
      }
    }
#line 754
    return;
  }
#line 757
  if (printflags & (1 << 7)) {
#line 758
    if (cn->node.flags & (1 << 1)) {
      {
#line 759
      mb_niceformat((char const   *)cn->node.nam, stdout, (char **)((void *)0), 0);
#line 760
      printf((char const   */* __restrict  */)" is hashed to ");
#line 761
      mb_niceformat((char const   *)cn->u.cmd, stdout, (char **)((void *)0), 0);
#line 762
      putchar('\n');
      }
    } else {
      {
#line 764
      mb_niceformat((char const   *)cn->node.nam, stdout, (char **)((void *)0), 0);
#line 765
      printf((char const   */* __restrict  */)" is ");
#line 766
      mb_niceformat((char const   *)*(cn->u.name), stdout, (char **)((void *)0), 0);
#line 767
      putchar('/');
#line 768
      mb_niceformat((char const   *)cn->node.nam, stdout, (char **)((void *)0), 0);
#line 769
      putchar('\n');
      }
    }
#line 771
    return;
  }
#line 774
  if (printflags & (1 << 2)) {
    {
#line 775
    printf((char const   */* __restrict  */)"hash ");
    }
#line 777
    if ((int )*(cn->node.nam + 0) == 45) {
      {
#line 778
      printf((char const   */* __restrict  */)"-- ");
      }
    }
  }
#line 781
  if (cn->node.flags & (1 << 1)) {
    {
#line 782
    quotedzputs((char const   *)cn->node.nam, stdout);
#line 783
    putchar('=');
#line 784
    quotedzputs((char const   *)cn->u.cmd, stdout);
#line 785
    putchar('\n');
    }
  } else {
    {
#line 787
    quotedzputs((char const   *)cn->node.nam, stdout);
#line 788
    putchar('=');
#line 789
    quotedzputs((char const   *)*(cn->u.name), stdout);
#line 790
    putchar('/');
#line 791
    quotedzputs((char const   *)cn->node.nam, stdout);
#line 792
    putchar('\n');
    }
  }
#line 794
  return;
}
}
#line 806 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void createshfunctable(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
#line 809
  shfunctab = newhashtable(7, "shfunctab", (void (*)(HashTable___0  ))((void *)0));
#line 811
  shfunctab->hash = & hasher;
#line 812
  shfunctab->emptytable = (void (*)(HashTable___0  ))((void *)0);
#line 813
  shfunctab->filltable = (void (*)(HashTable___0  ))((void *)0);
#line 814
  shfunctab->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 815
  shfunctab->addnode = & addhashnode;
#line 816
  shfunctab->getnode = & gethashnode;
#line 817
  shfunctab->getnode2 = & gethashnode2;
#line 818
  shfunctab->removenode = & removeshfuncnode;
#line 819
  shfunctab->disablenode = & disableshfuncnode;
#line 820
  shfunctab->enablenode = & enableshfuncnode;
#line 821
  shfunctab->freenode = & freeshfuncnode;
#line 822
  shfunctab->printnode = & printshfuncnode;
  }
#line 823
  return;
}
}
#line 830 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static HashNode removeshfuncnode(HashTable___0 ht  __attribute__((__unused__)) , char const   *nam ) 
{ 
  HashNode hn ;
  int signum ;
  int tmp ;
  char *__cil_tmp6 ;

  {
  {
#line 836
  tmp = strncmp(nam, "TRAP", (size_t )4);
  }
#line 836
  if (tmp) {
    {
#line 839
    hn = removehashnode(shfunctab, nam);
    }
  } else {
    {
#line 836
    signum = getsignum(nam + 4);
    }
#line 836
    if (signum != -1) {
      {
#line 837
      hn = removetrap(signum);
      }
    } else {
      {
#line 839
      hn = removehashnode(shfunctab, nam);
      }
    }
  }
#line 841
  return (hn);
}
}
#line 849 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void disableshfuncnode(HashNode hn , int flags  __attribute__((__unused__)) ) 
{ 
  int signum ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp6 ;

  {
  {
#line 852
  hn->flags |= 1;
#line 853
  tmp___0 = strncmp((char const   *)hn->nam, "TRAP", (size_t )4);
  }
#line 853
  if (! tmp___0) {
    {
#line 854
    tmp = getsignum((char const   *)(hn->nam + 4));
#line 854
    signum = tmp;
    }
#line 855
    if (signum != -1) {
      {
#line 856
      sigtrapped[signum] &= ~ (1 << 2);
#line 857
      unsettrap(signum);
      }
    }
  }
#line 860
  return;
}
}
#line 867 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void enableshfuncnode(HashNode hn , int flags  __attribute__((__unused__)) ) 
{ 
  Shfunc shf ;
  int signum ;
  int tmp ;
  int tmp___0 ;
  char *__cil_tmp7 ;

  {
  {
#line 870
  shf = (Shfunc )hn;
#line 872
  shf->node.flags &= -2;
#line 873
  tmp___0 = strncmp((char const   *)shf->node.nam, "TRAP", (size_t )4);
  }
#line 873
  if (! tmp___0) {
    {
#line 874
    tmp = getsignum((char const   *)(shf->node.nam + 4));
#line 874
    signum = tmp;
    }
#line 875
    if (signum != -1) {
      {
#line 876
      settrap(signum, (Eprog )((void *)0), 1 << 2);
      }
    }
  }
#line 879
  return;
}
}
#line 882 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void freeshfuncnode(HashNode hn ) 
{ 
  Shfunc shf ;

  {
  {
#line 885
  shf = (Shfunc )hn;
#line 887
  zsfree(shf->node.nam);
  }
#line 888
  if (shf->funcdef) {
    {
#line 889
    freeeprog(shf->funcdef);
    }
  }
#line 890
  if (shf->redir) {
    {
#line 891
    freeeprog(shf->redir);
    }
  }
  {
#line 892
  zsfree(shf->filename);
  }
#line 893
  if (shf->sticky) {
#line 894
    if ((shf->sticky)->n_on_opts) {
      {
#line 895
      zfree((void *)(shf->sticky)->on_opts, (int )((unsigned long )(shf->sticky)->n_on_opts * sizeof(*((shf->sticky)->on_opts))));
      }
    }
#line 897
    if ((shf->sticky)->n_off_opts) {
      {
#line 898
      zfree((void *)(shf->sticky)->off_opts, (int )((unsigned long )(shf->sticky)->n_off_opts * sizeof(*((shf->sticky)->off_opts))));
      }
    }
    {
#line 900
    zfree((void *)shf->sticky, (int )sizeof(*(shf->sticky)));
    }
  }
  {
#line 902
  zfree((void *)shf, (int )sizeof(struct shfunc ));
  }
#line 903
  return;
}
}
#line 908 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void printshfuncnode(HashNode hn , int printflags ) 
{ 
  Shfunc f ;
  char *t ;
  char const   *tmp ;
  char const   *tmp___0 ;
  int tmp___1 ;
  char *fopt ;
  int flgs[6] ;
  int fl ;
  void *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;

  {
#line 911
  f = (Shfunc )hn;
#line 912
  t = (char *)0;
#line 914
  if (printflags & 1) {
    {
#line 917
    zputs((char const   *)f->node.nam, stdout);
#line 918
    putchar('\n');
    }
#line 919
    return;
  } else
#line 914
  if (printflags & (1 << 8)) {
#line 914
    if (! (printflags & (1 << 9))) {
      {
#line 917
      zputs((char const   *)f->node.nam, stdout);
#line 918
      putchar('\n');
      }
#line 919
      return;
    }
  }
#line 922
  if (printflags & ((1 << 7) | (1 << 10))) {
#line 922
    if (! (printflags & (1 << 9))) {
      {
#line 924
      mb_niceformat((char const   *)f->node.nam, stdout, (char **)((void *)0), 0);
      }
#line 925
      if (printflags & (1 << 10)) {
#line 925
        tmp___0 = ": function";
      } else {
#line 925
        if (f->node.flags & (1 << 9)) {
#line 925
          tmp = " is an autoload shell function";
        } else {
#line 925
          tmp = " is a shell function";
        }
#line 925
        tmp___0 = tmp;
      }
      {
#line 925
      printf((char const   */* __restrict  */)tmp___0);
      }
#line 929
      if (f->filename) {
#line 929
        if (printflags & (1 << 7)) {
          {
#line 929
          tmp___1 = strcmp((char const   *)f->filename, (char const   *)f->node.nam);
          }
#line 929
          if (tmp___1 != 0) {
            {
#line 931
            printf((char const   */* __restrict  */)" from ");
#line 932
            quotedzputs((char const   *)f->filename, stdout);
            }
          }
        }
      }
      {
#line 934
      putchar('\n');
      }
#line 935
      return;
    }
  }
  {
#line 938
  quotedzputs((char const   *)f->node.nam, stdout);
  }
#line 939
  if (f->funcdef) {
#line 939
    goto _L;
  } else
#line 939
  if (f->node.flags & (1 << 9)) {
    _L: /* CIL Label */ 
    {
#line 940
    printf((char const   */* __restrict  */)" () {\n");
#line 941
    zoutputtab(stdout);
    }
#line 942
    if (f->node.flags & (1 << 9)) {
      {
#line 943
      printf((char const   */* __restrict  */)"%c undefined\n", (int )hashchar);
#line 944
      zoutputtab(stdout);
      }
    } else {
      {
#line 946
      t = getpermtext(f->funcdef, (Wordcode )((void *)0), 1);
      }
    }
#line 947
    if (f->node.flags & ((1 << 11) | (1 << 16))) {
      {
#line 948
      printf((char const   */* __restrict  */)"%c traced\n", (int )hashchar);
#line 949
      zoutputtab(stdout);
      }
    }
#line 951
    if (! t) {
      {
#line 952
      fopt = (char *)"UtTkz";
#line 953
      flgs[0] = 1 << 13;
#line 953
      flgs[1] = 1 << 11;
#line 953
      flgs[2] = 1 << 16;
#line 953
      flgs[3] = 1 << 17;
#line 953
      flgs[4] = 1 << 18;
#line 953
      flgs[5] = 0;
#line 959
      zputs("builtin autoload -X", stdout);
#line 960
      fl = 0;
      }
      {
#line 960
      while (1) {
        while_continue: /* CIL Label */ ;
#line 960
        if (! *(fopt + fl)) {
#line 960
          goto while_break;
        }
#line 961
        if (f->node.flags & flgs[fl]) {
          {
#line 961
          putchar((int )*(fopt + fl));
          }
        }
#line 960
        fl ++;
      }
      while_break: /* CIL Label */ ;
      }
    } else {
      {
#line 963
      zputs((char const   *)t, stdout);
#line 964
      zsfree(t);
      }
#line 965
      if ((f->funcdef)->flags & 8) {
        {
#line 966
        printf((char const   */* __restrict  */)"\n");
#line 967
        zoutputtab(stdout);
#line 968
        quotedzputs((char const   *)f->node.nam, stdout);
#line 969
        printf((char const   */* __restrict  */)" \"$@\"");
        }
      }
    }
    {
#line 972
    printf((char const   */* __restrict  */)"\n}");
    }
  } else {
    {
#line 974
    printf((char const   */* __restrict  */)" () { }");
    }
  }
#line 976
  if (f->redir) {
    {
#line 977
    t = getpermtext(f->redir, (Wordcode )((void *)0), 1);
    }
#line 978
    if (t) {
      {
#line 979
      zputs((char const   *)t, stdout);
#line 980
      zsfree(t);
      }
    }
  }
  {
#line 984
  putchar('\n');
  }
#line 985
  return;
}
}
#line 1000 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
int scanmatchshfunc(Patprog pprog , int sorted , int flags1 , int flags2 , void (*scanfunc)(HashNode  ,
                                                                                            int  ) ,
                    int scanflags , int expand ) 
{ 
  int ret ;
  int save_expand ;

  {
  {
#line 1006
  save_expand = text_expand_tabs;
#line 1007
  text_expand_tabs = expand;
#line 1008
  ret = scanmatchtable(shfunctab, pprog, sorted, flags1, flags2, scanfunc, scanflags);
#line 1010
  text_expand_tabs = save_expand;
  }
#line 1012
  return (ret);
}
}
#line 1018 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
int scanshfunc(int sorted , int flags1 , int flags2 , void (*scanfunc)(HashNode  ,
                                                                       int  ) , int scanflags ,
               int expand ) 
{ 
  int tmp ;

  {
  {
#line 1022
  tmp = scanmatchshfunc((Patprog )((void *)0), sorted, flags1, flags2, scanfunc, scanflags,
                        expand);
  }
#line 1022
  return (tmp);
}
}
#line 1029 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void printshfuncexpand(HashNode hn , int printflags , int expand ) 
{ 
  int save_expand ;

  {
  {
#line 1034
  save_expand = text_expand_tabs;
#line 1035
  text_expand_tabs = expand;
#line 1036
  (*(shfunctab->printnode))(hn, printflags);
#line 1037
  text_expand_tabs = save_expand;
  }
#line 1038
  return;
}
}
#line 1046 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static struct reswd reswds[32]  = 
#line 1046
  {      {{(HashNode )((void *)0), (char *)"!", 0}, 39}, 
        {{(HashNode )((void *)0), (char *)"[[", 0}, 40}, 
        {{(HashNode )((void *)0), (char *)"{", 0}, 41}, 
        {{(HashNode )((void *)0), (char *)"}", 0}, 42}, 
        {{(HashNode )((void *)0), (char *)"case", 0}, 43}, 
        {{(HashNode )((void *)0), (char *)"coproc", 0}, 44}, 
        {{(HashNode )((void *)0), (char *)"declare", 0}, 63}, 
        {{(HashNode )((void *)0), (char *)"do", 0}, 45}, 
        {{(HashNode )((void *)0), (char *)"done", 0}, 46}, 
        {{(HashNode )((void *)0), (char *)"elif", 0}, 47}, 
        {{(HashNode )((void *)0), (char *)"else", 0}, 48}, 
        {{(HashNode )((void *)0), (char *)"end", 0}, 49}, 
        {{(HashNode )((void *)0), (char *)"esac", 0}, 50}, 
        {{(HashNode )((void *)0), (char *)"export", 0}, 63}, 
        {{(HashNode )((void *)0), (char *)"fi", 0}, 51}, 
        {{(HashNode )((void *)0), (char *)"float", 0}, 63}, 
        {{(HashNode )((void *)0), (char *)"for", 0}, 52}, 
        {{(HashNode )((void *)0), (char *)"foreach", 0}, 53}, 
        {{(HashNode )((void *)0), (char *)"function", 0}, 54}, 
        {{(HashNode )((void *)0), (char *)"if", 0}, 55}, 
        {{(HashNode )((void *)0), (char *)"integer", 0}, 63}, 
        {{(HashNode )((void *)0), (char *)"local", 0}, 63}, 
        {{(HashNode )((void *)0), (char *)"nocorrect", 0}, 56}, 
        {{(HashNode )((void *)0), (char *)"readonly", 0}, 63}, 
        {{(HashNode )((void *)0), (char *)"repeat", 0}, 57}, 
        {{(HashNode )((void *)0), (char *)"select", 0}, 58}, 
        {{(HashNode )((void *)0), (char *)"then", 0}, 59}, 
        {{(HashNode )((void *)0), (char *)"time", 0}, 60}, 
        {{(HashNode )((void *)0), (char *)"typeset", 0}, 63}, 
        {{(HashNode )((void *)0), (char *)"until", 0}, 61}, 
        {{(HashNode )((void *)0), (char *)"while", 0}, 62}, 
        {{(HashNode )((void *)0), (char *)((void *)0), 0}, 0}};
#line 1089 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void createreswdtable(void) 
{ 
  Reswd rw ;
  char *__cil_tmp2 ;

  {
  {
#line 1094
  reswdtab = newhashtable(23, "reswdtab", (void (*)(HashTable___0  ))((void *)0));
#line 1096
  reswdtab->hash = & hasher;
#line 1097
  reswdtab->emptytable = (void (*)(HashTable___0  ))((void *)0);
#line 1098
  reswdtab->filltable = (void (*)(HashTable___0  ))((void *)0);
#line 1099
  reswdtab->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 1100
  reswdtab->addnode = & addhashnode;
#line 1101
  reswdtab->getnode = & gethashnode;
#line 1102
  reswdtab->getnode2 = & gethashnode2;
#line 1103
  reswdtab->removenode = (HashNode (*)(HashTable___0  , char const   * ))((void *)0);
#line 1104
  reswdtab->disablenode = & disablehashnode;
#line 1105
  reswdtab->enablenode = & enablehashnode;
#line 1106
  reswdtab->freenode = (void (*)(HashNode  ))((void *)0);
#line 1107
  reswdtab->printnode = & printreswdnode;
#line 1109
  rw = reswds;
  }
  {
#line 1109
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1109
    if (! rw->node.nam) {
#line 1109
      goto while_break;
    }
    {
#line 1110
    (*(reswdtab->addnode))(reswdtab, rw->node.nam, (void *)rw);
#line 1109
    rw ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1111
  return;
}
}
#line 1116 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void printreswdnode(HashNode hn , int printflags ) 
{ 
  Reswd rw ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
#line 1119
  rw = (Reswd )hn;
#line 1121
  if (printflags & (1 << 10)) {
    {
#line 1122
    printf((char const   */* __restrict  */)"%s: reserved\n", rw->node.nam);
    }
#line 1123
    return;
  }
#line 1126
  if (printflags & (1 << 6)) {
    {
#line 1127
    printf((char const   */* __restrict  */)"%s: shell reserved word\n", rw->node.nam);
    }
#line 1128
    return;
  }
#line 1131
  if (printflags & (1 << 7)) {
    {
#line 1132
    printf((char const   */* __restrict  */)"%s is a reserved word\n", rw->node.nam);
    }
#line 1133
    return;
  }
  {
#line 1137
  printf((char const   */* __restrict  */)"%s\n", rw->node.nam);
  }
#line 1138
  return;
}
}
#line 1157 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void createaliastable(HashTable___0 ht ) 
{ 


  {
#line 1160
  ht->hash = & hasher;
#line 1161
  ht->emptytable = (void (*)(HashTable___0  ))((void *)0);
#line 1162
  ht->filltable = (void (*)(HashTable___0  ))((void *)0);
#line 1163
  ht->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 1164
  ht->addnode = & addhashnode;
#line 1165
  ht->getnode = & gethashnode;
#line 1166
  ht->getnode2 = & gethashnode2;
#line 1167
  ht->removenode = & removehashnode;
#line 1168
  ht->disablenode = & disablehashnode;
#line 1169
  ht->enablenode = & enablehashnode;
#line 1170
  ht->freenode = & freealiasnode;
#line 1171
  ht->printnode = & printaliasnode;
#line 1172
  return;
}
}
#line 1175 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void createaliastables(void) 
{ 
  char *tmp ;
  Alias tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  Alias tmp___3 ;
  char *tmp___4 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
  {
#line 1180
  aliastab = newhashtable(23, "aliastab", (void (*)(HashTable___0  ))((void *)0));
#line 1182
  createaliastable(aliastab);
#line 1185
  tmp = ztrdup("man");
#line 1185
  tmp___0 = createaliasnode(tmp, 0);
#line 1185
  tmp___1 = ztrdup("run-help");
#line 1185
  (*(aliastab->addnode))(aliastab, tmp___1, (void *)tmp___0);
#line 1186
  tmp___2 = ztrdup("whence");
#line 1186
  tmp___3 = createaliasnode(tmp___2, 0);
#line 1186
  tmp___4 = ztrdup("which-command");
#line 1186
  (*(aliastab->addnode))(aliastab, tmp___4, (void *)tmp___3);
#line 1191
  sufaliastab = newhashtable(11, "sufaliastab", (void (*)(HashTable___0  ))((void *)0));
#line 1193
  createaliastable(sufaliastab);
  }
#line 1194
  return;
}
}
#line 1199 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
Alias createaliasnode(char *txt , int flags ) 
{ 
  Alias al ;
  void *tmp ;

  {
  {
#line 1204
  tmp = zshcalloc(sizeof(*al));
#line 1204
  al = (Alias )tmp;
#line 1205
  al->node.flags = flags;
#line 1206
  al->text = txt;
#line 1207
  al->inuse = 0;
  }
#line 1208
  return (al);
}
}
#line 1212 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void freealiasnode(HashNode hn ) 
{ 
  Alias al ;

  {
  {
#line 1215
  al = (Alias )hn;
#line 1217
  zsfree(al->node.nam);
#line 1218
  zsfree(al->text);
#line 1219
  zfree((void *)al, (int )sizeof(struct alias ));
  }
#line 1220
  return;
}
}
#line 1225 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
static void printaliasnode(HashNode hn , int printflags ) 
{ 
  Alias a ;
  char *tmp ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;

  {
#line 1228
  a = (Alias )hn;
#line 1230
  if (printflags & 1) {
    {
#line 1231
    zputs((char const   *)a->node.nam, stdout);
#line 1232
    putchar('\n');
    }
#line 1233
    return;
  }
#line 1236
  if (printflags & (1 << 10)) {
#line 1237
    if (a->node.flags & (1 << 2)) {
      {
#line 1238
      printf((char const   */* __restrict  */)"%s: suffix alias\n", a->node.nam);
      }
    } else {
      {
#line 1240
      printf((char const   */* __restrict  */)"%s: alias\n", a->node.nam);
      }
    }
#line 1241
    return;
  }
#line 1244
  if (printflags & (1 << 8)) {
    {
#line 1245
    zputs((char const   *)a->text, stdout);
#line 1246
    putchar('\n');
    }
#line 1247
    return;
  }
#line 1250
  if (printflags & (1 << 6)) {
    {
#line 1251
    mb_niceformat((char const   *)a->node.nam, stdout, (char **)((void *)0), 0);
#line 1252
    printf((char const   */* __restrict  */)": ");
    }
#line 1253
    if (a->node.flags & (1 << 2)) {
      {
#line 1254
      printf((char const   */* __restrict  */)"suffix ");
      }
    } else
#line 1255
    if (a->node.flags & (1 << 1)) {
      {
#line 1256
      printf((char const   */* __restrict  */)"globally ");
      }
    }
    {
#line 1257
    printf((char const   */* __restrict  */)"aliased to ");
#line 1258
    mb_niceformat((char const   *)a->text, stdout, (char **)((void *)0), 0);
#line 1259
    putchar('\n');
    }
#line 1260
    return;
  }
#line 1263
  if (printflags & (1 << 7)) {
    {
#line 1264
    mb_niceformat((char const   *)a->node.nam, stdout, (char **)((void *)0), 0);
#line 1265
    printf((char const   */* __restrict  */)" is a");
    }
#line 1266
    if (a->node.flags & (1 << 2)) {
      {
#line 1267
      printf((char const   */* __restrict  */)" suffix");
      }
    } else
#line 1268
    if (a->node.flags & (1 << 1)) {
      {
#line 1269
      printf((char const   */* __restrict  */)" global");
      }
    } else {
      {
#line 1271
      printf((char const   */* __restrict  */)"n");
      }
    }
    {
#line 1272
    printf((char const   */* __restrict  */)" alias for ");
#line 1273
    mb_niceformat((char const   *)a->text, stdout, (char **)((void *)0), 0);
#line 1274
    putchar('\n');
    }
#line 1275
    return;
  }
#line 1278
  if (printflags & (1 << 2)) {
    {
#line 1280
    tmp = strchr((char const   *)a->node.nam, '=');
    }
#line 1280
    if (tmp) {
      {
#line 1281
      zwarn("invalid alias \'%s\' encountered while printing aliases", a->node.nam);
      }
#line 1284
      return;
    }
    {
#line 1288
    printf((char const   */* __restrict  */)"alias ");
    }
#line 1289
    if (a->node.flags & (1 << 2)) {
      {
#line 1290
      printf((char const   */* __restrict  */)"-s ");
      }
    } else
#line 1291
    if (a->node.flags & (1 << 1)) {
      {
#line 1292
      printf((char const   */* __restrict  */)"-g ");
      }
    }
#line 1296
    if ((int )*(a->node.nam + 0) == 45) {
      {
#line 1297
      printf((char const   */* __restrict  */)"-- ");
      }
    } else
#line 1296
    if ((int )*(a->node.nam + 0) == 43) {
      {
#line 1297
      printf((char const   */* __restrict  */)"-- ");
      }
    }
  }
  {
#line 1300
  quotedzputs((char const   *)a->node.nam, stdout);
#line 1301
  putchar('=');
#line 1302
  quotedzputs((char const   *)a->text, stdout);
#line 1304
  putchar('\n');
  }
#line 1305
  return;
}
}
#line 1312 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void createhisttable(void) 
{ 
  char *__cil_tmp1 ;

  {
  {
#line 1315
  histtab = newhashtable(599, "histtab", (void (*)(HashTable___0  ))((void *)0));
#line 1317
  histtab->hash = & histhasher;
#line 1318
  histtab->emptytable = & emptyhisttable;
#line 1319
  histtab->filltable = (void (*)(HashTable___0  ))((void *)0);
#line 1320
  histtab->cmpnodes = & histstrcmp;
#line 1321
  histtab->addnode = & addhistnode;
#line 1322
  histtab->getnode = & gethashnode2;
#line 1323
  histtab->getnode2 = & gethashnode2;
#line 1324
  histtab->removenode = & removehashnode;
#line 1325
  histtab->disablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 1326
  histtab->enablenode = (void (*)(HashNode  , int  ))((void *)0);
#line 1327
  histtab->freenode = & freehistnode;
#line 1328
  histtab->printnode = (void (*)(HashNode  , int  ))((void *)0);
  }
#line 1329
  return;
}
}
#line 1332 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
unsigned int histhasher(char const   *str ) 
{ 
  unsigned int hashval ;
  char const   *tmp ;

  {
#line 1335
  hashval = 0U;
  {
#line 1337
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1337
    if (! ((int )typtab[(unsigned char )*str] & (1 << 3))) {
#line 1337
      goto while_break;
    }
#line 1337
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1339
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1339
    if (! *str) {
#line 1339
      goto while_break___0;
    }
#line 1340
    if ((int )typtab[(unsigned char )*str] & (1 << 3)) {
      {
#line 1341
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1341
        str ++;
#line 1341
        if (! ((int )typtab[(unsigned char )*str] & (1 << 3))) {
#line 1341
          goto while_break___1;
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1342
      if (*str) {
#line 1343
        hashval += (hashval << 5) + 32U;
      }
    } else {
#line 1346
      tmp = str;
#line 1346
      str ++;
#line 1346
      hashval += (hashval << 5) + (unsigned int )*((unsigned char *)tmp);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 1348
  return (hashval);
}
}
#line 1352 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void emptyhisttable(HashTable___0 ht ) 
{ 


  {
  {
#line 1355
  emptyhashtable(ht);
  }
#line 1356
  if (hist_ring) {
    {
#line 1357
    histremovedups();
    }
  }
#line 1358
  return;
}
}
#line 1363 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
int histstrcmp(char const   *str1 , char const   *str2 ) 
{ 


  {
  {
#line 1366
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1366
    if (! ((int )typtab[(unsigned char )*str1] & (1 << 3))) {
#line 1366
      goto while_break;
    }
#line 1366
    str1 ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1367
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1367
    if (! ((int )typtab[(unsigned char )*str2] & (1 << 3))) {
#line 1367
      goto while_break___0;
    }
#line 1367
    str2 ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 1368
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 1368
    if (*str1) {
#line 1368
      if (! *str2) {
#line 1368
        goto while_break___1;
      }
    } else {
#line 1368
      goto while_break___1;
    }
#line 1369
    if ((int )typtab[(unsigned char )*str1] & (1 << 3)) {
#line 1370
      if (! ((int )typtab[(unsigned char )*str2] & (1 << 3))) {
#line 1371
        goto while_break___1;
      }
      {
#line 1372
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 1372
        str1 ++;
#line 1372
        if (! ((int )typtab[(unsigned char )*str1] & (1 << 3))) {
#line 1372
          goto while_break___2;
        }
      }
      while_break___2: /* CIL Label */ ;
      }
      {
#line 1373
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 1373
        str2 ++;
#line 1373
        if (! ((int )typtab[(unsigned char )*str2] & (1 << 3))) {
#line 1373
          goto while_break___3;
        }
      }
      while_break___3: /* CIL Label */ ;
      }
    } else {
#line 1376
      if ((int const   )*str1 != (int const   )*str2) {
#line 1377
        goto while_break___1;
      }
#line 1378
      str1 ++;
#line 1379
      str2 ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
#line 1382
  return ((int )((int const   )*str1 - (int const   )*str2));
}
}
#line 1386 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void addhistnode(HashTable___0 ht , char *nam , void *nodeptr ) 
{ 
  HashNode oldnode ;
  HashNode tmp ;
  Histent he ;

  {
  {
#line 1389
  tmp = addhashnode2(ht, nam, nodeptr);
#line 1389
  oldnode = tmp;
#line 1390
  he = (Histent )nodeptr;
  }
#line 1391
  if (oldnode) {
#line 1391
    if ((unsigned long )oldnode != (unsigned long )((HashNode )nodeptr)) {
#line 1392
      if (he->node.flags & 1) {
        {
#line 1394
        addhashnode2(ht, oldnode->nam, (void *)oldnode);
#line 1395
        he->node.flags |= 8;
#line 1396
        he->node.flags &= -2;
        }
      } else
#line 1392
      if (he->node.flags & 16) {
#line 1392
        if ((unsigned long )((Histent )oldnode) == (unsigned long )he->up) {
          {
#line 1394
          addhashnode2(ht, oldnode->nam, (void *)oldnode);
#line 1395
          he->node.flags |= 8;
#line 1396
          he->node.flags &= -2;
          }
        } else {
#line 1392
          goto _L;
        }
      } else {
        _L: /* CIL Label */ 
#line 1399
        oldnode->flags |= 8;
#line 1400
        if (hist_ignore_all_dups) {
          {
#line 1401
          freehistnode(oldnode);
          }
        }
      }
    } else {
#line 1405
      he->node.flags &= -2;
    }
  } else {
#line 1405
    he->node.flags &= -2;
  }
#line 1406
  return;
}
}
#line 1409 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void freehistnode(HashNode nodeptr ) 
{ 


  {
  {
#line 1412
  freehistdata((Histent )nodeptr, 1);
#line 1413
  zfree((void *)nodeptr, (int )sizeof(struct histent ));
  }
#line 1414
  return;
}
}
#line 1417 "/home/khheo/testset/zsh-zsh-5.3.1/Src/hashtable.c"
void freehistdata(Histent he , int unlink___0 ) 
{ 


  {
#line 1420
  if (! he) {
#line 1421
    return;
  }
#line 1423
  if (! (he->node.flags & 40)) {
    {
#line 1424
    removehashnode(histtab, (char const   *)he->node.nam);
    }
  }
  {
#line 1426
  zsfree(he->node.nam);
  }
#line 1427
  if (he->nwords) {
    {
#line 1428
    zfree((void *)he->words, (int )((unsigned long )(he->nwords * 2) * sizeof(short )));
    }
  }
#line 1430
  if (unlink___0) {
#line 1431
    histlinect --;
#line 1431
    if (histlinect) {
#line 1434
      if ((unsigned long )he == (unsigned long )hist_ring) {
#line 1435
        hist_ring = hist_ring->up;
      }
#line 1436
      (he->up)->down = he->down;
#line 1437
      (he->down)->up = he->up;
    } else {
#line 1432
      hist_ring = (Histent )((void *)0);
    }
  }
#line 1440
  return;
}
}
#line 111 "/usr/include/grp.h"
extern struct group *getgrnam(char const   *__name ) ;
#line 140 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncat)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
int badcshglob  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
int pathpos  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
char *pathbuf  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
char *glob_pre  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.epro"
char *glob_suf  ;
#line 10
int checkglobqual(char *str , int sl , int nobareglob , char **sp___0 ) ;
#line 12
char file_type(mode_t filemode ) ;
#line 14
int xpandredir(struct redir *fn___0 , LinkList redirtab___0 ) ;
#line 16
int matchpat(char *a , char *b ) ;
#line 19
int getmatchlist(char *str , Patprog p , LinkList *repllistp ) ;
#line 20
void freematchlist(LinkList repllist ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.pro"
static void addpath(char *s , int l ) ;
#line 3
static int statfullpath(char const   *s , struct stat *st___0 , int l ) ;
#line 4
static void insert(char *s , int checked ) ;
#line 5
static void scanner(Complist q , int shortcircuit ) ;
#line 6
static Complist parsecomplist(char *instr___0 ) ;
#line 7
static Complist parsepat(char *str ) ;
#line 8
static off_t qgetnum(char **s ) ;
#line 9
static zlong qgetmodespec(char **s ) ;
#line 10
static char *glob_exec_string(char **sp___0 ) ;
#line 11
static int bracechardots(char *str , convchar_t *c1p , convchar_t *c2p ) ;
#line 12
static char *get_match_ret(Imatchdata imd , int b , int e ) ;
#line 13
static void set_pat_start(Patprog p , int offs ) ;
#line 14
static void set_pat_end(Patprog p , char null_me ) ;
#line 16
static int iincchar(char **tp , int left ) ;
#line 17
static int igetmatch(char **sp___0 , Patprog p , int fl , int n , char *replstr ,
                     LinkList *repllistp ) ;
#line 21
static void zshtokenize(char *s , int flags ) ;
#line 22
static int qualdev(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                   off_t dv , char *dummy___0  __attribute__((__unused__)) ) ;
#line 23
static int qualnlink(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t ct , char *dummy___0  __attribute__((__unused__)) ) ;
#line 24
static int qualuid(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                   off_t uid , char *dummy___0  __attribute__((__unused__)) ) ;
#line 25
static int qualgid(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                   off_t gid , char *dummy___0  __attribute__((__unused__)) ) ;
#line 26
static int qualisdev(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 27
static int qualisblk(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 28
static int qualischr(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 29
static int qualisdir(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 30
static int qualisfifo(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                      off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 31
static int qualislnk(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 32
static int qualisreg(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 33
static int qualissock(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                      off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 34
static int qualflags(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t mod , char *dummy___0  __attribute__((__unused__)) ) ;
#line 35
static int qualmodeflags(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                         off_t mod , char *dummy___0  __attribute__((__unused__)) ) ;
#line 36
static int qualiscom(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t mod  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) ;
#line 37
static int qualsize(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                    off_t size , char *dummy___0  __attribute__((__unused__)) ) ;
#line 38
static int qualtime(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                    off_t days , char *dummy___0  __attribute__((__unused__)) ) ;
#line 39
static int qualsheval(char *name , struct stat *buf___7  __attribute__((__unused__)) ,
                      off_t days  __attribute__((__unused__)) , char *str ) ;
#line 40
static int qualnonemptydir(char *name , struct stat *buf___7 , off_t days  __attribute__((__unused__)) ,
                           char *str  __attribute__((__unused__)) ) ;
#line 197 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static struct globdata curglobdata  ;
#line 264 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void addpath(char *s , int l ) 
{ 
  void *tmp ;
  int tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 268
  while (1) {
    while_continue: /* CIL Label */ ;
#line 268
    if (! ((pathpos + l) + 1 >= curglobdata.gd_pathbufsz)) {
#line 268
      goto while_break;
    }
    {
#line 269
    curglobdata.gd_pathbufsz *= 2;
#line 269
    tmp = zrealloc((void *)pathbuf, (size_t )curglobdata.gd_pathbufsz);
#line 269
    pathbuf = (char *)tmp;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 270
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 270
    tmp___2 = l;
#line 270
    l --;
#line 270
    if (! tmp___2) {
#line 270
      goto while_break___0;
    }
#line 271
    tmp___0 = pathpos;
#line 271
    pathpos ++;
#line 271
    tmp___1 = s;
#line 271
    s ++;
#line 271
    *(pathbuf + tmp___0) = *tmp___1;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 272
  tmp___3 = pathpos;
#line 272
  pathpos ++;
#line 272
  *(pathbuf + tmp___3) = (char )'/';
#line 273
  *(pathbuf + pathpos) = (char )'\000';
#line 274
  return;
}
}
#line 283 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int statfullpath(char const   *s , struct stat *st___0 , int l ) 
{ 
  char buf___7[4097] ;
  char lbuf[1] ;
  int tmp ;
  ssize_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  void *__cil_tmp12 ;
  void *__cil_tmp13 ;

  {
  {
#line 290
  strcpy((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)(pathbuf + curglobdata.gd_pathbufcwd));
#line 291
  strcpy((char */* __restrict  */)((buf___7 + pathpos) - curglobdata.gd_pathbufcwd),
         (char const   */* __restrict  */)s);
  }
#line 292
  if (! *s) {
#line 292
    if (buf___7[0]) {
#line 297
      buf___7[pathpos - curglobdata.gd_pathbufcwd] = (char )'.';
#line 298
      buf___7[(pathpos - curglobdata.gd_pathbufcwd) + 1] = (char )'\000';
#line 299
      l = 0;
    }
  }
  {
#line 301
  unmetafy(buf___7, (int *)((void *)0));
  }
#line 302
  if (! st___0) {
    {
#line 304
    tmp = access((char const   *)(buf___7), 0);
    }
#line 304
    if (tmp) {
#line 304
      if (! l) {
#line 304
        tmp___1 = 1;
      } else {
        {
#line 304
        tmp___0 = readlink((char const   */* __restrict  */)(buf___7), (char */* __restrict  */)(lbuf),
                           (size_t )1);
        }
#line 304
        if (tmp___0 < 0L) {
#line 304
          tmp___1 = 1;
        } else {
#line 304
          tmp___1 = 0;
        }
      }
    } else {
#line 304
      tmp___1 = 0;
    }
#line 304
    return (tmp___1);
  }
#line 306
  if (l) {
    {
#line 306
    tmp___2 = lstat((char const   */* __restrict  */)(buf___7), (struct stat */* __restrict  */)st___0);
#line 306
    tmp___4 = tmp___2;
    }
  } else {
    {
#line 306
    tmp___3 = stat((char const   */* __restrict  */)(buf___7), (struct stat */* __restrict  */)st___0);
#line 306
    tmp___4 = tmp___3;
    }
  }
#line 306
  return (tmp___4);
}
}
#line 312 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static char **inserts  ;
#line 317 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void insert(char *s , int checked ) 
{ 
  struct stat buf___7 ;
  struct stat buf2 ;
  struct stat *bp ;
  char *news ;
  int statted ;
  mode_t mode ;
  sigset_t oset ;
  int tmp ;
  int tmp___0 ;
  int ll ;
  size_t tmp___1 ;
  void *tmp___2 ;
  struct qual *qo ;
  struct qual *qn ;
  sigset_t oset___0 ;
  int tmp___3 ;
  int tmp___4 ;
  sigset_t oset___1 ;
  int tmp___5 ;
  int tmp___6 ;
  sigset_t oset___2 ;
  int tmp___7 ;
  char *mod ;
  int tmp___8 ;
  int tmp___9 ;
  void *tmp___10 ;
  char **tmp___11 ;
  sigset_t oset___3 ;
  void *__cil_tmp31 ;
  void *__cil_tmp32 ;
  void *__cil_tmp33 ;
  void *__cil_tmp34 ;
  void *__cil_tmp35 ;
  void *__cil_tmp36 ;
  void *__cil_tmp37 ;

  {
#line 321
  news = s;
#line 322
  statted = 0;
#line 324
  queueing_enabled ++;
#line 325
  inserts = (char **)((void *)0);
#line 327
  if (curglobdata.gd_gf_listtypes) {
#line 327
    goto _L___0;
  } else
#line 327
  if (curglobdata.gd_gf_markdirs) {
    _L___0: /* CIL Label */ 
    {
#line 330
    statted = 1;
#line 330
    checked = statted;
#line 331
    tmp = statfullpath((char const   *)s, & buf___7, 1);
    }
#line 331
    if (tmp) {
      {
#line 332
      while (1) {
        while_continue: /* CIL Label */ ;
#line 332
        queueing_enabled --;
#line 332
        if (! queueing_enabled) {
          {
#line 332
          while (1) {
            while_continue___0: /* CIL Label */ ;
            {
#line 332
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 332
              if (! (queue_front != queue_rear)) {
#line 332
                goto while_break___1;
              }
              {
#line 332
              queue_front = (queue_front + 1) % 128;
#line 332
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 332
              zhandler(signal_queue[queue_front]);
#line 332
              signal_setmask(oset);
              }
            }
            while_break___1: /* CIL Label */ ;
            }
#line 332
            goto while_break___0;
          }
          while_break___0: /* CIL Label */ ;
          }
        }
#line 332
        goto while_break;
      }
      while_break: /* CIL Label */ ;
      }
#line 333
      return;
    }
#line 335
    mode = buf___7.st_mode;
#line 336
    if (curglobdata.gd_gf_follow) {
#line 337
      if (! ((mode & 61440U) == 40960U)) {
        {
#line 338
        memcpy((void */* __restrict  */)(& buf2), (void const   */* __restrict  */)(& buf___7),
               sizeof(buf___7));
        }
      } else {
        {
#line 337
        tmp___0 = statfullpath((char const   *)s, & buf2, 0);
        }
#line 337
        if (tmp___0) {
          {
#line 338
          memcpy((void */* __restrict  */)(& buf2), (void const   */* __restrict  */)(& buf___7),
                 sizeof(buf___7));
          }
        }
      }
#line 339
      statted |= 2;
#line 340
      mode = buf2.st_mode;
    }
#line 342
    if (curglobdata.gd_gf_listtypes) {
#line 342
      goto _L;
    } else
#line 342
    if ((mode & 61440U) == 16384U) {
      _L: /* CIL Label */ 
      {
#line 343
      tmp___1 = strlen((char const   *)s);
#line 343
      ll = (int )tmp___1;
#line 345
      tmp___2 = hcalloc((size_t )(ll + 2));
#line 345
      news = (char *)tmp___2;
#line 346
      strcpy((char */* __restrict  */)news, (char const   */* __restrict  */)s);
#line 347
      *(news + ll) = file_type(mode);
#line 348
      *(news + (ll + 1)) = (char )'\000';
      }
    }
  }
#line 351
  if (curglobdata.gd_qualct) {
#line 351
    goto _L___1;
  } else
#line 351
  if (curglobdata.gd_qualorct) {
    _L___1: /* CIL Label */ 
#line 355
    if (! statted) {
      {
#line 355
      tmp___3 = statfullpath((char const   *)s, & buf___7, 1);
      }
#line 355
      if (tmp___3) {
        {
#line 356
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 356
          queueing_enabled --;
#line 356
          if (! queueing_enabled) {
            {
#line 356
            while (1) {
              while_continue___3: /* CIL Label */ ;
              {
#line 356
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 356
                if (! (queue_front != queue_rear)) {
#line 356
                  goto while_break___4;
                }
                {
#line 356
                queue_front = (queue_front + 1) % 128;
#line 356
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 356
                zhandler(signal_queue[queue_front]);
#line 356
                signal_setmask(oset___0);
                }
              }
              while_break___4: /* CIL Label */ ;
              }
#line 356
              goto while_break___3;
            }
            while_break___3: /* CIL Label */ ;
            }
          }
#line 356
          goto while_break___2;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 357
        return;
      }
    }
    {
#line 359
    news = dyncat((char const   *)pathbuf, (char const   *)news);
#line 361
    statted = 1;
#line 362
    qo = curglobdata.gd_quals;
#line 363
    qn = qo;
    }
    {
#line 363
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 363
      if (qn) {
#line 363
        if (! qn->func) {
#line 363
          goto while_break___5;
        }
      } else {
#line 363
        goto while_break___5;
      }
#line 364
      curglobdata.gd_range = qn->range;
#line 365
      curglobdata.gd_amc = qn->amc;
#line 366
      curglobdata.gd_units = qn->units;
#line 367
      if (qn->sense & 2) {
#line 367
        if (! (statted & 2)) {
#line 369
          if (! ((buf___7.st_mode & 61440U) == 40960U)) {
            {
#line 370
            memcpy((void */* __restrict  */)(& buf2), (void const   */* __restrict  */)(& buf___7),
                   sizeof(buf___7));
            }
          } else {
            {
#line 369
            tmp___4 = statfullpath((char const   *)s, & buf2, 0);
            }
#line 369
            if (tmp___4) {
              {
#line 370
              memcpy((void */* __restrict  */)(& buf2), (void const   */* __restrict  */)(& buf___7),
                     sizeof(buf___7));
              }
            }
          }
#line 371
          statted |= 2;
        }
      }
#line 373
      if (qn->sense & 2) {
#line 373
        bp = & buf2;
      } else {
#line 373
        bp = & buf___7;
      }
      {
#line 377
      tmp___5 = (*(qn->func))(news, bp, qn->data, qn->sdata);
      }
#line 377
      if (tmp___5) {
#line 377
        tmp___6 = 0;
      } else {
#line 377
        tmp___6 = 1;
      }
#line 377
      if ((tmp___6 ^ qn->sense) & 1) {
#line 380
        qo = qo->or;
#line 380
        if (! qo) {
          {
#line 381
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 381
            queueing_enabled --;
#line 381
            if (! queueing_enabled) {
              {
#line 381
              while (1) {
                while_continue___7: /* CIL Label */ ;
                {
#line 381
                while (1) {
                  while_continue___8: /* CIL Label */ ;
#line 381
                  if (! (queue_front != queue_rear)) {
#line 381
                    goto while_break___8;
                  }
                  {
#line 381
                  queue_front = (queue_front + 1) % 128;
#line 381
                  oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 381
                  zhandler(signal_queue[queue_front]);
#line 381
                  signal_setmask(oset___1);
                  }
                }
                while_break___8: /* CIL Label */ ;
                }
#line 381
                goto while_break___7;
              }
              while_break___7: /* CIL Label */ ;
              }
            }
#line 381
            goto while_break___6;
          }
          while_break___6: /* CIL Label */ ;
          }
#line 382
          return;
        }
#line 384
        qn = qo;
#line 385
        goto __Cont;
      }
#line 387
      qn = qn->next;
      __Cont: /* CIL Label */ ;
    }
    while_break___5: /* CIL Label */ ;
    }
  } else
#line 389
  if (! checked) {
    {
#line 390
    tmp___7 = statfullpath((char const   *)s, (struct stat *)((void *)0), 1);
    }
#line 390
    if (tmp___7) {
      {
#line 391
      while (1) {
        while_continue___9: /* CIL Label */ ;
#line 391
        queueing_enabled --;
#line 391
        if (! queueing_enabled) {
          {
#line 391
          while (1) {
            while_continue___10: /* CIL Label */ ;
            {
#line 391
            while (1) {
              while_continue___11: /* CIL Label */ ;
#line 391
              if (! (queue_front != queue_rear)) {
#line 391
                goto while_break___11;
              }
              {
#line 391
              queue_front = (queue_front + 1) % 128;
#line 391
              oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 391
              zhandler(signal_queue[queue_front]);
#line 391
              signal_setmask(oset___2);
              }
            }
            while_break___11: /* CIL Label */ ;
            }
#line 391
            goto while_break___10;
          }
          while_break___10: /* CIL Label */ ;
          }
        }
#line 391
        goto while_break___9;
      }
      while_break___9: /* CIL Label */ ;
      }
#line 392
      return;
    }
    {
#line 394
    statted = 1;
#line 395
    news = dyncat((char const   *)pathbuf, (char const   *)news);
    }
  } else {
    {
#line 397
    news = dyncat((char const   *)pathbuf, (char const   *)news);
    }
  }
  {
#line 399
  while (1) {
    while_continue___12: /* CIL Label */ ;
#line 399
    if (! (! inserts)) {
      {
#line 399
      tmp___11 = inserts;
#line 399
      inserts ++;
#line 399
      news = dupstring((char const   *)*tmp___11);
      }
#line 399
      if (! news) {
#line 399
        goto while_break___12;
      }
    }
#line 400
    if (curglobdata.gd_colonmod) {
      {
#line 402
      mod = curglobdata.gd_colonmod;
#line 403
      modify(& news, & mod);
      }
    }
#line 405
    if (! statted) {
#line 405
      if (curglobdata.gd_gf_sorts & ((((8 | (8 << 1)) | (8 << 2)) | (8 << 3)) | (8 << 4))) {
        {
#line 406
        statfullpath((char const   *)s, & buf___7, 1);
#line 407
        statted = 1;
        }
      }
    }
#line 409
    if (! (statted & 2)) {
#line 409
      if (curglobdata.gd_gf_sorts & (((((8 | (8 << 1)) | (8 << 2)) | (8 << 3)) | (8 << 4)) << 5)) {
#line 410
        if (statted) {
#line 411
          if (! ((buf___7.st_mode & 61440U) == 40960U)) {
            {
#line 412
            memcpy((void */* __restrict  */)(& buf2), (void const   */* __restrict  */)(& buf___7),
                   sizeof(buf___7));
            }
          } else {
            {
#line 411
            tmp___8 = statfullpath((char const   *)s, & buf2, 0);
            }
#line 411
            if (tmp___8) {
              {
#line 412
              memcpy((void */* __restrict  */)(& buf2), (void const   */* __restrict  */)(& buf___7),
                     sizeof(buf___7));
              }
            }
          }
        } else {
          {
#line 413
          tmp___9 = statfullpath((char const   *)s, & buf2, 0);
          }
#line 413
          if (tmp___9) {
            {
#line 414
            statfullpath((char const   *)s, & buf2, 1);
            }
          }
        }
#line 415
        statted |= 2;
      }
    }
#line 417
    (curglobdata.gd_matchptr)->name = news;
#line 418
    if (statted & 1) {
#line 419
      (curglobdata.gd_matchptr)->size = buf___7.st_size;
#line 420
      (curglobdata.gd_matchptr)->atime = buf___7.st_atim.tv_sec;
#line 421
      (curglobdata.gd_matchptr)->mtime = buf___7.st_mtim.tv_sec;
#line 422
      (curglobdata.gd_matchptr)->ctime = buf___7.st_ctim.tv_sec;
#line 423
      (curglobdata.gd_matchptr)->links = (long )buf___7.st_nlink;
#line 425
      (curglobdata.gd_matchptr)->ansec = buf___7.st_atim.tv_nsec;
#line 428
      (curglobdata.gd_matchptr)->mnsec = buf___7.st_mtim.tv_nsec;
#line 431
      (curglobdata.gd_matchptr)->cnsec = buf___7.st_ctim.tv_nsec;
    }
#line 434
    if (statted & 2) {
#line 435
      (curglobdata.gd_matchptr)->_size = buf2.st_size;
#line 436
      (curglobdata.gd_matchptr)->_atime = buf2.st_atim.tv_sec;
#line 437
      (curglobdata.gd_matchptr)->_mtime = buf2.st_mtim.tv_sec;
#line 438
      (curglobdata.gd_matchptr)->_ctime = buf2.st_ctim.tv_sec;
#line 439
      (curglobdata.gd_matchptr)->_links = (long )buf2.st_nlink;
#line 441
      (curglobdata.gd_matchptr)->_ansec = buf2.st_atim.tv_nsec;
#line 444
      (curglobdata.gd_matchptr)->_mnsec = buf2.st_mtim.tv_nsec;
#line 447
      (curglobdata.gd_matchptr)->_cnsec = buf2.st_ctim.tv_nsec;
    }
#line 450
    (curglobdata.gd_matchptr) ++;
#line 452
    (curglobdata.gd_matchct) ++;
#line 452
    if (curglobdata.gd_matchct == curglobdata.gd_matchsz) {
      {
#line 453
      curglobdata.gd_matchsz *= 2;
#line 453
      tmp___10 = zrealloc((void *)((char *)curglobdata.gd_matchbuf), sizeof(struct gmatch ) * (unsigned long )curglobdata.gd_matchsz);
#line 453
      curglobdata.gd_matchbuf = (Gmatch )tmp___10;
#line 456
      curglobdata.gd_matchptr = curglobdata.gd_matchbuf + curglobdata.gd_matchct;
      }
    }
#line 458
    if (! inserts) {
#line 459
      goto while_break___12;
    }
  }
  while_break___12: /* CIL Label */ ;
  }
  {
#line 461
  while (1) {
    while_continue___13: /* CIL Label */ ;
#line 461
    queueing_enabled --;
#line 461
    if (! queueing_enabled) {
      {
#line 461
      while (1) {
        while_continue___14: /* CIL Label */ ;
        {
#line 461
        while (1) {
          while_continue___15: /* CIL Label */ ;
#line 461
          if (! (queue_front != queue_rear)) {
#line 461
            goto while_break___15;
          }
          {
#line 461
          queue_front = (queue_front + 1) % 128;
#line 461
          oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 461
          zhandler(signal_queue[queue_front]);
#line 461
          signal_setmask(oset___3);
          }
        }
        while_break___15: /* CIL Label */ ;
        }
#line 461
        goto while_break___14;
      }
      while_break___14: /* CIL Label */ ;
      }
    }
#line 461
    goto while_break___13;
  }
  while_break___13: /* CIL Label */ ;
  }
#line 462
  return;
}
}
#line 470 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void scanner(Complist q , int shortcircuit ) 
{ 
  Patprog p ;
  int closure ;
  int pbcwdsav ;
  int errssofar ;
  struct dirsav ds ;
  char *str ;
  int l ;
  int err ;
  char *tmp ;
  int oppos ;
  int add___0 ;
  struct stat sc ;
  struct stat sr ;
  int tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  Complist tmp___6 ;
  int tmp___7 ;
  char *fn___0 ;
  char *tmp___8 ;
  char const   *tmp___9 ;
  int dirs ;
  DIR *lock ;
  DIR *tmp___10 ;
  char *subdirs ;
  int subdirlen ;
  int tmp___11 ;
  int tmp___12 ;
  int err___0 ;
  char *tmp___13 ;
  size_t tmp___14 ;
  int l___0 ;
  int tmp___15 ;
  struct stat buf___7 ;
  int *tmp___16 ;
  int *tmp___17 ;
  int *tmp___18 ;
  int *tmp___19 ;
  int tmp___20 ;
  size_t tmp___21 ;
  void *tmp___22 ;
  int tmp___23 ;
  int oppos___0 ;
  int l___1 ;
  size_t tmp___24 ;
  Complist tmp___25 ;
  int tmp___26 ;
  void *__cil_tmp53 ;
  void *__cil_tmp54 ;
  void *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;

  {
#line 475
  pbcwdsav = curglobdata.gd_pathbufcwd;
#line 476
  errssofar = errsfound;
#line 479
  if (! q) {
#line 480
    return;
  } else
#line 479
  if (errflag) {
#line 480
    return;
  }
  {
#line 481
  init_dirsav(& ds);
#line 483
  closure = q->closure;
  }
#line 483
  if (closure) {
#line 485
    if (q->closure == 2) {
#line 486
      q->closure = 1;
    } else {
      {
#line 488
      scanner(q->next, shortcircuit);
      }
#line 489
      if (shortcircuit) {
#line 489
        if (shortcircuit == curglobdata.gd_matchct) {
#line 490
          return;
        }
      }
    }
  }
#line 493
  p = q->pat;
#line 495
  if (p->flags & 32) {
#line 499
    str = (char *)p + p->startoff;
#line 500
    l = (int )p->patmlen;
#line 502
    if (((l + ! l) + pathpos) - curglobdata.gd_pathbufcwd >= 4096) {
#line 505
      if (l >= 4096) {
#line 506
        return;
      }
      {
#line 507
      tmp = unmeta((char const   *)(pathbuf + curglobdata.gd_pathbufcwd));
#line 507
      err = lchdir((char const   *)tmp, & ds, 0);
      }
#line 508
      if (err == -1) {
#line 509
        return;
      }
#line 510
      if (err) {
        {
#line 511
        zerr("current directory lost during glob");
        }
#line 512
        return;
      }
#line 514
      curglobdata.gd_pathbufcwd = pathpos;
    }
#line 516
    if (q->next) {
#line 518
      oppos = pathpos;
#line 520
      if (! errflag) {
#line 521
        add___0 = 1;
#line 523
        if (q->closure) {
#line 523
          if (*pathbuf) {
            {
#line 524
            tmp___5 = strcmp((char const   *)str, ".");
            }
#line 524
            if (tmp___5) {
              {
#line 526
              tmp___4 = strcmp((char const   *)str, "..");
              }
#line 526
              if (! tmp___4) {
                {
#line 529
                tmp___0 = stat((char const   */* __restrict  */)"/", (struct stat */* __restrict  */)(& sr));
                }
#line 529
                if (tmp___0) {
#line 529
                  tmp___3 = 1;
                } else {
                  {
#line 529
                  tmp___1 = unmeta((char const   *)pathbuf);
#line 529
                  tmp___2 = stat((char const   */* __restrict  */)tmp___1, (struct stat */* __restrict  */)(& sc));
                  }
#line 529
                  if (tmp___2) {
#line 529
                    tmp___3 = 1;
                  } else
#line 529
                  if (sr.st_ino != sc.st_ino) {
#line 529
                    tmp___3 = 1;
                  } else
#line 529
                  if (sr.st_dev != sc.st_dev) {
#line 529
                    tmp___3 = 1;
                  } else {
#line 529
                    tmp___3 = 0;
                  }
                }
#line 529
                add___0 = tmp___3;
              }
            } else {
#line 525
              add___0 = 0;
            }
          }
        }
#line 534
        if (add___0) {
          {
#line 535
          addpath(str, l);
          }
#line 536
          if (! closure) {
#line 536
            goto _L;
          } else {
            {
#line 536
            tmp___7 = statfullpath("", (struct stat *)((void *)0), 1);
            }
#line 536
            if (! tmp___7) {
              _L: /* CIL Label */ 
#line 537
              if (q->closure) {
#line 537
                tmp___6 = q;
              } else {
#line 537
                tmp___6 = q->next;
              }
              {
#line 537
              scanner(tmp___6, shortcircuit);
              }
#line 538
              if (shortcircuit) {
#line 538
                if (shortcircuit == curglobdata.gd_matchct) {
#line 539
                  return;
                }
              }
            }
          }
#line 541
          pathpos = oppos;
#line 541
          *(pathbuf + pathpos) = (char )'\000';
        }
      }
    } else {
#line 545
      if (*(str + l)) {
        {
#line 546
        str = dupstrpfx((char const   *)str, l);
        }
      }
      {
#line 547
      insert(str, 0);
      }
#line 548
      if (shortcircuit) {
#line 548
        if (shortcircuit == curglobdata.gd_matchct) {
#line 549
          return;
        }
      }
    }
  } else {
#line 553
    if (*(pathbuf + curglobdata.gd_pathbufcwd)) {
      {
#line 553
      tmp___8 = unmeta((char const   *)(pathbuf + curglobdata.gd_pathbufcwd));
#line 553
      tmp___9 = (char const   *)tmp___8;
      }
    } else {
#line 553
      tmp___9 = ".";
    }
    {
#line 553
    fn___0 = (char *)tmp___9;
#line 554
    dirs = ! (! q->next);
#line 555
    tmp___10 = opendir((char const   *)fn___0);
#line 555
    lock = tmp___10;
#line 556
    subdirs = (char *)((void *)0);
#line 557
    subdirlen = 0;
    }
#line 559
    if ((unsigned long )lock == (unsigned long )((void *)0)) {
#line 560
      return;
    }
    {
#line 561
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 561
      fn___0 = zreaddir(lock, 1);
      }
#line 561
      if (fn___0) {
#line 561
        if (! (! errflag)) {
#line 561
          goto while_break;
        }
      } else {
#line 561
        goto while_break;
      }
#line 563
      if (! dirs) {
#line 563
        if (! curglobdata.gd_colonmod) {
#line 563
          if (glob_pre) {
            {
#line 563
            tmp___11 = strpfx((char const   *)glob_pre, (char const   *)fn___0);
            }
#line 563
            if (tmp___11) {
#line 563
              goto _L___0;
            } else {
#line 566
              goto while_continue;
            }
          } else
          _L___0: /* CIL Label */ 
#line 563
          if (glob_suf) {
            {
#line 563
            tmp___12 = strsfx(glob_suf, fn___0);
            }
#line 563
            if (! tmp___12) {
#line 566
              goto while_continue;
            }
          }
        }
      }
      {
#line 567
      errsfound = errssofar;
#line 568
      tmp___23 = pattry(p, fn___0);
      }
#line 568
      if (tmp___23) {
#line 570
        if (pbcwdsav == curglobdata.gd_pathbufcwd) {
          {
#line 570
          tmp___14 = strlen((char const   *)fn___0);
          }
#line 570
          if ((tmp___14 + (size_t )pathpos) - (size_t )curglobdata.gd_pathbufcwd >= 4096UL) {
            {
#line 576
            tmp___13 = unmeta((char const   *)(pathbuf + curglobdata.gd_pathbufcwd));
#line 576
            err___0 = lchdir((char const   *)tmp___13, & ds, 0);
            }
#line 577
            if (err___0 == -1) {
#line 578
              goto while_break;
            }
#line 579
            if (err___0) {
              {
#line 580
              zerr("current directory lost during glob");
              }
#line 581
              goto while_break;
            }
#line 583
            curglobdata.gd_pathbufcwd = pathpos;
          }
        }
#line 585
        if (dirs) {
#line 603
          if (errsfound > errssofar) {
#line 604
            forceerrs = errsfound - 1;
            {
#line 605
            while (1) {
              while_continue___0: /* CIL Label */ ;
#line 605
              if (! (forceerrs >= errssofar)) {
#line 605
                goto while_break___0;
              }
              {
#line 606
              errsfound = errssofar;
#line 607
              tmp___15 = pattry(p, fn___0);
              }
#line 607
              if (! tmp___15) {
#line 608
                goto while_break___0;
              }
#line 609
              forceerrs = errsfound - 1;
            }
            while_break___0: /* CIL Label */ ;
            }
#line 611
            errsfound = forceerrs + 1;
#line 612
            forceerrs = -1;
          }
#line 614
          if (closure) {
            {
#line 618
            tmp___20 = statfullpath((char const   *)fn___0, & buf___7, ! q->follow);
            }
#line 618
            if (tmp___20) {
              {
#line 619
              tmp___17 = __errno_location();
              }
#line 619
              if (*tmp___17 != 2) {
                {
#line 619
                tmp___18 = __errno_location();
                }
#line 619
                if (*tmp___18 != 4) {
                  {
#line 619
                  tmp___19 = __errno_location();
                  }
#line 619
                  if (*tmp___19 != 20) {
#line 619
                    if (! errflag) {
                      {
#line 621
                      tmp___16 = __errno_location();
#line 621
                      zwarn("%e: %s", *tmp___16, fn___0);
                      }
                    }
                  }
                }
              }
#line 623
              goto while_continue;
            }
#line 625
            if (! ((buf___7.st_mode & 61440U) == 16384U)) {
#line 626
              goto while_continue;
            }
          }
          {
#line 628
          tmp___21 = strlen((char const   *)fn___0);
#line 628
          l___0 = (int )(tmp___21 + 1UL);
#line 629
          tmp___22 = hrealloc(subdirs, (size_t )subdirlen, (unsigned long )(subdirlen + l___0) + sizeof(int ));
#line 629
          subdirs = (char *)tmp___22;
#line 631
          strcpy((char */* __restrict  */)(subdirs + subdirlen), (char const   */* __restrict  */)fn___0);
#line 632
          subdirlen += l___0;
#line 634
          memcpy((void */* __restrict  */)(subdirs + subdirlen), (void const   */* __restrict  */)((char *)(& errsfound)),
                 sizeof(int ));
#line 636
          subdirlen = (int )((unsigned long )subdirlen + sizeof(int ));
          }
        } else {
          {
#line 639
          insert(fn___0, 1);
          }
#line 640
          if (shortcircuit) {
#line 640
            if (shortcircuit == curglobdata.gd_matchct) {
              {
#line 641
              closedir(lock);
              }
#line 642
              return;
            }
          }
        }
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 647
    closedir(lock);
    }
#line 648
    if (subdirs) {
#line 649
      oppos___0 = pathpos;
#line 651
      fn___0 = subdirs;
      {
#line 651
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 651
        if (! ((unsigned long )fn___0 < (unsigned long )(subdirs + subdirlen))) {
#line 651
          goto while_break___1;
        }
        {
#line 652
        tmp___24 = strlen((char const   *)fn___0);
#line 652
        l___1 = (int )tmp___24;
#line 653
        addpath(fn___0, l___1);
#line 654
        fn___0 += l___1 + 1;
#line 655
        memcpy((void */* __restrict  */)((char *)(& errsfound)), (void const   */* __restrict  */)fn___0,
               sizeof(int ));
#line 656
        fn___0 += sizeof(int );
        }
#line 658
        if (q->closure) {
#line 658
          tmp___25 = q;
        } else {
#line 658
          tmp___25 = q->next;
        }
        {
#line 658
        scanner(tmp___25, shortcircuit);
        }
#line 659
        if (shortcircuit) {
#line 659
          if (shortcircuit == curglobdata.gd_matchct) {
#line 660
            return;
          }
        }
#line 661
        pathpos = oppos___0;
#line 661
        *(pathbuf + pathpos) = (char )'\000';
      }
      while_break___1: /* CIL Label */ ;
      }
      {
#line 663
      hrealloc(subdirs, (size_t )subdirlen, (size_t )0);
      }
    }
  }
#line 666
  if (pbcwdsav < curglobdata.gd_pathbufcwd) {
    {
#line 667
    tmp___26 = restoredir(& ds);
    }
#line 667
    if (tmp___26) {
      {
#line 668
      zerr("current directory lost during glob");
      }
    }
    {
#line 669
    zsfree(ds.dirname);
    }
#line 670
    if (ds.dirfd >= 0) {
      {
#line 671
      close(ds.dirfd);
      }
    }
#line 672
    curglobdata.gd_pathbufcwd = pbcwdsav;
  }
#line 674
  return;
}
}
#line 680 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static Complist parsecomplist(char *instr___0 ) 
{ 
  Patprog p1 ;
  Complist l1 ;
  char *str ;
  int compflags ;
  int tmp ;
  int shortglob ;
  int follow ;
  int tmp___0 ;
  void *tmp___1 ;
  Complist tmp___2 ;
  int pdflag ;
  void *tmp___3 ;
  Complist tmp___4 ;
  int ef ;
  void *tmp___5 ;
  Complist tmp___6 ;
  Complist tmp___7 ;
  int tmp___8 ;

  {
#line 686
  if (curglobdata.gd_gf_noglobdots) {
#line 686
    tmp = 17;
  } else {
#line 686
    tmp = 1;
  }
#line 686
  compflags = tmp;
#line 688
  if ((int )*(instr___0 + 0) == -121) {
#line 688
    if ((int )*(instr___0 + 1) == -121) {
#line 689
      shortglob = 0;
#line 690
      if ((int )*(instr___0 + 2) == 47) {
#line 690
        goto _L;
      } else
#line 690
      if ((int )*(instr___0 + 2) == -121) {
#line 690
        if ((int )*(instr___0 + 3) == 47) {
#line 690
          goto _L;
        } else {
#line 690
          goto _L___0;
        }
      } else {
        _L___0: /* CIL Label */ 
#line 690
        shortglob = (int )opts[64];
#line 690
        if (shortglob) {
          _L: /* CIL Label */ 
#line 696
          follow = (int )*(instr___0 + 2) == -121;
#line 701
          if (shortglob) {
#line 701
            tmp___0 = 1;
          } else {
#line 701
            tmp___0 = 3;
          }
          {
#line 701
          instr___0 += tmp___0 + follow;
#line 704
          tmp___1 = zhalloc(sizeof(*l1));
#line 704
          l1 = (Complist )tmp___1;
#line 705
          tmp___2 = parsecomplist(instr___0);
#line 705
          l1->next = tmp___2;
          }
#line 705
          if ((unsigned long )tmp___2 == (unsigned long )((void *)0)) {
#line 706
            errflag |= 1;
#line 707
            return ((Complist )((void *)0));
          }
          {
#line 709
          l1->pat = patcompile((char *)((void *)0), compflags | 4, (char **)((void *)0));
#line 710
          l1->closure = 1;
#line 711
          l1->follow = follow;
          }
#line 712
          return (l1);
        }
      }
    }
  }
#line 717
  str = instr___0;
#line 717
  if ((int )*str == (int )zpc_special[5]) {
    {
#line 717
    tmp___8 = skipparens((char)-120, (char)-118, & str);
    }
#line 717
    if (tmp___8) {
#line 717
      goto _L___4;
    } else
#line 717
    if ((int )*str == (int )zpc_special[11]) {
#line 717
      if ((int )*(str + -2) == 47) {
        {
#line 720
        instr___0 ++;
#line 721
        p1 = patcompile(instr___0, compflags, & instr___0);
        }
#line 721
        if (! p1) {
#line 722
          return ((Complist )((void *)0));
        }
#line 723
        if ((int )*(instr___0 + 0) == 47) {
#line 723
          if ((int )*(instr___0 + 1) == -118) {
#line 723
            if ((int )*(instr___0 + 2) == -124) {
#line 724
              pdflag = 0;
#line 726
              instr___0 += 3;
#line 727
              if ((int )*instr___0 == -124) {
#line 728
                pdflag = 1;
#line 729
                instr___0 ++;
              }
              {
#line 731
              tmp___3 = zhalloc(sizeof(*l1));
#line 731
              l1 = (Complist )tmp___3;
#line 732
              l1->pat = p1;
              }
#line 734
              if (*((char *)p1 + p1->startoff)) {
#line 734
                l1->closure = 1 + pdflag;
              } else {
#line 734
                l1->closure = 0;
              }
              {
#line 735
              l1->follow = 0;
#line 736
              l1->next = parsecomplist(instr___0);
              }
#line 737
              if (l1->pat) {
#line 737
                tmp___4 = l1;
              } else {
#line 737
                tmp___4 = (Complist )((void *)0);
              }
#line 737
              return (tmp___4);
            }
          }
        }
      } else {
#line 717
        goto _L___4;
      }
    } else {
#line 717
      goto _L___4;
    }
  } else {
    _L___4: /* CIL Label */ 
    {
#line 741
    p1 = patcompile(instr___0, compflags | 2, & instr___0);
    }
#line 741
    if (! p1) {
#line 742
      return ((Complist )((void *)0));
    }
#line 744
    if ((int )*instr___0 == 47) {
#line 744
      goto _L___1;
    } else
#line 744
    if (! *instr___0) {
      _L___1: /* CIL Label */ 
      {
#line 745
      ef = (int )*instr___0 == 47;
#line 747
      tmp___5 = zhalloc(sizeof(*l1));
#line 747
      l1 = (Complist )tmp___5;
#line 748
      l1->pat = p1;
#line 749
      l1->closure = 0;
      }
#line 750
      if (ef) {
        {
#line 750
        tmp___6 = parsecomplist(instr___0 + 1);
#line 750
        l1->next = tmp___6;
        }
      } else {
#line 750
        l1->next = (Complist )((void *)0);
      }
#line 751
      if (ef) {
#line 751
        if (! l1->next) {
#line 751
          tmp___7 = (Complist )((void *)0);
        } else {
#line 751
          tmp___7 = l1;
        }
      } else {
#line 751
        tmp___7 = l1;
      }
#line 751
      return (tmp___7);
    }
  }
#line 754
  errflag |= 1;
#line 755
  return ((Complist )((void *)0));
}
}
#line 761 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static Complist parsepat(char *str ) 
{ 
  long assert ;
  int ignore ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  Complist tmp___2 ;

  {
  {
#line 767
  patcompstart();
  }
#line 772
  if ((int )*str == (int )zpc_special[5]) {
#line 772
    if ((int )*(str + 1) == (int )zpc_special[11]) {
#line 772
      goto _L;
    } else {
#line 772
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 772
  if ((int )*str == (int )zpc_special[18]) {
#line 772
    if ((int )*(str + 1) == -120) {
#line 772
      if ((int )*(str + 2) == (int )zpc_special[11]) {
        _L: /* CIL Label */ 
#line 775
        if ((int )*str == -120) {
#line 775
          tmp = 2;
        } else {
#line 775
          tmp = 3;
        }
        {
#line 775
        str += tmp;
#line 776
        tmp___0 = patgetglobflags(& str, & assert, & ignore);
        }
#line 776
        if (! tmp___0) {
#line 777
          return ((Complist )((void *)0));
        }
      }
    }
  }
#line 781
  if (! pathbuf) {
    {
#line 782
    curglobdata.gd_pathbufsz = 4097;
#line 782
    tmp___1 = zalloc((size_t )curglobdata.gd_pathbufsz);
#line 782
    pathbuf = (char *)tmp___1;
    }
  }
#line 784
  if ((int )*str == 47) {
#line 785
    str ++;
#line 786
    *(pathbuf + 0) = (char )'/';
#line 787
    pathpos = 1;
#line 787
    *(pathbuf + pathpos) = (char )'\000';
  } else {
#line 789
    pathpos = 0;
#line 789
    *(pathbuf + pathpos) = (char )'\000';
  }
  {
#line 791
  tmp___2 = parsecomplist(str);
  }
#line 791
  return (tmp___2);
}
}
#line 797 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static off_t qgetnum(char **s ) 
{ 
  off_t v ;
  char *tmp ;
  char *__cil_tmp4 ;

  {
#line 800
  v = (off_t )0;
#line 802
  if (! ((int )typtab[(unsigned char )*(*s)] & 1)) {
    {
#line 803
    zerr("number expected");
    }
#line 804
    return ((off_t )0);
  }
  {
#line 806
  while (1) {
    while_continue: /* CIL Label */ ;
#line 806
    if (! ((int )typtab[(unsigned char )*(*s)] & 1)) {
#line 806
      goto while_break;
    }
#line 807
    tmp = *s;
#line 807
    (*s) ++;
#line 807
    v = (v * 10L + (off_t )*tmp) - 48L;
  }
  while_break: /* CIL Label */ ;
  }
#line 808
  return (v);
}
}
#line 814 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static zlong qgetmodespec(char **s ) 
{ 
  zlong yes ;
  zlong no ;
  zlong val ;
  zlong mask ;
  zlong t ;
  char *p ;
  char c ;
  char how ;
  char end ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  char *tmp___4 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;

  {
#line 817
  yes = (zlong )0;
#line 817
  no = (zlong )0;
#line 818
  p = *s;
#line 820
  c = *p;
#line 820
  if ((int )c == 61) {
#line 822
    end = (char)0;
#line 823
    c = (char)0;
  } else
#line 820
  if ((int )c == -115) {
#line 822
    end = (char)0;
#line 823
    c = (char)0;
  } else
#line 820
  if ((int )c == 43) {
#line 822
    end = (char)0;
#line 823
    c = (char)0;
  } else
#line 820
  if ((int )c == 45) {
#line 822
    end = (char)0;
#line 823
    c = (char)0;
  } else
#line 820
  if ((int )c == 63) {
#line 822
    end = (char)0;
#line 823
    c = (char)0;
  } else
#line 820
  if ((int )c == -105) {
#line 822
    end = (char)0;
#line 823
    c = (char)0;
  } else
#line 820
  if ((int )c >= 48) {
#line 820
    if ((int )c <= 55) {
#line 822
      end = (char)0;
#line 823
      c = (char)0;
    } else {
#line 820
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 825
    if ((int )c == 60) {
#line 825
      end = (char )'>';
    } else {
#line 825
      if ((int )c == 91) {
#line 825
        tmp___3 = ']';
      } else {
#line 825
        if ((int )c == 123) {
#line 825
          tmp___2 = '}';
        } else {
#line 825
          if ((int )c == -108) {
#line 825
            tmp___1 = -107;
          } else {
#line 825
            if ((int )c == -111) {
#line 825
              tmp___0 = -110;
            } else {
#line 825
              if ((int )c == -113) {
#line 825
                tmp = -112;
              } else {
#line 825
                tmp = (int )c;
              }
#line 825
              tmp___0 = tmp;
            }
#line 825
            tmp___1 = tmp___0;
          }
#line 825
          tmp___2 = tmp___1;
        }
#line 825
        tmp___3 = tmp___2;
      }
#line 825
      end = (char )tmp___3;
    }
#line 831
    p ++;
  }
  {
#line 833
  while (1) {
    while_continue: /* CIL Label */ ;
#line 834
    mask = (zlong )0;
    {
#line 835
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 835
      c = *p;
#line 835
      if ((int )c == 117) {
#line 835
        goto _L___0;
      } else
#line 835
      if ((int )c == 103) {
#line 835
        goto _L___0;
      } else
#line 835
      if ((int )c == 111) {
#line 835
        goto _L___0;
      } else
#line 835
      if ((int )c == 97) {
        _L___0: /* CIL Label */ 
#line 835
        if (! end) {
#line 835
          goto while_break___0;
        }
      } else {
#line 835
        goto while_break___0;
      }
      {
#line 837
      if ((int )c == 111) {
#line 837
        goto case_111;
      }
#line 838
      if ((int )c == 103) {
#line 838
        goto case_103;
      }
#line 839
      if ((int )c == 117) {
#line 839
        goto case_117;
      }
#line 840
      if ((int )c == 97) {
#line 840
        goto case_97;
      }
#line 836
      goto switch_break;
      case_111: /* CIL Label */ 
#line 837
      mask |= 519L;
#line 837
      goto switch_break;
      case_103: /* CIL Label */ 
#line 838
      mask |= 1080L;
#line 838
      goto switch_break;
      case_117: /* CIL Label */ 
#line 839
      mask |= 2496L;
#line 839
      goto switch_break;
      case_97: /* CIL Label */ 
#line 840
      mask |= 4095L;
#line 840
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
#line 842
      p ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 844
    if ((int )c == 43) {
#line 844
      how = c;
    } else
#line 844
    if ((int )c == 45) {
#line 844
      how = c;
    } else {
#line 844
      how = (char )'=';
    }
#line 845
    if ((int )c == 43) {
#line 846
      p ++;
    } else
#line 845
    if ((int )c == 45) {
#line 846
      p ++;
    } else
#line 845
    if ((int )c == 61) {
#line 846
      p ++;
    } else
#line 845
    if ((int )c == -115) {
#line 846
      p ++;
    }
#line 847
    val = (zlong )0;
#line 848
    if (mask) {
      {
#line 849
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 849
        tmp___4 = p;
#line 849
        p ++;
#line 849
        c = *tmp___4;
#line 849
        if ((int )c != 44) {
#line 849
          if (! ((int )c != (int )end)) {
#line 849
            goto while_break___1;
          }
        } else {
#line 849
          goto while_break___1;
        }
        {
#line 851
        if ((int )c == 120) {
#line 851
          goto case_120;
        }
#line 852
        if ((int )c == 119) {
#line 852
          goto case_119;
        }
#line 853
        if ((int )c == 114) {
#line 853
          goto case_114;
        }
#line 854
        if ((int )c == 115) {
#line 854
          goto case_115;
        }
#line 855
        if ((int )c == 116) {
#line 855
          goto case_116;
        }
#line 857
        if ((int )c == 55) {
#line 857
          goto case_55;
        }
#line 857
        if ((int )c == 54) {
#line 857
          goto case_55;
        }
#line 857
        if ((int )c == 53) {
#line 857
          goto case_55;
        }
#line 857
        if ((int )c == 52) {
#line 857
          goto case_55;
        }
#line 857
        if ((int )c == 51) {
#line 857
          goto case_55;
        }
#line 857
        if ((int )c == 50) {
#line 857
          goto case_55;
        }
#line 857
        if ((int )c == 49) {
#line 857
          goto case_55;
        }
#line 857
        if ((int )c == 48) {
#line 857
          goto case_55;
        }
#line 861
        goto switch_default;
        case_120: /* CIL Label */ 
#line 851
        val |= 73L;
#line 851
        goto switch_break___0;
        case_119: /* CIL Label */ 
#line 852
        val |= 146L;
#line 852
        goto switch_break___0;
        case_114: /* CIL Label */ 
#line 853
        val |= 292L;
#line 853
        goto switch_break___0;
        case_115: /* CIL Label */ 
#line 854
        val |= 3072L;
#line 854
        goto switch_break___0;
        case_116: /* CIL Label */ 
#line 855
        val |= 512L;
#line 855
        goto switch_break___0;
        case_55: /* CIL Label */ 
        case_54: /* CIL Label */ 
        case_53: /* CIL Label */ 
        case_52: /* CIL Label */ 
        case_51: /* CIL Label */ 
        case_50: /* CIL Label */ 
        case_49: /* CIL Label */ 
        case_48: /* CIL Label */ 
#line 858
        t = (zlong )c - 48L;
#line 859
        val |= (t | (t << 3)) | (t << 6);
#line 860
        goto switch_break___0;
        switch_default: /* CIL Label */ 
        {
#line 862
        zerr("invalid mode specification");
        }
#line 863
        return ((zlong )0);
        switch_break___0: /* CIL Label */ ;
        }
      }
      while_break___1: /* CIL Label */ ;
      }
#line 866
      if ((int )how == 61) {
#line 867
        yes |= val & mask;
#line 868
        val = ~ val;
      } else
#line 866
      if ((int )how == 43) {
#line 867
        yes |= val & mask;
#line 868
        val = ~ val;
      }
#line 870
      if ((int )how == 61) {
#line 871
        no |= val & mask;
      } else
#line 870
      if ((int )how == 45) {
#line 871
        no |= val & mask;
      }
    } else
#line 872
    if (end) {
#line 872
      if ((int )c == (int )end) {
        {
#line 897
        zerr("invalid mode specification");
        }
#line 898
        return ((zlong )0);
      } else {
#line 872
        goto _L___1;
      }
    } else
    _L___1: /* CIL Label */ 
#line 872
    if ((int )c != 44) {
#line 872
      if (c) {
#line 873
        t = (zlong )4095;
        {
#line 874
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 874
          c = *p;
#line 874
          if (! ((int )c == 63)) {
#line 874
            if (! ((int )c == -105)) {
#line 874
              if ((int )c >= 48) {
#line 874
                if (! ((int )c <= 55)) {
#line 874
                  goto while_break___2;
                }
              } else {
#line 874
                goto while_break___2;
              }
            }
          }
#line 876
          if ((int )c == 63) {
#line 877
            t = (t << 3) | 7L;
#line 878
            val <<= 3;
          } else
#line 876
          if ((int )c == -105) {
#line 877
            t = (t << 3) | 7L;
#line 878
            val <<= 3;
          } else {
#line 880
            t <<= 3;
#line 881
            val = (val << 3) | ((zlong )c - 48L);
          }
#line 883
          p ++;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 885
        if (end) {
#line 885
          if ((int )c != (int )end) {
#line 885
            if ((int )c != 44) {
              {
#line 886
              zerr("invalid mode specification");
              }
#line 887
              return ((zlong )0);
            }
          }
        }
#line 889
        if ((int )how == 61) {
#line 890
          yes = (yes & ~ t) | val;
#line 891
          no = (no & ~ t) | (~ val & ~ t);
        } else
#line 892
        if ((int )how == 43) {
#line 893
          yes |= val;
        } else {
#line 895
          no |= val;
        }
      } else {
        {
#line 897
        zerr("invalid mode specification");
        }
#line 898
        return ((zlong )0);
      }
    } else {
      {
#line 897
      zerr("invalid mode specification");
      }
#line 898
      return ((zlong )0);
    }
#line 833
    if (end) {
#line 833
      if (! ((int )c != (int )end)) {
#line 833
        goto while_break;
      }
    } else {
#line 833
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 902
  *s = p;
#line 903
  return ((yes & 4095L) | ((no & 4095L) << 12));
}
}
#line 906 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int gmatchcmp(Gmatch a , Gmatch b ) 
{ 
  int i ;
  off_t r ;
  struct globsort *s ;
  char **asortstrp ;
  char **bsortstrp ;
  int tmp ;
  int tmp___0 ;
  char *aptr ;
  char *bptr ;
  int slasha ;
  int slashb ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;

  {
#line 910
  r = 0L;
#line 912
  asortstrp = (char **)((void *)0);
#line 912
  bsortstrp = (char **)((void *)0);
#line 914
  i = curglobdata.gd_gf_nsorts;
#line 914
  s = curglobdata.gd_gf_sortlist;
  {
#line 914
  while (1) {
    while_continue: /* CIL Label */ ;
#line 914
    if (! i) {
#line 914
      goto while_break;
    }
    {
#line 916
    if ((s->tp & ~ (8 << 10)) == 1) {
#line 916
      goto case_1;
    }
#line 920
    if ((s->tp & ~ (8 << 10)) == 2) {
#line 920
      goto case_2;
    }
#line 945
    if ((s->tp & ~ (8 << 10)) == 4) {
#line 945
      goto case_4;
    }
#line 956
    if ((s->tp & ~ (8 << 10)) == 8) {
#line 956
      goto case_8;
    }
#line 959
    if ((s->tp & ~ (8 << 10)) == 8 << 1) {
#line 959
      goto case_exp;
    }
#line 966
    if ((s->tp & ~ (8 << 10)) == 8 << 2) {
#line 966
      goto case_exp___0;
    }
#line 973
    if ((s->tp & ~ (8 << 10)) == 8 << 3) {
#line 973
      goto case_exp___1;
    }
#line 980
    if ((s->tp & ~ (8 << 10)) == 8 << 4) {
#line 980
      goto case_exp___2;
    }
#line 983
    if ((s->tp & ~ (8 << 10)) == 8 << 5) {
#line 983
      goto case_exp___3;
    }
#line 986
    if ((s->tp & ~ (8 << 10)) == (8 << 1) << 5) {
#line 986
      goto case_exp___4;
    }
#line 993
    if ((s->tp & ~ (8 << 10)) == (8 << 2) << 5) {
#line 993
      goto case_exp___5;
    }
#line 1000
    if ((s->tp & ~ (8 << 10)) == (8 << 3) << 5) {
#line 1000
      goto case_exp___6;
    }
#line 1007
    if ((s->tp & ~ (8 << 10)) == (8 << 4) << 5) {
#line 1007
      goto case_exp___7;
    }
#line 915
    goto switch_break;
    case_1: /* CIL Label */ 
#line 917
    if (curglobdata.gd_gf_numsort) {
#line 917
      tmp = 2;
    } else {
#line 917
      tmp = 0;
    }
    {
#line 917
    tmp___0 = zstrcmp((char const   *)b->uname, (char const   *)a->uname, tmp);
#line 917
    r = (off_t )tmp___0;
    }
#line 919
    goto switch_break;
    case_2: /* CIL Label */ 
#line 922
    aptr = a->name;
#line 922
    bptr = b->name;
#line 923
    slasha = 0;
#line 923
    slashb = 0;
    {
#line 925
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 925
      if (*aptr) {
#line 925
        if (! ((int )*aptr == (int )*bptr)) {
#line 925
          goto while_break___0;
        }
      } else {
#line 925
        goto while_break___0;
      }
#line 926
      aptr ++;
#line 926
      bptr ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 928
    if (! *aptr) {
#line 928
      goto _L;
    } else
#line 928
    if (! *bptr) {
      _L: /* CIL Label */ 
#line 928
      if ((unsigned long )aptr > (unsigned long )a->name) {
#line 928
        if ((int )*(aptr + -1) == 47) {
#line 929
          aptr --;
#line 929
          bptr --;
        }
      }
    }
#line 930
    if (*aptr) {
      {
#line 931
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 931
        if (! *(aptr + 1)) {
#line 931
          goto while_break___1;
        }
#line 932
        if ((int )*aptr == 47) {
#line 933
          slasha = 1;
#line 934
          goto while_break___1;
        }
#line 931
        aptr ++;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 936
    if (*bptr) {
      {
#line 937
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 937
        if (! *(bptr + 1)) {
#line 937
          goto while_break___2;
        }
#line 938
        if ((int )*bptr == 47) {
#line 939
          slashb = 1;
#line 940
          goto while_break___2;
        }
#line 937
        bptr ++;
      }
      while_break___2: /* CIL Label */ ;
      }
    }
#line 942
    r = (off_t )(slasha - slashb);
#line 944
    goto switch_break;
    case_4: /* CIL Label */ 
#line 946
    if (! asortstrp) {
#line 947
      asortstrp = a->sortstrs;
#line 948
      bsortstrp = b->sortstrs;
    } else {
#line 950
      asortstrp ++;
#line 951
      bsortstrp ++;
    }
#line 953
    if (curglobdata.gd_gf_numsort) {
#line 953
      tmp___1 = 2;
    } else {
#line 953
      tmp___1 = 0;
    }
    {
#line 953
    tmp___2 = zstrcmp((char const   *)*bsortstrp, (char const   *)*asortstrp, tmp___1);
#line 953
    r = (off_t )tmp___2;
    }
#line 955
    goto switch_break;
    case_8: /* CIL Label */ 
#line 957
    r = b->size - a->size;
#line 958
    goto switch_break;
    case_exp: /* CIL Label */ 
#line 960
    r = a->atime - b->atime;
#line 962
    if (! r) {
#line 963
      r = a->ansec - b->ansec;
    }
#line 965
    goto switch_break;
    case_exp___0: /* CIL Label */ 
#line 967
    r = a->mtime - b->mtime;
#line 969
    if (! r) {
#line 970
      r = a->mnsec - b->mnsec;
    }
#line 972
    goto switch_break;
    case_exp___1: /* CIL Label */ 
#line 974
    r = a->ctime - b->ctime;
#line 976
    if (! r) {
#line 977
      r = a->cnsec - b->cnsec;
    }
#line 979
    goto switch_break;
    case_exp___2: /* CIL Label */ 
#line 981
    r = b->links - a->links;
#line 982
    goto switch_break;
    case_exp___3: /* CIL Label */ 
#line 984
    r = b->_size - a->_size;
#line 985
    goto switch_break;
    case_exp___4: /* CIL Label */ 
#line 987
    r = a->_atime - b->_atime;
#line 989
    if (! r) {
#line 990
      r = a->_ansec - b->_ansec;
    }
#line 992
    goto switch_break;
    case_exp___5: /* CIL Label */ 
#line 994
    r = a->_mtime - b->_mtime;
#line 996
    if (! r) {
#line 997
      r = a->_mnsec - b->_mnsec;
    }
#line 999
    goto switch_break;
    case_exp___6: /* CIL Label */ 
#line 1001
    r = a->_ctime - b->_ctime;
#line 1003
    if (! r) {
#line 1004
      r = a->_cnsec - b->_cnsec;
    }
#line 1006
    goto switch_break;
    case_exp___7: /* CIL Label */ 
#line 1008
    r = b->_links - a->_links;
#line 1009
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 1011
    if (r) {
#line 1012
      if (s->tp & (8 << 10)) {
#line 1012
        if (r < 0L) {
#line 1012
          tmp___3 = 1;
        } else {
#line 1012
          tmp___3 = -1;
        }
#line 1012
        tmp___5 = tmp___3;
      } else {
#line 1012
        if (r > 0L) {
#line 1012
          tmp___4 = 1;
        } else {
#line 1012
          tmp___4 = -1;
        }
#line 1012
        tmp___5 = tmp___4;
      }
#line 1012
      return (tmp___5);
    }
#line 914
    i --;
#line 914
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1016
  return (0);
}
}
#line 1025 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static struct qual *dup_qual_list(struct qual *orig , struct qual **lastp ) 
{ 
  struct qual *qfirst ;
  struct qual *qlast ;
  struct qual *qnew ;
  void *tmp ;
  struct qual *tmp___0 ;

  {
#line 1027
  qfirst = (struct qual *)((void *)0);
#line 1027
  qlast = (struct qual *)((void *)0);
  {
#line 1029
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1029
    if (! orig) {
#line 1029
      goto while_break;
    }
    {
#line 1030
    tmp = zhalloc(sizeof(struct qual ));
#line 1030
    qnew = (struct qual *)tmp;
#line 1031
    *qnew = *orig;
#line 1032
    tmp___0 = (struct qual *)((void *)0);
#line 1032
    qnew->or = tmp___0;
#line 1032
    qnew->next = tmp___0;
    }
#line 1034
    if (! qfirst) {
#line 1035
      qfirst = qnew;
    }
#line 1036
    if (qlast) {
#line 1037
      qlast->next = qnew;
    }
#line 1038
    qlast = qnew;
#line 1040
    orig = orig->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 1043
  if (lastp) {
#line 1044
    *lastp = qlast;
  }
#line 1045
  return (qfirst);
}
}
#line 1055 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static char *glob_exec_string(char **sp___0 ) 
{ 
  char sav ;
  char *tt ;
  char *sdata ;
  char *s ;
  int plus ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 1058
  s = *sp___0;
#line 1061
  if ((int )*(s + -1) == 43) {
    {
#line 1062
    plus = 0;
#line 1063
    tt = itype_end((char const   *)s, 1 << 7, 0);
    }
#line 1064
    if ((unsigned long )tt == (unsigned long )s) {
      {
#line 1066
      zerr("missing identifier after `+\'");
      }
#line 1067
      return ((char *)((void *)0));
    }
  } else {
    {
#line 1070
    tt = get_strarg(s, & plus);
    }
#line 1071
    if (! *tt) {
      {
#line 1073
      zerr("missing end of string");
      }
#line 1074
      return ((char *)((void *)0));
    }
  }
  {
#line 1078
  sav = *tt;
#line 1079
  *tt = (char )'\000';
#line 1080
  sdata = dupstring((char const   *)(s + plus));
#line 1081
  untokenize(sdata);
#line 1082
  *tt = sav;
  }
#line 1083
  if (sav) {
#line 1084
    *sp___0 = tt + plus;
  } else {
#line 1086
    *sp___0 = tt;
  }
#line 1088
  return (sdata);
}
}
#line 1095 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void insert_glob_match(LinkList list , LinkNode next___0 , char *data ) 
{ 
  LinkNode added ;
  char *tmp ;
  LinkNode added___0 ;
  char *tmp___0 ;

  {
#line 1098
  if (curglobdata.gd_gf_pre_words) {
#line 1100
    added = (curglobdata.gd_gf_pre_words)->list.first;
    {
#line 1100
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1100
      if (! added) {
#line 1100
        goto while_break;
      }
      {
#line 1101
      tmp = dupstring((char const   *)added->dat);
#line 1101
      next___0 = insertlinknode(list, next___0, (void *)tmp);
#line 1100
      added = added->next;
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 1105
  next___0 = insertlinknode(list, next___0, (void *)data);
  }
#line 1107
  if (curglobdata.gd_gf_post_words) {
#line 1109
    added___0 = (curglobdata.gd_gf_post_words)->list.first;
    {
#line 1109
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1109
      if (! added___0) {
#line 1109
        goto while_break___0;
      }
      {
#line 1110
      tmp___0 = dupstring((char const   *)added___0->dat);
#line 1110
      next___0 = insertlinknode(list, next___0, (void *)tmp___0);
#line 1109
      added___0 = added___0->next;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 1113
  return;
}
}
#line 1128 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
int checkglobqual(char *str , int sl , int nobareglob , char **sp___0 ) 
{ 
  char *s ;
  int paren ;
  int ret ;

  {
#line 1132
  ret = 1;
#line 1134
  if ((int )*(str + (sl - 1)) != -118) {
#line 1135
    return (0);
  }
#line 1141
  paren = 0;
#line 1142
  s = (str + sl) - 2;
  {
#line 1142
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1142
    if (*s) {
#line 1142
      if (! ((int )*s != -120)) {
#line 1142
        if (! paren) {
#line 1142
          goto while_break;
        }
      }
    } else {
#line 1142
      goto while_break;
    }
    {
#line 1144
    if ((int )*s == -118) {
#line 1144
      goto case_neg_118;
    }
#line 1146
    if ((int )*s == -114) {
#line 1146
      goto case_neg_114;
    }
#line 1150
    if ((int )*s == -104) {
#line 1150
      goto case_neg_104;
    }
#line 1154
    if ((int )*s == -120) {
#line 1154
      goto case_neg_120;
    }
#line 1143
    goto switch_break;
    case_neg_118: /* CIL Label */ 
#line 1145
    paren ++;
    case_neg_114: /* CIL Label */ 
#line 1147
    if (! zpc_disables[2]) {
#line 1148
      nobareglob = 1;
    }
#line 1149
    goto switch_break;
    case_neg_104: /* CIL Label */ 
#line 1151
    if (opts[52]) {
#line 1151
      if (! zpc_disables[4]) {
#line 1152
        nobareglob = 1;
      }
    }
#line 1153
    goto switch_break;
    case_neg_120: /* CIL Label */ 
#line 1155
    paren --;
#line 1156
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 1158
    if ((unsigned long )s == (unsigned long )str) {
#line 1159
      goto while_break;
    }
#line 1142
    s --;
  }
  while_break: /* CIL Label */ ;
  }
#line 1161
  if ((int )*s != -120) {
#line 1162
    return (0);
  }
#line 1163
  if (opts[52]) {
#line 1163
    if (! zpc_disables[11]) {
#line 1163
      if ((int )*(s + 1) == -124) {
#line 1164
        if ((int )*(s + 2) != 113) {
#line 1165
          return (0);
        }
#line 1166
        ret = 2;
      } else {
#line 1163
        goto _L___0;
      }
    } else {
#line 1163
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 1167
  if (nobareglob) {
#line 1168
    return (0);
  }
#line 1170
  if (sp___0) {
#line 1171
    *sp___0 = s;
  }
#line 1173
  return (ret);
}
}
#line 1181 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
void zglob(LinkList list , LinkNode np , int nountok ) 
{ 
  struct qual *qo ;
  struct qual *qn ;
  struct qual *ql ;
  LinkNode node ;
  char *str ;
  int sl ;
  Complist q ;
  char *ostr ;
  int first ;
  int end ;
  struct globdata saved ;
  int nobareglob ;
  int shortcircuit ;
  int tmp ;
  sigset_t oset ;
  struct qual *newquals ;
  char *s ;
  int sense ;
  int qualsfound ;
  off_t data ;
  char *sdata ;
  char *newcolonmod ;
  char *ptr___0 ;
  int (*func)(char * , Statptr  , off_t  , char * ) ;
  size_t tmp___0 ;
  char *tmp___1 ;
  void *tmp___2 ;
  char *tmp___3 ;
  __uid_t tmp___4 ;
  __gid_t tmp___5 ;
  char sav ;
  char *tt ;
  int arglen ;
  struct passwd *pw ;
  char sav___0 ;
  char *tt___0 ;
  int arglen___0 ;
  struct group *gr ;
  char const   *s_saved ;
  sigset_t oset___0 ;
  int tmp___6 ;
  int t ;
  char *send ;
  sigset_t oset___1 ;
  sigset_t oset___2 ;
  char *tmp___7 ;
  sigset_t oset___3 ;
  sigset_t oset___4 ;
  int tmp___8 ;
  int tmp___9 ;
  char *tt___1 ;
  char *os ;
  struct value v ;
  sigset_t oset___5 ;
  int tmp___10 ;
  char *tt___2 ;
  LinkList *words ;
  LinkList *tmp___11 ;
  sigset_t oset___6 ;
  void *tmp___12 ;
  sigset_t oset___7 ;
  struct qual *qorhead ;
  struct qual *qortail ;
  struct qual *qfirst ;
  struct qual *qlast ;
  int islast ;
  int tmp___13 ;
  struct qual *tmp___14 ;
  sigset_t oset___8 ;
  void *tmp___15 ;
  sigset_t oset___9 ;
  char *tmp___16 ;
  int nexecs ;
  struct globsort *sortp ;
  struct globsort *lastsortp ;
  Gmatch gmptr ;
  Gmatch tmpptr ;
  int iexec ;
  void *tmp___17 ;
  Eprog prog ;
  int ef ;
  int lv ;
  char *tmp___18 ;
  char *tmp___19 ;
  int dummy___0 ;
  char *tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  sigset_t oset___10 ;
  void *__cil_tmp93 ;
  int __cil_tmp94 ;
  void *__cil_tmp95 ;
  void *__cil_tmp96 ;
  void *__cil_tmp97 ;
  void *__cil_tmp98 ;
  void *__cil_tmp99 ;
  void *__cil_tmp100 ;
  void *__cil_tmp101 ;
  void *__cil_tmp102 ;
  void *__cil_tmp103 ;
  void *__cil_tmp104 ;
  void *__cil_tmp105 ;
  void *__cil_tmp106 ;
  char *__cil_tmp107 ;
  char *__cil_tmp108 ;
  char *__cil_tmp109 ;
  char *__cil_tmp110 ;
  char *__cil_tmp111 ;
  char *__cil_tmp112 ;
  char *__cil_tmp113 ;
  char *__cil_tmp114 ;
  char *__cil_tmp115 ;
  char *__cil_tmp116 ;
  char *__cil_tmp117 ;
  char *__cil_tmp118 ;
  char *__cil_tmp119 ;
  char *__cil_tmp120 ;
  char *__cil_tmp121 ;

  {
#line 1185
  node = np->prev;
#line 1189
  ostr = (char *)np->dat;
#line 1191
  first = 0;
#line 1191
  end = -1;
#line 1194
  nobareglob = ! opts[18];
#line 1195
  shortcircuit = 0;
#line 1198
  if (! opts[58]) {
#line 1198
    goto _L;
  } else {
    {
#line 1198
    tmp = haswilds(ostr);
    }
#line 1198
    if (tmp) {
#line 1198
      if (! opts[51]) {
        _L: /* CIL Label */ 
#line 1199
        if (! nountok) {
          {
#line 1200
          untokenize(ostr);
          }
        }
#line 1201
        return;
      }
    } else {
#line 1198
      goto _L;
    }
  }
  {
#line 1203
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 1203
    queueing_enabled ++;
#line 1203
    memcpy((void */* __restrict  */)(& saved), (void const   */* __restrict  */)(& curglobdata),
           sizeof(struct globdata ));
#line 1203
    saved.gd_pathpos = pathpos;
#line 1203
    saved.gd_pathbuf = pathbuf;
#line 1203
    saved.gd_glob_pre = glob_pre;
#line 1203
    saved.gd_glob_suf = glob_suf;
#line 1203
    pathbuf = (char *)((void *)0);
    }
    {
#line 1203
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1203
      queueing_enabled --;
#line 1203
      if (! queueing_enabled) {
        {
#line 1203
        while (1) {
          while_continue___1: /* CIL Label */ ;
          {
#line 1203
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 1203
            if (! (queue_front != queue_rear)) {
#line 1203
              goto while_break___2;
            }
            {
#line 1203
            queue_front = (queue_front + 1) % 128;
#line 1203
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1203
            zhandler(signal_queue[queue_front]);
#line 1203
            signal_setmask(oset);
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 1203
          goto while_break___1;
        }
        while_break___1: /* CIL Label */ ;
        }
      }
#line 1203
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1203
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1205
  str = dupstring((char const   *)ostr);
#line 1206
  uremnode(list, np);
#line 1209
  curglobdata.gd_quals = (struct qual *)((void *)0);
#line 1215
  curglobdata.gd_qualorct = 0;
#line 1215
  curglobdata.gd_qualct = curglobdata.gd_qualorct;
#line 1220
  curglobdata.gd_colonmod = (char *)((void *)0);
#line 1222
  curglobdata.gd_gf_nullglob = (int )opts[121];
#line 1223
  curglobdata.gd_gf_markdirs = (int )opts[113];
#line 1224
  curglobdata.gd_gf_follow = 0;
#line 1224
  curglobdata.gd_gf_listtypes = curglobdata.gd_gf_follow;
#line 1225
  curglobdata.gd_gf_noglobdots = ! opts[63];
#line 1226
  curglobdata.gd_gf_numsort = (int )opts[122];
#line 1227
  curglobdata.gd_gf_nsorts = 0;
#line 1227
  curglobdata.gd_gf_sorts = curglobdata.gd_gf_nsorts;
#line 1228
  curglobdata.gd_gf_post_words = (LinkList )((void *)0);
#line 1228
  curglobdata.gd_gf_pre_words = curglobdata.gd_gf_post_words;
  }
  {
#line 1231
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 1231
    if (! (! nobareglob)) {
#line 1231
      if (opts[52]) {
#line 1231
        if (! (! zpc_disables[11])) {
#line 1231
          goto while_break___3;
        }
      } else {
#line 1231
        goto while_break___3;
      }
    }
    {
#line 1262
    ql = (struct qual *)((void *)0);
#line 1262
    qn = ql;
#line 1262
    qo = qn;
#line 1262
    newquals = qo;
#line 1264
    tmp___0 = strlen((char const   *)str);
#line 1264
    sl = (int )tmp___0;
#line 1265
    qualsfound = checkglobqual(str, sl, nobareglob, & s);
    }
#line 1265
    if (! qualsfound) {
#line 1266
      goto while_break___3;
    }
#line 1269
    nobareglob = 1;
#line 1270
    sense = 0;
#line 1272
    data = (off_t )0;
#line 1273
    sdata = (char *)((void *)0);
#line 1274
    newcolonmod = (char *)((void *)0);
#line 1276
    *(str + (sl - 1)) = (char)0;
#line 1277
    tmp___1 = s;
#line 1277
    s ++;
#line 1277
    *tmp___1 = (char)0;
#line 1278
    if (qualsfound == 2) {
#line 1279
      s += 2;
    }
#line 1280
    ptr___0 = s;
    {
#line 1280
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 1280
      if (! *ptr___0) {
#line 1280
        goto while_break___4;
      }
#line 1281
      if ((int )*ptr___0 == -101) {
#line 1282
        *ptr___0 = (char )'-';
      }
#line 1280
      ptr___0 ++;
    }
    while_break___4: /* CIL Label */ ;
    }
    {
#line 1283
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 1283
      if (*s) {
#line 1283
        if (! (! newcolonmod)) {
#line 1283
          goto while_break___5;
        }
      } else {
#line 1283
        goto while_break___5;
      }
#line 1284
      func = (int (*)(char * , Statptr  , off_t  , char * ))0;
#line 1285
      if ((int )*s == 44) {
#line 1287
        s ++;
#line 1288
        sense = 0;
#line 1289
        if (curglobdata.gd_qualct) {
          {
#line 1290
          tmp___2 = hcalloc(sizeof(*qn));
#line 1290
          qn = (struct qual *)tmp___2;
#line 1291
          qo->or = qn;
#line 1292
          qo = qn;
#line 1293
          (curglobdata.gd_qualorct) ++;
#line 1294
          curglobdata.gd_qualct = 0;
#line 1295
          ql = (struct qual *)((void *)0);
          }
        }
      } else {
#line 1298
        tmp___3 = s;
#line 1298
        s ++;
        {
#line 1299
        if ((int )*tmp___3 == 58) {
#line 1299
          goto case_58;
        }
#line 1311
        if ((int )*tmp___3 == 94) {
#line 1311
          goto case_94;
        }
#line 1311
        if ((int )*tmp___3 == -122) {
#line 1311
          goto case_94;
        }
#line 1316
        if ((int )*tmp___3 == 45) {
#line 1316
          goto case_45;
        }
#line 1320
        if ((int )*tmp___3 == 64) {
#line 1320
          goto case_64;
        }
#line 1325
        if ((int )*tmp___3 == 61) {
#line 1325
          goto case_61;
        }
#line 1325
        if ((int )*tmp___3 == -115) {
#line 1325
          goto case_61;
        }
#line 1329
        if ((int )*tmp___3 == 112) {
#line 1329
          goto case_112;
        }
#line 1333
        if ((int )*tmp___3 == 47) {
#line 1333
          goto case_47;
        }
#line 1337
        if ((int )*tmp___3 == 46) {
#line 1337
          goto case_46;
        }
#line 1341
        if ((int )*tmp___3 == 37) {
#line 1341
          goto case_37;
        }
#line 1351
        if ((int )*tmp___3 == -121) {
#line 1351
          goto case_neg_121;
        }
#line 1355
        if ((int )*tmp___3 == 82) {
#line 1355
          goto case_82;
        }
#line 1360
        if ((int )*tmp___3 == 87) {
#line 1360
          goto case_87;
        }
#line 1365
        if ((int )*tmp___3 == 88) {
#line 1365
          goto case_88;
        }
#line 1370
        if ((int )*tmp___3 == 65) {
#line 1370
          goto case_65;
        }
#line 1374
        if ((int )*tmp___3 == 73) {
#line 1374
          goto case_73;
        }
#line 1378
        if ((int )*tmp___3 == 69) {
#line 1378
          goto case_69;
        }
#line 1382
        if ((int )*tmp___3 == 114) {
#line 1382
          goto case_114;
        }
#line 1387
        if ((int )*tmp___3 == 119) {
#line 1387
          goto case_119;
        }
#line 1392
        if ((int )*tmp___3 == 120) {
#line 1392
          goto case_120;
        }
#line 1397
        if ((int )*tmp___3 == 115) {
#line 1397
          goto case_115;
        }
#line 1402
        if ((int )*tmp___3 == 83) {
#line 1402
          goto case_83;
        }
#line 1407
        if ((int )*tmp___3 == 116) {
#line 1407
          goto case_116;
        }
#line 1411
        if ((int )*tmp___3 == 100) {
#line 1411
          goto case_100;
        }
#line 1417
        if ((int )*tmp___3 == 108) {
#line 1417
          goto case_108;
        }
#line 1422
        if ((int )*tmp___3 == 85) {
#line 1422
          goto case_85;
        }
#line 1427
        if ((int )*tmp___3 == 71) {
#line 1427
          goto case_71;
        }
#line 1432
        if ((int )*tmp___3 == 117) {
#line 1432
          goto case_117;
        }
#line 1473
        if ((int )*tmp___3 == 103) {
#line 1473
          goto case_103;
        }
#line 1513
        if ((int )*tmp___3 == 102) {
#line 1513
          goto case_102;
        }
#line 1518
        if ((int )*tmp___3 == 70) {
#line 1518
          goto case_70;
        }
#line 1521
        if ((int )*tmp___3 == 77) {
#line 1521
          goto case_77;
        }
#line 1526
        if ((int )*tmp___3 == 84) {
#line 1526
          goto case_84;
        }
#line 1531
        if ((int )*tmp___3 == 78) {
#line 1531
          goto case_78;
        }
#line 1535
        if ((int )*tmp___3 == 68) {
#line 1535
          goto case_68;
        }
#line 1539
        if ((int )*tmp___3 == 110) {
#line 1539
          goto case_110;
        }
#line 1543
        if ((int )*tmp___3 == 89) {
#line 1543
          goto case_89;
        }
#line 1560
        if ((int )*tmp___3 == 97) {
#line 1560
          goto case_97;
        }
#line 1565
        if ((int )*tmp___3 == 109) {
#line 1565
          goto case_109;
        }
#line 1570
        if ((int )*tmp___3 == 99) {
#line 1570
          goto case_99;
        }
#line 1575
        if ((int )*tmp___3 == 76) {
#line 1575
          goto case_76;
        }
#line 1617
        if ((int )*tmp___3 == 79) {
#line 1617
          goto case_79;
        }
#line 1617
        if ((int )*tmp___3 == 111) {
#line 1617
          goto case_79;
        }
#line 1673
        if ((int )*tmp___3 == 101) {
#line 1673
          goto case_101___0;
        }
#line 1673
        if ((int )*tmp___3 == 43) {
#line 1673
          goto case_101___0;
        }
#line 1688
        if ((int )*tmp___3 == -111) {
#line 1688
          goto case_neg_111;
        }
#line 1688
        if ((int )*tmp___3 == 91) {
#line 1688
          goto case_neg_111;
        }
#line 1706
        if ((int )*tmp___3 == 80) {
#line 1706
          goto case_80;
        }
#line 1720
        goto switch_default___0;
        case_58: /* CIL Label */ 
        {
#line 1302
        newcolonmod = s - 1;
#line 1303
        untokenize(newcolonmod);
        }
#line 1304
        if (curglobdata.gd_colonmod) {
          {
#line 1306
          curglobdata.gd_colonmod = dyncat((char const   *)newcolonmod, (char const   *)curglobdata.gd_colonmod);
          }
        } else {
#line 1308
          curglobdata.gd_colonmod = newcolonmod;
        }
#line 1309
        goto switch_break;
        case_94: /* CIL Label */ 
        case_neg_122: /* CIL Label */ 
#line 1314
        sense ^= 1;
#line 1315
        goto switch_break;
        case_45: /* CIL Label */ 
#line 1318
        sense ^= 2;
#line 1319
        goto switch_break;
        case_64: /* CIL Label */ 
#line 1322
        func = & qualislnk;
#line 1323
        goto switch_break;
        case_61: /* CIL Label */ 
        case_neg_115: /* CIL Label */ 
#line 1327
        func = & qualissock;
#line 1328
        goto switch_break;
        case_112: /* CIL Label */ 
#line 1331
        func = & qualisfifo;
#line 1332
        goto switch_break;
        case_47: /* CIL Label */ 
#line 1335
        func = & qualisdir;
#line 1336
        goto switch_break;
        case_46: /* CIL Label */ 
#line 1339
        func = & qualisreg;
#line 1340
        goto switch_break;
        case_37: /* CIL Label */ 
#line 1344
        if ((int )*s == 98) {
#line 1345
          s ++;
#line 1345
          func = & qualisblk;
        } else
#line 1346
        if ((int )*s == 99) {
#line 1347
          s ++;
#line 1347
          func = & qualischr;
        } else {
#line 1349
          func = & qualisdev;
        }
#line 1350
        goto switch_break;
        case_neg_121: /* CIL Label */ 
#line 1353
        func = & qualiscom;
#line 1354
        goto switch_break;
        case_82: /* CIL Label */ 
#line 1357
        func = & qualflags;
#line 1358
        data = (off_t )4;
#line 1359
        goto switch_break;
        case_87: /* CIL Label */ 
#line 1362
        func = & qualflags;
#line 1363
        data = (off_t )2;
#line 1364
        goto switch_break;
        case_88: /* CIL Label */ 
#line 1367
        func = & qualflags;
#line 1368
        data = (off_t )1;
#line 1369
        goto switch_break;
        case_65: /* CIL Label */ 
#line 1371
        func = & qualflags;
#line 1372
        data = (off_t )32;
#line 1373
        goto switch_break;
        case_73: /* CIL Label */ 
#line 1375
        func = & qualflags;
#line 1376
        data = (off_t )16;
#line 1377
        goto switch_break;
        case_69: /* CIL Label */ 
#line 1379
        func = & qualflags;
#line 1380
        data = (off_t )8;
#line 1381
        goto switch_break;
        case_114: /* CIL Label */ 
#line 1384
        func = & qualflags;
#line 1385
        data = (off_t )256;
#line 1386
        goto switch_break;
        case_119: /* CIL Label */ 
#line 1389
        func = & qualflags;
#line 1390
        data = (off_t )128;
#line 1391
        goto switch_break;
        case_120: /* CIL Label */ 
#line 1394
        func = & qualflags;
#line 1395
        data = (off_t )64;
#line 1396
        goto switch_break;
        case_115: /* CIL Label */ 
#line 1399
        func = & qualflags;
#line 1400
        data = (off_t )2048;
#line 1401
        goto switch_break;
        case_83: /* CIL Label */ 
#line 1404
        func = & qualflags;
#line 1405
        data = (off_t )1024;
#line 1406
        goto switch_break;
        case_116: /* CIL Label */ 
#line 1408
        func = & qualflags;
#line 1409
        data = (off_t )512;
#line 1410
        goto switch_break;
        case_100: /* CIL Label */ 
        {
#line 1414
        func = & qualdev;
#line 1415
        data = qgetnum(& s);
        }
#line 1416
        goto switch_break;
        case_108: /* CIL Label */ 
#line 1419
        func = & qualnlink;
#line 1420
        curglobdata.gd_amc = -1;
#line 1421
        goto getrange;
        case_85: /* CIL Label */ 
        {
#line 1424
        func = & qualuid;
#line 1425
        tmp___4 = geteuid();
#line 1425
        data = (off_t )tmp___4;
        }
#line 1426
        goto switch_break;
        case_71: /* CIL Label */ 
        {
#line 1429
        func = & qualgid;
#line 1430
        tmp___5 = getegid();
#line 1430
        data = (off_t )tmp___5;
        }
#line 1431
        goto switch_break;
        case_117: /* CIL Label */ 
#line 1434
        func = & qualuid;
#line 1436
        if ((int )typtab[(unsigned char )*s] & 1) {
          {
#line 1437
          data = qgetnum(& s);
          }
        } else {
          {
#line 1444
          tt = get_strarg(s, & arglen);
          }
#line 1445
          if (! *tt) {
            {
#line 1446
            zerr("missing delimiter for \'u\' glob qualifier");
#line 1447
            data = (off_t )0;
            }
          } else {
            {
#line 1451
            sav = *tt;
#line 1452
            *tt = (char )'\000';
#line 1454
            pw = getpwnam((char const   *)(s + arglen));
            }
#line 1454
            if (pw) {
#line 1455
              data = (off_t )pw->pw_uid;
            } else {
              {
#line 1457
              zerr("unknown user");
#line 1458
              data = (off_t )0;
              }
            }
#line 1460
            *tt = sav;
#line 1466
            if (sav) {
#line 1467
              s = tt + arglen;
            } else {
#line 1469
              s = tt;
            }
          }
        }
#line 1472
        goto switch_break;
        case_103: /* CIL Label */ 
#line 1475
        func = & qualgid;
#line 1477
        if ((int )typtab[(unsigned char )*s] & 1) {
          {
#line 1478
          data = qgetnum(& s);
          }
        } else {
          {
#line 1484
          tt___0 = get_strarg(s, & arglen___0);
          }
#line 1485
          if (! *tt___0) {
            {
#line 1486
            zerr("missing delimiter for \'g\' glob qualifier");
#line 1487
            data = (off_t )0;
            }
          } else {
            {
#line 1491
            sav___0 = *tt___0;
#line 1492
            *tt___0 = (char )'\000';
#line 1494
            gr = getgrnam((char const   *)(s + arglen___0));
            }
#line 1494
            if (gr) {
#line 1495
              data = (off_t )gr->gr_gid;
            } else {
              {
#line 1497
              zerr("unknown group");
#line 1498
              data = (off_t )0;
              }
            }
#line 1500
            *tt___0 = sav___0;
#line 1506
            if (sav___0) {
#line 1507
              s = tt___0 + arglen___0;
            } else {
#line 1509
              s = tt___0;
            }
          }
        }
#line 1512
        goto switch_break;
        case_102: /* CIL Label */ 
        {
#line 1515
        func = & qualmodeflags;
#line 1516
        data = qgetmodespec(& s);
        }
#line 1517
        goto switch_break;
        case_70: /* CIL Label */ 
#line 1519
        func = & qualnonemptydir;
#line 1520
        goto switch_break;
        case_77: /* CIL Label */ 
#line 1523
        curglobdata.gd_gf_markdirs = ! (sense & 1);
#line 1523
        if (curglobdata.gd_gf_markdirs) {
#line 1524
          curglobdata.gd_gf_follow = sense & 2;
        }
#line 1525
        goto switch_break;
        case_84: /* CIL Label */ 
#line 1528
        curglobdata.gd_gf_listtypes = ! (sense & 1);
#line 1528
        if (curglobdata.gd_gf_listtypes) {
#line 1529
          curglobdata.gd_gf_follow = sense & 2;
        }
#line 1530
        goto switch_break;
        case_78: /* CIL Label */ 
#line 1533
        curglobdata.gd_gf_nullglob = ! (sense & 1);
#line 1534
        goto switch_break;
        case_68: /* CIL Label */ 
#line 1537
        curglobdata.gd_gf_noglobdots = sense & 1;
#line 1538
        goto switch_break;
        case_110: /* CIL Label */ 
#line 1541
        curglobdata.gd_gf_numsort = ! (sense & 1);
#line 1542
        goto switch_break;
        case_89: /* CIL Label */ 
#line 1546
        s_saved = (char const   *)s;
#line 1547
        shortcircuit = ! (sense & 1);
#line 1548
        if (shortcircuit) {
          {
#line 1550
          data = qgetnum(& s);
#line 1551
          shortcircuit = (int )data;
          }
#line 1551
          if ((off_t )shortcircuit != data) {
            {
#line 1553
            zerr("value too big: Y%s", s_saved);
            }
            {
#line 1554
            while (1) {
              while_continue___6: /* CIL Label */ ;
              {
#line 1554
              queueing_enabled ++;
#line 1554
              zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1554
              memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                     sizeof(struct globdata ));
#line 1554
              pathpos = saved.gd_pathpos;
#line 1554
              pathbuf = saved.gd_pathbuf;
#line 1554
              glob_pre = saved.gd_glob_pre;
#line 1554
              glob_suf = saved.gd_glob_suf;
              }
              {
#line 1554
              while (1) {
                while_continue___7: /* CIL Label */ ;
#line 1554
                queueing_enabled --;
#line 1554
                if (! queueing_enabled) {
                  {
#line 1554
                  while (1) {
                    while_continue___8: /* CIL Label */ ;
                    {
#line 1554
                    while (1) {
                      while_continue___9: /* CIL Label */ ;
#line 1554
                      if (! (queue_front != queue_rear)) {
#line 1554
                        goto while_break___9;
                      }
                      {
#line 1554
                      queue_front = (queue_front + 1) % 128;
#line 1554
                      oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 1554
                      zhandler(signal_queue[queue_front]);
#line 1554
                      signal_setmask(oset___0);
                      }
                    }
                    while_break___9: /* CIL Label */ ;
                    }
#line 1554
                    goto while_break___8;
                  }
                  while_break___8: /* CIL Label */ ;
                  }
                }
#line 1554
                goto while_break___7;
              }
              while_break___7: /* CIL Label */ ;
              }
#line 1554
              goto while_break___6;
            }
            while_break___6: /* CIL Label */ ;
            }
#line 1555
            return;
          }
        }
#line 1558
        goto switch_break;
        case_97: /* CIL Label */ 
#line 1562
        curglobdata.gd_amc = 0;
#line 1563
        func = & qualtime;
#line 1564
        goto getrange;
        case_109: /* CIL Label */ 
#line 1567
        curglobdata.gd_amc = 1;
#line 1568
        func = & qualtime;
#line 1569
        goto getrange;
        case_99: /* CIL Label */ 
#line 1572
        curglobdata.gd_amc = 2;
#line 1573
        func = & qualtime;
#line 1574
        goto getrange;
        case_76: /* CIL Label */ 
#line 1577
        func = & qualsize;
#line 1578
        curglobdata.gd_amc = -1;
#line 1580
        curglobdata.gd_units = 0;
#line 1581
        if ((int )*s == 112) {
#line 1582
          curglobdata.gd_units = 1;
#line 1582
          s ++;
        } else
#line 1581
        if ((int )*s == 80) {
#line 1582
          curglobdata.gd_units = 1;
#line 1582
          s ++;
        } else
#line 1583
        if ((int )*s == 107) {
#line 1584
          curglobdata.gd_units = 2;
#line 1584
          s ++;
        } else
#line 1583
        if ((int )*s == 75) {
#line 1584
          curglobdata.gd_units = 2;
#line 1584
          s ++;
        } else
#line 1585
        if ((int )*s == 109) {
#line 1586
          curglobdata.gd_units = 3;
#line 1586
          s ++;
        } else
#line 1585
        if ((int )*s == 77) {
#line 1586
          curglobdata.gd_units = 3;
#line 1586
          s ++;
        } else
#line 1588
        if ((int )*s == 103) {
#line 1589
          curglobdata.gd_units = 4;
#line 1589
          s ++;
        } else
#line 1588
        if ((int )*s == 71) {
#line 1589
          curglobdata.gd_units = 4;
#line 1589
          s ++;
        } else
#line 1590
        if ((int )*s == 116) {
#line 1591
          curglobdata.gd_units = 5;
#line 1591
          s ++;
        } else
#line 1590
        if ((int )*s == 84) {
#line 1591
          curglobdata.gd_units = 5;
#line 1591
          s ++;
        }
        getrange: 
#line 1595
        if (curglobdata.gd_amc >= 0) {
#line 1596
          curglobdata.gd_units = 0;
#line 1597
          if ((int )*s == 104) {
#line 1598
            curglobdata.gd_units = 1;
#line 1598
            s ++;
          } else
#line 1599
          if ((int )*s == 109) {
#line 1600
            curglobdata.gd_units = 2;
#line 1600
            s ++;
          } else
#line 1601
          if ((int )*s == 119) {
#line 1602
            curglobdata.gd_units = 3;
#line 1602
            s ++;
          } else
#line 1603
          if ((int )*s == 77) {
#line 1604
            curglobdata.gd_units = 4;
#line 1604
            s ++;
          } else
#line 1605
          if ((int )*s == 115) {
#line 1606
            curglobdata.gd_units = 5;
#line 1606
            s ++;
          } else
#line 1607
          if ((int )*s == 100) {
#line 1608
            s ++;
          }
        }
#line 1611
        if ((int )*s == 43) {
#line 1611
          curglobdata.gd_range = 1;
        } else {
#line 1611
          if ((int )*s == 45) {
#line 1611
            tmp___6 = -1;
          } else {
#line 1611
            tmp___6 = 0;
          }
#line 1611
          curglobdata.gd_range = tmp___6;
        }
#line 1611
        if (curglobdata.gd_range) {
#line 1612
          s ++;
        }
        {
#line 1613
        data = qgetnum(& s);
        }
#line 1614
        goto switch_break;
        case_79: /* CIL Label */ 
        case_111: /* CIL Label */ 
#line 1622
        if (curglobdata.gd_gf_nsorts == 12) {
          {
#line 1623
          zerr("too many glob sort specifiers");
          }
          {
#line 1624
          while (1) {
            while_continue___10: /* CIL Label */ ;
            {
#line 1624
            queueing_enabled ++;
#line 1624
            zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1624
            memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                   sizeof(struct globdata ));
#line 1624
            pathpos = saved.gd_pathpos;
#line 1624
            pathbuf = saved.gd_pathbuf;
#line 1624
            glob_pre = saved.gd_glob_pre;
#line 1624
            glob_suf = saved.gd_glob_suf;
            }
            {
#line 1624
            while (1) {
              while_continue___11: /* CIL Label */ ;
#line 1624
              queueing_enabled --;
#line 1624
              if (! queueing_enabled) {
                {
#line 1624
                while (1) {
                  while_continue___12: /* CIL Label */ ;
                  {
#line 1624
                  while (1) {
                    while_continue___13: /* CIL Label */ ;
#line 1624
                    if (! (queue_front != queue_rear)) {
#line 1624
                      goto while_break___13;
                    }
                    {
#line 1624
                    queue_front = (queue_front + 1) % 128;
#line 1624
                    oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 1624
                    zhandler(signal_queue[queue_front]);
#line 1624
                    signal_setmask(oset___1);
                    }
                  }
                  while_break___13: /* CIL Label */ ;
                  }
#line 1624
                  goto while_break___12;
                }
                while_break___12: /* CIL Label */ ;
                }
              }
#line 1624
              goto while_break___11;
            }
            while_break___11: /* CIL Label */ ;
            }
#line 1624
            goto while_break___10;
          }
          while_break___10: /* CIL Label */ ;
          }
#line 1625
          return;
        }
#line 1629
        send = s + 1;
        {
#line 1631
        if ((int )*s == 110) {
#line 1631
          goto case_110___0;
        }
#line 1632
        if ((int )*s == 76) {
#line 1632
          goto case_76___0;
        }
#line 1633
        if ((int )*s == 108) {
#line 1633
          goto case_108___0;
        }
#line 1634
        if ((int )*s == 97) {
#line 1634
          goto case_97___0;
        }
#line 1635
        if ((int )*s == 109) {
#line 1635
          goto case_109___0;
        }
#line 1636
        if ((int )*s == 99) {
#line 1636
          goto case_99___0;
        }
#line 1637
        if ((int )*s == 100) {
#line 1637
          goto case_100___0;
        }
#line 1638
        if ((int )*s == 78) {
#line 1638
          goto case_78___0;
        }
#line 1640
        if ((int )*s == 43) {
#line 1640
          goto case_43;
        }
#line 1640
        if ((int )*s == 101) {
#line 1640
          goto case_43;
        }
#line 1651
        goto switch_default;
        case_110___0: /* CIL Label */ 
#line 1631
        t = 1;
#line 1631
        goto switch_break___0;
        case_76___0: /* CIL Label */ 
#line 1632
        t = 8;
#line 1632
        goto switch_break___0;
        case_108___0: /* CIL Label */ 
#line 1633
        t = 8 << 4;
#line 1633
        goto switch_break___0;
        case_97___0: /* CIL Label */ 
#line 1634
        t = 8 << 1;
#line 1634
        goto switch_break___0;
        case_109___0: /* CIL Label */ 
#line 1635
        t = 8 << 2;
#line 1635
        goto switch_break___0;
        case_99___0: /* CIL Label */ 
#line 1636
        t = 8 << 3;
#line 1636
        goto switch_break___0;
        case_100___0: /* CIL Label */ 
#line 1637
        t = 2;
#line 1637
        goto switch_break___0;
        case_78___0: /* CIL Label */ 
#line 1638
        t = 8 << 11;
#line 1638
        goto switch_break___0;
        case_43: /* CIL Label */ 
        case_101: /* CIL Label */ 
        {
#line 1642
        t = 4;
#line 1643
        tmp___7 = glob_exec_string(& send);
#line 1643
        curglobdata.gd_gf_sortlist[curglobdata.gd_gf_nsorts].exec = tmp___7;
        }
#line 1643
        if ((unsigned long )tmp___7 == (unsigned long )((void *)0)) {
          {
#line 1646
          while (1) {
            while_continue___14: /* CIL Label */ ;
            {
#line 1646
            queueing_enabled ++;
#line 1646
            zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1646
            memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                   sizeof(struct globdata ));
#line 1646
            pathpos = saved.gd_pathpos;
#line 1646
            pathbuf = saved.gd_pathbuf;
#line 1646
            glob_pre = saved.gd_glob_pre;
#line 1646
            glob_suf = saved.gd_glob_suf;
            }
            {
#line 1646
            while (1) {
              while_continue___15: /* CIL Label */ ;
#line 1646
              queueing_enabled --;
#line 1646
              if (! queueing_enabled) {
                {
#line 1646
                while (1) {
                  while_continue___16: /* CIL Label */ ;
                  {
#line 1646
                  while (1) {
                    while_continue___17: /* CIL Label */ ;
#line 1646
                    if (! (queue_front != queue_rear)) {
#line 1646
                      goto while_break___17;
                    }
                    {
#line 1646
                    queue_front = (queue_front + 1) % 128;
#line 1646
                    oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 1646
                    zhandler(signal_queue[queue_front]);
#line 1646
                    signal_setmask(oset___2);
                    }
                  }
                  while_break___17: /* CIL Label */ ;
                  }
#line 1646
                  goto while_break___16;
                }
                while_break___16: /* CIL Label */ ;
                }
              }
#line 1646
              goto while_break___15;
            }
            while_break___15: /* CIL Label */ ;
            }
#line 1646
            goto while_break___14;
          }
          while_break___14: /* CIL Label */ ;
          }
#line 1647
          return;
        }
#line 1649
        goto switch_break___0;
        switch_default: /* CIL Label */ 
        {
#line 1652
        zerr("unknown sort specifier");
        }
        {
#line 1653
        while (1) {
          while_continue___18: /* CIL Label */ ;
          {
#line 1653
          queueing_enabled ++;
#line 1653
          zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1653
          memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                 sizeof(struct globdata ));
#line 1653
          pathpos = saved.gd_pathpos;
#line 1653
          pathbuf = saved.gd_pathbuf;
#line 1653
          glob_pre = saved.gd_glob_pre;
#line 1653
          glob_suf = saved.gd_glob_suf;
          }
          {
#line 1653
          while (1) {
            while_continue___19: /* CIL Label */ ;
#line 1653
            queueing_enabled --;
#line 1653
            if (! queueing_enabled) {
              {
#line 1653
              while (1) {
                while_continue___20: /* CIL Label */ ;
                {
#line 1653
                while (1) {
                  while_continue___21: /* CIL Label */ ;
#line 1653
                  if (! (queue_front != queue_rear)) {
#line 1653
                    goto while_break___21;
                  }
                  {
#line 1653
                  queue_front = (queue_front + 1) % 128;
#line 1653
                  oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 1653
                  zhandler(signal_queue[queue_front]);
#line 1653
                  signal_setmask(oset___3);
                  }
                }
                while_break___21: /* CIL Label */ ;
                }
#line 1653
                goto while_break___20;
              }
              while_break___20: /* CIL Label */ ;
              }
            }
#line 1653
            goto while_break___19;
          }
          while_break___19: /* CIL Label */ ;
          }
#line 1653
          goto while_break___18;
        }
        while_break___18: /* CIL Label */ ;
        }
#line 1654
        return;
        switch_break___0: /* CIL Label */ ;
        }
#line 1656
        if (sense & 2) {
#line 1656
          if (t & ((((8 | (8 << 1)) | (8 << 2)) | (8 << 3)) | (8 << 4))) {
#line 1658
            t <<= 5;
          }
        }
#line 1659
        if (t != 4) {
#line 1660
          if (curglobdata.gd_gf_sorts & t) {
            {
#line 1661
            zerr("doubled sort specifier");
            }
            {
#line 1662
            while (1) {
              while_continue___22: /* CIL Label */ ;
              {
#line 1662
              queueing_enabled ++;
#line 1662
              zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1662
              memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                     sizeof(struct globdata ));
#line 1662
              pathpos = saved.gd_pathpos;
#line 1662
              pathbuf = saved.gd_pathbuf;
#line 1662
              glob_pre = saved.gd_glob_pre;
#line 1662
              glob_suf = saved.gd_glob_suf;
              }
              {
#line 1662
              while (1) {
                while_continue___23: /* CIL Label */ ;
#line 1662
                queueing_enabled --;
#line 1662
                if (! queueing_enabled) {
                  {
#line 1662
                  while (1) {
                    while_continue___24: /* CIL Label */ ;
                    {
#line 1662
                    while (1) {
                      while_continue___25: /* CIL Label */ ;
#line 1662
                      if (! (queue_front != queue_rear)) {
#line 1662
                        goto while_break___25;
                      }
                      {
#line 1662
                      queue_front = (queue_front + 1) % 128;
#line 1662
                      oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 1662
                      zhandler(signal_queue[queue_front]);
#line 1662
                      signal_setmask(oset___4);
                      }
                    }
                    while_break___25: /* CIL Label */ ;
                    }
#line 1662
                    goto while_break___24;
                  }
                  while_break___24: /* CIL Label */ ;
                  }
                }
#line 1662
                goto while_break___23;
              }
              while_break___23: /* CIL Label */ ;
              }
#line 1662
              goto while_break___22;
            }
            while_break___22: /* CIL Label */ ;
            }
#line 1663
            return;
          }
        }
#line 1666
        curglobdata.gd_gf_sorts |= t;
#line 1667
        tmp___8 = curglobdata.gd_gf_nsorts;
#line 1667
        (curglobdata.gd_gf_nsorts) ++;
#line 1667
        if ((sense & 1) ^ ((int )*(s + -1) == 79)) {
#line 1667
          tmp___9 = 8 << 10;
        } else {
#line 1667
          tmp___9 = 0;
        }
#line 1667
        curglobdata.gd_gf_sortlist[tmp___8].tp = t | tmp___9;
#line 1669
        s = send;
#line 1670
        goto switch_break;
        case_101___0: /* CIL Label */ 
        case_43___0: /* CIL Label */ 
        {
#line 1677
        tt___1 = glob_exec_string(& s);
        }
#line 1679
        if ((unsigned long )tt___1 == (unsigned long )((void *)0)) {
#line 1680
          data = (off_t )0;
        } else {
#line 1682
          func = & qualsheval;
#line 1683
          sdata = tt___1;
        }
#line 1685
        goto switch_break;
        case_neg_111: /* CIL Label */ 
        case_91: /* CIL Label */ 
        {
#line 1690
        s --;
#line 1690
        os = s;
#line 1693
        v.isarr = 1;
#line 1694
        v.pm = (Param )((void *)0);
#line 1695
        v.end = -1;
#line 1696
        v.flags = 0;
#line 1697
        tmp___10 = getindex(& s, & v, 0);
        }
#line 1697
        if (tmp___10) {
#line 1697
          goto _L___0;
        } else
#line 1697
        if ((unsigned long )s == (unsigned long )os) {
          _L___0: /* CIL Label */ 
          {
#line 1698
          zerr("invalid subscript");
          }
          {
#line 1699
          while (1) {
            while_continue___26: /* CIL Label */ ;
            {
#line 1699
            queueing_enabled ++;
#line 1699
            zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1699
            memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                   sizeof(struct globdata ));
#line 1699
            pathpos = saved.gd_pathpos;
#line 1699
            pathbuf = saved.gd_pathbuf;
#line 1699
            glob_pre = saved.gd_glob_pre;
#line 1699
            glob_suf = saved.gd_glob_suf;
            }
            {
#line 1699
            while (1) {
              while_continue___27: /* CIL Label */ ;
#line 1699
              queueing_enabled --;
#line 1699
              if (! queueing_enabled) {
                {
#line 1699
                while (1) {
                  while_continue___28: /* CIL Label */ ;
                  {
#line 1699
                  while (1) {
                    while_continue___29: /* CIL Label */ ;
#line 1699
                    if (! (queue_front != queue_rear)) {
#line 1699
                      goto while_break___29;
                    }
                    {
#line 1699
                    queue_front = (queue_front + 1) % 128;
#line 1699
                    oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 1699
                    zhandler(signal_queue[queue_front]);
#line 1699
                    signal_setmask(oset___5);
                    }
                  }
                  while_break___29: /* CIL Label */ ;
                  }
#line 1699
                  goto while_break___28;
                }
                while_break___28: /* CIL Label */ ;
                }
              }
#line 1699
              goto while_break___27;
            }
            while_break___27: /* CIL Label */ ;
            }
#line 1699
            goto while_break___26;
          }
          while_break___26: /* CIL Label */ ;
          }
#line 1700
          return;
        }
#line 1702
        first = v.start;
#line 1703
        end = v.end;
#line 1704
        goto switch_break;
        case_80: /* CIL Label */ 
        {
#line 1709
        tt___2 = glob_exec_string(& s);
        }
#line 1711
        if ((unsigned long )tt___2 != (unsigned long )((void *)0)) {
#line 1713
          if (sense & 1) {
#line 1713
            tmp___11 = & curglobdata.gd_gf_post_words;
          } else {
#line 1713
            tmp___11 = & curglobdata.gd_gf_pre_words;
          }
#line 1713
          words = tmp___11;
#line 1714
          if (! *words) {
            {
#line 1715
            *words = newlinklist();
            }
          }
          {
#line 1716
          insertlinknode(*words, (*words)->list.last, (void *)tt___2);
          }
        }
#line 1718
        goto switch_break;
        switch_default___0: /* CIL Label */ 
        {
#line 1721
        s --;
#line 1721
        untokenize(s);
#line 1722
        zerr("unknown file attribute: %c", (int )*s);
        }
        {
#line 1723
        while (1) {
          while_continue___30: /* CIL Label */ ;
          {
#line 1723
          queueing_enabled ++;
#line 1723
          zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1723
          memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                 sizeof(struct globdata ));
#line 1723
          pathpos = saved.gd_pathpos;
#line 1723
          pathbuf = saved.gd_pathbuf;
#line 1723
          glob_pre = saved.gd_glob_pre;
#line 1723
          glob_suf = saved.gd_glob_suf;
          }
          {
#line 1723
          while (1) {
            while_continue___31: /* CIL Label */ ;
#line 1723
            queueing_enabled --;
#line 1723
            if (! queueing_enabled) {
              {
#line 1723
              while (1) {
                while_continue___32: /* CIL Label */ ;
                {
#line 1723
                while (1) {
                  while_continue___33: /* CIL Label */ ;
#line 1723
                  if (! (queue_front != queue_rear)) {
#line 1723
                    goto while_break___33;
                  }
                  {
#line 1723
                  queue_front = (queue_front + 1) % 128;
#line 1723
                  oset___6 = signal_setmask(signal_mask_queue[queue_front]);
#line 1723
                  zhandler(signal_queue[queue_front]);
#line 1723
                  signal_setmask(oset___6);
                  }
                }
                while_break___33: /* CIL Label */ ;
                }
#line 1723
                goto while_break___32;
              }
              while_break___32: /* CIL Label */ ;
              }
            }
#line 1723
            goto while_break___31;
          }
          while_break___31: /* CIL Label */ ;
          }
#line 1723
          goto while_break___30;
        }
        while_break___30: /* CIL Label */ ;
        }
#line 1724
        return;
        switch_break: /* CIL Label */ ;
        }
      }
#line 1727
      if (func) {
#line 1729
        if (! qn) {
          {
#line 1730
          tmp___12 = hcalloc(sizeof(*qn));
#line 1730
          qn = (struct qual *)tmp___12;
          }
        }
#line 1731
        if (ql) {
#line 1732
          ql->next = qn;
        }
#line 1733
        ql = qn;
#line 1734
        if (! newquals) {
#line 1735
          qo = qn;
#line 1735
          newquals = qo;
        }
#line 1736
        qn->func = func;
#line 1737
        qn->sense = sense;
#line 1738
        qn->data = data;
#line 1739
        qn->sdata = sdata;
#line 1740
        qn->range = curglobdata.gd_range;
#line 1741
        qn->units = curglobdata.gd_units;
#line 1742
        qn->amc = curglobdata.gd_amc;
#line 1744
        qn = (struct qual *)((void *)0);
#line 1745
        (curglobdata.gd_qualct) ++;
      }
#line 1747
      if (errflag) {
        {
#line 1748
        while (1) {
          while_continue___34: /* CIL Label */ ;
          {
#line 1748
          queueing_enabled ++;
#line 1748
          zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1748
          memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
                 sizeof(struct globdata ));
#line 1748
          pathpos = saved.gd_pathpos;
#line 1748
          pathbuf = saved.gd_pathbuf;
#line 1748
          glob_pre = saved.gd_glob_pre;
#line 1748
          glob_suf = saved.gd_glob_suf;
          }
          {
#line 1748
          while (1) {
            while_continue___35: /* CIL Label */ ;
#line 1748
            queueing_enabled --;
#line 1748
            if (! queueing_enabled) {
              {
#line 1748
              while (1) {
                while_continue___36: /* CIL Label */ ;
                {
#line 1748
                while (1) {
                  while_continue___37: /* CIL Label */ ;
#line 1748
                  if (! (queue_front != queue_rear)) {
#line 1748
                    goto while_break___37;
                  }
                  {
#line 1748
                  queue_front = (queue_front + 1) % 128;
#line 1748
                  oset___7 = signal_setmask(signal_mask_queue[queue_front]);
#line 1748
                  zhandler(signal_queue[queue_front]);
#line 1748
                  signal_setmask(oset___7);
                  }
                }
                while_break___37: /* CIL Label */ ;
                }
#line 1748
                goto while_break___36;
              }
              while_break___36: /* CIL Label */ ;
              }
            }
#line 1748
            goto while_break___35;
          }
          while_break___35: /* CIL Label */ ;
          }
#line 1748
          goto while_break___34;
        }
        while_break___34: /* CIL Label */ ;
        }
#line 1749
        return;
      }
    }
    while_break___5: /* CIL Label */ ;
    }
#line 1753
    if (curglobdata.gd_quals) {
#line 1753
      if (newquals) {
#line 1755
        if ((curglobdata.gd_quals)->or) {
#line 1755
          goto _L___1;
        } else
#line 1755
        if (newquals->or) {
          _L___1: /* CIL Label */ 
#line 1757
          qorhead = (struct qual *)((void *)0);
#line 1757
          qortail = (struct qual *)((void *)0);
#line 1764
          qn = newquals;
          {
#line 1764
          while (1) {
            while_continue___38: /* CIL Label */ ;
#line 1764
            if (! qn) {
#line 1764
              goto while_break___38;
            }
#line 1765
            qo = curglobdata.gd_quals;
            {
#line 1765
            while (1) {
              while_continue___39: /* CIL Label */ ;
#line 1765
              if (! qo) {
#line 1765
                goto while_break___39;
              }
#line 1767
              if (! qn->or) {
#line 1767
                if (! qo->or) {
#line 1767
                  tmp___13 = 1;
                } else {
#line 1767
                  tmp___13 = 0;
                }
              } else {
#line 1767
                tmp___13 = 0;
              }
#line 1767
              islast = tmp___13;
#line 1769
              if (islast) {
#line 1771
                qfirst = qn;
#line 1772
                qlast = qfirst;
                {
#line 1772
                while (1) {
                  while_continue___40: /* CIL Label */ ;
#line 1772
                  if (! qlast->next) {
#line 1772
                    goto while_break___40;
                  }
#line 1772
                  qlast = qlast->next;
                }
                while_break___40: /* CIL Label */ ;
                }
              } else {
                {
#line 1776
                qfirst = dup_qual_list(qn, & qlast);
                }
              }
#line 1778
              if (! qorhead) {
#line 1779
                qorhead = qfirst;
              }
#line 1780
              if (qortail) {
#line 1781
                qortail->or = qfirst;
              }
#line 1782
              qortail = qfirst;
#line 1784
              if (islast) {
#line 1784
                qlast->next = qo;
              } else {
                {
#line 1784
                tmp___14 = dup_qual_list(qo, (struct qual **)((void *)0));
#line 1784
                qlast->next = tmp___14;
                }
              }
#line 1765
              qo = qo->or;
            }
            while_break___39: /* CIL Label */ ;
            }
#line 1764
            qn = qn->or;
          }
          while_break___38: /* CIL Label */ ;
          }
#line 1787
          curglobdata.gd_quals = qorhead;
        } else {
#line 1795
          qn = newquals;
          {
#line 1796
          while (1) {
            while_continue___41: /* CIL Label */ ;
#line 1796
            if (! newquals->next) {
#line 1796
              goto while_break___41;
            }
#line 1796
            newquals = newquals->next;
          }
          while_break___41: /* CIL Label */ ;
          }
#line 1798
          newquals->next = curglobdata.gd_quals;
#line 1799
          curglobdata.gd_quals = qn;
        }
      } else {
#line 1753
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 1801
    if (newquals) {
#line 1802
      curglobdata.gd_quals = newquals;
    }
  }
  while_break___3: /* CIL Label */ ;
  }
  {
#line 1804
  q = parsepat(str);
  }
#line 1805
  if (! q) {
#line 1805
    goto _L___3;
  } else
#line 1805
  if (errflag) {
    _L___3: /* CIL Label */ 
    {
#line 1806
    while (1) {
      while_continue___42: /* CIL Label */ ;
      {
#line 1806
      queueing_enabled ++;
#line 1806
      zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1806
      memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
             sizeof(struct globdata ));
#line 1806
      pathpos = saved.gd_pathpos;
#line 1806
      pathbuf = saved.gd_pathbuf;
#line 1806
      glob_pre = saved.gd_glob_pre;
#line 1806
      glob_suf = saved.gd_glob_suf;
      }
      {
#line 1806
      while (1) {
        while_continue___43: /* CIL Label */ ;
#line 1806
        queueing_enabled --;
#line 1806
        if (! queueing_enabled) {
          {
#line 1806
          while (1) {
            while_continue___44: /* CIL Label */ ;
            {
#line 1806
            while (1) {
              while_continue___45: /* CIL Label */ ;
#line 1806
              if (! (queue_front != queue_rear)) {
#line 1806
                goto while_break___45;
              }
              {
#line 1806
              queue_front = (queue_front + 1) % 128;
#line 1806
              oset___8 = signal_setmask(signal_mask_queue[queue_front]);
#line 1806
              zhandler(signal_queue[queue_front]);
#line 1806
              signal_setmask(oset___8);
              }
            }
            while_break___45: /* CIL Label */ ;
            }
#line 1806
            goto while_break___44;
          }
          while_break___44: /* CIL Label */ ;
          }
        }
#line 1806
        goto while_break___43;
      }
      while_break___43: /* CIL Label */ ;
      }
#line 1806
      goto while_break___42;
    }
    while_break___42: /* CIL Label */ ;
    }
#line 1807
    if (! opts[16]) {
#line 1808
      if (! nountok) {
        {
#line 1809
        untokenize(ostr);
        }
      }
      {
#line 1810
      insertlinknode(list, node, (void *)ostr);
      }
#line 1811
      return;
    }
    {
#line 1813
    errflag &= -2;
#line 1814
    zerr("bad pattern: %s", ostr);
    }
#line 1815
    return;
  }
#line 1817
  if (! curglobdata.gd_gf_nsorts) {
#line 1818
    if (shortcircuit) {
#line 1818
      curglobdata.gd_gf_sorts = 8 << 11;
    } else {
#line 1818
      curglobdata.gd_gf_sorts = 1;
    }
#line 1818
    curglobdata.gd_gf_sortlist[0].tp = curglobdata.gd_gf_sorts;
#line 1819
    curglobdata.gd_gf_nsorts = 1;
  }
  {
#line 1823
  curglobdata.gd_matchsz = 16;
#line 1823
  tmp___15 = zalloc((unsigned long )curglobdata.gd_matchsz * sizeof(struct gmatch ));
#line 1823
  curglobdata.gd_matchbuf = (Gmatch )tmp___15;
#line 1823
  curglobdata.gd_matchptr = curglobdata.gd_matchbuf;
#line 1825
  curglobdata.gd_matchct = 0;
#line 1826
  pattrystart();
#line 1830
  scanner(q, shortcircuit);
  }
#line 1833
  if (curglobdata.gd_matchct) {
#line 1834
    badcshglob |= 2;
  } else
#line 1835
  if (! curglobdata.gd_gf_nullglob) {
#line 1836
    if (opts[45]) {
#line 1837
      badcshglob |= 1;
    } else
#line 1838
    if (opts[119]) {
      {
#line 1839
      zerr("no matches found: %s", ostr);
#line 1840
      zfree((void *)curglobdata.gd_matchbuf, 0);
      }
      {
#line 1841
      while (1) {
        while_continue___46: /* CIL Label */ ;
        {
#line 1841
        queueing_enabled ++;
#line 1841
        zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1841
        memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
               sizeof(struct globdata ));
#line 1841
        pathpos = saved.gd_pathpos;
#line 1841
        pathbuf = saved.gd_pathbuf;
#line 1841
        glob_pre = saved.gd_glob_pre;
#line 1841
        glob_suf = saved.gd_glob_suf;
        }
        {
#line 1841
        while (1) {
          while_continue___47: /* CIL Label */ ;
#line 1841
          queueing_enabled --;
#line 1841
          if (! queueing_enabled) {
            {
#line 1841
            while (1) {
              while_continue___48: /* CIL Label */ ;
              {
#line 1841
              while (1) {
                while_continue___49: /* CIL Label */ ;
#line 1841
                if (! (queue_front != queue_rear)) {
#line 1841
                  goto while_break___49;
                }
                {
#line 1841
                queue_front = (queue_front + 1) % 128;
#line 1841
                oset___9 = signal_setmask(signal_mask_queue[queue_front]);
#line 1841
                zhandler(signal_queue[queue_front]);
#line 1841
                signal_setmask(oset___9);
                }
              }
              while_break___49: /* CIL Label */ ;
              }
#line 1841
              goto while_break___48;
            }
            while_break___48: /* CIL Label */ ;
            }
          }
#line 1841
          goto while_break___47;
        }
        while_break___47: /* CIL Label */ ;
        }
#line 1841
        goto while_break___46;
      }
      while_break___46: /* CIL Label */ ;
      }
#line 1842
      return;
    } else {
      {
#line 1845
      tmp___16 = dupstring((char const   *)ostr);
#line 1845
      (curglobdata.gd_matchptr)->name = tmp___16;
#line 1845
      untokenize(tmp___16);
#line 1846
      (curglobdata.gd_matchptr) ++;
#line 1847
      curglobdata.gd_matchct = 1;
      }
    }
  }
#line 1851
  if (! (curglobdata.gd_gf_sortlist[0].tp & (8 << 11))) {
#line 1856
    nexecs = 0;
#line 1858
    lastsortp = curglobdata.gd_gf_sortlist + curglobdata.gd_gf_nsorts;
#line 1862
    sortp = curglobdata.gd_gf_sortlist;
    {
#line 1862
    while (1) {
      while_continue___50: /* CIL Label */ ;
#line 1862
      if (! ((unsigned long )sortp < (unsigned long )lastsortp)) {
#line 1862
        goto while_break___50;
      }
#line 1864
      if (sortp->tp & 4) {
#line 1865
        nexecs ++;
      }
#line 1862
      sortp ++;
    }
    while_break___50: /* CIL Label */ ;
    }
#line 1868
    if (nexecs) {
#line 1870
      iexec = 0;
#line 1873
      tmpptr = curglobdata.gd_matchbuf;
      {
#line 1873
      while (1) {
        while_continue___51: /* CIL Label */ ;
#line 1873
        if (! ((unsigned long )tmpptr < (unsigned long )curglobdata.gd_matchptr)) {
#line 1873
          goto while_break___51;
        }
        {
#line 1874
        tmp___17 = zhalloc((unsigned long )nexecs * sizeof(char *));
#line 1874
        tmpptr->sortstrs = (char **)tmp___17;
#line 1873
        tmpptr ++;
        }
      }
      while_break___51: /* CIL Label */ ;
      }
#line 1877
      sortp = curglobdata.gd_gf_sortlist;
      {
#line 1877
      while (1) {
        while_continue___52: /* CIL Label */ ;
#line 1877
        if (! ((unsigned long )sortp < (unsigned long )lastsortp)) {
#line 1877
          goto while_break___52;
        }
#line 1880
        if (sortp->tp & 4) {
          {
#line 1883
          prog = parse_string(sortp->exec, 0);
          }
#line 1883
          if (prog) {
#line 1884
            ef = errflag;
#line 1884
            lv = (int )lastval;
#line 1887
            tmpptr = curglobdata.gd_matchbuf;
            {
#line 1887
            while (1) {
              while_continue___53: /* CIL Label */ ;
#line 1887
              if (! ((unsigned long )tmpptr < (unsigned long )curglobdata.gd_matchptr)) {
#line 1887
                goto while_break___53;
              }
              {
#line 1888
              tmp___18 = ztrdup((char const   *)tmpptr->name);
#line 1888
              setsparam((char *)"REPLY", tmp___18);
#line 1889
              execode(prog, 1, 0, (char *)"globsort");
              }
#line 1890
              if (! errflag) {
                {
#line 1891
                tmp___19 = getsparam((char *)"REPLY");
#line 1891
                *(tmpptr->sortstrs + iexec) = dupstring((char const   *)tmp___19);
                }
              } else {
#line 1894
                *(tmpptr->sortstrs + iexec) = tmpptr->name;
              }
#line 1887
              tmpptr ++;
            }
            while_break___53: /* CIL Label */ ;
            }
#line 1898
            errflag = ef | (errflag & 2);
#line 1899
            lastval = (zlong )lv;
          } else {
#line 1902
            tmpptr = curglobdata.gd_matchbuf;
            {
#line 1902
            while (1) {
              while_continue___54: /* CIL Label */ ;
#line 1902
              if (! ((unsigned long )tmpptr < (unsigned long )curglobdata.gd_matchptr)) {
#line 1902
                goto while_break___54;
              }
#line 1903
              *(tmpptr->sortstrs + iexec) = tmpptr->name;
#line 1902
              tmpptr ++;
            }
            while_break___54: /* CIL Label */ ;
            }
          }
#line 1906
          iexec ++;
        }
#line 1877
        sortp ++;
      }
      while_break___52: /* CIL Label */ ;
      }
    }
#line 1916
    gmptr = curglobdata.gd_matchbuf;
    {
#line 1916
    while (1) {
      while_continue___55: /* CIL Label */ ;
#line 1916
      if (! ((unsigned long )gmptr < (unsigned long )curglobdata.gd_matchptr)) {
#line 1916
        goto while_break___55;
      }
      {
#line 1918
      tmp___20 = strchr((char const   *)gmptr->name, -125);
      }
#line 1918
      if (tmp___20) {
        {
#line 1921
        gmptr->uname = dupstring((char const   *)gmptr->name);
#line 1922
        unmetafy(gmptr->uname, & dummy___0);
        }
      } else {
#line 1924
        gmptr->uname = gmptr->name;
      }
#line 1916
      gmptr ++;
    }
    while_break___55: /* CIL Label */ ;
    }
    {
#line 1930
    qsort((void *)(curglobdata.gd_matchbuf + 0), (size_t )curglobdata.gd_matchct,
          sizeof(struct gmatch ), (int (*)(void const   * , void const   * ))(& gmatchcmp));
    }
  }
#line 1934
  if (first < 0) {
#line 1935
    first += curglobdata.gd_matchct;
#line 1936
    if (first < 0) {
#line 1937
      first = 0;
    }
  }
#line 1939
  if (end < 0) {
#line 1940
    end += curglobdata.gd_matchct + 1;
  } else
#line 1941
  if (end > curglobdata.gd_matchct) {
#line 1942
    end = curglobdata.gd_matchct;
  }
#line 1943
  end -= first;
#line 1943
  if (end > 0) {
#line 1944
    if (curglobdata.gd_gf_sortlist[0].tp & (8 << 11)) {
#line 1946
      curglobdata.gd_matchptr = ((curglobdata.gd_matchbuf + curglobdata.gd_matchct) - first) - 1;
      {
#line 1947
      while (1) {
        while_continue___56: /* CIL Label */ ;
#line 1947
        tmp___21 = end;
#line 1947
        end --;
#line 1947
        if (! (tmp___21 > 0)) {
#line 1947
          goto while_break___56;
        }
        {
#line 1949
        insert_glob_match(list, node, (curglobdata.gd_matchptr)->name);
#line 1950
        (curglobdata.gd_matchptr) --;
        }
      }
      while_break___56: /* CIL Label */ ;
      }
    } else {
#line 1953
      curglobdata.gd_matchptr = ((curglobdata.gd_matchbuf + curglobdata.gd_matchct) - first) - end;
      {
#line 1954
      while (1) {
        while_continue___57: /* CIL Label */ ;
#line 1954
        tmp___22 = end;
#line 1954
        end --;
#line 1954
        if (! (tmp___22 > 0)) {
#line 1954
          goto while_break___57;
        }
        {
#line 1956
        insert_glob_match(list, node, (curglobdata.gd_matchptr)->name);
#line 1957
        (curglobdata.gd_matchptr) ++;
        }
      }
      while_break___57: /* CIL Label */ ;
      }
    }
  } else
#line 1960
  if (! badcshglob) {
#line 1960
    if (! opts[119]) {
#line 1960
      if (curglobdata.gd_matchct == 1) {
        {
#line 1961
        (curglobdata.gd_matchptr) --;
#line 1961
        insert_glob_match(list, node, (curglobdata.gd_matchptr)->name);
        }
      }
    }
  }
  {
#line 1963
  zfree((void *)curglobdata.gd_matchbuf, 0);
  }
  {
#line 1965
  while (1) {
    while_continue___58: /* CIL Label */ ;
    {
#line 1965
    queueing_enabled ++;
#line 1965
    zfree((void *)pathbuf, curglobdata.gd_pathbufsz);
#line 1965
    memcpy((void */* __restrict  */)(& curglobdata), (void const   */* __restrict  */)(& saved),
           sizeof(struct globdata ));
#line 1965
    pathpos = saved.gd_pathpos;
#line 1965
    pathbuf = saved.gd_pathbuf;
#line 1965
    glob_pre = saved.gd_glob_pre;
#line 1965
    glob_suf = saved.gd_glob_suf;
    }
    {
#line 1965
    while (1) {
      while_continue___59: /* CIL Label */ ;
#line 1965
      queueing_enabled --;
#line 1965
      if (! queueing_enabled) {
        {
#line 1965
        while (1) {
          while_continue___60: /* CIL Label */ ;
          {
#line 1965
          while (1) {
            while_continue___61: /* CIL Label */ ;
#line 1965
            if (! (queue_front != queue_rear)) {
#line 1965
              goto while_break___61;
            }
            {
#line 1965
            queue_front = (queue_front + 1) % 128;
#line 1965
            oset___10 = signal_setmask(signal_mask_queue[queue_front]);
#line 1965
            zhandler(signal_queue[queue_front]);
#line 1965
            signal_setmask(oset___10);
            }
          }
          while_break___61: /* CIL Label */ ;
          }
#line 1965
          goto while_break___60;
        }
        while_break___60: /* CIL Label */ ;
        }
      }
#line 1965
      goto while_break___59;
    }
    while_break___59: /* CIL Label */ ;
    }
#line 1965
    goto while_break___58;
  }
  while_break___58: /* CIL Label */ ;
  }
#line 1966
  return;
}
}
#line 1971 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
char file_type(mode_t filemode ) 
{ 
  int tmp ;

  {
#line 1974
  if ((filemode & 61440U) == 24576U) {
#line 1975
    return ((char )'#');
  } else
#line 1976
  if ((filemode & 61440U) == 8192U) {
#line 1977
    return ((char )'%');
  } else
#line 1978
  if ((filemode & 61440U) == 16384U) {
#line 1979
    return ((char )'/');
  } else
#line 1980
  if ((filemode & 61440U) == 4096U) {
#line 1981
    return ((char )'|');
  } else
#line 1982
  if ((filemode & 61440U) == 40960U) {
#line 1983
    return ((char )'@');
  } else
#line 1984
  if ((filemode & 61440U) == 32768U) {
#line 1985
    if (filemode & (unsigned int )((64 | (64 >> 3)) | ((64 >> 3) >> 3))) {
#line 1985
      tmp = '*';
    } else {
#line 1985
      tmp = ' ';
    }
#line 1985
    return ((char )tmp);
  } else
#line 1986
  if ((filemode & 61440U) == 49152U) {
#line 1987
    return ((char )'=');
  } else {
#line 1989
    return ((char )'?');
  }
}
}
#line 1995 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
int hasbraces(char *str ) 
{ 
  char *lbr ;
  char *mbr ;
  char *comma ;
  int bc ;
  int c ;
  char *tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  char *s ;
  char tmp___2 ;
  int tmp___3 ;

  {
#line 2000
  if (opts[23]) {
#line 2005
    bc = 0;
    {
#line 2005
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2005
      c = (int )*str;
#line 2005
      if (! c) {
#line 2005
        goto while_break;
      }
#line 2006
      if (c == -113) {
#line 2007
        if (! bc) {
#line 2007
          if ((int )*(str + 1) == -112) {
#line 2008
            tmp = str;
#line 2008
            str ++;
#line 2008
            *tmp = (char )'{';
#line 2008
            *str = (char )'}';
          } else {
#line 2010
            bc ++;
          }
        } else {
#line 2010
          bc ++;
        }
      } else
#line 2011
      if (c == -112) {
#line 2012
        if (! bc) {
#line 2013
          *str = (char )'}';
        } else {
#line 2014
          bc --;
#line 2014
          if (! bc) {
#line 2015
            return (1);
          }
        }
      }
#line 2005
      str ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 2017
    return (0);
  }
#line 2020
  comma = (char *)((void *)0);
#line 2020
  mbr = comma;
#line 2020
  lbr = mbr;
  {
#line 2021
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2022
    tmp___0 = str;
#line 2022
    str ++;
    {
#line 2023
    if ((int )*tmp___0 == -113) {
#line 2023
      goto case_neg_113;
    }
#line 2066
    if ((int )*tmp___0 == -112) {
#line 2066
      goto case_neg_112;
    }
#line 2079
    if ((int )*tmp___0 == -102) {
#line 2079
      goto case_neg_102;
    }
#line 2085
    if ((int )*tmp___0 == 0) {
#line 2085
      goto case_0;
    }
#line 2022
    goto switch_break;
    case_neg_113: /* CIL Label */ 
#line 2024
    if (! lbr) {
      {
#line 2025
      tmp___1 = bracechardots(str - 1, (convchar_t *)((void *)0), (convchar_t *)((void *)0));
      }
#line 2025
      if (tmp___1) {
#line 2026
        return (1);
      }
#line 2027
      lbr = str - 1;
#line 2028
      if ((int )*str == 45) {
#line 2029
        str ++;
      }
      {
#line 2030
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 2030
        if (! ((int )typtab[(unsigned char )*str] & 1)) {
#line 2030
          goto while_break___1;
        }
#line 2031
        str ++;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 2032
      if ((int )*str == 46) {
#line 2032
        if ((int )*(str + 1) == 46) {
#line 2033
          str ++;
#line 2033
          str ++;
#line 2034
          if ((int )*str == 45) {
#line 2035
            str ++;
          }
          {
#line 2036
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2036
            if (! ((int )typtab[(unsigned char )*str] & 1)) {
#line 2036
              goto while_break___2;
            }
#line 2037
            str ++;
          }
          while_break___2: /* CIL Label */ ;
          }
#line 2038
          if ((int )*str == -112) {
#line 2038
            if ((int )typtab[(unsigned char )*(lbr + 1)] & 1) {
#line 2040
              return (1);
            } else
#line 2038
            if ((int )typtab[(unsigned char )*(str + -1)] & 1) {
#line 2040
              return (1);
            } else {
#line 2038
              goto _L;
            }
          } else
          _L: /* CIL Label */ 
#line 2041
          if ((int )*str == 46) {
#line 2041
            if ((int )*(str + 1) == 46) {
#line 2042
              str ++;
#line 2042
              str ++;
#line 2043
              if ((int )*str == 45) {
#line 2044
                str ++;
              }
              {
#line 2045
              while (1) {
                while_continue___3: /* CIL Label */ ;
#line 2045
                if (! ((int )typtab[(unsigned char )*str] & 1)) {
#line 2045
                  goto while_break___3;
                }
#line 2046
                str ++;
              }
              while_break___3: /* CIL Label */ ;
              }
#line 2047
              if ((int )*str == -112) {
#line 2047
                if ((int )typtab[(unsigned char )*(lbr + 1)] & 1) {
#line 2049
                  return (1);
                } else
#line 2047
                if ((int )typtab[(unsigned char )*(str + -1)] & 1) {
#line 2049
                  return (1);
                }
              }
            }
          }
        }
      }
    } else {
      {
#line 2053
      str --;
#line 2053
      s = str;
#line 2055
      tmp___3 = skipparens((char)-113, (char)-112, & str);
      }
#line 2055
      if (tmp___3) {
#line 2056
        tmp___2 = (char )'{';
#line 2056
        *s = tmp___2;
#line 2056
        *lbr = tmp___2;
#line 2057
        if (comma) {
#line 2058
          str = comma;
        }
#line 2059
        if (mbr) {
#line 2059
          if ((unsigned long )mbr < (unsigned long )str) {
#line 2060
            str = mbr;
          }
        }
#line 2061
        comma = (char *)((void *)0);
#line 2061
        mbr = comma;
#line 2061
        lbr = mbr;
      } else
#line 2062
      if (! mbr) {
#line 2063
        mbr = s;
      }
    }
#line 2065
    goto switch_break;
    case_neg_112: /* CIL Label */ 
#line 2067
    if (! lbr) {
#line 2068
      *(str + -1) = (char )'}';
    } else
#line 2069
    if (comma) {
#line 2070
      return (1);
    } else {
#line 2072
      *lbr = (char )'{';
#line 2073
      *(str + -1) = (char )'}';
#line 2074
      if (mbr) {
#line 2075
        str = mbr;
      }
#line 2076
      lbr = (char *)((void *)0);
#line 2076
      mbr = lbr;
    }
#line 2078
    goto switch_break;
    case_neg_102: /* CIL Label */ 
#line 2080
    if (! lbr) {
#line 2081
      *(str + -1) = (char )',';
    } else
#line 2082
    if (! comma) {
#line 2083
      comma = str - 1;
    }
#line 2084
    goto switch_break;
    case_0: /* CIL Label */ 
#line 2086
    if (lbr) {
#line 2087
      *lbr = (char )'{';
    }
#line 2088
    if (! mbr) {
#line 2088
      if (! comma) {
#line 2089
        return (0);
      }
    }
#line 2090
    if (comma) {
#line 2091
      str = comma;
    }
#line 2092
    if (mbr) {
#line 2092
      if ((unsigned long )mbr < (unsigned long )str) {
#line 2093
        str = mbr;
      }
    }
#line 2094
    comma = (char *)((void *)0);
#line 2094
    mbr = comma;
#line 2094
    lbr = mbr;
#line 2095
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
}
}
#line 2103 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
int xpandredir(struct redir *fn___0 , LinkList redirtab___0 ) 
{ 
  char *nam ;
  struct redir *ff ;
  int ret ;
  union linkroot fake ;
  struct linknode __n0 ;
  int tmp ;
  char *s ;
  zlong tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 2108
  ret = 0;
  {
#line 2112
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2112
    fake.list.first = & __n0;
#line 2112
    fake.list.last = & __n0;
#line 2112
    fake.list.flags = 0;
#line 2112
    __n0.next = (LinkNode )((void *)0);
#line 2112
    __n0.prev = & fake.node;
#line 2112
    __n0.dat = (void *)fn___0->name;
#line 2112
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 2114
  if (opts[118]) {
#line 2114
    tmp = 0;
  } else {
#line 2114
    tmp = 4;
  }
  {
#line 2114
  prefork(& fake, tmp, (int *)((void *)0));
  }
#line 2116
  if (! errflag) {
#line 2116
    if (opts[118]) {
      {
#line 2117
      globlist(& fake, 0);
      }
    }
  }
#line 2118
  if (errflag) {
#line 2119
    return (0);
  }
#line 2120
  if ((unsigned long )fake.list.first != (unsigned long )((void *)0)) {
#line 2120
    if (! (fake.list.first)->next) {
      {
#line 2122
      s = (char *)(fake.list.first)->dat;
#line 2123
      fn___0->name = s;
#line 2124
      untokenize(s);
      }
#line 2125
      if (fn___0->type == 13) {
#line 2125
        goto _L___2;
      } else
#line 2125
      if (fn___0->type == 14) {
        _L___2: /* CIL Label */ 
#line 2126
        if ((int )*(s + 0) == 45) {
#line 2126
          if (! *(s + 1)) {
#line 2127
            fn___0->type = 15;
          } else {
#line 2126
            goto _L___1;
          }
        } else
        _L___1: /* CIL Label */ 
#line 2128
        if ((int )*(s + 0) == 112) {
#line 2128
          if (! *(s + 1)) {
#line 2129
            fn___0->fd2 = -2;
          } else {
#line 2128
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ 
          {
#line 2131
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 2131
            if (! ((int )typtab[(unsigned char )*s] & 1)) {
#line 2131
              goto while_break___0;
            }
#line 2132
            s ++;
          }
          while_break___0: /* CIL Label */ ;
          }
#line 2133
          if (! *s) {
#line 2133
            if ((unsigned long )s > (unsigned long )fn___0->name) {
              {
#line 2134
              tmp___0 = zstrtol((char const   *)fn___0->name, (char **)((void *)0),
                                10);
#line 2134
              fn___0->fd2 = (int )tmp___0;
              }
            } else {
#line 2133
              goto _L;
            }
          } else
          _L: /* CIL Label */ 
#line 2135
          if (fn___0->type == 13) {
            {
#line 2136
            zerr("file number expected");
            }
          } else {
#line 2138
            fn___0->type = 4;
          }
        }
      }
    } else {
#line 2120
      goto _L___3;
    }
  } else
  _L___3: /* CIL Label */ 
#line 2141
  if (fn___0->type == 13) {
    {
#line 2142
    zerr("file number expected");
    }
  } else {
#line 2144
    if (fn___0->type == 14) {
#line 2145
      fn___0->type = 4;
    }
    {
#line 2146
    while (1) {
      while_continue___1: /* CIL Label */ ;
      {
#line 2146
      tmp___2 = ugetnode(& fake);
#line 2146
      nam = (char *)tmp___2;
      }
#line 2146
      if (! nam) {
#line 2146
        goto while_break___1;
      }
      {
#line 2149
      tmp___1 = zhalloc(sizeof(*ff));
#line 2149
      ff = (struct redir *)tmp___1;
#line 2150
      *ff = *fn___0;
#line 2151
      ff->name = nam;
#line 2152
      insertlinknode(redirtab___0, redirtab___0->list.last, (void *)ff);
#line 2153
      ret = 1;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
  }
#line 2156
  return (ret);
}
}
#line 2172 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int bracechardots(char *str , convchar_t *c1p , convchar_t *c2p ) 
{ 
  convchar_t cstart ;
  convchar_t cend ;
  char *pnext ;
  char *pconv ;
  char convstr[2] ;
  int tmp ;
  int tmp___0 ;
  void *__cil_tmp11 ;

  {
#line 2176
  pnext = str + 1;
#line 2177
  if ((int )typtab[(unsigned char )*pnext] & (1 << 4)) {
#line 2178
    if ((int )*pnext == -113) {
#line 2179
      return (0);
    }
#line 2180
    convstr[0] = ztokens[(int )*pnext - -124];
#line 2181
    convstr[1] = (char )'\000';
#line 2182
    pconv = convstr;
  } else {
#line 2184
    pconv = pnext;
  }
  {
#line 2185
  mb_charinit();
#line 2186
  tmp = mb_metacharlenconv((char const   *)pconv, & cstart);
#line 2186
  pnext += tmp;
  }
#line 2187
  if (cstart == 4294967295U) {
#line 2194
    return (0);
  } else
#line 2187
  if ((int )*(pnext + 0) != 46) {
#line 2194
    return (0);
  } else
#line 2187
  if ((int )*(pnext + 1) != 46) {
#line 2194
    return (0);
  }
#line 2195
  pnext += 2;
#line 2196
  if ((int )typtab[(unsigned char )*pnext] & (1 << 4)) {
#line 2197
    if ((int )*pnext == -113) {
#line 2198
      return (0);
    }
#line 2199
    convstr[0] = ztokens[(int )*pnext - -124];
#line 2200
    convstr[1] = (char )'\000';
#line 2201
    pconv = convstr;
  } else {
#line 2203
    pconv = pnext;
  }
  {
#line 2204
  mb_charinit();
#line 2205
  tmp___0 = mb_metacharlenconv((char const   *)pconv, & cend);
#line 2205
  pnext += tmp___0;
  }
#line 2206
  if (cend == 4294967295U) {
#line 2213
    return (0);
  } else
#line 2206
  if ((int )*pnext != -112) {
#line 2213
    return (0);
  }
#line 2214
  if (c1p) {
#line 2215
    *c1p = cstart;
  }
#line 2216
  if (c2p) {
#line 2217
    *c2p = cend;
  }
#line 2218
  return (1);
}
}
#line 2224 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
void xpandbraces(LinkList list , LinkNode *np ) 
{ 
  LinkNode node ;
  LinkNode last ;
  char *str ;
  char *str3 ;
  char *str2 ;
  int prev ;
  int bc ;
  int comma ;
  int dotdot ;
  char *dots ;
  char *p ;
  char *dots2 ;
  LinkNode olast ;
  zlong rstart ;
  zlong rend ;
  int err ;
  int rev ;
  int rincr ;
  int wid1 ;
  int wid2 ;
  int wid3 ;
  int strp ;
  convchar_t cstart ;
  convchar_t cend ;
  int lenalloc ;
  convchar_t ctmp ;
  size_t tmp ;
  char *ncptr ;
  int nclen ;
  size_t tmp___0 ;
  void *tmp___1 ;
  convchar_t tmp___2 ;
  int tmp___3 ;
  zlong tmp___4 ;
  int minw ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  zlong rt ;
  char ccl[256] ;
  char *p___0 ;
  unsigned char c1 ;
  unsigned char c2 ;
  unsigned int len ;
  unsigned int pl ;
  int lastch ;
  char *tmp___8 ;
  char *tmp___9 ;
  int tmp___10 ;
  size_t tmp___11 ;
  void *tmp___12 ;
  void *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *zz ;
  char *str4 ;
  int cnt ;
  size_t tmp___16 ;
  void *tmp___17 ;
  void *__cil_tmp62 ;
  char *__cil_tmp63 ;

  {
#line 2227
  node = *np;
#line 2227
  last = node->prev;
#line 2228
  str = (char *)node->dat;
#line 2228
  str3 = str;
  {
#line 2231
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2231
    if (! ((int )*str != -113)) {
#line 2231
      goto while_break;
    }
#line 2231
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2233
  str2 = str;
#line 2233
  dotdot = 0;
#line 2233
  comma = dotdot;
#line 2233
  bc = comma;
  {
#line 2233
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2233
    if (! *str2) {
#line 2233
      goto while_break___0;
    }
#line 2234
    if ((int )*str2 == -113) {
#line 2235
      bc ++;
    } else
#line 2236
    if ((int )*str2 == -112) {
#line 2237
      bc --;
#line 2237
      if (bc == 0) {
#line 2238
        goto while_break___0;
      }
    } else
#line 2239
    if (bc == 1) {
#line 2240
      if ((int )*str2 == -102) {
#line 2241
        comma ++;
      } else
#line 2242
      if ((int )*str2 == 46) {
#line 2242
        if ((int )*(str2 + 1) == 46) {
#line 2243
          dotdot ++;
#line 2244
          str2 ++;
        }
      }
    }
#line 2233
    str2 ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2248
  if (! comma) {
#line 2248
    if (dotdot) {
      {
#line 2251
      dots2 = (char *)((void *)0);
#line 2252
      olast = last;
#line 2255
      err = 0;
#line 2255
      rev = 0;
#line 2255
      rincr = 1;
#line 2259
      tmp___3 = bracechardots(str, & cstart, & cend);
      }
#line 2259
      if (tmp___3) {
#line 2264
        if (cend < cstart) {
#line 2265
          ctmp = cend;
#line 2266
          cend = cstart;
#line 2267
          cstart = ctmp;
#line 2268
          rev = 1;
        }
        {
#line 2270
        uremnode(list, node);
#line 2271
        strp = (int )(str - str3);
#line 2272
        tmp = strlen((char const   *)(str2 + 1));
#line 2272
        lenalloc = (int )(((size_t )strp + tmp) + 1UL);
        }
        {
#line 2273
        while (1) {
          while_continue___1: /* CIL Label */ ;
          {
#line 2277
          mb_charinit();
#line 2278
          ncptr = wcs_nicechar((wchar_t )cend, (size_t *)((void *)0), (char **)((void *)0));
#line 2279
          tmp___0 = strlen((char const   *)ncptr);
#line 2279
          nclen = (int )tmp___0;
#line 2280
          tmp___1 = zhalloc((size_t )(lenalloc + nclen));
#line 2280
          p = (char *)tmp___1;
#line 2281
          memcpy((void */* __restrict  */)p, (void const   */* __restrict  */)str3,
                 (size_t )strp);
#line 2282
          memcpy((void */* __restrict  */)(p + strp), (void const   */* __restrict  */)ncptr,
                 (size_t )nclen);
#line 2283
          strcpy((char */* __restrict  */)((p + strp) + nclen), (char const   */* __restrict  */)(str2 + 1));
#line 2290
          insertlinknode(list, last, (void *)p);
          }
#line 2291
          if (rev) {
#line 2292
            last = last->next;
          }
#line 2273
          tmp___2 = cend;
#line 2273
          cend --;
#line 2273
          if (! (tmp___2 > cstart)) {
#line 2273
            goto while_break___1;
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 2294
        *np = olast->next;
#line 2295
        return;
      }
      {
#line 2299
      rstart = zstrtol((char const   *)(str + 1), & dots, 10);
#line 2300
      rend = (zlong )0;
#line 2301
      wid1 = (int )((dots - str) - 1L);
#line 2302
      wid2 = (int )((str2 - dots) - 2L);
#line 2303
      wid3 = 0;
#line 2304
      strp = (int )(str - str3);
      }
#line 2306
      if ((unsigned long )dots == (unsigned long )(str + 1)) {
#line 2307
        err ++;
      } else
#line 2306
      if ((int )*dots != 46) {
#line 2307
        err ++;
      } else
#line 2306
      if ((int )*(dots + 1) != 46) {
#line 2307
        err ++;
      } else {
        {
#line 2310
        rend = zstrtol((char const   *)(dots + 2), & p, 10);
        }
#line 2311
        if ((unsigned long )p == (unsigned long )(dots + 2)) {
#line 2312
          err ++;
        }
#line 2314
        if ((unsigned long )p != (unsigned long )str2) {
#line 2315
          wid2 = (int )((p - dots) - 2L);
#line 2316
          dots2 = p;
#line 2317
          if (dotdot == 2) {
#line 2317
            if ((int )*p == 46) {
#line 2317
              if ((int )*(p + 1) == 46) {
                {
#line 2318
                tmp___4 = zstrtol((char const   *)(p + 2), & p, 10);
#line 2318
                rincr = (int )tmp___4;
#line 2319
                wid3 = (int )((p - dots2) - 2L);
                }
#line 2320
                if ((unsigned long )p != (unsigned long )str2) {
#line 2321
                  err ++;
                } else
#line 2320
                if (! rincr) {
#line 2321
                  err ++;
                }
              } else {
#line 2323
                err ++;
              }
            } else {
#line 2323
              err ++;
            }
          } else {
#line 2323
            err ++;
          }
        }
      }
#line 2326
      if (! err) {
#line 2332
        if ((int )*(str + 1) == 48) {
#line 2332
          tmp___7 = wid1;
        } else
#line 2332
        if ((int )*(str + 1) == 45) {
#line 2332
          if ((int )*(str + 2) == 48) {
#line 2332
            tmp___7 = wid1;
          } else {
#line 2332
            goto _L___0;
          }
        } else {
          _L___0: /* CIL Label */ 
#line 2332
          if ((int )*(dots + 2) == 48) {
#line 2332
            tmp___6 = wid2;
          } else
#line 2332
          if ((int )*(dots + 2) == 45) {
#line 2332
            if ((int )*(dots + 3) == 48) {
#line 2332
              tmp___6 = wid2;
            } else {
#line 2332
              goto _L;
            }
          } else {
            _L: /* CIL Label */ 
#line 2332
            if (dots2) {
#line 2332
              if ((int )*(dots2 + 2) == 48) {
#line 2332
                tmp___5 = wid3;
              } else
#line 2332
              if ((int )*(dots2 + 2) == 45) {
#line 2332
                if ((int )*(dots2 + 3) == 48) {
#line 2332
                  tmp___5 = wid3;
                } else {
#line 2332
                  tmp___5 = 0;
                }
              } else {
#line 2332
                tmp___5 = 0;
              }
            } else {
#line 2332
              tmp___5 = 0;
            }
#line 2332
            tmp___6 = tmp___5;
          }
#line 2332
          tmp___7 = tmp___6;
        }
#line 2332
        minw = tmp___7;
#line 2340
        if (rincr < 0) {
#line 2342
          rincr = - rincr;
#line 2343
          rev = ! rev;
        }
#line 2345
        if (rstart > rend) {
#line 2347
          rt = rend;
#line 2348
          rend = rstart;
#line 2349
          rstart = rt;
#line 2350
          rev = ! rev;
        } else
#line 2351
        if (rincr > 1) {
#line 2354
          rend -= (rend - rstart) % (long )rincr;
        }
        {
#line 2356
        uremnode(list, node);
        }
        {
#line 2357
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 2357
          if (! (rend >= rstart)) {
#line 2357
            goto while_break___2;
          }
          {
#line 2359
          p = dupstring((char const   *)str3);
#line 2363
          sprintf((char */* __restrict  */)(p + strp), (char const   */* __restrict  */)"%0*ld",
                  minw, rend);
#line 2365
          strcat((char */* __restrict  */)(p + strp), (char const   */* __restrict  */)(str2 + 1));
#line 2366
          insertlinknode(list, last, (void *)p);
          }
#line 2367
          if (rev) {
#line 2368
            last = last->next;
          }
#line 2357
          rend -= (zlong )rincr;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 2370
        *np = olast->next;
#line 2371
        return;
      }
    }
  }
#line 2374
  if (! comma) {
#line 2374
    if (opts[23]) {
      {
#line 2382
      lastch = -1;
#line 2384
      uremnode(list, node);
#line 2385
      memset((void *)(ccl), 0, sizeof(ccl) / sizeof(ccl[0]));
#line 2386
      p___0 = str + 1;
      }
      {
#line 2386
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 2386
        if (! ((unsigned long )p___0 < (unsigned long )str2)) {
#line 2386
          goto while_break___3;
        }
#line 2387
        tmp___8 = p___0;
#line 2387
        p___0 ++;
#line 2387
        c1 = (unsigned char )*tmp___8;
#line 2387
        if ((int )typtab[c1] & (1 << 4)) {
#line 2388
          c1 = (unsigned char )ztokens[(int )c1 - 132];
        }
#line 2389
        if ((int )((char )c1) == -125) {
#line 2390
          tmp___9 = p___0;
#line 2390
          p___0 ++;
#line 2390
          c1 = (unsigned char )(32 ^ (int )*tmp___9);
        }
#line 2391
        c2 = (unsigned char )*p___0;
#line 2391
        if ((int )typtab[c2] & (1 << 4)) {
#line 2392
          c2 = (unsigned char )ztokens[(int )c2 - 132];
        }
#line 2393
        if ((int )((char )c2) == -125) {
#line 2394
          c2 = (unsigned char )(32 ^ (int )*(p___0 + 1));
        }
#line 2395
        if ((int )c1 == 45) {
#line 2395
          if (lastch >= 0) {
#line 2395
            if ((unsigned long )p___0 < (unsigned long )str2) {
#line 2395
              if (lastch <= (int )c2) {
                {
#line 2396
                while (1) {
                  while_continue___4: /* CIL Label */ ;
#line 2396
                  if (! (lastch < (int )c2)) {
#line 2396
                    goto while_break___4;
                  }
#line 2397
                  tmp___10 = lastch;
#line 2397
                  lastch ++;
#line 2397
                  ccl[tmp___10] = (char)1;
                }
                while_break___4: /* CIL Label */ ;
                }
#line 2398
                lastch = -1;
              } else {
#line 2400
                lastch = (int )c1;
#line 2400
                ccl[lastch] = (char)1;
              }
            } else {
#line 2400
              lastch = (int )c1;
#line 2400
              ccl[lastch] = (char)1;
            }
          } else {
#line 2400
            lastch = (int )c1;
#line 2400
            ccl[lastch] = (char)1;
          }
        } else {
#line 2400
          lastch = (int )c1;
#line 2400
          ccl[lastch] = (char)1;
        }
      }
      while_break___3: /* CIL Label */ ;
      }
      {
#line 2402
      pl = (unsigned int )(str - str3);
#line 2403
      str2 ++;
#line 2403
      tmp___11 = strlen((char const   *)str2);
#line 2403
      len = (unsigned int )(((size_t )pl + tmp___11) + 2UL);
#line 2404
      p___0 = ccl + 256;
      }
      {
#line 2404
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 2404
        tmp___14 = p___0;
#line 2404
        p___0 --;
#line 2404
        if (! ((unsigned long )tmp___14 > (unsigned long )(ccl))) {
#line 2404
          goto while_break___5;
        }
#line 2405
        if (*p___0) {
#line 2406
          c1 = (unsigned char )(p___0 - ccl);
#line 2407
          if ((int )typtab[c1] & (1 << 12)) {
            {
#line 2408
            tmp___12 = hcalloc((size_t )(len + 1U));
#line 2408
            str = (char *)tmp___12;
#line 2409
            *(str + pl) = (char)-125;
#line 2410
            *(str + (pl + 1U)) = (char )((int )c1 ^ 32);
#line 2411
            strcpy((char */* __restrict  */)((str + pl) + 2), (char const   */* __restrict  */)str2);
            }
          } else {
            {
#line 2413
            tmp___13 = hcalloc((size_t )len);
#line 2413
            str = (char *)tmp___13;
#line 2414
            *(str + pl) = (char )c1;
#line 2415
            strcpy((char */* __restrict  */)((str + pl) + 1), (char const   */* __restrict  */)str2);
            }
          }
          {
#line 2417
          memcpy((void */* __restrict  */)str, (void const   */* __restrict  */)str3,
                 (size_t )pl);
#line 2418
          insertlinknode(list, last, (void *)str);
          }
        }
      }
      while_break___5: /* CIL Label */ ;
      }
#line 2420
      *np = last->next;
#line 2421
      return;
    }
  }
  {
#line 2423
  tmp___15 = str;
#line 2423
  str ++;
#line 2423
  prev = (int )(tmp___15 - str3);
#line 2424
  str2 ++;
#line 2425
  uremnode(list, node);
#line 2426
  node = last;
  }
  {
#line 2430
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 2434
    str4 = str;
#line 2434
    cnt = 0;
    {
#line 2434
    while (1) {
      while_continue___7: /* CIL Label */ ;
#line 2434
      if (! cnt) {
#line 2434
        if ((int )*str != -102) {
#line 2434
          if (! ((int )*str != -112)) {
#line 2434
            goto while_break___7;
          }
        } else {
#line 2434
          goto while_break___7;
        }
      }
#line 2436
      if ((int )*str == -113) {
#line 2437
        cnt ++;
      } else
#line 2438
      if ((int )*str == -112) {
#line 2439
        cnt --;
      }
#line 2434
      str ++;
    }
    while_break___7: /* CIL Label */ ;
    }
    {
#line 2444
    tmp___16 = strlen((char const   *)str2);
#line 2444
    tmp___17 = hcalloc(((size_t )((long )prev + (str - str4)) + tmp___16) + 1UL);
#line 2444
    zz = (char *)tmp___17;
#line 2445
    ztrncpy(zz, str3, prev);
#line 2446
    strncat((char */* __restrict  */)zz, (char const   */* __restrict  */)str4, (size_t )(str - str4));
#line 2447
    strcat((char */* __restrict  */)zz, (char const   */* __restrict  */)str2);
#line 2449
    insertlinknode(list, node, (void *)zz);
#line 2450
    node = node->next;
    }
#line 2451
    if ((int )*str != -112) {
#line 2452
      str ++;
    } else {
#line 2454
      goto while_break___6;
    }
  }
  while_break___6: /* CIL Label */ ;
  }
#line 2456
  *np = last->next;
#line 2457
  return;
}
}
#line 2462 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
int matchpat(char *a , char *b ) 
{ 
  Patprog p ;
  Patprog tmp ;
  int tmp___0 ;
  char *__cil_tmp6 ;

  {
  {
#line 2465
  tmp = patcompile(b, 64, (char **)((void *)0));
#line 2465
  p = tmp;
  }
#line 2467
  if (! p) {
    {
#line 2468
    zerr("bad pattern: %s", b);
    }
#line 2469
    return (0);
  }
  {
#line 2471
  tmp___0 = pattry(p, a);
  }
#line 2471
  return (tmp___0);
}
}
#line 2491 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static char *get_match_ret(Imatchdata imd , int b , int e ) 
{ 
  char buf___7[80] ;
  char *r ;
  char *p ;
  char *rr ;
  char *replstr ;
  int ll ;
  int bl ;
  int t ;
  int add___0 ;
  int fl ;
  int i ;
  Repldata rd ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  size_t tmp___2 ;
  int tmp___3 ;
  size_t tmp___4 ;
  int tmp___5 ;
  size_t tmp___6 ;
  int tmp___7 ;
  size_t tmp___8 ;
  void *tmp___9 ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  char *tmp___17 ;
  char *tmp___18 ;
  char *tmp___19 ;
  void *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;

  {
#line 2494
  replstr = imd->replstr;
#line 2495
  ll = 0;
#line 2495
  bl = 0;
#line 2495
  t = 0;
#line 2495
  add___0 = 0;
#line 2495
  fl = imd->flags;
#line 2498
  p = imd->ustr;
  {
#line 2498
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2498
    if (! ((unsigned long )p < (unsigned long )(imd->ustr + b))) {
#line 2498
      goto while_break;
    }
#line 2499
    if ((int )typtab[(unsigned char )*p] & (1 << 12)) {
#line 2500
      add___0 ++;
    }
#line 2498
    p ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2501
  b += add___0;
  {
#line 2502
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2502
    if (! ((unsigned long )p < (unsigned long )(imd->ustr + e))) {
#line 2502
      goto while_break___0;
    }
#line 2503
    if ((int )typtab[(unsigned char )*p] & (1 << 12)) {
#line 2504
      add___0 ++;
    }
#line 2502
    p ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2505
  e += add___0;
#line 2508
  if (replstr) {
#line 2508
    goto _L;
  } else
#line 2508
  if (fl & 8192) {
    _L: /* CIL Label */ 
#line 2509
    if (fl & 1024) {
      {
#line 2510
      replstr = dupstring((char const   *)replstr);
#line 2511
      singsub(& replstr);
#line 2512
      untokenize(replstr);
      }
    }
#line 2514
    if (fl & 8704) {
#line 2514
      if (imd->repllist) {
#line 2516
        if (fl & 8192) {
          {
#line 2516
          tmp = zalloc(sizeof(*rd));
#line 2516
          tmp___1 = tmp;
          }
        } else {
          {
#line 2516
          tmp___0 = zhalloc(sizeof(*rd));
#line 2516
          tmp___1 = tmp___0;
          }
        }
#line 2516
        rd = (Repldata )tmp___1;
#line 2518
        rd->b = b;
#line 2519
        rd->e = e;
#line 2520
        rd->replstr = replstr;
#line 2521
        if (fl & 8192) {
          {
#line 2522
          zinsertlinknode(imd->repllist, (imd->repllist)->list.last, (void *)rd);
          }
        } else {
          {
#line 2524
          insertlinknode(imd->repllist, (imd->repllist)->list.last, (void *)rd);
          }
        }
#line 2525
        return (imd->mstr);
      }
    }
    {
#line 2527
    tmp___2 = strlen((char const   *)replstr);
#line 2527
    ll = (int )((size_t )ll + tmp___2);
    }
  }
#line 2529
  if (fl & 8) {
#line 2530
    ll += 1 + (e - b);
  }
#line 2531
  if (fl & 16) {
#line 2532
    ll += 1 + (imd->mlen - (e - b));
  }
#line 2533
  if (fl & 32) {
    {
#line 2535
    tmp___3 = mb_metastrlenend(imd->mstr, 0, imd->mstr + b);
#line 2535
    sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%d ",
            tmp___3 + 1);
#line 2536
    tmp___4 = strlen((char const   *)(buf___7));
#line 2536
    bl = (int )tmp___4;
#line 2536
    ll += bl;
    }
  }
#line 2538
  if (fl & 64) {
    {
#line 2540
    tmp___5 = mb_metastrlenend(imd->mstr, 0, imd->mstr + e);
#line 2540
    sprintf((char */* __restrict  */)(buf___7 + bl), (char const   */* __restrict  */)"%d ",
            tmp___5 + 1);
#line 2542
    tmp___6 = strlen((char const   *)(buf___7));
#line 2542
    bl = (int )tmp___6;
#line 2542
    ll += bl;
    }
  }
#line 2544
  if (fl & 128) {
    {
#line 2546
    tmp___7 = mb_metastrlenend(imd->mstr + b, 0, imd->mstr + e);
#line 2546
    sprintf((char */* __restrict  */)(buf___7 + bl), (char const   */* __restrict  */)"%d ",
            tmp___7);
#line 2548
    tmp___8 = strlen((char const   *)(buf___7));
#line 2548
    bl = (int )tmp___8;
#line 2548
    ll += bl;
    }
  }
#line 2550
  if (bl) {
#line 2551
    buf___7[bl - 1] = (char )'\000';
  }
  {
#line 2553
  tmp___9 = hcalloc((size_t )ll);
#line 2553
  r = (char *)tmp___9;
#line 2553
  rr = r;
  }
#line 2555
  if (fl & 8) {
#line 2557
    i = b;
#line 2557
    p = imd->mstr + b;
    {
#line 2557
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2557
      if (! (i < e)) {
#line 2557
        goto while_break___1;
      }
#line 2558
      tmp___10 = rr;
#line 2558
      rr ++;
#line 2558
      tmp___11 = p;
#line 2558
      p ++;
#line 2558
      *tmp___10 = *tmp___11;
#line 2557
      i ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 2559
    t = 1;
  }
#line 2561
  if (fl & 16) {
#line 2564
    if (t) {
#line 2565
      tmp___12 = rr;
#line 2565
      rr ++;
#line 2565
      *tmp___12 = (char )' ';
    }
#line 2567
    i = 0;
#line 2567
    p = imd->mstr;
    {
#line 2567
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 2567
      if (! (i < b)) {
#line 2567
        goto while_break___2;
      }
#line 2568
      tmp___13 = rr;
#line 2568
      rr ++;
#line 2568
      tmp___14 = p;
#line 2568
      p ++;
#line 2568
      *tmp___13 = *tmp___14;
#line 2567
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 2569
    if (replstr) {
#line 2570
      p = replstr;
      {
#line 2570
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 2570
        if (! *p) {
#line 2570
          goto while_break___3;
        }
#line 2571
        tmp___15 = rr;
#line 2571
        rr ++;
#line 2571
        tmp___16 = p;
#line 2571
        p ++;
#line 2571
        *tmp___15 = *tmp___16;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 2572
    i = e;
#line 2572
    p = imd->mstr + e;
    {
#line 2572
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 2572
      if (! (i < imd->mlen)) {
#line 2572
        goto while_break___4;
      }
#line 2573
      tmp___17 = rr;
#line 2573
      rr ++;
#line 2573
      tmp___18 = p;
#line 2573
      p ++;
#line 2573
      *tmp___17 = *tmp___18;
#line 2572
      i ++;
    }
    while_break___4: /* CIL Label */ ;
    }
#line 2574
    t = 1;
  }
#line 2576
  *rr = (char )'\000';
#line 2577
  if (bl) {
#line 2580
    if (t) {
#line 2581
      tmp___19 = rr;
#line 2581
      rr ++;
#line 2581
      *tmp___19 = (char )' ';
    }
    {
#line 2582
    strcpy((char */* __restrict  */)rr, (char const   */* __restrict  */)(buf___7));
    }
  }
#line 2584
  return (r);
}
}
#line 2587 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static Patprog compgetmatch(char *pat , int *flp , char **replstrp ) 
{ 
  Patprog p ;
  int patflags___0 ;
  int tmp ;
  char *__cil_tmp7 ;

  {
#line 2603
  if (*replstrp) {
#line 2603
    tmp = 0;
  } else {
#line 2603
    tmp = 64;
  }
#line 2603
  patflags___0 = 136 | tmp;
#line 2610
  if (*flp & 256) {
#line 2611
    patflags___0 &= -9;
  } else
#line 2610
  if (*flp & 1) {
#line 2610
    if (! (*flp & 4)) {
#line 2611
      patflags___0 &= -9;
    }
  }
  {
#line 2612
  p = patcompile(pat, patflags___0, (char **)((void *)0));
  }
#line 2613
  if (! p) {
    {
#line 2614
    zerr("bad pattern: %s", pat);
    }
#line 2615
    return ((Patprog )((void *)0));
  }
#line 2617
  if (*replstrp) {
#line 2618
    if (p->patnpar) {
#line 2623
      *flp |= 1024;
    } else
#line 2618
    if (p->globend & 2048) {
#line 2623
      *flp |= 1024;
    } else {
      {
#line 2625
      singsub(replstrp);
#line 2626
      untokenize(*replstrp);
      }
    }
  }
#line 2630
  return (p);
}
}
#line 2647 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
int getmatch(char **sp___0 , char *pat , int fl , int n , char *replstr ) 
{ 
  Patprog p ;
  int tmp ;

  {
  {
#line 2652
  p = compgetmatch(pat, & fl, & replstr);
  }
#line 2652
  if (! p) {
#line 2653
    return (1);
  }
  {
#line 2655
  tmp = igetmatch(sp___0, p, fl, n, replstr, (LinkList *)((void *)0));
  }
#line 2655
  return (tmp);
}
}
#line 2664 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
void getmatcharr(char ***ap , char *pat , int fl , int n , char *replstr ) 
{ 
  char **arr ;
  char **pp ;
  Patprog p ;
  int tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  char **tmp___3 ;

  {
  {
#line 2667
  arr = *ap;
#line 2670
  p = compgetmatch(pat, & fl, & replstr);
  }
#line 2670
  if (! p) {
#line 2671
    return;
  }
  {
#line 2673
  tmp = arrlen(arr);
#line 2673
  tmp___0 = hcalloc(sizeof(char *) * (unsigned long )(tmp + 1));
#line 2673
  pp = (char **)tmp___0;
#line 2673
  *ap = pp;
  }
  {
#line 2674
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2674
    tmp___3 = arr;
#line 2674
    arr ++;
#line 2674
    tmp___2 = *tmp___3;
#line 2674
    *pp = tmp___2;
#line 2674
    if (! tmp___2) {
#line 2674
      goto while_break;
    }
    {
#line 2675
    tmp___1 = igetmatch(pp, p, fl, n, replstr, (LinkList *)((void *)0));
    }
#line 2675
    if (tmp___1) {
#line 2676
      pp ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2677
  return;
}
}
#line 2686 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
int getmatchlist(char *str , Patprog p , LinkList *repllistp ) 
{ 
  char **sp___0 ;
  int tmp ;

  {
  {
#line 2689
  sp___0 = & str;
#line 2699
  tmp = igetmatch(sp___0, p, 8710, 0, (char *)((void *)0), repllistp);
  }
#line 2699
  return (tmp);
}
}
#line 2703 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void freerepldata(void *ptr___0 ) 
{ 


  {
  {
#line 2706
  zfree(ptr___0, (int )sizeof(struct repldata ));
  }
#line 2707
  return;
}
}
#line 2710 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
void freematchlist(LinkList repllist ) 
{ 


  {
  {
#line 2713
  freelinklist(repllist, & freerepldata);
  }
#line 2714
  return;
}
}
#line 2717 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void set_pat_start(Patprog p , int offs ) 
{ 


  {
#line 2727
  if (offs) {
#line 2728
    p->flags |= 512;
  } else {
#line 2730
    p->flags &= -513;
  }
#line 2731
  return;
}
}
#line 2734 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void set_pat_end(Patprog p , char null_me ) 
{ 


  {
#line 2743
  if (null_me) {
#line 2744
    p->flags |= 1024;
  } else {
#line 2746
    p->flags &= -1025;
  }
#line 2747
  return;
}
}
#line 2759 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int iincchar(char **tp , int left ) 
{ 
  char *t ;
  int mbclen ;
  int tmp ;

  {
  {
#line 2761
  t = *tp;
#line 2762
  tmp = mb_charlenconv((char const   *)t, left, (wint_t *)((void *)0));
#line 2762
  mbclen = tmp;
#line 2763
  *tp = t + mbclen;
  }
#line 2765
  return (mbclen);
}
}
#line 2769 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int igetmatch(char **sp___0 , Patprog p , int fl , int n , char *replstr ,
                     LinkList *repllistp ) 
{ 
  char *s ;
  char *t ;
  char *tmatch ;
  char *send ;
  int ioff ;
  int l ;
  size_t tmp ;
  int matched ;
  int umltot ;
  int tmp___0 ;
  int umlen ;
  int nmatches ;
  struct patstralloc patstralloc ;
  struct imatchdata imd ;
  char *muststr ;
  int tmp___1 ;
  int i ;
  int tmp___2 ;
  int tmp___3 ;
  int mlen ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  LinkList tmp___15 ;
  LinkList tmp___16 ;
  char *mpos ;
  int tmp___17 ;
  char *ptr___0 ;
  int umlen2 ;
  int tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  int tmp___24 ;
  int tmp___25 ;
  int tmp___26 ;
  int tmp___27 ;
  int tmp___28 ;
  int tmp___29 ;
  char *mpos___0 ;
  int tmp___30 ;
  int tmp___31 ;
  int tmp___32 ;
  int tmp___33 ;
  int tmp___34 ;
  int tmp___35 ;
  int tmp___36 ;
  int tmp___37 ;
  LinkNode nd ;
  Repldata rd ;
  int lleft ;
  char *ptr___1 ;
  char *start ;
  int i___0 ;
  size_t tmp___38 ;
  void *tmp___39 ;
  char *tmp___40 ;
  char *tmp___41 ;
  int tmp___42 ;

  {
  {
#line 2773
  s = *sp___0;
#line 2786
  tmp = strlen((char const   *)*sp___0);
#line 2786
  l = (int )tmp;
#line 2786
  matched = 1;
#line 2786
  tmp___0 = ztrlen((char const   *)*sp___0);
#line 2786
  umltot = tmp___0;
#line 2791
  patallocstr(p, s, l, umltot, 1, & patstralloc);
#line 2792
  s = patstralloc.alloced;
#line 2794
  send = s + umltot;
#line 2796
  imd.mstr = *sp___0;
#line 2797
  imd.mlen = l;
#line 2798
  imd.ustr = s;
#line 2799
  imd.ulen = umltot;
#line 2800
  imd.flags = fl;
#line 2801
  imd.replstr = replstr;
#line 2802
  imd.repllist = (LinkList )((void *)0);
  }
#line 2805
  if (p->mustoff) {
#line 2807
    muststr = (char *)p + p->mustoff;
#line 2809
    matched = 0;
#line 2810
    if (p->patmlen <= (long )umltot) {
#line 2812
      t = s;
      {
#line 2812
      while (1) {
        while_continue: /* CIL Label */ ;
#line 2812
        if (! ((unsigned long )t <= (unsigned long )(send - p->patmlen))) {
#line 2812
          goto while_break;
        }
        {
#line 2814
        tmp___1 = memcmp((void const   *)muststr, (void const   *)t, (size_t )p->patmlen);
        }
#line 2814
        if (! tmp___1) {
#line 2815
          matched = 1;
#line 2816
          goto while_break;
        }
#line 2812
        t ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
#line 2823
  p->flags &= -1537;
#line 2825
  if (fl & 256) {
#line 2826
    if (matched) {
      {
#line 2826
      tmp___2 = pattrylen(p, s, umltot, 0, & patstralloc, 0);
      }
#line 2826
      if (tmp___2) {
#line 2826
        tmp___3 = 1;
      } else {
#line 2826
        tmp___3 = 0;
      }
    } else {
#line 2826
      tmp___3 = 0;
    }
#line 2826
    i = tmp___3;
#line 2827
    if (! i) {
#line 2829
      umltot = 0;
#line 2830
      imd.replstr = (char *)((void *)0);
    }
    {
#line 2832
    *sp___0 = get_match_ret(& imd, 0, umltot);
    }
#line 2833
    if (! *(*sp___0)) {
#line 2833
      if (fl & 8) {
#line 2833
        if (! i) {
#line 2834
          return (0);
        } else {
#line 2833
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 2833
      if (fl & 16) {
#line 2833
        if (i) {
#line 2834
          return (0);
        }
      }
    }
#line 2835
    return (1);
  }
#line 2837
  if (matched) {
    {
#line 2855
    if ((fl & 7) == 2) {
#line 2855
      goto case_2;
    }
#line 2855
    if ((fl & 7) == 0) {
#line 2855
      goto case_2;
    }
#line 2884
    if ((fl & 7) == 1) {
#line 2884
      goto case_1;
    }
#line 2916
    if ((fl & 7) == 3) {
#line 2916
      goto case_3;
    }
#line 2938
    if ((fl & 7) == 4) {
#line 2938
      goto case_4;
    }
#line 2947
    if ((fl & 7) == 6) {
#line 2947
      goto case_6;
    }
#line 3033
    if ((fl & 7) == 7) {
#line 3033
      goto case_7;
    }
#line 3033
    if ((fl & 7) == 5) {
#line 3033
      goto case_7;
    }
#line 2853
    goto switch_break;
    case_2: /* CIL Label */ 
    case_0: /* CIL Label */ 
    {
#line 2860
    tmp___7 = pattrylen(p, s, umltot, 0, & patstralloc, 0);
    }
#line 2860
    if (tmp___7) {
      {
#line 2862
      tmp___4 = patmatchlen();
#line 2862
      mlen = tmp___4;
      }
#line 2863
      if (! (fl & 2)) {
#line 2863
        if (! (p->flags & 32)) {
          {
#line 2864
          send = s + mlen;
#line 2869
          mb_charinit();
#line 2870
          t = s;
#line 2870
          umlen = 0;
          }
          {
#line 2870
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 2870
            if (! ((unsigned long )t < (unsigned long )send)) {
#line 2870
              goto while_break___0;
            }
            {
#line 2871
            set_pat_end(p, *t);
#line 2872
            tmp___5 = pattrylen(p, s, umlen, 0, & patstralloc, 0);
            }
#line 2872
            if (tmp___5) {
              {
#line 2873
              mlen = patmatchlen();
              }
#line 2874
              goto while_break___0;
            }
            {
#line 2876
            tmp___6 = iincchar(& t, (int )(send - t));
#line 2876
            umlen += tmp___6;
            }
          }
          while_break___0: /* CIL Label */ ;
          }
        }
      }
      {
#line 2879
      *sp___0 = get_match_ret(& imd, 0, mlen);
      }
#line 2880
      return (1);
    }
#line 2882
    goto switch_break;
    case_1: /* CIL Label */ 
    {
#line 2895
    mb_charinit();
#line 2896
    tmatch = (char *)((void *)0);
#line 2897
    ioff = 0;
#line 2897
    t = s;
#line 2897
    umlen = umltot;
    }
    {
#line 2897
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 2897
      if (! ((unsigned long )t < (unsigned long )send)) {
#line 2897
        goto while_break___1;
      }
      {
#line 2898
      set_pat_start(p, (int )(t - s));
#line 2899
      tmp___8 = pattrylen(p, t, umlen, 0, & patstralloc, ioff);
      }
#line 2899
      if (tmp___8) {
#line 2900
        tmatch = t;
      }
#line 2901
      if (fl & 4096) {
#line 2902
        goto while_break___1;
      }
      {
#line 2903
      tmp___9 = iincchar(& t, (int )(send - t));
#line 2903
      umlen -= tmp___9;
#line 2897
      ioff ++;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 2905
    if (tmatch) {
      {
#line 2906
      *sp___0 = get_match_ret(& imd, (int )(tmatch - s), umltot);
      }
#line 2907
      return (1);
    }
#line 2909
    if (! (fl & 4096)) {
      {
#line 2909
      tmp___10 = pattrylen(p, s + umltot, 0, 0, & patstralloc, ioff);
      }
#line 2909
      if (tmp___10) {
        {
#line 2911
        *sp___0 = get_match_ret(& imd, umltot, umltot);
        }
#line 2912
        return (1);
      }
    }
#line 2914
    goto switch_break;
    case_3: /* CIL Label */ 
    {
#line 2920
    mb_charinit();
#line 2921
    ioff = 0;
#line 2921
    t = s;
#line 2921
    umlen = umltot;
    }
    {
#line 2921
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 2921
      if (! ((unsigned long )t < (unsigned long )send)) {
#line 2921
        goto while_break___2;
      }
      {
#line 2922
      set_pat_start(p, (int )(t - s));
#line 2923
      tmp___11 = pattrylen(p, t, umlen, 0, & patstralloc, ioff);
      }
#line 2923
      if (tmp___11) {
        {
#line 2924
        *sp___0 = get_match_ret(& imd, (int )(t - s), umltot);
        }
#line 2925
        return (1);
      }
#line 2927
      if (fl & 4096) {
#line 2928
        goto while_break___2;
      }
      {
#line 2929
      tmp___12 = iincchar(& t, (int )(send - t));
#line 2929
      umlen -= tmp___12;
#line 2921
      ioff ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
#line 2931
    if (! (fl & 4096)) {
      {
#line 2931
      tmp___13 = pattrylen(p, send, 0, 0, & patstralloc, ioff);
      }
#line 2931
      if (tmp___13) {
        {
#line 2933
        *sp___0 = get_match_ret(& imd, umltot, umltot);
        }
#line 2934
        return (1);
      }
    }
#line 2936
    goto switch_break;
    case_4: /* CIL Label */ 
    {
#line 2940
    set_pat_start(p, l);
    }
#line 2941
    if (! (fl & 512)) {
      {
#line 2941
      tmp___14 = pattrylen(p, send, 0, 0, & patstralloc, 0);
      }
#line 2941
      if (tmp___14) {
#line 2941
        n --;
#line 2941
        if (! n) {
          {
#line 2944
          *sp___0 = get_match_ret(& imd, 0, 0);
          }
#line 2945
          return (1);
        }
      }
    }
    case_6: /* CIL Label */ 
#line 2949
    t = s;
#line 2950
    if (fl & 512) {
#line 2951
      if (fl & 8192) {
        {
#line 2951
        tmp___15 = znewlinklist();
#line 2951
        imd.repllist = tmp___15;
        }
      } else {
        {
#line 2951
        tmp___16 = newlinklist();
#line 2951
        imd.repllist = tmp___16;
        }
      }
#line 2952
      if (repllistp) {
#line 2953
        *repllistp = imd.repllist;
      }
    }
    {
#line 2955
    ioff = 0;
#line 2956
    umlen = umltot;
#line 2957
    mb_charinit();
    }
    {
#line 2958
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 2960
      matched = 0;
      {
#line 2961
      while (1) {
        while_continue___4: /* CIL Label */ ;
#line 2961
        if (! ((unsigned long )t < (unsigned long )send)) {
#line 2961
          goto while_break___4;
        }
        {
#line 2963
        set_pat_start(p, (int )(t - s));
#line 2964
        tmp___24 = pattrylen(p, t, umlen, 0, & patstralloc, ioff);
        }
#line 2964
        if (tmp___24) {
          {
#line 2965
          tmp___17 = patmatchlen();
#line 2965
          mpos = t + tmp___17;
          }
#line 2966
          if (! (fl & 2)) {
#line 2966
            if (! (p->flags & 32)) {
#line 2976
              ptr___0 = t;
#line 2976
              umlen2 = 0;
              {
#line 2976
              while (1) {
                while_continue___5: /* CIL Label */ ;
#line 2976
                if (! ((unsigned long )ptr___0 < (unsigned long )mpos)) {
#line 2976
                  goto while_break___5;
                }
                {
#line 2977
                set_pat_end(p, *ptr___0);
#line 2978
                tmp___19 = pattrylen(p, t, umlen2, 0, & patstralloc, ioff);
                }
#line 2978
                if (tmp___19) {
                  {
#line 2980
                  tmp___18 = patmatchlen();
#line 2980
                  mpos = t + tmp___18;
                  }
#line 2981
                  goto while_break___5;
                }
                {
#line 2983
                tmp___20 = iincchar(& ptr___0, (int )(mpos - ptr___0));
#line 2983
                umlen2 += tmp___20;
                }
              }
              while_break___5: /* CIL Label */ ;
              }
            }
          }
#line 2986
          n --;
#line 2986
          if (n) {
#line 2986
            if (n <= 0) {
#line 2986
              if (fl & 512) {
                _L___0: /* CIL Label */ 
                {
#line 2987
                *sp___0 = get_match_ret(& imd, (int )(t - s), (int )(mpos - s));
                }
#line 2988
                if ((unsigned long )mpos == (unsigned long )t) {
                  {
#line 2989
                  tmp___21 = mb_charlenconv((char const   *)mpos, (int )(send - mpos),
                                            (wint_t *)((void *)0));
#line 2989
                  mpos += tmp___21;
                  }
                }
              }
            }
          } else {
#line 2986
            goto _L___0;
          }
#line 2991
          if (! (fl & 512)) {
#line 2992
            if (n) {
              {
#line 2999
              tmp___22 = iincchar(& t, (int )(send - t));
#line 2999
              umlen -= tmp___22;
              }
#line 3000
              goto __Cont;
            } else {
#line 3002
              return (1);
            }
          }
#line 3009
          matched = 1;
          {
#line 3010
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 3010
            if (! ((unsigned long )t < (unsigned long )mpos)) {
#line 3010
              goto while_break___6;
            }
            {
#line 3011
            ioff ++;
#line 3012
            tmp___23 = iincchar(& t, (int )(send - t));
#line 3012
            umlen -= tmp___23;
            }
          }
          while_break___6: /* CIL Label */ ;
          }
#line 3014
          goto while_break___4;
        }
        {
#line 3016
        tmp___25 = iincchar(& t, (int )(send - t));
#line 3016
        umlen -= tmp___25;
        }
        __Cont: /* CIL Label */ 
#line 2961
        ioff ++;
      }
      while_break___4: /* CIL Label */ ;
      }
#line 2958
      if (! matched) {
#line 2958
        goto while_break___3;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
    {
#line 3024
    set_pat_start(p, l);
    }
#line 3025
    if ((fl & 514) == 2) {
      {
#line 3025
      tmp___26 = pattrylen(p, send, 0, 0, & patstralloc, 0);
      }
#line 3025
      if (tmp___26) {
#line 3025
        n --;
#line 3025
        if (! n) {
          {
#line 3027
          *sp___0 = get_match_ret(& imd, 0, 0);
          }
#line 3028
          return (1);
        }
      }
    }
#line 3030
    goto switch_break;
    case_7: /* CIL Label */ 
    case_5: /* CIL Label */ 
#line 3035
    if (! (fl & 2)) {
      {
#line 3036
      set_pat_start(p, l);
#line 3037
      tmp___27 = pattrylen(p, send, 0, 0, & patstralloc, umltot);
      }
#line 3037
      if (tmp___27) {
#line 3037
        n --;
#line 3037
        if (! n) {
          {
#line 3039
          *sp___0 = get_match_ret(& imd, umltot, umltot);
          }
#line 3040
          return (1);
        }
      }
    }
    {
#line 3053
    nmatches = 0;
#line 3054
    tmatch = (char *)((void *)0);
#line 3055
    mb_charinit();
#line 3056
    ioff = 0;
#line 3056
    t = s;
#line 3056
    umlen = umltot;
    }
    {
#line 3056
    while (1) {
      while_continue___7: /* CIL Label */ ;
#line 3056
      if (! ((unsigned long )t < (unsigned long )send)) {
#line 3056
        goto while_break___7;
      }
      {
#line 3057
      set_pat_start(p, (int )(t - s));
#line 3058
      tmp___28 = pattrylen(p, t, umlen, 0, & patstralloc, ioff);
      }
#line 3058
      if (tmp___28) {
#line 3059
        nmatches ++;
#line 3060
        tmatch = t;
      }
      {
#line 3062
      tmp___29 = iincchar(& t, (int )(send - t));
#line 3062
      umlen -= tmp___29;
#line 3056
      ioff ++;
      }
    }
    while_break___7: /* CIL Label */ ;
    }
#line 3064
    if (nmatches) {
#line 3066
      if (n > 1) {
        {
#line 3070
        n = nmatches - n;
#line 3071
        mb_charinit();
#line 3072
        ioff = 0;
#line 3072
        t = s;
#line 3072
        umlen = umltot;
        }
        {
#line 3072
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 3072
          if (! ((unsigned long )t < (unsigned long )send)) {
#line 3072
            goto while_break___8;
          }
          {
#line 3073
          set_pat_start(p, (int )(t - s));
#line 3074
          tmp___30 = pattrylen(p, t, umlen, 0, & patstralloc, ioff);
          }
#line 3074
          if (tmp___30) {
#line 3074
            tmp___31 = n;
#line 3074
            n --;
#line 3074
            if (! tmp___31) {
#line 3076
              tmatch = t;
#line 3077
              goto while_break___8;
            }
          }
          {
#line 3079
          tmp___32 = iincchar(& t, (int )(send - t));
#line 3079
          umlen -= tmp___32;
#line 3072
          ioff ++;
          }
        }
        while_break___8: /* CIL Label */ ;
        }
      }
      {
#line 3082
      tmp___33 = patmatchlen();
#line 3082
      mpos___0 = tmatch + tmp___33;
      }
#line 3084
      if (! (fl & 2)) {
#line 3084
        if (! (p->flags & 32)) {
#line 3085
          t = tmatch;
#line 3085
          umlen = 0;
          {
#line 3085
          while (1) {
            while_continue___9: /* CIL Label */ ;
#line 3085
            if (! ((unsigned long )t < (unsigned long )mpos___0)) {
#line 3085
              goto while_break___9;
            }
            {
#line 3086
            set_pat_end(p, *t);
#line 3087
            tmp___35 = pattrylen(p, tmatch, umlen, 0, & patstralloc, ioff);
            }
#line 3087
            if (tmp___35) {
              {
#line 3089
              tmp___34 = patmatchlen();
#line 3089
              mpos___0 = tmatch + tmp___34;
              }
#line 3090
              goto while_break___9;
            }
            {
#line 3092
            tmp___36 = iincchar(& t, (int )(mpos___0 - t));
#line 3092
            umlen += tmp___36;
            }
          }
          while_break___9: /* CIL Label */ ;
          }
        }
      }
      {
#line 3095
      *sp___0 = get_match_ret(& imd, (int )(tmatch - s), (int )(mpos___0 - s));
      }
#line 3096
      return (1);
    }
    {
#line 3098
    set_pat_start(p, l);
    }
#line 3099
    if (fl & 2) {
      {
#line 3099
      tmp___37 = pattrylen(p, send, 0, 0, & patstralloc, umltot);
      }
#line 3099
      if (tmp___37) {
#line 3099
        n --;
#line 3099
        if (! n) {
          {
#line 3102
          *sp___0 = get_match_ret(& imd, umltot, umltot);
          }
#line 3103
          return (1);
        }
      }
    }
#line 3105
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
#line 3109
  if (imd.repllist) {
#line 3109
    if ((unsigned long )(imd.repllist)->list.first != (unsigned long )((void *)0)) {
#line 3121
      s = *sp___0;
#line 3122
      if (! (fl & 8192)) {
#line 3123
        lleft = 0;
#line 3124
        i___0 = 0;
#line 3125
        nd = (imd.repllist)->list.first;
        {
#line 3125
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 3125
          if (! nd) {
#line 3125
            goto while_break___10;
          }
          {
#line 3126
          rd = (Repldata )nd->dat;
#line 3127
          lleft += rd->b - i___0;
#line 3128
          tmp___38 = strlen((char const   *)rd->replstr);
#line 3128
          lleft = (int )((size_t )lleft + tmp___38);
#line 3129
          i___0 = rd->e;
#line 3125
          nd = nd->next;
          }
        }
        while_break___10: /* CIL Label */ ;
        }
        {
#line 3131
        lleft += l - i___0;
#line 3132
        tmp___39 = zhalloc((size_t )(lleft + 1));
#line 3132
        t = (char *)tmp___39;
#line 3132
        start = t;
#line 3133
        i___0 = 0;
#line 3134
        nd = (imd.repllist)->list.first;
        }
        {
#line 3134
        while (1) {
          while_continue___11: /* CIL Label */ ;
#line 3134
          if (! nd) {
#line 3134
            goto while_break___11;
          }
          {
#line 3135
          rd = (Repldata )nd->dat;
#line 3136
          memcpy((void */* __restrict  */)t, (void const   */* __restrict  */)(s + i___0),
                 (size_t )(rd->b - i___0));
#line 3137
          t += rd->b - i___0;
#line 3138
          ptr___1 = rd->replstr;
          }
          {
#line 3139
          while (1) {
            while_continue___12: /* CIL Label */ ;
#line 3139
            if (! *ptr___1) {
#line 3139
              goto while_break___12;
            }
#line 3140
            tmp___40 = t;
#line 3140
            t ++;
#line 3140
            tmp___41 = ptr___1;
#line 3140
            ptr___1 ++;
#line 3140
            *tmp___40 = *tmp___41;
          }
          while_break___12: /* CIL Label */ ;
          }
#line 3141
          i___0 = rd->e;
#line 3134
          nd = nd->next;
        }
        while_break___11: /* CIL Label */ ;
        }
        {
#line 3143
        memcpy((void */* __restrict  */)t, (void const   */* __restrict  */)(s + i___0),
               (size_t )(l - i___0));
#line 3144
        *(start + lleft) = (char )'\000';
#line 3145
        *sp___0 = start;
        }
      }
#line 3147
      return (1);
    }
  }
#line 3149
  if (fl & 8192) {
#line 3150
    return (0);
  }
  {
#line 3154
  imd.replstr = (char *)((void *)0);
#line 3155
  imd.repllist = (LinkList )((void *)0);
#line 3156
  *sp___0 = get_match_ret(& imd, 0, 0);
  }
#line 3157
  if (fl & 2048) {
#line 3157
    tmp___42 = 0;
  } else {
#line 3157
    tmp___42 = 1;
  }
#line 3157
  return (tmp___42);
}
}
#line 3466 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
void tokenize(char *s ) 
{ 


  {
  {
#line 3469
  zshtokenize(s, 0);
  }
#line 3470
  return;
}
}
#line 3483 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
void shtokenize(char *s ) 
{ 
  int flags ;

  {
#line 3486
  flags = 1;
#line 3487
  if (opts[158]) {
#line 3488
    flags |= 2;
  }
  {
#line 3489
  zshtokenize(s, flags);
  }
#line 3490
  return;
}
}
#line 3493 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static void zshtokenize(char *s , int flags ) 
{ 
  char *t ;
  int bslash ;

  {
#line 3497
  bslash = 0;
  {
#line 3499
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3499
    if (! *s) {
#line 3499
      goto while_break;
    }
    cont: 
    {
#line 3502
    if ((int )*s == -125) {
#line 3502
      goto case_neg_125;
    }
#line 3508
    if ((int )*s == 92) {
#line 3508
      goto case_92;
    }
#line 3508
    if ((int )*s == -96) {
#line 3508
      goto case_92;
    }
#line 3508
    if ((int )*s == -97) {
#line 3508
      goto case_92;
    }
#line 3515
    if ((int )*s == 60) {
#line 3515
      goto case_60;
    }
#line 3534
    if ((int )*s == 41) {
#line 3534
      goto case_41;
    }
#line 3534
    if ((int )*s == 124) {
#line 3534
      goto case_41;
    }
#line 3534
    if ((int )*s == 40) {
#line 3534
      goto case_41;
    }
#line 3548
    if ((int )*s == 33) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 45) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 61) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 63) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 42) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 93) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 91) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 126) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 35) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 94) {
#line 3548
      goto case_33;
    }
#line 3548
    if ((int )*s == 62) {
#line 3548
      goto case_33;
    }
#line 3501
    goto switch_break;
    case_neg_125: /* CIL Label */ 
#line 3504
    s ++;
#line 3505
    goto switch_break;
    case_92: /* CIL Label */ 
    case_neg_96: /* CIL Label */ 
    case_neg_97: /* CIL Label */ 
#line 3509
    if (bslash) {
#line 3510
      if (flags & 1) {
#line 3510
        *(s + -1) = (char)-96;
      } else {
#line 3510
        *(s + -1) = (char)-97;
      }
#line 3511
      goto switch_break;
    }
#line 3513
    bslash = 1;
#line 3514
    goto __Cont;
    case_60: /* CIL Label */ 
#line 3516
    if (flags & 2) {
#line 3517
      goto switch_break;
    }
#line 3518
    if (bslash) {
#line 3519
      if (flags & 1) {
#line 3519
        *(s + -1) = (char)-96;
      } else {
#line 3519
        *(s + -1) = (char)-97;
      }
#line 3520
      goto switch_break;
    }
#line 3522
    t = s;
    {
#line 3523
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 3523
      s ++;
#line 3523
      if (! ((int )typtab[(unsigned char )*s] & 1)) {
#line 3523
        goto while_break___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 3524
    if ((int )*s != 45) {
#line 3525
      goto cont;
    }
    {
#line 3526
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 3526
      s ++;
#line 3526
      if (! ((int )typtab[(unsigned char )*s] & 1)) {
#line 3526
        goto while_break___1;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 3527
    if ((int )*s != 62) {
#line 3528
      goto cont;
    }
#line 3529
    *t = (char)-108;
#line 3530
    *s = (char)-107;
#line 3531
    goto switch_break;
    case_41: /* CIL Label */ 
    case_124: /* CIL Label */ 
    case_40: /* CIL Label */ 
#line 3535
    if (flags & 2) {
#line 3536
      goto switch_break;
    }
    case_33: /* CIL Label */ 
    case_45: /* CIL Label */ 
    case_61: /* CIL Label */ 
    case_63: /* CIL Label */ 
    case_42: /* CIL Label */ 
    case_93: /* CIL Label */ 
    case_91: /* CIL Label */ 
    case_126: /* CIL Label */ 
    case_35: /* CIL Label */ 
    case_94: /* CIL Label */ 
    case_62: /* CIL Label */ 
#line 3549
    t = ztokens;
    {
#line 3549
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 3549
      if (! *t) {
#line 3549
        goto while_break___2;
      }
#line 3550
      if ((int )*t == (int )*s) {
#line 3551
        if (bslash) {
#line 3552
          if (flags & 1) {
#line 3552
            *(s + -1) = (char)-96;
          } else {
#line 3552
            *(s + -1) = (char)-97;
          }
        } else {
#line 3554
          *s = (char )((t - ztokens) + -124L);
        }
#line 3555
        goto while_break___2;
      }
#line 3549
      t ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 3558
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 3560
    bslash = 0;
    __Cont: /* CIL Label */ 
#line 3499
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 3562
  return;
}
}
#line 3567 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
void remnulargs(char *s ) 
{ 
  char *o ;
  char c ;
  char *t ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;

  {
#line 3570
  if (*s) {
#line 3571
    o = s;
    {
#line 3573
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3573
      tmp___2 = s;
#line 3573
      s ++;
#line 3573
      c = *tmp___2;
#line 3573
      if (! c) {
#line 3573
        goto while_break;
      }
#line 3574
      if ((int )c == -96) {
#line 3581
        goto while_continue;
      } else
#line 3582
      if ((int )typtab[(unsigned char )c] & (1 << 14)) {
#line 3583
        t = s - 1;
        {
#line 3585
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 3585
          tmp___1 = s;
#line 3585
          s ++;
#line 3585
          c = *tmp___1;
#line 3585
          if (! c) {
#line 3585
            goto while_break___0;
          }
#line 3586
          if ((int )c == -96) {
#line 3587
            tmp = t;
#line 3587
            t ++;
#line 3587
            *tmp = (char )'\\';
          } else
#line 3588
          if (! ((int )typtab[(unsigned char )c] & (1 << 14))) {
#line 3589
            tmp___0 = t;
#line 3589
            t ++;
#line 3589
            *tmp___0 = c;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
#line 3591
        *t = (char )'\000';
#line 3592
        if (! *o) {
#line 3593
          *(o + 0) = (char)-95;
#line 3594
          *(o + 1) = (char )'\000';
        }
#line 3596
        goto while_break;
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 3599
  return;
}
}
#line 3606 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualdev(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                   off_t dv , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3609
  return ((off_t )buf___7->st_dev == dv);
}
}
#line 3615 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualnlink(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t ct , char *dummy___0  __attribute__((__unused__)) ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
#line 3618
  if (curglobdata.gd_range < 0) {
#line 3618
    tmp___0 = buf___7->st_nlink < (__nlink_t )ct;
  } else {
#line 3618
    if (curglobdata.gd_range > 0) {
#line 3618
      tmp = buf___7->st_nlink > (__nlink_t )ct;
    } else {
#line 3618
      tmp = buf___7->st_nlink == (__nlink_t )ct;
    }
#line 3618
    tmp___0 = tmp;
  }
#line 3618
  return (tmp___0);
}
}
#line 3626 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualuid(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                   off_t uid , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3629
  return ((off_t )buf___7->st_uid == uid);
}
}
#line 3635 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualgid(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                   off_t gid , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3638
  return ((off_t )buf___7->st_gid == gid);
}
}
#line 3644 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualisdev(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 
  int tmp ;

  {
#line 3647
  if ((buf___7->st_mode & 61440U) == 24576U) {
#line 3647
    tmp = 1;
  } else
#line 3647
  if ((buf___7->st_mode & 61440U) == 8192U) {
#line 3647
    tmp = 1;
  } else {
#line 3647
    tmp = 0;
  }
#line 3647
  return (tmp);
}
}
#line 3653 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualisblk(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3656
  return ((buf___7->st_mode & 61440U) == 24576U);
}
}
#line 3662 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualischr(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3665
  return ((buf___7->st_mode & 61440U) == 8192U);
}
}
#line 3671 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualisdir(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3674
  return ((buf___7->st_mode & 61440U) == 16384U);
}
}
#line 3680 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualisfifo(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                      off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3683
  return ((buf___7->st_mode & 61440U) == 4096U);
}
}
#line 3689 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualislnk(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3692
  return ((buf___7->st_mode & 61440U) == 40960U);
}
}
#line 3698 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualisreg(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3701
  return ((buf___7->st_mode & 61440U) == 32768U);
}
}
#line 3707 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualissock(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                      off_t junk  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 


  {
#line 3710
  return ((buf___7->st_mode & 61440U) == 49152U);
}
}
#line 3716 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualflags(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t mod , char *dummy___0  __attribute__((__unused__)) ) 
{ 
  int tmp ;

  {
  {
#line 3719
  tmp = mode_to_octal(buf___7->st_mode);
  }
#line 3719
  return ((int )((long )tmp & mod));
}
}
#line 3725 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualmodeflags(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                         off_t mod , char *dummy___0  __attribute__((__unused__)) ) 
{ 
  long v ;
  int tmp ;
  long y ;
  long n ;
  int tmp___0 ;

  {
  {
#line 3728
  tmp = mode_to_octal(buf___7->st_mode);
#line 3728
  v = (long )tmp;
#line 3728
  y = mod & 4095L;
#line 3728
  n = mod >> 12;
  }
#line 3730
  if ((v & y) == y) {
#line 3730
    if (! (v & n)) {
#line 3730
      tmp___0 = 1;
    } else {
#line 3730
      tmp___0 = 0;
    }
  } else {
#line 3730
    tmp___0 = 0;
  }
#line 3730
  return (tmp___0);
}
}
#line 3736 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualiscom(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                     off_t mod  __attribute__((__unused__)) , char *dummy___0  __attribute__((__unused__)) ) 
{ 
  int tmp ;

  {
#line 3739
  if ((buf___7->st_mode & 61440U) == 32768U) {
#line 3739
    if (buf___7->st_mode & (unsigned int )((64 | (64 >> 3)) | ((64 >> 3) >> 3))) {
#line 3739
      tmp = 1;
    } else {
#line 3739
      tmp = 0;
    }
  } else {
#line 3739
    tmp = 0;
  }
#line 3739
  return (tmp);
}
}
#line 3745 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualsize(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                    off_t size , char *dummy___0  __attribute__((__unused__)) ) 
{ 
  zlong scaled ;
  int tmp ;
  int tmp___0 ;

  {
#line 3750
  scaled = buf___7->st_size;
  {
#line 3757
  if (curglobdata.gd_units == 1) {
#line 3757
    goto case_1;
  }
#line 3761
  if (curglobdata.gd_units == 2) {
#line 3761
    goto case_2;
  }
#line 3765
  if (curglobdata.gd_units == 3) {
#line 3765
    goto case_3;
  }
#line 3770
  if (curglobdata.gd_units == 4) {
#line 3770
    goto case_4;
  }
#line 3774
  if (curglobdata.gd_units == 5) {
#line 3774
    goto case_5;
  }
#line 3756
  goto switch_break;
  case_1: /* CIL Label */ 
#line 3758
  scaled += 511L;
#line 3759
  scaled /= 512L;
#line 3760
  goto switch_break;
  case_2: /* CIL Label */ 
#line 3762
  scaled += 1023L;
#line 3763
  scaled /= 1024L;
#line 3764
  goto switch_break;
  case_3: /* CIL Label */ 
#line 3766
  scaled += 1048575L;
#line 3767
  scaled /= 1048576L;
#line 3768
  goto switch_break;
  case_4: /* CIL Label */ 
#line 3771
  scaled += 1073741823L;
#line 3772
  scaled /= 1073741824L;
#line 3773
  goto switch_break;
  case_5: /* CIL Label */ 
#line 3775
  scaled += 1099511627775L;
#line 3776
  scaled /= 1099511627776L;
#line 3777
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 3781
  if (curglobdata.gd_range < 0) {
#line 3781
    tmp___0 = scaled < size;
  } else {
#line 3781
    if (curglobdata.gd_range > 0) {
#line 3781
      tmp = scaled > size;
    } else {
#line 3781
      tmp = scaled == size;
    }
#line 3781
    tmp___0 = tmp;
  }
#line 3781
  return (tmp___0);
}
}
#line 3790 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualtime(char *name  __attribute__((__unused__)) , struct stat *buf___7 ,
                    off_t days , char *dummy___0  __attribute__((__unused__)) ) 
{ 
  time_t now ;
  time_t diff ;
  __time_t tmp ;
  __time_t tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
  {
#line 3795
  time(& now);
  }
#line 3796
  if (curglobdata.gd_amc == 0) {
#line 3796
    tmp___0 = buf___7->st_atim.tv_sec;
  } else {
#line 3796
    if (curglobdata.gd_amc == 1) {
#line 3796
      tmp = buf___7->st_mtim.tv_sec;
    } else {
#line 3796
      tmp = buf___7->st_ctim.tv_sec;
    }
#line 3796
    tmp___0 = tmp;
  }
#line 3796
  diff = now - tmp___0;
  {
#line 3800
  if (curglobdata.gd_units == 0) {
#line 3800
    goto case_0;
  }
#line 3803
  if (curglobdata.gd_units == 1) {
#line 3803
    goto case_1;
  }
#line 3806
  if (curglobdata.gd_units == 2) {
#line 3806
    goto case_2;
  }
#line 3809
  if (curglobdata.gd_units == 3) {
#line 3809
    goto case_3;
  }
#line 3812
  if (curglobdata.gd_units == 4) {
#line 3812
    goto case_4;
  }
#line 3799
  goto switch_break;
  case_0: /* CIL Label */ 
#line 3801
  diff /= 86400L;
#line 3802
  goto switch_break;
  case_1: /* CIL Label */ 
#line 3804
  diff /= 3600L;
#line 3805
  goto switch_break;
  case_2: /* CIL Label */ 
#line 3807
  diff /= 60L;
#line 3808
  goto switch_break;
  case_3: /* CIL Label */ 
#line 3810
  diff /= 604800L;
#line 3811
  goto switch_break;
  case_4: /* CIL Label */ 
#line 3813
  diff /= 2592000L;
#line 3814
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 3817
  if (curglobdata.gd_range < 0) {
#line 3817
    tmp___2 = diff < days;
  } else {
#line 3817
    if (curglobdata.gd_range > 0) {
#line 3817
      tmp___1 = diff > days;
    } else {
#line 3817
      tmp___1 = diff == days;
    }
#line 3817
    tmp___2 = tmp___1;
  }
#line 3817
  return (tmp___2);
}
}
#line 3851 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static char *tmparr[2]  ;
#line 3825 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualsheval(char *name , struct stat *buf___7  __attribute__((__unused__)) ,
                      off_t days  __attribute__((__unused__)) , char *str ) 
{ 
  Eprog prog ;
  int ef ;
  int lv ;
  int ret ;
  int cshglob ;
  char *tmp ;
  char *tmp___0 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
  {
#line 3830
  prog = parse_string(str, 0);
  }
#line 3830
  if (prog) {
    {
#line 3831
    ef = errflag;
#line 3831
    lv = (int )lastval;
#line 3832
    cshglob = badcshglob;
#line 3834
    unsetparam((char *)"reply");
#line 3835
    tmp = ztrdup((char const   *)name);
#line 3835
    setsparam((char *)"REPLY", tmp);
#line 3836
    badcshglob = 0;
#line 3838
    execode(prog, 1, 0, (char *)"globqual");
#line 3840
    ret = (int )lastval;
    }
#line 3840
    if (ret) {
#line 3841
      badcshglob |= cshglob;
    }
    {
#line 3843
    errflag = ef | (errflag & 2);
#line 3844
    lastval = (zlong )lv;
#line 3846
    inserts = getaparam((char *)"reply");
    }
#line 3846
    if (! inserts) {
      {
#line 3846
      inserts = gethparam((char *)"reply");
      }
#line 3846
      if (! inserts) {
        {
#line 3850
        tmp___0 = getsparam((char *)"reply");
        }
#line 3850
        if (tmp___0) {
#line 3853
          tmparr[0] = tmp___0;
#line 3854
          tmparr[1] = (char *)((void *)0);
#line 3856
          inserts = tmparr;
        } else {
          {
#line 3850
          tmp___0 = getsparam((char *)"REPLY");
          }
#line 3850
          if (tmp___0) {
#line 3853
            tmparr[0] = tmp___0;
#line 3854
            tmparr[1] = (char *)((void *)0);
#line 3856
            inserts = tmparr;
          }
        }
      }
    }
#line 3860
    return (! ret);
  }
#line 3862
  return (0);
}
}
#line 3866 "/home/khheo/testset/zsh-zsh-5.3.1/Src/glob.c"
static int qualnonemptydir(char *name , struct stat *buf___7 , off_t days  __attribute__((__unused__)) ,
                           char *str  __attribute__((__unused__)) ) 
{ 
  DIR *dirh ;
  struct dirent *de ;
  int unamelen ;
  char *uname___0 ;
  char *tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
  {
#line 3872
  tmp = dupstring((char const   *)name);
#line 3872
  tmp___0 = unmetafy(tmp, & unamelen);
#line 3872
  uname___0 = tmp___0;
  }
#line 3874
  if (! ((buf___7->st_mode & 61440U) == 16384U)) {
#line 3875
    return (0);
  }
#line 3877
  if (buf___7->st_nlink > 2UL) {
#line 3878
    return (1);
  }
  {
#line 3880
  dirh = opendir((char const   *)uname___0);
  }
#line 3880
  if (! dirh) {
#line 3881
    return (0);
  }
  {
#line 3883
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 3883
    de = readdir(dirh);
    }
#line 3883
    if (! de) {
#line 3883
      goto while_break;
    }
    {
#line 3884
    tmp___1 = strcmp((char const   *)(de->d_name), ".");
    }
#line 3884
    if (tmp___1) {
      {
#line 3884
      tmp___2 = strcmp((char const   *)(de->d_name), "..");
      }
#line 3884
      if (tmp___2) {
        {
#line 3885
        closedir(dirh);
        }
#line 3886
        return (1);
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3890
  closedir(dirh);
  }
#line 3891
  return (0);
}
}
#line 551 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) execve)(char const   *__path ,
                                                                                               char * const  *__argv ,
                                                                                               char * const  *__envp ) ;
#line 598
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) nice)(int __inc ) ;
#line 756
extern  __attribute__((__nothrow__)) __pid_t fork(void) ;
#line 790
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) link)(char const   *__from ,
                                                                                             char const   *__to ) ;
#line 69 "/usr/include/x86_64-linux-gnu/sys/resource.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) setrlimit)(__rlimit_resource_t __resource ,
                                                                                struct rlimit  const  *__rlimits ) ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
int execbuiltin(LinkList args , LinkList assigns , Builtin bn ) ;
#line 11
int doprintdir ;
#line 17
char *cd_able_vars(char *s ) ;
#line 18
int fixdir(char *src ) ;
#line 27
int bin_whence(char *nam , char **argv , Options ops , int func ) ;
#line 36
int optcind ;
#line 39
int exit_level ;
#line 45
int ineval ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.epro"
int tracingcond ;
#line 6
int evalcond(Estate state , char *fromtest ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int noerrexit  ;
#line 6 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int this_noerrexit  ;
#line 7 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int noerrs  ;
#line 8 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int nohistsave  ;
#line 9 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int errflag  ;
#line 10 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int trap_state  ;
#line 11 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int trap_return  ;
#line 12 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int subsh  ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int retflag  ;
#line 14 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
long lastval2  ;
#line 15 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
unsigned char *fdtable  ;
#line 16 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int fdtable_size  ;
#line 17 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int max_zsh_fd  ;
#line 18 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int coprocin  ;
#line 19 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int coprocout  ;
#line 20 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int fdtable_flocks  ;
#line 21 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int zleactive  ;
#line 22 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
pid_t cmdoutpid  ;
#line 23 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int cmdoutval  ;
#line 24 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int use_cmdoutval  ;
#line 25 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int sfcontext  ;
#line 26 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
struct execstack *exstack  ;
#line 27 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
Funcstack funcstack  ;
#line 30 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
struct rlimit current_limits[16]  ;
#line 31 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
struct rlimit limits[16]  ;
#line 32
int zsetlimit(int limnum , char *nam ) ;
#line 33
int setlimits(char *nam ) ;
#line 38
int iscom(char *s ) ;
#line 39
int isreallycom(Cmdnam cn ) ;
#line 42 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.epro"
int forklevel  ;
#line 50
void closem(int how ) ;
#line 53
LinkList readoutput(int in , int qt ) ;
#line 57
void shfunc_set_sticky(Shfunc shf ) ;
#line 58
Shfunc loadautofn(Shfunc shf , int fksh , int autol ) ;
#line 59
int sticky_emulation_differs(Emulation_options sticky2 ) ;
#line 61
void runshfunc(Eprog prog , FuncWrap wrap , char *name ) ;
#line 63
Eprog stripkshdef(Eprog prog , char *name ) ;
#line 4 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.pro"
static pid_t zfork(struct timeval *tv ) ;
#line 5
static int execcursh(Estate state , int do_exec ) ;
#line 6
static int zexecve(char *pth , char **argv , char **newenvp ) ;
#line 7
static int isgooderr(int e , char *dir ) ;
#line 8
static int commandnotfound(char *arg0 , LinkList args ) ;
#line 9
static void execute(LinkList args , int flags , int defpath ) ;
#line 10
static void entersubsh(int flags ) ;
#line 11
static int execsimple(Estate state ) ;
#line 12
static int execpline(Estate state , wordcode slcode , int how , int last1 ) ;
#line 13
static void execpline2(Estate state , wordcode pcode , int how , int input , int output ,
                       int last1 ) ;
#line 14
static char **makecline(LinkList list ) ;
#line 15
static int clobber_open(struct redir *f ) ;
#line 16
static void closemn(struct multio **mfds , int fd , int type___0 ) ;
#line 17
static void closemnodes(struct multio **mfds ) ;
#line 18
static void closeallelse(struct multio *mn ) ;
#line 19
static void addfd(int forked , int *save , struct multio **mfds , int fd1 , int fd2 ,
                  int rflag , char *varid ) ;
#line 20
static void addvars(Estate state , Wordcode pc , int addflags ) ;
#line 21
static HashNode resolvebuiltin(char const   *cmdarg , HashNode hn ) ;
#line 22
static void execcmd_analyse(Estate state , Execcmd_params eparams ) ;
#line 23
static void execcmd_exec(Estate state , Execcmd_params eparams , int input , int output ,
                         int how , int last1 ) ;
#line 24
static void save_params(Estate state , Wordcode pc , LinkList *restore_p , LinkList *remove_p ) ;
#line 25
static void restore_params(LinkList restorelist , LinkList removelist ) ;
#line 26
static void fixfds(int *save ) ;
#line 27
static int getherestr(struct redir *fn___0 ) ;
#line 28
static Eprog parsecmd(char *cmd , char **eptr ) ;
#line 29
static int getpipe(char *cmd , int nullexec ) ;
#line 30
static int mpipe(int *pp ) ;
#line 31
static void spawnpipes(LinkList l , int nullexec ) ;
#line 32
static int execcond(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 33
static int execarith(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 34
static int exectime(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 35
static int execfuncdef(Estate state , Eprog redir_prog ) ;
#line 36
static void execshfunc(Shfunc shf , LinkList args ) ;
#line 37
static int execautofn_basic(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 38
static int execautofn(Estate state , int do_exec  __attribute__((__unused__)) ) ;
#line 39
static char *cancd(char *s ) ;
#line 40
static int cancd2(char *s ) ;
#line 200 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int doneps4  ;
#line 201 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char *STTYval  ;
#line 202 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char *blank_env[1]  = {      (char *)((void *)0)};
#line 206 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int (*execfuncs[13])(Estate  , int  )  = 
#line 206
  {      & execcursh,      & exectime,      (int (*)(Estate  , int  ))((void *)0),      & execfor, 
        & execselect,      & execwhile,      & execrepeat,      & execcase, 
        & execif,      & execcond,      & execarith,      & execautofn, 
        & exectry};
#line 214 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static struct builtin commandbn  =    {{(HashNode )((void *)0), (char *)"command", 0}, & bin_whence, 0, -1, 27, (char *)"pvV",
    (char *)((void *)0)};
#line 220 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
Eprog parse_string(char *s , int reset_lineno ) 
{ 
  Eprog p ;
  zlong oldlineno ;

  {
  {
#line 226
  zcontext_save();
#line 227
  inpush(s, 1 << 6, (Alias )((void *)0));
#line 228
  strinbeg(0);
#line 229
  oldlineno = lineno;
  }
#line 230
  if (reset_lineno) {
#line 231
    lineno = (zlong )1;
  }
  {
#line 232
  p = parse_list();
#line 233
  lineno = oldlineno;
  }
#line 234
  if ((unsigned int )tok == 38U) {
#line 234
    if (! lastval) {
#line 235
      lastval = (zlong )1;
    }
  }
  {
#line 236
  strinend();
#line 237
  inpop();
#line 238
  zcontext_restore();
  }
#line 239
  return (p);
}
}
#line 251 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int zsetlimit(int limnum , char *nam ) 
{ 
  int *tmp ;
  int tmp___0 ;
  char *__cil_tmp5 ;

  {
#line 254
  if (limits[limnum].rlim_max != current_limits[limnum].rlim_max) {
#line 254
    goto _L;
  } else
#line 254
  if (limits[limnum].rlim_cur != current_limits[limnum].rlim_cur) {
    _L: /* CIL Label */ 
    {
#line 256
    tmp___0 = setrlimit((__rlimit_resource_t )limnum, (struct rlimit  const  *)(limits + limnum));
    }
#line 256
    if (tmp___0) {
#line 257
      if (nam) {
        {
#line 258
        tmp = __errno_location();
#line 258
        zwarnnam((char const   *)nam, "setrlimit failed: %e", *tmp);
        }
      }
#line 259
      limits[limnum] = current_limits[limnum];
#line 260
      return (-1);
    }
#line 262
    current_limits[limnum] = limits[limnum];
  }
#line 264
  return (0);
}
}
#line 268 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int setlimits(char *nam ) 
{ 
  int limnum ;
  int ret ;
  int tmp ;

  {
#line 272
  ret = 0;
#line 274
  limnum = 0;
  {
#line 274
  while (1) {
    while_continue: /* CIL Label */ ;
#line 274
    if (! (limnum < 16)) {
#line 274
      goto while_break;
    }
    {
#line 275
    tmp = zsetlimit(limnum, nam);
    }
#line 275
    if (tmp) {
#line 276
      ret ++;
    }
#line 274
    limnum ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 277
  return (ret);
}
}
#line 286 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static pid_t zfork(struct timeval *tv ) 
{ 
  pid_t pid ;
  struct timezone dummy_tz ;
  int tmp ;
  sigset_t oset ;
  int *tmp___0 ;
  void *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 295
  if (thisjob != -1) {
#line 295
    if (thisjob >= jobtabsize - 1) {
      {
#line 295
      tmp = expandjobtab();
      }
#line 295
      if (! tmp) {
        {
#line 296
        zerr("job table full");
        }
#line 297
        return (-1);
      }
    }
  }
#line 299
  if (tv) {
    {
#line 300
    gettimeofday((struct timeval */* __restrict  */)tv, (__timezone_ptr_t )(& dummy_tz));
    }
  }
  {
#line 307
  queueing_enabled ++;
#line 308
  pid = fork();
  }
  {
#line 309
  while (1) {
    while_continue: /* CIL Label */ ;
#line 309
    queueing_enabled --;
#line 309
    if (! queueing_enabled) {
      {
#line 309
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 309
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 309
          if (! (queue_front != queue_rear)) {
#line 309
            goto while_break___1;
          }
          {
#line 309
          queue_front = (queue_front + 1) % 128;
#line 309
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 309
          zhandler(signal_queue[queue_front]);
#line 309
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 309
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 309
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 310
  if (pid == -1) {
    {
#line 311
    tmp___0 = __errno_location();
#line 311
    zerr("fork failed: %e", *tmp___0);
    }
#line 312
    return (-1);
  }
#line 315
  if (! pid) {
    {
#line 317
    setlimits((char *)((void *)0));
    }
  }
#line 319
  return (pid);
}
}
#line 396 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int list_pipe  =    0;
#line 396 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int simple_pline  =    0;
#line 398 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static pid_t list_pipe_pid  ;
#line 399 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static struct timeval list_pipe_start  ;
#line 400 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int nowait  ;
#line 400 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int pline_level  =    0;
#line 401 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int list_pipe_child  =    0;
#line 401 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int list_pipe_job  ;
#line 402 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char list_pipe_text[80]  ;
#line 407 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execcursh(Estate state , int do_exec ) 
{ 
  Wordcode end ;
  int tmp ;

  {
#line 410
  end = state->pc + (*(state->pc + -1) >> 5);
#line 413
  (state->pc) ++;
#line 424
  if (! list_pipe) {
#line 424
    if (thisjob != -1) {
#line 424
      if (thisjob != list_pipe_job) {
        {
#line 424
        tmp = hasprocs(thisjob);
        }
#line 424
        if (! tmp) {
          {
#line 426
          deletejob(jobtab + thisjob, 0);
          }
        }
      }
    }
  }
  {
#line 427
  cmdpush(19);
#line 428
  execlist(state, 1, do_exec);
#line 429
  cmdpop();
#line 431
  state->pc = end;
#line 432
  this_noerrexit = 1;
  }
#line 434
  return ((int )lastval);
}
}
#line 446 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char buf___6[8193]  ;
#line 442 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int zexecve(char *pth , char **argv , char **newenvp ) 
{ 
  int eno ;
  char **eep ;
  sigset_t tmp ;
  char execvebuf[65] ;
  char *ptr___0 ;
  char *ptr2 ;
  char *argv0 ;
  int fd ;
  int ct ;
  int t0 ;
  ssize_t tmp___0 ;
  int tmp___1 ;
  char *pprog ;
  sigset_t tmp___2 ;
  sigset_t tmp___3 ;
  sigset_t tmp___4 ;
  sigset_t tmp___5 ;
  sigset_t tmp___6 ;
  int *tmp___7 ;
  int *tmp___8 ;
  int *tmp___9 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;
  void *__cil_tmp27 ;
  void *__cil_tmp28 ;
  void *__cil_tmp29 ;
  void *__cil_tmp30 ;
  void *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;

  {
  {
#line 449
  unmetafy(pth, (int *)((void *)0));
#line 450
  eep = argv;
  }
  {
#line 450
  while (1) {
    while_continue: /* CIL Label */ ;
#line 450
    if (! *eep) {
#line 450
      goto while_break;
    }
#line 451
    if ((unsigned long )*eep != (unsigned long )pth) {
      {
#line 452
      unmetafy(*eep, (int *)((void *)0));
      }
    }
#line 450
    eep ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 453
  buf___6[0] = (char )'_';
#line 454
  buf___6[1] = (char )'=';
#line 455
  if ((int )*pth == 47) {
    {
#line 456
    strcpy((char */* __restrict  */)(buf___6 + 2), (char const   */* __restrict  */)pth);
    }
  } else {
    {
#line 458
    sprintf((char */* __restrict  */)(buf___6 + 2), (char const   */* __restrict  */)"%s/%s",
            pwd, pth);
    }
  }
  {
#line 459
  zputenv(buf___6);
  }
#line 464
  if ((unsigned long )newenvp == (unsigned long )((void *)0)) {
#line 465
    newenvp = environ;
  }
  {
#line 466
  tmp = signal_mask(28);
#line 466
  signal_unblock(tmp);
#line 467
  execve((char const   *)pth, (char * const  *)argv, (char * const  *)newenvp);
#line 473
  tmp___9 = __errno_location();
#line 473
  eno = *tmp___9;
  }
#line 473
  if (eno == 8) {
#line 473
    goto _L;
  } else
#line 473
  if (eno == 2) {
    _L: /* CIL Label */ 
    {
#line 477
    fd = open((char const   *)pth, 256);
    }
#line 477
    if (fd >= 0) {
      {
#line 478
      argv0 = *argv;
#line 479
      *argv = pth;
#line 480
      execvebuf[0] = (char )'\000';
#line 481
      tmp___0 = read(fd, (void *)(execvebuf), (size_t )64);
#line 481
      ct = (int )tmp___0;
#line 482
      close(fd);
      }
#line 483
      if (ct >= 0) {
#line 484
        if ((int )execvebuf[0] == 35) {
#line 485
          if ((int )execvebuf[1] == 33) {
#line 486
            t0 = 0;
            {
#line 486
            while (1) {
              while_continue___0: /* CIL Label */ ;
#line 486
              if (! (t0 != ct)) {
#line 486
                goto while_break___0;
              }
#line 487
              if ((int )execvebuf[t0] == 10) {
#line 488
                goto while_break___0;
              }
#line 486
              t0 ++;
            }
            while_break___0: /* CIL Label */ ;
            }
            {
#line 489
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 489
              if (! ((int )typtab[(unsigned char )execvebuf[t0]] & (1 << 3))) {
#line 489
                goto while_break___1;
              }
#line 490
              tmp___1 = t0;
#line 490
              t0 --;
#line 490
              execvebuf[tmp___1] = (char )'\000';
            }
            while_break___1: /* CIL Label */ ;
            }
#line 491
            execvebuf[64] = (char )'\000';
#line 492
            ptr___0 = execvebuf + 2;
            {
#line 492
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 492
              if (*ptr___0) {
#line 492
                if (! ((int )*ptr___0 == 32)) {
#line 492
                  goto while_break___2;
                }
              } else {
#line 492
                goto while_break___2;
              }
#line 492
              ptr___0 ++;
            }
            while_break___2: /* CIL Label */ ;
            }
#line 493
            ptr2 = ptr___0;
            {
#line 493
            while (1) {
              while_continue___3: /* CIL Label */ ;
#line 493
              if (*ptr___0) {
#line 493
                if (! ((int )*ptr___0 != 32)) {
#line 493
                  goto while_break___3;
                }
              } else {
#line 493
                goto while_break___3;
              }
#line 493
              ptr___0 ++;
            }
            while_break___3: /* CIL Label */ ;
            }
#line 494
            if (eno == 2) {
#line 496
              if (*ptr___0) {
#line 497
                *ptr___0 = (char )'\000';
              }
#line 498
              if ((int )*ptr2 != 47) {
                {
#line 498
                pprog = pathprog(ptr2, (char **)((void *)0));
                }
#line 498
                if (pprog) {
                  {
#line 500
                  *(argv + -2) = ptr2;
#line 501
                  *(argv + -1) = ptr___0 + 1;
#line 502
                  tmp___2 = signal_mask(28);
#line 502
                  signal_unblock(tmp___2);
#line 503
                  execve((char const   *)pprog, (char * const  *)(argv - 2), (char * const  *)newenvp);
                  }
                }
              }
              {
#line 505
              zerr("%s: bad interpreter: %s: %e", pth, ptr2, eno);
              }
            } else
#line 507
            if (*ptr___0) {
              {
#line 508
              *ptr___0 = (char )'\000';
#line 509
              *(argv + -2) = ptr2;
#line 510
              *(argv + -1) = ptr___0 + 1;
#line 511
              tmp___3 = signal_mask(28);
#line 511
              signal_unblock(tmp___3);
#line 512
              execve((char const   *)ptr2, (char * const  *)(argv - 2), (char * const  *)newenvp);
              }
            } else {
              {
#line 514
              *(argv + -1) = ptr2;
#line 515
              tmp___4 = signal_mask(28);
#line 515
              signal_unblock(tmp___4);
#line 516
              execve((char const   *)ptr2, (char * const  *)(argv - 1), (char * const  *)newenvp);
              }
            }
          } else
#line 518
          if (eno == 8) {
            {
#line 519
            *(argv + -1) = (char *)"sh";
#line 520
            tmp___5 = signal_mask(28);
#line 520
            signal_unblock(tmp___5);
#line 521
            execve("/bin/sh", (char * const  *)(argv - 1), (char * const  *)newenvp);
            }
          }
        } else
#line 523
        if (eno == 8) {
#line 524
          t0 = 0;
          {
#line 524
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 524
            if (! (t0 != ct)) {
#line 524
              goto while_break___4;
            }
#line 525
            if (! execvebuf[t0]) {
#line 526
              goto while_break___4;
            }
#line 524
            t0 ++;
          }
          while_break___4: /* CIL Label */ ;
          }
#line 527
          if (t0 == ct) {
            {
#line 528
            *(argv + -1) = (char *)"sh";
#line 529
            tmp___6 = signal_mask(28);
#line 529
            signal_unblock(tmp___6);
#line 530
            execve("/bin/sh", (char * const  *)(argv - 1), (char * const  *)newenvp);
            }
          }
        }
      } else {
        {
#line 534
        tmp___7 = __errno_location();
#line 534
        eno = *tmp___7;
        }
      }
#line 535
      *argv = argv0;
    } else {
      {
#line 537
      tmp___8 = __errno_location();
#line 537
      eno = *tmp___8;
      }
    }
  }
  {
#line 542
  pth = metafy(pth, -1, 5);
#line 543
  eep = argv;
  }
  {
#line 543
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 543
    if (! *eep) {
#line 543
      goto while_break___5;
    }
#line 544
    if ((unsigned long )*eep != (unsigned long )pth) {
      {
#line 545
      metafy(*eep, -1, 5);
      }
    }
#line 543
    eep ++;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 546
  return (eno);
}
}
#line 554 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int isgooderr(int e , char *dir ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
#line 561
  if (e != 13) {
#line 561
    goto _L;
  } else {
    {
#line 561
    tmp = access((char const   *)dir, 1);
    }
#line 561
    if (tmp) {
#line 561
      tmp___0 = 0;
    } else
    _L: /* CIL Label */ 
#line 561
    if (e != 2) {
#line 561
      if (e != 20) {
#line 561
        tmp___0 = 1;
      } else {
#line 561
        tmp___0 = 0;
      }
    } else {
#line 561
      tmp___0 = 0;
    }
  }
#line 561
  return (tmp___0);
}
}
#line 571 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int commandnotfound(char *arg0 , LinkList args ) 
{ 
  Shfunc shf ;
  HashNode tmp ;
  int tmp___0 ;
  char *__cil_tmp6 ;

  {
  {
#line 574
  tmp = (*(shfunctab->getnode))(shfunctab, "command_not_found_handler");
#line 574
  shf = (Shfunc )tmp;
  }
#line 577
  if (! shf) {
#line 578
    lastval = (zlong )127;
#line 579
    return (1);
  }
  {
#line 582
  insertlinknode(args, & args->node, (void *)arg0);
#line 583
  tmp___0 = doshfunc(shf, args, 1);
#line 583
  lastval = (zlong )tmp___0;
  }
#line 584
  return (0);
}
}
#line 593 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char *search_defpath(char *cmd , char *pbuf , int plen ) 
{ 
  char *ps ;
  char *pe ;
  char *s ;
  size_t tmp ;
  char *tmp___0 ;
  size_t tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
#line 596
  ps = (char *)"/bin:/usr/bin";
#line 596
  pe = (char *)((void *)0);
#line 598
  ps = (char *)"/bin:/usr/bin";
  {
#line 598
  while (1) {
    while_continue: /* CIL Label */ ;
#line 598
    if (! ps) {
#line 598
      goto while_break;
    }
    {
#line 599
    pe = strchr((char const   *)ps, ':');
    }
#line 600
    if ((int )*ps == 47) {
#line 601
      s = pbuf;
#line 602
      if (pe) {
#line 603
        if (pe - ps >= (long )plen) {
#line 604
          goto __Cont;
        }
        {
#line 605
        struncpy(& s, ps, (int )(pe - ps));
        }
      } else {
        {
#line 607
        tmp = strlen((char const   *)ps);
        }
#line 607
        if (tmp >= (size_t )plen) {
#line 608
          goto __Cont;
        }
        {
#line 609
        strucpy(& s, ps);
        }
      }
      {
#line 611
      tmp___0 = s;
#line 611
      s ++;
#line 611
      *tmp___0 = (char )'/';
#line 612
      tmp___1 = strlen((char const   *)cmd);
      }
#line 612
      if ((size_t )(s - pbuf) + tmp___1 >= (size_t )plen) {
#line 613
        goto __Cont;
      }
      {
#line 614
      strucpy(& s, cmd);
#line 615
      tmp___2 = iscom(pbuf);
      }
#line 615
      if (tmp___2) {
#line 616
        return (pbuf);
      }
    }
    __Cont: /* CIL Label */ 
#line 598
    if (pe) {
#line 598
      ps = pe + 1;
    } else {
#line 598
      ps = (char *)((void *)0);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 619
  return ((char *)((void *)0));
}
}
#line 625 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void execute(LinkList args , int flags , int defpath ) 
{ 
  Cmdnam cn ;
  char buf___7[16385] ;
  char buf2[16385] ;
  char *s ;
  char *z ;
  char *arg0 ;
  char **argv ;
  char **pp ;
  char **newenvp ;
  int eno ;
  int ee ;
  char *tmp ;
  char *t ;
  char *tmp___0 ;
  int tmp___1 ;
  __pid_t tmp___2 ;
  __pid_t tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  size_t tmp___6 ;
  int lerrno ;
  int tmp___7 ;
  int tmp___8 ;
  char pbuf[4097] ;
  char *dptr ;
  int tmp___9 ;
  char *tmp___10 ;
  char const   *tmp___11 ;
  int tmp___12 ;
  char nn[4097] ;
  char *dptr___0 ;
  int tmp___13 ;
  char *tmp___14 ;
  int tmp___15 ;
  char const   *tmp___16 ;
  char const   *tmp___17 ;
  int tmp___18 ;
  HashNode tmp___19 ;
  int tmp___20 ;
  char *tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  int tmp___24 ;
  void *__cil_tmp47 ;
  void *__cil_tmp48 ;
  void *__cil_tmp49 ;
  void *__cil_tmp50 ;
  char *__cil_tmp51 ;
  char *__cil_tmp52 ;
  char *__cil_tmp53 ;
  char *__cil_tmp54 ;
  char *__cil_tmp55 ;
  char *__cil_tmp56 ;
  char *__cil_tmp57 ;
  char *__cil_tmp58 ;
  char *__cil_tmp59 ;
  char *__cil_tmp60 ;
  char *__cil_tmp61 ;
  char *__cil_tmp62 ;
  char *__cil_tmp63 ;
  char *__cil_tmp64 ;
  char *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;

  {
#line 631
  newenvp = (char **)((void *)0);
#line 632
  eno = 0;
#line 634
  arg0 = (char *)(args->list.first)->dat;
#line 635
  if (opts[153]) {
    {
#line 635
    tmp = strchr((char const   *)arg0, '/');
    }
#line 635
    if (tmp) {
      {
#line 636
      zerr("%s: restricted", arg0);
#line 637
      _exit(1);
      }
    } else
#line 635
    if (defpath) {
      {
#line 636
      zerr("%s: restricted", arg0);
#line 637
      _exit(1);
      }
    }
  }
#line 643
  s = STTYval;
#line 643
  if (s) {
    {
#line 643
    tmp___1 = isatty(0);
    }
#line 643
    if (tmp___1) {
      {
#line 643
      tmp___2 = getpgrp();
#line 643
      tmp___3 = getpid();
      }
#line 643
      if (tmp___2 == tmp___3) {
        {
#line 644
        tmp___0 = tricat("stty", " ", (char const   *)s);
#line 644
        t = tmp___0;
#line 646
        STTYval = (char *)0;
#line 647
        zsfree(s);
#line 648
        execstring(t, 1, 0, (char *)"stty");
#line 649
        zsfree(t);
        }
      } else {
#line 643
        goto _L___0;
      }
    } else {
#line 643
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 650
  if (s) {
    {
#line 651
    STTYval = (char *)0;
#line 652
    zsfree(s);
    }
  }
#line 657
  if (! opts[153]) {
    {
#line 657
    z = zgetenv((char *)"ARGV0");
    }
#line 657
    if (z) {
      {
#line 658
      tmp___4 = ztrdup((char const   *)z);
#line 658
      (args->list.first)->dat = (void *)tmp___4;
#line 665
      unsetenv("ARGV0");
      }
    } else {
#line 657
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 669
  if (flags & (1 << 6)) {
    {
#line 672
    sprintf((char */* __restrict  */)(buf2), (char const   */* __restrict  */)"-%s",
            arg0);
#line 673
    tmp___5 = ztrdup((char const   *)(buf2));
#line 673
    (args->list.first)->dat = (void *)tmp___5;
    }
  }
  {
#line 676
  argv = makecline(args);
  }
#line 677
  if (flags & (1 << 16)) {
#line 678
    newenvp = blank_env;
  }
  {
#line 684
  closem(4);
#line 691
  signal_unblock(sigchld_mask);
#line 692
  tmp___6 = strlen((char const   *)arg0);
  }
#line 692
  if ((int )tmp___6 >= 4096) {
    {
#line 693
    zerr("command too long: %s", arg0);
#line 694
    _exit(1);
    }
  }
#line 696
  s = arg0;
  {
#line 696
  while (1) {
    while_continue: /* CIL Label */ ;
#line 696
    if (! *s) {
#line 696
      goto while_break;
    }
#line 697
    if ((int )*s == 47) {
      {
#line 698
      tmp___7 = zexecve(arg0, argv, newenvp);
#line 698
      lerrno = tmp___7;
      }
#line 699
      if ((unsigned long )arg0 == (unsigned long )s) {
#line 699
        goto _L___3;
      } else
#line 699
      if (! opts[125]) {
#line 699
        goto _L___3;
      } else
#line 699
      if ((int )*(arg0 + 0) == 46) {
#line 699
        if ((unsigned long )(arg0 + 1) == (unsigned long )s) {
#line 699
          goto _L___3;
        } else
#line 699
        if ((int )*(arg0 + 1) == 46) {
#line 699
          if ((unsigned long )(arg0 + 2) == (unsigned long )s) {
            _L___3: /* CIL Label */ 
            {
#line 702
            zerr("%e: %s", lerrno, arg0);
            }
#line 703
            if (lerrno == 13) {
#line 703
              tmp___8 = 126;
            } else
#line 703
            if (lerrno == 8) {
#line 703
              tmp___8 = 126;
            } else {
#line 703
              tmp___8 = 127;
            }
            {
#line 703
            _exit(tmp___8);
            }
          }
        }
      }
#line 705
      goto while_break;
    }
#line 696
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 709
  if (defpath) {
    {
#line 713
    tmp___10 = search_defpath(arg0, pbuf, 4096);
    }
#line 713
    if (! tmp___10) {
      {
#line 714
      tmp___9 = commandnotfound(arg0, args);
      }
#line 714
      if (tmp___9 == 0) {
        {
#line 715
        _exit((int )lastval);
        }
      }
      {
#line 716
      zerr("command not found: %s", arg0);
#line 717
      _exit(127);
      }
    }
    {
#line 720
    ee = zexecve(pbuf, argv, newenvp);
#line 722
    dptr = strrchr((char const   *)(pbuf), '/');
    }
#line 722
    if (dptr) {
#line 723
      *dptr = (char )'\000';
    }
#line 724
    if (pbuf[0]) {
#line 724
      tmp___11 = (char const   *)(pbuf);
    } else {
#line 724
      tmp___11 = "/";
    }
    {
#line 724
    tmp___12 = isgooderr(ee, (char *)tmp___11);
    }
#line 724
    if (tmp___12) {
#line 725
      eno = ee;
    }
  } else {
    {
#line 729
    tmp___19 = (*(cmdnamtab->getnode))(cmdnamtab, (char const   *)arg0);
#line 729
    cn = (Cmdnam )tmp___19;
    }
#line 729
    if (cn) {
#line 732
      if (cn->node.flags & (1 << 1)) {
        {
#line 733
        strcpy((char */* __restrict  */)(nn), (char const   */* __restrict  */)cn->u.cmd);
        }
      } else {
#line 735
        pp = path;
        {
#line 735
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 735
          if (! ((unsigned long )pp < (unsigned long )cn->u.name)) {
#line 735
            goto while_break___0;
          }
#line 736
          if (! *(*pp)) {
#line 736
            goto _L___4;
          } else
#line 736
          if ((int )*(*pp) == 46) {
#line 736
            if ((int )*(*pp + 1) == 0) {
              _L___4: /* CIL Label */ 
              {
#line 737
              ee = zexecve(arg0, argv, newenvp);
#line 738
              tmp___13 = isgooderr(ee, *pp);
              }
#line 738
              if (tmp___13) {
#line 739
                eno = ee;
              }
            } else {
#line 736
              goto _L___5;
            }
          } else
          _L___5: /* CIL Label */ 
#line 740
          if ((int )*(*pp) != 47) {
            {
#line 741
            z = buf___7;
#line 742
            strucpy(& z, *pp);
#line 743
            tmp___14 = z;
#line 743
            z ++;
#line 743
            *tmp___14 = (char )'/';
#line 744
            strcpy((char */* __restrict  */)z, (char const   */* __restrict  */)arg0);
#line 745
            ee = zexecve(buf___7, argv, newenvp);
#line 746
            tmp___15 = isgooderr(ee, *pp);
            }
#line 746
            if (tmp___15) {
#line 747
              eno = ee;
            }
          }
#line 735
          pp ++;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 749
        if (cn->u.name) {
#line 749
          tmp___16 = (char const   *)*(cn->u.name);
        } else {
#line 749
          tmp___16 = "";
        }
        {
#line 749
        strcpy((char */* __restrict  */)(nn), (char const   */* __restrict  */)tmp___16);
#line 750
        strcat((char */* __restrict  */)(nn), (char const   */* __restrict  */)"/");
#line 751
        strcat((char */* __restrict  */)(nn), (char const   */* __restrict  */)cn->node.nam);
        }
      }
      {
#line 753
      ee = zexecve(nn, argv, newenvp);
#line 755
      dptr___0 = strrchr((char const   *)(nn), '/');
      }
#line 755
      if (dptr___0) {
#line 756
        *dptr___0 = (char )'\000';
      }
#line 757
      if (nn[0]) {
#line 757
        tmp___17 = (char const   *)(nn);
      } else {
#line 757
        tmp___17 = "/";
      }
      {
#line 757
      tmp___18 = isgooderr(ee, (char *)tmp___17);
      }
#line 757
      if (tmp___18) {
#line 758
        eno = ee;
      }
    }
#line 760
    pp = path;
    {
#line 760
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 760
      if (! *pp) {
#line 760
        goto while_break___1;
      }
#line 761
      if (! *(*pp + 0)) {
#line 761
        goto _L___6;
      } else
#line 761
      if ((int )*(*pp + 0) == 46) {
#line 761
        if (! *(*pp + 1)) {
          _L___6: /* CIL Label */ 
          {
#line 762
          ee = zexecve(arg0, argv, newenvp);
#line 763
          tmp___20 = isgooderr(ee, *pp);
          }
#line 763
          if (tmp___20) {
#line 764
            eno = ee;
          }
        } else {
#line 761
          goto _L___7;
        }
      } else {
        _L___7: /* CIL Label */ 
        {
#line 766
        z = buf___7;
#line 767
        strucpy(& z, *pp);
#line 768
        tmp___21 = z;
#line 768
        z ++;
#line 768
        *tmp___21 = (char )'/';
#line 769
        strcpy((char */* __restrict  */)z, (char const   */* __restrict  */)arg0);
#line 770
        ee = zexecve(buf___7, argv, newenvp);
#line 771
        tmp___22 = isgooderr(ee, *pp);
        }
#line 771
        if (tmp___22) {
#line 772
          eno = ee;
        }
      }
#line 760
      pp ++;
    }
    while_break___1: /* CIL Label */ ;
    }
  }
#line 776
  if (eno) {
    {
#line 777
    zerr("%e: %s", eno, arg0);
    }
  } else {
    {
#line 778
    tmp___23 = commandnotfound(arg0, args);
    }
#line 778
    if (tmp___23 == 0) {
      {
#line 779
      _exit((int )lastval);
      }
    } else {
      {
#line 781
      zerr("command not found: %s", arg0);
      }
    }
  }
#line 782
  if (eno == 13) {
#line 782
    tmp___24 = 126;
  } else
#line 782
  if (eno == 8) {
#line 782
    tmp___24 = 126;
  } else {
#line 782
    tmp___24 = 127;
  }
  {
#line 782
  _exit(tmp___24);
  }
}
}
#line 797 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
char *findcmd(char *arg0 , int docopy , int default_path ) 
{ 
  char **pp ;
  char *z ;
  char *s ;
  char buf___7[16384] ;
  Cmdnam cn ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  HashNode tmp___2 ;
  int tmp___3 ;
  size_t tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  char nn[4097] ;
  char *tmp___10 ;
  char *tmp___11 ;
  char *tmp___12 ;
  int tmp___13 ;
  char const   *tmp___14 ;
  char *tmp___15 ;
  char *tmp___16 ;
  int tmp___17 ;
  char *tmp___18 ;
  char *tmp___19 ;
  char *tmp___20 ;
  int tmp___21 ;
  void *__cil_tmp33 ;
  void *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;

  {
#line 804
  if (default_path) {
    {
#line 806
    tmp___1 = search_defpath(arg0, buf___7, 16384);
    }
#line 806
    if (tmp___1) {
#line 807
      if (docopy) {
        {
#line 807
        tmp = dupstring((char const   *)(buf___7));
#line 807
        tmp___0 = tmp;
        }
      } else {
#line 807
        tmp___0 = arg0;
      }
#line 807
      return (tmp___0);
    }
#line 808
    return ((char *)((void *)0));
  }
  {
#line 810
  tmp___2 = (*(cmdnamtab->getnode))(cmdnamtab, (char const   *)arg0);
#line 810
  cn = (Cmdnam )tmp___2;
  }
#line 811
  if (! cn) {
#line 811
    if (opts[66]) {
      {
#line 811
      tmp___3 = isrelative(arg0);
      }
#line 811
      if (! tmp___3) {
        {
#line 812
        cn = hashcmd(arg0, path);
        }
      }
    }
  }
  {
#line 813
  tmp___4 = strlen((char const   *)arg0);
  }
#line 813
  if ((int )tmp___4 > 4096) {
#line 814
    return ((char *)((void *)0));
  }
  {
#line 815
  s = strchr((char const   *)arg0, '/');
  }
#line 815
  if (s) {
    {
#line 816
    tmp___7 = iscom(arg0);
    }
#line 816
    if (tmp___7) {
#line 816
      if (docopy) {
        {
#line 816
        tmp___5 = dupstring((char const   *)arg0);
#line 816
        tmp___6 = tmp___5;
        }
      } else {
#line 816
        tmp___6 = arg0;
      }
#line 816
      return (tmp___6);
    }
#line 817
    if ((unsigned long )arg0 == (unsigned long )s) {
#line 819
      return ((char *)((void *)0));
    } else
#line 817
    if (! opts[125]) {
#line 819
      return ((char *)((void *)0));
    } else {
      {
#line 817
      tmp___8 = strncmp((char const   *)arg0, "./", (size_t )2);
      }
#line 817
      if (tmp___8) {
        {
#line 817
        tmp___9 = strncmp((char const   *)arg0, "../", (size_t )3);
        }
#line 817
        if (! tmp___9) {
#line 819
          return ((char *)((void *)0));
        }
      } else {
#line 819
        return ((char *)((void *)0));
      }
    }
  }
#line 822
  if (cn) {
#line 825
    if (cn->node.flags & (1 << 1)) {
      {
#line 826
      strcpy((char */* __restrict  */)(nn), (char const   */* __restrict  */)cn->u.cmd);
      }
    } else {
#line 828
      pp = path;
      {
#line 828
      while (1) {
        while_continue: /* CIL Label */ ;
#line 828
        if (! ((unsigned long )pp < (unsigned long )cn->u.name)) {
#line 828
          goto while_break;
        }
#line 829
        if ((int )*(*pp) != 47) {
#line 830
          z = buf___7;
#line 831
          if (*(*pp)) {
            {
#line 832
            strucpy(& z, *pp);
#line 833
            tmp___10 = z;
#line 833
            z ++;
#line 833
            *tmp___10 = (char )'/';
            }
          }
          {
#line 835
          strcpy((char */* __restrict  */)z, (char const   */* __restrict  */)arg0);
#line 836
          tmp___13 = iscom(buf___7);
          }
#line 836
          if (tmp___13) {
#line 836
            if (docopy) {
              {
#line 836
              tmp___11 = dupstring((char const   *)(buf___7));
#line 836
              tmp___12 = tmp___11;
              }
            } else {
#line 836
              tmp___12 = arg0;
            }
#line 836
            return (tmp___12);
          }
        }
#line 828
        pp ++;
      }
      while_break: /* CIL Label */ ;
      }
#line 838
      if (cn->u.name) {
#line 838
        tmp___14 = (char const   *)*(cn->u.name);
      } else {
#line 838
        tmp___14 = "";
      }
      {
#line 838
      strcpy((char */* __restrict  */)(nn), (char const   */* __restrict  */)tmp___14);
#line 839
      strcat((char */* __restrict  */)(nn), (char const   */* __restrict  */)"/");
#line 840
      strcat((char */* __restrict  */)(nn), (char const   */* __restrict  */)cn->node.nam);
      }
    }
    {
#line 842
    tmp___17 = iscom(nn);
    }
#line 842
    if (tmp___17) {
#line 842
      if (docopy) {
        {
#line 842
        tmp___15 = dupstring((char const   *)(nn));
#line 842
        tmp___16 = tmp___15;
        }
      } else {
#line 842
        tmp___16 = arg0;
      }
#line 842
      return (tmp___16);
    }
  }
#line 844
  pp = path;
  {
#line 844
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 844
    if (! *pp) {
#line 844
      goto while_break___0;
    }
#line 845
    z = buf___7;
#line 846
    if (*(*pp)) {
      {
#line 847
      strucpy(& z, *pp);
#line 848
      tmp___18 = z;
#line 848
      z ++;
#line 848
      *tmp___18 = (char )'/';
      }
    }
    {
#line 850
    strcpy((char */* __restrict  */)z, (char const   */* __restrict  */)arg0);
#line 851
    tmp___21 = iscom(buf___7);
    }
#line 851
    if (tmp___21) {
#line 851
      if (docopy) {
        {
#line 851
        tmp___19 = dupstring((char const   *)(buf___7));
#line 851
        tmp___20 = tmp___19;
        }
      } else {
#line 851
        tmp___20 = arg0;
      }
#line 851
      return (tmp___20);
    }
#line 844
    pp ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 853
  return ((char *)((void *)0));
}
}
#line 862 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int iscom(char *s ) 
{ 
  struct stat statbuf ;
  char *us ;
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  void *__cil_tmp8 ;

  {
  {
#line 866
  tmp = unmeta((char const   *)s);
#line 866
  us = tmp;
#line 868
  tmp___0 = access((char const   *)us, 1);
  }
#line 868
  if (tmp___0 == 0) {
    {
#line 868
    tmp___1 = stat((char const   */* __restrict  */)us, (struct stat */* __restrict  */)(& statbuf));
    }
#line 868
    if (tmp___1 >= 0) {
#line 868
      if ((statbuf.st_mode & 61440U) == 32768U) {
#line 868
        tmp___2 = 1;
      } else {
#line 868
        tmp___2 = 0;
      }
    } else {
#line 868
      tmp___2 = 0;
    }
  } else {
#line 868
    tmp___2 = 0;
  }
#line 868
  return (tmp___2);
}
}
#line 873 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int isreallycom(Cmdnam cn ) 
{ 
  char fullnam[16384] ;
  int tmp ;
  void *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 878
  if (cn->node.flags & (1 << 1)) {
    {
#line 879
    strcpy((char */* __restrict  */)(fullnam), (char const   */* __restrict  */)cn->u.cmd);
    }
  } else
#line 880
  if (! cn->u.name) {
#line 881
    return (0);
  } else {
    {
#line 883
    strcpy((char */* __restrict  */)(fullnam), (char const   */* __restrict  */)*(cn->u.name));
#line 884
    strcat((char */* __restrict  */)(fullnam), (char const   */* __restrict  */)"/");
#line 885
    strcat((char */* __restrict  */)(fullnam), (char const   */* __restrict  */)cn->node.nam);
    }
  }
  {
#line 887
  tmp = iscom(fullnam);
  }
#line 887
  return (tmp);
}
}
#line 896 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int isrelative(char *s ) 
{ 


  {
#line 899
  if ((int )*s != 47) {
#line 900
    return (1);
  }
  {
#line 901
  while (1) {
    while_continue: /* CIL Label */ ;
#line 901
    if (! *s) {
#line 901
      goto while_break;
    }
#line 902
    if ((int )*s == 46) {
#line 902
      if ((int )*(s + -1) == 47) {
#line 902
        if ((int )*(s + 1) == 47) {
#line 905
          return (1);
        } else
#line 902
        if ((int )*(s + 1) == 0) {
#line 905
          return (1);
        } else
#line 902
        if ((int )*(s + 1) == 46) {
#line 902
          if ((int )*(s + 2) == 47) {
#line 905
            return (1);
          } else
#line 902
          if ((int )*(s + 2) == 0) {
#line 905
            return (1);
          }
        }
      }
    }
#line 901
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 906
  return (0);
}
}
#line 910 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
Cmdnam hashcmd(char *arg0 , char **pp ) 
{ 
  Cmdnam cn ;
  char *s ;
  char buf___7[4097] ;
  char **pq ;
  char *tmp ;
  size_t tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;
  char *tmp___3 ;
  void *__cil_tmp12 ;

  {
  {
#line 917
  while (1) {
    while_continue: /* CIL Label */ ;
#line 917
    if (! *pp) {
#line 917
      goto while_break;
    }
#line 918
    if ((int )*(*pp) == 47) {
      {
#line 919
      s = buf___7;
#line 920
      strucpy(& s, *pp);
#line 921
      tmp = s;
#line 921
      s ++;
#line 921
      *tmp = (char )'/';
#line 922
      tmp___0 = strlen((char const   *)arg0);
      }
#line 922
      if ((size_t )(s - buf___7) + tmp___0 >= 4096UL) {
#line 923
        goto __Cont;
      }
      {
#line 924
      strcpy((char */* __restrict  */)s, (char const   */* __restrict  */)arg0);
#line 925
      tmp___1 = iscom(buf___7);
      }
#line 925
      if (tmp___1) {
#line 926
        goto while_break;
      }
    }
    __Cont: /* CIL Label */ 
#line 917
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 929
  if (! *pp) {
#line 930
    return ((Cmdnam )((void *)0));
  }
  {
#line 932
  tmp___2 = zshcalloc(sizeof(*cn));
#line 932
  cn = (Cmdnam )tmp___2;
#line 933
  cn->node.flags = 0;
#line 934
  cn->u.name = pp;
#line 935
  tmp___3 = ztrdup((char const   *)arg0);
#line 935
  (*(cmdnamtab->addnode))(cmdnamtab, tmp___3, (void *)cn);
  }
#line 937
  if (opts[67]) {
#line 938
    pq = pathchecked;
    {
#line 938
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 938
      if (! ((unsigned long )pq <= (unsigned long )pp)) {
#line 938
        goto while_break___0;
      }
      {
#line 939
      hashdir(pq);
#line 938
      pq ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 940
    pathchecked = pp + 1;
  }
#line 943
  return (cn);
}
}
#line 972 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void entersubsh(int flags ) 
{ 
  int sig ;
  int monitor ;
  int job_control_ok ;
  int tmp ;
  int *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  pid_t tmp___3 ;
  __pid_t tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  __pid_t tmp___8 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
#line 977
  if (! (flags & 4)) {
#line 978
    sig = 0;
    {
#line 978
    while (1) {
      while_continue: /* CIL Label */ ;
#line 978
      if (! (sig < 34)) {
#line 978
        goto while_break;
      }
#line 979
      if (! (sigtrapped[sig] & (1 << 2))) {
#line 979
        if (sig != 33) {
#line 979
          if (sig != 32) {
            {
#line 981
            unsettrap(sig);
            }
          }
        }
      }
#line 978
      sig ++;
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 982
  monitor = (int )opts[115];
#line 983
  if (monitor) {
#line 983
    if (flags & 64) {
#line 983
      if (opts[133]) {
#line 983
        tmp = 1;
      } else {
#line 983
        tmp = 0;
      }
    } else {
#line 983
      tmp = 0;
    }
  } else {
#line 983
    tmp = 0;
  }
#line 983
  job_control_ok = tmp;
#line 984
  if (flags & 32) {
#line 985
    opts[115] = (char)0;
  }
#line 986
  if (! opts[115]) {
#line 987
    if (flags & 1) {
      {
#line 988
      settrap(2, (Eprog )((void *)0), 0);
#line 989
      settrap(3, (Eprog )((void *)0), 0);
#line 990
      tmp___2 = isatty(0);
      }
#line 990
      if (tmp___2) {
        {
#line 991
        close(0);
#line 992
        tmp___1 = open("/dev/null", 258);
        }
#line 992
        if (tmp___1) {
          {
#line 993
          tmp___0 = __errno_location();
#line 993
          zerr("can\'t open /dev/null: %e", *tmp___0);
#line 994
          _exit(1);
          }
        }
      }
    }
  } else
#line 998
  if (thisjob != -1) {
#line 998
    if (flags & 2) {
#line 999
      if ((jobtab + list_pipe_job)->gleader) {
#line 999
        if (list_pipe) {
#line 999
          goto _L___2;
        } else
#line 999
        if (list_pipe_child) {
          _L___2: /* CIL Label */ 
          {
#line 1000
          tmp___5 = setpgid((__pid_t )0L, (jobtab + list_pipe_job)->gleader);
          }
#line 1000
          if (tmp___5 == -1) {
#line 1000
            goto _L;
          } else {
            {
#line 1000
            tmp___6 = killpg((jobtab + list_pipe_job)->gleader, 0);
            }
#line 1000
            if (tmp___6 == -1) {
              _L: /* CIL Label */ 
#line 1002
              if (list_pipe_child) {
#line 1002
                tmp___3 = mypgrp;
              } else {
                {
#line 1002
                tmp___4 = getpid();
#line 1002
                tmp___3 = tmp___4;
                }
              }
              {
#line 1002
              (jobtab + thisjob)->gleader = tmp___3;
#line 1002
              (jobtab + list_pipe_job)->gleader = tmp___3;
#line 1004
              setpgid((__pid_t )0L, (jobtab + list_pipe_job)->gleader);
              }
#line 1005
              if (! (flags & 1)) {
                {
#line 1006
                attachtty((jobtab + thisjob)->gleader);
                }
              }
            }
          }
        } else {
#line 999
          goto _L___1;
        }
      } else
      _L___1: /* CIL Label */ 
#line 1009
      if (! (jobtab + thisjob)->gleader) {
#line 1009
        goto _L___0;
      } else {
        {
#line 1009
        tmp___7 = setpgid((__pid_t )0L, (jobtab + thisjob)->gleader);
        }
#line 1009
        if (tmp___7 == -1) {
          _L___0: /* CIL Label */ 
          {
#line 1021
          (jobtab + thisjob)->gleader = getpid();
          }
#line 1022
          if (list_pipe_job != thisjob) {
#line 1022
            if (! (jobtab + list_pipe_job)->gleader) {
#line 1024
              (jobtab + list_pipe_job)->gleader = (jobtab + thisjob)->gleader;
            }
          }
          {
#line 1025
          setpgid((__pid_t )0L, (jobtab + thisjob)->gleader);
          }
#line 1026
          if (! (flags & 1)) {
            {
#line 1027
            attachtty((jobtab + thisjob)->gleader);
            }
          }
        }
      }
    }
  }
#line 1030
  if (! (flags & 8)) {
#line 1031
    subsh = 1;
  }
#line 1038
  zsh_subshell ++;
#line 1039
  if (flags & 16) {
    {
#line 1039
    tmp___8 = getpid();
    }
#line 1039
    if (tmp___8 == mypgrp) {
      {
#line 1040
      release_pgrp();
      }
    }
  }
#line 1041
  shout = (FILE *)((void *)0);
#line 1042
  if (flags & 32) {
    {
#line 1048
    signal(22, (void (*)(int  ))1);
#line 1049
    signal(21, (void (*)(int  ))1);
#line 1050
    signal(20, (void (*)(int  ))1);
    }
  } else
#line 1051
  if (! job_control_ok) {
    {
#line 1058
    signal(22, (void (*)(int  ))0);
#line 1059
    signal(21, (void (*)(int  ))0);
#line 1060
    signal(20, (void (*)(int  ))0);
    }
  }
#line 1062
  if (opts[92]) {
    {
#line 1063
    signal(15, (void (*)(int  ))0);
    }
#line 1064
    if (! (sigtrapped[2] & (1 << 1))) {
      {
#line 1065
      signal(2, (void (*)(int  ))0);
      }
    }
#line 1066
    if (! sigtrapped[13]) {
      {
#line 1067
      signal(13, (void (*)(int  ))0);
      }
    }
  }
#line 1069
  if (! (sigtrapped[3] & (1 << 1))) {
    {
#line 1070
    signal(3, (void (*)(int  ))0);
    }
  }
#line 1071
  if (! job_control_ok) {
#line 1072
    opts[115] = (char)0;
  }
#line 1073
  opts[176] = (char)0;
#line 1074
  zleactive = 0;
#line 1075
  if (flags & 2) {
    {
#line 1076
    clearjobtab(monitor);
    }
  }
  {
#line 1077
  get_usage();
#line 1078
  forklevel = locallevel;
  }
#line 1079
  return;
}
}
#line 1084 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void execstring(char *s , int dont_change_job , int exiting , char *context ) 
{ 
  Eprog prog ;

  {
  {
#line 1089
  pushheap();
  }
#line 1090
  if (opts[172]) {
    {
#line 1091
    zputs((char const   *)s, stderr);
#line 1092
    fputc('\n', stderr);
#line 1093
    fflush(stderr);
    }
  }
  {
#line 1095
  prog = parse_string(s, 0);
  }
#line 1095
  if (prog) {
    {
#line 1096
    execode(prog, dont_change_job, exiting, context);
    }
  }
  {
#line 1097
  popheap();
  }
#line 1098
  return;
}
}
#line 1105 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int zsh_eval_context_len  ;
#line 1101 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void execode(Eprog p , int dont_change_job , int exiting , char *context ) 
{ 
  struct estate s ;
  int alen ;
  void *tmp ;
  void *tmp___0 ;

  {
#line 1108
  if (! zsh_eval_context_len) {
    {
#line 1109
    zsh_eval_context_len = 16;
#line 1110
    alen = 0;
#line 1111
    tmp = zalloc((unsigned long )zsh_eval_context_len * sizeof(*zsh_eval_context));
#line 1111
    zsh_eval_context = (char **)tmp;
    }
  } else {
    {
#line 1114
    alen = arrlen(zsh_eval_context);
    }
#line 1115
    if (zsh_eval_context_len == alen + 1) {
      {
#line 1116
      zsh_eval_context_len *= 2;
#line 1117
      tmp___0 = zrealloc((void *)zsh_eval_context, (unsigned long )zsh_eval_context_len * sizeof(*zsh_eval_context));
#line 1117
      zsh_eval_context = (char **)tmp___0;
      }
    }
  }
  {
#line 1122
  *(zsh_eval_context + alen) = context;
#line 1123
  *(zsh_eval_context + (alen + 1)) = (char *)((void *)0);
#line 1125
  s.prog = p;
#line 1126
  s.pc = p->prog;
#line 1127
  s.strs = p->strs;
#line 1128
  useeprog(p);
#line 1130
  execlist(& s, dont_change_job, exiting);
#line 1132
  freeeprog(p);
#line 1138
  *(zsh_eval_context + alen) = (char *)((void *)0);
  }
#line 1139
  return;
}
}
#line 1146 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execsimple(Estate state ) 
{ 
  wordcode code ;
  Wordcode tmp ;
  int lv ;
  int otj ;
  Wordcode tmp___0 ;
  int q ;
  sigset_t oset ;
  void *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 1149
  tmp = state->pc;
#line 1149
  (state->pc) ++;
#line 1149
  code = *tmp;
#line 1152
  if (errflag) {
#line 1153
    lastval = (zlong )1;
#line 1153
    return ((int )lastval);
  }
#line 1155
  if (! opts[51]) {
#line 1156
    lastval = (zlong )0;
#line 1156
    return ((int )lastval);
  }
#line 1159
  if (intrap) {
#line 1159
    if (! trapisfunc) {
#line 1159
      if (! (traplocallevel == locallevel)) {
#line 1159
        goto _L___0;
      }
    } else {
#line 1159
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 1159
  if (! ineval) {
#line 1159
    if (code) {
#line 1160
      lineno = (zlong )(code - 1U);
    }
  }
#line 1162
  tmp___0 = state->pc;
#line 1162
  (state->pc) ++;
#line 1162
  code = *tmp___0 & (wordcode )((1 << 5) - 1);
#line 1168
  otj = thisjob;
#line 1169
  thisjob = -1;
#line 1171
  if (code == 5U) {
    {
#line 1172
    cmdoutval = 0;
#line 1173
    addvars(state, state->pc - 1, 0);
#line 1174
    setunderscore((char *)"");
    }
#line 1175
    if (opts[175]) {
      {
#line 1176
      fputc('\n', xtrerr);
#line 1177
      fflush(xtrerr);
      }
    }
#line 1179
    if (errflag) {
#line 1179
      lv = errflag;
    } else {
#line 1179
      lv = cmdoutval;
    }
  } else {
#line 1181
    q = queueing_enabled;
    {
#line 1182
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1182
      queueing_enabled = 0;
      {
#line 1182
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 1182
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 1182
          if (! (queue_front != queue_rear)) {
#line 1182
            goto while_break___1;
          }
          {
#line 1182
          queue_front = (queue_front + 1) % 128;
#line 1182
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1182
          zhandler(signal_queue[queue_front]);
#line 1182
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 1182
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 1182
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 1183
    if (code == 11U) {
      {
#line 1184
      lv = execfuncdef(state, (Eprog )((void *)0));
      }
    } else {
      {
#line 1186
      lv = (*(execfuncs[code - 9U]))(state, 0);
      }
    }
#line 1187
    queueing_enabled = q;
  }
#line 1190
  thisjob = otj;
#line 1192
  lastval = (zlong )lv;
#line 1192
  return ((int )lastval);
}
}
#line 1206 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int donetrap  ;
#line 1203 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void execlist(Estate state , int dont_change_job , int exiting ) 
{ 
  Wordcode next___0 ;
  wordcode code ;
  int ret ;
  int cj ;
  int csp ;
  int ltype ;
  int old_pline_level ;
  int old_list_pipe ;
  int old_list_pipe_job ;
  char *old_list_pipe_text ;
  zlong oldlineno ;
  int oldnoerrexit ;
  Wordcode tmp ;
  int donedebug ;
  int this_donetrap ;
  wordcode code2 ;
  wordcode lnp1 ;
  Wordcode pc2 ;
  int oerrexit_opt ;
  Param pm ;
  char *tmp___0 ;
  Wordcode tmp___1 ;
  Wordcode tmp___2 ;
  int isend ;
  int tmp___3 ;
  Wordcode tmp___4 ;
  Wordcode tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  Wordcode tmp___8 ;
  Wordcode tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  Wordcode tmp___12 ;
  int oerrexit_opt___0 ;
  int errreturn ;
  int tmp___13 ;
  int errexit ;
  int tmp___14 ;
  __pid_t tmp___15 ;
  Wordcode tmp___16 ;
  sigset_t oset ;
  void *__cil_tmp46 ;
  char *__cil_tmp47 ;

  {
#line 1219
  oldnoerrexit = noerrexit;
#line 1221
  queueing_enabled ++;
#line 1223
  cj = thisjob;
#line 1224
  old_pline_level = pline_level;
#line 1225
  old_list_pipe = list_pipe;
#line 1226
  old_list_pipe_job = list_pipe_job;
#line 1227
  if (list_pipe_text[0]) {
    {
#line 1228
    old_list_pipe_text = ztrdup((char const   *)(list_pipe_text));
    }
  } else {
#line 1230
    old_list_pipe_text = (char *)((void *)0);
  }
#line 1231
  oldlineno = lineno;
#line 1233
  if (sourcelevel) {
#line 1233
    if (! opts[159]) {
#line 1234
      list_pipe_job = 0;
#line 1234
      list_pipe = list_pipe_job;
#line 1234
      pline_level = list_pipe;
#line 1235
      list_pipe_text[0] = (char )'\000';
    }
  }
#line 1240
  tmp = state->pc;
#line 1240
  (state->pc) ++;
#line 1240
  code = *tmp;
#line 1241
  if ((code & (wordcode )((1 << 5) - 1)) != 1U) {
#line 1243
    lastval = (zlong )0;
  }
  {
#line 1245
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1245
    if ((code & (wordcode )((1 << 5) - 1)) == 1U) {
#line 1245
      if (! breaks) {
#line 1245
        if (! retflag) {
#line 1245
          if (! (! errflag)) {
#line 1245
            goto while_break;
          }
        } else {
#line 1245
          goto while_break;
        }
      } else {
#line 1245
        goto while_break;
      }
    } else {
#line 1245
      goto while_break;
    }
#line 1247
    this_donetrap = 0;
#line 1248
    this_noerrexit = 0;
#line 1250
    ltype = (int )(code >> 5);
#line 1251
    csp = cmdsp;
#line 1253
    if (intrap) {
#line 1253
      if (! trapisfunc) {
#line 1253
        if (! (traplocallevel == locallevel)) {
#line 1253
          goto _L___0;
        }
      } else {
#line 1253
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 1253
    if (! ineval) {
#line 1265
      code2 = *(state->pc);
#line 1265
      lnp1 = (wordcode )0;
#line 1266
      if (ltype & (1 << 5)) {
#line 1267
        lnp1 = code2;
      } else
#line 1268
      if ((code2 & (wordcode )((1 << 5) - 1)) == 2U) {
#line 1269
        if (((code2 >> 5) & 28U) == 16U) {
#line 1270
          lnp1 = *(state->pc + 1);
        } else {
#line 1272
          lnp1 = (*(state->pc + 1) >> 5) >> 1;
        }
      }
#line 1274
      if (lnp1) {
#line 1275
        lineno = (zlong )(lnp1 - 1U);
      }
    }
#line 1278
    if (sigtrapped[33]) {
#line 1278
      if (opts[46]) {
#line 1278
        if (! intrap) {
#line 1279
          pc2 = state->pc;
#line 1280
          oerrexit_opt = (int )opts[49];
#line 1282
          opts[49] = (char)0;
#line 1283
          noerrexit = 1;
#line 1284
          if (ltype & (1 << 5)) {
#line 1285
            pc2 ++;
          }
          {
#line 1286
          tmp___0 = getpermtext(state->prog, pc2, 0);
#line 1286
          pm = setsparam((char *)"ZSH_DEBUG_CMD", tmp___0);
#line 1288
          exiting = donetrap;
#line 1289
          ret = (int )lastval;
#line 1290
          dotrap(33);
          }
#line 1291
          if (! retflag) {
#line 1292
            lastval = (zlong )ret;
          }
#line 1293
          donetrap = exiting;
#line 1294
          noerrexit = oldnoerrexit;
#line 1299
          if (opts[49]) {
#line 1299
            donedebug = 2;
          } else {
#line 1299
            donedebug = 1;
          }
#line 1300
          opts[49] = (char )oerrexit_opt;
#line 1301
          if (pm) {
            {
#line 1302
            unsetparam_pm(pm, 0, 1);
            }
          }
        } else {
#line 1278
          goto _L___2;
        }
      } else {
#line 1278
        goto _L___2;
      }
    } else
    _L___2: /* CIL Label */ 
#line 1304
    if (intrap) {
#line 1304
      donedebug = 1;
    } else {
#line 1304
      donedebug = 0;
    }
#line 1308
    donetrap = 0;
#line 1309
    if (ltype & (1 << 5)) {
#line 1310
      next___0 = state->pc + ((code >> 5) >> 6);
#line 1311
      if (donedebug != 2) {
        {
#line 1312
        execsimple(state);
        }
      }
#line 1313
      state->pc = next___0;
#line 1314
      goto sublist_done;
    }
#line 1318
    tmp___1 = state->pc;
#line 1318
    (state->pc) ++;
#line 1318
    code = *tmp___1;
#line 1319
    if (donedebug == 2) {
      {
#line 1321
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 1321
        if (! ((code & (wordcode )((1 << 5) - 1)) == 2U)) {
#line 1321
          goto while_break___0;
        }
#line 1322
        state->pc += (code >> 5) >> 5;
#line 1323
        if (((code >> 5) & 3U) == 0U) {
#line 1324
          goto while_break___0;
        }
#line 1325
        tmp___2 = state->pc;
#line 1325
        (state->pc) ++;
#line 1325
        code = *tmp___2;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 1327
      donetrap = 1;
#line 1329
      goto sublist_done;
    }
    {
#line 1331
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 1331
      if (! ((code & (wordcode )((1 << 5) - 1)) == 2U)) {
#line 1331
        goto while_break___1;
      }
#line 1332
      isend = ((code >> 5) & 3U) == 0U;
#line 1333
      next___0 = state->pc + ((code >> 5) >> 5);
#line 1334
      if (! oldnoerrexit) {
#line 1335
        noerrexit = ! isend;
      }
#line 1336
      if (((code >> 5) & 28U) & 8U) {
#line 1338
        if (isend) {
#line 1339
          this_noerrexit = 1;
        }
#line 1341
        noerrexit = 1;
      }
      {
#line 1344
      if (((code >> 5) & 3U) == 0U) {
#line 1344
        goto case_0;
      }
#line 1353
      if (((code >> 5) & 3U) == 1U) {
#line 1353
        goto case_1;
      }
#line 1386
      if (((code >> 5) & 3U) == 2U) {
#line 1386
        goto case_2;
      }
#line 1343
      goto switch_break;
      case_0: /* CIL Label */ 
#line 1346
      if (((code >> 5) & 28U) & 16U) {
        {
#line 1347
        execsimple(state);
        }
      } else {
#line 1349
        if (ltype & (1 << 4)) {
#line 1349
          if (exiting) {
#line 1349
            tmp___3 = 1;
          } else {
#line 1349
            tmp___3 = 0;
          }
        } else {
#line 1349
          tmp___3 = 0;
        }
        {
#line 1349
        execpline(state, code, ltype, tmp___3);
        }
      }
#line 1350
      state->pc = next___0;
#line 1351
      goto sublist_done;
#line 1352
      goto switch_break;
      case_1: /* CIL Label */ 
#line 1356
      if (((code >> 5) & 28U) & 16U) {
        {
#line 1356
        tmp___6 = execsimple(state);
#line 1356
        ret = tmp___6;
        }
      } else {
        {
#line 1356
        tmp___7 = execpline(state, code, 1 << 1, 0);
#line 1356
        ret = tmp___7;
        }
      }
#line 1356
      if (ret) {
#line 1359
        state->pc = next___0;
#line 1360
        tmp___4 = state->pc;
#line 1360
        (state->pc) ++;
#line 1360
        code = *tmp___4;
#line 1361
        next___0 = state->pc + ((code >> 5) >> 5);
        {
#line 1362
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 1362
          if ((code & (wordcode )((1 << 5) - 1)) == 2U) {
#line 1362
            if (! (((code >> 5) & 3U) == 1U)) {
#line 1362
              goto while_break___2;
            }
          } else {
#line 1362
            goto while_break___2;
          }
#line 1364
          state->pc = next___0;
#line 1365
          tmp___5 = state->pc;
#line 1365
          (state->pc) ++;
#line 1365
          code = *tmp___5;
#line 1366
          next___0 = state->pc + ((code >> 5) >> 5);
        }
        while_break___2: /* CIL Label */ ;
        }
#line 1368
        if ((code & (wordcode )((1 << 5) - 1)) != 2U) {
#line 1372
          this_donetrap = 1;
#line 1373
          goto sublist_done;
        } else
#line 1374
        if (((code >> 5) & 3U) == 0U) {
#line 1375
          this_donetrap = 1;
#line 1380
          state->pc = next___0;
#line 1381
          goto sublist_done;
        }
      }
      {
#line 1384
      cmdpush(12);
      }
#line 1385
      goto switch_break;
      case_2: /* CIL Label */ 
#line 1389
      if (((code >> 5) & 28U) & 16U) {
        {
#line 1389
        tmp___10 = execsimple(state);
#line 1389
        ret = tmp___10;
        }
      } else {
        {
#line 1389
        tmp___11 = execpline(state, code, 1 << 1, 0);
#line 1389
        ret = tmp___11;
        }
      }
#line 1389
      if (! ret) {
#line 1392
        state->pc = next___0;
#line 1393
        tmp___8 = state->pc;
#line 1393
        (state->pc) ++;
#line 1393
        code = *tmp___8;
#line 1394
        next___0 = state->pc + ((code >> 5) >> 5);
        {
#line 1395
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 1395
          if ((code & (wordcode )((1 << 5) - 1)) == 2U) {
#line 1395
            if (! (((code >> 5) & 3U) == 2U)) {
#line 1395
              goto while_break___3;
            }
          } else {
#line 1395
            goto while_break___3;
          }
#line 1397
          state->pc = next___0;
#line 1398
          tmp___9 = state->pc;
#line 1398
          (state->pc) ++;
#line 1398
          code = *tmp___9;
#line 1399
          next___0 = state->pc + ((code >> 5) >> 5);
        }
        while_break___3: /* CIL Label */ ;
        }
#line 1401
        if ((code & (wordcode )((1 << 5) - 1)) != 2U) {
#line 1405
          this_donetrap = 1;
#line 1406
          goto sublist_done;
        } else
#line 1407
        if (((code >> 5) & 3U) == 0U) {
#line 1408
          this_donetrap = 1;
#line 1413
          state->pc = next___0;
#line 1414
          goto sublist_done;
        }
      }
      {
#line 1417
      cmdpush(11);
      }
#line 1418
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
#line 1420
      state->pc = next___0;
#line 1421
      tmp___12 = state->pc;
#line 1421
      (state->pc) ++;
#line 1421
      code = *tmp___12;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 1423
    (state->pc) --;
    sublist_done: 
#line 1432
    if (oldnoerrexit != 2) {
#line 1433
      noerrexit = oldnoerrexit;
    }
#line 1435
    if (sigtrapped[33]) {
#line 1435
      if (! opts[46]) {
#line 1435
        if (! donedebug) {
          {
#line 1440
          oerrexit_opt___0 = (int )opts[49];
#line 1441
          opts[49] = (char)0;
#line 1442
          noerrexit = 1;
#line 1443
          exiting = donetrap;
#line 1444
          ret = (int )lastval;
#line 1445
          dotrap(33);
          }
#line 1446
          if (! retflag) {
#line 1447
            lastval = (zlong )ret;
          }
#line 1448
          donetrap = exiting;
#line 1449
          noerrexit = oldnoerrexit;
#line 1450
          opts[49] = (char )oerrexit_opt___0;
        }
      }
    }
#line 1453
    cmdsp = csp;
#line 1458
    if (! noerrexit) {
#line 1458
      if (! this_noerrexit) {
#line 1458
        if (! donetrap) {
#line 1458
          if (! this_donetrap) {
#line 1459
            if (sigtrapped[32]) {
#line 1459
              if (lastval) {
                {
#line 1460
                dotrap(32);
#line 1461
                donetrap = 1;
                }
              }
            }
#line 1463
            if (lastval) {
#line 1464
              if (opts[50]) {
#line 1464
                if (opts[92]) {
#line 1464
                  tmp___13 = 1;
                } else
#line 1464
                if (locallevel) {
#line 1464
                  tmp___13 = 1;
                } else
#line 1464
                if (sourcelevel) {
#line 1464
                  tmp___13 = 1;
                } else {
#line 1464
                  tmp___13 = 0;
                }
              } else {
#line 1464
                tmp___13 = 0;
              }
#line 1464
              errreturn = tmp___13;
#line 1466
              if (opts[49]) {
#line 1466
                tmp___14 = 1;
              } else
#line 1466
              if (opts[50]) {
#line 1466
                if (! errreturn) {
#line 1466
                  tmp___14 = 1;
                } else {
#line 1466
                  tmp___14 = 0;
                }
              } else {
#line 1466
                tmp___14 = 0;
              }
#line 1466
              errexit = tmp___14;
#line 1468
              if (errexit) {
#line 1469
                if (sigtrapped[0]) {
                  {
#line 1470
                  dotrap(0);
                  }
                }
                {
#line 1471
                tmp___15 = getpid();
                }
#line 1471
                if (mypid != (zlong )tmp___15) {
                  {
#line 1472
                  _exit((int )lastval);
                  }
                } else {
                  {
#line 1474
                  exit((int )lastval);
                  }
                }
              }
#line 1476
              if (errreturn) {
#line 1477
                retflag = 1;
#line 1478
                breaks = loops;
              }
            }
          }
        }
      }
    }
#line 1482
    if (ltype & (1 << 4)) {
#line 1483
      goto while_break;
    }
#line 1484
    tmp___16 = state->pc;
#line 1484
    (state->pc) ++;
#line 1484
    code = *tmp___16;
  }
  while_break: /* CIL Label */ ;
  }
#line 1486
  pline_level = old_pline_level;
#line 1487
  list_pipe = old_list_pipe;
#line 1488
  list_pipe_job = old_list_pipe_job;
#line 1489
  if (old_list_pipe_text) {
    {
#line 1490
    strcpy((char */* __restrict  */)(list_pipe_text), (char const   */* __restrict  */)old_list_pipe_text);
#line 1491
    zsfree(old_list_pipe_text);
    }
  } else {
#line 1493
    list_pipe_text[0] = (char )'\000';
  }
#line 1495
  lineno = oldlineno;
#line 1496
  if (dont_change_job) {
#line 1497
    thisjob = cj;
  }
#line 1499
  if (exiting) {
#line 1499
    if (sigtrapped[0]) {
      {
#line 1500
      dotrap(0);
#line 1502
      sigtrapped[0] = 0;
      }
    }
  }
  {
#line 1505
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 1505
    queueing_enabled --;
#line 1505
    if (! queueing_enabled) {
      {
#line 1505
      while (1) {
        while_continue___5: /* CIL Label */ ;
        {
#line 1505
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 1505
          if (! (queue_front != queue_rear)) {
#line 1505
            goto while_break___6;
          }
          {
#line 1505
          queue_front = (queue_front + 1) % 128;
#line 1505
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1505
          zhandler(signal_queue[queue_front]);
#line 1505
          signal_setmask(oset);
          }
        }
        while_break___6: /* CIL Label */ ;
        }
#line 1505
        goto while_break___5;
      }
      while_break___5: /* CIL Label */ ;
      }
    }
#line 1505
    goto while_break___4;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 1506
  return;
}
}
#line 1527 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int lastwj  ;
#line 1527 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int lpforked  ;
#line 1519 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execpline(Estate state , wordcode slcode , int how , int last1 ) 
{ 
  int ipipe[2] ;
  int opipe[2] ;
  int pj ;
  int newjob ;
  int old_simple_pline ;
  int slflags ;
  wordcode code ;
  Wordcode tmp ;
  sigset_t oset ;
  unsigned char tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  sigset_t oset___0 ;
  Job jn ;
  int updated ;
  int jobsub ;
  struct process *pn ;
  struct process *qn ;
  Job jnsub ;
  union __anonunion_112___1 __constr_expr_67 ;
  int q ;
  sigset_t oset___1 ;
  int tmp___4 ;
  pid_t pid ;
  int synch[2] ;
  struct timeval bgtime ;
  int *tmp___5 ;
  char dummy___0 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  __pid_t tmp___10 ;
  int tmp___11 ;
  sigset_t oset___2 ;
  sigset_t oset___3 ;
  void *__cil_tmp42 ;
  void *__cil_tmp43 ;
  void *__cil_tmp44 ;
  void *__cil_tmp45 ;
  void *__cil_tmp46 ;
  void *__cil_tmp47 ;
  void *__cil_tmp48 ;
  void *__cil_tmp49 ;
  char *__cil_tmp50 ;
  char *__cil_tmp51 ;

  {
#line 1524
  old_simple_pline = simple_pline;
#line 1525
  slflags = (int )((slcode >> 5) & 28U);
#line 1526
  tmp = state->pc;
#line 1526
  (state->pc) ++;
#line 1526
  code = *tmp;
#line 1529
  if ((code & (wordcode )((1 << 5) - 1)) != 3U) {
#line 1530
    lastval = (zlong )((slflags & 8) != 0);
#line 1530
    return ((int )lastval);
  } else
#line 1531
  if (slflags & 8) {
#line 1532
    last1 = 0;
  }
  {
#line 1540
  queueing_enabled ++;
#line 1542
  pj = thisjob;
#line 1543
  opipe[1] = 0;
#line 1543
  opipe[0] = opipe[1];
#line 1543
  ipipe[1] = opipe[0];
#line 1543
  ipipe[0] = ipipe[1];
#line 1544
  signal_block(sigchld_mask);
#line 1552
  newjob = initjob();
#line 1552
  thisjob = newjob;
  }
#line 1552
  if (thisjob == -1) {
    {
#line 1553
    signal_unblock(sigchld_mask);
    }
    {
#line 1554
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1554
      queueing_enabled --;
#line 1554
      if (! queueing_enabled) {
        {
#line 1554
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 1554
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 1554
            if (! (queue_front != queue_rear)) {
#line 1554
              goto while_break___1;
            }
            {
#line 1554
            queue_front = (queue_front + 1) % 128;
#line 1554
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1554
            zhandler(signal_queue[queue_front]);
#line 1554
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 1554
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 1554
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 1555
    return (1);
  }
#line 1557
  if (how & 1) {
#line 1558
    (jobtab + thisjob)->stat |= 4;
  }
#line 1560
  if (slflags & 4) {
#line 1561
    how = 1 << 2;
#line 1562
    if (coprocin >= 0) {
      {
#line 1563
      zclose(coprocin);
#line 1564
      zclose(coprocout);
      }
    }
    {
#line 1566
    tmp___2 = mpipe(ipipe);
    }
#line 1566
    if (tmp___2 < 0) {
#line 1567
      coprocout = -1;
#line 1567
      coprocin = coprocout;
#line 1568
      slflags &= -5;
    } else {
      {
#line 1569
      tmp___1 = mpipe(opipe);
      }
#line 1569
      if (tmp___1 < 0) {
        {
#line 1570
        close(ipipe[0]);
#line 1571
        close(ipipe[1]);
#line 1572
        coprocout = -1;
#line 1572
        coprocin = coprocout;
#line 1573
        slflags &= -5;
        }
      } else {
#line 1575
        coprocin = ipipe[0];
#line 1576
        coprocout = opipe[1];
#line 1577
        tmp___0 = (unsigned char)0;
#line 1577
        *(fdtable + coprocout) = tmp___0;
#line 1577
        *(fdtable + coprocin) = tmp___0;
      }
    }
  }
#line 1584
  tmp___3 = pline_level;
#line 1584
  pline_level ++;
#line 1584
  if (! tmp___3) {
#line 1585
    list_pipe_pid = 0;
#line 1586
    nowait = 0;
#line 1587
    simple_pline = ((code >> 5) & 1U) == 0U;
#line 1588
    list_pipe_job = newjob;
  }
  {
#line 1590
  lpforked = 0;
#line 1590
  lastwj = lpforked;
#line 1591
  execpline2(state, code, how, opipe[0], ipipe[1], last1);
#line 1592
  pline_level --;
  }
#line 1593
  if (how & (1 << 2)) {
#line 1594
    lastwj = newjob;
#line 1596
    if (thisjob == list_pipe_job) {
#line 1597
      list_pipe_job = 0;
    }
#line 1598
    (jobtab + thisjob)->stat |= 2048;
#line 1599
    if (slflags & 4) {
      {
#line 1600
      zclose(ipipe[1]);
#line 1601
      zclose(opipe[0]);
      }
    }
#line 1603
    if (how & (1 << 3)) {
      {
#line 1604
      deletejob(jobtab + thisjob, 1);
#line 1605
      thisjob = -1;
      }
    } else {
      {
#line 1608
      spawnjob();
      }
    }
    {
#line 1609
    signal_unblock(sigchld_mask);
    }
    {
#line 1610
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1610
      queueing_enabled --;
#line 1610
      if (! queueing_enabled) {
        {
#line 1610
        while (1) {
          while_continue___3: /* CIL Label */ ;
          {
#line 1610
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 1610
            if (! (queue_front != queue_rear)) {
#line 1610
              goto while_break___4;
            }
            {
#line 1610
            queue_front = (queue_front + 1) % 128;
#line 1610
            oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 1610
            zhandler(signal_queue[queue_front]);
#line 1610
            signal_setmask(oset___0);
            }
          }
          while_break___4: /* CIL Label */ ;
          }
#line 1610
          goto while_break___3;
        }
        while_break___3: /* CIL Label */ ;
        }
      }
#line 1610
      goto while_break___2;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 1612
    lastval = (zlong )0;
#line 1612
    return ((int )lastval);
  } else {
#line 1614
    if (newjob != lastwj) {
#line 1615
      jn = jobtab + newjob;
#line 1618
      if (newjob == list_pipe_job) {
#line 1618
        if (list_pipe_child) {
          {
#line 1619
          _exit(0);
          }
        }
      }
#line 1621
      thisjob = newjob;
#line 1621
      lastwj = thisjob;
#line 1623
      if (list_pipe) {
#line 1624
        jn->stat |= 32;
      } else
#line 1623
      if (pline_level) {
#line 1623
        if (! (how & 1)) {
#line 1624
          jn->stat |= 32;
        }
      }
#line 1626
      if (nowait) {
#line 1627
        if (! pline_level) {
          {
#line 1631
          curjob = newjob;
#line 1633
          addproc(list_pipe_pid, list_pipe_text, 0, & list_pipe_start);
          }
#line 1638
          if (! (jn->procs)->next) {
#line 1638
            goto _L;
          } else
#line 1638
          if (lpforked == 2) {
            _L: /* CIL Label */ 
#line 1639
            jn->gleader = list_pipe_pid;
#line 1640
            jn->stat |= 8192;
#line 1646
            jobsub = 1;
            {
#line 1646
            while (1) {
              while_continue___5: /* CIL Label */ ;
#line 1646
              if (! (jobsub <= maxjob)) {
#line 1646
                goto while_break___5;
              }
#line 1647
              jnsub = jobtab + jobsub;
#line 1648
              if (jnsub->stat & 32768) {
#line 1649
                jn->other = jobsub;
#line 1650
                jn->stat |= 128;
#line 1651
                jnsub->stat &= -32769;
#line 1652
                jnsub->other = list_pipe_pid;
              }
#line 1646
              jobsub ++;
            }
            while_break___5: /* CIL Label */ ;
            }
          }
#line 1656
          pn = (jobtab + jn->other)->procs;
          {
#line 1656
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 1656
            if (! pn) {
#line 1656
              goto while_break___6;
            }
#line 1657
            __constr_expr_67.__in = pn->status;
#line 1657
            if ((__constr_expr_67.__i & 255) == 127) {
#line 1658
              goto while_break___6;
            }
#line 1656
            pn = pn->next;
          }
          while_break___6: /* CIL Label */ ;
          }
#line 1660
          if (pn) {
#line 1661
            qn = jn->procs;
            {
#line 1661
            while (1) {
              while_continue___7: /* CIL Label */ ;
#line 1661
              if (! qn->next) {
#line 1661
                goto while_break___7;
              }
#line 1661
              qn = qn->next;
            }
            while_break___7: /* CIL Label */ ;
            }
#line 1662
            qn->status = pn->status;
          }
          {
#line 1665
          jn->stat &= -41;
#line 1666
          jn->stat |= 83;
#line 1668
          printjob(jn, ! (! opts[110]), 1);
          }
        } else
#line 1670
        if (newjob != list_pipe_job) {
          {
#line 1671
          deletejob(jn, 0);
          }
        } else {
#line 1673
          lastwj = -1;
        }
      }
#line 1676
      errbrk_saved = 0;
      {
#line 1677
      while (1) {
        while_continue___8: /* CIL Label */ ;
#line 1677
        if (! (! nowait)) {
#line 1677
          goto while_break___8;
        }
#line 1678
        if (list_pipe_child) {
          {
#line 1679
          jn->stat |= 32;
#line 1680
          makerunning(jn);
          }
        }
#line 1682
        if (! (jn->stat & 16)) {
          {
#line 1683
          updated = hasprocs(thisjob);
#line 1684
          waitjobs();
#line 1685
          signal_block(sigchld_mask);
          }
        } else {
#line 1687
          updated = 0;
        }
#line 1688
        if (! updated) {
#line 1688
          if (list_pipe_job) {
            {
#line 1688
            tmp___4 = hasprocs(list_pipe_job);
            }
#line 1688
            if (tmp___4) {
#line 1688
              if (! ((jobtab + list_pipe_job)->stat & 2)) {
                {
#line 1691
                q = queueing_enabled;
#line 1692
                signal_unblock(sigchld_mask);
#line 1693
                signal_block(sigchld_mask);
                }
                {
#line 1694
                while (1) {
                  while_continue___9: /* CIL Label */ ;
#line 1694
                  queueing_enabled = 0;
                  {
#line 1694
                  while (1) {
                    while_continue___10: /* CIL Label */ ;
                    {
#line 1694
                    while (1) {
                      while_continue___11: /* CIL Label */ ;
#line 1694
                      if (! (queue_front != queue_rear)) {
#line 1694
                        goto while_break___11;
                      }
                      {
#line 1694
                      queue_front = (queue_front + 1) % 128;
#line 1694
                      oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 1694
                      zhandler(signal_queue[queue_front]);
#line 1694
                      signal_setmask(oset___1);
                      }
                    }
                    while_break___11: /* CIL Label */ ;
                    }
#line 1694
                    goto while_break___10;
                  }
                  while_break___10: /* CIL Label */ ;
                  }
#line 1694
                  goto while_break___9;
                }
                while_break___9: /* CIL Label */ ;
                }
#line 1695
                queueing_enabled = q;
              }
            }
          }
        }
#line 1697
        if (list_pipe_child) {
#line 1697
          if (jn->stat & 8) {
#line 1697
            if (lastval2 & 128L) {
              {
#line 1700
              killpg(mypgrp, (int )(lastval2 & -129L));
              }
            }
          }
        }
#line 1701
        if (! list_pipe_child) {
#line 1701
          if (! lpforked) {
#line 1701
            if (! subsh) {
#line 1701
              if (opts[115]) {
#line 1701
                if (list_pipe) {
#line 1701
                  goto _L___5;
                } else
#line 1701
                if (last1) {
#line 1701
                  goto _L___5;
                } else
#line 1701
                if (pline_level) {
                  _L___5: /* CIL Label */ 
#line 1701
                  if (jn->stat & 2) {
#line 1701
                    goto _L___3;
                  } else
#line 1701
                  if (list_pipe_job) {
#line 1701
                    if (pline_level) {
#line 1701
                      if ((jobtab + list_pipe_job)->stat & 2) {
                        _L___3: /* CIL Label */ 
                        {
#line 1706
                        pid = 0;
#line 1715
                        tmp___11 = pipe((int *)(synch));
                        }
#line 1715
                        if (tmp___11 < 0) {
#line 1715
                          goto _L___1;
                        } else {
                          {
#line 1715
                          pid = zfork(& bgtime);
                          }
#line 1715
                          if (pid == -1) {
                            _L___1: /* CIL Label */ 
#line 1717
                            if (pid < 0) {
                              {
#line 1718
                              close(synch[0]);
#line 1719
                              close(synch[1]);
                              }
                            } else {
                              {
#line 1721
                              tmp___5 = __errno_location();
#line 1721
                              zerr("pipe failed: %e", *tmp___5);
                              }
                            }
                            {
#line 1722
                            zleentry(3);
#line 1723
                            fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"zsh: job can\'t be suspended\n");
#line 1724
                            fflush(stderr);
#line 1725
                            makerunning(jn);
#line 1726
                            killjb(jn, 18);
#line 1727
                            thisjob = newjob;
                            }
                          } else
#line 1729
                          if (pid) {
                            {
#line 1744
                            tmp___7 = killpg((jobtab + list_pipe_job)->gleader, 0);
                            }
#line 1744
                            if (tmp___7 == -1) {
#line 1744
                              lpforked = 2;
                            } else {
#line 1744
                              lpforked = 1;
                            }
                            {
#line 1746
                            list_pipe_pid = pid;
#line 1747
                            list_pipe_start = bgtime;
#line 1748
                            nowait = 1;
#line 1749
                            errflag |= 1;
#line 1750
                            breaks = loops;
#line 1751
                            close(synch[1]);
#line 1752
                            read_loop(synch[0], & dummy___0, (size_t )1);
#line 1753
                            close(synch[0]);
                            }
#line 1756
                            if (! (jn->stat & 8)) {
                              {
#line 1757
                              (jobtab + list_pipe_job)->other = newjob;
#line 1758
                              (jobtab + list_pipe_job)->stat |= 128;
#line 1759
                              jn->stat |= 288;
#line 1760
                              jn->other = list_pipe_pid;
#line 1761
                              tmp___8 = hasprocs(list_pipe_job);
                              }
#line 1761
                              if (tmp___8) {
#line 1762
                                jn->gleader = (jobtab + list_pipe_job)->gleader;
                              }
                            }
#line 1764
                            if (list_pipe) {
#line 1764
                              goto _L___0;
                            } else
#line 1764
                            if (last1) {
                              _L___0: /* CIL Label */ 
                              {
#line 1764
                              tmp___9 = hasprocs(list_pipe_job);
                              }
#line 1764
                              if (tmp___9) {
                                {
#line 1765
                                killpg((jobtab + list_pipe_job)->gleader, 19);
                                }
                              }
                            }
#line 1766
                            goto while_break___8;
                          } else {
                            {
#line 1769
                            close(synch[0]);
#line 1770
                            entersubsh(1);
#line 1785
                            mypgrp = getpid();
#line 1785
                            setpgid((__pid_t )0L, mypgrp);
#line 1786
                            close(synch[1]);
#line 1787
                            tmp___10 = getpid();
#line 1787
                            kill(tmp___10, 19);
#line 1788
                            list_pipe = 0;
#line 1789
                            list_pipe_child = 1;
#line 1790
                            opts[92] = (char)0;
                            }
#line 1791
                            if (errbrk_saved) {
#line 1795
                              errflag = prev_errflag | (errflag & 2);
#line 1796
                              breaks = prev_breaks;
                            }
#line 1798
                            goto while_break___8;
                          }
                        }
                      } else {
#line 1701
                        goto _L___8;
                      }
                    } else {
#line 1701
                      goto _L___8;
                    }
                  } else {
#line 1701
                    goto _L___8;
                  }
                } else {
#line 1701
                  goto _L___8;
                }
              } else {
#line 1701
                goto _L___8;
              }
            } else {
#line 1701
              goto _L___8;
            }
          } else {
#line 1701
            goto _L___8;
          }
        } else
        _L___8: /* CIL Label */ 
#line 1801
        if (subsh) {
#line 1801
          if (jn->stat & 2) {
#line 1802
            thisjob = newjob;
          } else {
#line 1804
            goto while_break___8;
          }
        } else {
#line 1804
          goto while_break___8;
        }
      }
      while_break___8: /* CIL Label */ ;
      }
      {
#line 1806
      signal_unblock(sigchld_mask);
      }
      {
#line 1807
      while (1) {
        while_continue___12: /* CIL Label */ ;
#line 1807
        queueing_enabled --;
#line 1807
        if (! queueing_enabled) {
          {
#line 1807
          while (1) {
            while_continue___13: /* CIL Label */ ;
            {
#line 1807
            while (1) {
              while_continue___14: /* CIL Label */ ;
#line 1807
              if (! (queue_front != queue_rear)) {
#line 1807
                goto while_break___14;
              }
              {
#line 1807
              queue_front = (queue_front + 1) % 128;
#line 1807
              oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 1807
              zhandler(signal_queue[queue_front]);
#line 1807
              signal_setmask(oset___2);
              }
            }
            while_break___14: /* CIL Label */ ;
            }
#line 1807
            goto while_break___13;
          }
          while_break___13: /* CIL Label */ ;
          }
        }
#line 1807
        goto while_break___12;
      }
      while_break___12: /* CIL Label */ ;
      }
#line 1809
      if (list_pipe) {
#line 1809
        if (lastval & 128L) {
#line 1809
          if (pj >= 0) {
#line 1809
            if (! (jn->stat & 64)) {
#line 1809
              goto _L___9;
            } else
#line 1809
            if (jn->stat & 8) {
              _L___9: /* CIL Label */ 
              {
#line 1811
              deletejob(jn, 0);
#line 1812
              jn = jobtab + pj;
              }
#line 1813
              if (jn->gleader) {
                {
#line 1814
                killjb(jn, (int )(lastval & -129L));
                }
              }
            }
          }
        }
      }
#line 1816
      if (list_pipe_child) {
        {
#line 1819
        deletejob(jn, 0);
        }
      } else
#line 1816
      if (jn->stat & 8) {
#line 1816
        if (list_pipe) {
          {
#line 1819
          deletejob(jn, 0);
          }
        } else
#line 1816
        if (pline_level) {
#line 1816
          if (! (jn->stat & 256)) {
            {
#line 1819
            deletejob(jn, 0);
            }
          }
        }
      }
#line 1820
      thisjob = pj;
    } else {
      {
#line 1823
      while (1) {
        while_continue___15: /* CIL Label */ ;
#line 1823
        queueing_enabled --;
#line 1823
        if (! queueing_enabled) {
          {
#line 1823
          while (1) {
            while_continue___16: /* CIL Label */ ;
            {
#line 1823
            while (1) {
              while_continue___17: /* CIL Label */ ;
#line 1823
              if (! (queue_front != queue_rear)) {
#line 1823
                goto while_break___17;
              }
              {
#line 1823
              queue_front = (queue_front + 1) % 128;
#line 1823
              oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 1823
              zhandler(signal_queue[queue_front]);
#line 1823
              signal_setmask(oset___3);
              }
            }
            while_break___17: /* CIL Label */ ;
            }
#line 1823
            goto while_break___16;
          }
          while_break___16: /* CIL Label */ ;
          }
        }
#line 1823
        goto while_break___15;
      }
      while_break___15: /* CIL Label */ ;
      }
    }
#line 1824
    if (slflags & 8) {
#line 1824
      if (! errflag) {
#line 1825
        lastval = (zlong )(! lastval);
      }
    }
  }
#line 1827
  if (! pline_level) {
#line 1828
    simple_pline = old_simple_pline;
  }
#line 1829
  return ((int )lastval);
}
}
#line 1835 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void execpline2(Estate state , wordcode pcode , int how , int input , int output ,
                       int last1 ) 
{ 
  pid_t pid ;
  int pipes[2] ;
  struct execcmd_params eparams ;
  int tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  int old_list_pipe ;
  int subsh_close ;
  Wordcode next___0 ;
  Wordcode start_pc ;
  int tmp___2 ;
  int synch[2] ;
  struct timeval bgtime ;
  int *tmp___3 ;
  char dummy___0 ;
  char *text ;
  int tmp___4 ;
  int tmp___5 ;
  Wordcode tmp___6 ;
  void *__cil_tmp26 ;
  void *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
#line 1843
  if (breaks) {
#line 1844
    return;
  } else
#line 1843
  if (retflag) {
#line 1844
    return;
  }
#line 1847
  if (intrap) {
#line 1847
    if (! trapisfunc) {
#line 1847
      if (! (traplocallevel == locallevel)) {
#line 1847
        goto _L___0;
      }
    } else {
#line 1847
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 1847
  if (! ineval) {
#line 1847
    if ((pcode >> 5) >> 1) {
#line 1848
      lineno = (zlong )(((pcode >> 5) >> 1) - 1U);
    }
  }
#line 1850
  if (pline_level == 1) {
#line 1851
    if (how & (1 << 2)) {
#line 1851
      goto _L___1;
    } else
#line 1851
    if (! sfcontext) {
#line 1851
      if (! sourcelevel) {
        _L___1: /* CIL Label */ 
#line 1852
        if (((pcode >> 5) & 1U) == 0U) {
#line 1852
          tmp = 0;
        } else {
#line 1852
          tmp = 1;
        }
        {
#line 1852
        tmp___0 = getjobtext(state->prog, state->pc + tmp);
#line 1852
        strcpy((char */* __restrict  */)(list_pipe_text), (char const   */* __restrict  */)tmp___0);
        }
      } else {
#line 1857
        list_pipe_text[0] = (char )'\000';
      }
    } else {
#line 1857
      list_pipe_text[0] = (char )'\000';
    }
  }
#line 1859
  if (((pcode >> 5) & 1U) == 0U) {
    {
#line 1860
    execcmd_analyse(state, & eparams);
    }
#line 1861
    if (last1) {
#line 1861
      tmp___1 = 1;
    } else {
#line 1861
      tmp___1 = 2;
    }
    {
#line 1861
    execcmd_exec(state, & eparams, input, output, how, tmp___1);
    }
  } else {
    {
#line 1863
    old_list_pipe = list_pipe;
#line 1864
    subsh_close = -1;
#line 1865
    next___0 = state->pc + *(state->pc);
#line 1867
    (state->pc) ++;
#line 1867
    start_pc = state->pc;
#line 1868
    execcmd_analyse(state, & eparams);
#line 1870
    tmp___2 = mpipe(pipes);
    }
#line 1877
    if (eparams.type >= 9) {
#line 1877
      goto _L___2;
    } else
#line 1877
    if (! eparams.args) {
      _L___2: /* CIL Label */ 
#line 1877
      if (how & (1 << 1)) {
        {
#line 1882
        tmp___5 = pipe((int *)(synch));
        }
#line 1882
        if (tmp___5 < 0) {
          {
#line 1883
          tmp___3 = __errno_location();
#line 1883
          zerr("pipe failed: %e", *tmp___3);
#line 1884
          lastval = (zlong )1;
#line 1885
          errflag |= 1;
          }
#line 1886
          return;
        } else {
          {
#line 1887
          pid = zfork(& bgtime);
          }
#line 1887
          if (pid == -1) {
            {
#line 1888
            close(synch[0]);
#line 1889
            close(synch[1]);
#line 1890
            lastval = (zlong )1;
#line 1891
            errflag |= 1;
            }
#line 1892
            return;
          } else
#line 1893
          if (pid) {
            {
#line 1896
            text = getjobtext(state->prog, start_pc);
#line 1897
            addproc(pid, text, 0, & bgtime);
#line 1898
            close(synch[1]);
#line 1899
            read_loop(synch[0], & dummy___0, (size_t )1);
#line 1900
            close(synch[0]);
            }
          } else {
            {
#line 1902
            zclose(pipes[0]);
#line 1903
            close(synch[0]);
            }
#line 1904
            if (how & (1 << 2)) {
#line 1904
              tmp___4 = 1;
            } else {
#line 1904
              tmp___4 = 0;
            }
            {
#line 1904
            entersubsh((tmp___4 | 2) | 4);
#line 1906
            close(synch[1]);
            }
#line 1907
            if (sigtrapped[0]) {
              {
#line 1909
              unsettrap(0);
              }
            }
            {
#line 1911
            execcmd_exec(state, & eparams, input, pipes[1], how, 1);
#line 1912
            _exit((int )lastval);
            }
          }
        }
      } else {
        {
#line 1916
        addfilelist((char const   *)((void *)0), pipes[0]);
#line 1917
        subsh_close = pipes[0];
#line 1918
        execcmd_exec(state, & eparams, input, pipes[1], how, 0);
        }
      }
    } else {
      {
#line 1916
      addfilelist((char const   *)((void *)0), pipes[0]);
#line 1917
      subsh_close = pipes[0];
#line 1918
      execcmd_exec(state, & eparams, input, pipes[1], how, 0);
      }
    }
    {
#line 1920
    zclose(pipes[1]);
#line 1921
    state->pc = next___0;
#line 1925
    cmdpush(13);
#line 1926
    list_pipe = 1;
#line 1927
    tmp___6 = state->pc;
#line 1927
    (state->pc) ++;
#line 1927
    execpline2(state, *tmp___6, how, pipes[0], output, last1);
#line 1928
    list_pipe = old_list_pipe;
#line 1929
    cmdpop();
    }
#line 1930
    if (subsh_close != pipes[0]) {
      {
#line 1931
      zclose(pipes[0]);
      }
    }
  }
#line 1933
  return;
}
}
#line 1938 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char **makecline(LinkList list ) 
{ 
  LinkNode node ;
  char **argv ;
  char **ptr___0 ;
  int tmp ;
  void *tmp___0 ;
  char **tmp___1 ;
  char **tmp___2 ;

  {
  {
#line 1945
  tmp = countlinknodes(list);
#line 1945
  tmp___0 = hcalloc((unsigned long )(tmp + 4) * sizeof(char *));
#line 1945
  argv = (char **)tmp___0 + 2;
#line 1945
  ptr___0 = argv;
  }
#line 1948
  if (opts[175]) {
#line 1949
    if (! doneps4) {
      {
#line 1950
      printprompt4();
      }
    }
#line 1952
    node = list->list.first;
    {
#line 1952
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1952
      if (! node) {
#line 1952
        goto while_break;
      }
      {
#line 1953
      tmp___1 = ptr___0;
#line 1953
      ptr___0 ++;
#line 1953
      *tmp___1 = (char *)node->dat;
#line 1954
      quotedzputs((char const   *)node->dat, xtrerr);
      }
#line 1955
      if (node->next) {
        {
#line 1956
        fputc(' ', xtrerr);
        }
      }
#line 1952
      node = node->next;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1958
    fputc('\n', xtrerr);
#line 1959
    fflush(xtrerr);
    }
  } else {
#line 1961
    node = list->list.first;
    {
#line 1961
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1961
      if (! node) {
#line 1961
        goto while_break___0;
      }
#line 1962
      tmp___2 = ptr___0;
#line 1962
      ptr___0 ++;
#line 1962
      *tmp___2 = (char *)node->dat;
#line 1961
      node = node->next;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 1964
  *ptr___0 = (char *)((void *)0);
#line 1965
  return (argv);
}
}
#line 1969 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void untokenize(char *s ) 
{ 
  int c ;
  char *p ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;

  {
#line 1972
  if (*s) {
    {
#line 1975
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1975
      tmp___3 = s;
#line 1975
      s ++;
#line 1975
      c = (int )*tmp___3;
#line 1975
      if (! c) {
#line 1975
        goto while_break;
      }
#line 1976
      if ((int )typtab[(unsigned char )c] & (1 << 4)) {
#line 1977
        p = s - 1;
#line 1979
        if (c != -95) {
#line 1980
          tmp = p;
#line 1980
          p ++;
#line 1980
          *tmp = ztokens[c - -124];
        }
        {
#line 1982
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 1982
          tmp___2 = s;
#line 1982
          s ++;
#line 1982
          c = (int )*tmp___2;
#line 1982
          if (! c) {
#line 1982
            goto while_break___0;
          }
#line 1983
          if ((int )typtab[(unsigned char )c] & (1 << 4)) {
#line 1984
            if (c != -95) {
#line 1985
              tmp___0 = p;
#line 1985
              p ++;
#line 1985
              *tmp___0 = ztokens[c - -124];
            }
          } else {
#line 1987
            tmp___1 = p;
#line 1987
            p ++;
#line 1987
            *tmp___1 = (char )c;
          }
        }
        while_break___0: /* CIL Label */ ;
        }
#line 1989
        *p = (char )'\000';
#line 1990
        goto while_break;
      }
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 1993
  return;
}
}
#line 2006 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void quote_tokenized_output(char *str , FILE *file ) 
{ 
  char *s ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 2009
  s = str;
  {
#line 2011
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2011
    if (! *s) {
#line 2011
      goto while_break;
    }
    {
#line 2013
    if ((int )*s == -125) {
#line 2013
      goto case_neg_125;
    }
#line 2017
    if ((int )*s == -95) {
#line 2017
      goto case_neg_95;
    }
#line 2035
    if ((int )*s == 32) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 36) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 63) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 42) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 93) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 91) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 126) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 35) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 94) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 41) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 124) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 40) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 62) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 60) {
#line 2035
      goto case_32;
    }
#line 2035
    if ((int )*s == 92) {
#line 2035
      goto case_32;
    }
#line 2039
    if ((int )*s == 9) {
#line 2039
      goto case_9;
    }
#line 2043
    if ((int )*s == 10) {
#line 2043
      goto case_10;
    }
#line 2047
    if ((int )*s == 13) {
#line 2047
      goto case_13;
    }
#line 2051
    if ((int )*s == 61) {
#line 2051
      goto case_61;
    }
#line 2056
    goto switch_default;
    case_neg_125: /* CIL Label */ 
    {
#line 2014
    s ++;
#line 2014
    _IO_putc((int )*s ^ 32, file);
    }
#line 2015
    goto __Cont;
    case_neg_95: /* CIL Label */ 
#line 2019
    goto __Cont;
    case_32: /* CIL Label */ 
    case_36: /* CIL Label */ 
    case_63: /* CIL Label */ 
    case_42: /* CIL Label */ 
    case_93: /* CIL Label */ 
    case_91: /* CIL Label */ 
    case_126: /* CIL Label */ 
    case_35: /* CIL Label */ 
    case_94: /* CIL Label */ 
    case_41: /* CIL Label */ 
    case_124: /* CIL Label */ 
    case_40: /* CIL Label */ 
    case_62: /* CIL Label */ 
    case_60: /* CIL Label */ 
    case_92: /* CIL Label */ 
    {
#line 2036
    _IO_putc('\\', file);
    }
#line 2037
    goto switch_break;
    case_9: /* CIL Label */ 
    {
#line 2040
    fputs((char const   */* __restrict  */)"$\'\\t\'", (FILE */* __restrict  */)file);
    }
#line 2041
    goto __Cont;
    case_10: /* CIL Label */ 
    {
#line 2044
    fputs((char const   */* __restrict  */)"$\'\\n\'", (FILE */* __restrict  */)file);
    }
#line 2045
    goto __Cont;
    case_13: /* CIL Label */ 
    {
#line 2048
    fputs((char const   */* __restrict  */)"$\'\\r\'", (FILE */* __restrict  */)file);
    }
#line 2049
    goto __Cont;
    case_61: /* CIL Label */ 
#line 2052
    if ((unsigned long )s == (unsigned long )str) {
      {
#line 2053
      _IO_putc('\\', file);
      }
    }
#line 2054
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 2057
    if ((int )typtab[(unsigned char )*s] & (1 << 4)) {
      {
#line 2058
      _IO_putc((int )ztokens[(int )*s - -124], file);
      }
#line 2059
      goto __Cont;
    }
#line 2061
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
    {
#line 2064
    _IO_putc((int )*s, file);
    }
    __Cont: /* CIL Label */ 
#line 2011
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2066
  return;
}
}
#line 2070 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int checkclobberparam(struct redir *f ) 
{ 
  struct value vbuf ;
  Value v ;
  char *s ;
  int fd ;
  int *tmp ;
  int *tmp___0 ;
  zlong tmp___1 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 2075
  s = f->varid;
#line 2078
  if (! s) {
#line 2079
    return (1);
  }
  {
#line 2081
  v = getvalue(& vbuf, & s, 0);
  }
#line 2081
  if (! v) {
#line 2082
    return (1);
  }
#line 2084
  if ((v->pm)->node.flags & (1 << 10)) {
    {
#line 2085
    zwarn("can\'t allocate file descriptor to readonly parameter %s", f->varid);
#line 2088
    tmp = __errno_location();
#line 2088
    *tmp = 0;
    }
#line 2089
    return (0);
  }
#line 2098
  if (! opts[32]) {
    {
#line 2098
    s = getstrvalue(v);
    }
#line 2098
    if (s) {
      {
#line 2098
      tmp___1 = zstrtol((char const   *)s, & s, 10);
#line 2098
      fd = (int )tmp___1;
      }
#line 2098
      if (fd >= 0) {
#line 2098
        if (! *s) {
#line 2098
          if (fd <= max_zsh_fd) {
#line 2098
            if ((int )*(fdtable + fd) == 2) {
              {
#line 2101
              zwarn("can\'t clobber parameter %s containing file descriptor %d", f->varid,
                    fd);
#line 2104
              tmp___0 = __errno_location();
#line 2104
              *tmp___0 = 0;
              }
#line 2105
              return (0);
            }
          }
        }
      }
    }
  }
#line 2107
  return (1);
}
}
#line 2113 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int clobber_open(struct redir *f ) 
{ 
  struct stat buf___7 ;
  int fd ;
  int oerrno ;
  char *tmp ;
  int tmp___0 ;
  char *tmp___1 ;
  int *tmp___2 ;
  int tmp___3 ;
  char *tmp___4 ;
  int *tmp___5 ;
  void *__cil_tmp12 ;

  {
#line 2120
  if (opts[32]) {
    {
#line 2121
    tmp = unmeta((char const   *)f->name);
#line 2121
    tmp___0 = open((char const   *)tmp, 833, 438);
    }
#line 2121
    return (tmp___0);
  } else
#line 2120
  if (f->type >= 0) {
#line 2120
    if (f->type <= 8) {
#line 2120
      if (f->type & 1) {
        {
#line 2121
        tmp = unmeta((char const   *)f->name);
#line 2121
        tmp___0 = open((char const   *)tmp, 833, 438);
        }
#line 2121
        return (tmp___0);
      }
    }
  }
  {
#line 2125
  tmp___1 = unmeta((char const   *)f->name);
#line 2125
  fd = open((char const   *)tmp___1, 449, 438);
  }
#line 2125
  if (fd >= 0) {
#line 2127
    return (fd);
  }
  {
#line 2132
  tmp___2 = __errno_location();
#line 2132
  oerrno = *tmp___2;
#line 2133
  tmp___4 = unmeta((char const   *)f->name);
#line 2133
  fd = open((char const   *)tmp___4, 257);
  }
#line 2133
  if (fd != -1) {
    {
#line 2134
    tmp___3 = fstat(fd, & buf___7);
    }
#line 2134
    if (! tmp___3) {
#line 2134
      if (! ((buf___7.st_mode & 61440U) == 32768U)) {
#line 2135
        return (fd);
      }
    }
    {
#line 2136
    close(fd);
    }
  }
  {
#line 2138
  tmp___5 = __errno_location();
#line 2138
  *tmp___5 = oerrno;
  }
#line 2139
  return (-1);
}
}
#line 2148 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void closemn(struct multio **mfds , int fd , int type___0 ) 
{ 
  struct multio *mn ;
  char buf___7[4092] ;
  int len ;
  int i ;
  pid_t pid ;
  struct timeval bgtime ;
  int *tmp ;
  ssize_t tmp___0 ;
  int *tmp___1 ;
  ssize_t tmp___2 ;
  void *__cil_tmp14 ;

  {
#line 2151
  if (fd >= 0) {
#line 2151
    if (*(mfds + fd)) {
#line 2151
      if ((*(mfds + fd))->ct >= 2) {
        {
#line 2152
        mn = *(mfds + fd);
#line 2163
        signal_block(sigchld_mask);
#line 2164
        pid = zfork(& bgtime);
        }
#line 2164
        if (pid) {
#line 2165
          i = 0;
          {
#line 2165
          while (1) {
            while_continue: /* CIL Label */ ;
#line 2165
            if (! (i < mn->ct)) {
#line 2165
              goto while_break;
            }
            {
#line 2166
            zclose(mn->fds[i]);
#line 2165
            i ++;
            }
          }
          while_break: /* CIL Label */ ;
          }
          {
#line 2167
          zclose(mn->pipe);
          }
#line 2168
          if (pid == -1) {
            {
#line 2169
            *(mfds + fd) = (struct multio *)((void *)0);
#line 2170
            signal_unblock(sigchld_mask);
            }
#line 2171
            return;
          }
          {
#line 2173
          mn->ct = 1;
#line 2174
          mn->fds[0] = fd;
#line 2175
          addproc(pid, (char *)((void *)0), 1, & bgtime);
#line 2176
          signal_unblock(sigchld_mask);
          }
#line 2177
          return;
        }
        {
#line 2180
        signal_unblock(sigchld_mask);
#line 2181
        closeallelse(mn);
        }
#line 2182
        if (mn->rflag) {
          {
#line 2184
          while (1) {
            while_continue___0: /* CIL Label */ ;
            {
#line 2184
            tmp___0 = read(mn->pipe, (void *)(buf___7), (size_t )4092);
#line 2184
            len = (int )tmp___0;
            }
#line 2184
            if (! (len != 0)) {
#line 2184
              goto while_break___0;
            }
#line 2185
            if (len < 0) {
              {
#line 2186
              tmp = __errno_location();
              }
#line 2186
              if (*tmp == 4) {
#line 2187
                goto while_continue___0;
              } else {
#line 2189
                goto while_break___0;
              }
            }
#line 2191
            i = 0;
            {
#line 2191
            while (1) {
              while_continue___1: /* CIL Label */ ;
#line 2191
              if (! (i < mn->ct)) {
#line 2191
                goto while_break___1;
              }
              {
#line 2192
              write_loop(mn->fds[i], (char const   *)(buf___7), (size_t )len);
#line 2191
              i ++;
              }
            }
            while_break___1: /* CIL Label */ ;
            }
          }
          while_break___0: /* CIL Label */ ;
          }
        } else {
#line 2196
          i = 0;
          {
#line 2196
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2196
            if (! (i < mn->ct)) {
#line 2196
              goto while_break___2;
            }
            {
#line 2197
            while (1) {
              while_continue___3: /* CIL Label */ ;
              {
#line 2197
              tmp___2 = read(mn->fds[i], (void *)(buf___7), (size_t )4092);
#line 2197
              len = (int )tmp___2;
              }
#line 2197
              if (! (len != 0)) {
#line 2197
                goto while_break___3;
              }
#line 2198
              if (len < 0) {
                {
#line 2199
                tmp___1 = __errno_location();
                }
#line 2199
                if (*tmp___1 == 4) {
#line 2200
                  goto while_continue___3;
                } else {
#line 2202
                  goto while_break___3;
                }
              }
              {
#line 2204
              write_loop(mn->pipe, (char const   *)(buf___7), (size_t )len);
              }
            }
            while_break___3: /* CIL Label */ ;
            }
#line 2196
            i ++;
          }
          while_break___2: /* CIL Label */ ;
          }
        }
        {
#line 2207
        _exit(0);
        }
      } else {
#line 2151
        goto _L___0;
      }
    } else {
#line 2151
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 2208
  if (fd >= 0) {
#line 2208
    if (type___0 == 15) {
#line 2209
      *(mfds + fd) = (struct multio *)((void *)0);
    }
  }
#line 2210
  return;
}
}
#line 2215 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void closemnodes(struct multio **mfds ) 
{ 
  int i ;
  int j ;

  {
#line 2220
  i = 0;
  {
#line 2220
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2220
    if (! (i < 10)) {
#line 2220
      goto while_break;
    }
#line 2221
    if (*(mfds + i)) {
#line 2222
      j = 0;
      {
#line 2222
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 2222
        if (! (j < (*(mfds + i))->ct)) {
#line 2222
          goto while_break___0;
        }
        {
#line 2223
        zclose((*(mfds + i))->fds[j]);
#line 2222
        j ++;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2224
      *(mfds + i) = (struct multio *)((void *)0);
    }
#line 2220
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2226
  return;
}
}
#line 2229 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void closeallelse(struct multio *mn ) 
{ 
  int i ;
  int j ;
  long openmax ;

  {
#line 2235
  openmax = (long )fdtable_size;
#line 2237
  i = 0;
  {
#line 2237
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2237
    if (! ((long )i < openmax)) {
#line 2237
      goto while_break;
    }
#line 2238
    if (mn->pipe != i) {
#line 2239
      j = 0;
      {
#line 2239
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 2239
        if (! (j < mn->ct)) {
#line 2239
          goto while_break___0;
        }
#line 2240
        if (mn->fds[j] == i) {
#line 2241
          goto while_break___0;
        }
#line 2239
        j ++;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2242
      if (j == mn->ct) {
        {
#line 2243
        zclose(i);
        }
      }
    }
#line 2237
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2245
  return;
}
}
#line 2268 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void addfd(int forked , int *save , struct multio **mfds , int fd1 , int fd2 ,
                  int rflag , char *varid ) 
{ 
  int pipes[2] ;
  int *tmp ;
  void *tmp___0 ;
  int fdN ;
  int tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  int fdN___0 ;
  int tmp___4 ;
  int *tmp___5 ;
  int *tmp___6 ;
  int *tmp___7 ;
  int tmp___8 ;
  int fdN___1 ;
  int new ;
  int old ;
  void *tmp___9 ;
  int *tmp___10 ;
  int tmp___11 ;
  void *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;

  {
#line 2274
  if (varid) {
    {
#line 2276
    fd1 = movefd(fd2);
    }
#line 2277
    if (fd1 == -1) {
      {
#line 2278
      tmp = __errno_location();
#line 2278
      zerr("cannot moved fd %d: %e", fd2, *tmp);
      }
#line 2279
      return;
    } else {
      {
#line 2281
      *(fdtable + fd1) = (unsigned char)2;
#line 2282
      setiparam(varid, (zlong )fd1);
      }
#line 2287
      if (errflag) {
        {
#line 2288
        zclose(fd1);
        }
      }
    }
  } else
#line 2290
  if (! *(mfds + fd1)) {
#line 2290
    goto _L;
  } else
#line 2290
  if (! opts[118]) {
    _L: /* CIL Label */ 
#line 2291
    if (! *(mfds + fd1)) {
      {
#line 2292
      tmp___0 = zhalloc(sizeof(struct multio ));
#line 2292
      *(mfds + fd1) = (struct multio *)tmp___0;
      }
#line 2293
      if (! forked) {
#line 2293
        if (*(save + fd1) == -2) {
#line 2294
          if (fd1 == fd2) {
#line 2295
            *(save + fd1) = -1;
          } else {
            {
#line 2297
            tmp___1 = movefd(fd1);
#line 2297
            fdN = tmp___1;
            }
#line 2302
            if (fdN < 0) {
              {
#line 2302
              tmp___3 = __errno_location();
              }
#line 2302
              if (*tmp___3 != 9) {
                {
#line 2303
                tmp___2 = __errno_location();
#line 2303
                zerr("cannot duplicate fd %d: %e", fd1, *tmp___2);
#line 2304
                *(mfds + fd1) = (struct multio *)((void *)0);
#line 2305
                closemnodes(mfds);
                }
#line 2306
                return;
              }
            }
#line 2308
            *(save + fd1) = fdN;
          }
        }
      }
    }
#line 2312
    if (! varid) {
      {
#line 2313
      redup(fd2, fd1);
      }
    }
#line 2314
    (*(mfds + fd1))->ct = 1;
#line 2315
    (*(mfds + fd1))->fds[0] = fd1;
#line 2316
    (*(mfds + fd1))->rflag = rflag;
  } else {
#line 2318
    if ((*(mfds + fd1))->rflag != rflag) {
      {
#line 2319
      zerr("file mode mismatch on fd %d", fd1);
#line 2320
      closemnodes(mfds);
      }
#line 2321
      return;
    }
#line 2323
    if ((*(mfds + fd1))->ct == 1) {
      {
#line 2324
      tmp___4 = movefd(fd1);
#line 2324
      fdN___0 = tmp___4;
      }
#line 2325
      if (fdN___0 < 0) {
        {
#line 2326
        tmp___5 = __errno_location();
#line 2326
        zerr("multio failed for fd %d: %e", fd1, *tmp___5);
#line 2327
        closemnodes(mfds);
        }
#line 2328
        return;
      }
      {
#line 2330
      (*(mfds + fd1))->fds[0] = fdN___0;
#line 2331
      fdN___0 = movefd(fd2);
      }
#line 2332
      if (fdN___0 < 0) {
        {
#line 2333
        tmp___6 = __errno_location();
#line 2333
        zerr("multio failed for fd %d: %e", fd2, *tmp___6);
#line 2334
        closemnodes(mfds);
        }
#line 2335
        return;
      }
      {
#line 2337
      (*(mfds + fd1))->fds[1] = fdN___0;
#line 2338
      tmp___8 = mpipe(pipes);
      }
#line 2338
      if (tmp___8 < 0) {
        {
#line 2339
        tmp___7 = __errno_location();
#line 2339
        zerr("multio failed for fd %d: %e", fd2, *tmp___7);
#line 2340
        closemnodes(mfds);
        }
#line 2341
        return;
      }
      {
#line 2343
      (*(mfds + fd1))->pipe = pipes[1 - rflag];
#line 2344
      redup(pipes[rflag], fd1);
#line 2345
      (*(mfds + fd1))->ct = 2;
      }
    } else {
#line 2348
      if (! ((*(mfds + fd1))->ct % 8)) {
        {
#line 2349
        new = (int )(sizeof(struct multio ) + sizeof(int ) * (unsigned long )(*(mfds + fd1))->ct);
#line 2350
        old = (int )((unsigned long )new - sizeof(int ) * 8UL);
#line 2351
        tmp___9 = hrealloc((char *)*(mfds + fd1), (size_t )old, (size_t )new);
#line 2351
        *(mfds + fd1) = (struct multio *)tmp___9;
        }
      }
      {
#line 2353
      fdN___1 = movefd(fd2);
      }
#line 2353
      if (fdN___1 < 0) {
        {
#line 2354
        tmp___10 = __errno_location();
#line 2354
        zerr("multio failed for fd %d: %e", fd2, *tmp___10);
#line 2355
        closemnodes(mfds);
        }
#line 2356
        return;
      }
#line 2358
      tmp___11 = (*(mfds + fd1))->ct;
#line 2358
      ((*(mfds + fd1))->ct) ++;
#line 2358
      (*(mfds + fd1))->fds[tmp___11] = fdN___1;
    }
  }
#line 2361
  return;
}
}
#line 2364 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void addvars(Estate state , Wordcode pc , int addflags ) 
{ 
  LinkList vl ;
  int xtr ;
  int isstr ;
  int htok ;
  char **arr ;
  char **ptr___0 ;
  char *name ;
  int flags ;
  Wordcode opc ;
  wordcode ac ;
  union linkroot svl ;
  struct linknode __n0 ;
  int myflags ;
  char const   *tmp ;
  char *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  Param pm ;
  char *val ;
  int allexp ;
  void *tmp___3 ;
  HashNode tmp___4 ;
  int tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  void *tmp___8 ;
  char **tmp___9 ;
  void *tmp___10 ;
  void *tmp___11 ;
  Wordcode tmp___12 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;

  {
#line 2368
  htok = 0;
#line 2372
  opc = state->pc;
#line 2382
  if (! (addflags & 4)) {
#line 2382
    if (locallevel > forklevel) {
#line 2382
      if (opts[174]) {
#line 2382
        flags = 2;
      } else {
#line 2382
        flags = 0;
      }
    } else {
#line 2382
      flags = 0;
    }
  } else {
#line 2382
    flags = 0;
  }
#line 2385
  xtr = (int )opts[175];
#line 2386
  if (xtr) {
    {
#line 2387
    printprompt4();
#line 2388
    doneps4 = 1;
    }
  }
#line 2390
  state->pc = pc;
  {
#line 2391
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2391
    tmp___12 = state->pc;
#line 2391
    (state->pc) ++;
#line 2391
    ac = *tmp___12;
#line 2391
    if (! ((ac & (wordcode )((1 << 5) - 1)) == 5U)) {
#line 2391
      goto while_break;
    }
    {
#line 2392
    myflags = flags;
#line 2393
    name = ecgetstr(state, 2, & htok);
    }
#line 2394
    if (htok) {
      {
#line 2395
      untokenize(name);
      }
    }
#line 2396
    if (((ac >> 5) & 2U) >> 1 == 1U) {
#line 2397
      myflags |= 1;
    }
#line 2398
    if (xtr) {
#line 2399
      if (((ac >> 5) & 2U) >> 1 == 1U) {
#line 2399
        tmp = "%s+=";
      } else {
#line 2399
        tmp = "%s=";
      }
      {
#line 2399
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)tmp,
              name);
      }
    }
#line 2401
    isstr = ((ac >> 5) & 1U) == 0U;
#line 2401
    if (isstr) {
      {
#line 2402
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2402
        svl.list.first = & __n0;
#line 2402
        svl.list.last = & __n0;
#line 2402
        svl.list.flags = 0;
#line 2402
        __n0.next = (LinkNode )((void *)0);
#line 2402
        __n0.prev = & svl.node;
#line 2402
        tmp___0 = ecgetstr(state, 2, & htok);
#line 2402
        __n0.dat = (void *)tmp___0;
        }
#line 2402
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2403
      vl = & svl;
    } else {
      {
#line 2405
      vl = ecgetlist(state, (int )((ac >> 5) >> 2), 2, & htok);
      }
    }
#line 2407
    if (vl) {
#line 2407
      if (htok) {
#line 2408
        if (isstr) {
#line 2408
          tmp___1 = 6;
        } else {
#line 2408
          tmp___1 = 2;
        }
        {
#line 2408
        prefork(vl, tmp___1, (int *)((void *)0));
        }
#line 2410
        if (errflag) {
#line 2411
          state->pc = opc;
#line 2412
          return;
        }
#line 2414
        if (! isstr) {
#line 2414
          goto _L;
        } else
#line 2414
        if (opts[61]) {
#line 2414
          if (isstr) {
            {
#line 2414
            tmp___2 = haswilds((char *)(vl->list.first)->dat);
            }
#line 2414
            if (tmp___2) {
              _L: /* CIL Label */ 
              {
#line 2416
              globlist(vl, 0);
              }
#line 2421
              if (opts[61]) {
#line 2421
                if (isstr) {
                  {
#line 2422
                  unsetparam(name);
                  }
                }
              }
            }
          }
        }
#line 2424
        if (errflag) {
#line 2425
          state->pc = opc;
#line 2426
          return;
        }
      }
    }
#line 2429
    if (isstr) {
#line 2429
      if ((unsigned long )vl->list.first == (unsigned long )((void *)0)) {
#line 2429
        goto _L___0;
      } else
#line 2429
      if (! (vl->list.first)->next) {
        _L___0: /* CIL Label */ 
#line 2434
        if ((unsigned long )vl->list.first == (unsigned long )((void *)0)) {
          {
#line 2435
          val = ztrdup("");
          }
        } else {
          {
#line 2437
          untokenize((char *)(vl->list.first)->dat);
#line 2438
          tmp___3 = ugetnode(vl);
#line 2438
          val = ztrdup((char const   *)tmp___3);
          }
        }
#line 2440
        if (xtr) {
          {
#line 2441
          quotedzputs((char const   *)val, xtrerr);
#line 2442
          fputc(' ', xtrerr);
          }
        }
#line 2444
        if (addflags & 1) {
          {
#line 2444
          tmp___6 = strchr((char const   *)name, '[');
          }
#line 2444
          if (tmp___6) {
            {
#line 2464
            pm = assignsparam(name, val, myflags);
            }
          } else {
#line 2445
            if (addflags & 2) {
#line 2445
              if (opts[153]) {
                {
#line 2445
                tmp___4 = (*(paramtab->removenode))(paramtab, (char const   *)name);
#line 2445
                pm = (Param )tmp___4;
                }
#line 2445
                if (pm) {
#line 2445
                  if (pm->node.flags & (1 << 24)) {
                    {
#line 2448
                    zerr("%s: restricted", pm->node.nam);
#line 2449
                    zsfree(val);
#line 2450
                    state->pc = opc;
                    }
#line 2451
                    return;
                  }
                }
              }
            }
            {
#line 2453
            tmp___5 = strcmp((char const   *)name, "STTY");
            }
#line 2453
            if (tmp___5 == 0) {
              {
#line 2454
              zsfree(STTYval);
#line 2455
              STTYval = ztrdup((char const   *)val);
              }
            }
#line 2457
            allexp = (int )opts[2];
#line 2458
            opts[2] = (char)1;
#line 2459
            if (opts[94]) {
              {
#line 2460
              unsetparam(name);
              }
            }
            {
#line 2461
            pm = assignsparam(name, val, myflags);
#line 2462
            opts[2] = (char )allexp;
            }
          }
        } else {
          {
#line 2464
          pm = assignsparam(name, val, myflags);
          }
        }
#line 2465
        if (errflag) {
#line 2466
          state->pc = opc;
#line 2467
          return;
        }
#line 2469
        goto while_continue;
      }
    }
#line 2471
    if (vl) {
      {
#line 2472
      tmp___7 = countlinknodes(vl);
#line 2472
      tmp___8 = zalloc(sizeof(char *) * (unsigned long )(tmp___7 + 1));
#line 2472
      arr = (char **)tmp___8;
#line 2472
      ptr___0 = arr;
      }
      {
#line 2475
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 2475
        if (! ((unsigned long )vl->list.first != (unsigned long )((void *)0))) {
#line 2475
          goto while_break___1;
        }
        {
#line 2476
        tmp___9 = ptr___0;
#line 2476
        ptr___0 ++;
#line 2476
        tmp___10 = ugetnode(vl);
#line 2476
        *tmp___9 = ztrdup((char const   *)((char *)tmp___10));
        }
      }
      while_break___1: /* CIL Label */ ;
      }
    } else {
      {
#line 2478
      tmp___11 = zalloc(sizeof(char *));
#line 2478
      arr = (char **)tmp___11;
#line 2478
      ptr___0 = arr;
      }
    }
#line 2480
    *ptr___0 = (char *)((void *)0);
#line 2481
    if (xtr) {
      {
#line 2482
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"( ");
#line 2483
      ptr___0 = arr;
      }
      {
#line 2483
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 2483
        if (! *ptr___0) {
#line 2483
          goto while_break___2;
        }
        {
#line 2484
        quotedzputs((char const   *)*ptr___0, xtrerr);
#line 2485
        fputc(' ', xtrerr);
#line 2483
        ptr___0 ++;
        }
      }
      while_break___2: /* CIL Label */ ;
      }
      {
#line 2487
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)") ");
      }
    }
    {
#line 2489
    assignaparam(name, arr, myflags);
    }
#line 2490
    if (errflag) {
#line 2491
      state->pc = opc;
#line 2492
      return;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2495
  state->pc = opc;
#line 2496
  return;
}
}
#line 2499 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void setunderscore(char *str ) 
{ 
  int l ;
  size_t tmp ;
  int nl___0 ;
  void *tmp___0 ;
  void *tmp___1 ;
  sigset_t oset ;
  void *__cil_tmp8 ;

  {
#line 2502
  queueing_enabled ++;
#line 2503
  if (str) {
#line 2503
    if (*str) {
      {
#line 2504
      tmp = strlen((char const   *)str);
#line 2504
      l = (int )(tmp + 1UL);
#line 2504
      nl___0 = (l + 31) & -32;
      }
#line 2506
      if (nl___0 > underscorelen) {
        {
#line 2507
        zfree((void *)zunderscore, underscorelen);
#line 2508
        underscorelen = nl___0;
#line 2508
        tmp___0 = zalloc((size_t )underscorelen);
#line 2508
        zunderscore = (char *)tmp___0;
        }
      } else
#line 2506
      if (underscorelen - nl___0 > 64) {
        {
#line 2507
        zfree((void *)zunderscore, underscorelen);
#line 2508
        underscorelen = nl___0;
#line 2508
        tmp___0 = zalloc((size_t )underscorelen);
#line 2508
        zunderscore = (char *)tmp___0;
        }
      }
      {
#line 2510
      strcpy((char */* __restrict  */)zunderscore, (char const   */* __restrict  */)str);
#line 2511
      underscoreused = l;
      }
    } else {
#line 2503
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 2513
    if (underscorelen > 128) {
      {
#line 2514
      zfree((void *)zunderscore, underscorelen);
#line 2515
      underscorelen = 32;
#line 2515
      tmp___1 = zalloc((size_t )underscorelen);
#line 2515
      zunderscore = (char *)tmp___1;
      }
    }
#line 2517
    *zunderscore = (char )'\000';
#line 2518
    underscoreused = 1;
  }
  {
#line 2520
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2520
    queueing_enabled --;
#line 2520
    if (! queueing_enabled) {
      {
#line 2520
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2520
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 2520
          if (! (queue_front != queue_rear)) {
#line 2520
            goto while_break___1;
          }
          {
#line 2520
          queue_front = (queue_front + 1) % 128;
#line 2520
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2520
          zhandler(signal_queue[queue_front]);
#line 2520
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 2520
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 2520
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 2521
  return;
}
}
#line 2528 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int esprefork  ;
#line 2528 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int esglob  =    1;
#line 2531 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void execsubst(LinkList strs ) 
{ 
  LinkList ostrs ;

  {
#line 2534
  if (strs) {
    {
#line 2535
    prefork(strs, esprefork, (int *)((void *)0));
    }
#line 2536
    if (esglob) {
#line 2536
      if (! errflag) {
        {
#line 2537
        ostrs = strs;
#line 2538
        globlist(strs, 0);
#line 2539
        strs = ostrs;
        }
      }
    }
  }
#line 2542
  return;
}
}
#line 2550 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static HashNode resolvebuiltin(char const   *cmdarg , HashNode hn ) 
{ 
  char *modname ;
  char *tmp ;
  char *tmp___0 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
#line 2553
  if (! ((Builtin )hn)->handlerfunc) {
    {
#line 2554
    tmp = dupstring((char const   *)((Builtin )hn)->optstr);
#line 2554
    modname = tmp;
    }
#line 2560
    if (hn->flags & (1 << 17)) {
#line 2560
      tmp___0 = (char *)((void *)0);
    } else {
#line 2560
      tmp___0 = hn->nam;
    }
    {
#line 2560
    ensurefeature((char const   *)modname, "b:", (char const   *)tmp___0);
#line 2563
    hn = (*(builtintab->getnode))(builtintab, cmdarg);
    }
#line 2564
    if (! hn) {
      {
#line 2565
      lastval = (zlong )1;
#line 2566
      zerr("autoloading module %s failed to define builtin: %s", modname, cmdarg);
      }
#line 2568
      return ((HashNode )((void *)0));
    }
  }
#line 2571
  return (hn);
}
}
#line 2580 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void execcmd_analyse(Estate state , Execcmd_params eparams ) 
{ 
  wordcode code ;
  int i ;
  LinkList tmp ;
  wordcode tmp___0 ;
  Wordcode tmp___1 ;
  Wordcode tmp___2 ;
  wordcode tmp___3 ;

  {
#line 2586
  eparams->beg = state->pc;
#line 2587
  if ((*(state->pc) & (wordcode )((1 << 5) - 1)) == 4U) {
    {
#line 2587
    tmp = ecgetredirs(state);
#line 2587
    eparams->redir = tmp;
    }
  } else {
#line 2587
    eparams->redir = (LinkList )((void *)0);
  }
#line 2589
  if ((*(state->pc) & (wordcode )((1 << 5) - 1)) == 5U) {
#line 2590
    cmdoutval = 0;
#line 2591
    eparams->varspc = state->pc;
    {
#line 2592
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2592
      code = *(state->pc);
#line 2592
      if (! ((code & (wordcode )((1 << 5) - 1)) == 5U)) {
#line 2592
        goto while_break;
      }
#line 2593
      if (((code >> 5) & 1U) == 0U) {
#line 2593
        tmp___0 = (wordcode )3;
      } else {
#line 2593
        tmp___0 = ((code >> 5) >> 2) + 2U;
      }
#line 2593
      state->pc += tmp___0;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 2596
    eparams->varspc = (Wordcode )((void *)0);
  }
#line 2598
  tmp___1 = state->pc;
#line 2598
  (state->pc) ++;
#line 2598
  code = *tmp___1;
#line 2600
  eparams->type = (int )(code & (wordcode )((1 << 5) - 1));
#line 2601
  eparams->postassigns = 0;
  {
#line 2607
  if (eparams->type == 6) {
#line 2607
    goto case_6;
  }
#line 2613
  if (eparams->type == 7) {
#line 2613
    goto case_7;
  }
#line 2627
  goto switch_default;
  case_6: /* CIL Label */ 
  {
#line 2608
  eparams->args = ecgetlist(state, (int )(code >> 5), 1, & eparams->htok);
#line 2610
  eparams->assignspc = (Wordcode )((void *)0);
  }
#line 2611
  goto switch_break;
  case_7: /* CIL Label */ 
  {
#line 2614
  eparams->args = ecgetlist(state, (int )(code >> 5), 1, & eparams->htok);
#line 2616
  tmp___2 = state->pc;
#line 2616
  (state->pc) ++;
#line 2616
  eparams->postassigns = (int )*tmp___2;
#line 2617
  eparams->assignspc = state->pc;
#line 2618
  i = 0;
  }
  {
#line 2618
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 2618
    if (! (i < eparams->postassigns)) {
#line 2618
      goto while_break___0;
    }
#line 2619
    code = *(state->pc);
#line 2622
    if (((code >> 5) & 1U) == 0U) {
#line 2622
      tmp___3 = (wordcode )3;
    } else {
#line 2622
      tmp___3 = ((code >> 5) >> 2) + 2U;
    }
#line 2622
    state->pc += tmp___3;
#line 2618
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 2625
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 2628
  eparams->args = (LinkList )((void *)0);
#line 2629
  eparams->assignspc = (Wordcode )((void *)0);
#line 2630
  eparams->htok = 0;
#line 2631
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 2633
  return;
}
}
#line 2640 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void execcmd_exec(Estate state , Execcmd_params eparams , int input , int output ,
                         int how , int last1 ) 
{ 
  HashNode hn ;
  LinkList filelist ;
  LinkNode node ;
  Redir fn___0 ;
  struct multio *mfds[10] ;
  char *text ;
  int save[10] ;
  int fil ;
  int dfil ;
  int is_cursh ;
  int do_exec ;
  int redir_err ;
  int i ;
  int nullexec ;
  int assign ;
  int forked ;
  int is_shfunc ;
  int is_builtin ;
  int is_exec ;
  int use_defpath ;
  int cflags ;
  int orig_cflags ;
  int checked ;
  int oautocont ;
  FILE *oxtrerr ;
  FILE *newxtrerr ;
  LinkList args ;
  LinkList redir ;
  Wordcode varspc ;
  int type___0 ;
  char const   *tmp ;
  char const   *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;
  char *cmdarg ;
  int tmp___4 ;
  int tmp___5 ;
  LinkNode argnode ;
  char *argdata ;
  char *cmdopt ;
  int has_p ;
  int has_vV ;
  int has_other ;
  int tmp___6 ;
  char *next___0 ;
  char *cmdopt___0 ;
  char *exec_argv0 ;
  int tmp___7 ;
  size_t tmp___8 ;
  size_t tmp___9 ;
  char *str ;
  char *s ;
  size_t sz___0 ;
  size_t tmp___10 ;
  void *tmp___11 ;
  int unglobbed ;
  char *cmdarg___0 ;
  int tmp___12 ;
  char *tmp___13 ;
  char *tmp___14 ;
  char *tmp___15 ;
  char const   *tmp___16 ;
  LinkNode node___0 ;
  LinkNode next___1 ;
  char *s___0 ;
  int l ;
  size_t tmp___17 ;
  int tmp___18 ;
  char t ;
  char const   *tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  Shfunc shf ;
  struct estate s___1 ;
  LinkList redir2 ;
  void *tmp___22 ;
  char *s___2 ;
  char trycd ;
  int tmp___23 ;
  char *cmdarg___1 ;
  char **checkpath ;
  int dohashcmd ;
  int tmp___24 ;
  Cmdnam tmp___25 ;
  int tmp___26 ;
  char *tmp___27 ;
  char *tmp___28 ;
  int tmp___29 ;
  pid_t pid ;
  int synch[2] ;
  int flags ;
  char dummy___0 ;
  struct timeval bgtime ;
  int *tmp___30 ;
  int tmp___31 ;
  Wordcode p ;
  wordcode ac ;
  char *tmp___32 ;
  int tmp___33 ;
  wordcode tmp___34 ;
  int tmp___35 ;
  int *tmp___36 ;
  int tmp___37 ;
  int tmp___38 ;
  LinkList oargs ;
  int tmp___39 ;
  int tmp___40 ;
  int tmp___41 ;
  int tmp___42 ;
  void *tmp___43 ;
  int tmp___44 ;
  int tmp___45 ;
  int closed ;
  int tmp___46 ;
  int tmp___47 ;
  int *tmp___48 ;
  int *tmp___49 ;
  int *tmp___50 ;
  char *tmp___51 ;
  char *tmp___52 ;
  int tmp___53 ;
  int *tmp___54 ;
  int *tmp___55 ;
  char *s___3 ;
  char *t___0 ;
  struct value vbuf ;
  Value v ;
  int bad ;
  zlong tmp___56 ;
  zlong tmp___57 ;
  char const   *bad_msg[3] ;
  int *tmp___58 ;
  int tmp___59 ;
  int *tmp___60 ;
  int fd ;
  int tmp___61 ;
  int tmp___62 ;
  char fdstr[(int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3] ;
  int *tmp___63 ;
  char const   *tmp___64 ;
  int *tmp___65 ;
  int tmp___66 ;
  char *tmp___67 ;
  int tmp___68 ;
  int tmp___69 ;
  int *tmp___70 ;
  int *tmp___71 ;
  int *tmp___72 ;
  LinkList restorelist ;
  LinkList removelist ;
  int q ;
  int flags___0 ;
  int tmp___73 ;
  Eprog redir_prog ;
  struct estate s___4 ;
  sigset_t oset ;
  int tmp___74 ;
  sigset_t oset___0 ;
  int tmp___75 ;
  int tmp___76 ;
  LinkList restorelist___0 ;
  LinkList removelist___0 ;
  int do_save ;
  int flags___1 ;
  LinkList assigns ;
  int postassigns ;
  Wordcode opc ;
  int htok ;
  wordcode ac___0 ;
  Wordcode tmp___77 ;
  char *name ;
  char *tmp___78 ;
  Asgment asg___0 ;
  union linkroot svl ;
  struct linknode __n0 ;
  char *data ;
  char *ptr___0 ;
  void *tmp___79 ;
  char *tmp___80 ;
  void *tmp___81 ;
  void *tmp___82 ;
  char *val ;
  char *tmp___83 ;
  int tmp___84 ;
  sigset_t oset___1 ;
  int tmp___85 ;
  int *tmp___86 ;
  int tmp___87 ;
  int addflags ;
  void *__cil_tmp197 ;
  void *__cil_tmp198 ;
  void *__cil_tmp199 ;
  void *__cil_tmp200 ;
  void *__cil_tmp201 ;
  void *__cil_tmp202 ;
  void *__cil_tmp203 ;
  void *__cil_tmp204 ;
  char *__cil_tmp205 ;
  char *__cil_tmp206 ;
  char *__cil_tmp207 ;
  char *__cil_tmp208 ;
  char *__cil_tmp209 ;
  char *__cil_tmp210 ;
  char *__cil_tmp211 ;
  char *__cil_tmp212 ;
  char *__cil_tmp213 ;
  char *__cil_tmp214 ;
  char *__cil_tmp215 ;
  char *__cil_tmp216 ;
  char *__cil_tmp217 ;
  char *__cil_tmp218 ;
  char *__cil_tmp219 ;
  char *__cil_tmp220 ;
  char *__cil_tmp221 ;
  char *__cil_tmp222 ;
  char *__cil_tmp223 ;
  char *__cil_tmp224 ;
  char *__cil_tmp225 ;
  char *__cil_tmp226 ;
  char *__cil_tmp227 ;
  char *__cil_tmp228 ;
  char *__cil_tmp229 ;
  char *__cil_tmp230 ;
  char *__cil_tmp231 ;
  char *__cil_tmp232 ;
  char *__cil_tmp233 ;
  char *__cil_tmp234 ;
  char *__cil_tmp235 ;
  char *__cil_tmp236 ;
  char *__cil_tmp237 ;
  char *__cil_tmp238 ;
  char *__cil_tmp239 ;
  char *__cil_tmp240 ;
  char *__cil_tmp241 ;
  char *__cil_tmp242 ;
  char *__cil_tmp243 ;
  char *__cil_tmp244 ;
  char *__cil_tmp245 ;
  char *__cil_tmp246 ;
  char *__cil_tmp247 ;
  char *__cil_tmp248 ;
  char *__cil_tmp249 ;
  char *__cil_tmp250 ;
  char *__cil_tmp251 ;
  char *__cil_tmp252 ;

  {
#line 2644
  hn = (HashNode )((void *)0);
#line 2645
  filelist = (LinkList )((void *)0);
#line 2651
  do_exec = 0;
#line 2651
  redir_err = 0;
#line 2652
  nullexec = 0;
#line 2652
  assign = 0;
#line 2652
  forked = 0;
#line 2653
  is_shfunc = 0;
#line 2653
  is_builtin = 0;
#line 2653
  is_exec = 0;
#line 2653
  use_defpath = 0;
#line 2655
  cflags = 0;
#line 2655
  orig_cflags = 0;
#line 2655
  checked = 0;
#line 2655
  oautocont = -1;
#line 2656
  oxtrerr = xtrerr;
#line 2656
  newxtrerr = (FILE *)((void *)0);
#line 2661
  args = eparams->args;
#line 2662
  redir = eparams->redir;
#line 2663
  varspc = eparams->varspc;
#line 2664
  type___0 = eparams->type;
#line 2666
  doneps4 = 0;
#line 2672
  if (! args) {
#line 2672
    if (varspc) {
#line 2673
      if (errflag) {
#line 2673
        lastval = (zlong )errflag;
      } else {
#line 2673
        lastval = (zlong )cmdoutval;
      }
    }
  }
#line 2681
  use_cmdoutval = ! args;
#line 2683
  i = 0;
  {
#line 2683
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2683
    if (! (i < 10)) {
#line 2683
      goto while_break;
    }
#line 2684
    save[i] = -2;
#line 2685
    mfds[i] = (struct multio *)((void *)0);
#line 2683
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 2690
  if (type___0 == 6) {
#line 2690
    goto _L;
  } else
#line 2690
  if (type___0 == 7) {
    _L: /* CIL Label */ 
#line 2690
    if (args) {
#line 2690
      if ((unsigned long )args->list.first != (unsigned long )((void *)0)) {
#line 2690
        if ((int )*((char *)(args->list.first)->dat) == 37) {
#line 2692
          if (how & (1 << 3)) {
#line 2693
            oautocont = (int )opts[7];
#line 2694
            opts[7] = (char)1;
          }
#line 2696
          if (how & (1 << 3)) {
#line 2696
            tmp___0 = "disown";
          } else {
#line 2696
            if (how & (1 << 2)) {
#line 2696
              tmp = "bg";
            } else {
#line 2696
              tmp = "fg";
            }
#line 2696
            tmp___0 = tmp;
          }
          {
#line 2696
          tmp___1 = dupstring(tmp___0);
#line 2696
          insertlinknode(args, & args->node, (void *)tmp___1);
#line 2698
          how = 1 << 1;
          }
        }
      }
    }
  }
#line 2705
  if (opts[15]) {
#line 2705
    if (type___0 == 6) {
#line 2705
      if (how & (1 << 1)) {
#line 2705
        if (args) {
#line 2705
          if ((unsigned long )args->list.first != (unsigned long )((void *)0)) {
#line 2705
            if (! redir) {
#line 2705
              goto _L___0;
            } else
#line 2705
            if ((unsigned long )redir->list.first == (unsigned long )((void *)0)) {
              _L___0: /* CIL Label */ 
#line 2705
              if (! input) {
#line 2705
                if (! (args->list.first)->next) {
#line 2708
                  if (! opts[120]) {
                    {
#line 2709
                    scanjobs();
                    }
                  }
                  {
#line 2710
                  tmp___3 = findjobnam((char const   *)(args->list.first)->dat);
                  }
#line 2710
                  if (tmp___3 != -1) {
                    {
#line 2711
                    tmp___2 = dupstring("fg");
#line 2711
                    insertlinknode(args, & args->node, (void *)tmp___2);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 2719
  if (type___0 == 6) {
#line 2719
    goto _L___2;
  } else
#line 2719
  if (type___0 == 7) {
    _L___2: /* CIL Label */ 
    {
#line 2720
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2720
      if (args) {
#line 2720
        if (! ((unsigned long )args->list.first != (unsigned long )((void *)0))) {
#line 2720
          goto while_break___0;
        }
      } else {
#line 2720
        goto while_break___0;
      }
      {
#line 2721
      cmdarg = (char *)(args->list.first)->dat;
#line 2722
      tmp___4 = has_token((char const   *)cmdarg);
      }
#line 2722
      if (tmp___4) {
#line 2722
        tmp___5 = 0;
      } else {
#line 2722
        tmp___5 = 1;
      }
#line 2722
      checked = tmp___5;
#line 2723
      if (! checked) {
#line 2724
        goto while_break___0;
      }
#line 2725
      if (type___0 == 7) {
        {
#line 2725
        hn = (*(builtintab->getnode2))(builtintab, (char const   *)cmdarg);
        }
#line 2725
        if (hn) {
#line 2734
          checked = 1;
        } else {
#line 2725
          goto _L___1;
        }
      } else {
        _L___1: /* CIL Label */ 
#line 2736
        if (! (cflags & ((1 << 7) | (1 << 8)))) {
          {
#line 2736
          hn = (*(shfunctab->getnode))(shfunctab, (char const   *)cmdarg);
          }
#line 2736
          if (hn) {
#line 2738
            is_shfunc = 1;
#line 2739
            goto while_break___0;
          }
        }
        {
#line 2741
        hn = (*(builtintab->getnode))(builtintab, (char const   *)cmdarg);
        }
#line 2741
        if (! hn) {
#line 2742
          checked = ! (cflags & (1 << 7));
#line 2743
          goto while_break___0;
        }
      }
#line 2746
      orig_cflags |= cflags;
#line 2747
      cflags &= ~ (1 << 7) & ~ (1 << 8);
#line 2748
      cflags |= hn->flags;
#line 2749
      if (! (hn->flags & (1 << 5))) {
        {
#line 2750
        is_builtin = 1;
#line 2753
        hn = resolvebuiltin((char const   *)cmdarg, hn);
        }
#line 2753
        if (! hn) {
#line 2754
          return;
        }
#line 2755
        assign = hn->flags & (1 << 4);
#line 2756
        goto while_break___0;
      }
#line 2758
      checked = 0;
#line 2759
      if (cflags & (1 << 8)) {
#line 2759
        if ((args->list.first)->next) {
#line 2769
          argnode = (args->list.first)->next;
#line 2770
          argdata = (char *)argnode->dat;
#line 2772
          has_p = 0;
#line 2772
          has_vV = 0;
#line 2772
          has_other = 0;
          {
#line 2773
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 2773
            if (! ((int )*argdata == 45)) {
#line 2773
              goto while_break___1;
            }
#line 2775
            if (! *(argdata + 1)) {
#line 2776
              goto while_break___1;
            } else
#line 2775
            if ((int )*(argdata + 1) == 45) {
#line 2775
              if (! *(argdata + 2)) {
#line 2776
                goto while_break___1;
              }
            }
#line 2777
            cmdopt = argdata + 1;
            {
#line 2777
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 2777
              if (! *cmdopt) {
#line 2777
                goto while_break___2;
              }
              {
#line 2779
              if ((int )*cmdopt == 112) {
#line 2779
                goto case_112;
              }
#line 2790
              if ((int )*cmdopt == 86) {
#line 2790
                goto case_86;
              }
#line 2790
              if ((int )*cmdopt == 118) {
#line 2790
                goto case_86;
              }
#line 2793
              goto switch_default;
              case_112: /* CIL Label */ 
#line 2787
              has_p = 1;
#line 2788
              goto switch_break;
              case_86: /* CIL Label */ 
              case_118: /* CIL Label */ 
#line 2791
              has_vV = 1;
#line 2792
              goto switch_break;
              switch_default: /* CIL Label */ 
#line 2794
              has_other = 1;
#line 2795
              goto switch_break;
              switch_break: /* CIL Label */ ;
              }
#line 2777
              cmdopt ++;
            }
            while_break___2: /* CIL Label */ ;
            }
#line 2798
            if (has_other) {
#line 2800
              has_vV = 0;
#line 2800
              has_p = has_vV;
#line 2801
              goto while_break___1;
            }
#line 2804
            argnode = argnode->next;
#line 2805
            if (! argnode) {
#line 2806
              goto while_break___1;
            }
#line 2807
            argdata = (char *)argnode->dat;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 2809
          if (has_vV) {
#line 2811
            hn = & commandbn.node;
#line 2812
            is_builtin = 1;
#line 2813
            goto while_break___0;
          } else
#line 2814
          if (has_p) {
            {
#line 2816
            uremnode(args, args->list.first);
#line 2817
            use_defpath = 1;
#line 2818
            argnode = (args->list.first)->next;
            }
#line 2818
            if (argnode) {
#line 2819
              argdata = (char *)argnode->dat;
            }
          }
          {
#line 2829
          tmp___6 = strcmp((char const   *)argdata, "--");
          }
#line 2829
          if (! tmp___6) {
            {
#line 2830
            uremnode(args, args->list.first);
            }
          }
        }
      }
#line 2832
      if (cflags & (1 << 9)) {
#line 2832
        if ((args->list.first)->next) {
#line 2839
          next___0 = (char *)((args->list.first)->next)->dat;
#line 2840
          exec_argv0 = (char *)((void *)0);
          {
#line 2849
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 2849
            if (next___0) {
#line 2849
              if ((int )*next___0 == 45) {
                {
#line 2849
                tmp___9 = strlen((char const   *)next___0);
                }
#line 2849
                if (! (tmp___9 >= 2UL)) {
#line 2849
                  goto while_break___3;
                }
              } else {
#line 2849
                goto while_break___3;
              }
            } else {
#line 2849
              goto while_break___3;
            }
#line 2850
            if (! args->list.first) {
              {
#line 2851
              zerr("exec requires a command to execute");
#line 2852
              lastval = (zlong )1;
#line 2853
              errflag |= 1;
              }
#line 2854
              goto done;
            }
            {
#line 2856
            uremnode(args, args->list.first);
#line 2857
            tmp___7 = strcmp((char const   *)next___0, "--");
            }
#line 2857
            if (! tmp___7) {
#line 2858
              goto while_break___3;
            }
#line 2859
            cmdopt___0 = next___0 + 1;
            {
#line 2859
            while (1) {
              while_continue___4: /* CIL Label */ ;
#line 2859
              if (! *cmdopt___0) {
#line 2859
                goto while_break___4;
              }
              {
#line 2861
              if ((int )*cmdopt___0 == 97) {
#line 2861
                goto case_97;
              }
#line 2885
              if ((int )*cmdopt___0 == 99) {
#line 2885
                goto case_99;
              }
#line 2888
              if ((int )*cmdopt___0 == 108) {
#line 2888
                goto case_108;
              }
#line 2891
              goto switch_default___0;
              case_97: /* CIL Label */ 
#line 2863
              if (*(cmdopt___0 + 1)) {
                {
#line 2864
                exec_argv0 = cmdopt___0 + 1;
#line 2866
                tmp___8 = strlen((char const   *)(cmdopt___0 + 1));
#line 2866
                cmdopt___0 += tmp___8;
                }
              } else {
#line 2868
                if (! args->list.first) {
                  {
#line 2869
                  zerr("exec requires a command to execute");
#line 2870
                  lastval = (zlong )1;
#line 2871
                  errflag |= 1;
                  }
#line 2872
                  goto done;
                }
#line 2874
                if (! (args->list.first)->next) {
                  {
#line 2875
                  zerr("exec flag -a requires a parameter");
#line 2876
                  lastval = (zlong )1;
#line 2877
                  errflag |= 1;
                  }
#line 2878
                  goto done;
                }
                {
#line 2880
                exec_argv0 = (char *)((args->list.first)->next)->dat;
#line 2882
                uremnode(args, args->list.first);
                }
              }
#line 2884
              goto switch_break___0;
              case_99: /* CIL Label */ 
#line 2886
              cflags |= 1 << 16;
#line 2887
              goto switch_break___0;
              case_108: /* CIL Label */ 
#line 2889
              cflags |= 1 << 6;
#line 2890
              goto switch_break___0;
              switch_default___0: /* CIL Label */ 
              {
#line 2892
              zerr("unknown exec flag -%c", (int )*cmdopt___0);
#line 2893
              lastval = (zlong )1;
#line 2894
              errflag |= 1;
              }
#line 2895
              return;
              switch_break___0: /* CIL Label */ ;
              }
#line 2859
              cmdopt___0 ++;
            }
            while_break___4: /* CIL Label */ ;
            }
#line 2898
            if (args->list.first) {
#line 2898
              if ((args->list.first)->next) {
#line 2899
                next___0 = (char *)((args->list.first)->next)->dat;
              }
            }
          }
          while_break___3: /* CIL Label */ ;
          }
#line 2901
          if (exec_argv0) {
            {
#line 2903
            tmp___10 = strlen((char const   *)exec_argv0);
#line 2903
            sz___0 = tmp___10;
#line 2904
            tmp___11 = zalloc((6UL + sz___0) + 1UL);
#line 2904
            s = (char *)tmp___11;
#line 2904
            str = s;
#line 2905
            strcpy((char */* __restrict  */)s, (char const   */* __restrict  */)"ARGV0=");
#line 2906
            s += 6;
#line 2907
            strcpy((char */* __restrict  */)s, (char const   */* __restrict  */)exec_argv0);
#line 2908
            zputenv(str);
            }
          }
        }
      }
      {
#line 2911
      uremnode(args, args->list.first);
#line 2912
      hn = (HashNode )((void *)0);
      }
#line 2913
      if (cflags & (1 << 8)) {
#line 2913
        if (! opts[130]) {
#line 2914
          goto while_break___0;
        }
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 2919
  if (noerrexit == 2) {
#line 2919
    if (! is_shfunc) {
#line 2920
      noerrexit = 0;
    }
  }
#line 2923
  if (assign) {
#line 2923
    esprefork = 1;
  } else
#line 2923
  if (opts[111]) {
#line 2923
    esprefork = 1;
  } else {
#line 2923
    esprefork = 0;
  }
#line 2924
  if (args) {
#line 2924
    if (eparams->htok) {
      {
#line 2925
      prefork(args, esprefork, (int *)((void *)0));
      }
    }
  }
#line 2927
  if (type___0 == 6) {
#line 2927
    goto _L___10;
  } else
#line 2927
  if (type___0 == 7) {
    _L___10: /* CIL Label */ 
#line 2928
    unglobbed = 0;
    {
#line 2930
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 2933
      if (! (cflags & (1 << 10))) {
        {
#line 2934
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 2934
          if (! checked) {
#line 2934
            if (! errflag) {
#line 2934
              if (args) {
#line 2934
                if ((unsigned long )args->list.first != (unsigned long )((void *)0)) {
                  {
#line 2934
                  tmp___12 = has_token((char const   *)((char *)(args->list.first)->dat));
                  }
#line 2934
                  if (! tmp___12) {
#line 2934
                    goto while_break___6;
                  }
                } else {
#line 2934
                  goto while_break___6;
                }
              } else {
#line 2934
                goto while_break___6;
              }
            } else {
#line 2934
              goto while_break___6;
            }
          } else {
#line 2934
            goto while_break___6;
          }
          {
#line 2936
          zglob(args, args->list.first, 0);
          }
        }
        while_break___6: /* CIL Label */ ;
        }
      } else
#line 2937
      if (! unglobbed) {
#line 2938
        node = args->list.first;
        {
#line 2938
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 2938
          if (! node) {
#line 2938
            goto while_break___7;
          }
          {
#line 2939
          untokenize((char *)node->dat);
#line 2938
          node = node->next;
          }
        }
        while_break___7: /* CIL Label */ ;
        }
#line 2940
        unglobbed = 1;
      }
#line 2945
      if (cflags & (1 << 9)) {
#line 2945
        if (last1) {
#line 2946
          do_exec = 1;
        }
      }
#line 2949
      if (! args) {
#line 2949
        goto _L___9;
      } else
#line 2949
      if ((unsigned long )args->list.first == (unsigned long )((void *)0)) {
        _L___9: /* CIL Label */ 
#line 2950
        if (redir) {
#line 2950
          if ((unsigned long )redir->list.first != (unsigned long )((void *)0)) {
#line 2951
            if (do_exec) {
#line 2953
              nullexec = 1;
#line 2954
              goto while_break___5;
            } else
#line 2955
            if (varspc) {
#line 2956
              nullexec = 2;
#line 2957
              goto while_break___5;
            } else
#line 2958
            if (! nullcmd) {
              {
#line 2960
              zerr("redirection with no command");
#line 2961
              lastval = (zlong )1;
#line 2962
              errflag |= 1;
              }
#line 2963
              return;
            } else
#line 2958
            if (! *nullcmd) {
              {
#line 2960
              zerr("redirection with no command");
#line 2961
              lastval = (zlong )1;
#line 2962
              errflag |= 1;
              }
#line 2963
              return;
            } else
#line 2958
            if (opts[44]) {
              {
#line 2960
              zerr("redirection with no command");
#line 2961
              lastval = (zlong )1;
#line 2962
              errflag |= 1;
              }
#line 2963
              return;
            } else
#line 2958
            if (cflags & (1 << 5)) {
              {
#line 2960
              zerr("redirection with no command");
#line 2961
              lastval = (zlong )1;
#line 2962
              errflag |= 1;
              }
#line 2963
              return;
            } else
#line 2964
            if (! nullcmd) {
#line 2964
              goto _L___6;
            } else
#line 2964
            if (! *nullcmd) {
#line 2964
              goto _L___6;
            } else
#line 2964
            if (opts[160]) {
              _L___6: /* CIL Label */ 
#line 2965
              if (! args) {
                {
#line 2966
                args = newlinklist();
                }
              }
              {
#line 2967
              tmp___13 = dupstring(":");
#line 2967
              insertlinknode(args, args->list.last, (void *)tmp___13);
              }
            } else
#line 2968
            if (readnullcmd) {
#line 2968
              if (*readnullcmd) {
#line 2968
                if (((Redir )(redir->list.first)->dat)->type == 9) {
#line 2968
                  if (! (redir->list.first)->next) {
#line 2971
                    if (! args) {
                      {
#line 2972
                      args = newlinklist();
                      }
                    }
                    {
#line 2973
                    tmp___14 = dupstring((char const   *)readnullcmd);
#line 2973
                    insertlinknode(args, args->list.last, (void *)tmp___14);
                    }
                  } else {
#line 2968
                    goto _L___5;
                  }
                } else {
#line 2968
                  goto _L___5;
                }
              } else {
#line 2968
                goto _L___5;
              }
            } else {
              _L___5: /* CIL Label */ 
#line 2975
              if (! args) {
                {
#line 2976
                args = newlinklist();
                }
              }
              {
#line 2977
              tmp___15 = dupstring((char const   *)nullcmd);
#line 2977
              insertlinknode(args, args->list.last, (void *)tmp___15);
              }
            }
          } else {
#line 2950
            goto _L___8;
          }
        } else
        _L___8: /* CIL Label */ 
#line 2979
        if (cflags & (1 << 5)) {
#line 2979
          if (cflags & (1 << 8)) {
#line 2980
            lastval = (zlong )0;
#line 2981
            return;
          } else {
#line 2979
            goto _L___7;
          }
        } else {
          _L___7: /* CIL Label */ 
#line 2988
          if (badcshglob == 1) {
            {
#line 2989
            zerr("no match");
#line 2990
            lastval = (zlong )1;
            }
#line 2991
            return;
          }
#line 2993
          if (use_cmdoutval) {
#line 2993
            cmdoutval = (int )lastval;
          } else {
#line 2993
            cmdoutval = 0;
          }
#line 2994
          if (varspc) {
            {
#line 2995
            addvars(state, varspc, 0);
            }
          }
#line 2996
          if (errflag) {
#line 2997
            lastval = (zlong )1;
          } else {
#line 2999
            lastval = (zlong )cmdoutval;
          }
#line 3000
          if (opts[175]) {
            {
#line 3001
            fputc('\n', xtrerr);
#line 3002
            fflush(xtrerr);
            }
          }
#line 3004
          return;
        }
      } else
#line 3006
      if (opts[153]) {
#line 3006
        if (cflags & (1 << 9)) {
#line 3006
          if (do_exec) {
            {
#line 3007
            zerrnam("exec", "%s: restricted", (char *)(args->list.first)->dat);
#line 3009
            lastval = (zlong )1;
            }
#line 3010
            return;
          }
        }
      }
#line 3024
      if (errflag) {
#line 3026
        goto while_break___5;
      } else
#line 3024
      if (checked) {
#line 3026
        goto while_break___5;
      } else
#line 3024
      if (is_builtin) {
#line 3026
        goto while_break___5;
      } else
#line 3024
      if (! opts[130]) {
#line 3024
        if (cflags & (1 << 8)) {
#line 3026
          goto while_break___5;
        }
      }
#line 3028
      cmdarg___0 = (char *)(args->list.first)->dat;
#line 3029
      if (! (cflags & ((1 << 7) | (1 << 8)))) {
        {
#line 3029
        hn = (*(shfunctab->getnode))(shfunctab, (char const   *)cmdarg___0);
        }
#line 3029
        if (hn) {
#line 3031
          is_shfunc = 1;
#line 3032
          goto while_break___5;
        }
      }
      {
#line 3034
      hn = (*(builtintab->getnode))(builtintab, (char const   *)cmdarg___0);
      }
#line 3034
      if (! hn) {
#line 3035
        if (cflags & (1 << 7)) {
          {
#line 3036
          zwarn("no such builtin: %s", cmdarg___0);
#line 3037
          lastval = (zlong )1;
          }
#line 3038
          if (oautocont >= 0) {
#line 3039
            opts[7] = (char )oautocont;
          }
#line 3040
          return;
        }
#line 3042
        goto while_break___5;
      }
#line 3044
      if (! (hn->flags & (1 << 5))) {
        {
#line 3045
        is_builtin = 1;
#line 3048
        hn = resolvebuiltin((char const   *)cmdarg___0, hn);
        }
#line 3048
        if (! hn) {
#line 3049
          return;
        }
#line 3050
        goto while_break___5;
      }
      {
#line 3052
      cflags &= ~ (1 << 7) & ~ (1 << 8);
#line 3053
      cflags |= hn->flags;
#line 3054
      uremnode(args, args->list.first);
#line 3055
      hn = (HashNode )((void *)0);
      }
    }
    while_break___5: /* CIL Label */ ;
    }
  }
#line 3059
  if (errflag) {
#line 3060
    lastval = (zlong )1;
#line 3061
    if (oautocont >= 0) {
#line 3062
      opts[7] = (char )oautocont;
    }
#line 3063
    return;
  }
#line 3067
  if (how & (1 << 2)) {
    {
#line 3069
    text = getjobtext(state->prog, eparams->beg);
    }
  } else
#line 3067
  if (! sfcontext) {
#line 3067
    if (! sourcelevel) {
#line 3067
      if (opts[115]) {
        {
#line 3069
        text = getjobtext(state->prog, eparams->beg);
        }
      } else
#line 3067
      if (how & 1) {
        {
#line 3069
        text = getjobtext(state->prog, eparams->beg);
        }
      } else {
#line 3071
        text = (char *)((void *)0);
      }
    } else {
#line 3071
      text = (char *)((void *)0);
    }
  } else {
#line 3071
    text = (char *)((void *)0);
  }
#line 3078
  if (type___0 != 11) {
#line 3079
    if (args) {
#line 3079
      if ((unsigned long )args->list.first != (unsigned long )((void *)0)) {
#line 3079
        tmp___16 = (char const   *)((char *)(args->list.last)->dat);
      } else {
#line 3079
        tmp___16 = "";
      }
    } else {
#line 3079
      tmp___16 = "";
    }
    {
#line 3079
    setunderscore((char *)tmp___16);
    }
  }
#line 3083
  if (type___0 == 6) {
#line 3083
    if (opts[92]) {
#line 3083
      if (! opts[154]) {
#line 3083
        if (opts[159]) {
#line 3083
          if (args) {
#line 3083
            if ((unsigned long )args->list.first != (unsigned long )((void *)0)) {
#line 3083
              if ((args->list.first)->next) {
                {
#line 3083
                tmp___21 = strcmp((char const   *)(args->list.first)->dat, "rm");
                }
#line 3083
                if (! tmp___21) {
#line 3088
                  node___0 = (args->list.first)->next;
                  {
#line 3088
                  while (1) {
                    while_continue___8: /* CIL Label */ ;
#line 3088
                    if (node___0) {
#line 3088
                      if (! (! errflag)) {
#line 3088
                        goto while_break___8;
                      }
                    } else {
#line 3088
                      goto while_break___8;
                    }
                    {
#line 3089
                    s___0 = (char *)node___0->dat;
#line 3090
                    tmp___17 = strlen((char const   *)s___0);
#line 3090
                    l = (int )tmp___17;
#line 3092
                    next___1 = node___0->next;
                    }
#line 3093
                    if ((int )*(s___0 + 0) == -121) {
#line 3093
                      if (! *(s___0 + 1)) {
                        {
#line 3094
                        tmp___18 = checkrmall(pwd);
                        }
#line 3094
                        if (! tmp___18) {
                          {
#line 3095
                          uremnode(args, node___0);
                          }
                        }
                      } else {
#line 3093
                        goto _L___11;
                      }
                    } else
                    _L___11: /* CIL Label */ 
#line 3096
                    if (l >= 2) {
#line 3096
                      if ((int )*(s___0 + (l - 2)) == 47) {
#line 3096
                        if ((int )*(s___0 + (l - 1)) == -121) {
#line 3097
                          t = *(s___0 + (l - 2));
#line 3099
                          *(s___0 + (l - 2)) = (char)0;
#line 3100
                          if (*s___0) {
#line 3100
                            tmp___19 = (char const   *)s___0;
                          } else {
#line 3100
                            tmp___19 = "/";
                          }
                          {
#line 3100
                          tmp___20 = checkrmall((char *)tmp___19);
                          }
#line 3100
                          if (! tmp___20) {
                            {
#line 3101
                            uremnode(args, node___0);
                            }
                          }
#line 3102
                          *(s___0 + (l - 2)) = t;
                        }
                      }
                    }
#line 3088
                    node___0 = next___1;
                  }
                  while_break___8: /* CIL Label */ ;
                  }
#line 3105
                  if (! (args->list.first)->next) {
#line 3106
                    errflag |= 1;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 3109
  if (type___0 == 11) {
#line 3118
    if (*(state->pc) != 0U) {
#line 3120
      redir = (LinkList )((void *)0);
    }
  } else
#line 3122
  if (is_shfunc) {
#line 3122
    goto _L___12;
  } else
#line 3122
  if (type___0 == 20) {
    _L___12: /* CIL Label */ 
#line 3124
    if (is_shfunc) {
#line 3125
      shf = (Shfunc )hn;
    } else {
      {
#line 3127
      shf = loadautofn((state->prog)->shf, 1, 0);
      }
#line 3128
      if (shf) {
#line 3129
        (state->prog)->shf = shf;
      } else {
#line 3134
        lastval = (zlong )1;
#line 3135
        if (oautocont >= 0) {
#line 3136
          opts[7] = (char )oautocont;
        }
#line 3137
        return;
      }
    }
#line 3144
    if (shf->redir) {
      {
#line 3148
      s___1.prog = shf->redir;
#line 3149
      s___1.pc = (shf->redir)->prog;
#line 3150
      s___1.strs = (shf->redir)->strs;
#line 3151
      redir2 = ecgetredirs(& s___1);
      }
#line 3152
      if (! redir) {
#line 3153
        redir = redir2;
      } else {
        {
#line 3155
        while (1) {
          while_continue___9: /* CIL Label */ ;
#line 3155
          if (! ((unsigned long )redir2->list.first != (unsigned long )((void *)0))) {
#line 3155
            goto while_break___9;
          }
          {
#line 3156
          tmp___22 = ugetnode(redir2);
#line 3156
          insertlinknode(redir, redir->list.last, tmp___22);
          }
        }
        while_break___9: /* CIL Label */ ;
        }
      }
    }
  }
#line 3161
  if (errflag) {
#line 3162
    lastval = (zlong )1;
#line 3163
    if (oautocont >= 0) {
#line 3164
      opts[7] = (char )oautocont;
    }
#line 3165
    return;
  }
#line 3168
  if (type___0 == 6) {
#line 3168
    goto _L___14;
  } else
#line 3168
  if (type___0 == 7) {
    _L___14: /* CIL Label */ 
#line 3168
    if (! nullexec) {
#line 3170
      if (opts[6]) {
#line 3170
        if (opts[159]) {
#line 3170
          if (! redir) {
#line 3170
            goto _L___13;
          } else
#line 3170
          if ((unsigned long )redir->list.first == (unsigned long )((void *)0)) {
            _L___13: /* CIL Label */ 
#line 3170
            if (args) {
#line 3170
              if (! ((unsigned long )args->list.first == (unsigned long )((void *)0))) {
#line 3170
                if (! (args->list.first)->next) {
#line 3170
                  if (*((char *)(args->list.first)->dat)) {
#line 3170
                    tmp___23 = 1;
                  } else {
#line 3170
                    tmp___23 = 0;
                  }
                } else {
#line 3170
                  tmp___23 = 0;
                }
              } else {
#line 3170
                tmp___23 = 0;
              }
            } else {
#line 3170
              tmp___23 = 0;
            }
          } else {
#line 3170
            tmp___23 = 0;
          }
        } else {
#line 3170
          tmp___23 = 0;
        }
      } else {
#line 3170
        tmp___23 = 0;
      }
#line 3170
      trycd = (char )tmp___23;
#line 3175
      if (! hn) {
        {
#line 3177
        cmdarg___1 = (char *)(args->list.first)->dat;
#line 3178
        checkpath = pathchecked;
#line 3179
        dohashcmd = (int )opts[66];
#line 3181
        hn = (*(cmdnamtab->getnode))(cmdnamtab, (char const   *)cmdarg___1);
        }
#line 3182
        if (hn) {
#line 3182
          if (trycd) {
            {
#line 3182
            tmp___24 = isreallycom((Cmdnam )hn);
            }
#line 3182
            if (! tmp___24) {
#line 3183
              if (! (((Cmdnam )hn)->node.flags & (1 << 1))) {
#line 3184
                checkpath = path;
#line 3185
                dohashcmd = 1;
              }
              {
#line 3187
              (*(cmdnamtab->removenode))(cmdnamtab, (char const   *)cmdarg___1);
#line 3188
              (*(cmdnamtab->freenode))(hn);
#line 3189
              hn = (HashNode )((void *)0);
              }
            }
          }
        }
#line 3191
        if (! hn) {
#line 3191
          if (dohashcmd) {
            {
#line 3191
            tmp___26 = strcmp((char const   *)cmdarg___1, "..");
            }
#line 3191
            if (tmp___26) {
#line 3192
              s___2 = cmdarg___1;
              {
#line 3192
              while (1) {
                while_continue___10: /* CIL Label */ ;
#line 3192
                if (*s___2) {
#line 3192
                  if (! ((int )*s___2 != 47)) {
#line 3192
                    goto while_break___10;
                  }
                } else {
#line 3192
                  goto while_break___10;
                }
#line 3192
                s___2 ++;
              }
              while_break___10: /* CIL Label */ ;
              }
#line 3193
              if (! *s___2) {
                {
#line 3194
                tmp___25 = hashcmd(cmdarg___1, checkpath);
#line 3194
                hn = (HashNode )tmp___25;
                }
              }
            }
          }
        }
      }
#line 3200
      if (! hn) {
#line 3200
        if (trycd) {
          {
#line 3200
          s___2 = cancd((char *)(args->list.first)->dat);
          }
#line 3200
          if (s___2) {
            {
#line 3201
            (args->list.first)->dat = (void *)s___2;
#line 3202
            tmp___27 = dupstring("--");
#line 3202
            insertlinknode(args, & args->node, (void *)tmp___27);
#line 3203
            tmp___28 = dupstring("cd");
#line 3203
            insertlinknode(args, & args->node, (void *)tmp___28);
#line 3204
            hn = (*(builtintab->getnode))(builtintab, "cd");
            }
#line 3204
            if (hn) {
#line 3205
              is_builtin = 1;
            }
          }
        }
      }
    }
  }
#line 3210
  if (is_builtin) {
#line 3210
    tmp___29 = 1;
  } else
#line 3210
  if (is_shfunc) {
#line 3210
    tmp___29 = 1;
  } else
#line 3210
  if (nullexec) {
#line 3210
    tmp___29 = 1;
  } else
#line 3210
  if (type___0 >= 9) {
#line 3210
    tmp___29 = 1;
  } else {
#line 3210
    tmp___29 = 0;
  }
#line 3210
  is_cursh = tmp___29;
#line 3233
  if (how & (1 << 2)) {
#line 3233
    goto _L___18;
  } else
#line 3233
  if (! do_exec) {
#line 3233
    if (is_builtin) {
#line 3233
      goto _L___20;
    } else
#line 3233
    if (is_shfunc) {
      _L___20: /* CIL Label */ 
#line 3233
      if (output) {
#line 3233
        goto _L___18;
      } else {
#line 3233
        goto _L___19;
      }
    } else
    _L___19: /* CIL Label */ 
#line 3233
    if (! is_cursh) {
#line 3233
      if (last1 != 1) {
#line 3233
        goto _L___18;
      } else
#line 3233
      if (nsigtrapped) {
#line 3233
        goto _L___18;
      } else {
        {
#line 3233
        tmp___38 = havefiles();
        }
#line 3233
        if (tmp___38) {
#line 3233
          goto _L___18;
        } else
#line 3233
        if (fdtable_flocks) {
          _L___18: /* CIL Label */ 
          {
#line 3244
          signal_block(sigchld_mask);
#line 3246
          tmp___31 = pipe((int *)(synch));
          }
#line 3246
          if (tmp___31 < 0) {
            {
#line 3247
            tmp___30 = __errno_location();
#line 3247
            zerr("pipe failed: %e", *tmp___30);
            }
#line 3248
            goto fatal;
          } else {
            {
#line 3249
            pid = zfork(& bgtime);
            }
#line 3249
            if (pid == -1) {
              {
#line 3250
              close(synch[0]);
#line 3251
              close(synch[1]);
#line 3252
              lastval = (zlong )1;
#line 3253
              errflag |= 1;
              }
#line 3254
              goto fatal;
            }
          }
#line 3256
          if (pid) {
            {
#line 3258
            close(synch[1]);
#line 3259
            read_loop(synch[0], & dummy___0, (size_t )1);
#line 3260
            close(synch[0]);
            }
#line 3261
            if (how & (1 << 2)) {
#line 3262
              lastpid = (zlong )pid;
            } else
#line 3263
            if (! (jobtab + thisjob)->stty_in_env) {
#line 3263
              if (varspc) {
#line 3265
                p = varspc;
                {
#line 3268
                while (1) {
                  while_continue___11: /* CIL Label */ ;
#line 3268
                  ac = *p;
#line 3268
                  if (! ((ac & (wordcode )((1 << 5) - 1)) == 5U)) {
#line 3268
                    goto while_break___11;
                  }
                  {
#line 3269
                  tmp___32 = ecrawstr(state->prog, p + 1, (int *)((void *)0));
#line 3269
                  tmp___33 = strcmp((char const   *)tmp___32, "STTY");
                  }
#line 3269
                  if (! tmp___33) {
#line 3270
                    (jobtab + thisjob)->stty_in_env = 1;
#line 3271
                    goto while_break___11;
                  }
#line 3273
                  if (((ac >> 5) & 1U) == 0U) {
#line 3273
                    tmp___34 = (wordcode )3;
                  } else {
#line 3273
                    tmp___34 = ((ac >> 5) >> 2) + 2U;
                  }
#line 3273
                  p += tmp___34;
                }
                while_break___11: /* CIL Label */ ;
                }
              }
            }
            {
#line 3277
            addproc(pid, text, 0, & bgtime);
            }
#line 3278
            if (oautocont >= 0) {
#line 3279
              opts[7] = (char )oautocont;
            }
            {
#line 3280
            pipecleanfilelist((jobtab + thisjob)->filelist, 1);
            }
#line 3281
            return;
          }
          {
#line 3284
          close(synch[0]);
          }
#line 3285
          if (how & (1 << 2)) {
#line 3285
            tmp___35 = 1;
          } else {
#line 3285
            tmp___35 = 0;
          }
#line 3285
          flags = tmp___35 | 2;
#line 3286
          if (type___0 != 8) {
#line 3286
            if (! (how & (1 << 2))) {
#line 3287
              flags |= 4;
            }
          }
#line 3288
          if (type___0 == 8) {
#line 3288
            if (! (how & (1 << 2))) {
#line 3289
              flags |= 64;
            }
          }
          {
#line 3290
          filelist = (jobtab + thisjob)->filelist;
#line 3291
          entersubsh(flags);
#line 3292
          close(synch[1]);
#line 3293
          forked = 1;
          }
#line 3294
          if (sigtrapped[2] & (1 << 1)) {
            {
#line 3295
            holdintr();
            }
          }
#line 3298
          if (how & (1 << 2)) {
#line 3298
            if (opts[22]) {
              {
#line 3299
              tmp___37 = nice(5);
              }
#line 3299
              if (tmp___37 < 0) {
                {
#line 3300
                tmp___36 = __errno_location();
#line 3300
                zwarn("nice(5) failed: %e", *tmp___36);
                }
              }
            }
          }
        } else {
#line 3233
          goto _L___16;
        }
      }
    } else {
#line 3233
      goto _L___16;
    }
  } else
  _L___16: /* CIL Label */ 
#line 3303
  if (is_cursh) {
#line 3307
    (jobtab + thisjob)->stat |= 1024;
#line 3308
    if (! (jobtab + thisjob)->procs) {
#line 3309
      (jobtab + thisjob)->stat |= 32;
    }
#line 3310
    if (is_builtin) {
#line 3311
      (jobtab + thisjob)->stat |= 16384;
    }
  } else {
#line 3316
    is_exec = 1;
#line 3324
    if (type___0 == 8) {
#line 3325
      forked = 1;
    }
  }
#line 3328
  esglob = ! (cflags & (1 << 10));
#line 3328
  if (esglob) {
#line 3328
    if (args) {
#line 3328
      if (eparams->htok) {
        {
#line 3329
        oargs = args;
#line 3330
        globlist(args, 0);
#line 3331
        args = oargs;
        }
      }
    }
  }
#line 3333
  if (errflag) {
#line 3334
    lastval = (zlong )1;
#line 3335
    goto err;
  }
  {
#line 3339
  fflush(xtrerr);
  }
#line 3340
  if (opts[175]) {
#line 3340
    if ((unsigned long )xtrerr == (unsigned long )stderr) {
#line 3340
      if (type___0 < 8) {
#line 3340
        goto _L___21;
      } else
#line 3340
      if (type___0 == 10) {
        _L___21: /* CIL Label */ 
        {
#line 3342
        tmp___40 = fileno(stderr);
#line 3342
        tmp___41 = dup(tmp___40);
#line 3342
        tmp___42 = movefd(tmp___41);
#line 3342
        newxtrerr = fdopen(tmp___42, "w");
        }
#line 3342
        if (newxtrerr) {
          {
#line 3343
          xtrerr = newxtrerr;
#line 3344
          tmp___39 = fileno(xtrerr);
#line 3344
          *(fdtable + tmp___39) = (unsigned char)4;
          }
        }
      }
    }
  }
#line 3349
  if (input) {
    {
#line 3350
    addfd(forked, save, mfds, 0, input, 0, (char *)((void *)0));
    }
  }
#line 3351
  if (output) {
    {
#line 3352
    addfd(forked, save, mfds, 1, output, 1, (char *)((void *)0));
    }
  }
#line 3355
  if (redir) {
    {
#line 3356
    spawnpipes(redir, nullexec);
    }
  }
  {
#line 3359
  while (1) {
    while_continue___12: /* CIL Label */ ;
#line 3359
    if (redir) {
#line 3359
      if (! ((unsigned long )redir->list.first != (unsigned long )((void *)0))) {
#line 3359
        goto while_break___12;
      }
    } else {
#line 3359
      goto while_break___12;
    }
    {
#line 3360
    tmp___43 = ugetnode(redir);
#line 3360
    fn___0 = (Redir )tmp___43;
    }
#line 3364
    if (fn___0->type == 16) {
      {
#line 3365
      tmp___44 = checkclobberparam(fn___0);
      }
#line 3365
      if (tmp___44) {
#line 3365
        if (fn___0->fd2 == -1) {
          _L___22: /* CIL Label */ 
#line 3366
          if (fn___0->fd2 != -1) {
            {
#line 3367
            zclose(fn___0->fd2);
            }
          }
          {
#line 3368
          closemnodes(mfds);
#line 3369
          fixfds(save);
          }
          {
#line 3370
          while (1) {
            while_continue___13: /* CIL Label */ ;
#line 3370
            if (! forked) {
#line 3370
              lastval = (zlong )1;
#line 3370
              redir_err = (int )lastval;
#line 3370
              goto done;
            } else {
              {
#line 3370
              _exit(1);
              }
            }
#line 3370
            goto while_break___13;
          }
          while_break___13: /* CIL Label */ ;
          }
        }
      } else {
#line 3365
        goto _L___22;
      }
      {
#line 3372
      addfd(forked, save, mfds, fn___0->fd1, fn___0->fd2, 0, fn___0->varid);
      }
    } else
#line 3373
    if (fn___0->type == 17) {
      {
#line 3374
      tmp___45 = checkclobberparam(fn___0);
      }
#line 3374
      if (tmp___45) {
#line 3374
        if (fn___0->fd2 == -1) {
          _L___23: /* CIL Label */ 
#line 3375
          if (fn___0->fd2 != -1) {
            {
#line 3376
            zclose(fn___0->fd2);
            }
          }
          {
#line 3377
          closemnodes(mfds);
#line 3378
          fixfds(save);
          }
          {
#line 3379
          while (1) {
            while_continue___14: /* CIL Label */ ;
#line 3379
            if (! forked) {
#line 3379
              lastval = (zlong )1;
#line 3379
              redir_err = (int )lastval;
#line 3379
              goto done;
            } else {
              {
#line 3379
              _exit(1);
              }
            }
#line 3379
            goto while_break___14;
          }
          while_break___14: /* CIL Label */ ;
          }
        }
      } else {
#line 3374
        goto _L___23;
      }
      {
#line 3381
      addfd(forked, save, mfds, fn___0->fd1, fn___0->fd2, 1, fn___0->varid);
      }
    } else {
#line 3384
      if (fn___0->type != 12) {
        {
#line 3384
        tmp___46 = xpandredir(fn___0, redir);
        }
#line 3384
        if (tmp___46) {
#line 3385
          goto while_continue___12;
        }
      }
#line 3386
      if (errflag) {
        {
#line 3387
        closemnodes(mfds);
#line 3388
        fixfds(save);
        }
        {
#line 3389
        while (1) {
          while_continue___15: /* CIL Label */ ;
#line 3389
          if (! forked) {
#line 3389
            lastval = (zlong )1;
#line 3389
            redir_err = (int )lastval;
#line 3389
            goto done;
          } else {
            {
#line 3389
            _exit(1);
            }
          }
#line 3389
          goto while_break___15;
        }
        while_break___15: /* CIL Label */ ;
        }
      }
#line 3391
      if (opts[153]) {
#line 3391
        if (fn___0->type >= 0) {
#line 3391
          if (fn___0->type <= 8) {
            {
#line 3392
            zwarn("writing redirection not allowed in restricted mode");
            }
            {
#line 3393
            while (1) {
              while_continue___16: /* CIL Label */ ;
#line 3393
              if (! forked) {
#line 3393
                lastval = (zlong )1;
#line 3393
                redir_err = (int )lastval;
#line 3393
                goto done;
              } else {
                {
#line 3393
                _exit(1);
                }
              }
#line 3393
              goto while_break___16;
            }
            while_break___16: /* CIL Label */ ;
            }
          }
        }
      }
#line 3395
      if (! opts[51]) {
#line 3396
        goto while_continue___12;
      }
      {
#line 3398
      if (fn___0->type == 12) {
#line 3398
        goto case_12;
      }
#line 3414
      if (fn___0->type == 8) {
#line 3414
        goto case_8;
      }
#line 3414
      if (fn___0->type == 9) {
#line 3414
        goto case_8;
      }
#line 3436
      if (fn___0->type == 15) {
#line 3436
        goto case_15;
      }
#line 3510
      if (fn___0->type == 14) {
#line 3510
        goto case_14;
      }
#line 3510
      if (fn___0->type == 13) {
#line 3510
        goto case_14;
      }
#line 3550
      goto switch_default___1;
      case_12: /* CIL Label */ 
      {
#line 3399
      tmp___47 = checkclobberparam(fn___0);
      }
#line 3399
      if (tmp___47) {
        {
#line 3402
        fil = getherestr(fn___0);
        }
      } else {
#line 3400
        fil = -1;
      }
#line 3403
      if (fil == -1) {
        {
#line 3404
        tmp___49 = __errno_location();
        }
#line 3404
        if (*tmp___49) {
          {
#line 3404
          tmp___50 = __errno_location();
          }
#line 3404
          if (*tmp___50 != 4) {
            {
#line 3405
            tmp___48 = __errno_location();
#line 3405
            zwarn("can\'t create temp file for here document: %e", *tmp___48);
            }
          }
        }
        {
#line 3407
        closemnodes(mfds);
#line 3408
        fixfds(save);
        }
        {
#line 3409
        while (1) {
          while_continue___17: /* CIL Label */ ;
#line 3409
          if (! forked) {
#line 3409
            lastval = (zlong )1;
#line 3409
            redir_err = (int )lastval;
#line 3409
            goto done;
          } else {
            {
#line 3409
            _exit(1);
            }
          }
#line 3409
          goto while_break___17;
        }
        while_break___17: /* CIL Label */ ;
        }
      }
      {
#line 3411
      addfd(forked, save, mfds, fn___0->fd1, fil, 0, fn___0->varid);
      }
#line 3412
      goto switch_break___1;
      case_8: /* CIL Label */ 
      case_9: /* CIL Label */ 
      {
#line 3415
      tmp___53 = checkclobberparam(fn___0);
      }
#line 3415
      if (tmp___53) {
#line 3417
        if (fn___0->type == 9) {
          {
#line 3418
          tmp___51 = unmeta((char const   *)fn___0->name);
#line 3418
          fil = open((char const   *)tmp___51, 256);
          }
        } else {
          {
#line 3420
          tmp___52 = unmeta((char const   *)fn___0->name);
#line 3420
          fil = open((char const   *)tmp___52, 322, 438);
          }
        }
      } else {
#line 3416
        fil = -1;
      }
#line 3422
      if (fil == -1) {
        {
#line 3423
        closemnodes(mfds);
#line 3424
        fixfds(save);
#line 3425
        tmp___55 = __errno_location();
        }
#line 3425
        if (*tmp___55 != 4) {
          {
#line 3426
          tmp___54 = __errno_location();
#line 3426
          zwarn("%e: %s", *tmp___54, fn___0->name);
          }
        }
        {
#line 3427
        while (1) {
          while_continue___18: /* CIL Label */ ;
#line 3427
          if (! forked) {
#line 3427
            lastval = (zlong )1;
#line 3427
            redir_err = (int )lastval;
#line 3427
            goto done;
          } else {
            {
#line 3427
            _exit(1);
            }
          }
#line 3427
          goto while_break___18;
        }
        while_break___18: /* CIL Label */ ;
        }
      }
      {
#line 3429
      addfd(forked, save, mfds, fn___0->fd1, fil, 0, fn___0->varid);
      }
#line 3432
      if (nullexec == 1) {
#line 3432
        if (fn___0->fd1 == 0) {
#line 3432
          if (opts[159]) {
#line 3432
            if (opts[92]) {
#line 3432
              if (! zleactive) {
                {
#line 3434
                init_io((char *)((void *)0));
                }
              }
            }
          }
        }
      }
#line 3435
      goto switch_break___1;
      case_15: /* CIL Label */ 
#line 3437
      if (fn___0->varid) {
        {
#line 3438
        s___3 = fn___0->varid;
#line 3441
        bad = 0;
#line 3443
        v = getvalue(& vbuf, & s___3, 0);
        }
#line 3443
        if (v) {
#line 3445
          if ((v->pm)->node.flags & (1 << 10)) {
#line 3446
            bad = 2;
          } else {
            {
#line 3448
            s___3 = getstrvalue(v);
            }
#line 3449
            if (errflag) {
#line 3450
              bad = 1;
            } else {
              {
#line 3452
              tmp___56 = zstrtol((char const   *)s___3, & t___0, 0);
#line 3452
              fn___0->fd1 = (int )tmp___56;
              }
#line 3453
              if ((unsigned long )s___3 == (unsigned long )t___0) {
#line 3454
                bad = 1;
              } else
#line 3455
              if (*t___0) {
#line 3457
                if ((int )*t___0 == 35) {
#line 3457
                  if ((int )*s___3 != 48) {
                    {
#line 3458
                    s___3 = t___0 + 1;
#line 3458
                    tmp___57 = zstrtol((char const   *)s___3, & t___0, fn___0->fd1);
#line 3458
                    fn___0->fd1 = (int )tmp___57;
                    }
                  }
                }
#line 3459
                if ((unsigned long )s___3 == (unsigned long )t___0) {
#line 3460
                  bad = 1;
                } else
#line 3459
                if (*t___0) {
#line 3460
                  bad = 1;
                }
              }
#line 3462
              if (! bad) {
#line 3462
                if (fn___0->fd1 <= max_zsh_fd) {
#line 3463
                  if (fn___0->fd1 >= 10) {
#line 3463
                    if ((int )*(fdtable + fn___0->fd1) == 1) {
#line 3465
                      bad = 3;
                    }
                  }
                }
              }
            }
          }
        } else {
#line 3444
          bad = 1;
        }
#line 3469
        if (bad) {
#line 3470
          bad_msg[0] = "parameter %s does not contain a file descriptor";
#line 3470
          bad_msg[1] = "can\'t close file descriptor from readonly parameter %s";
#line 3470
          bad_msg[2] = "file descriptor %d used by shell, not closed";
#line 3475
          if (bad > 2) {
            {
#line 3476
            zwarn(bad_msg[bad - 1], fn___0->fd1);
            }
          } else {
            {
#line 3478
            zwarn(bad_msg[bad - 1], fn___0->varid);
            }
          }
          {
#line 3479
          while (1) {
            while_continue___19: /* CIL Label */ ;
#line 3479
            if (! forked) {
#line 3479
              lastval = (zlong )1;
#line 3479
              redir_err = (int )lastval;
#line 3479
              goto done;
            } else {
              {
#line 3479
              _exit(1);
              }
            }
#line 3479
            goto while_break___19;
          }
          while_break___19: /* CIL Label */ ;
          }
        }
      }
#line 3486
      closed = 0;
#line 3487
      if (! forked) {
#line 3487
        if (fn___0->fd1 < 10) {
#line 3487
          if (save[fn___0->fd1] == -2) {
            {
#line 3488
            save[fn___0->fd1] = movefd(fn___0->fd1);
            }
#line 3489
            if (save[fn___0->fd1] >= 0) {
#line 3494
              closed = 1;
            }
          }
        }
      }
#line 3497
      if (fn___0->fd1 < 10) {
        {
#line 3498
        closemn(mfds, fn___0->fd1, 15);
        }
      }
#line 3504
      if (! closed) {
        {
#line 3504
        tmp___59 = zclose(fn___0->fd1);
        }
#line 3504
        if (tmp___59 < 0) {
#line 3504
          if (fn___0->varid) {
            {
#line 3505
            tmp___58 = __errno_location();
#line 3505
            zwarn("failed to close file descriptor %d: %e", fn___0->fd1, *tmp___58);
            }
          }
        }
      }
#line 3508
      goto switch_break___1;
      case_14: /* CIL Label */ 
      case_13: /* CIL Label */ 
#line 3511
      if (fn___0->fd2 < 10) {
        {
#line 3512
        closemn(mfds, fn___0->fd2, fn___0->type);
        }
      }
      {
#line 3513
      tmp___62 = checkclobberparam(fn___0);
      }
#line 3513
      if (tmp___62) {
#line 3515
        if (fn___0->fd2 > 9) {
#line 3515
          if (fn___0->fd2 <= max_zsh_fd) {
#line 3515
            if ((int )*(fdtable + fn___0->fd2) != 0) {
#line 3515
              if ((int )*(fdtable + fn___0->fd2) != 2) {
                {
#line 3527
                fil = -1;
#line 3528
                tmp___60 = __errno_location();
#line 3528
                *tmp___60 = 9;
                }
              } else {
#line 3515
                goto _L___25;
              }
            } else
            _L___25: /* CIL Label */ 
#line 3515
            if (fn___0->fd2 == coprocin) {
              {
#line 3527
              fil = -1;
#line 3528
              tmp___60 = __errno_location();
#line 3528
              *tmp___60 = 9;
              }
            } else
#line 3515
            if (fn___0->fd2 == coprocout) {
              {
#line 3527
              fil = -1;
#line 3528
              tmp___60 = __errno_location();
#line 3528
              *tmp___60 = 9;
              }
            } else {
#line 3515
              goto _L___24;
            }
          } else {
#line 3515
            goto _L___24;
          }
        } else {
          _L___24: /* CIL Label */ 
#line 3530
          fd = fn___0->fd2;
#line 3531
          if (fd == -2) {
#line 3532
            if (fn___0->type == 14) {
#line 3532
              fd = coprocout;
            } else {
#line 3532
              fd = coprocin;
            }
          }
          {
#line 3533
          tmp___61 = dup(fd);
#line 3533
          fil = movefd(tmp___61);
          }
        }
      } else {
#line 3514
        fil = -1;
      }
#line 3535
      if (fil == -1) {
        {
#line 3538
        closemnodes(mfds);
#line 3539
        fixfds(save);
        }
#line 3540
        if (fn___0->fd2 != -2) {
          {
#line 3541
          sprintf((char */* __restrict  */)(fdstr), (char const   */* __restrict  */)"%d",
                  fn___0->fd2);
          }
        }
        {
#line 3542
        tmp___65 = __errno_location();
        }
#line 3542
        if (*tmp___65) {
          {
#line 3543
          tmp___63 = __errno_location();
          }
#line 3543
          if (fn___0->fd2 == -2) {
#line 3543
            tmp___64 = "coprocess";
          } else {
#line 3543
            tmp___64 = (char const   *)(fdstr);
          }
          {
#line 3543
          zwarn("%s: %e", tmp___64, *tmp___63);
          }
        }
        {
#line 3545
        while (1) {
          while_continue___20: /* CIL Label */ ;
#line 3545
          if (! forked) {
#line 3545
            lastval = (zlong )1;
#line 3545
            redir_err = (int )lastval;
#line 3545
            goto done;
          } else {
            {
#line 3545
            _exit(1);
            }
          }
#line 3545
          goto while_break___20;
        }
        while_break___20: /* CIL Label */ ;
        }
      }
      {
#line 3547
      addfd(forked, save, mfds, fn___0->fd1, fil, fn___0->type == 14, fn___0->varid);
      }
#line 3549
      goto switch_break___1;
      switch_default___1: /* CIL Label */ 
      {
#line 3551
      tmp___68 = checkclobberparam(fn___0);
      }
#line 3551
      if (tmp___68) {
#line 3553
        if (fn___0->type >= 0) {
#line 3553
          if (fn___0->type <= 8) {
#line 3553
            if (fn___0->type & 2) {
#line 3554
              if (! opts[32]) {
#line 3554
                if (! opts[33]) {
#line 3554
                  if (fn___0->type >= 0) {
#line 3554
                    if (fn___0->type <= 8) {
#line 3554
                      if (fn___0->type & 1) {
#line 3554
                        tmp___66 = 1345;
                      } else {
#line 3554
                        tmp___66 = 1281;
                      }
                    } else {
#line 3554
                      tmp___66 = 1281;
                    }
                  } else {
#line 3554
                    tmp___66 = 1281;
                  }
                } else {
#line 3554
                  tmp___66 = 1345;
                }
              } else {
#line 3554
                tmp___66 = 1345;
              }
              {
#line 3554
              tmp___67 = unmeta((char const   *)fn___0->name);
#line 3554
              fil = open((char const   *)tmp___67, tmp___66, 438);
              }
            } else {
              {
#line 3560
              fil = clobber_open(fn___0);
              }
            }
          } else {
            {
#line 3560
            fil = clobber_open(fn___0);
            }
          }
        } else {
          {
#line 3560
          fil = clobber_open(fn___0);
          }
        }
      } else {
#line 3552
        fil = -1;
      }
#line 3561
      if (fil != -1) {
#line 3561
        if (fn___0->type >= 4) {
#line 3561
          if (fn___0->type <= 7) {
            {
#line 3562
            tmp___69 = dup(fil);
#line 3562
            dfil = movefd(tmp___69);
            }
          } else {
#line 3564
            dfil = 0;
          }
        } else {
#line 3564
          dfil = 0;
        }
      } else {
#line 3564
        dfil = 0;
      }
#line 3565
      if (fil == -1) {
#line 3565
        goto _L___26;
      } else
#line 3565
      if (dfil == -1) {
        _L___26: /* CIL Label */ 
#line 3566
        if (fil != -1) {
          {
#line 3567
          close(fil);
          }
        }
        {
#line 3568
        closemnodes(mfds);
#line 3569
        fixfds(save);
#line 3570
        tmp___71 = __errno_location();
        }
#line 3570
        if (*tmp___71) {
          {
#line 3570
          tmp___72 = __errno_location();
          }
#line 3570
          if (*tmp___72 != 4) {
            {
#line 3571
            tmp___70 = __errno_location();
#line 3571
            zwarn("%e: %s", *tmp___70, fn___0->name);
            }
          }
        }
        {
#line 3572
        while (1) {
          while_continue___21: /* CIL Label */ ;
#line 3572
          if (! forked) {
#line 3572
            lastval = (zlong )1;
#line 3572
            redir_err = (int )lastval;
#line 3572
            goto done;
          } else {
            {
#line 3572
            _exit(1);
            }
          }
#line 3572
          goto while_break___21;
        }
        while_break___21: /* CIL Label */ ;
        }
      }
      {
#line 3574
      addfd(forked, save, mfds, fn___0->fd1, fil, 1, fn___0->varid);
      }
#line 3575
      if (fn___0->type >= 4) {
#line 3575
        if (fn___0->type <= 7) {
          {
#line 3576
          addfd(forked, save, mfds, 2, dfil, 1, (char *)((void *)0));
          }
        }
      }
#line 3577
      goto switch_break___1;
      switch_break___1: /* CIL Label */ ;
      }
#line 3580
      if (errflag) {
        {
#line 3581
        closemnodes(mfds);
#line 3582
        fixfds(save);
        }
        {
#line 3583
        while (1) {
          while_continue___22: /* CIL Label */ ;
#line 3583
          if (! forked) {
#line 3583
            lastval = (zlong )1;
#line 3583
            redir_err = (int )lastval;
#line 3583
            goto done;
          } else {
            {
#line 3583
            _exit(1);
            }
          }
#line 3583
          goto while_break___22;
        }
        while_break___22: /* CIL Label */ ;
        }
      }
    }
  }
  while_break___12: /* CIL Label */ ;
  }
#line 3590
  i = 0;
  {
#line 3590
  while (1) {
    while_continue___23: /* CIL Label */ ;
#line 3590
    if (! (i < 10)) {
#line 3590
      goto while_break___23;
    }
#line 3591
    if (mfds[i]) {
#line 3591
      if ((mfds[i])->ct >= 2) {
        {
#line 3592
        closemn(mfds, i, 15);
        }
      }
    }
#line 3590
    i ++;
  }
  while_break___23: /* CIL Label */ ;
  }
#line 3594
  if (nullexec) {
#line 3600
    if (varspc) {
#line 3601
      restorelist = (LinkList )0;
#line 3601
      removelist = (LinkList )0;
#line 3602
      if (! opts[130]) {
#line 3602
        if (nullexec != 2) {
          {
#line 3603
          save_params(state, varspc, & restorelist, & removelist);
          }
        }
      }
      {
#line 3604
      addvars(state, varspc, 0);
      }
#line 3605
      if (restorelist) {
        {
#line 3606
        restore_params(restorelist, removelist);
        }
      }
    }
#line 3608
    if (errflag) {
#line 3608
      lastval = (zlong )errflag;
    } else {
#line 3608
      lastval = (zlong )cmdoutval;
    }
#line 3609
    if (nullexec == 1) {
#line 3614
      i = 0;
      {
#line 3614
      while (1) {
        while_continue___24: /* CIL Label */ ;
#line 3614
        if (! (i < 10)) {
#line 3614
          goto while_break___24;
        }
#line 3615
        if (save[i] != -2) {
          {
#line 3616
          zclose(save[i]);
          }
        }
#line 3614
        i ++;
      }
      while_break___24: /* CIL Label */ ;
      }
#line 3617
      goto done;
    }
#line 3619
    if (opts[175]) {
      {
#line 3620
      fputc('\n', xtrerr);
#line 3621
      fflush(xtrerr);
      }
    }
  } else
#line 3623
  if (opts[51]) {
#line 3623
    if (! errflag) {
#line 3624
      q = queueing_enabled;
#line 3630
      if (is_exec) {
#line 3631
        if (how & (1 << 2)) {
#line 3631
          tmp___73 = 1;
        } else {
#line 3631
          tmp___73 = 0;
        }
#line 3631
        flags___0 = (tmp___73 | 2) | 8;
#line 3633
        if (type___0 != 8) {
#line 3634
          flags___0 |= 4;
        }
#line 3635
        if (do_exec) {
#line 3635
          goto _L___27;
        } else
#line 3635
        if (type___0 >= 9) {
#line 3635
          if (last1 == 1) {
            _L___27: /* CIL Label */ 
#line 3635
            if (! forked) {
#line 3637
              flags___0 |= 16;
            }
          }
        }
        {
#line 3638
        entersubsh(flags___0);
        }
      }
#line 3640
      if (type___0 == 11) {
#line 3642
        if (! redir) {
#line 3642
          if ((*(eparams->beg) & (wordcode )((1 << 5) - 1)) == 4U) {
            {
#line 3651
            s___4.prog = state->prog;
#line 3652
            s___4.pc = eparams->beg;
#line 3653
            s___4.strs = (state->prog)->strs;
#line 3659
            zcontext_save();
#line 3660
            redir_prog = eccopyredirs(& s___4);
#line 3661
            zcontext_restore();
            }
          } else {
#line 3663
            redir_prog = (Eprog )((void *)0);
          }
        } else {
#line 3663
          redir_prog = (Eprog )((void *)0);
        }
        {
#line 3665
        while (1) {
          while_continue___25: /* CIL Label */ ;
#line 3665
          queueing_enabled = 0;
          {
#line 3665
          while (1) {
            while_continue___26: /* CIL Label */ ;
            {
#line 3665
            while (1) {
              while_continue___27: /* CIL Label */ ;
#line 3665
              if (! (queue_front != queue_rear)) {
#line 3665
                goto while_break___27;
              }
              {
#line 3665
              queue_front = (queue_front + 1) % 128;
#line 3665
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3665
              zhandler(signal_queue[queue_front]);
#line 3665
              signal_setmask(oset);
              }
            }
            while_break___27: /* CIL Label */ ;
            }
#line 3665
            goto while_break___26;
          }
          while_break___26: /* CIL Label */ ;
          }
#line 3665
          goto while_break___25;
        }
        while_break___25: /* CIL Label */ ;
        }
        {
#line 3666
        tmp___74 = execfuncdef(state, redir_prog);
#line 3666
        lastval = (zlong )tmp___74;
#line 3667
        queueing_enabled = q;
        }
      } else
#line 3669
      if (type___0 >= 9) {
#line 3670
        if (last1 == 1) {
#line 3671
          do_exec = 1;
        }
        {
#line 3672
        while (1) {
          while_continue___28: /* CIL Label */ ;
#line 3672
          queueing_enabled = 0;
          {
#line 3672
          while (1) {
            while_continue___29: /* CIL Label */ ;
            {
#line 3672
            while (1) {
              while_continue___30: /* CIL Label */ ;
#line 3672
              if (! (queue_front != queue_rear)) {
#line 3672
                goto while_break___30;
              }
              {
#line 3672
              queue_front = (queue_front + 1) % 128;
#line 3672
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3672
              zhandler(signal_queue[queue_front]);
#line 3672
              signal_setmask(oset___0);
              }
            }
            while_break___30: /* CIL Label */ ;
            }
#line 3672
            goto while_break___29;
          }
          while_break___29: /* CIL Label */ ;
          }
#line 3672
          goto while_break___28;
        }
        while_break___28: /* CIL Label */ ;
        }
#line 3673
        if (type___0 == 20) {
          {
#line 3678
          tmp___75 = execautofn_basic(state, do_exec);
#line 3678
          lastval = (zlong )tmp___75;
          }
        } else {
          {
#line 3680
          tmp___76 = (*(execfuncs[type___0 - 9]))(state, do_exec);
#line 3680
          lastval = (zlong )tmp___76;
          }
        }
#line 3681
        queueing_enabled = q;
      } else
#line 3682
      if (is_builtin) {
#line 3682
        goto _L___29;
      } else
#line 3682
      if (is_shfunc) {
        _L___29: /* CIL Label */ 
#line 3683
        restorelist___0 = (LinkList )0;
#line 3683
        removelist___0 = (LinkList )0;
#line 3684
        do_save = 0;
#line 3687
        if (! forked) {
#line 3688
          if (opts[130]) {
#line 3694
            if (is_shfunc) {
#line 3695
              do_save = orig_cflags & (1 << 8);
            } else
#line 3694
            if (hn->flags & ((1 << 11) | (1 << 19))) {
#line 3695
              do_save = orig_cflags & (1 << 8);
            } else {
#line 3697
              do_save = 1;
            }
          } else
#line 3703
          if (cflags & ((1 << 8) | (1 << 19))) {
#line 3704
            do_save = 1;
          } else
#line 3703
          if (! assign) {
#line 3704
            do_save = 1;
          }
#line 3706
          if (do_save) {
#line 3706
            if (varspc) {
              {
#line 3707
              save_params(state, varspc, & restorelist___0, & removelist___0);
              }
            }
          }
        }
#line 3709
        if (varspc) {
#line 3713
          flags___1 = 0;
#line 3714
          if (is_shfunc) {
#line 3715
            flags___1 |= 1;
          }
#line 3716
          if (restorelist___0) {
#line 3717
            flags___1 |= 4;
          }
          {
#line 3719
          addvars(state, varspc, flags___1);
          }
#line 3720
          if (errflag) {
#line 3721
            if (restorelist___0) {
              {
#line 3722
              restore_params(restorelist___0, removelist___0);
              }
            }
            {
#line 3723
            lastval = (zlong )1;
#line 3724
            fixfds(save);
            }
#line 3725
            goto done;
          }
        }
#line 3729
        if (is_shfunc) {
          {
#line 3731
          pipecleanfilelist(filelist, 0);
#line 3732
          execshfunc((Shfunc )hn, args);
          }
        } else {
#line 3735
          assigns = (LinkList )0;
#line 3736
          postassigns = eparams->postassigns;
#line 3737
          if (forked) {
            {
#line 3738
            closem(1);
            }
          }
#line 3739
          if (postassigns) {
            {
#line 3740
            opc = state->pc;
#line 3741
            state->pc = eparams->assignspc;
#line 3742
            assigns = newlinklist();
            }
            {
#line 3743
            while (1) {
              while_continue___31: /* CIL Label */ ;
#line 3743
              tmp___84 = postassigns;
#line 3743
              postassigns --;
#line 3743
              if (! tmp___84) {
#line 3743
                goto while_break___31;
              }
              {
#line 3745
              tmp___77 = state->pc;
#line 3745
              (state->pc) ++;
#line 3745
              ac___0 = *tmp___77;
#line 3746
              tmp___78 = ecgetstr(state, 2, & htok);
#line 3746
              name = tmp___78;
              }
#line 3752
              if (htok) {
                {
#line 3753
                while (1) {
                  while_continue___32: /* CIL Label */ ;
#line 3753
                  svl.list.first = & __n0;
#line 3753
                  svl.list.last = & __n0;
#line 3753
                  svl.list.flags = 0;
#line 3753
                  __n0.next = (LinkNode )((void *)0);
#line 3753
                  __n0.prev = & svl.node;
#line 3753
                  __n0.dat = (void *)name;
#line 3753
                  goto while_break___32;
                }
                while_break___32: /* CIL Label */ ;
                }
#line 3754
                if (((ac___0 >> 5) & 1U) == 0U) {
#line 3754
                  if (((ac___0 >> 5) & 2U) >> 1 == 1U) {
                    {
#line 3768
                    ecgetstr(state, 2, & htok);
#line 3769
                    prefork(& svl, 1, (int *)((void *)0));
                    }
#line 3770
                    if (errflag) {
#line 3771
                      state->pc = opc;
#line 3772
                      goto while_break___31;
                    }
                    {
#line 3774
                    globlist(& svl, 0);
                    }
#line 3775
                    if (errflag) {
#line 3776
                      state->pc = opc;
#line 3777
                      goto while_break___31;
                    }
                    {
#line 3779
                    while (1) {
                      while_continue___33: /* CIL Label */ ;
                      {
#line 3779
                      tmp___81 = ugetnode(& svl);
#line 3779
                      data = (char *)tmp___81;
                      }
#line 3779
                      if (! data) {
#line 3779
                        goto while_break___33;
                      }
                      {
#line 3781
                      tmp___79 = zhalloc(sizeof(struct asgment ));
#line 3781
                      asg___0 = (Asgment )tmp___79;
#line 3782
                      asg___0->is_array = 0;
#line 3783
                      ptr___0 = strchr((char const   *)data, '=');
                      }
#line 3783
                      if (ptr___0) {
#line 3784
                        tmp___80 = ptr___0;
#line 3784
                        ptr___0 ++;
#line 3784
                        *tmp___80 = (char )'\000';
#line 3785
                        asg___0->name = data;
#line 3786
                        asg___0->value.scalar = ptr___0;
                      } else {
#line 3788
                        asg___0->name = data;
#line 3789
                        asg___0->value.scalar = (char *)((void *)0);
                      }
                      {
#line 3791
                      uinsertlinknode(assigns, assigns->list.last, & asg___0->node);
                      }
                    }
                    while_break___33: /* CIL Label */ ;
                    }
#line 3793
                    goto while_continue___31;
                  }
                }
                {
#line 3795
                prefork(& svl, 4, (int *)((void *)0));
                }
#line 3796
                if ((unsigned long )svl.list.first == (unsigned long )((void *)0)) {
#line 3796
                  name = (char *)"";
                } else {
#line 3796
                  name = (char *)(svl.list.first)->dat;
                }
              }
              {
#line 3799
              untokenize(name);
#line 3800
              tmp___82 = zhalloc(sizeof(struct asgment ));
#line 3800
              asg___0 = (Asgment )tmp___82;
#line 3801
              asg___0->name = name;
              }
#line 3802
              if (((ac___0 >> 5) & 1U) == 0U) {
                {
#line 3803
                tmp___83 = ecgetstr(state, 2, & htok);
#line 3803
                val = tmp___83;
#line 3804
                asg___0->is_array = 0;
                }
#line 3805
                if (((ac___0 >> 5) & 2U) >> 1 == 1U) {
#line 3807
                  asg___0->value.scalar = (char *)((void *)0);
                } else {
#line 3809
                  if (htok) {
                    {
#line 3810
                    while (1) {
                      while_continue___34: /* CIL Label */ ;
#line 3810
                      svl.list.first = & __n0;
#line 3810
                      svl.list.last = & __n0;
#line 3810
                      svl.list.flags = 0;
#line 3810
                      __n0.next = (LinkNode )((void *)0);
#line 3810
                      __n0.prev = & svl.node;
#line 3810
                      __n0.dat = (void *)val;
#line 3810
                      goto while_break___34;
                    }
                    while_break___34: /* CIL Label */ ;
                    }
                    {
#line 3811
                    prefork(& svl, 6, (int *)((void *)0));
                    }
#line 3814
                    if (errflag) {
#line 3815
                      state->pc = opc;
#line 3816
                      goto while_break___31;
                    }
#line 3822
                    if ((unsigned long )svl.list.first == (unsigned long )((void *)0)) {
#line 3822
                      val = (char *)"";
                    } else {
#line 3822
                      val = (char *)(svl.list.first)->dat;
                    }
                  }
                  {
#line 3825
                  untokenize(val);
#line 3826
                  asg___0->value.scalar = val;
                  }
                }
              } else {
                {
#line 3829
                asg___0->is_array = 1;
#line 3830
                asg___0->value.array = ecgetlist(state, (int )((ac___0 >> 5) >> 2),
                                                 2, & htok);
                }
#line 3833
                if (asg___0->value.array) {
                  {
#line 3835
                  prefork(asg___0->value.array, 2, (int *)((void *)0));
                  }
#line 3836
                  if (errflag) {
#line 3837
                    state->pc = opc;
#line 3838
                    goto while_break___31;
                  }
                  {
#line 3840
                  globlist(asg___0->value.array, 0);
                  }
#line 3841
                  if (errflag) {
#line 3842
                    state->pc = opc;
#line 3843
                    goto while_break___31;
                  }
                }
              }
              {
#line 3848
              uinsertlinknode(assigns, assigns->list.last, & asg___0->node);
              }
            }
            while_break___31: /* CIL Label */ ;
            }
#line 3850
            state->pc = opc;
          }
          {
#line 3852
          while (1) {
            while_continue___35: /* CIL Label */ ;
#line 3852
            queueing_enabled = 0;
            {
#line 3852
            while (1) {
              while_continue___36: /* CIL Label */ ;
              {
#line 3852
              while (1) {
                while_continue___37: /* CIL Label */ ;
#line 3852
                if (! (queue_front != queue_rear)) {
#line 3852
                  goto while_break___37;
                }
                {
#line 3852
                queue_front = (queue_front + 1) % 128;
#line 3852
                oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 3852
                zhandler(signal_queue[queue_front]);
#line 3852
                signal_setmask(oset___1);
                }
              }
              while_break___37: /* CIL Label */ ;
              }
#line 3852
              goto while_break___36;
            }
            while_break___36: /* CIL Label */ ;
            }
#line 3852
            goto while_break___35;
          }
          while_break___35: /* CIL Label */ ;
          }
#line 3853
          if (! errflag) {
            {
#line 3854
            tmp___85 = execbuiltin(args, assigns, (Builtin )hn);
#line 3854
            lastval = (zlong )tmp___85;
            }
          }
#line 3855
          if (do_save & (1 << 8)) {
#line 3856
            errflag &= -2;
          }
          {
#line 3857
          queueing_enabled = q;
#line 3858
          fflush(stdout);
          }
#line 3859
          if (save[1] == -2) {
            {
#line 3860
            tmp___87 = ferror(stdout);
            }
#line 3860
            if (tmp___87) {
              {
#line 3861
              tmp___86 = __errno_location();
#line 3861
              zwarn("write error: %e", *tmp___86);
#line 3862
              clearerr(stdout);
              }
            }
          } else {
            {
#line 3865
            clearerr(stdout);
            }
          }
        }
#line 3867
        if (opts[137]) {
#line 3867
          if (opts[159]) {
#line 3867
            if (lastval) {
#line 3867
              if (! subsh) {
                {
#line 3872
                fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"zsh: exit %ld\n",
                        lastval);
#line 3874
                fflush(stderr);
                }
              }
            }
          }
        }
#line 3877
        if (do_exec) {
#line 3878
          if (subsh) {
            {
#line 3879
            _exit((int )lastval);
            }
          }
#line 3883
          if (opts[150]) {
#line 3883
            if (opts[92]) {
#line 3883
              if (! nohistsave) {
                {
#line 3884
                savehistfile((char *)((void *)0), 1, 32768);
                }
              }
            }
          }
          {
#line 3885
          exit((int )lastval);
          }
        }
#line 3887
        if (restorelist___0) {
          {
#line 3888
          restore_params(restorelist___0, removelist___0);
          }
        }
      } else {
#line 3891
        if (! subsh) {
#line 3894
          if (! forked) {
            {
#line 3895
            shlvl --;
#line 3895
            setiparam((char *)"SHLVL", shlvl);
            }
          }
#line 3899
          if (do_exec) {
#line 3899
            if (opts[150]) {
#line 3899
              if (opts[92]) {
#line 3899
                if (! nohistsave) {
                  {
#line 3900
                  savehistfile((char *)((void *)0), 1, 32768);
                  }
                }
              }
            }
          }
        }
#line 3902
        if (type___0 == 6) {
#line 3902
          goto _L___28;
        } else
#line 3902
        if (type___0 == 7) {
          _L___28: /* CIL Label */ 
#line 3903
          if (varspc) {
#line 3904
            addflags = 3;
#line 3905
            if (forked) {
#line 3906
              addflags |= 4;
            }
            {
#line 3907
            addvars(state, varspc, addflags);
            }
#line 3908
            if (errflag) {
              {
#line 3909
              _exit(1);
              }
            }
          }
          {
#line 3911
          closem(1);
          }
#line 3912
          if (coprocin != -1) {
            {
#line 3913
            zclose(coprocin);
#line 3914
            coprocin = -1;
            }
          }
#line 3916
          if (coprocout != -1) {
            {
#line 3917
            zclose(coprocout);
#line 3918
            coprocout = -1;
            }
          }
#line 3921
          if (! forked) {
            {
#line 3922
            setlimits((char *)((void *)0));
            }
          }
#line 3924
          if (how & (1 << 2)) {
            {
#line 3925
            zsfree(STTYval);
#line 3926
            STTYval = (char *)0;
            }
          }
          {
#line 3928
          execute(args, cflags, use_defpath);
          }
        } else {
          {
#line 3932
          list_pipe = 0;
#line 3933
          pipecleanfilelist(filelist, 0);
#line 3938
          (state->pc) ++;
#line 3939
          execlist(state, 0, 1);
          }
        }
      }
    }
  }
  err: 
#line 3945
  if (forked) {
#line 3970
    i = 0;
    {
#line 3970
    while (1) {
      while_continue___38: /* CIL Label */ ;
#line 3970
      if (! (i < 10)) {
#line 3970
        goto while_break___38;
      }
#line 3971
      if ((int )*(fdtable + i) != 0) {
        {
#line 3972
        close(i);
        }
      }
#line 3970
      i ++;
    }
    while_break___38: /* CIL Label */ ;
    }
    {
#line 3973
    closem(0);
    }
#line 3974
    if (thisjob != -1) {
      {
#line 3975
      waitjobs();
      }
    }
    {
#line 3976
    _exit((int )lastval);
    }
  }
  {
#line 3978
  fixfds(save);
  }
  done: 
#line 3981
  if (opts[130]) {
#line 3981
    if (cflags & ((1 << 11) | (1 << 9))) {
#line 3981
      if (! (orig_cflags & (1 << 8))) {
        fatal: 
#line 3991
        if (redir_err) {
#line 3991
          goto _L___30;
        } else
#line 3991
        if (errflag) {
          _L___30: /* CIL Label */ 
#line 3992
          if (! opts[92]) {
#line 3993
            if (forked) {
              {
#line 3994
              _exit(1);
              }
            } else {
              {
#line 3996
              exit(1);
              }
            }
          }
#line 3998
          errflag |= 1;
        }
      }
    }
  }
#line 4001
  if (newxtrerr) {
    {
#line 4002
    fil = fileno(newxtrerr);
#line 4003
    fclose(newxtrerr);
#line 4004
    xtrerr = oxtrerr;
#line 4005
    zclose(fil);
    }
  }
  {
#line 4008
  zsfree(STTYval);
#line 4009
  STTYval = (char *)0;
  }
#line 4010
  if (oautocont >= 0) {
#line 4011
    opts[7] = (char )oautocont;
  }
#line 4012
  return;
}
}
#line 4017 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void save_params(Estate state , Wordcode pc , LinkList *restore_p , LinkList *remove_p ) 
{ 
  Param pm ;
  char *s ;
  wordcode ac ;
  Param tpm ;
  void *tmp ;
  void *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  HashNode tmp___3 ;
  wordcode tmp___4 ;

  {
  {
#line 4024
  *restore_p = newlinklist();
#line 4025
  *remove_p = newlinklist();
  }
  {
#line 4027
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4027
    ac = *pc;
#line 4027
    if (! ((ac & (wordcode )((1 << 5) - 1)) == 5U)) {
#line 4027
      goto while_break;
    }
    {
#line 4028
    s = ecrawstr(state->prog, pc + 1, (int *)((void *)0));
#line 4029
    tmp___3 = (*(paramtab->getnode))(paramtab, (char const   *)s);
#line 4029
    pm = (Param )tmp___3;
    }
#line 4029
    if (pm) {
#line 4031
      if (pm->env) {
        {
#line 4032
        delenv(pm);
        }
      }
#line 4033
      if (! (pm->node.flags & (1 << 22))) {
        {
#line 4044
        tmp = zshcalloc(sizeof(*tpm));
#line 4044
        tpm = (Param )tmp;
#line 4045
        tpm->node.nam = ztrdup((char const   *)pm->node.nam);
#line 4046
        copyparam(tpm, pm, 0);
#line 4047
        pm = tpm;
        }
      } else
#line 4048
      if (! (pm->node.flags & (1 << 10))) {
#line 4048
        if (! opts[153]) {
          {
#line 4055
          tmp___0 = hcalloc(sizeof(*tpm));
#line 4055
          tpm = (Param )tmp___0;
#line 4056
          tpm->node.nam = pm->node.nam;
#line 4057
          copyparam(tpm, pm, 1);
#line 4058
          pm = tpm;
          }
        } else
#line 4048
        if (! (pm->node.flags & (1 << 24))) {
          {
#line 4055
          tmp___0 = hcalloc(sizeof(*tpm));
#line 4055
          tpm = (Param )tmp___0;
#line 4056
          tpm->node.nam = pm->node.nam;
#line 4057
          copyparam(tpm, pm, 1);
#line 4058
          pm = tpm;
          }
        }
      }
      {
#line 4060
      tmp___1 = dupstring((char const   *)s);
#line 4060
      insertlinknode(*remove_p, (*remove_p)->list.last, (void *)tmp___1);
#line 4061
      insertlinknode(*restore_p, (*restore_p)->list.last, (void *)pm);
      }
    } else {
      {
#line 4063
      tmp___2 = dupstring((char const   *)s);
#line 4063
      insertlinknode(*remove_p, (*remove_p)->list.last, (void *)tmp___2);
      }
    }
#line 4065
    if (((ac >> 5) & 1U) == 0U) {
#line 4065
      tmp___4 = (wordcode )3;
    } else {
#line 4065
      tmp___4 = ((ac >> 5) >> 2) + 2U;
    }
#line 4065
    pc += tmp___4;
  }
  while_break: /* CIL Label */ ;
  }
#line 4068
  return;
}
}
#line 4073 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void restore_params(LinkList restorelist , LinkList removelist ) 
{ 
  Param pm ;
  char *s ;
  HashNode tmp ;
  void *tmp___0 ;
  Param tpm ;
  HashNode tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 4080
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4080
    tmp___0 = ugetnode(removelist);
#line 4080
    s = (char *)tmp___0;
    }
#line 4080
    if (! s) {
#line 4080
      goto while_break;
    }
    {
#line 4081
    tmp = (*(paramtab->getnode))(paramtab, (char const   *)s);
#line 4081
    pm = (Param )tmp;
    }
#line 4081
    if (pm) {
#line 4081
      if (! (pm->node.flags & (1 << 22))) {
        {
#line 4083
        pm->node.flags &= ~ (1 << 10);
#line 4084
        unsetparam_pm(pm, 0, 0);
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4088
  if (restorelist) {
    {
#line 4090
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 4090
      tmp___2 = ugetnode(restorelist);
#line 4090
      pm = (Param )tmp___2;
      }
#line 4090
      if (! pm) {
#line 4090
        goto while_break___0;
      }
#line 4091
      if (pm->node.flags & (1 << 22)) {
        {
#line 4092
        tmp___1 = (*(paramtab->getnode))(paramtab, (char const   *)pm->node.nam);
#line 4092
        tpm = (Param )tmp___1;
        }
#line 4097
        if (! pm->env) {
#line 4097
          if (tpm->env) {
            {
#line 4098
            delenv(tpm);
            }
          }
        }
#line 4099
        tpm->node.flags = pm->node.flags;
        {
#line 4101
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 4101
          goto case_0;
        }
#line 4104
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 4104
          goto case_exp;
        }
#line 4108
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 4108
          goto case_exp___0;
        }
#line 4108
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 4108
          goto case_exp___0;
        }
#line 4111
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 4111
          goto case_1;
        }
#line 4114
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 4114
          goto case_exp___2;
        }
#line 4100
        goto switch_break;
        case_0: /* CIL Label */ 
        {
#line 4102
        (*((tpm->gsu.s)->setfn))(tpm, pm->u.str);
        }
#line 4103
        goto switch_break;
        case_exp: /* CIL Label */ 
        {
#line 4105
        (*((tpm->gsu.i)->setfn))(tpm, pm->u.val);
        }
#line 4106
        goto switch_break;
        case_exp___0: /* CIL Label */ 
        case_exp___1: /* CIL Label */ 
        {
#line 4109
        (*((tpm->gsu.f)->setfn))(tpm, pm->u.dval);
        }
#line 4110
        goto switch_break;
        case_1: /* CIL Label */ 
        {
#line 4112
        (*((tpm->gsu.a)->setfn))(tpm, pm->u.arr);
        }
#line 4113
        goto switch_break;
        case_exp___2: /* CIL Label */ 
        {
#line 4115
        (*((tpm->gsu.h)->setfn))(tpm, pm->u.hash);
        }
#line 4116
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
#line 4118
        pm = tpm;
      } else {
        {
#line 4120
        (*(paramtab->addnode))(paramtab, pm->node.nam, (void *)pm);
        }
      }
#line 4122
      if (pm->node.flags & (1 << 12)) {
        {
#line 4122
        s = getsparam(pm->node.nam);
        }
#line 4122
        if (s) {
          {
#line 4123
          addenv(pm, s);
          }
        }
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 4126
  return;
}
}
#line 4131 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void fixfds(int *save ) 
{ 
  int old_errno ;
  int *tmp ;
  int i ;
  int *tmp___0 ;

  {
  {
#line 4134
  tmp = __errno_location();
#line 4134
  old_errno = *tmp;
#line 4137
  i = 0;
  }
  {
#line 4137
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4137
    if (! (i != 10)) {
#line 4137
      goto while_break;
    }
#line 4138
    if (*(save + i) != -2) {
      {
#line 4139
      redup(*(save + i), i);
      }
    }
#line 4137
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4140
  tmp___0 = __errno_location();
#line 4140
  *tmp___0 = old_errno;
  }
#line 4141
  return;
}
}
#line 4151 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void closem(int how ) 
{ 
  int i ;

  {
#line 4156
  i = 10;
  {
#line 4156
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4156
    if (! (i <= max_zsh_fd)) {
#line 4156
      goto while_break;
    }
#line 4157
    if ((int )*(fdtable + i) != 0) {
#line 4157
      if (how == 0) {
#line 4157
        goto _L;
      } else
#line 4157
      if ((int )*(fdtable + i) == how) {
        _L: /* CIL Label */ 
#line 4159
        if (i == SHTTY) {
#line 4160
          SHTTY = -1;
        }
        {
#line 4161
        zclose(i);
        }
      }
    }
#line 4156
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4163
  return;
}
}
#line 4168 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
char *gethere(char **strp , int typ ) 
{ 
  char *buf___7 ;
  int bsiz ;
  int qt ;
  int strip ;
  char *s ;
  char *t ;
  char *bptr ;
  char c ;
  char *str ;
  void *tmp ;
  int tmp___0 ;
  char *newbuf ;
  void *tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  char *tmp___5 ;
  int ef ;

  {
#line 4172
  qt = 0;
#line 4172
  strip = 0;
#line 4174
  str = *strp;
#line 4176
  s = str;
  {
#line 4176
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4176
    if (! *s) {
#line 4176
      goto while_break;
    }
#line 4177
    if ((int )typtab[(unsigned char )*s] & (1 << 14)) {
#line 4178
      qt = 1;
#line 4179
      goto while_break;
    }
#line 4176
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4181
  str = quotesubst(str);
#line 4182
  untokenize(str);
  }
#line 4183
  if (typ == 11) {
#line 4184
    strip = 1;
    {
#line 4185
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4185
      if (! ((int )*str == 9)) {
#line 4185
        goto while_break___0;
      }
#line 4186
      str ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  {
#line 4188
  *strp = str;
#line 4189
  bsiz = 256;
#line 4189
  tmp = zalloc((size_t )bsiz);
#line 4189
  buf___7 = (char *)tmp;
#line 4189
  bptr = buf___7;
  }
  {
#line 4190
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 4191
    t = bptr;
    {
#line 4193
    while (1) {
      while_continue___2: /* CIL Label */ ;
      {
#line 4193
      tmp___0 = (*hgetc)();
#line 4193
      c = (char )tmp___0;
      }
#line 4193
      if ((int )c == 9) {
#line 4193
        if (! strip) {
#line 4193
          goto while_break___2;
        }
      } else {
#line 4193
        goto while_break___2;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    {
#line 4195
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 4196
      if ((unsigned long )bptr == (unsigned long )(buf___7 + bsiz)) {
        {
#line 4197
        tmp___1 = realloc((void *)buf___7, (size_t )(2 * bsiz));
#line 4197
        newbuf = (char *)tmp___1;
        }
#line 4198
        if (! newbuf) {
          {
#line 4200
          zfree((void *)buf___7, bsiz);
          }
#line 4201
          return ((char *)((void *)0));
        }
#line 4203
        buf___7 = newbuf;
#line 4204
        t = (buf___7 + bsiz) - (bptr - t);
#line 4205
        bptr = buf___7 + bsiz;
#line 4206
        bsiz *= 2;
      }
#line 4208
      if (lexstop) {
#line 4209
        goto while_break___3;
      } else
#line 4208
      if ((int )c == 10) {
#line 4209
        goto while_break___3;
      }
      {
#line 4210
      tmp___2 = bptr;
#line 4210
      bptr ++;
#line 4210
      *tmp___2 = c;
#line 4211
      tmp___3 = (*hgetc)();
#line 4211
      c = (char )tmp___3;
      }
    }
    while_break___3: /* CIL Label */ ;
    }
    {
#line 4213
    *bptr = (char )'\000';
#line 4214
    tmp___4 = strcmp((char const   *)t, (char const   *)str);
    }
#line 4214
    if (! tmp___4) {
#line 4215
      goto while_break___1;
    }
#line 4216
    if (lexstop) {
#line 4217
      t = bptr;
#line 4218
      goto while_break___1;
    }
#line 4220
    tmp___5 = bptr;
#line 4220
    bptr ++;
#line 4220
    *tmp___5 = (char )'\n';
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 4222
  *t = (char )'\000';
#line 4223
  s = buf___7;
#line 4224
  buf___7 = dupstring((char const   *)buf___7);
#line 4225
  zfree((void *)s, bsiz);
  }
#line 4226
  if (! qt) {
    {
#line 4227
    ef = errflag;
#line 4229
    parsestr(& buf___7);
    }
#line 4231
    if (! (errflag & 1)) {
#line 4233
      errflag = ef | (errflag & 2);
    }
  }
#line 4236
  return (buf___7);
}
}
#line 4242 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int getherestr(struct redir *fn___0 ) 
{ 
  char *s ;
  char *t ;
  int fd ;
  int len ;
  int tmp ;

  {
  {
#line 4248
  t = fn___0->name;
#line 4249
  singsub(& t);
#line 4250
  untokenize(t);
#line 4251
  unmetafy(t, & len);
  }
#line 4259
  if (! (fn___0->flags & 1)) {
#line 4260
    tmp = len;
#line 4260
    len ++;
#line 4260
    *(t + tmp) = (char )'\n';
  }
  {
#line 4261
  fd = gettempfile((char const   *)((void *)0), 1, & s);
  }
#line 4261
  if (fd < 0) {
#line 4262
    return (-1);
  }
  {
#line 4263
  write_loop(fd, (char const   *)t, (size_t )len);
#line 4264
  close(fd);
#line 4265
  fd = open((char const   *)s, 256);
#line 4266
  unlink((char const   *)s);
  }
#line 4267
  return (fd);
}
}
#line 4276 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char *simple_redir_name(Eprog prog , int redir_type ) 
{ 
  Wordcode pc ;
  char *tmp ;
  char *tmp___0 ;

  {
#line 4281
  pc = prog->prog;
#line 4282
  if ((unsigned long )prog != (unsigned long )(& dummy_eprog)) {
#line 4282
    if ((*(pc + 0) & (wordcode )((1 << 5) - 1)) == 1U) {
#line 4282
      if ((*(pc + 0) >> 5) & (unsigned int )(1 << 4)) {
#line 4282
        if ((*(pc + 1) & (wordcode )((1 << 5) - 1)) == 2U) {
#line 4282
          if (! ((*(pc + 1) >> 5) & 28U)) {
#line 4282
            if (((*(pc + 1) >> 5) & 3U) == 0U) {
#line 4282
              if ((*(pc + 2) & (wordcode )((1 << 5) - 1)) == 3U) {
#line 4282
                if (((*(pc + 2) >> 5) & 1U) == 0U) {
#line 4282
                  if ((*(pc + 3) & (wordcode )((1 << 5) - 1)) == 4U) {
#line 4282
                    if ((int )((*(pc + 3) >> 5) & 31U) == redir_type) {
#line 4282
                      if (! ((int )((*(pc + 3) >> 5) & 32U))) {
#line 4282
                        if (! *(pc + 4)) {
#line 4282
                          if ((*(pc + 6) & (wordcode )((1 << 5) - 1)) == 6U) {
#line 4282
                            if (! (*(pc + 6) >> 5)) {
                              {
#line 4291
                              tmp = ecrawstr(prog, pc + 5, (int *)((void *)0));
#line 4291
                              tmp___0 = dupstring((char const   *)tmp);
                              }
#line 4291
                              return (tmp___0);
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 4294
  return ((char *)((void *)0));
}
}
#line 4300 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
LinkList getoutput(char *cmd , int qt ) 
{ 
  Eprog prog ;
  int pipes[2] ;
  pid_t pid ;
  char *s ;
  int stream ;
  int *tmp ;
  LinkList tmp___0 ;
  char *tmp___1 ;
  LinkList tmp___2 ;
  int tmp___3 ;
  LinkList retval ;
  __pid_t tmp___4 ;
  void *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;

  {
  {
#line 4308
  prog = parse_string(cmd, 0);
  }
#line 4308
  if (! prog) {
#line 4309
    return ((LinkList )((void *)0));
  }
  {
#line 4311
  s = simple_redir_name(prog, 9);
  }
#line 4311
  if (s) {
    {
#line 4315
    singsub(& s);
    }
#line 4316
    if (errflag) {
#line 4317
      return ((LinkList )((void *)0));
    }
    {
#line 4318
    untokenize(s);
#line 4319
    tmp___1 = unmeta((char const   *)s);
#line 4319
    stream = open((char const   *)tmp___1, 256);
    }
#line 4319
    if (stream == -1) {
      {
#line 4320
      tmp = __errno_location();
#line 4320
      zwarn("%e: %s", *tmp, s);
#line 4321
      tmp___0 = newlinklist();
      }
#line 4321
      return (tmp___0);
    }
    {
#line 4323
    tmp___2 = readoutput(stream, qt);
    }
#line 4323
    return (tmp___2);
  }
  {
#line 4325
  tmp___3 = mpipe(pipes);
  }
#line 4325
  if (tmp___3 < 0) {
#line 4326
    errflag |= 1;
#line 4327
    cmdoutpid = 0;
#line 4328
    return ((LinkList )((void *)0));
  }
  {
#line 4330
  signal_block(sigchld_mask);
#line 4331
  cmdoutval = 0;
#line 4332
  pid = zfork((struct timeval *)((void *)0));
#line 4332
  cmdoutpid = pid;
  }
#line 4332
  if (cmdoutpid == -1) {
    {
#line 4334
    zclose(pipes[0]);
#line 4335
    zclose(pipes[1]);
#line 4336
    errflag |= 1;
#line 4337
    cmdoutpid = 0;
#line 4338
    signal_unblock(sigchld_mask);
    }
#line 4339
    return ((LinkList )((void *)0));
  } else
#line 4340
  if (pid) {
    {
#line 4343
    zclose(pipes[1]);
#line 4344
    retval = readoutput(pipes[0], qt);
#line 4345
    *(fdtable + pipes[0]) = (unsigned char)0;
#line 4346
    waitforpid(pid, 0);
#line 4347
    lastval = (zlong )cmdoutval;
    }
#line 4348
    return (retval);
  }
  {
#line 4351
  signal_unblock(sigchld_mask);
#line 4352
  zclose(pipes[0]);
#line 4353
  redup(pipes[1], 1);
#line 4354
  entersubsh(34);
#line 4355
  cmdpush(24);
#line 4356
  execode(prog, 0, 1, (char *)"cmdsubst");
#line 4357
  cmdpop();
#line 4358
  close(1);
#line 4359
  _exit((int )lastval);
#line 4360
  zerr("exit returned in child!!");
#line 4361
  tmp___4 = getpid();
#line 4361
  kill(tmp___4, 9);
  }
#line 4362
  return ((LinkList )((void *)0));
}
}
#line 4368 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
LinkList readoutput(int in , int qt ) 
{ 
  LinkList ret ;
  char *buf___7 ;
  char *ptr___0 ;
  int bsiz ;
  int c ;
  int cnt ;
  FILE *fin ;
  void *tmp ;
  int *tmp___0 ;
  char *tmp___1 ;
  char *pp ;
  void *tmp___2 ;
  char *tmp___3 ;
  int *tmp___4 ;
  char *tmp___5 ;
  char **words ;
  char **tmp___6 ;
  char **tmp___7 ;
  char *__cil_tmp21 ;

  {
  {
#line 4373
  cnt = 0;
#line 4376
  fin = fdopen(in, "r");
#line 4377
  ret = newlinklist();
#line 4378
  bsiz = 64;
#line 4378
  tmp = hcalloc((size_t )bsiz);
#line 4378
  buf___7 = (char *)tmp;
#line 4378
  ptr___0 = buf___7;
  }
  {
#line 4379
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4379
    c = fgetc(fin);
    }
#line 4379
    if (! (c != -1)) {
      {
#line 4379
      tmp___4 = __errno_location();
      }
#line 4379
      if (! (*tmp___4 == 4)) {
#line 4379
        goto while_break;
      }
    }
#line 4380
    if (c == -1) {
      {
#line 4381
      tmp___0 = __errno_location();
#line 4381
      *tmp___0 = 0;
#line 4382
      clearerr(fin);
      }
#line 4383
      goto while_continue;
    }
#line 4385
    if ((int )typtab[(unsigned char )c] & (1 << 12)) {
#line 4386
      tmp___1 = ptr___0;
#line 4386
      ptr___0 ++;
#line 4386
      *tmp___1 = (char)-125;
#line 4387
      c ^= 32;
#line 4388
      cnt ++;
    }
#line 4390
    cnt ++;
#line 4390
    if (cnt >= bsiz) {
      {
#line 4391
      bsiz *= 2;
#line 4391
      tmp___2 = hcalloc((size_t )bsiz);
#line 4391
      pp = (char *)tmp___2;
#line 4393
      memcpy((void */* __restrict  */)pp, (void const   */* __restrict  */)buf___7,
             (size_t )(cnt - 1));
#line 4394
      buf___7 = pp;
#line 4394
      ptr___0 = (buf___7 + cnt) - 1;
      }
    }
#line 4396
    tmp___3 = ptr___0;
#line 4396
    ptr___0 ++;
#line 4396
    *tmp___3 = (char )c;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4398
  fclose(fin);
  }
  {
#line 4399
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4399
    if (cnt) {
#line 4399
      if (! ((int )*(ptr___0 + -1) == 10)) {
#line 4399
        goto while_break___0;
      }
    } else {
#line 4399
      goto while_break___0;
    }
#line 4400
    ptr___0 --;
#line 4400
    cnt --;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4401
  *ptr___0 = (char )'\000';
#line 4402
  if (qt) {
#line 4403
    if (! cnt) {
#line 4404
      tmp___5 = ptr___0;
#line 4404
      ptr___0 ++;
#line 4404
      *tmp___5 = (char)-95;
#line 4405
      *ptr___0 = (char )'\000';
    }
    {
#line 4407
    insertlinknode(ret, ret->list.last, (void *)buf___7);
    }
  } else {
    {
#line 4409
    tmp___6 = spacesplit(buf___7, 0, 1, 0);
#line 4409
    words = tmp___6;
    }
    {
#line 4411
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 4411
      if (! *words) {
#line 4411
        goto while_break___1;
      }
#line 4412
      if (opts[65]) {
        {
#line 4413
        shtokenize(*words);
        }
      }
      {
#line 4414
      tmp___7 = words;
#line 4414
      words ++;
#line 4414
      insertlinknode(ret, ret->list.last, (void *)*tmp___7);
      }
    }
    while_break___1: /* CIL Label */ ;
    }
  }
#line 4417
  return (ret);
}
}
#line 4421 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static Eprog parsecmd(char *cmd , char **eptr ) 
{ 
  char *str ;
  Eprog prog ;
  char *errstr ;
  char *tmp ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 4427
  str = cmd + 2;
  {
#line 4427
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4427
    if (*str) {
#line 4427
      if (! ((int )*str != -118)) {
#line 4427
        goto while_break;
      }
    } else {
#line 4427
      goto while_break;
    }
#line 4427
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4428
  if (! *str) {
    {
#line 4435
    tmp = dupstrpfx((char const   *)cmd, 2);
#line 4435
    errstr = tmp;
#line 4436
    untokenize(errstr);
#line 4437
    zerr("unterminated `%s...)\'", errstr);
    }
#line 4438
    return ((Eprog )((void *)0));
  } else
#line 4428
  if ((int )*(cmd + 1) != -120) {
    {
#line 4435
    tmp = dupstrpfx((char const   *)cmd, 2);
#line 4435
    errstr = tmp;
#line 4436
    untokenize(errstr);
#line 4437
    zerr("unterminated `%s...)\'", errstr);
    }
#line 4438
    return ((Eprog )((void *)0));
  }
#line 4440
  *str = (char )'\000';
#line 4441
  if (eptr) {
#line 4442
    *eptr = str + 1;
  }
  {
#line 4443
  prog = parse_string(cmd + 2, 0);
  }
#line 4443
  if (! prog) {
    {
#line 4444
    zerr("parse error in process substitution");
    }
#line 4445
    return ((Eprog )((void *)0));
  }
#line 4447
  return (prog);
}
}
#line 4453 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
char *getoutputfile(char *cmd , char **eptr ) 
{ 
  pid_t pid ;
  char *nam ;
  Eprog prog ;
  int fd ;
  char *s ;
  int *tmp ;
  char *suffix ;
  char *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  char *tmp___3 ;
  int len ;
  int os ;
  __pid_t tmp___4 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;

  {
#line 4462
  if (thisjob == -1) {
    {
#line 4463
    zerr("process substitution %s cannot be used here", cmd);
    }
#line 4464
    return ((char *)((void *)0));
  }
  {
#line 4466
  prog = parsecmd(cmd, eptr);
  }
#line 4466
  if (! prog) {
#line 4467
    return ((char *)((void *)0));
  }
  {
#line 4468
  nam = gettempname((char const   *)((void *)0), 0);
  }
#line 4468
  if (! nam) {
#line 4469
    return ((char *)((void *)0));
  }
  {
#line 4471
  s = simple_redir_name(prog, 12);
  }
#line 4471
  if (s) {
    {
#line 4477
    singsub(& s);
    }
#line 4478
    if (errflag) {
#line 4479
      s = (char *)((void *)0);
    } else {
      {
#line 4481
      untokenize(s);
      }
    }
  }
#line 4484
  if (! s) {
    {
#line 4485
    signal_block(sigchld_mask);
    }
  }
  {
#line 4487
  fd = open((char const   *)nam, 449, 384);
  }
#line 4487
  if (fd < 0) {
    {
#line 4488
    tmp = __errno_location();
#line 4488
    zerr("process substitution failed: %e", *tmp);
#line 4489
    free((void *)nam);
    }
#line 4490
    if (! s) {
      {
#line 4491
      signal_unblock(sigchld_mask);
      }
    }
#line 4492
    return ((char *)((void *)0));
  } else {
    {
#line 4494
    tmp___0 = getsparam((char *)"TMPSUFFIX");
#line 4494
    suffix = tmp___0;
    }
#line 4495
    if (suffix) {
#line 4495
      if (*suffix) {
        {
#line 4495
        tmp___3 = strstr((char const   *)suffix, "/");
        }
#line 4495
        if (! tmp___3) {
          {
#line 4496
          tmp___1 = unmeta((char const   *)suffix);
#line 4496
          suffix = dyncat((char const   *)nam, (char const   *)tmp___1);
#line 4497
          tmp___2 = link((char const   *)nam, (char const   *)suffix);
          }
#line 4497
          if (tmp___2 == 0) {
            {
#line 4498
            addfilelist((char const   *)nam, 0);
#line 4499
            nam = ztrdup((char const   *)suffix);
            }
          }
        }
      }
    }
  }
  {
#line 4503
  addfilelist((char const   *)nam, 0);
  }
#line 4505
  if (s) {
    {
#line 4508
    unmetafy(s, & len);
#line 4509
    write_loop(fd, (char const   *)s, (size_t )len);
#line 4510
    close(fd);
    }
#line 4511
    return (nam);
  }
  {
#line 4514
  pid = zfork((struct timeval *)((void *)0));
#line 4514
  cmdoutpid = pid;
  }
#line 4514
  if (cmdoutpid == -1) {
    {
#line 4516
    signal_unblock(sigchld_mask);
    }
#line 4517
    return (nam);
  } else
#line 4518
  if (pid) {
    {
#line 4521
    close(fd);
#line 4522
    os = (jobtab + thisjob)->stat;
#line 4523
    waitforpid(pid, 0);
#line 4524
    cmdoutval = 0;
#line 4525
    (jobtab + thisjob)->stat = os;
    }
#line 4526
    return (nam);
  }
  {
#line 4530
  redup(fd, 1);
#line 4531
  entersubsh(34);
#line 4532
  cmdpush(24);
#line 4533
  execode(prog, 0, 1, (char *)"equalsubst");
#line 4534
  cmdpop();
#line 4535
  close(1);
#line 4536
  _exit((int )lastval);
#line 4537
  zerr("exit returned in child!!");
#line 4538
  tmp___4 = getpid();
#line 4538
  kill(tmp___4, 9);
  }
#line 4539
  return ((char *)((void *)0));
}
}
#line 4569 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
char *getproc(char *cmd , char **eptr ) 
{ 
  Eprog prog ;
  int out ;
  char *pnam ;
  pid_t pid ;
  struct timeval bgtime ;
  int pipes[2] ;
  int fd ;
  size_t tmp ;
  void *tmp___0 ;
  int tmp___1 ;
  char const   *tmp___2 ;
  void *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;

  {
#line 4577
  out = (int )*cmd == -108;
#line 4612
  if (thisjob == -1) {
    {
#line 4613
    zerr("process substitution %s cannot be used here", cmd);
    }
#line 4614
    return ((char *)((void *)0));
  }
  {
#line 4616
  tmp = strlen("/proc/self/fd");
#line 4616
  tmp___0 = hcalloc(tmp + 6UL);
#line 4616
  pnam = (char *)tmp___0;
#line 4617
  prog = parsecmd(cmd, eptr);
  }
#line 4617
  if (! prog) {
#line 4618
    return ((char *)((void *)0));
  }
  {
#line 4619
  tmp___1 = mpipe(pipes);
  }
#line 4619
  if (tmp___1 < 0) {
#line 4620
    return ((char *)((void *)0));
  }
  {
#line 4621
  pid = zfork(& bgtime);
  }
#line 4621
  if (pid) {
    {
#line 4622
    sprintf((char */* __restrict  */)pnam, (char const   */* __restrict  */)"%s/%d",
            "/proc/self/fd", pipes[! out]);
#line 4623
    zclose(pipes[out]);
    }
#line 4624
    if (pid == -1) {
      {
#line 4626
      zclose(pipes[! out]);
      }
#line 4627
      return ((char *)((void *)0));
    }
    {
#line 4629
    fd = pipes[! out];
#line 4630
    *(fdtable + fd) = (unsigned char)7;
#line 4631
    addfilelist((char const   *)((void *)0), fd);
    }
#line 4632
    if (! out) {
      {
#line 4634
      addproc(pid, (char *)((void *)0), 1, & bgtime);
      }
    }
#line 4636
    return (pnam);
  }
  {
#line 4638
  entersubsh(3);
#line 4639
  redup(pipes[out], out);
#line 4640
  closem(0);
#line 4643
  cmdpush(24);
  }
#line 4644
  if (out) {
#line 4644
    tmp___2 = "outsubst";
  } else {
#line 4644
    tmp___2 = "insubst";
  }
  {
#line 4644
  execode(prog, 0, 1, (char *)tmp___2);
#line 4645
  cmdpop();
#line 4646
  zclose(out);
#line 4647
  _exit((int )lastval);
  }
#line 4648
  return ((char *)((void *)0));
}
}
#line 4661 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int getpipe(char *cmd , int nullexec ) 
{ 
  Eprog prog ;
  int pipes[2] ;
  int out ;
  pid_t pid ;
  struct timeval bgtime ;
  char *ends ;
  int tmp ;
  char const   *tmp___0 ;
  void *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
  {
#line 4665
  out = (int )*cmd == -108;
#line 4670
  prog = parsecmd(cmd, & ends);
  }
#line 4670
  if (! prog) {
#line 4671
    return (-1);
  }
#line 4672
  if (*ends) {
    {
#line 4673
    zerr("invalid syntax for process substitution in redirection");
    }
#line 4674
    return (-1);
  }
  {
#line 4676
  tmp = mpipe(pipes);
  }
#line 4676
  if (tmp < 0) {
#line 4677
    return (-1);
  }
  {
#line 4678
  pid = zfork(& bgtime);
  }
#line 4678
  if (pid) {
    {
#line 4679
    zclose(pipes[out]);
    }
#line 4680
    if (pid == -1) {
      {
#line 4681
      zclose(pipes[! out]);
      }
#line 4682
      return (-1);
    }
#line 4684
    if (! nullexec) {
      {
#line 4685
      addproc(pid, (char *)((void *)0), 1, & bgtime);
      }
    }
#line 4686
    return (pipes[! out]);
  }
  {
#line 4688
  entersubsh(2);
#line 4689
  redup(pipes[out], out);
#line 4690
  closem(0);
#line 4691
  cmdpush(24);
  }
#line 4692
  if (out) {
#line 4692
    tmp___0 = "outsubst";
  } else {
#line 4692
    tmp___0 = "insubst";
  }
  {
#line 4692
  execode(prog, 0, 1, (char *)tmp___0);
#line 4693
  cmdpop();
#line 4694
  _exit((int )lastval);
  }
#line 4695
  return (0);
}
}
#line 4701 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int mpipe(int *pp ) 
{ 
  int *tmp ;
  int tmp___0 ;
  char *__cil_tmp4 ;

  {
  {
#line 4704
  tmp___0 = pipe((int *)pp);
  }
#line 4704
  if (tmp___0 < 0) {
    {
#line 4705
    tmp = __errno_location();
#line 4705
    zerr("pipe failed: %e", *tmp);
    }
#line 4706
    return (-1);
  }
  {
#line 4708
  *(pp + 0) = movefd(*(pp + 0));
#line 4709
  *(pp + 1) = movefd(*(pp + 1));
  }
#line 4710
  return (0);
}
}
#line 4725 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void spawnpipes(LinkList l , int nullexec ) 
{ 
  LinkNode n ;
  Redir f ;
  char *str ;
  int tmp ;

  {
#line 4732
  n = l->list.first;
  {
#line 4733
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4733
    if (! n) {
#line 4733
      goto while_break;
    }
#line 4734
    f = (Redir )n->dat;
#line 4735
    if (f->type == 17) {
#line 4735
      goto _L;
    } else
#line 4735
    if (f->type == 16) {
      _L: /* CIL Label */ 
#line 4736
      str = f->name;
#line 4737
      if (nullexec) {
#line 4737
        tmp = 1;
      } else
#line 4737
      if (f->varid) {
#line 4737
        tmp = 1;
      } else {
#line 4737
        tmp = 0;
      }
      {
#line 4737
      f->fd2 = getpipe(str, tmp);
      }
    }
#line 4733
    n = n->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 4740
  return;
}
}
#line 4745 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execcond(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  int stat___0 ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
#line 4750
  (state->pc) --;
#line 4751
  if (opts[175]) {
    {
#line 4752
    printprompt4();
#line 4753
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"[[");
#line 4754
    tracingcond ++;
    }
  }
  {
#line 4756
  cmdpush(10);
#line 4757
  stat___0 = evalcond(state, (char *)((void *)0));
  }
#line 4762
  if (stat___0 == 2) {
#line 4763
    errflag |= 1;
  }
  {
#line 4764
  cmdpop();
  }
#line 4765
  if (opts[175]) {
    {
#line 4766
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" ]]\n");
#line 4767
    fflush(xtrerr);
#line 4768
    tracingcond --;
    }
  }
#line 4770
  return (stat___0);
}
}
#line 4776 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execarith(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  char *e ;
  mnumber val ;
  int htok ;
  int tmp ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;

  {
#line 4780
  val = zero_mnumber;
#line 4781
  htok = 0;
#line 4783
  if (opts[175]) {
    {
#line 4784
    printprompt4();
#line 4785
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"((");
    }
  }
  {
#line 4787
  cmdpush(9);
#line 4788
  e = ecgetstr(state, 2, & htok);
  }
#line 4789
  if (htok) {
    {
#line 4790
    singsub(& e);
    }
  }
#line 4791
  if (opts[175]) {
    {
#line 4792
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s",
            e);
    }
  }
  {
#line 4794
  val = matheval(e);
#line 4796
  cmdpop();
  }
#line 4798
  if (opts[175]) {
    {
#line 4799
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" ))\n");
#line 4800
    fflush(xtrerr);
    }
  }
#line 4802
  if (errflag) {
#line 4803
    errflag &= -2;
#line 4804
    return (2);
  }
#line 4807
  if (val.type == 1) {
#line 4807
    tmp = val.u.l == 0L;
  } else {
#line 4807
    tmp = val.u.d == 0.0;
  }
#line 4807
  return (tmp);
}
}
#line 4813 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int exectime(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  int jb ;
  Wordcode tmp ;

  {
#line 4818
  jb = thisjob;
#line 4819
  if (*(state->pc + -1) >> 5 == 0U) {
    {
#line 4820
    shelltime();
    }
#line 4821
    return (0);
  }
  {
#line 4823
  tmp = state->pc;
#line 4823
  (state->pc) ++;
#line 4823
  execpline(state, *tmp, 1 | (1 << 1), 0);
#line 4824
  thisjob = jb;
  }
#line 4825
  return ((int )lastval);
}
}
#line 4830 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char const   * const  ANONYMOUS_FUNCTION_NAME  =    (char const   */* const  */)"(anon)";
#line 4833 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execfuncdef(Estate state , Eprog redir_prog ) 
{ 
  Shfunc shf ;
  char *s ;
  int signum ;
  int nprg ;
  int sbeg ;
  int nstrs ;
  int npats ;
  int len ;
  int plen ;
  int i ;
  int htok ;
  int ret ;
  int nfunc ;
  int anon_func ;
  Wordcode beg ;
  Wordcode end ;
  Eprog prog ;
  Patprog *pp ;
  LinkList names ;
  Wordcode tmp ;
  Wordcode tmp___0 ;
  Wordcode tmp___1 ;
  Wordcode tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;
  void *tmp___7 ;
  int tmp___8 ;
  void *tmp___9 ;
  int tmp___10 ;
  LinkList args ;
  Wordcode tmp___11 ;
  Wordcode tmp___12 ;
  char const   *tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  char *tmp___16 ;
  void *tmp___17 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;

  {
  {
#line 4837
  s = (char *)((void *)0);
#line 4838
  htok = 0;
#line 4838
  ret = 0;
#line 4839
  nfunc = 0;
#line 4839
  anon_func = 0;
#line 4840
  beg = state->pc;
#line 4845
  end = beg + (*(state->pc + -1) >> 5);
#line 4846
  tmp = state->pc;
#line 4846
  (state->pc) ++;
#line 4846
  names = ecgetlist(state, (int )*tmp, 2, & htok);
#line 4847
  nprg = (int )(end - beg);
#line 4848
  tmp___0 = state->pc;
#line 4848
  (state->pc) ++;
#line 4848
  sbeg = (int )*tmp___0;
#line 4849
  tmp___1 = state->pc;
#line 4849
  (state->pc) ++;
#line 4849
  nstrs = (int )*tmp___1;
#line 4850
  tmp___2 = state->pc;
#line 4850
  (state->pc) ++;
#line 4850
  npats = (int )*tmp___2;
#line 4852
  nprg = (int )(end - state->pc);
#line 4853
  plen = (int )((unsigned long )nprg * sizeof(wordcode ));
#line 4854
  len = (int )(((unsigned long )plen + (unsigned long )npats * sizeof(Patprog )) + (unsigned long )nstrs);
  }
#line 4856
  if (htok) {
#line 4856
    if (names) {
      {
#line 4857
      execsubst(names);
      }
#line 4858
      if (errflag) {
#line 4859
        state->pc = end;
#line 4860
        return (1);
      }
    }
  }
  {
#line 4866
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4866
    if (! (! names)) {
      {
#line 4866
      tmp___17 = ugetnode(names);
#line 4866
      s = (char *)tmp___17;
      }
#line 4866
      if (! s) {
#line 4866
        goto while_break;
      }
    }
#line 4867
    if (! names) {
      {
#line 4868
      tmp___3 = zhalloc(sizeof(*prog));
#line 4868
      prog = (Eprog )tmp___3;
#line 4869
      prog->nref = -1;
      }
    } else {
      {
#line 4871
      tmp___4 = zalloc(sizeof(*prog));
#line 4871
      prog = (Eprog )tmp___4;
#line 4872
      prog->nref = 1;
      }
    }
#line 4874
    prog->npats = npats;
#line 4875
    prog->len = len;
#line 4876
    if ((state->prog)->dump) {
#line 4876
      goto _L;
    } else
#line 4876
    if (! names) {
      _L: /* CIL Label */ 
#line 4877
      if (! names) {
        {
#line 4878
        prog->flags = 2;
#line 4879
        prog->dump = (FuncDump )((void *)0);
#line 4880
        tmp___5 = zhalloc((unsigned long )npats * sizeof(Patprog ));
#line 4880
        pp = (Patprog *)tmp___5;
#line 4880
        prog->pats = pp;
        }
      } else {
        {
#line 4882
        prog->flags = 4;
#line 4883
        incrdumpcount((state->prog)->dump);
#line 4884
        prog->dump = (state->prog)->dump;
#line 4885
        tmp___6 = zalloc((unsigned long )npats * sizeof(Patprog ));
#line 4885
        pp = (Patprog *)tmp___6;
#line 4885
        prog->pats = pp;
        }
      }
#line 4887
      prog->prog = state->pc;
#line 4888
      prog->strs = state->strs + sbeg;
    } else {
      {
#line 4890
      prog->flags = 1;
#line 4891
      tmp___7 = zalloc((size_t )len);
#line 4891
      pp = (Patprog *)tmp___7;
#line 4891
      prog->pats = pp;
#line 4892
      prog->prog = (Wordcode )(prog->pats + npats);
#line 4893
      prog->strs = (char *)(prog->prog + nprg);
#line 4894
      prog->dump = (FuncDump )((void *)0);
#line 4895
      memcpy((void */* __restrict  */)prog->prog, (void const   */* __restrict  */)state->pc,
             (size_t )plen);
#line 4896
      memcpy((void */* __restrict  */)prog->strs, (void const   */* __restrict  */)(state->strs + sbeg),
             (size_t )nstrs);
      }
    }
#line 4898
    i = npats;
    {
#line 4898
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4898
      tmp___8 = i;
#line 4898
      i --;
#line 4898
      if (! tmp___8) {
#line 4898
        goto while_break___0;
      }
#line 4899
      *pp = (Patprog )1;
#line 4898
      pp ++;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 4900
    prog->shf = (Shfunc )((void *)0);
#line 4902
    tmp___9 = zalloc(sizeof(*shf));
#line 4902
    shf = (Shfunc )tmp___9;
#line 4903
    shf->funcdef = prog;
#line 4904
    shf->node.flags = 0;
#line 4905
    shf->filename = ztrdup((char const   *)scriptfilename);
#line 4906
    shf->lineno = lineno;
#line 4912
    tmp___10 = nfunc;
#line 4912
    nfunc ++;
    }
#line 4912
    if (tmp___10) {
#line 4912
      if (redir_prog) {
        {
#line 4913
        shf->redir = dupeprog(redir_prog, 0);
        }
      } else {
#line 4915
        shf->redir = redir_prog;
      }
    } else {
#line 4915
      shf->redir = redir_prog;
    }
    {
#line 4916
    shfunc_set_sticky(shf);
    }
#line 4918
    if (! names) {
      {
#line 4925
      anon_func = 1;
#line 4927
      state->pc = end;
#line 4928
      tmp___11 = state->pc;
#line 4928
      (state->pc) ++;
#line 4928
      end += *tmp___11;
#line 4929
      tmp___12 = state->pc;
#line 4929
      (state->pc) ++;
#line 4929
      args = ecgetlist(state, (int )*tmp___12, 2, & htok);
      }
#line 4931
      if (htok) {
#line 4931
        if (args) {
          {
#line 4932
          execsubst(args);
          }
#line 4933
          if (errflag) {
            {
#line 4934
            freeeprog(shf->funcdef);
            }
#line 4935
            if (shf->redir) {
              {
#line 4936
              freeeprog(shf->redir);
              }
            }
            {
#line 4937
            zsfree(shf->filename);
#line 4938
            zfree((void *)shf, (int )sizeof(*shf));
#line 4939
            state->pc = end;
            }
#line 4940
            return (1);
          }
        }
      }
#line 4944
      if (args) {
#line 4944
        if ((unsigned long )args->list.first != (unsigned long )((void *)0)) {
#line 4944
          tmp___13 = (char const   *)((char *)(args->list.last)->dat);
        } else {
#line 4944
          tmp___13 = "";
        }
      } else {
#line 4944
        tmp___13 = "";
      }
      {
#line 4944
      setunderscore((char *)tmp___13);
      }
#line 4947
      if (! args) {
        {
#line 4948
        args = newlinklist();
        }
      }
      {
#line 4949
      shf->node.nam = (char *)ANONYMOUS_FUNCTION_NAME;
#line 4950
      insertlinknode(args, & args->node, (void *)shf->node.nam);
#line 4952
      execshfunc(shf, args);
#line 4953
      ret = (int )lastval;
      }
#line 4955
      if (opts[137]) {
#line 4955
        if (opts[159]) {
#line 4955
          if (lastval) {
            {
#line 4960
            fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"zsh: exit %ld\n",
                    lastval);
#line 4962
            fflush(stderr);
            }
          }
        }
      }
      {
#line 4965
      freeeprog(shf->funcdef);
      }
#line 4966
      if (shf->redir) {
        {
#line 4967
        freeeprog(shf->redir);
        }
      }
      {
#line 4968
      zsfree(shf->filename);
#line 4969
      zfree((void *)shf, (int )sizeof(*shf));
      }
#line 4970
      goto while_break;
    } else {
      {
#line 4973
      tmp___15 = strncmp((char const   *)s, "TRAP", (size_t )4);
      }
#line 4973
      if (! tmp___15) {
        {
#line 4973
        signum = getsignum((char const   *)(s + 4));
        }
#line 4973
        if (signum != -1) {
          {
#line 4975
          tmp___14 = settrap(signum, (Eprog )((void *)0), 1 << 2);
          }
#line 4975
          if (tmp___14) {
            {
#line 4976
            freeeprog(shf->funcdef);
#line 4977
            zsfree(shf->filename);
#line 4978
            zfree((void *)shf, (int )sizeof(*shf));
#line 4979
            state->pc = end;
            }
#line 4980
            return (1);
          }
          {
#line 4987
          removetrapnode(signum);
          }
        }
      }
      {
#line 4989
      tmp___16 = ztrdup((char const   *)s);
#line 4989
      (*(shfunctab->addnode))(shfunctab, tmp___16, (void *)shf);
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4992
  if (! anon_func) {
    {
#line 4993
    setunderscore((char *)"");
    }
  }
#line 4994
  if (! nfunc) {
#line 4994
    if (redir_prog) {
      {
#line 4996
      freeeprog(redir_prog);
      }
    }
  }
#line 4998
  state->pc = end;
#line 4999
  return (ret);
}
}
#line 5006 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
Emulation_options sticky_emulation_dup(Emulation_options src , int useheap ) 
{ 
  Emulation_options newsticky ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  size_t sz___0 ;
  void *tmp___2 ;
  void *tmp___3 ;
  size_t sz___1 ;
  void *tmp___4 ;
  void *tmp___5 ;

  {
#line 5009
  if (useheap) {
    {
#line 5009
    tmp = hcalloc(sizeof(*src));
#line 5009
    tmp___1 = tmp;
    }
  } else {
    {
#line 5009
    tmp___0 = zshcalloc(sizeof(*src));
#line 5009
    tmp___1 = tmp___0;
    }
  }
#line 5009
  newsticky = (Emulation_options )tmp___1;
#line 5011
  newsticky->emulation = src->emulation;
#line 5012
  if (src->n_on_opts) {
#line 5013
    sz___0 = (unsigned long )src->n_on_opts * sizeof(*(src->on_opts));
#line 5014
    newsticky->n_on_opts = src->n_on_opts;
#line 5015
    if (useheap) {
      {
#line 5015
      tmp___2 = zhalloc(sz___0);
#line 5015
      newsticky->on_opts = (OptIndex *)tmp___2;
      }
    } else {
      {
#line 5015
      tmp___3 = zalloc(sz___0);
#line 5015
      newsticky->on_opts = (OptIndex *)tmp___3;
      }
    }
    {
#line 5016
    memcpy((void */* __restrict  */)newsticky->on_opts, (void const   */* __restrict  */)src->on_opts,
           sz___0);
    }
  }
#line 5018
  if (src->n_off_opts) {
#line 5019
    sz___1 = (unsigned long )src->n_off_opts * sizeof(*(src->off_opts));
#line 5020
    newsticky->n_off_opts = src->n_off_opts;
#line 5021
    if (useheap) {
      {
#line 5021
      tmp___4 = zhalloc(sz___1);
#line 5021
      newsticky->off_opts = (OptIndex *)tmp___4;
      }
    } else {
      {
#line 5021
      tmp___5 = zalloc(sz___1);
#line 5021
      newsticky->off_opts = (OptIndex *)tmp___5;
      }
    }
    {
#line 5022
    memcpy((void */* __restrict  */)newsticky->off_opts, (void const   */* __restrict  */)src->off_opts,
           sz___1);
    }
  }
#line 5025
  return (newsticky);
}
}
#line 5032 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void shfunc_set_sticky(Shfunc shf ) 
{ 


  {
#line 5035
  if (sticky) {
    {
#line 5036
    shf->sticky = sticky_emulation_dup(sticky, 0);
    }
  } else {
#line 5038
    shf->sticky = (Emulation_options )((void *)0);
  }
#line 5039
  return;
}
}
#line 5045 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static void execshfunc(Shfunc shf , LinkList args ) 
{ 
  LinkList last_file_list ;
  unsigned char *ocs ;
  int ocsp ;
  int osfc ;
  int tmp ;
  LinkNode lptr ;
  void *tmp___0 ;
  sigset_t oset ;
  void *__cil_tmp11 ;

  {
#line 5048
  last_file_list = (LinkList )((void *)0);
#line 5052
  if (errflag) {
#line 5053
    return;
  }
#line 5056
  if (! list_pipe) {
#line 5056
    if (thisjob != -1) {
#line 5056
      if (thisjob != list_pipe_job) {
        {
#line 5056
        tmp = hasprocs(thisjob);
        }
#line 5056
        if (! tmp) {
          {
#line 5060
          last_file_list = (jobtab + thisjob)->filelist;
#line 5061
          (jobtab + thisjob)->filelist = (LinkList )((void *)0);
#line 5062
          deletejob(jobtab + thisjob, 0);
          }
        }
      }
    }
  }
#line 5065
  if (opts[175]) {
    {
#line 5067
    printprompt4();
    }
#line 5068
    if (args) {
#line 5069
      lptr = args->list.first;
      {
#line 5069
      while (1) {
        while_continue: /* CIL Label */ ;
#line 5069
        if (! lptr) {
#line 5069
          goto while_break;
        }
#line 5070
        if ((unsigned long )lptr != (unsigned long )args->list.first) {
          {
#line 5071
          fputc(' ', xtrerr);
          }
        }
        {
#line 5072
        quotedzputs((char const   *)((char *)lptr->dat), xtrerr);
#line 5069
        lptr = lptr->next;
        }
      }
      while_break: /* CIL Label */ ;
      }
    }
    {
#line 5074
    fputc('\n', xtrerr);
#line 5075
    fflush(xtrerr);
    }
  }
  {
#line 5077
  queueing_enabled ++;
#line 5078
  ocs = cmdstack;
#line 5079
  ocsp = cmdsp;
#line 5080
  tmp___0 = zalloc((size_t )256);
#line 5080
  cmdstack = (unsigned char *)tmp___0;
#line 5081
  cmdsp = 0;
#line 5082
  osfc = sfcontext;
  }
#line 5082
  if (osfc == 0) {
#line 5083
    sfcontext = 1;
  }
  {
#line 5084
  xtrerr = stderr;
#line 5086
  doshfunc(shf, args, 0);
#line 5088
  sfcontext = osfc;
#line 5089
  free((void *)cmdstack);
#line 5090
  cmdstack = ocs;
#line 5091
  cmdsp = ocsp;
  }
#line 5093
  if (! list_pipe) {
    {
#line 5094
    deletefilelist(last_file_list, 0);
    }
  }
  {
#line 5095
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 5095
    queueing_enabled --;
#line 5095
    if (! queueing_enabled) {
      {
#line 5095
      while (1) {
        while_continue___1: /* CIL Label */ ;
        {
#line 5095
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 5095
          if (! (queue_front != queue_rear)) {
#line 5095
            goto while_break___2;
          }
          {
#line 5095
          queue_front = (queue_front + 1) % 128;
#line 5095
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 5095
          zhandler(signal_queue[queue_front]);
#line 5095
          signal_setmask(oset);
          }
        }
        while_break___2: /* CIL Label */ ;
        }
#line 5095
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 5095
    goto while_break___0;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 5096
  return;
}
}
#line 5113 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execautofn_basic(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  Shfunc shf ;
  char *oldscriptname ;
  char *oldscriptfilename ;
  char *__cil_tmp6 ;

  {
#line 5119
  shf = (state->prog)->shf;
#line 5125
  if (funcstack) {
#line 5125
    if (! funcstack->filename) {
      {
#line 5126
      funcstack->filename = dupstring((char const   *)shf->filename);
      }
    }
  }
  {
#line 5128
  oldscriptname = scriptname;
#line 5129
  oldscriptfilename = scriptfilename;
#line 5130
  scriptname = dupstring((char const   *)shf->node.nam);
#line 5131
  scriptfilename = dupstring((char const   *)shf->filename);
#line 5132
  execode(shf->funcdef, 1, 0, (char *)"loadautofunc");
#line 5133
  scriptname = oldscriptname;
#line 5134
  scriptfilename = oldscriptfilename;
  }
#line 5136
  return ((int )lastval);
}
}
#line 5140 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int execautofn(Estate state , int do_exec  __attribute__((__unused__)) ) 
{ 
  Shfunc shf ;
  int tmp ;

  {
  {
#line 5145
  shf = loadautofn((state->prog)->shf, 1, 0);
  }
#line 5145
  if (! shf) {
#line 5146
    return (1);
  }
  {
#line 5148
  (state->prog)->shf = shf;
#line 5149
  tmp = execautofn_basic(state, 0);
  }
#line 5149
  return (tmp);
}
}
#line 5153 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
Shfunc loadautofn(Shfunc shf , int fksh , int autol ) 
{ 
  int noalias ;
  int ksh ;
  Eprog prog ;
  char *fname ;
  int tmp ;
  char *n ;
  size_t tmp___0 ;
  void *tmp___1 ;
  HashNode tmp___2 ;
  Eprog tmp___3 ;
  char *__cil_tmp14 ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;

  {
  {
#line 5156
  noalias = noaliases;
#line 5156
  ksh = 1;
#line 5160
  pushheap();
#line 5162
  noaliases = shf->node.flags & (1 << 13);
#line 5163
  prog = getfpfunc(shf->node.nam, & ksh, & fname);
#line 5164
  noaliases = noalias;
  }
#line 5166
  if (ksh == 1) {
#line 5167
    ksh = fksh;
#line 5168
    if (ksh == 1) {
#line 5169
      if (shf->node.flags & (1 << 17)) {
#line 5169
        ksh = 2;
      } else {
#line 5169
        if (shf->node.flags & (1 << 18)) {
#line 5169
          tmp = 0;
        } else {
#line 5169
          tmp = 1;
        }
#line 5169
        ksh = tmp;
      }
    }
  }
#line 5173
  if ((unsigned long )prog == (unsigned long )(& dummy_eprog)) {
    {
#line 5175
    locallevel --;
#line 5176
    zwarn("%s: function definition file not found", shf->node.nam);
#line 5177
    locallevel ++;
#line 5178
    popheap();
    }
#line 5179
    return ((Shfunc )((void *)0));
  }
#line 5181
  if (! prog) {
    {
#line 5182
    zsfree(fname);
#line 5183
    popheap();
    }
#line 5184
    return ((Shfunc )((void *)0));
  }
#line 5186
  if (ksh == 2) {
#line 5186
    goto _L___0;
  } else
#line 5186
  if (ksh == 1) {
#line 5186
    if (opts[95]) {
      _L___0: /* CIL Label */ 
#line 5187
      if (autol) {
        {
#line 5188
        prog->flags |= 8;
#line 5190
        freeeprog(shf->funcdef);
        }
#line 5191
        if (prog->flags & 4) {
#line 5192
          shf->funcdef = prog;
        } else {
          {
#line 5194
          shf->funcdef = dupeprog(prog, 0);
          }
        }
#line 5195
        shf->node.flags &= ~ (1 << 9);
#line 5196
        shf->filename = fname;
      } else {
        {
#line 5198
        tmp___0 = strlen((char const   *)shf->node.nam);
#line 5198
        tmp___1 = zhalloc(sizeof(char ) * (tmp___0 + 1UL));
#line 5198
        n = (char *)tmp___1;
#line 5199
        strcpy((char */* __restrict  */)n, (char const   */* __restrict  */)shf->node.nam);
#line 5200
        execode(prog, 1, 0, (char *)"evalautofunc");
#line 5201
        tmp___2 = (*(shfunctab->getnode))(shfunctab, (char const   *)n);
#line 5201
        shf = (Shfunc )tmp___2;
        }
#line 5202
        if (! shf) {
#line 5202
          goto _L;
        } else
#line 5202
        if (shf->node.flags & (1 << 9)) {
          _L: /* CIL Label */ 
          {
#line 5204
          locallevel --;
#line 5205
          zwarn("%s: function not defined by file", n);
#line 5206
          locallevel ++;
#line 5207
          popheap();
#line 5208
          zsfree(fname);
          }
#line 5209
          return ((Shfunc )((void *)0));
        }
      }
    } else {
#line 5186
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
    {
#line 5213
    freeeprog(shf->funcdef);
    }
#line 5214
    if (prog->flags & 4) {
      {
#line 5215
      shf->funcdef = stripkshdef(prog, shf->node.nam);
      }
    } else {
      {
#line 5217
      tmp___3 = stripkshdef(prog, shf->node.nam);
#line 5217
      shf->funcdef = dupeprog(tmp___3, 0);
      }
    }
#line 5218
    shf->node.flags &= ~ (1 << 9);
#line 5219
    shf->filename = fname;
  }
  {
#line 5221
  popheap();
  }
#line 5223
  return (shf);
}
}
#line 5232 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int sticky_emulation_differs(Emulation_options sticky2 ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
#line 5235
  if (! sticky2) {
#line 5236
    return (0);
  }
#line 5238
  if (! sticky) {
#line 5239
    return (1);
  }
#line 5241
  if (sticky->emulation != sticky2->emulation) {
#line 5242
    return (1);
  }
#line 5244
  if (sticky->n_on_opts != sticky2->n_on_opts) {
#line 5246
    return (1);
  } else
#line 5244
  if (sticky->n_off_opts != sticky2->n_off_opts) {
#line 5246
    return (1);
  }
#line 5253
  if (sticky->n_on_opts) {
    {
#line 5253
    tmp = memcmp((void const   *)sticky->on_opts, (void const   *)sticky2->on_opts,
                 (unsigned long )sticky->n_on_opts * sizeof(*(sticky->on_opts)));
    }
#line 5253
    if (tmp != 0) {
#line 5256
      return (1);
    }
  }
#line 5258
  if (sticky->n_off_opts) {
    {
#line 5258
    tmp___0 = memcmp((void const   *)sticky->off_opts, (void const   *)sticky2->off_opts,
                     (unsigned long )sticky->n_off_opts * sizeof(*(sticky->off_opts)));
    }
#line 5258
    if (tmp___0 != 0) {
#line 5261
      return (1);
    }
  }
#line 5262
  return (0);
}
}
#line 5297 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int oflags  ;
#line 5300 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int funcdepth  ;
#line 5284 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
int doshfunc(Shfunc shfunc , LinkList doshargs , int noreturnval ) 
{ 
  char **pptab ;
  char **x ;
  char *oargv0 ;
  int oldzoptind ;
  int oldlastval ;
  int oldoptcind ;
  int oldnumpipestats ;
  int ret ;
  int *oldpipestats ;
  char saveopts[178] ;
  char *oldscriptname ;
  char *name ;
  int flags ;
  int ooflags ;
  char *fname ;
  char *tmp ;
  int obreaks ;
  int ocontflag ;
  int oloops ;
  int saveemulation ;
  int restore_sticky ;
  Eprog prog ;
  struct funcstack fstack ;
  Emulation_options save_sticky ;
  Heap funcheap ;
  Heap _switch_oldheaps ;
  size_t bytes ;
  void *tmp___0 ;
  OptIndex *onptr ;
  OptIndex *offptr ;
  int tmp___1 ;
  LinkNode node ;
  int tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;
  Shfunc shf ;
  HashNode tmp___7 ;
  sigset_t oset ;
  void *__cil_tmp44 ;
  void *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;

  {
  {
#line 5289
  oldpipestats = (int *)((void *)0);
#line 5290
  oldscriptname = scriptname;
#line 5291
  name = shfunc->node.nam;
#line 5292
  flags = shfunc->node.flags;
#line 5293
  tmp = dupstring((char const   *)name);
#line 5293
  fname = tmp;
#line 5298
  save_sticky = (Emulation_options )((void *)0);
#line 5304
  queueing_enabled ++;
  }
  {
#line 5306
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 5306
    funcheap = new_heaps();
#line 5306
    _switch_oldheaps = funcheap;
    }
    {
#line 5306
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 5307
      oargv0 = (char *)((void *)0);
#line 5308
      obreaks = breaks;
#line 5309
      ocontflag = contflag;
#line 5310
      oloops = loops;
#line 5311
      if (trap_state == 1) {
#line 5312
        trap_return --;
      }
#line 5313
      oldlastval = (int )lastval;
#line 5314
      oldnumpipestats = numpipestats;
#line 5315
      if (noreturnval) {
        {
#line 5320
        bytes = sizeof(int ) * (unsigned long )numpipestats;
#line 5321
        tmp___0 = zhalloc(bytes);
#line 5321
        oldpipestats = (int *)tmp___0;
#line 5322
        memcpy((void */* __restrict  */)oldpipestats, (void const   */* __restrict  */)(pipestats),
               bytes);
        }
      }
      {
#line 5325
      starttrapscope();
#line 5326
      startpatternscope();
#line 5328
      pptab = pparams;
      }
#line 5329
      if (! (flags & (1 << 9))) {
        {
#line 5330
        scriptname = dupstring((char const   *)name);
        }
      }
#line 5331
      oldzoptind = (int )zoptind;
#line 5332
      oldoptcind = optcind;
#line 5333
      if (! opts[130]) {
#line 5334
        zoptind = (zlong )1;
#line 5335
        optcind = 0;
      }
      {
#line 5341
      memcpy((void */* __restrict  */)(saveopts), (void const   */* __restrict  */)(opts),
             sizeof(opts));
#line 5342
      saveemulation = emulation;
#line 5343
      save_sticky = sticky;
#line 5345
      tmp___1 = sticky_emulation_differs(shfunc->sticky);
      }
#line 5345
      if (tmp___1) {
        {
#line 5358
        sticky = sticky_emulation_dup(shfunc->sticky, 1);
#line 5359
        emulation = sticky->emulation;
#line 5360
        restore_sticky = 1;
#line 5361
        installemulation(emulation, opts);
        }
#line 5362
        if (sticky->n_on_opts) {
#line 5364
          onptr = sticky->on_opts;
          {
#line 5364
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 5364
            if (! ((unsigned long )onptr < (unsigned long )(sticky->on_opts + sticky->n_on_opts))) {
#line 5364
              goto while_break___1;
            }
#line 5367
            opts[*onptr] = (char)1;
#line 5364
            onptr ++;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 5369
        if (sticky->n_off_opts) {
#line 5371
          offptr = sticky->off_opts;
          {
#line 5371
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 5371
            if (! ((unsigned long )offptr < (unsigned long )(sticky->off_opts + sticky->n_off_opts))) {
#line 5371
              goto while_break___2;
            }
#line 5374
            opts[*offptr] = (char)0;
#line 5371
            offptr ++;
          }
          while_break___2: /* CIL Label */ ;
          }
        }
        {
#line 5377
        clearpatterndisables();
        }
      } else {
#line 5379
        restore_sticky = 0;
      }
#line 5381
      if (flags & ((1 << 11) | (1 << 16))) {
#line 5382
        opts[175] = (char)1;
      } else
#line 5383
      if (oflags & (1 << 16)) {
#line 5384
        if ((unsigned long )shfunc->node.nam == (unsigned long )ANONYMOUS_FUNCTION_NAME) {
#line 5385
          flags |= 1 << 16;
        } else {
#line 5387
          opts[175] = (char)0;
        }
      }
#line 5389
      ooflags = oflags;
#line 5395
      oflags = flags;
#line 5396
      opts[137] = (char)0;
#line 5397
      if (doshargs) {
        {
#line 5400
        node = doshargs->list.first;
#line 5401
        tmp___2 = countlinknodes(doshargs);
#line 5401
        tmp___3 = zshcalloc(sizeof(*x) * (unsigned long )(1 + tmp___2));
#line 5401
        x = (char **)tmp___3;
#line 5401
        pparams = x;
        }
#line 5403
        if (opts[57]) {
          {
#line 5404
          oargv0 = argzero;
#line 5405
          argzero = ztrdup((char const   *)node->dat);
          }
        }
#line 5408
        node = node->next;
        {
#line 5409
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 5409
          if (! node) {
#line 5409
            goto while_break___3;
          }
          {
#line 5410
          *x = ztrdup((char const   *)node->dat);
#line 5409
          node = node->next;
#line 5409
          x ++;
          }
        }
        while_break___3: /* CIL Label */ ;
        }
      } else {
        {
#line 5412
        tmp___4 = zshcalloc(sizeof(*pparams));
#line 5412
        pparams = (char **)tmp___4;
        }
#line 5413
        if (opts[57]) {
          {
#line 5414
          oargv0 = argzero;
#line 5415
          argzero = ztrdup((char const   *)argzero);
          }
        }
      }
#line 5419
      funcdepth ++;
#line 5419
      if (funcdepth > 1000) {
        {
#line 5421
        zerr("maximum nested function level reached");
        }
#line 5422
        goto undoshfunc;
      }
      {
#line 5425
      fstack.name = dupstring((char const   *)name);
      }
#line 5431
      if (funcstack) {
#line 5431
        fstack.caller = funcstack->name;
      } else {
#line 5431
        if (oargv0) {
#line 5431
          tmp___5 = oargv0;
        } else {
#line 5431
          tmp___5 = argzero;
        }
        {
#line 5431
        tmp___6 = dupstring((char const   *)tmp___5);
#line 5431
        fstack.caller = tmp___6;
        }
      }
      {
#line 5433
      fstack.lineno = lineno;
#line 5434
      fstack.prev = funcstack;
#line 5435
      fstack.tp = 1;
#line 5436
      funcstack = & fstack;
#line 5438
      fstack.flineno = shfunc->lineno;
#line 5439
      fstack.filename = dupstring((char const   *)shfunc->filename);
#line 5441
      prog = shfunc->funcdef;
      }
#line 5442
      if (prog->flags & 8) {
        {
#line 5445
        prog->flags &= -9;
#line 5447
        runshfunc(prog, (FuncWrap )((void *)0), fstack.name);
#line 5449
        name = fname;
#line 5449
        tmp___7 = (*(shfunctab->getnode))(shfunctab, (char const   *)name);
#line 5449
        shf = (Shfunc )tmp___7;
        }
#line 5449
        if (! shf) {
          {
#line 5451
          zwarn("%s: function not defined by file", name);
          }
#line 5452
          if (noreturnval) {
#line 5453
            errflag |= 1;
          } else {
#line 5455
            lastval = (zlong )1;
          }
#line 5456
          goto doneshfunc;
        }
#line 5458
        prog = shf->funcdef;
      }
      {
#line 5460
      runshfunc(prog, wrappers, fstack.name);
      }
      doneshfunc: 
#line 5462
      funcstack = fstack.prev;
      undoshfunc: 
#line 5465
      funcdepth --;
#line 5467
      if (retflag) {
#line 5468
        retflag = 0;
#line 5469
        breaks = obreaks;
      }
      {
#line 5471
      freearray(pparams);
      }
#line 5472
      if (oargv0) {
        {
#line 5473
        zsfree(argzero);
#line 5474
        argzero = oargv0;
        }
      }
#line 5476
      pparams = pptab;
#line 5477
      if (! opts[130]) {
#line 5478
        zoptind = (zlong )oldzoptind;
#line 5479
        optcind = oldoptcind;
      }
      {
#line 5481
      scriptname = oldscriptname;
#line 5482
      oflags = ooflags;
#line 5484
      endpatternscope();
      }
#line 5486
      if (restore_sticky) {
        {
#line 5492
        memcpy((void */* __restrict  */)(opts), (void const   */* __restrict  */)(saveopts),
               sizeof(opts));
#line 5493
        emulation = saveemulation;
#line 5494
        sticky = save_sticky;
        }
      } else
#line 5495
      if (opts[106]) {
        {
#line 5497
        saveopts[138] = opts[138];
#line 5498
        saveopts[153] = opts[153];
#line 5499
        memcpy((void */* __restrict  */)(opts), (void const   */* __restrict  */)(saveopts),
               sizeof(opts));
#line 5500
        emulation = saveemulation;
        }
      } else {
#line 5503
        opts[175] = saveopts[175];
#line 5504
        opts[137] = saveopts[137];
#line 5505
        opts[106] = saveopts[106];
#line 5506
        opts[105] = saveopts[105];
      }
#line 5509
      if (opts[105]) {
#line 5510
        if (contflag) {
          {
#line 5511
          zwarn("`continue\' active at end of function scope");
          }
        }
#line 5512
        if (breaks) {
          {
#line 5513
          zwarn("`break\' active at end of function scope");
          }
        }
#line 5514
        breaks = obreaks;
#line 5515
        contflag = ocontflag;
#line 5516
        loops = oloops;
      }
      {
#line 5519
      endtrapscope();
      }
#line 5521
      if (trap_state == 1) {
#line 5522
        trap_return ++;
      }
#line 5523
      ret = (int )lastval;
#line 5524
      if (noreturnval) {
        {
#line 5525
        lastval = (zlong )oldlastval;
#line 5526
        numpipestats = oldnumpipestats;
#line 5527
        memcpy((void */* __restrict  */)(pipestats), (void const   */* __restrict  */)oldpipestats,
               sizeof(int ) * (unsigned long )numpipestats);
        }
      }
#line 5306
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 5529
    old_heaps(_switch_oldheaps);
    }
#line 5306
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 5531
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 5531
    queueing_enabled --;
#line 5531
    if (! queueing_enabled) {
      {
#line 5531
      while (1) {
        while_continue___5: /* CIL Label */ ;
        {
#line 5531
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 5531
          if (! (queue_front != queue_rear)) {
#line 5531
            goto while_break___6;
          }
          {
#line 5531
          queue_front = (queue_front + 1) % 128;
#line 5531
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 5531
          zhandler(signal_queue[queue_front]);
#line 5531
          signal_setmask(oset);
          }
        }
        while_break___6: /* CIL Label */ ;
        }
#line 5531
        goto while_break___5;
      }
      while_break___5: /* CIL Label */ ;
      }
    }
#line 5531
    goto while_break___4;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 5541
  if (exit_pending) {
#line 5541
    if (exit_level >= locallevel + 1) {
#line 5542
      if (locallevel > forklevel) {
#line 5544
        retflag = 1;
#line 5545
        breaks = loops;
      } else {
        {
#line 5552
        stopmsg = 1;
#line 5553
        zexit(exit_pending >> 1, 0);
        }
      }
    }
  }
#line 5557
  return (ret);
}
}
#line 5565 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void runshfunc(Eprog prog , FuncWrap wrap , char *name ) 
{ 
  int cont ;
  int ouu ;
  char *ou ;
  void *tmp ;
  sigset_t oset ;
  sigset_t oset___0 ;
  void *__cil_tmp10 ;
  void *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
  {
#line 5571
  queueing_enabled ++;
#line 5573
  ouu = underscoreused;
#line 5573
  tmp = zalloc((size_t )ouu);
#line 5573
  ou = (char *)tmp;
  }
#line 5574
  if (ou) {
    {
#line 5575
    memcpy((void */* __restrict  */)ou, (void const   */* __restrict  */)zunderscore,
           (size_t )underscoreused);
    }
  }
  {
#line 5577
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5577
    if (! wrap) {
#line 5577
      goto while_break;
    }
    {
#line 5578
    ((wrap->module)->wrapper) ++;
#line 5579
    cont = (*(wrap->handler))(prog, wrap->next, name);
#line 5580
    ((wrap->module)->wrapper) --;
    }
#line 5582
    if (! (wrap->module)->wrapper) {
#line 5582
      if ((wrap->module)->node.flags & (1 << 1)) {
        {
#line 5584
        unload_module(wrap->module);
        }
      }
    }
#line 5586
    if (! cont) {
#line 5587
      if (ou) {
        {
#line 5588
        zfree((void *)ou, ouu);
        }
      }
      {
#line 5589
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 5589
        queueing_enabled --;
#line 5589
        if (! queueing_enabled) {
          {
#line 5589
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 5589
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 5589
              if (! (queue_front != queue_rear)) {
#line 5589
                goto while_break___2;
              }
              {
#line 5589
              queue_front = (queue_front + 1) % 128;
#line 5589
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 5589
              zhandler(signal_queue[queue_front]);
#line 5589
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 5589
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 5589
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 5590
      return;
    }
#line 5592
    wrap = wrap->next;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 5594
  startparamscope();
#line 5595
  execode(prog, 1, 0, (char *)"shfunc");
  }
#line 5596
  if (ou) {
    {
#line 5597
    setunderscore(ou);
#line 5598
    zfree((void *)ou, ouu);
    }
  }
  {
#line 5600
  endparamscope();
  }
  {
#line 5602
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 5602
    queueing_enabled --;
#line 5602
    if (! queueing_enabled) {
      {
#line 5602
      while (1) {
        while_continue___4: /* CIL Label */ ;
        {
#line 5602
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 5602
          if (! (queue_front != queue_rear)) {
#line 5602
            goto while_break___5;
          }
          {
#line 5602
          queue_front = (queue_front + 1) % 128;
#line 5602
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 5602
          zhandler(signal_queue[queue_front]);
#line 5602
          signal_setmask(oset___0);
          }
        }
        while_break___5: /* CIL Label */ ;
        }
#line 5602
        goto while_break___4;
      }
      while_break___4: /* CIL Label */ ;
      }
    }
#line 5602
    goto while_break___3;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 5603
  return;
}
}
#line 5609 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
Eprog getfpfunc(char *s , int *ksh , char **fname ) 
{ 
  char **pp ;
  char buf___7[4097] ;
  off_t len ;
  off_t rlen ;
  char *d___0 ;
  Eprog r ;
  int fd ;
  size_t tmp ;
  size_t tmp___0 ;
  struct stat st___0 ;
  void *tmp___1 ;
  char *oldscriptname ;
  int tmp___2 ;
  int tmp___3 ;
  void *__cil_tmp18 ;
  void *__cil_tmp19 ;
  char *__cil_tmp20 ;

  {
#line 5619
  pp = fpath;
  {
#line 5620
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5620
    if (! *pp) {
#line 5620
      goto while_break;
    }
    {
#line 5621
    tmp = strlen((char const   *)*pp);
#line 5621
    tmp___0 = strlen((char const   *)s);
    }
#line 5621
    if ((tmp + tmp___0) + 1UL >= 4096UL) {
#line 5622
      goto __Cont;
    }
#line 5623
    if (*(*pp)) {
      {
#line 5624
      sprintf((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)"%s/%s",
              *pp, s);
      }
    } else {
      {
#line 5626
      strcpy((char */* __restrict  */)(buf___7), (char const   */* __restrict  */)s);
      }
    }
    {
#line 5627
    r = try_dump_file(*pp, s, buf___7, ksh);
    }
#line 5627
    if (r) {
#line 5628
      if (fname) {
        {
#line 5629
        *fname = ztrdup((char const   *)(buf___7));
        }
      }
#line 5630
      return (r);
    }
    {
#line 5632
    unmetafy(buf___7, (int *)((void *)0));
#line 5633
    tmp___3 = access((char const   *)(buf___7), 4);
    }
#line 5633
    if (! tmp___3) {
      {
#line 5633
      fd = open((char const   *)(buf___7), 256);
      }
#line 5633
      if (fd != -1) {
        {
#line 5635
        tmp___2 = fstat(fd, & st___0);
        }
#line 5635
        if (tmp___2) {
          {
#line 5661
          close(fd);
          }
        } else
#line 5635
        if ((st___0.st_mode & 61440U) == 32768U) {
          {
#line 5635
          len = lseek(fd, (__off_t )0, 2);
          }
#line 5635
          if (len != -1L) {
            {
#line 5637
            tmp___1 = zalloc((size_t )(len + 1L));
#line 5637
            d___0 = (char *)tmp___1;
#line 5638
            lseek(fd, (__off_t )0, 0);
#line 5639
            rlen = read(fd, (void *)d___0, (size_t )len);
            }
#line 5639
            if (rlen >= 0L) {
              {
#line 5640
              oldscriptname = scriptname;
#line 5642
              close(fd);
#line 5643
              *(d___0 + rlen) = (char )'\000';
#line 5644
              d___0 = metafy(d___0, (int )rlen, 0);
#line 5646
              scriptname = dupstring((char const   *)s);
#line 5647
              r = parse_string(d___0, 1);
#line 5648
              scriptname = oldscriptname;
              }
#line 5650
              if (fname) {
                {
#line 5651
                *fname = ztrdup((char const   *)(buf___7));
                }
              }
              {
#line 5653
              zfree((void *)d___0, (int )(len + 1L));
              }
#line 5655
              return (r);
            } else {
              {
#line 5657
              close(fd);
              }
            }
            {
#line 5659
            zfree((void *)d___0, (int )(len + 1L));
            }
          } else {
            {
#line 5661
            close(fd);
            }
          }
        } else {
          {
#line 5661
          close(fd);
          }
        }
      }
    }
    __Cont: /* CIL Label */ 
#line 5620
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 5664
  return (& dummy_eprog);
}
}
#line 5674 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
Eprog stripkshdef(Eprog prog , char *name ) 
{ 
  Wordcode pc ;
  wordcode code ;
  Wordcode tmp ;
  Wordcode tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  Eprog ret ;
  Wordcode end ;
  int sbeg ;
  int nstrs ;
  int nprg ;
  int npats ;
  int plen ;
  int len ;
  int i ;
  Patprog *pp ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  int tmp___6 ;

  {
#line 5680
  if (! prog) {
#line 5681
    return ((Eprog )((void *)0));
  }
#line 5682
  pc = prog->prog;
#line 5683
  tmp = pc;
#line 5683
  pc ++;
#line 5683
  code = *tmp;
#line 5684
  if ((code & (wordcode )((1 << 5) - 1)) != 1U) {
#line 5686
    return (prog);
  } else
#line 5684
  if (((code >> 5) & (unsigned int )(((1 << 1) | (1 << 4)) | (1 << 5))) != (unsigned int )(((1 << 1) | (1 << 4)) | (1 << 5))) {
#line 5686
    return (prog);
  }
#line 5687
  pc ++;
#line 5688
  tmp___0 = pc;
#line 5688
  pc ++;
#line 5688
  code = *tmp___0;
#line 5689
  if ((code & (wordcode )((1 << 5) - 1)) != 11U) {
#line 5691
    return (prog);
  } else
#line 5689
  if (*pc != 1U) {
#line 5691
    return (prog);
  } else {
    {
#line 5689
    tmp___1 = ecrawstr(prog, pc + 1, (int *)((void *)0));
#line 5689
    tmp___2 = strcmp((char const   *)name, (char const   *)tmp___1);
    }
#line 5689
    if (tmp___2) {
#line 5691
      return (prog);
    }
  }
#line 5695
  end = pc + (code >> 5);
#line 5696
  sbeg = (int )*(pc + 2);
#line 5696
  nstrs = (int )*(pc + 3);
#line 5696
  npats = (int )*(pc + 4);
#line 5699
  pc += 5;
#line 5701
  nprg = (int )(end - pc);
#line 5702
  plen = (int )((unsigned long )nprg * sizeof(wordcode ));
#line 5703
  len = (int )(((unsigned long )plen + (unsigned long )npats * sizeof(Patprog )) + (unsigned long )nstrs);
#line 5705
  if (prog->flags & 4) {
    {
#line 5706
    ret = prog;
#line 5707
    free((void *)prog->pats);
#line 5708
    tmp___3 = zalloc((unsigned long )npats * sizeof(Patprog ));
#line 5708
    pp = (Patprog *)tmp___3;
#line 5708
    ret->pats = pp;
#line 5709
    ret->prog = pc;
#line 5710
    ret->strs = prog->strs + sbeg;
    }
  } else {
    {
#line 5712
    tmp___4 = zhalloc(sizeof(*ret));
#line 5712
    ret = (Eprog )tmp___4;
#line 5713
    ret->flags = 2;
#line 5714
    tmp___5 = zhalloc((size_t )len);
#line 5714
    pp = (Patprog *)tmp___5;
#line 5714
    ret->pats = pp;
#line 5715
    ret->prog = (Wordcode )(ret->pats + npats);
#line 5716
    ret->strs = (char *)(ret->prog + nprg);
#line 5717
    memcpy((void */* __restrict  */)ret->prog, (void const   */* __restrict  */)pc,
           (size_t )plen);
#line 5718
    memcpy((void */* __restrict  */)ret->strs, (void const   */* __restrict  */)(prog->strs + sbeg),
           (size_t )nstrs);
#line 5719
    ret->dump = (FuncDump )((void *)0);
    }
  }
#line 5721
  ret->len = len;
#line 5722
  ret->npats = npats;
#line 5723
  i = npats;
  {
#line 5723
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5723
    tmp___6 = i;
#line 5723
    i --;
#line 5723
    if (! tmp___6) {
#line 5723
      goto while_break;
    }
#line 5724
    *pp = (Patprog )1;
#line 5723
    pp ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 5725
  ret->shf = (Shfunc )((void *)0);
#line 5727
  return (ret);
}
}
#line 5734 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static char *cancd(char *s ) 
{ 
  int nocdpath ;
  int tmp ;
  char *t ;
  char sbuf[4097] ;
  char **cp ;
  int tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  size_t tmp___3 ;
  size_t tmp___4 ;
  char *tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  char *tmp___9 ;
  int tmp___10 ;
  void *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
#line 5737
  if ((int )*(s + 0) == 46) {
#line 5737
    if ((int )*(s + 1) == 47) {
#line 5737
      tmp = 1;
    } else
#line 5737
    if (! *(s + 1)) {
#line 5737
      tmp = 1;
    } else
#line 5737
    if ((int )*(s + 1) == 46) {
#line 5737
      if ((int )*(s + 2) == 47) {
#line 5737
        tmp = 1;
      } else
#line 5737
      if (! *(s + 1)) {
#line 5737
        tmp = 1;
      } else {
#line 5737
        tmp = 0;
      }
    } else {
#line 5737
      tmp = 0;
    }
  } else {
#line 5737
    tmp = 0;
  }
#line 5737
  nocdpath = tmp;
#line 5741
  if ((int )*s != 47) {
    {
#line 5744
    tmp___0 = cancd2(s);
    }
#line 5744
    if (tmp___0) {
#line 5745
      return (s);
    }
    {
#line 5746
    tmp___1 = unmeta((char const   *)s);
#line 5746
    tmp___2 = access((char const   *)tmp___1, 1);
    }
#line 5746
    if (tmp___2 == 0) {
#line 5747
      return ((char *)((void *)0));
    }
#line 5748
    if (! nocdpath) {
#line 5749
      cp = cdpath;
      {
#line 5749
      while (1) {
        while_continue: /* CIL Label */ ;
#line 5749
        if (! *cp) {
#line 5749
          goto while_break;
        }
        {
#line 5750
        tmp___3 = strlen((char const   *)*cp);
#line 5750
        tmp___4 = strlen((char const   *)s);
        }
#line 5750
        if ((tmp___3 + tmp___4) + 1UL >= 4096UL) {
#line 5751
          goto __Cont;
        }
#line 5752
        if (*(*cp)) {
          {
#line 5753
          sprintf((char */* __restrict  */)(sbuf), (char const   */* __restrict  */)"%s/%s",
                  *cp, s);
          }
        } else {
          {
#line 5755
          strcpy((char */* __restrict  */)(sbuf), (char const   */* __restrict  */)s);
          }
        }
        {
#line 5756
        tmp___6 = cancd2(sbuf);
        }
#line 5756
        if (tmp___6) {
          {
#line 5757
          doprintdir = -1;
#line 5758
          tmp___5 = dupstring((char const   *)(sbuf));
          }
#line 5758
          return (tmp___5);
        }
        __Cont: /* CIL Label */ 
#line 5749
        cp ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
    {
#line 5761
    t = cd_able_vars(s);
    }
#line 5761
    if (t) {
      {
#line 5762
      tmp___7 = cancd2(t);
      }
#line 5762
      if (tmp___7) {
#line 5763
        doprintdir = -1;
#line 5764
        return (t);
      }
    }
#line 5767
    return ((char *)((void *)0));
  }
  {
#line 5769
  tmp___10 = cancd2(s);
  }
#line 5769
  if (tmp___10) {
#line 5769
    tmp___9 = s;
  } else {
#line 5769
    tmp___9 = (char *)((void *)0);
  }
#line 5769
  return (tmp___9);
}
}
#line 5773 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
static int cancd2(char *s ) 
{ 
  struct stat buf___7 ;
  char *us ;
  char *us2 ;
  int ret ;
  char const   *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  void *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
#line 5777
  us2 = (char *)((void *)0);
#line 5785
  if (! opts[29]) {
#line 5785
    if (! opts[30]) {
#line 5786
      if ((int )*s != 47) {
#line 5787
        if (*(pwd + 1)) {
#line 5787
          tmp = (char const   *)pwd;
        } else {
#line 5787
          tmp = "";
        }
        {
#line 5787
        us = tricat(tmp, "/", (char const   *)s);
        }
      } else {
        {
#line 5789
        us = ztrdup((char const   *)s);
        }
      }
      {
#line 5790
      us2 = us;
#line 5790
      fixdir(us2);
      }
    } else {
      {
#line 5792
      us = unmeta((char const   *)s);
      }
    }
  } else {
    {
#line 5792
    us = unmeta((char const   *)s);
    }
  }
  {
#line 5793
  tmp___0 = access((char const   *)us, 1);
  }
#line 5793
  if (tmp___0) {
#line 5793
    tmp___2 = 0;
  } else {
    {
#line 5793
    tmp___1 = stat((char const   */* __restrict  */)us, (struct stat */* __restrict  */)(& buf___7));
    }
#line 5793
    if (tmp___1) {
#line 5793
      tmp___2 = 0;
    } else
#line 5793
    if (! ((buf___7.st_mode & 61440U) == 16384U)) {
#line 5793
      tmp___2 = 0;
    } else {
#line 5793
      tmp___2 = 1;
    }
  }
#line 5793
  ret = tmp___2;
#line 5794
  if (us2) {
    {
#line 5795
    free((void *)us2);
    }
  }
#line 5796
  return (ret);
}
}
#line 5800 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void execsave(void) 
{ 
  struct execstack *es ;
  void *tmp ;

  {
  {
#line 5805
  tmp = zalloc(sizeof(struct execstack ));
#line 5805
  es = (struct execstack *)tmp;
#line 5806
  es->list_pipe_pid = list_pipe_pid;
#line 5807
  es->nowait = nowait;
#line 5808
  es->pline_level = pline_level;
#line 5809
  es->list_pipe_child = list_pipe_child;
#line 5810
  es->list_pipe_job = list_pipe_job;
#line 5811
  strcpy((char */* __restrict  */)(es->list_pipe_text), (char const   */* __restrict  */)(list_pipe_text));
#line 5812
  es->lastval = (int )lastval;
#line 5813
  es->noeval = noeval;
#line 5814
  es->badcshglob = badcshglob;
#line 5815
  es->cmdoutpid = cmdoutpid;
#line 5816
  es->cmdoutval = cmdoutval;
#line 5817
  es->use_cmdoutval = use_cmdoutval;
#line 5818
  es->trap_return = trap_return;
#line 5819
  es->trap_state = trap_state;
#line 5820
  es->trapisfunc = trapisfunc;
#line 5821
  es->traplocallevel = traplocallevel;
#line 5822
  es->noerrs = noerrs;
#line 5823
  es->this_noerrexit = this_noerrexit;
#line 5824
  es->underscore = ztrdup((char const   *)zunderscore);
#line 5825
  es->next = exstack;
#line 5826
  exstack = es;
#line 5827
  cmdoutpid = 0;
#line 5827
  noerrs = cmdoutpid;
  }
#line 5828
  return;
}
}
#line 5831 "/home/khheo/testset/zsh-zsh-5.3.1/Src/exec.c"
void execrestore(void) 
{ 
  struct execstack *en ;
  sigset_t oset ;
  void *__cil_tmp3 ;

  {
  {
#line 5834
  en = exstack;
#line 5838
  queueing_enabled ++;
#line 5839
  exstack = exstack->next;
#line 5841
  list_pipe_pid = en->list_pipe_pid;
#line 5842
  nowait = en->nowait;
#line 5843
  pline_level = en->pline_level;
#line 5844
  list_pipe_child = en->list_pipe_child;
#line 5845
  list_pipe_job = en->list_pipe_job;
#line 5846
  strcpy((char */* __restrict  */)(list_pipe_text), (char const   */* __restrict  */)(en->list_pipe_text));
#line 5847
  lastval = (zlong )en->lastval;
#line 5848
  noeval = en->noeval;
#line 5849
  badcshglob = en->badcshglob;
#line 5850
  cmdoutpid = en->cmdoutpid;
#line 5851
  cmdoutval = en->cmdoutval;
#line 5852
  use_cmdoutval = en->use_cmdoutval;
#line 5853
  trap_return = en->trap_return;
#line 5854
  trap_state = en->trap_state;
#line 5855
  trapisfunc = en->trapisfunc;
#line 5856
  traplocallevel = en->traplocallevel;
#line 5857
  noerrs = en->noerrs;
#line 5858
  this_noerrexit = en->this_noerrexit;
#line 5859
  setunderscore(en->underscore);
#line 5860
  zsfree(en->underscore);
#line 5861
  free((void *)en);
  }
  {
#line 5863
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5863
    queueing_enabled --;
#line 5863
    if (! queueing_enabled) {
      {
#line 5863
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 5863
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 5863
          if (! (queue_front != queue_rear)) {
#line 5863
            goto while_break___1;
          }
          {
#line 5863
          queue_front = (queue_front + 1) % 128;
#line 5863
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 5863
          zhandler(signal_queue[queue_front]);
#line 5863
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 5863
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 5863
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 5864
  return;
}
}
#line 46 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.c"
static struct context_stack *cstack  ;
#line 51 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.c"
void zcontext_save_partial(int parts ) 
{ 
  struct context_stack *cs ;
  void *tmp ;
  sigset_t oset ;
  void *__cil_tmp5 ;

  {
  {
#line 56
  queueing_enabled ++;
#line 58
  tmp = malloc(sizeof(struct context_stack ));
#line 58
  cs = (struct context_stack *)tmp;
  }
#line 60
  if (parts & 1) {
    {
#line 61
    hist_context_save(& cs->hist_stack, ! cstack);
    }
  }
#line 63
  if (parts & 2) {
    {
#line 64
    lex_context_save(& cs->lex_stack, ! cstack);
    }
  }
#line 66
  if (parts & 4) {
    {
#line 67
    parse_context_save(& cs->parse_stack, ! cstack);
    }
  }
#line 70
  cs->next = cstack;
#line 71
  cstack = cs;
  {
#line 73
  while (1) {
    while_continue: /* CIL Label */ ;
#line 73
    queueing_enabled --;
#line 73
    if (! queueing_enabled) {
      {
#line 73
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 73
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 73
          if (! (queue_front != queue_rear)) {
#line 73
            goto while_break___1;
          }
          {
#line 73
          queue_front = (queue_front + 1) % 128;
#line 73
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 73
          zhandler(signal_queue[queue_front]);
#line 73
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 73
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 73
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 74
  return;
}
}
#line 79 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.c"
void zcontext_save(void) 
{ 


  {
  {
#line 82
  zcontext_save_partial(7);
  }
#line 83
  return;
}
}
#line 88 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.c"
void zcontext_restore_partial(int parts ) 
{ 
  struct context_stack *cs ;
  sigset_t oset ;
  void *__cil_tmp4 ;

  {
#line 91
  cs = cstack;
#line 95
  queueing_enabled ++;
#line 96
  cstack = cstack->next;
#line 98
  if (parts & 1) {
    {
#line 99
    hist_context_restore((struct hist_stack  const  *)(& cs->hist_stack), ! cstack);
    }
  }
#line 101
  if (parts & 2) {
    {
#line 102
    lex_context_restore((struct lex_stack  const  *)(& cs->lex_stack), ! cstack);
    }
  }
#line 104
  if (parts & 4) {
    {
#line 105
    parse_context_restore((struct parse_stack  const  *)(& cs->parse_stack), ! cstack);
    }
  }
  {
#line 108
  free((void *)cs);
  }
  {
#line 110
  while (1) {
    while_continue: /* CIL Label */ ;
#line 110
    queueing_enabled --;
#line 110
    if (! queueing_enabled) {
      {
#line 110
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 110
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 110
          if (! (queue_front != queue_rear)) {
#line 110
            goto while_break___1;
          }
          {
#line 110
          queue_front = (queue_front + 1) % 128;
#line 110
          oset = signal_setmask(signal_mask_queue[queue_front]);
#line 110
          zhandler(signal_queue[queue_front]);
#line 110
          signal_setmask(oset);
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 110
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 110
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
#line 111
  return;
}
}
#line 116 "/home/khheo/testset/zsh-zsh-5.3.1/Src/context.c"
void zcontext_restore(void) 
{ 


  {
  {
#line 119
  zcontext_restore_partial(7);
  }
#line 120
  return;
}
}
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.epro"
int tracingcond  ;
#line 7
char *cond_str(char **args , int num , int raw___0 ) ;
#line 8
zlong cond_val(char **args , int num ) ;
#line 9
int cond_match(char **args , int num , char *str ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.pro"
static int doaccess(char *s , int c ) ;
#line 3
static struct stat *getstat(char *s ) ;
#line 4
static mode_t dostat(char *s ) ;
#line 5
static mode_t dolstat(char *s ) ;
#line 6
static int optison(char *name , char *s ) ;
#line 7
static void tracemodcond(char *name , char **args , int inf ) ;
#line 36 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static char *condstr[18]  = 
#line 36 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
  {      (char *)"!",      (char *)"&&",      (char *)"||",      (char *)"=", 
        (char *)"==",      (char *)"!=",      (char *)"<",      (char *)">", 
        (char *)"-nt",      (char *)"-ot",      (char *)"-ef",      (char *)"-eq", 
        (char *)"-ne",      (char *)"-lt",      (char *)"-gt",      (char *)"-le", 
        (char *)"-ge",      (char *)"=~"};
#line 41 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static void cond_subst(char **strp , int glob_ok ) 
{ 
  LinkList args ;
  LinkList tmp ;
  int tmp___0 ;
  char **tmp___1 ;
  size_t tmp___2 ;
  int tmp___3 ;

  {
#line 43
  if (glob_ok) {
    {
#line 43
    tmp___2 = strlen((char const   *)*strp);
#line 43
    tmp___3 = checkglobqual(*strp, (int )tmp___2, 1, (char **)((void *)0));
    }
#line 43
    if (tmp___3) {
      {
#line 45
      tmp = newlinklist();
#line 45
      args = tmp;
#line 46
      insertlinknode(args, args->list.last, (void *)*strp);
#line 47
      prefork(args, 0, (int *)((void *)0));
      }
      {
#line 48
      while (1) {
        while_continue: /* CIL Label */ ;
#line 48
        if (! errflag) {
#line 48
          if (args) {
#line 48
            if ((unsigned long )args->list.first != (unsigned long )((void *)0)) {
              {
#line 48
              tmp___0 = has_token((char const   *)((char *)(args->list.first)->dat));
              }
#line 48
              if (! tmp___0) {
#line 48
                goto while_break;
              }
            } else {
#line 48
              goto while_break;
            }
          } else {
#line 48
            goto while_break;
          }
        } else {
#line 48
          goto while_break;
        }
        {
#line 50
        zglob(args, args->list.first, 0);
        }
      }
      while_break: /* CIL Label */ ;
      }
      {
#line 51
      tmp___1 = hlinklist2array(args, 0);
#line 51
      *strp = sepjoin(tmp___1, (char *)((void *)0), 1);
      }
    } else {
      {
#line 53
      singsub(strp);
      }
    }
  } else {
    {
#line 53
    singsub(strp);
    }
  }
#line 54
  return;
}
}
#line 68 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
int evalcond(Estate state , char *fromtest ) 
{ 
  struct stat *st___0 ;
  char *left ;
  char *right ;
  char *overridename ;
  char overridebuf[13] ;
  Wordcode pcode ;
  wordcode code ;
  int ctype ;
  int htok ;
  int ret ;
  Wordcode tmp ;
  char *modname ;
  char const   *tmp___0 ;
  Conddef cd ;
  char *name ;
  char *errname ;
  char **strs ;
  int l ;
  char *sbuf[3] ;
  int tmp___1 ;
  int tmp___2 ;
  char *s ;
  int tmp___3 ;
  int tmp___4 ;
  char *rt ;
  char *tmp___5 ;
  char *tmp___6 ;
  mnumber mn1 ;
  mnumber mn2 ;
  char *eptr ;
  char *err ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int test ;
  int npat ;
  Patprog pprog ;
  char *opat ;
  int save ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  int tmp___24 ;
  int tmp___25 ;
  int tmp___26 ;
  int tmp___27 ;
  int tmp___28 ;
  int tmp___29 ;
  int tmp___30 ;
  int tmp___31 ;
  mode_t tmp___32 ;
  int tmp___33 ;
  mode_t tmp___34 ;
  int tmp___35 ;
  mode_t tmp___36 ;
  int tmp___37 ;
  mode_t tmp___38 ;
  int tmp___39 ;
  mode_t tmp___40 ;
  int tmp___41 ;
  mode_t tmp___42 ;
  int tmp___43 ;
  size_t tmp___44 ;
  int tmp___45 ;
  int tmp___46 ;
  mode_t tmp___47 ;
  int tmp___48 ;
  int tmp___49 ;
  int tmp___50 ;
  int tmp___51 ;
  mode_t tmp___52 ;
  int tmp___53 ;
  mode_t tmp___54 ;
  int tmp___55 ;
  int tmp___56 ;
  int tmp___57 ;
  int tmp___58 ;
  int tmp___59 ;
  mode_t mode ;
  mode_t tmp___60 ;
  int tmp___61 ;
  int tmp___62 ;
  int tmp___63 ;
  int tmp___64 ;
  size_t tmp___65 ;
  int tmp___66 ;
  mode_t tmp___67 ;
  int tmp___68 ;
  __uid_t tmp___69 ;
  int tmp___70 ;
  __gid_t tmp___71 ;
  int tmp___72 ;
  int tmp___73 ;
  zlong tmp___74 ;
  int tmp___75 ;
  int tmp___76 ;
  time_t a ;
  long nsecs ;
  int tmp___77 ;
  int tmp___78 ;
  int tmp___79 ;
  int tmp___80 ;
  dev_t d___0 ;
  ino_t i ;
  int tmp___81 ;
  void *__cil_tmp119 ;
  void *__cil_tmp120 ;
  char *__cil_tmp121 ;
  char *__cil_tmp122 ;
  char *__cil_tmp123 ;
  char *__cil_tmp124 ;
  char *__cil_tmp125 ;
  char *__cil_tmp126 ;
  char *__cil_tmp127 ;
  char *__cil_tmp128 ;
  char *__cil_tmp129 ;
  char *__cil_tmp130 ;
  char *__cil_tmp131 ;
  char *__cil_tmp132 ;
  char *__cil_tmp133 ;
  char *__cil_tmp134 ;
  char *__cil_tmp135 ;
  char *__cil_tmp136 ;
  char *__cil_tmp137 ;
  char *__cil_tmp138 ;
  char *__cil_tmp139 ;
  char *__cil_tmp140 ;
  char *__cil_tmp141 ;
  char *__cil_tmp142 ;

  {
#line 75
  htok = 0;
  rec: 
#line 79
  overridename = (char *)((void *)0);
#line 79
  right = overridename;
#line 79
  left = right;
#line 80
  tmp = state->pc;
#line 80
  (state->pc) ++;
#line 80
  pcode = tmp;
#line 81
  code = *pcode;
#line 82
  ctype = (int )((code >> 5) & 127U);
  {
#line 85
  if (ctype == 0) {
#line 85
    goto case_0;
  }
#line 93
  if (ctype == 1) {
#line 93
    goto case_1;
  }
#line 102
  if (ctype == 2) {
#line 102
    goto case_2;
  }
#line 111
  if (ctype == 17) {
#line 111
    goto case_17;
  }
#line 120
  if (ctype == 19) {
#line 120
    goto case_19;
  }
#line 120
  if (ctype == 18) {
#line 120
    goto case_19;
  }
#line 84
  goto switch_break;
  case_0: /* CIL Label */ 
#line 86
  if (tracingcond) {
    {
#line 87
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s",
            condstr[ctype]);
    }
  }
  {
#line 88
  ret = evalcond(state, fromtest);
  }
#line 89
  if (ret == 2) {
#line 90
    return (ret);
  } else {
#line 92
    return (! ret);
  }
  case_1: /* CIL Label */ 
  {
#line 94
  ret = evalcond(state, fromtest);
  }
#line 94
  if (ret) {
#line 99
    state->pc = pcode + (((code >> 5) >> 7) + 1U);
#line 100
    return (ret);
  } else {
#line 95
    if (tracingcond) {
      {
#line 96
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s",
              condstr[ctype]);
      }
    }
#line 97
    goto rec;
  }
  case_2: /* CIL Label */ 
  {
#line 103
  ret = evalcond(state, fromtest);
  }
#line 103
  if (ret == 1) {
#line 104
    if (tracingcond) {
      {
#line 105
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s",
              condstr[ctype]);
      }
    }
#line 106
    goto rec;
  } else {
#line 108
    state->pc = pcode + (((code >> 5) >> 7) + 1U);
#line 109
    return (ret);
  }
  case_17: /* CIL Label */ 
#line 113
  if (opts[152]) {
#line 113
    tmp___0 = "zsh/pcre";
  } else {
#line 113
    tmp___0 = "zsh/regex";
  }
  {
#line 113
  modname = (char *)tmp___0;
#line 114
  overridename = overridebuf;
#line 114
  sprintf((char */* __restrict  */)overridename, (char const   */* __restrict  */)"-%s-match",
          modname + 4);
#line 115
  ensurefeature((char const   *)modname, "C:", (char const   *)(overridename + 1));
#line 116
  ctype = 19;
  }
  case_19: /* CIL Label */ 
  case_18: /* CIL Label */ 
#line 123
  name = overridename;
#line 125
  l = (int )((code >> 5) >> 7);
#line 127
  if ((unsigned long )name == (unsigned long )((void *)0)) {
    {
#line 128
    name = ecgetstr(state, 0, (int *)((void *)0));
    }
  }
#line 129
  if (ctype == 18) {
    {
#line 130
    strs = ecgetarr(state, l, 1, (int *)((void *)0));
    }
  } else {
    {
#line 134
    sbuf[0] = ecgetstr(state, 0, (int *)((void *)0));
#line 135
    sbuf[1] = ecgetstr(state, 0, (int *)((void *)0));
#line 136
    sbuf[2] = (char *)((void *)0);
#line 138
    strs = arrdup(sbuf);
#line 139
    l = 2;
    }
  }
#line 141
  if (name) {
#line 141
    if ((int )*(name + 0) == 45) {
#line 142
      errname = name;
    } else {
#line 141
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 143
  if (*(strs + 0)) {
#line 143
    if ((int )*(*(strs + 0)) == 45) {
#line 144
      errname = *(strs + 0);
    } else {
#line 146
      errname = (char *)"<null>";
    }
  } else {
#line 146
    errname = (char *)"<null>";
  }
#line 147
  if (name) {
#line 147
    if ((int )*(name + 0) == 45) {
      {
#line 147
      cd = getconddef(ctype == 19, (char const   *)(name + 1), 1);
      }
#line 147
      if (cd) {
#line 149
        if (ctype == 18) {
#line 149
          if (l < cd->min) {
            {
#line 151
            zwarnnam((char const   *)fromtest, "unknown condition: %s", name);
            }
#line 152
            return (2);
          } else
#line 149
          if (cd->max >= 0) {
#line 149
            if (l > cd->max) {
              {
#line 151
              zwarnnam((char const   *)fromtest, "unknown condition: %s", name);
              }
#line 152
              return (2);
            }
          }
        }
#line 154
        if (tracingcond) {
          {
#line 155
          tracemodcond(name, strs, ctype == 19);
          }
        }
        {
#line 156
        tmp___1 = (*(cd->handler))(strs, cd->condid);
        }
#line 156
        if (tmp___1) {
#line 156
          tmp___2 = 0;
        } else {
#line 156
          tmp___2 = 1;
        }
#line 156
        return (tmp___2);
      } else {
#line 147
        goto _L___1;
      }
    } else {
#line 147
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
#line 159
    s = *(strs + 0);
#line 161
    if (overridename) {
      {
#line 166
      zerrnam((char const   *)fromtest, "%s not available for regex", overridename);
      }
#line 168
      return (2);
    }
    {
#line 171
    *(strs + 0) = dupstring((char const   *)name);
#line 172
    name = s;
    }
#line 174
    if (name) {
#line 174
      if ((int )*(name + 0) == 45) {
        {
#line 174
        cd = getconddef(0, (char const   *)(name + 1), 1);
        }
#line 174
        if (cd) {
#line 176
          if (l < cd->min) {
            {
#line 177
            zwarnnam((char const   *)fromtest, "unknown condition: %s", errname);
            }
#line 179
            return (2);
          } else
#line 176
          if (cd->max >= 0) {
#line 176
            if (l > cd->max) {
              {
#line 177
              zwarnnam((char const   *)fromtest, "unknown condition: %s", errname);
              }
#line 179
              return (2);
            }
          }
#line 181
          if (tracingcond) {
            {
#line 182
            tracemodcond(name, strs, ctype == 19);
            }
          }
          {
#line 183
          tmp___3 = (*(cd->handler))(strs, cd->condid);
          }
#line 183
          if (tmp___3) {
#line 183
            tmp___4 = 0;
          } else {
#line 183
            tmp___4 = 1;
          }
#line 183
          return (tmp___4);
        } else {
          {
#line 185
          zwarnnam((char const   *)fromtest, "unknown condition: %s", errname);
          }
        }
      } else {
        {
#line 185
        zwarnnam((char const   *)fromtest, "unknown condition: %s", errname);
        }
      }
    } else {
      {
#line 185
      zwarnnam((char const   *)fromtest, "unknown condition: %s", errname);
      }
    }
  }
#line 191
  return (2);
  switch_break: /* CIL Label */ ;
  }
  {
#line 194
  left = ecgetstr(state, 2, & htok);
  }
#line 195
  if (htok) {
    {
#line 196
    cond_subst(& left, ! fromtest);
#line 197
    untokenize(left);
    }
  }
#line 199
  if (ctype <= 16) {
#line 199
    if (ctype != 3) {
#line 199
      if (ctype != 4) {
#line 199
        if (ctype != 5) {
          {
#line 201
          right = ecgetstr(state, 2, & htok);
          }
#line 202
          if (htok) {
            {
#line 203
            cond_subst(& right, ! fromtest);
#line 204
            untokenize(right);
            }
          }
        }
      }
    }
  }
#line 207
  if (tracingcond) {
#line 208
    if (ctype < 18) {
      {
#line 209
      fputc(' ', xtrerr);
#line 210
      quotedzputs((char const   *)left, xtrerr);
#line 211
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s ",
              condstr[ctype]);
      }
#line 212
      if (ctype == 3) {
        {
#line 214
        tmp___5 = ecrawstr(state->prog, state->pc, (int *)((void *)0));
#line 214
        tmp___6 = dupstring((char const   *)tmp___5);
#line 214
        rt = tmp___6;
#line 215
        cond_subst(& rt, ! fromtest);
#line 216
        quote_tokenized_output(rt, xtrerr);
        }
      } else
#line 212
      if (ctype == 4) {
        {
#line 214
        tmp___5 = ecrawstr(state->prog, state->pc, (int *)((void *)0));
#line 214
        tmp___6 = dupstring((char const   *)tmp___5);
#line 214
        rt = tmp___6;
#line 215
        cond_subst(& rt, ! fromtest);
#line 216
        quote_tokenized_output(rt, xtrerr);
        }
      } else
#line 212
      if (ctype == 5) {
        {
#line 214
        tmp___5 = ecrawstr(state->prog, state->pc, (int *)((void *)0));
#line 214
        tmp___6 = dupstring((char const   *)tmp___5);
#line 214
        rt = tmp___6;
#line 215
        cond_subst(& rt, ! fromtest);
#line 216
        quote_tokenized_output(rt, xtrerr);
        }
      } else {
        {
#line 219
        quotedzputs((char const   *)right, xtrerr);
        }
      }
    } else {
      {
#line 221
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" -%c ",
              ctype);
#line 222
      quotedzputs((char const   *)left, xtrerr);
      }
    }
  }
#line 226
  if (ctype >= 11) {
#line 226
    if (ctype <= 16) {
#line 228
      if (fromtest) {
        {
#line 235
        mn1.u.l = zstrtol((char const   *)left, & eptr, 10);
        }
#line 236
        if (! *eptr) {
          {
#line 238
          mn2.u.l = zstrtol((char const   *)right, & eptr, 10);
#line 239
          err = right;
          }
        } else {
#line 242
          err = left;
        }
#line 244
        if (*eptr) {
          {
#line 246
          zwarnnam((char const   *)fromtest, "integer expression expected: %s", err);
          }
#line 247
          return (2);
        }
#line 250
        mn2.type = 1;
#line 250
        mn1.type = mn2.type;
      } else {
        {
#line 252
        mn1 = matheval(left);
#line 253
        mn2 = matheval(right);
        }
      }
#line 256
      if (((mn1.type | mn2.type) & 3) == 3) {
#line 259
        if (mn1.type & 1) {
#line 260
          mn1.type = 2;
#line 261
          mn1.u.d = (double )mn1.u.l;
        }
#line 263
        if (mn2.type & 1) {
#line 264
          mn2.type = 2;
#line 265
          mn2.u.d = (double )mn2.u.l;
        }
      }
      {
#line 269
      if (ctype == 11) {
#line 269
        goto case_11;
      }
#line 272
      if (ctype == 12) {
#line 272
        goto case_12;
      }
#line 275
      if (ctype == 13) {
#line 275
        goto case_13;
      }
#line 278
      if (ctype == 14) {
#line 278
        goto case_14;
      }
#line 281
      if (ctype == 15) {
#line 281
        goto case_15;
      }
#line 284
      if (ctype == 16) {
#line 284
        goto case_16;
      }
#line 268
      goto switch_break___0;
      case_11: /* CIL Label */ 
#line 270
      if (mn1.type & 2) {
#line 270
        tmp___7 = mn1.u.d == mn2.u.d;
      } else {
#line 270
        tmp___7 = mn1.u.l == mn2.u.l;
      }
#line 270
      if (tmp___7) {
#line 270
        tmp___8 = 0;
      } else {
#line 270
        tmp___8 = 1;
      }
#line 270
      return (tmp___8);
      case_12: /* CIL Label */ 
#line 273
      if (mn1.type & 2) {
#line 273
        tmp___9 = mn1.u.d != mn2.u.d;
      } else {
#line 273
        tmp___9 = mn1.u.l != mn2.u.l;
      }
#line 273
      if (tmp___9) {
#line 273
        tmp___10 = 0;
      } else {
#line 273
        tmp___10 = 1;
      }
#line 273
      return (tmp___10);
      case_13: /* CIL Label */ 
#line 276
      if (mn1.type & 2) {
#line 276
        tmp___11 = mn1.u.d < mn2.u.d;
      } else {
#line 276
        tmp___11 = mn1.u.l < mn2.u.l;
      }
#line 276
      if (tmp___11) {
#line 276
        tmp___12 = 0;
      } else {
#line 276
        tmp___12 = 1;
      }
#line 276
      return (tmp___12);
      case_14: /* CIL Label */ 
#line 279
      if (mn1.type & 2) {
#line 279
        tmp___13 = mn1.u.d > mn2.u.d;
      } else {
#line 279
        tmp___13 = mn1.u.l > mn2.u.l;
      }
#line 279
      if (tmp___13) {
#line 279
        tmp___14 = 0;
      } else {
#line 279
        tmp___14 = 1;
      }
#line 279
      return (tmp___14);
      case_15: /* CIL Label */ 
#line 282
      if (mn1.type & 2) {
#line 282
        tmp___15 = mn1.u.d <= mn2.u.d;
      } else {
#line 282
        tmp___15 = mn1.u.l <= mn2.u.l;
      }
#line 282
      if (tmp___15) {
#line 282
        tmp___16 = 0;
      } else {
#line 282
        tmp___16 = 1;
      }
#line 282
      return (tmp___16);
      case_16: /* CIL Label */ 
#line 285
      if (mn1.type & 2) {
#line 285
        tmp___17 = mn1.u.d >= mn2.u.d;
      } else {
#line 285
        tmp___17 = mn1.u.l >= mn2.u.l;
      }
#line 285
      if (tmp___17) {
#line 285
        tmp___18 = 0;
      } else {
#line 285
        tmp___18 = 1;
      }
#line 285
      return (tmp___18);
      switch_break___0: /* CIL Label */ ;
      }
    }
  }
  {
#line 293
  if (ctype == 5) {
#line 293
    goto case_5;
  }
#line 293
  if (ctype == 4) {
#line 293
    goto case_5;
  }
#line 293
  if (ctype == 3) {
#line 293
    goto case_5;
  }
#line 321
  if (ctype == 6) {
#line 321
    goto case_6;
  }
#line 323
  if (ctype == 7) {
#line 323
    goto case_7;
  }
#line 326
  if (ctype == 97) {
#line 326
    goto case_97;
  }
#line 326
  if (ctype == 101) {
#line 326
    goto case_97;
  }
#line 328
  if (ctype == 98) {
#line 328
    goto case_98;
  }
#line 330
  if (ctype == 99) {
#line 330
    goto case_99;
  }
#line 332
  if (ctype == 100) {
#line 332
    goto case_100;
  }
#line 334
  if (ctype == 102) {
#line 334
    goto case_102;
  }
#line 336
  if (ctype == 103) {
#line 336
    goto case_103;
  }
#line 338
  if (ctype == 107) {
#line 338
    goto case_107;
  }
#line 340
  if (ctype == 110) {
#line 340
    goto case_110;
  }
#line 342
  if (ctype == 111) {
#line 342
    goto case_111;
  }
#line 344
  if (ctype == 112) {
#line 344
    goto case_112;
  }
#line 346
  if (ctype == 114) {
#line 346
    goto case_114;
  }
#line 348
  if (ctype == 115) {
#line 348
    goto case_115;
  }
#line 350
  if (ctype == 83) {
#line 350
    goto case_83;
  }
#line 352
  if (ctype == 117) {
#line 352
    goto case_117;
  }
#line 354
  if (ctype == 118) {
#line 354
    goto case_118;
  }
#line 356
  if (ctype == 119) {
#line 356
    goto case_119;
  }
#line 358
  if (ctype == 120) {
#line 358
    goto case_120;
  }
#line 364
  if (ctype == 122) {
#line 364
    goto case_122;
  }
#line 367
  if (ctype == 76) {
#line 367
    goto case_76;
  }
#line 367
  if (ctype == 104) {
#line 367
    goto case_76;
  }
#line 369
  if (ctype == 79) {
#line 369
    goto case_79;
  }
#line 371
  if (ctype == 71) {
#line 371
    goto case_71;
  }
#line 373
  if (ctype == 78) {
#line 373
    goto case_78;
  }
#line 383
  if (ctype == 116) {
#line 383
    goto case_116;
  }
#line 386
  if (ctype == 9) {
#line 386
    goto case_9;
  }
#line 386
  if (ctype == 8) {
#line 386
    goto case_9;
  }
#line 409
  if (ctype == 10) {
#line 409
    goto case_10;
  }
#line 422
  goto switch_default;
  case_5: /* CIL Label */ 
  case_4: /* CIL Label */ 
  case_3: /* CIL Label */ 
#line 295
  npat = (int )*(state->pc + 1);
#line 296
  pprog = *((state->prog)->pats + npat);
#line 298
  if ((unsigned long )pprog == (unsigned long )((Patprog )1)) {
#line 298
    goto _L___2;
  } else
#line 298
  if ((unsigned long )pprog == (unsigned long )((Patprog )2)) {
    _L___2: /* CIL Label */ 
    {
#line 302
    opat = ecrawstr(state->prog, state->pc, & htok);
#line 302
    right = dupstring((char const   *)opat);
#line 304
    singsub(& right);
    }
#line 305
    if (! ((state->prog)->flags & 2)) {
      {
#line 305
      tmp___19 = strcmp((char const   *)opat, (char const   *)right);
      }
#line 305
      if (tmp___19) {
#line 305
        tmp___20 = 0;
      } else
#line 305
      if ((unsigned long )pprog != (unsigned long )((Patprog )2)) {
#line 305
        tmp___20 = 1;
      } else {
#line 305
        tmp___20 = 0;
      }
    } else {
#line 305
      tmp___20 = 0;
    }
#line 305
    save = tmp___20;
#line 308
    if (save) {
#line 308
      tmp___21 = 256;
    } else {
#line 308
      tmp___21 = 64;
    }
    {
#line 308
    pprog = patcompile(right, tmp___21, (char **)((void *)0));
    }
#line 308
    if (pprog) {
#line 313
      if (save) {
#line 314
        *((state->prog)->pats + npat) = pprog;
      }
    } else {
      {
#line 310
      zwarnnam((char const   *)fromtest, "bad pattern: %s", right);
      }
#line 311
      return (2);
    }
  }
#line 316
  state->pc += 2;
#line 317
  if (pprog) {
    {
#line 317
    tmp___22 = pattry(pprog, left);
    }
#line 317
    if (tmp___22) {
#line 317
      tmp___23 = 1;
    } else {
#line 317
      tmp___23 = 0;
    }
  } else {
#line 317
    tmp___23 = 0;
  }
#line 317
  test = tmp___23;
#line 319
  if (ctype == 5) {
#line 319
    tmp___24 = ! test;
  } else {
#line 319
    tmp___24 = test;
  }
#line 319
  if (tmp___24) {
#line 319
    tmp___25 = 0;
  } else {
#line 319
    tmp___25 = 1;
  }
#line 319
  return (tmp___25);
  case_6: /* CIL Label */ 
  {
#line 322
  tmp___26 = strcmp((char const   *)left, (char const   *)right);
  }
#line 322
  if (tmp___26 < 0) {
#line 322
    tmp___27 = 0;
  } else {
#line 322
    tmp___27 = 1;
  }
#line 322
  return (tmp___27);
  case_7: /* CIL Label */ 
  {
#line 324
  tmp___28 = strcmp((char const   *)left, (char const   *)right);
  }
#line 324
  if (tmp___28 > 0) {
#line 324
    tmp___29 = 0;
  } else {
#line 324
    tmp___29 = 1;
  }
#line 324
  return (tmp___29);
  case_97: /* CIL Label */ 
  case_101: /* CIL Label */ 
  {
#line 327
  tmp___30 = doaccess(left, 0);
  }
#line 327
  if (tmp___30) {
#line 327
    tmp___31 = 0;
  } else {
#line 327
    tmp___31 = 1;
  }
#line 327
  return (tmp___31);
  case_98: /* CIL Label */ 
  {
#line 329
  tmp___32 = dostat(left);
  }
#line 329
  if ((tmp___32 & 61440U) == 24576U) {
#line 329
    tmp___33 = 0;
  } else {
#line 329
    tmp___33 = 1;
  }
#line 329
  return (tmp___33);
  case_99: /* CIL Label */ 
  {
#line 331
  tmp___34 = dostat(left);
  }
#line 331
  if ((tmp___34 & 61440U) == 8192U) {
#line 331
    tmp___35 = 0;
  } else {
#line 331
    tmp___35 = 1;
  }
#line 331
  return (tmp___35);
  case_100: /* CIL Label */ 
  {
#line 333
  tmp___36 = dostat(left);
  }
#line 333
  if ((tmp___36 & 61440U) == 16384U) {
#line 333
    tmp___37 = 0;
  } else {
#line 333
    tmp___37 = 1;
  }
#line 333
  return (tmp___37);
  case_102: /* CIL Label */ 
  {
#line 335
  tmp___38 = dostat(left);
  }
#line 335
  if ((tmp___38 & 61440U) == 32768U) {
#line 335
    tmp___39 = 0;
  } else {
#line 335
    tmp___39 = 1;
  }
#line 335
  return (tmp___39);
  case_103: /* CIL Label */ 
  {
#line 337
  tmp___40 = dostat(left);
  }
#line 337
  if (tmp___40 & 1024U) {
#line 337
    tmp___41 = 0;
  } else {
#line 337
    tmp___41 = 1;
  }
#line 337
  return (tmp___41);
  case_107: /* CIL Label */ 
  {
#line 339
  tmp___42 = dostat(left);
  }
#line 339
  if (tmp___42 & 512U) {
#line 339
    tmp___43 = 0;
  } else {
#line 339
    tmp___43 = 1;
  }
#line 339
  return (tmp___43);
  case_110: /* CIL Label */ 
  {
#line 341
  tmp___44 = strlen((char const   *)left);
  }
#line 341
  if (tmp___44) {
#line 341
    tmp___45 = 0;
  } else {
#line 341
    tmp___45 = 1;
  }
#line 341
  return (tmp___45);
  case_111: /* CIL Label */ 
  {
#line 343
  tmp___46 = optison(fromtest, left);
  }
#line 343
  return (tmp___46);
  case_112: /* CIL Label */ 
  {
#line 345
  tmp___47 = dostat(left);
  }
#line 345
  if ((tmp___47 & 61440U) == 4096U) {
#line 345
    tmp___48 = 0;
  } else {
#line 345
    tmp___48 = 1;
  }
#line 345
  return (tmp___48);
  case_114: /* CIL Label */ 
  {
#line 347
  tmp___49 = doaccess(left, 4);
  }
#line 347
  if (tmp___49) {
#line 347
    tmp___50 = 0;
  } else {
#line 347
    tmp___50 = 1;
  }
#line 347
  return (tmp___50);
  case_115: /* CIL Label */ 
  {
#line 349
  st___0 = getstat(left);
  }
#line 349
  if (st___0) {
#line 349
    if (! (! st___0->st_size)) {
#line 349
      tmp___51 = 0;
    } else {
#line 349
      tmp___51 = 1;
    }
  } else {
#line 349
    tmp___51 = 1;
  }
#line 349
  return (tmp___51);
  case_83: /* CIL Label */ 
  {
#line 351
  tmp___52 = dostat(left);
  }
#line 351
  if ((tmp___52 & 61440U) == 49152U) {
#line 351
    tmp___53 = 0;
  } else {
#line 351
    tmp___53 = 1;
  }
#line 351
  return (tmp___53);
  case_117: /* CIL Label */ 
  {
#line 353
  tmp___54 = dostat(left);
  }
#line 353
  if (tmp___54 & 2048U) {
#line 353
    tmp___55 = 0;
  } else {
#line 353
    tmp___55 = 1;
  }
#line 353
  return (tmp___55);
  case_118: /* CIL Label */ 
  {
#line 355
  tmp___56 = issetvar(left);
  }
#line 355
  if (tmp___56) {
#line 355
    tmp___57 = 0;
  } else {
#line 355
    tmp___57 = 1;
  }
#line 355
  return (tmp___57);
  case_119: /* CIL Label */ 
  {
#line 357
  tmp___58 = doaccess(left, 2);
  }
#line 357
  if (tmp___58) {
#line 357
    tmp___59 = 0;
  } else {
#line 357
    tmp___59 = 1;
  }
#line 357
  return (tmp___59);
  case_120: /* CIL Label */ 
  {
#line 359
  tmp___62 = privasserted();
  }
#line 359
  if (tmp___62) {
    {
#line 360
    tmp___60 = dostat(left);
#line 360
    mode = tmp___60;
    }
#line 361
    if (mode & (unsigned int )((64 | (64 >> 3)) | ((64 >> 3) >> 3))) {
#line 361
      tmp___61 = 0;
    } else
#line 361
    if ((mode & 61440U) == 16384U) {
#line 361
      tmp___61 = 0;
    } else {
#line 361
      tmp___61 = 1;
    }
#line 361
    return (tmp___61);
  }
  {
#line 363
  tmp___63 = doaccess(left, 1);
  }
#line 363
  if (tmp___63) {
#line 363
    tmp___64 = 0;
  } else {
#line 363
    tmp___64 = 1;
  }
#line 363
  return (tmp___64);
  case_122: /* CIL Label */ 
  {
#line 365
  tmp___65 = strlen((char const   *)left);
  }
#line 365
  if (tmp___65) {
#line 365
    tmp___66 = 1;
  } else {
#line 365
    tmp___66 = 0;
  }
#line 365
  return (tmp___66);
  case_76: /* CIL Label */ 
  case_104: /* CIL Label */ 
  {
#line 368
  tmp___67 = dolstat(left);
  }
#line 368
  if ((tmp___67 & 61440U) == 40960U) {
#line 368
    tmp___68 = 0;
  } else {
#line 368
    tmp___68 = 1;
  }
#line 368
  return (tmp___68);
  case_79: /* CIL Label */ 
  {
#line 370
  st___0 = getstat(left);
  }
#line 370
  if (st___0) {
    {
#line 370
    tmp___69 = geteuid();
    }
#line 370
    if (st___0->st_uid == tmp___69) {
#line 370
      tmp___70 = 0;
    } else {
#line 370
      tmp___70 = 1;
    }
  } else {
#line 370
    tmp___70 = 1;
  }
#line 370
  return (tmp___70);
  case_71: /* CIL Label */ 
  {
#line 372
  st___0 = getstat(left);
  }
#line 372
  if (st___0) {
    {
#line 372
    tmp___71 = getegid();
    }
#line 372
    if (st___0->st_gid == tmp___71) {
#line 372
      tmp___72 = 0;
    } else {
#line 372
      tmp___72 = 1;
    }
  } else {
#line 372
    tmp___72 = 1;
  }
#line 372
  return (tmp___72);
  case_78: /* CIL Label */ 
  {
#line 375
  st___0 = getstat(left);
  }
#line 375
  if (! st___0) {
#line 376
    return (1);
  }
#line 377
  if (st___0->st_atim.tv_sec == st___0->st_mtim.tv_sec) {
#line 377
    tmp___73 = st___0->st_atim.tv_nsec > st___0->st_mtim.tv_nsec;
  } else {
#line 377
    tmp___73 = st___0->st_atim.tv_sec > st___0->st_mtim.tv_sec;
  }
#line 377
  return (tmp___73);
  case_116: /* CIL Label */ 
  {
#line 384
  tmp___74 = mathevali(left);
#line 384
  tmp___75 = isatty((int )tmp___74);
  }
#line 384
  if (tmp___75) {
#line 384
    tmp___76 = 0;
  } else {
#line 384
    tmp___76 = 1;
  }
#line 384
  return (tmp___76);
  case_9: /* CIL Label */ 
  case_8: /* CIL Label */ 
  {
#line 393
  st___0 = getstat(left);
  }
#line 393
  if (! st___0) {
#line 394
    return (1);
  }
  {
#line 395
  a = st___0->st_mtim.tv_sec;
#line 397
  nsecs = st___0->st_mtim.tv_nsec;
#line 399
  st___0 = getstat(right);
  }
#line 399
  if (! st___0) {
#line 400
    return (1);
  }
#line 402
  if (a == st___0->st_mtim.tv_sec) {
#line 403
    if (ctype == 8) {
#line 403
      tmp___77 = nsecs > st___0->st_mtim.tv_nsec;
    } else {
#line 403
      tmp___77 = nsecs < st___0->st_mtim.tv_nsec;
    }
#line 403
    if (tmp___77) {
#line 403
      tmp___78 = 0;
    } else {
#line 403
      tmp___78 = 1;
    }
#line 403
    return (tmp___78);
  }
#line 407
  if (ctype == 8) {
#line 407
    tmp___79 = a > st___0->st_mtim.tv_sec;
  } else {
#line 407
    tmp___79 = a < st___0->st_mtim.tv_sec;
  }
#line 407
  if (tmp___79) {
#line 407
    tmp___80 = 0;
  } else {
#line 407
    tmp___80 = 1;
  }
#line 407
  return (tmp___80);
  case_10: /* CIL Label */ 
  {
#line 414
  st___0 = getstat(left);
  }
#line 414
  if (! st___0) {
#line 415
    return (1);
  }
  {
#line 416
  d___0 = st___0->st_dev;
#line 417
  i = st___0->st_ino;
#line 418
  st___0 = getstat(right);
  }
#line 418
  if (! st___0) {
#line 419
    return (1);
  }
#line 420
  if (d___0 == st___0->st_dev) {
#line 420
    if (i == st___0->st_ino) {
#line 420
      tmp___81 = 0;
    } else {
#line 420
      tmp___81 = 1;
    }
  } else {
#line 420
    tmp___81 = 1;
  }
#line 420
  return (tmp___81);
  switch_default: /* CIL Label */ 
  {
#line 423
  zwarnnam((char const   *)fromtest, "bad cond code");
  }
#line 424
  return (2);
  switch_break___1: /* CIL Label */ ;
  }
}
}
#line 430 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static int doaccess(char *s , int c ) 
{ 
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 437
  tmp = unmeta((char const   *)s);
#line 437
  tmp___0 = access((char const   *)tmp, c);
  }
#line 437
  if (tmp___0) {
#line 437
    tmp___1 = 0;
  } else {
#line 437
    tmp___1 = 1;
  }
#line 437
  return (tmp___1);
}
}
#line 441 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static struct stat st  ;
#line 444 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static struct stat *getstat(char *s ) 
{ 
  char *us ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  char *__cil_tmp7 ;

  {
  {
#line 451
  tmp___1 = strncmp((char const   *)s, "/dev/fd/", (size_t )8);
  }
#line 451
  if (! tmp___1) {
    {
#line 452
    tmp = atoi((char const   *)(s + 8));
#line 452
    tmp___0 = fstat(tmp, & st);
    }
#line 452
    if (tmp___0) {
#line 453
      return ((struct stat *)((void *)0));
    }
#line 454
    return (& st);
  }
  {
#line 457
  us = unmeta((char const   *)s);
  }
#line 457
  if (! us) {
#line 458
    return ((struct stat *)((void *)0));
  }
  {
#line 459
  tmp___2 = stat((char const   */* __restrict  */)us, (struct stat */* __restrict  */)(& st));
  }
#line 459
  if (tmp___2) {
#line 460
    return ((struct stat *)((void *)0));
  }
#line 461
  return (& st);
}
}
#line 466 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static mode_t dostat(char *s ) 
{ 
  struct stat *statp ;

  {
  {
#line 471
  statp = getstat(s);
  }
#line 471
  if (! statp) {
#line 472
    return ((mode_t )0);
  }
#line 473
  return (statp->st_mode);
}
}
#line 480 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static mode_t dolstat(char *s ) 
{ 
  char *tmp ;
  int tmp___0 ;

  {
  {
#line 483
  tmp = unmeta((char const   *)s);
#line 483
  tmp___0 = lstat((char const   */* __restrict  */)tmp, (struct stat */* __restrict  */)(& st));
  }
#line 483
  if (tmp___0 < 0) {
#line 484
    return ((mode_t )0);
  }
#line 485
  return (st.st_mode);
}
}
#line 494 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static int optison(char *name , char *s ) 
{ 
  int i ;
  size_t tmp ;
  char *__cil_tmp5 ;

  {
  {
#line 499
  tmp = strlen((char const   *)s);
  }
#line 499
  if (tmp == 1UL) {
    {
#line 500
    i = optlookupc(*s);
    }
  } else {
    {
#line 502
    i = optlookup((char const   *)s);
    }
  }
#line 503
  if (! i) {
    {
#line 504
    zwarnnam((char const   *)name, "no such option: %s", s);
    }
#line 505
    return (2);
  } else
#line 506
  if (i < 0) {
#line 507
    return (! (! opts[- i]));
  } else {
#line 509
    return (! opts[i]);
  }
}
}
#line 513 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
char *cond_str(char **args , int num , int raw___0 ) 
{ 
  char *s ;
  int tmp ;

  {
  {
#line 516
  s = *(args + num);
#line 518
  tmp = has_token((char const   *)s);
  }
#line 518
  if (tmp) {
    {
#line 519
    singsub(& s);
    }
#line 520
    if (! raw___0) {
      {
#line 521
      untokenize(s);
      }
    }
  }
#line 523
  return (s);
}
}
#line 527 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
zlong cond_val(char **args , int num ) 
{ 
  char *s ;
  int tmp ;
  zlong tmp___0 ;

  {
  {
#line 530
  s = *(args + num);
#line 532
  tmp = has_token((char const   *)s);
  }
#line 532
  if (tmp) {
    {
#line 533
    singsub(& s);
#line 534
    untokenize(s);
    }
  }
  {
#line 536
  tmp___0 = mathevali(s);
  }
#line 536
  return (tmp___0);
}
}
#line 540 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
int cond_match(char **args , int num , char *str ) 
{ 
  char *s ;
  int tmp ;

  {
  {
#line 543
  s = *(args + num);
#line 545
  singsub(& s);
#line 547
  tmp = matchpat(str, s);
  }
#line 547
  return (tmp);
}
}
#line 551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/cond.c"
static void tracemodcond(char *name , char **args , int inf ) 
{ 
  char **aptr ;
  char **tmp ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
  {
#line 556
  args = arrdup(args);
#line 557
  aptr = args;
  }
  {
#line 557
  while (1) {
    while_continue: /* CIL Label */ ;
#line 557
    if (! *aptr) {
#line 557
      goto while_break;
    }
    {
#line 558
    untokenize(*aptr);
#line 557
    aptr ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 559
  if (inf) {
    {
#line 560
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s %s %s",
            *(args + 0), name, *(args + 1));
    }
  } else {
    {
#line 562
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s",
            name);
    }
    {
#line 563
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 563
      if (! *args) {
#line 563
        goto while_break___0;
      }
      {
#line 564
      tmp = args;
#line 564
      args ++;
#line 564
      fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" %s",
              *tmp);
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 566
  return;
}
}
#line 511 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) getcwd)(char *__buf ,
                                                                               size_t __size ) ;
#line 228 "/home/khheo/testset/zsh-zsh-5.3.1/Src/compat.c"
long zopenmax(void) 
{ 
  long openmax ;
  long i ;
  long j ;
  int *tmp ;
  int *tmp___0 ;
  int tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  long tmp___4 ;

  {
  {
#line 233
  openmax = sysconf(4);
  }
#line 233
  if (openmax < 1L) {
#line 234
    openmax = 64L;
  } else
#line 235
  if (openmax > 64L) {
#line 243
    j = 64L;
#line 244
    if (openmax > 64L) {
#line 245
      openmax = 64L;
    }
#line 246
    i = j;
    {
#line 246
    while (1) {
      while_continue: /* CIL Label */ ;
#line 246
      if (! (i < openmax)) {
#line 246
        goto while_break;
      }
      {
#line 247
      tmp___0 = __errno_location();
#line 247
      *tmp___0 = 0;
#line 248
      tmp___1 = fcntl((int )i, 3, 0);
      }
#line 248
      if (tmp___1 < 0) {
        {
#line 248
        tmp___2 = __errno_location();
        }
#line 248
        if (*tmp___2 == 9) {
#line 250
          goto __Cont;
        } else {
          {
#line 248
          tmp___3 = __errno_location();
          }
#line 248
          if (*tmp___3 == 4) {
#line 250
            goto __Cont;
          }
        }
      }
#line 251
      j = i;
      __Cont: /* CIL Label */ 
      {
#line 246
      tmp = __errno_location();
#line 246
      i += (long )(*tmp != 4);
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 253
    openmax = j;
  }
#line 256
  if ((long )max_zsh_fd > openmax) {
#line 256
    tmp___4 = (long )max_zsh_fd;
  } else {
#line 256
    tmp___4 = openmax;
  }
#line 256
  return (tmp___4);
}
}
#line 283 "/home/khheo/testset/zsh-zsh-5.3.1/Src/compat.c"
char *zgetdir(struct dirsav *d___0 ) 
{ 
  char nbuf[4099] ;
  char *buf___7 ;
  int bufsiz ;
  int pos ;
  struct stat sbuf ;
  ino_t pino ;
  dev_t pdev ;
  struct dirent *de ;
  DIR *dir ;
  dev_t dev ;
  ino_t ino ;
  int len ;
  void *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *tmp___2 ;
  char *fn___0 ;
  size_t tmp___3 ;
  char *newbuf ;
  void *tmp___4 ;
  char *tmp___5 ;
  int tmp___6 ;
  void *__cil_tmp24 ;
  void *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;

  {
  {
#line 300
  bufsiz = 4097;
#line 300
  tmp = zhalloc((size_t )bufsiz);
#line 300
  buf___7 = (char *)tmp;
#line 301
  pos = bufsiz - 1;
#line 302
  *(buf___7 + pos) = (char )'\000';
#line 303
  strcpy((char */* __restrict  */)(nbuf), (char const   */* __restrict  */)"../");
#line 304
  tmp___0 = stat((char const   */* __restrict  */)".", (struct stat */* __restrict  */)(& sbuf));
  }
#line 304
  if (tmp___0 < 0) {
#line 305
    return ((char *)((void *)0));
  }
#line 309
  pino = sbuf.st_ino;
#line 310
  pdev = sbuf.st_dev;
#line 311
  if (d___0) {
#line 312
    d___0->ino = pino;
#line 312
    d___0->dev = pdev;
  } else {
    {
#line 317
    holdintr();
    }
  }
  {
#line 319
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 321
    tmp___1 = stat((char const   */* __restrict  */)"..", (struct stat */* __restrict  */)(& sbuf));
    }
#line 321
    if (tmp___1 < 0) {
#line 322
      goto while_break;
    }
#line 325
    ino = pino;
#line 326
    dev = pdev;
#line 328
    pino = sbuf.st_ino;
#line 329
    pdev = sbuf.st_dev;
#line 332
    if (ino == pino) {
#line 332
      if (dev == pdev) {
#line 333
        if (! *(buf___7 + pos)) {
#line 334
          pos --;
#line 334
          *(buf___7 + pos) = (char )'/';
        }
#line 335
        if (d___0) {
          {
#line 340
          tmp___2 = ztrdup((char const   *)(buf___7 + pos));
#line 340
          d___0->dirname = tmp___2;
          }
#line 340
          return (tmp___2);
        }
        {
#line 342
        zchdir(buf___7 + pos);
#line 343
        noholdintr();
        }
#line 344
        return (buf___7 + pos);
      }
    }
    {
#line 348
    dir = opendir("..");
    }
#line 348
    if (! dir) {
#line 349
      goto while_break;
    }
    {
#line 351
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 351
      de = readdir(dir);
      }
#line 351
      if (! de) {
#line 351
        goto while_break___0;
      }
#line 352
      fn___0 = de->d_name;
#line 354
      if ((int )*(fn___0 + 0) == 46) {
#line 354
        if ((int )*(fn___0 + 1) == 0) {
#line 357
          goto while_continue___0;
        } else
#line 354
        if ((int )*(fn___0 + 1) == 46) {
#line 354
          if ((int )*(fn___0 + 2) == 0) {
#line 357
            goto while_continue___0;
          }
        }
      }
#line 366
      if (dev != pdev) {
#line 366
        goto _L;
      } else
#line 366
      if (de->d_ino == ino) {
        _L: /* CIL Label */ 
        {
#line 370
        strncpy((char */* __restrict  */)(nbuf + 3), (char const   */* __restrict  */)fn___0,
                (size_t )4096);
#line 371
        lstat((char const   */* __restrict  */)(nbuf), (struct stat */* __restrict  */)(& sbuf));
        }
#line 372
        if (sbuf.st_dev == dev) {
#line 372
          if (sbuf.st_ino == ino) {
#line 373
            goto while_break___0;
          }
        }
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 377
    closedir(dir);
    }
#line 378
    if (! de) {
#line 379
      goto while_break;
    }
    {
#line 385
    tmp___3 = strlen((char const   *)(nbuf + 2));
#line 385
    len = (int )tmp___3;
#line 386
    pos -= len;
    }
    {
#line 387
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 387
      if (! (pos <= 1)) {
#line 387
        goto while_break___1;
      }
      {
#line 388
      tmp___4 = zhalloc((size_t )(2 * bufsiz));
#line 388
      newbuf = (char *)tmp___4;
#line 389
      memcpy((void */* __restrict  */)(newbuf + bufsiz), (void const   */* __restrict  */)buf___7,
             (size_t )bufsiz);
#line 390
      buf___7 = newbuf;
#line 391
      pos += bufsiz;
#line 392
      bufsiz *= 2;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 394
    memcpy((void */* __restrict  */)(buf___7 + pos), (void const   */* __restrict  */)(nbuf + 2),
           (size_t )len);
    }
#line 396
    if (d___0) {
      {
#line 397
      tmp___5 = ztrdup((char const   *)((buf___7 + pos) + 1));
#line 397
      d___0->dirname = tmp___5;
      }
#line 397
      return (tmp___5);
    }
    {
#line 399
    tmp___6 = chdir("..");
    }
#line 399
    if (tmp___6) {
#line 400
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 408
  if (d___0) {
#line 414
    return ((char *)((void *)0));
  }
#line 417
  if (*(buf___7 + pos)) {
    {
#line 418
    zchdir((buf___7 + pos) + 1);
    }
  }
  {
#line 419
  noholdintr();
  }
#line 445
  return ((char *)((void *)0));
}
}
#line 456 "/home/khheo/testset/zsh-zsh-5.3.1/Src/compat.c"
char *zgetcwd(void) 
{ 
  char *ret ;
  char *tmp ;
  char *cwd ;
  char *tmp___0 ;
  char *__cil_tmp5 ;

  {
  {
#line 459
  tmp = zgetdir((struct dirsav *)((void *)0));
#line 459
  ret = tmp;
  }
#line 461
  if (! ret) {
    {
#line 463
    tmp___0 = getcwd((char *)((void *)0), (size_t )0);
#line 463
    cwd = tmp___0;
    }
#line 464
    if (cwd) {
      {
#line 465
      ret = dupstring((char const   *)cwd);
#line 466
      free((void *)cwd);
      }
    }
  }
#line 477
  if (! ret) {
    {
#line 478
    ret = unmeta((char const   *)pwd);
    }
  }
#line 479
  if (! ret) {
    {
#line 480
    ret = dupstring(".");
    }
  }
#line 481
  return (ret);
}
}
#line 493 "/home/khheo/testset/zsh-zsh-5.3.1/Src/compat.c"
int zchdir(char *dir ) 
{ 
  char *s ;
  int currdir ;
  int tmp ;
  int *tmp___0 ;
  int *tmp___1 ;
  size_t tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  char *__cil_tmp11 ;

  {
#line 497
  currdir = -2;
  {
#line 499
  while (1) {
    while_continue: /* CIL Label */ ;
#line 500
    if (! *dir) {
#line 500
      goto _L;
    } else {
      {
#line 500
      tmp = chdir((char const   *)dir);
      }
#line 500
      if (tmp == 0) {
        _L: /* CIL Label */ 
#line 502
        if (currdir >= 0) {
          {
#line 503
          close(currdir);
          }
        }
#line 505
        return (0);
      }
    }
    {
#line 507
    tmp___0 = __errno_location();
    }
#line 507
    if (*tmp___0 != 36) {
      {
#line 507
      tmp___1 = __errno_location();
      }
#line 507
      if (*tmp___1 != 12) {
#line 509
        goto while_break;
      } else {
#line 507
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      {
#line 507
      tmp___2 = strlen((char const   *)dir);
      }
#line 507
      if (tmp___2 < 4096UL) {
#line 509
        goto while_break;
      }
    }
#line 510
    s = (dir + 4096) - 1;
    {
#line 510
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 510
      if ((unsigned long )s > (unsigned long )dir) {
#line 510
        if (! ((int )*s != 47)) {
#line 510
          goto while_break___0;
        }
      } else {
#line 510
        goto while_break___0;
      }
#line 510
      s --;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 512
    if ((unsigned long )s == (unsigned long )dir) {
#line 513
      goto while_break;
    }
#line 515
    if (currdir == -2) {
      {
#line 516
      currdir = open(".", 256);
      }
    }
    {
#line 518
    *s = (char )'\000';
#line 519
    tmp___3 = chdir((char const   *)dir);
    }
#line 519
    if (tmp___3 < 0) {
#line 520
      *s = (char )'/';
#line 521
      goto while_break;
    }
#line 526
    *s = (char )'/';
    {
#line 527
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 527
      s ++;
#line 527
      if (! ((int )*s == 47)) {
#line 527
        goto while_break___1;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 529
    dir = s;
  }
  while_break: /* CIL Label */ ;
  }
#line 532
  if (currdir >= 0) {
    {
#line 533
    tmp___4 = fchdir(currdir);
    }
#line 533
    if (tmp___4 < 0) {
      {
#line 534
      close(currdir);
      }
#line 535
      return (-2);
    }
    {
#line 537
    close(currdir);
    }
#line 538
    return (-1);
  }
#line 541
  if (currdir == -2) {
#line 541
    tmp___5 = -1;
  } else {
#line 541
    tmp___5 = -2;
  }
#line 541
  return (tmp___5);
}
}
#line 325 "/usr/include/stdio.h"
extern  __attribute__((__nothrow__)) FILE *( __attribute__((__leaf__)) open_memstream)(char **__bufloc ,
                                                                                       size_t *__sizeloc ) ;
#line 312 "/usr/include/x86_64-linux-gnu/sys/stat.h"
extern  __attribute__((__nothrow__)) __mode_t ( __attribute__((__leaf__)) umask)(__mode_t __mask ) ;
#line 187 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) unsigned long ( __attribute__((__nonnull__(1),
__leaf__)) strtoul)(char const   * __restrict  __nptr , char ** __restrict  __endptr ,
                    int __base ) ;
#line 48 "/usr/include/x86_64-linux-gnu/sys/times.h"
extern  __attribute__((__nothrow__)) clock_t ( __attribute__((__leaf__)) times)(struct tms *__buffer ) ;
#line 5 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
HashTable builtintab  ;
#line 9
int bin_enable(char *name , char **argv , Options ops , int func ) ;
#line 10
int bin_set(char *nam , char **args , Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) ;
#line 12
int bin_pwd(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
            Options ops , int func  __attribute__((__unused__)) ) ;
#line 13 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
LinkList dirstack  ;
#line 14
int bin_dirs(char *name  __attribute__((__unused__)) , char **argv , Options ops ,
             int func  __attribute__((__unused__)) ) ;
#line 16
int bin_cd(char *nam , char **argv , Options ops , int func ) ;
#line 19
void printqt(char *str ) ;
#line 20
void printif(char *str , int c ) ;
#line 21
int bin_fc(char *nam , char **argv , Options ops , int func ) ;
#line 22
int bin_typeset(char *name , char **argv , LinkList assigns , Options ops , int func ) ;
#line 24
int bin_functions(char *name , char **argv , Options ops , int func ) ;
#line 26
int bin_unset(char *name , char **argv , Options ops , int func ) ;
#line 28
int bin_hash(char *name , char **argv , Options ops , int func  __attribute__((__unused__)) ) ;
#line 29
int bin_unhash(char *name , char **argv , Options ops , int func ) ;
#line 30
int bin_alias(char *name , char **argv , Options ops , int func  __attribute__((__unused__)) ) ;
#line 31
int bin_true(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
             Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) ;
#line 32
int bin_false(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
              Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) ;
#line 33 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
LinkList bufstack  ;
#line 34
int bin_print(char *name , char **args , Options ops , int func ) ;
#line 35
int bin_shift(char *name , char **argv , Options ops , int func  __attribute__((__unused__)) ) ;
#line 36 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
int optcind  ;
#line 37
int bin_getopts(char *name  __attribute__((__unused__)) , char **argv , Options ops  __attribute__((__unused__)) ,
                int func  __attribute__((__unused__)) ) ;
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
int exit_pending  ;
#line 39 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
int exit_level  ;
#line 40
int bin_break(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
              int func ) ;
#line 41 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
int stopmsg  ;
#line 43
int bin_dot(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
            int func  __attribute__((__unused__)) ) ;
#line 44
int bin_emulate(char *nam , char **argv , Options ops , int func  __attribute__((__unused__)) ) ;
#line 45 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
int ineval  ;
#line 46
int bin_eval(char *nam  __attribute__((__unused__)) , char **argv , Options ops  __attribute__((__unused__)) ,
             int func  __attribute__((__unused__)) ) ;
#line 47
int bin_read(char *name , char **args , Options ops , int func  __attribute__((__unused__)) ) ;
#line 48 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
char **testargs  ;
#line 49 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.epro"
char **curtestarg  ;
#line 51
int bin_test(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
             int func ) ;
#line 52
int bin_times(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
              Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) ;
#line 53
int bin_trap(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
             int func  __attribute__((__unused__)) ) ;
#line 54
int bin_ttyctl(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
               Options ops , int func  __attribute__((__unused__)) ) ;
#line 55
int bin_let(char *name  __attribute__((__unused__)) , char **argv , Options ops  __attribute__((__unused__)) ,
            int func  __attribute__((__unused__)) ) ;
#line 56
int bin_umask(char *nam , char **args , Options ops , int func  __attribute__((__unused__)) ) ;
#line 57
int bin_notavail(char *nam , char **argv  __attribute__((__unused__)) , Options ops  __attribute__((__unused__)) ,
                 int func  __attribute__((__unused__)) ) ;
#line 2 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.pro"
static void printbuiltinnode(HashNode hn , int printflags ) ;
#line 3
static void freebuiltinnode(HashNode hn ) ;
#line 4
static int new_optarg(Options ops ) ;
#line 5
static LinkNode cd_get_dest(char *nam , char **argv , int hard , int func ) ;
#line 6
static char *cd_do_chdir(char *cnam , char *dest , int hard ) ;
#line 7
static char *cd_try_chdir(char *pfix , char *dest , int hard ) ;
#line 8
static void cd_new_pwd(int func , LinkNode dir , int quiet ) ;
#line 9
static void printdirstack(void) ;
#line 10
static zlong fcgetcomm(char *s ) ;
#line 11
static int fcsubs(char **sp___0 , struct asgment *sub ) ;
#line 12
static int fclist(FILE *f , Options ops , zlong first , zlong last , struct asgment *subs ,
                  Patprog pprog , int is_command ) ;
#line 13
static int fcedit(char *ename , char *fn___0 ) ;
#line 14
static Asgment getasg(char ***argvp , LinkList assigns ) ;
#line 15
static Param typeset_single(char *cname , char *pname , Param pm , int func  __attribute__((__unused__)) ,
                            int on , int off , int roff , Asgment asg___0 , Param altpm ,
                            Options ops , int joinchar ) ;
#line 16
static void checkjobs(void) ;
#line 17
static int zread(int izle , int *readchar , long izle_timeout ) ;
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static struct builtin builtins[77]  = 
#line 38 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
  {      {{(HashNode )((void *)0), (char *)"-", (1 << 6) | (1 << 5)}, (int (*)(char * ,
                                                                           char ** ,
                                                                           Options  ,
                                                                           int  ))0,
      0, 0, 0, (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"builtin", (1 << 7) | (1 << 5)}, (int (*)(char * ,
                                                                                 char ** ,
                                                                                 Options  ,
                                                                                 int  ))0,
      0, 0, 0, (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"command", (1 << 8) | (1 << 5)}, (int (*)(char * ,
                                                                                 char ** ,
                                                                                 Options  ,
                                                                                 int  ))0,
      0, 0, 0, (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"exec", (1 << 9) | (1 << 5)}, (int (*)(char * ,
                                                                              char ** ,
                                                                              Options  ,
                                                                              int  ))0,
      0, 0, 0, (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"noglob", (1 << 10) | (1 << 5)}, (int (*)(char * ,
                                                                                 char ** ,
                                                                                 Options  ,
                                                                                 int  ))0,
      0, 0, 0, (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"[", 1 << 18}, & bin_test, 0, -1, 21, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)".", 1 << 11}, & bin_dot, 1, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)":", 1 << 11}, & bin_true, 0, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"alias", (1 << 4) | (1 << 1)}, & bin_alias,
      0, -1, 0, (char *)"Lgmrs", (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"autoload", 1 << 1}, & bin_functions, 0, -1,
      0, (char *)"mktTUwXz", (char *)"u"}, 
        {{(HashNode )((void *)0), (char *)"bg", 0}, & bin_fg, 0, -1, 1, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"break", 1 << 11}, & bin_break, 0, 1, 6, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"bye", 0}, & bin_break, 0, 1, 8, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"cd", ((1 << 12) | (1 << 14)) | (1 << 15)},
      & bin_cd, 0, 2, 10, (char *)"qsPL", (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"chdir", ((1 << 12) | (1 << 14)) | (1 << 15)},
      & bin_cd, 0, 2, 10, (char *)"qsPL", (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"continue", 1 << 11}, & bin_break, 0, 1, 7,
      (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"declare", (((1 << 1) | (1 << 4)) | (1 << 11)) | (1 << 19)},
      (int (*)(char * , char ** , Options  , int  ))(& bin_typeset), 0, -1, 0, (char *)"AE:%F:%HL:%R:%TUZ:%afghi:%klmprtuxz",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"dirs", 0}, & bin_dirs, 0, -1, 0, (char *)"clpv",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"disable", 0}, & bin_enable, 0, -1, 24, (char *)"afmprs",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"disown", 0}, & bin_fg, 0, -1, 5, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"echo", 1 << 12}, & bin_print, 0, -1, 23, (char *)"neE",
      (char *)"-"}, 
        {{(HashNode )((void *)0), (char *)"emulate", 0}, & bin_emulate, 0, -1, 0, (char *)"lLR",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"enable", 0}, & bin_enable, 0, -1, 25, (char *)"afmprs",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"eval", 1 << 11}, & bin_eval, 0, -1, 14, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"exit", 1 << 11}, & bin_break, 0, 1, 8, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"export", (((1 << 1) | (1 << 4)) | (1 << 11)) | (1 << 19)},
      (int (*)(char * , char ** , Options  , int  ))(& bin_typeset), 0, -1, 0, (char *)"E:%F:%HL:%R:%TUZ:%afhi:%lprtu",
      (char *)"xg"}, 
        {{(HashNode )((void *)0), (char *)"false", 0}, & bin_false, 0, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"fc", 0}, & bin_fc, 0, -1, 16, (char *)"aAdDe:EfiIlLmnpPrRt:W",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"fg", 0}, & bin_fg, 0, -1, 2, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"float", (((1 << 1) | (1 << 4)) | (1 << 11)) | (1 << 19)},
      (int (*)(char * , char ** , Options  , int  ))(& bin_typeset), 0, -1, 0, (char *)"E:%F:%HL:%R:%Z:%ghlprtux",
      (char *)"E"}, 
        {{(HashNode )((void *)0), (char *)"functions", 1 << 1}, & bin_functions, 0, -1,
      0, (char *)"kmMtTuUx:z", (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"getln", 0}, & bin_read, 0, -1, 0, (char *)"ecnAlE",
      (char *)"zr"}, 
        {{(HashNode )((void *)0), (char *)"getopts", 0}, & bin_getopts, 2, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"hash", 1 << 4}, & bin_hash, 0, -1, 0, (char *)"Ldfmrv",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"history", 0}, & bin_fc, 0, -1, 16, (char *)"adDEfiLmnpPrt:",
      (char *)"l"}, 
        {{(HashNode )((void *)0), (char *)"integer", (((1 << 1) | (1 << 4)) | (1 << 11)) | (1 << 19)},
      (int (*)(char * , char ** , Options  , int  ))(& bin_typeset), 0, -1, 0, (char *)"HL:%R:%Z:%ghi:%lprtux",
      (char *)"i"}, 
        {{(HashNode )((void *)0), (char *)"jobs", 0}, & bin_fg, 0, -1, 3, (char *)"dlpZrs",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"kill", 1 << 18}, & bin_kill, 0, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"let", 0}, & bin_let, 1, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"local", (((1 << 1) | (1 << 4)) | (1 << 11)) | (1 << 19)},
      (int (*)(char * , char ** , Options  , int  ))(& bin_typeset), 0, -1, 0, (char *)"AE:%F:%HL:%R:%TUZ:%ahi:%lprtux",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"log", 0}, & bin_log, 0, 0, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"logout", 0}, & bin_break, 0, 1, 19, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"popd", ((1 << 12) | (1 << 14)) | (1 << 15)},
      & bin_cd, 0, 1, 11, (char *)"q", (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"print", 1 << 2}, & bin_print, 0, -1, 13, (char *)"abcC:Df:ilmnNoOpPrRsSu:v:x:X:z-",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"printf", (1 << 12) | (1 << 14)}, & bin_print,
      1, -1, 26, (char *)"v:", (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"pushd", ((1 << 12) | (1 << 14)) | (1 << 15)},
      & bin_cd, 0, 2, 12, (char *)"qsPL", (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"pushln", 0}, & bin_print, 0, -1, 13, (char *)((void *)0),
      (char *)"-nz"}, 
        {{(HashNode )((void *)0), (char *)"pwd", 0}, & bin_pwd, 0, 0, 0, (char *)"rLP",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"r", 0}, & bin_fc, 0, -1, 17, (char *)"IlLnr",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"read", 0}, & bin_read, 0, -1, 0, (char *)"cd:ek:%lnpqrst:%zu:AE",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"readonly", (((1 << 1) | (1 << 4)) | (1 << 11)) | (1 << 19)},
      (int (*)(char * , char ** , Options  , int  ))(& bin_typeset), 0, -1, 22, (char *)"AE:%F:%HL:%R:%TUZ:%afghi:%lptux",
      (char *)"r"}, 
        {{(HashNode )((void *)0), (char *)"rehash", 0}, & bin_hash, 0, 0, 0, (char *)"df",
      (char *)"r"}, 
        {{(HashNode )((void *)0), (char *)"return", 1 << 11}, & bin_break, 0, 1, 9, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"set", (1 << 11) | (1 << 18)}, & bin_set, 0,
      -1, 0, (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"setopt", 0}, & bin_setopt, 0, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"shift", 1 << 11}, & bin_shift, 0, -1, 0, (char *)"p",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"source", 1 << 11}, & bin_dot, 1, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"suspend", 0}, & bin_suspend, 0, 0, 0, (char *)"f",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"test", 1 << 18}, & bin_test, 0, -1, 20, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"ttyctl", 0}, & bin_ttyctl, 0, 0, 0, (char *)"fu",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"times", 1 << 11}, & bin_times, 0, 0, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"trap", (1 << 11) | (1 << 18)}, & bin_trap,
      0, -1, 0, (char *)((void *)0), (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"true", 0}, & bin_true, 0, -1, 0, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"type", 0}, & bin_whence, 0, -1, 0, (char *)"ampfsSw",
      (char *)"v"}, 
        {{(HashNode )((void *)0), (char *)"typeset", (((1 << 1) | (1 << 4)) | (1 << 11)) | (1 << 19)},
      (int (*)(char * , char ** , Options  , int  ))(& bin_typeset), 0, -1, 0, (char *)"AE:%F:%HL:%R:%TUZ:%afghi:%klprtuxmz",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"umask", 0}, & bin_umask, 0, 1, 0, (char *)"S",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"unalias", 0}, & bin_unhash, 0, -1, 29, (char *)"ams",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"unfunction", 0}, & bin_unhash, 1, -1, 30,
      (char *)"m", (char *)"f"}, 
        {{(HashNode )((void *)0), (char *)"unhash", 0}, & bin_unhash, 1, -1, 28, (char *)"adfms",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"unset", 1 << 11}, & bin_unset, 1, -1, 0, (char *)"fmv",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"unsetopt", 0}, & bin_setopt, 0, -1, 1, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"wait", 0}, & bin_fg, 0, -1, 4, (char *)((void *)0),
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"whence", 0}, & bin_whence, 0, -1, 0, (char *)"acmpvfsSwx:",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"where", 0}, & bin_whence, 0, -1, 0, (char *)"pmsSwx:",
      (char *)"ca"}, 
        {{(HashNode )((void *)0), (char *)"which", 0}, & bin_whence, 0, -1, 0, (char *)"ampsSwx:",
      (char *)"c"}, 
        {{(HashNode )((void *)0), (char *)"zmodload", 0}, & bin_zmodload, 0, -1, 0, (char *)"AFRILP:abcfdilmpue",
      (char *)((void *)0)}, 
        {{(HashNode )((void *)0), (char *)"zcompile", 0}, & bin_zcompile, 0, -1, 0, (char *)"tUMRcmzka",
      (char *)((void *)0)}};
#line 148 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
void createbuiltintable(void) 
{ 
  char *__cil_tmp1 ;
  char *__cil_tmp2 ;

  {
  {
#line 151
  builtintab = newhashtable(85, "builtintab", (void (*)(HashTable  ))((void *)0));
#line 153
  builtintab->hash = & hasher;
#line 154
  builtintab->emptytable = (void (*)(HashTable  ))((void *)0);
#line 155
  builtintab->filltable = (void (*)(HashTable  ))((void *)0);
#line 156
  builtintab->cmpnodes = (int (*)(char const   * , char const   * ))(& strcmp);
#line 157
  builtintab->addnode = & addhashnode;
#line 158
  builtintab->getnode = & gethashnode;
#line 159
  builtintab->getnode2 = & gethashnode2;
#line 160
  builtintab->removenode = & removehashnode;
#line 161
  builtintab->disablenode = & disablehashnode;
#line 162
  builtintab->enablenode = & enablehashnode;
#line 163
  builtintab->freenode = & freebuiltinnode;
#line 164
  builtintab->printnode = & printbuiltinnode;
#line 166
  addbuiltins("zsh", builtins, (int )(sizeof(builtins) / sizeof(builtins[0])));
  }
#line 167
  return;
}
}
#line 172 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static void printbuiltinnode(HashNode hn , int printflags ) 
{ 
  Builtin bn ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
#line 175
  bn = (Builtin )hn;
#line 177
  if (printflags & (1 << 10)) {
    {
#line 178
    printf((char const   */* __restrict  */)"%s: builtin\n", bn->node.nam);
    }
#line 179
    return;
  }
#line 182
  if (printflags & (1 << 6)) {
    {
#line 183
    printf((char const   */* __restrict  */)"%s: shell built-in command\n", bn->node.nam);
    }
#line 184
    return;
  }
#line 187
  if (printflags & (1 << 7)) {
    {
#line 188
    printf((char const   */* __restrict  */)"%s is a shell builtin\n", bn->node.nam);
    }
#line 189
    return;
  }
  {
#line 193
  printf((char const   */* __restrict  */)"%s\n", bn->node.nam);
  }
#line 194
  return;
}
}
#line 197 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static void freebuiltinnode(HashNode hn ) 
{ 
  Builtin bn ;

  {
#line 200
  bn = (Builtin )hn;
#line 202
  if (! (bn->node.flags & (1 << 3))) {
    {
#line 203
    zsfree(bn->node.nam);
#line 204
    zsfree(bn->optstr);
#line 205
    zfree((void *)bn, (int )sizeof(struct builtin ));
    }
  }
#line 207
  return;
}
}
#line 210 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
void init_builtins(void) 
{ 
  HashNode hn ;
  HashNode tmp ;
  char *__cil_tmp3 ;

  {
#line 213
  if (! (emulation & (1 << 4))) {
    {
#line 214
    tmp = (*(reswdtab->getnode2))(reswdtab, "repeat");
#line 214
    hn = tmp;
    }
#line 215
    if (hn) {
      {
#line 216
      (*(reswdtab->disablenode))(hn, 0);
      }
    }
  }
#line 218
  return;
}
}
#line 225 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int new_optarg(Options ops ) 
{ 
  char **newptr ;
  void *tmp ;

  {
#line 229
  if (ops->argscount == 63) {
#line 230
    return (1);
  }
#line 231
  if (ops->argsalloc == ops->argscount) {
    {
#line 232
    tmp = zhalloc((unsigned long )(ops->argsalloc + 16) * sizeof(char *));
#line 232
    newptr = (char **)tmp;
    }
#line 235
    if (ops->argsalloc) {
      {
#line 236
      memcpy((void */* __restrict  */)newptr, (void const   */* __restrict  */)ops->args,
             (unsigned long )ops->argsalloc * sizeof(char *));
      }
    }
#line 237
    ops->args = newptr;
#line 238
    ops->argsalloc += 16;
  }
#line 240
  (ops->argscount) ++;
#line 241
  return (0);
}
}
#line 248 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int execbuiltin(LinkList args , LinkList assigns , Builtin bn ) 
{ 
  char *pp ;
  char *name ;
  char *optstr ;
  int flags ;
  int argc ;
  int execop ;
  int xtr ;
  struct options ops ;
  void *tmp ;
  char **argarr ;
  void *tmp___0 ;
  char **argv ;
  char **tmp___1 ;
  char *tmp___2 ;
  void *tmp___3 ;
  char *arg ;
  int sense ;
  int tmp___4 ;
  char *p ;
  char *tmp___5 ;
  char *optptr ;
  char *argptr ;
  int tmp___6 ;
  int tmp___7 ;
  char const   *tmp___8 ;
  char **fullargv ;
  char **tmp___9 ;
  LinkNode node ;
  Asgment asg___0 ;
  LinkNode arrnode ;
  int (*assignfunc)(char * , char ** , LinkList  , Options  , int  ) ;
  int tmp___10 ;
  int tmp___11 ;
  void *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;

  {
  {
#line 252
  xtr = (int )opts[175];
#line 256
  memset((void *)(ops.ind), 0, 128UL * sizeof(unsigned char ));
#line 257
  ops.args = (char **)((void *)0);
#line 258
  ops.argsalloc = 0;
#line 258
  ops.argscount = ops.argsalloc;
#line 261
  tmp = ugetnode(args);
#line 261
  name = (char *)tmp;
  }
#line 263
  if (! bn->handlerfunc) {
    {
#line 265
    deletebuiltin((char const   *)bn->node.nam);
    }
#line 266
    return (1);
  }
  {
#line 269
  flags = bn->node.flags;
#line 270
  optstr = bn->optstr;
#line 274
  argc = countlinknodes(args);
#line 283
  tmp___0 = zhalloc(sizeof(char *) * (unsigned long )(argc + 1));
#line 283
  argarr = (char **)tmp___0;
#line 290
  argv = argarr;
  }
  {
#line 291
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 291
    tmp___1 = argv;
#line 291
    argv ++;
#line 291
    tmp___3 = ugetnode(args);
#line 291
    tmp___2 = (char *)tmp___3;
#line 291
    *tmp___1 = tmp___2;
    }
#line 291
    if (! tmp___2) {
#line 291
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 292
  argv = argarr;
#line 295
  if (optstr) {
#line 296
    arg = *argv;
    {
#line 299
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 299
      if (arg) {
#line 299
        sense = (int )*arg == 45;
#line 299
        if (! sense) {
#line 299
          if (flags & (1 << 1)) {
#line 299
            if (! ((int )*arg == 43)) {
#line 299
              goto while_break___0;
            }
          } else {
#line 299
            goto while_break___0;
          }
        }
      } else {
#line 299
        goto while_break___0;
      }
#line 304
      if (! (flags & (1 << 13))) {
#line 304
        if ((int )typtab[(unsigned char )*(arg + 1)] & 1) {
#line 305
          goto while_break___0;
        }
      }
#line 307
      if (flags & (1 << 14)) {
#line 307
        if (! *(arg + 1)) {
#line 308
          goto while_break___0;
        }
      }
#line 309
      if (flags & (1 << 15)) {
        {
#line 309
        tmp___4 = strcmp((char const   *)arg, "--");
        }
#line 309
        if (! tmp___4) {
#line 314
          argv ++;
#line 315
          goto while_break___0;
        }
      }
#line 326
      if (flags & (1 << 12)) {
#line 327
        p = arg;
        {
#line 328
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 328
          p ++;
#line 328
          if (*p) {
            {
#line 328
            tmp___5 = strchr((char const   *)optstr, (int )*p);
            }
#line 328
            if (! tmp___5) {
#line 328
              goto while_break___1;
            }
          } else {
#line 328
            goto while_break___1;
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 329
        if (*p) {
#line 330
          goto while_break___0;
        }
      }
#line 334
      if ((int )*(arg + 1) == 45) {
#line 335
        arg ++;
      }
#line 336
      if (! *(arg + 1)) {
#line 337
        ops.ind['-'] = (unsigned char)1;
#line 338
        if (! sense) {
#line 339
          ops.ind['+'] = (unsigned char)1;
        }
      }
      {
#line 342
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 342
        arg ++;
#line 342
        if (! *arg) {
#line 342
          goto while_break___2;
        }
        {
#line 344
        execop = (int )*arg;
#line 344
        optptr = strchr((char const   *)optstr, execop);
        }
#line 344
        if (optptr) {
#line 345
          if (sense) {
#line 345
            ops.ind[(int )*arg] = (unsigned char)1;
          } else {
#line 345
            ops.ind[(int )*arg] = (unsigned char)2;
          }
#line 346
          if ((int )*(optptr + 1) == 58) {
#line 347
            argptr = (char *)((void *)0);
#line 348
            if ((int )*(optptr + 2) == 58) {
#line 349
              if (*(arg + 1)) {
#line 350
                argptr = arg + 1;
              }
            } else
#line 352
            if ((int )*(optptr + 2) == 37) {
#line 355
              if (*(arg + 1)) {
#line 355
                if ((int )typtab[(unsigned char )*(arg + 1)] & 1) {
#line 356
                  argptr = arg + 1;
                } else {
#line 355
                  goto _L;
                }
              } else
              _L: /* CIL Label */ 
#line 357
              if (*(argv + 1)) {
#line 357
                if ((int )typtab[(unsigned char )*(*(argv + 1))] & 1) {
#line 358
                  argv ++;
#line 358
                  arg = *argv;
#line 358
                  argptr = arg;
                }
              }
            } else
#line 361
            if (*(arg + 1)) {
#line 362
              argptr = arg + 1;
            } else {
#line 363
              argv ++;
#line 363
              arg = *argv;
#line 363
              if (arg) {
#line 364
                argptr = arg;
              } else {
                {
#line 366
                zwarnnam((char const   *)name, "argument expected: -%c", execop);
                }
#line 368
                return (1);
              }
            }
#line 371
            if (argptr) {
              {
#line 372
              tmp___6 = new_optarg(& ops);
              }
#line 372
              if (tmp___6) {
                {
#line 373
                zwarnnam((char const   *)name, "too many option arguments");
                }
#line 375
                return (1);
              }
#line 377
              ops.ind[execop] = (unsigned char )((int )ops.ind[execop] | (ops.argscount << 2));
#line 378
              *(ops.args + (ops.argscount - 1)) = argptr;
              {
#line 379
              while (1) {
                while_continue___3: /* CIL Label */ ;
#line 379
                if (! *(arg + 1)) {
#line 379
                  goto while_break___3;
                }
#line 380
                arg ++;
              }
              while_break___3: /* CIL Label */ ;
              }
            }
          }
        } else {
#line 384
          goto while_break___2;
        }
      }
      while_break___2: /* CIL Label */ ;
      }
#line 388
      if (*arg) {
#line 389
        if ((int )*arg == -125) {
#line 390
          arg ++;
#line 390
          *arg = (char )((int )*arg ^ 32);
        }
        {
#line 391
        zwarnnam((char const   *)name, "bad option: %c%c", (int const   )*("+-" + sense),
                 (int )*arg);
        }
#line 392
        return (1);
      }
#line 394
      argv ++;
#line 394
      arg = *argv;
#line 397
      if (flags & (1 << 2)) {
#line 397
        if (ops.ind[82]) {
#line 397
          if (! ops.ind[102]) {
#line 399
            optstr = (char *)"ne";
#line 400
            flags |= 1 << 12;
          }
        }
      }
#line 403
      if (ops.ind[45]) {
#line 404
        goto while_break___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  } else
#line 406
  if (! (flags & (1 << 18))) {
#line 406
    if (*argv) {
      {
#line 406
      tmp___7 = strcmp((char const   *)*argv, "--");
      }
#line 406
      if (! tmp___7) {
#line 408
        ops.ind['-'] = (unsigned char)1;
#line 409
        argv ++;
      }
    }
  }
#line 413
  pp = bn->defopts;
#line 413
  if (pp) {
    {
#line 414
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 414
      if (! *pp) {
#line 414
        goto while_break___4;
      }
#line 416
      if (! ops.ind[(int )*pp]) {
#line 417
        ops.ind[(int )*pp] = (unsigned char)1;
      }
#line 418
      pp ++;
    }
    while_break___4: /* CIL Label */ ;
    }
  }
#line 423
  argc = (int )((long )argc - (argv - argarr));
#line 425
  if (errflag) {
#line 426
    errflag &= -2;
#line 427
    return (1);
  }
#line 431
  if (argc < bn->minargs) {
#line 431
    goto _L___0;
  } else
#line 431
  if (argc > bn->maxargs) {
#line 431
    if (bn->maxargs != -1) {
      _L___0: /* CIL Label */ 
#line 432
      if (argc < bn->minargs) {
#line 432
        tmp___8 = "not enough arguments";
      } else {
#line 432
        tmp___8 = "too many arguments";
      }
      {
#line 432
      zwarnnam((char const   *)name, tmp___8);
      }
#line 434
      return (1);
    }
  }
#line 438
  if (xtr) {
    {
#line 440
    fullargv = argarr;
#line 441
    printprompt4();
#line 442
    fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"%s",
            name);
    }
    {
#line 443
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 443
      if (! *fullargv) {
#line 443
        goto while_break___5;
      }
      {
#line 444
      fputc(' ', xtrerr);
#line 445
      tmp___9 = fullargv;
#line 445
      fullargv ++;
#line 445
      quotedzputs((char const   *)*tmp___9, xtrerr);
      }
    }
    while_break___5: /* CIL Label */ ;
    }
#line 447
    if (assigns) {
#line 449
      node = assigns->list.first;
      {
#line 449
      while (1) {
        while_continue___6: /* CIL Label */ ;
#line 449
        if (! node) {
#line 449
          goto while_break___6;
        }
        {
#line 450
        asg___0 = (Asgment )node;
#line 451
        fputc(' ', xtrerr);
#line 452
        quotedzputs((char const   *)asg___0->name, xtrerr);
        }
#line 453
        if (asg___0->is_array) {
          {
#line 455
          fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)"=(");
          }
#line 456
          if (asg___0->value.array) {
#line 457
            arrnode = (asg___0->value.array)->list.first;
            {
#line 457
            while (1) {
              while_continue___7: /* CIL Label */ ;
#line 457
              if (! arrnode) {
#line 457
                goto while_break___7;
              }
              {
#line 460
              fputc(' ', xtrerr);
#line 461
              quotedzputs((char const   *)((char *)arrnode->dat), xtrerr);
#line 457
              arrnode = arrnode->next;
              }
            }
            while_break___7: /* CIL Label */ ;
            }
          }
          {
#line 464
          fprintf((FILE */* __restrict  */)xtrerr, (char const   */* __restrict  */)" )");
          }
        } else
#line 465
        if (asg___0->value.scalar) {
          {
#line 466
          fputc('=', xtrerr);
#line 467
          quotedzputs((char const   *)asg___0->value.scalar, xtrerr);
          }
        }
#line 449
        node = node->next;
      }
      while_break___6: /* CIL Label */ ;
      }
    }
    {
#line 471
    fputc('\n', xtrerr);
#line 472
    fflush(xtrerr);
    }
  }
#line 475
  if (flags & (1 << 19)) {
    {
#line 480
    assignfunc = (int (*)(char * , char ** , LinkList  , Options  , int  ))bn->handlerfunc;
#line 481
    tmp___10 = (*assignfunc)(name, argv, assigns, & ops, bn->funcid);
    }
#line 481
    return (tmp___10);
  } else {
    {
#line 485
    tmp___11 = (*(bn->handlerfunc))(name, argv, & ops, bn->funcid);
    }
#line 485
    return (tmp___11);
  }
}
}
#line 495 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_enable(char *name , char **argv , Options ops , int func ) 
{ 
  HashTable ht ;
  HashNode hn ;
  void (*scanfunc)(HashNode  , int  ) ;
  Patprog pprog ;
  int flags1 ;
  int flags2 ;
  int match ;
  int returnval ;
  int tmp ;
  sigset_t oset ;
  int tmp___0 ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  void *__cil_tmp18 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;

  {
#line 502
  flags1 = 0;
#line 502
  flags2 = 0;
#line 503
  match = 0;
#line 503
  returnval = 0;
#line 506
  if ((int )ops->ind[112] != 0) {
    {
#line 507
    tmp = pat_enables((char const   *)name, argv, func == 25);
    }
#line 507
    return (tmp);
  } else
#line 508
  if ((int )ops->ind[102] != 0) {
#line 509
    ht = shfunctab;
  } else
#line 510
  if ((int )ops->ind[114] != 0) {
#line 511
    ht = reswdtab;
  } else
#line 512
  if ((int )ops->ind[115] != 0) {
#line 513
    ht = sufaliastab;
  } else
#line 514
  if ((int )ops->ind[97] != 0) {
#line 515
    ht = aliastab;
  } else {
#line 517
    ht = builtintab;
  }
#line 520
  if (func == 25) {
#line 521
    flags2 = 1;
#line 522
    scanfunc = ht->enablenode;
  } else {
#line 524
    flags1 = 1;
#line 525
    scanfunc = ht->disablenode;
  }
#line 532
  if (! *argv) {
    {
#line 533
    queueing_enabled ++;
#line 534
    scanhashtable(ht, 1, flags1, flags2, ht->printnode, 0);
    }
    {
#line 535
    while (1) {
      while_continue: /* CIL Label */ ;
#line 535
      queueing_enabled --;
#line 535
      if (! queueing_enabled) {
        {
#line 535
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 535
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 535
            if (! (queue_front != queue_rear)) {
#line 535
              goto while_break___1;
            }
            {
#line 535
            queue_front = (queue_front + 1) % 128;
#line 535
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 535
            zhandler(signal_queue[queue_front]);
#line 535
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 535
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 535
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 536
    return (0);
  }
#line 540
  if ((int )ops->ind[109] != 0) {
    {
#line 541
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 541
      if (! *argv) {
#line 541
        goto while_break___2;
      }
      {
#line 543
      tokenize(*argv);
#line 544
      pprog = patcompile(*argv, 64, (char **)0);
      }
#line 544
      if (pprog) {
        {
#line 545
        queueing_enabled ++;
#line 546
        tmp___0 = scanmatchtable(ht, pprog, 0, 0, 0, scanfunc, 0);
#line 546
        match += tmp___0;
        }
        {
#line 547
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 547
          queueing_enabled --;
#line 547
          if (! queueing_enabled) {
            {
#line 547
            while (1) {
              while_continue___4: /* CIL Label */ ;
              {
#line 547
              while (1) {
                while_continue___5: /* CIL Label */ ;
#line 547
                if (! (queue_front != queue_rear)) {
#line 547
                  goto while_break___5;
                }
                {
#line 547
                queue_front = (queue_front + 1) % 128;
#line 547
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 547
                zhandler(signal_queue[queue_front]);
#line 547
                signal_setmask(oset___0);
                }
              }
              while_break___5: /* CIL Label */ ;
              }
#line 547
              goto while_break___4;
            }
            while_break___4: /* CIL Label */ ;
            }
          }
#line 547
          goto while_break___3;
        }
        while_break___3: /* CIL Label */ ;
        }
      } else {
        {
#line 550
        untokenize(*argv);
#line 551
        zwarnnam((char const   *)name, "bad pattern : %s", *argv);
#line 552
        returnval = 1;
        }
      }
#line 541
      argv ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 556
    if (! match) {
#line 557
      returnval = 1;
    }
#line 558
    return (returnval);
  }
#line 562
  queueing_enabled ++;
  {
#line 563
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 563
    if (! *argv) {
#line 563
      goto while_break___6;
    }
    {
#line 564
    hn = (*(ht->getnode2))(ht, (char const   *)*argv);
    }
#line 564
    if (hn) {
      {
#line 565
      (*scanfunc)(hn, 0);
      }
    } else {
      {
#line 567
      zwarnnam((char const   *)name, "no such hash table element: %s", *argv);
#line 568
      returnval = 1;
      }
    }
#line 563
    argv ++;
  }
  while_break___6: /* CIL Label */ ;
  }
  {
#line 571
  while (1) {
    while_continue___7: /* CIL Label */ ;
#line 571
    queueing_enabled --;
#line 571
    if (! queueing_enabled) {
      {
#line 571
      while (1) {
        while_continue___8: /* CIL Label */ ;
        {
#line 571
        while (1) {
          while_continue___9: /* CIL Label */ ;
#line 571
          if (! (queue_front != queue_rear)) {
#line 571
            goto while_break___9;
          }
          {
#line 571
          queue_front = (queue_front + 1) % 128;
#line 571
          oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 571
          zhandler(signal_queue[queue_front]);
#line 571
          signal_setmask(oset___1);
          }
        }
        while_break___9: /* CIL Label */ ;
        }
#line 571
        goto while_break___8;
      }
      while_break___8: /* CIL Label */ ;
      }
    }
#line 571
    goto while_break___7;
  }
  while_break___7: /* CIL Label */ ;
  }
#line 572
  return (returnval);
}
}
#line 579 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_set(char *nam , char **args , Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) 
{ 
  int action ;
  int optno ;
  int array ;
  int hadopt ;
  int hadplus ;
  int hadend ;
  int sort ;
  char **x ;
  char *arrayname ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  sigset_t oset ;
  int tmp___3 ;
  char **a ;
  char **y ;
  int len ;
  int tmp___4 ;
  int al ;
  int tmp___5 ;
  void *tmp___6 ;
  char **tmp___7 ;
  char **tmp___8 ;
  int tmp___9 ;
  char **tmp___10 ;
  sigset_t oset___0 ;
  void *__cil_tmp32 ;
  void *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;

  {
#line 582
  array = 0;
#line 582
  hadopt = 0;
#line 582
  hadplus = 0;
#line 582
  hadend = 0;
#line 582
  sort = 0;
#line 584
  arrayname = (char *)((void *)0);
#line 588
  if (! (emulation & (1 << 4))) {
#line 588
    if (*args) {
#line 588
      if ((int )*(*args) == 45) {
#line 588
        if (! *(*(args + 0) + 1)) {
          {
#line 589
          dosetopt(172, 0, 0, opts);
#line 590
          dosetopt(175, 0, 0, opts);
          }
#line 591
          if (! *(args + 1)) {
#line 592
            return (0);
          }
        }
      }
    }
  }
  {
#line 596
  while (1) {
    while_continue: /* CIL Label */ ;
#line 596
    if (*args) {
#line 596
      if (! ((int )*(*args) == 45)) {
#line 596
        if (! ((int )*(*args) == 43)) {
#line 596
          goto while_break;
        }
      }
    } else {
#line 596
      goto while_break;
    }
#line 597
    action = (int )*(*args) == 45;
#line 598
    hadplus |= ! action;
#line 599
    if (! *(*(args + 0) + 1)) {
#line 600
      *args = (char *)"--";
    }
    {
#line 601
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 601
      (*args) ++;
#line 601
      if (! *(*args)) {
#line 601
        goto while_break___0;
      }
#line 602
      if ((int )*(*args) == -125) {
#line 603
        (*args) ++;
#line 603
        *(*args) = (char )((int )*(*args) ^ 32);
      }
#line 604
      if ((int )*(*args) != 45) {
#line 605
        hadopt = 1;
      } else
#line 604
      if (action) {
#line 605
        hadopt = 1;
      }
#line 607
      if ((int )*(*args) == 45) {
#line 608
        hadend = 1;
#line 609
        args ++;
#line 610
        goto doneoptions;
      } else
#line 611
      if ((int )*(*args) == 111) {
#line 612
        (*args) ++;
#line 612
        if (! *(*args)) {
#line 613
          args ++;
        }
#line 614
        if (! *args) {
          {
#line 615
          printoptionstates(hadplus);
#line 616
          inittyptab();
          }
#line 617
          return (0);
        }
        {
#line 619
        optno = optlookup((char const   *)*args);
        }
#line 619
        if (optno) {
          {
#line 621
          tmp = dosetopt(optno, action, 0, opts);
          }
#line 621
          if (tmp) {
            {
#line 622
            zerrnam((char const   *)nam, "can\'t change option: %s", *args);
            }
          }
        } else {
          {
#line 620
          zerrnam((char const   *)nam, "no such option: %s", *args);
          }
        }
#line 623
        goto while_break___0;
      } else
#line 624
      if ((int )*(*args) == 65) {
#line 625
        (*args) ++;
#line 625
        if (! *(*args)) {
#line 626
          args ++;
        }
#line 627
        if (action) {
#line 627
          array = 1;
        } else {
#line 627
          array = -1;
        }
#line 628
        arrayname = *args;
#line 629
        if (! arrayname) {
#line 630
          goto doneoptions;
        } else
#line 631
        if (! opts[94]) {
#line 633
          args ++;
#line 634
          goto doneoptions;
        }
#line 636
        goto while_break___0;
      } else
#line 637
      if ((int )*(*args) == 115) {
#line 638
        if (action) {
#line 638
          sort = 1;
        } else {
#line 638
          sort = -1;
        }
      } else {
        {
#line 640
        optno = optlookupc(*(*args));
        }
#line 640
        if (optno) {
          {
#line 642
          tmp___0 = dosetopt(optno, action, 0, opts);
          }
#line 642
          if (tmp___0) {
            {
#line 643
            zerrnam((char const   *)nam, "can\'t change option: -%c", (int )*(*args));
            }
          }
        } else {
          {
#line 641
          zerrnam((char const   *)nam, "bad option: -%c", (int )*(*args));
          }
        }
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 646
    args ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 648
  if (errflag) {
#line 649
    return (1);
  }
  doneoptions: 
  {
#line 651
  inittyptab();
#line 654
  queueing_enabled ++;
  }
#line 655
  if (! arrayname) {
#line 657
    if (! hadopt) {
#line 657
      if (! *args) {
#line 658
        if (hadplus) {
#line 658
          tmp___1 = 1;
        } else {
#line 658
          tmp___1 = 0;
        }
        {
#line 658
        scanhashtable(paramtab, 1, 0, 0, paramtab->printnode, tmp___1);
        }
      }
    }
#line 661
    if (array) {
#line 663
      if (hadplus) {
#line 663
        tmp___2 = 1;
      } else {
#line 663
        tmp___2 = 0;
      }
      {
#line 663
      scanhashtable(paramtab, 1, 1, 0, paramtab->printnode, tmp___2);
      }
    }
#line 666
    if (! *args) {
#line 666
      if (! hadend) {
        {
#line 667
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 667
          queueing_enabled --;
#line 667
          if (! queueing_enabled) {
            {
#line 667
            while (1) {
              while_continue___2: /* CIL Label */ ;
              {
#line 667
              while (1) {
                while_continue___3: /* CIL Label */ ;
#line 667
                if (! (queue_front != queue_rear)) {
#line 667
                  goto while_break___3;
                }
                {
#line 667
                queue_front = (queue_front + 1) % 128;
#line 667
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 667
                zhandler(signal_queue[queue_front]);
#line 667
                signal_setmask(oset);
                }
              }
              while_break___3: /* CIL Label */ ;
              }
#line 667
              goto while_break___2;
            }
            while_break___2: /* CIL Label */ ;
            }
          }
#line 667
          goto while_break___1;
        }
        while_break___1: /* CIL Label */ ;
        }
#line 668
        return (0);
      }
    }
  }
#line 671
  if (sort) {
#line 672
    if (sort < 0) {
#line 672
      tmp___3 = 4;
    } else {
#line 672
      tmp___3 = 0;
    }
    {
#line 672
    strmetasort(args, tmp___3, (int *)((void *)0));
    }
  }
#line 673
  if (array) {
    {
#line 675
    a = (char **)((void *)0);
#line 676
    tmp___4 = arrlen(args);
#line 676
    len = tmp___4;
    }
#line 678
    if (array < 0) {
      {
#line 678
      a = getaparam(arrayname);
      }
#line 678
      if (a) {
        {
#line 679
        tmp___5 = arrlen(a);
#line 679
        al = tmp___5;
        }
#line 681
        if (al > len) {
#line 682
          len = al;
        }
      }
    }
    {
#line 684
    tmp___6 = zalloc((unsigned long )(len + 1) * sizeof(char *));
#line 684
    y = (char **)tmp___6;
#line 684
    x = y;
    }
    {
#line 684
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 684
      tmp___9 = len;
#line 684
      len --;
#line 684
      if (! tmp___9) {
#line 684
        goto while_break___4;
      }
#line 685
      if (! *args) {
#line 686
        args = a;
      }
      {
#line 687
      tmp___7 = y;
#line 687
      y ++;
#line 687
      tmp___8 = args;
#line 687
      args ++;
#line 687
      *tmp___7 = ztrdup((char const   *)*tmp___8);
#line 684
      a ++;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
    {
#line 689
    tmp___10 = y;
#line 689
    y ++;
#line 689
    *tmp___10 = (char *)((void *)0);
#line 690
    setaparam(arrayname, x);
    }
  } else {
    {
#line 693
    freearray(pparams);
#line 694
    pparams = zarrdup(args);
    }
  }
  {
#line 696
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 696
    queueing_enabled --;
#line 696
    if (! queueing_enabled) {
      {
#line 696
      while (1) {
        while_continue___6: /* CIL Label */ ;
        {
#line 696
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 696
          if (! (queue_front != queue_rear)) {
#line 696
            goto while_break___7;
          }
          {
#line 696
          queue_front = (queue_front + 1) % 128;
#line 696
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 696
          zhandler(signal_queue[queue_front]);
#line 696
          signal_setmask(oset___0);
          }
        }
        while_break___7: /* CIL Label */ ;
        }
#line 696
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
    }
#line 696
    goto while_break___5;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 697
  return (0);
}
}
#line 703 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int doprintdir  =    0;
#line 708 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_pwd(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
            Options ops , int func  __attribute__((__unused__)) ) 
{ 
  char *tmp ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 711
  if ((int )ops->ind[114] != 0) {
    {
#line 713
    tmp = zgetcwd();
#line 713
    printf((char const   */* __restrict  */)"%s\n", tmp);
    }
  } else
#line 711
  if ((int )ops->ind[80] != 0) {
    {
#line 713
    tmp = zgetcwd();
#line 713
    printf((char const   */* __restrict  */)"%s\n", tmp);
    }
  } else
#line 711
  if (opts[30]) {
#line 711
    if (! ((int )ops->ind[76] != 0)) {
      {
#line 713
      tmp = zgetcwd();
#line 713
      printf((char const   */* __restrict  */)"%s\n", tmp);
      }
    } else {
      {
#line 715
      zputs((char const   *)pwd, stdout);
#line 716
      putchar('\n');
      }
    }
  } else {
    {
#line 715
    zputs((char const   *)pwd, stdout);
#line 716
    putchar('\n');
    }
  }
#line 718
  return (0);
}
}
#line 729 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_dirs(char *name  __attribute__((__unused__)) , char **argv , Options ops ,
             int func  __attribute__((__unused__)) ) 
{ 
  LinkList l ;
  LinkNode node ;
  char *fmt ;
  int pos ;
  int tmp ;
  sigset_t oset ;
  char **tmp___0 ;
  char *tmp___1 ;
  sigset_t oset___0 ;
  void *__cil_tmp14 ;
  void *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;

  {
#line 734
  queueing_enabled ++;
#line 736
  if (*argv) {
#line 736
    goto _L___0;
  } else
#line 736
  if ((int )ops->ind[99] != 0) {
    _L___0: /* CIL Label */ 
#line 736
    if ((int )ops->ind[118] != 0) {
#line 736
      goto _L;
    } else
#line 736
    if ((int )ops->ind[112] != 0) {
      _L: /* CIL Label */ 
#line 740
      pos = 1;
#line 743
      if ((int )ops->ind[118] != 0) {
        {
#line 744
        printf((char const   */* __restrict  */)"0\t");
#line 745
        fmt = (char *)"\n%d\t";
        }
      } else
#line 747
      if ((int )ops->ind[112] != 0) {
#line 748
        fmt = (char *)"\n";
      } else {
#line 750
        fmt = (char *)" ";
      }
#line 751
      if ((int )ops->ind[108] != 0) {
        {
#line 752
        zputs((char const   *)pwd, stdout);
        }
      } else {
        {
#line 754
        fprintdir(pwd, stdout);
        }
      }
#line 755
      node = dirstack->list.first;
      {
#line 755
      while (1) {
        while_continue: /* CIL Label */ ;
#line 755
        if (! node) {
#line 755
          goto while_break;
        }
        {
#line 756
        tmp = pos;
#line 756
        pos ++;
#line 756
        printf((char const   */* __restrict  */)fmt, tmp);
        }
#line 757
        if ((int )ops->ind[108] != 0) {
          {
#line 758
          zputs((char const   *)node->dat, stdout);
          }
        } else {
          {
#line 760
          fprintdir((char *)node->dat, stdout);
          }
        }
#line 755
        node = node->next;
      }
      while_break: /* CIL Label */ ;
      }
      {
#line 763
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 763
        queueing_enabled --;
#line 763
        if (! queueing_enabled) {
          {
#line 763
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 763
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 763
              if (! (queue_front != queue_rear)) {
#line 763
                goto while_break___2;
              }
              {
#line 763
              queue_front = (queue_front + 1) % 128;
#line 763
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 763
              zhandler(signal_queue[queue_front]);
#line 763
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 763
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 763
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
      {
#line 764
      putchar('\n');
      }
#line 765
      return (0);
    }
  } else {
#line 736
    goto _L;
  }
  {
#line 768
  l = znewlinklist();
  }
  {
#line 769
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 769
    if (! *argv) {
#line 769
      goto while_break___3;
    }
    {
#line 770
    tmp___0 = argv;
#line 770
    argv ++;
#line 770
    tmp___1 = ztrdup((char const   *)*tmp___0);
#line 770
    zinsertlinknode(l, l->list.last, (void *)tmp___1);
    }
  }
  while_break___3: /* CIL Label */ ;
  }
  {
#line 771
  freelinklist(dirstack, & freestr);
#line 772
  dirstack = l;
  }
  {
#line 773
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 773
    queueing_enabled --;
#line 773
    if (! queueing_enabled) {
      {
#line 773
      while (1) {
        while_continue___5: /* CIL Label */ ;
        {
#line 773
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 773
          if (! (queue_front != queue_rear)) {
#line 773
            goto while_break___6;
          }
          {
#line 773
          queue_front = (queue_front + 1) % 128;
#line 773
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 773
          zhandler(signal_queue[queue_front]);
#line 773
          signal_setmask(oset___0);
          }
        }
        while_break___6: /* CIL Label */ ;
        }
#line 773
        goto while_break___5;
      }
      while_break___5: /* CIL Label */ ;
      }
    }
#line 773
    goto while_break___4;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 774
  return (0);
}
}
#line 780 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
void set_pwd_env(void) 
{ 
  Param pm ;
  HashNode tmp ;
  HashNode tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  HashNode tmp___3 ;
  HashNode tmp___4 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
  {
#line 787
  tmp = (*(paramtab->getnode))(paramtab, "PWD");
#line 787
  pm = (Param )tmp;
  }
#line 788
  if (pm) {
#line 788
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) != 0) {
      {
#line 789
      pm->node.flags &= ~ (1 << 10);
#line 790
      unsetparam_pm(pm, 0, 1);
      }
    }
  }
  {
#line 793
  tmp___0 = (*(paramtab->getnode))(paramtab, "OLDPWD");
#line 793
  pm = (Param )tmp___0;
  }
#line 794
  if (pm) {
#line 794
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) != 0) {
      {
#line 795
      pm->node.flags &= ~ (1 << 10);
#line 796
      unsetparam_pm(pm, 0, 1);
      }
    }
  }
  {
#line 799
  tmp___1 = ztrdup((char const   *)pwd);
#line 799
  setsparam((char *)"PWD", tmp___1);
#line 800
  tmp___2 = ztrdup((char const   *)oldpwd);
#line 800
  setsparam((char *)"OLDPWD", tmp___2);
#line 802
  tmp___3 = (*(paramtab->getnode))(paramtab, "PWD");
#line 802
  pm = (Param )tmp___3;
  }
#line 803
  if (! (pm->node.flags & (1 << 12))) {
    {
#line 804
    addenv(pm, pwd);
    }
  }
  {
#line 805
  tmp___4 = (*(paramtab->getnode))(paramtab, "OLDPWD");
#line 805
  pm = (Param )tmp___4;
  }
#line 806
  if (! (pm->node.flags & (1 << 12))) {
    {
#line 807
    addenv(pm, oldpwd);
    }
  }
#line 808
  return;
}
}
#line 811 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int chasinglinks  ;
#line 820 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_cd(char *nam , char **argv , Options ops , int func ) 
{ 
  LinkNode dir ;
  struct stat st1 ;
  struct stat st2 ;
  int tmp ;
  char *tmp___0 ;
  void *tmp___1 ;
  sigset_t oset ;
  char *tmp___2 ;
  int *tmp___3 ;
  char *tmp___4 ;
  int tmp___5 ;
  char *tmp___6 ;
  int *tmp___7 ;
  char *tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  char *tmp___11 ;
  int tmp___12 ;
  sigset_t oset___0 ;
  void *__cil_tmp24 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;
  void *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;

  {
#line 826
  if (opts[153]) {
    {
#line 827
    zwarnnam((char const   *)nam, "restricted");
    }
#line 828
    return (1);
  }
#line 830
  doprintdir = doprintdir == -1;
#line 832
  if ((int )ops->ind[80] != 0) {
#line 832
    tmp = 1;
  } else
#line 832
  if (opts[30]) {
#line 832
    if (! ((int )ops->ind[76] != 0)) {
#line 832
      tmp = 1;
    } else {
#line 832
      tmp = 0;
    }
  } else {
#line 832
    tmp = 0;
  }
  {
#line 832
  chasinglinks = tmp;
#line 834
  queueing_enabled ++;
#line 835
  tmp___0 = ztrdup((char const   *)pwd);
#line 835
  zinsertlinknode(dirstack, & dirstack->node, (void *)tmp___0);
#line 836
  dir = cd_get_dest(nam, argv, (int )ops->ind[115] != 0, func);
  }
#line 836
  if (! dir) {
    {
#line 837
    tmp___1 = getlinknode(dirstack);
#line 837
    zsfree((char *)tmp___1);
    }
    {
#line 838
    while (1) {
      while_continue: /* CIL Label */ ;
#line 838
      queueing_enabled --;
#line 838
      if (! queueing_enabled) {
        {
#line 838
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 838
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 838
            if (! (queue_front != queue_rear)) {
#line 838
              goto while_break___1;
            }
            {
#line 838
            queue_front = (queue_front + 1) % 128;
#line 838
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 838
            zhandler(signal_queue[queue_front]);
#line 838
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 838
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 838
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 839
    return (1);
  }
  {
#line 841
  cd_new_pwd(func, dir, (int )ops->ind[113] != 0);
#line 843
  tmp___11 = unmeta((char const   *)pwd);
#line 843
  tmp___12 = stat((char const   */* __restrict  */)tmp___11, (struct stat */* __restrict  */)(& st1));
  }
#line 843
  if (tmp___12 < 0) {
    {
#line 844
    setjobpwd();
#line 845
    zsfree(pwd);
#line 846
    pwd = (char *)((void *)0);
#line 847
    tmp___2 = zgetcwd();
#line 847
    pwd = metafy(tmp___2, -1, 3);
    }
  } else {
    {
#line 848
    tmp___10 = stat((char const   */* __restrict  */)".", (struct stat */* __restrict  */)(& st2));
    }
#line 848
    if (tmp___10 < 0) {
      {
#line 849
      tmp___4 = unmeta((char const   *)pwd);
#line 849
      tmp___5 = chdir((char const   *)tmp___4);
      }
#line 849
      if (tmp___5 < 0) {
        {
#line 850
        tmp___3 = __errno_location();
#line 850
        zwarn("unable to chdir(%s): %e", pwd, *tmp___3);
        }
      }
    } else
#line 851
    if (st1.st_ino != st2.st_ino) {
#line 851
      goto _L;
    } else
#line 851
    if (st1.st_dev != st2.st_dev) {
      _L: /* CIL Label */ 
#line 852
      if (chasinglinks) {
        {
#line 853
        setjobpwd();
#line 854
        zsfree(pwd);
#line 855
        pwd = (char *)((void *)0);
#line 856
        tmp___6 = zgetcwd();
#line 856
        pwd = metafy(tmp___6, -1, 3);
        }
      } else {
        {
#line 857
        tmp___8 = unmeta((char const   *)pwd);
#line 857
        tmp___9 = chdir((char const   *)tmp___8);
        }
#line 857
        if (tmp___9 < 0) {
          {
#line 858
          tmp___7 = __errno_location();
#line 858
          zwarn("unable to chdir(%s): %e", pwd, *tmp___7);
          }
        }
      }
    }
  }
  {
#line 860
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 860
    queueing_enabled --;
#line 860
    if (! queueing_enabled) {
      {
#line 860
      while (1) {
        while_continue___3: /* CIL Label */ ;
        {
#line 860
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 860
          if (! (queue_front != queue_rear)) {
#line 860
            goto while_break___4;
          }
          {
#line 860
          queue_front = (queue_front + 1) % 128;
#line 860
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 860
          zhandler(signal_queue[queue_front]);
#line 860
          signal_setmask(oset___0);
          }
        }
        while_break___4: /* CIL Label */ ;
        }
#line 860
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
    }
#line 860
    goto while_break___2;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 861
  return (0);
}
}
#line 867 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static LinkNode cd_get_dest(char *nam , char **argv , int hard , int func ) 
{ 
  LinkNode dir ;
  LinkNode target ;
  char *dest ;
  void *tmp ;
  char *tmp___0 ;
  int dd ;
  char *end ;
  zlong tmp___1 ;
  size_t tmp___2 ;
  size_t tmp___3 ;
  char *tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  char *u ;
  char *d___0 ;
  int len1 ;
  int len2 ;
  int len3 ;
  size_t tmp___8 ;
  size_t tmp___9 ;
  size_t tmp___10 ;
  void *tmp___11 ;
  void *tmp___12 ;
  void *tmp___13 ;
  LinkNode tmp___14 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;

  {
#line 870
  dir = (LinkNode )((void *)0);
#line 874
  if (! *(argv + 0)) {
#line 875
    if (func == 11) {
#line 875
      if (! (dirstack->list.first)->next) {
        {
#line 876
        zwarnnam((char const   *)nam, "directory stack empty");
        }
#line 877
        return ((LinkNode )((void *)0));
      }
    }
#line 879
    if (func == 12) {
#line 879
      if (! opts[147]) {
#line 880
        dir = (dirstack->list.first)->next;
      }
    }
#line 881
    if (dir) {
      {
#line 882
      tmp = getlinknode(dirstack);
#line 882
      zinsertlinknode(dirstack, dir, tmp);
      }
    } else
#line 883
    if (func != 11) {
      {
#line 884
      tmp___0 = ztrdup((char const   *)home);
#line 884
      zinsertlinknode(dirstack, & dirstack->node, (void *)tmp___0);
      }
    }
  } else
#line 885
  if (! *(argv + 1)) {
#line 889
    doprintdir ++;
#line 890
    if (*(*(argv + 0) + 1)) {
#line 890
      if ((int )*(*(argv + 0) + 0) == 43) {
#line 890
        goto _L;
      } else
#line 890
      if ((int )*(*(argv + 0) + 0) == 45) {
        _L: /* CIL Label */ 
        {
#line 890
        tmp___2 = strspn((char const   *)(*(argv + 0) + 1), "0123456789");
#line 890
        tmp___3 = strlen((char const   *)(*(argv + 0) + 1));
        }
#line 890
        if (tmp___2 == tmp___3) {
          {
#line 892
          tmp___1 = zstrtol((char const   *)(*(argv + 0) + 1), & end, 10);
#line 892
          dd = (int )tmp___1;
          }
#line 893
          if ((int )*end == 0) {
#line 894
            if (((int )*(*(argv + 0) + 0) == 43) ^ (int )opts[145]) {
#line 895
              dir = dirstack->list.first;
              {
#line 895
              while (1) {
                while_continue: /* CIL Label */ ;
#line 895
                if (dir) {
#line 895
                  if (! dd) {
#line 895
                    goto while_break;
                  }
                } else {
#line 895
                  goto while_break;
                }
#line 895
                dd --;
#line 895
                dir = dir->next;
              }
              while_break: /* CIL Label */ ;
              }
            } else {
#line 897
              dir = dirstack->list.last;
              {
#line 897
              while (1) {
                while_continue___0: /* CIL Label */ ;
#line 897
                if ((unsigned long )dir != (unsigned long )((LinkNode )dirstack)) {
#line 897
                  if (! dd) {
#line 897
                    goto while_break___0;
                  }
                } else {
#line 897
                  goto while_break___0;
                }
#line 897
                dd --;
#line 897
                dir = dir->prev;
              }
              while_break___0: /* CIL Label */ ;
              }
            }
#line 899
            if (! dir) {
              {
#line 900
              zwarnnam((char const   *)nam, "no such entry in dir stack");
              }
#line 901
              return ((LinkNode )((void *)0));
            } else
#line 899
            if ((unsigned long )dir == (unsigned long )((LinkNode )dirstack)) {
              {
#line 900
              zwarnnam((char const   *)nam, "no such entry in dir stack");
              }
#line 901
              return ((LinkNode )((void *)0));
            }
          }
        }
      }
    }
#line 905
    if (! dir) {
      {
#line 906
      tmp___6 = strcmp((char const   *)*(argv + 0), "-");
      }
#line 906
      if (tmp___6) {
#line 906
        doprintdir --;
#line 906
        tmp___5 = *(argv + 0);
      } else {
#line 906
        tmp___5 = oldpwd;
      }
      {
#line 906
      tmp___7 = ztrdup((char const   *)tmp___5);
#line 906
      zinsertlinknode(dirstack, & dirstack->node, (void *)tmp___7);
      }
    }
  } else {
    {
#line 912
    u = strstr((char const   *)pwd, (char const   *)*(argv + 0));
    }
#line 912
    if (! u) {
      {
#line 913
      zwarnnam((char const   *)nam, "string not in pwd: %s", *(argv + 0));
      }
#line 914
      return ((LinkNode )((void *)0));
    }
    {
#line 916
    tmp___8 = strlen((char const   *)*(argv + 0));
#line 916
    len1 = (int )tmp___8;
#line 917
    tmp___9 = strlen((char const   *)*(argv + 1));
#line 917
    len2 = (int )tmp___9;
#line 918
    len3 = (int )(u - pwd);
#line 919
    tmp___10 = strlen((char const   *)(u + len1));
#line 919
    tmp___11 = zalloc(((size_t )(len3 + len2) + tmp___10) + 1UL);
#line 919
    d___0 = (char *)tmp___11;
#line 920
    strncpy((char */* __restrict  */)d___0, (char const   */* __restrict  */)pwd,
            (size_t )len3);
#line 921
    strcpy((char */* __restrict  */)(d___0 + len3), (char const   */* __restrict  */)*(argv + 1));
#line 922
    strcat((char */* __restrict  */)d___0, (char const   */* __restrict  */)(u + len1));
#line 923
    zinsertlinknode(dirstack, & dirstack->node, (void *)d___0);
#line 924
    doprintdir ++;
    }
  }
#line 927
  target = dir;
#line 928
  if (func == 11) {
#line 929
    if (! dir) {
#line 930
      dir = dirstack->list.first;
#line 930
      target = dir;
    } else
#line 931
    if ((unsigned long )dir != (unsigned long )dirstack->list.first) {
#line 932
      return (dir);
    }
#line 934
    dir = dir->next;
  }
#line 936
  if (! dir) {
#line 937
    dir = dirstack->list.first;
  }
  {
#line 939
  dest = cd_do_chdir(nam, (char *)dir->dat, hard);
  }
#line 939
  if (! dest) {
#line 940
    if (! target) {
      {
#line 941
      tmp___12 = getlinknode(dirstack);
#line 941
      zsfree((char *)tmp___12);
      }
    }
#line 942
    if (func == 11) {
      {
#line 943
      tmp___13 = remnode(dirstack, dir);
#line 943
      zsfree((char *)tmp___13);
      }
    }
#line 944
    return ((LinkNode )((void *)0));
  }
#line 946
  if ((unsigned long )dest != (unsigned long )((char *)dir->dat)) {
    {
#line 947
    zsfree((char *)dir->dat);
#line 948
    dir->dat = (void *)dest;
    }
  }
#line 950
  if (target) {
#line 950
    tmp___14 = target;
  } else {
#line 950
    tmp___14 = dir;
  }
#line 950
  return (tmp___14);
}
}
#line 960 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static char *cd_do_chdir(char *cnam , char *dest , int hard ) 
{ 
  char **pp ;
  char *ret ;
  int hasdot ;
  int eno ;
  int nocdpath ;
  int tmp ;
  int *tmp___0 ;
  int *tmp___1 ;
  int *tmp___2 ;
  int tmp___3 ;
  int *tmp___4 ;
  int *tmp___5 ;
  int *tmp___6 ;
  int *tmp___7 ;
  int *tmp___8 ;
  int *tmp___9 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;

  {
#line 964
  hasdot = 0;
#line 964
  eno = 2;
#line 990
  if ((int )*(dest + 0) == 46) {
#line 990
    if ((int )*(dest + 1) == 47) {
#line 990
      tmp = 1;
    } else
#line 990
    if (! *(dest + 1)) {
#line 990
      tmp = 1;
    } else
#line 990
    if ((int )*(dest + 1) == 46) {
#line 990
      if ((int )*(dest + 2) == 47) {
#line 990
        tmp = 1;
      } else
#line 990
      if (! *(dest + 2)) {
#line 990
        tmp = 1;
      } else {
#line 990
        tmp = 0;
      }
    } else {
#line 990
      tmp = 0;
    }
  } else {
#line 990
    tmp = 0;
  }
#line 990
  nocdpath = tmp;
#line 997
  if ((int )*dest == 47) {
    {
#line 998
    ret = cd_try_chdir((char *)((void *)0), dest, hard);
    }
#line 998
    if (ret) {
#line 999
      return (ret);
    }
    {
#line 1000
    tmp___0 = __errno_location();
#line 1000
    zwarnnam((char const   *)cnam, "%e: %s", *tmp___0, dest);
    }
#line 1001
    return ((char *)((void *)0));
  }
#line 1009
  if (! nocdpath) {
#line 1009
    if (! opts[131]) {
#line 1010
      pp = cdpath;
      {
#line 1010
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1010
        if (! *pp) {
#line 1010
          goto while_break;
        }
#line 1011
        if (! *(*pp + 0)) {
#line 1012
          hasdot = 1;
        } else
#line 1011
        if ((int )*(*pp + 0) == 46) {
#line 1011
          if ((int )*(*pp + 1) == 0) {
#line 1012
            hasdot = 1;
          }
        }
#line 1010
        pp ++;
      }
      while_break: /* CIL Label */ ;
      }
    }
  }
#line 1020
  if (! hasdot) {
#line 1020
    if (! opts[131]) {
      {
#line 1021
      ret = cd_try_chdir((char *)((void *)0), dest, hard);
      }
#line 1021
      if (ret) {
#line 1022
        return (ret);
      }
      {
#line 1023
      tmp___2 = __errno_location();
      }
#line 1023
      if (*tmp___2 != 2) {
        {
#line 1024
        tmp___1 = __errno_location();
#line 1024
        eno = *tmp___1;
        }
      }
    }
  }
#line 1028
  if (! nocdpath) {
#line 1029
    pp = cdpath;
    {
#line 1029
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1029
      if (! *pp) {
#line 1029
        goto while_break___0;
      }
      {
#line 1030
      ret = cd_try_chdir(*pp, dest, hard);
      }
#line 1030
      if (ret) {
#line 1031
        if (opts[131]) {
#line 1038
          if (*(*pp)) {
#line 1039
            doprintdir ++;
          }
        } else {
          {
#line 1041
          tmp___3 = strcmp((char const   *)*pp, ".");
          }
#line 1041
          if (tmp___3) {
#line 1042
            doprintdir ++;
          }
        }
#line 1045
        return (ret);
      }
      {
#line 1047
      tmp___5 = __errno_location();
      }
#line 1047
      if (*tmp___5 != 2) {
        {
#line 1048
        tmp___4 = __errno_location();
#line 1048
        eno = *tmp___4;
        }
      }
#line 1029
      pp ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 1053
  if (opts[131]) {
    {
#line 1054
    ret = cd_try_chdir((char *)((void *)0), dest, hard);
    }
#line 1054
    if (ret) {
#line 1055
      return (ret);
    }
    {
#line 1056
    tmp___7 = __errno_location();
    }
#line 1056
    if (*tmp___7 != 2) {
      {
#line 1057
      tmp___6 = __errno_location();
#line 1057
      eno = *tmp___6;
      }
    }
  }
  {
#line 1061
  ret = cd_able_vars(dest);
  }
#line 1061
  if (ret) {
    {
#line 1062
    ret = cd_try_chdir((char *)((void *)0), ret, hard);
    }
#line 1062
    if (ret) {
#line 1063
      doprintdir ++;
#line 1064
      return (ret);
    }
    {
#line 1066
    tmp___9 = __errno_location();
    }
#line 1066
    if (*tmp___9 != 2) {
      {
#line 1067
      tmp___8 = __errno_location();
#line 1067
      eno = *tmp___8;
      }
    }
  }
  {
#line 1073
  zwarnnam((char const   *)cnam, "%e: %s", eno, dest);
  }
#line 1074
  return ((char *)((void *)0));
}
}
#line 1081 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
char *cd_able_vars(char *s ) 
{ 
  char *rest ;
  char save ;

  {
#line 1086
  if (opts[28]) {
#line 1087
    rest = s;
    {
#line 1087
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1087
      if (*rest) {
#line 1087
        if (! ((int )*rest != 47)) {
#line 1087
          goto while_break;
        }
      } else {
#line 1087
        goto while_break;
      }
#line 1087
      rest ++;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1088
    save = *rest;
#line 1089
    *rest = (char)0;
#line 1090
    s = getnameddir(s);
#line 1091
    *rest = save;
    }
#line 1093
    if (s) {
#line 1093
      if (*rest) {
        {
#line 1094
        s = dyncat((char const   *)s, (char const   *)rest);
        }
      }
    }
#line 1096
    return (s);
  }
#line 1098
  return ((char *)((void *)0));
}
}
#line 1109 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static char *cd_try_chdir(char *pfix , char *dest , int hard ) 
{ 
  char *buf___7 ;
  int dlen ;
  int dochaselinks ;
  int pfl ;
  size_t tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;
  size_t tmp___3 ;
  size_t tmp___4 ;
  void *tmp___5 ;
  int tmp___6 ;
  char *tmp___7 ;
  int tmp___8 ;
  char *tmp___9 ;
  char *__cil_tmp19 ;

  {
#line 1113
  dochaselinks = 0;
#line 1116
  if (pfix) {
#line 1116
    if (*pfix) {
#line 1117
      if ((int )*pfix == 47) {
        {
#line 1127
        buf___7 = tricat((char const   *)pfix, "/", (char const   *)dest);
        }
      } else {
        {
#line 1130
        tmp = strlen((char const   *)pfix);
#line 1130
        pfl = (int )tmp;
#line 1131
        tmp___0 = strlen((char const   *)pwd);
#line 1131
        dlen = (int )tmp___0;
        }
#line 1132
        if (dlen == 1) {
#line 1132
          if ((int )*pwd == 47) {
#line 1133
            dlen = 0;
          }
        }
        {
#line 1134
        tmp___1 = strlen((char const   *)dest);
#line 1134
        tmp___2 = zalloc(((size_t )(dlen + pfl) + tmp___1) + 3UL);
#line 1134
        buf___7 = (char *)tmp___2;
        }
#line 1135
        if (dlen) {
          {
#line 1136
          strcpy((char */* __restrict  */)buf___7, (char const   */* __restrict  */)pwd);
          }
        }
        {
#line 1137
        *(buf___7 + dlen) = (char )'/';
#line 1138
        strcpy((char */* __restrict  */)((buf___7 + dlen) + 1), (char const   */* __restrict  */)pfix);
#line 1139
        *(buf___7 + ((dlen + 1) + pfl)) = (char )'/';
#line 1140
        strcpy((char */* __restrict  */)(((buf___7 + dlen) + pfl) + 2), (char const   */* __restrict  */)dest);
        }
      }
    } else {
#line 1116
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 1142
  if ((int )*dest == 47) {
    {
#line 1143
    buf___7 = ztrdup((char const   *)dest);
    }
  } else {
    {
#line 1145
    tmp___3 = strlen((char const   *)pwd);
#line 1145
    dlen = (int )tmp___3;
    }
#line 1146
    if ((int )*(pwd + (dlen - 1)) == 47) {
#line 1147
      dlen --;
    }
    {
#line 1148
    tmp___4 = strlen((char const   *)dest);
#line 1148
    tmp___5 = zalloc(((size_t )dlen + tmp___4) + 2UL);
#line 1148
    buf___7 = (char *)tmp___5;
#line 1149
    strcpy((char */* __restrict  */)buf___7, (char const   */* __restrict  */)pwd);
#line 1150
    *(buf___7 + dlen) = (char )'/';
#line 1151
    strcpy((char */* __restrict  */)((buf___7 + dlen) + 1), (char const   */* __restrict  */)dest);
    }
  }
#line 1157
  if (! chasinglinks) {
    {
#line 1158
    dochaselinks = fixdir(buf___7);
    }
  } else {
    {
#line 1160
    unmetafy(buf___7, & dlen);
    }
  }
  {
#line 1166
  tmp___6 = lchdir((char const   *)buf___7, (struct dirsav *)((void *)0), hard);
  }
#line 1166
  if (tmp___6) {
#line 1166
    if (pfix) {
      {
#line 1168
      free((void *)buf___7);
      }
#line 1169
      return ((char *)((void *)0));
    } else
#line 1166
    if ((int )*dest == 47) {
      {
#line 1168
      free((void *)buf___7);
      }
#line 1169
      return ((char *)((void *)0));
    } else {
      {
#line 1166
      tmp___7 = unmeta((char const   *)dest);
#line 1166
      tmp___8 = lchdir((char const   *)tmp___7, (struct dirsav *)((void *)0), hard);
      }
#line 1166
      if (tmp___8) {
        {
#line 1168
        free((void *)buf___7);
        }
#line 1169
        return ((char *)((void *)0));
      }
    }
  }
#line 1172
  if (dochaselinks) {
#line 1173
    chasinglinks = 1;
  }
  {
#line 1174
  tmp___9 = metafy(buf___7, -1, 5);
  }
#line 1174
  return (tmp___9);
}
}
#line 1180 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static void cd_new_pwd(int func , LinkNode dir , int quiet ) 
{ 
  char *new_pwd ;
  char *s ;
  int dirstacksize ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  LinkNode n ;
  void *tmp___2 ;
  int tmp___3 ;
  zlong tmp___4 ;
  int remove___0 ;
  int tmp___5 ;
  int tmp___6 ;
  void *tmp___7 ;
  int tmp___8 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;

  {
#line 1186
  if (func == 12) {
    {
#line 1187
    rolllist(dirstack, dir);
    }
  }
  {
#line 1188
  tmp = remnode(dirstack, dir);
#line 1188
  new_pwd = (char *)tmp;
  }
#line 1190
  if (func == 11) {
#line 1190
    if (dirstack->list.first) {
      {
#line 1191
      zsfree(new_pwd);
#line 1192
      tmp___0 = getlinknode(dirstack);
#line 1192
      new_pwd = (char *)tmp___0;
      }
    } else {
#line 1190
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 1193
  if (func == 10) {
#line 1193
    if (! opts[13]) {
      {
#line 1194
      tmp___1 = getlinknode(dirstack);
#line 1194
      zsfree((char *)tmp___1);
      }
    }
  }
#line 1196
  if (chasinglinks) {
    {
#line 1197
    s = findpwd(new_pwd);
    }
#line 1198
    if (s) {
      {
#line 1199
      zsfree(new_pwd);
#line 1200
      new_pwd = s;
      }
    }
  }
#line 1203
  if (opts[144]) {
#line 1205
    n = dirstack->list.first;
    {
#line 1205
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1205
      if (! n) {
#line 1205
        goto while_break;
      }
      {
#line 1206
      tmp___3 = strcmp((char const   *)new_pwd, (char const   *)n->dat);
      }
#line 1206
      if (! tmp___3) {
        {
#line 1207
        tmp___2 = remnode(dirstack, n);
#line 1207
        zsfree((char *)tmp___2);
        }
#line 1208
        goto while_break;
      }
#line 1205
      n = n->next;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 1215
  zsfree(oldpwd);
#line 1216
  oldpwd = pwd;
#line 1217
  setjobpwd();
#line 1218
  pwd = new_pwd;
#line 1219
  set_pwd_env();
  }
#line 1221
  if (opts[92]) {
#line 1221
    goto _L___1;
  } else
#line 1221
  if (opts[131]) {
    _L___1: /* CIL Label */ 
#line 1222
    if (func != 10) {
#line 1222
      if (opts[92]) {
#line 1223
        if (! opts[146]) {
#line 1223
          if (! quiet) {
            {
#line 1224
            printdirstack();
            }
          }
        }
      } else {
#line 1222
        goto _L___0;
      }
    } else
    _L___0: /* CIL Label */ 
#line 1225
    if (doprintdir) {
      {
#line 1226
      fprintdir(pwd, stdout);
#line 1227
      putchar('\n');
      }
    }
  }
  {
#line 1232
  fflush(stdout);
#line 1233
  fflush(stderr);
  }
#line 1234
  if (! quiet) {
    {
#line 1235
    callhookfunc((char *)"chpwd", (LinkList )((void *)0), 1, (int *)((void *)0));
    }
  }
  {
#line 1237
  tmp___4 = getiparam((char *)"DIRSTACKSIZE");
#line 1237
  dirstacksize = (int )tmp___4;
  }
#line 1239
  if (dirstacksize > 0) {
    {
#line 1240
    tmp___5 = countlinknodes(dirstack);
    }
#line 1240
    if (dirstacksize < 2) {
#line 1240
      tmp___6 = 2;
    } else {
#line 1240
      tmp___6 = dirstacksize;
    }
#line 1240
    remove___0 = tmp___5 - tmp___6;
    {
#line 1242
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1242
      tmp___8 = remove___0;
#line 1242
      remove___0 --;
#line 1242
      if (! (tmp___8 >= 0)) {
#line 1242
        goto while_break___0;
      }
      {
#line 1243
      tmp___7 = remnode(dirstack, dirstack->list.last);
#line 1243
      zsfree((char *)tmp___7);
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 1245
  return;
}
}
#line 1250 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static void printdirstack(void) 
{ 
  LinkNode node ;

  {
  {
#line 1255
  fprintdir(pwd, stdout);
#line 1256
  node = dirstack->list.first;
  }
  {
#line 1256
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1256
    if (! node) {
#line 1256
      goto while_break;
    }
    {
#line 1257
    putchar(' ');
#line 1258
    fprintdir((char *)node->dat, stdout);
#line 1256
    node = node->next;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1260
  putchar('\n');
  }
#line 1261
  return;
}
}
#line 1270 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int fixdir(char *src ) 
{ 
  char *dest ;
  char *d0 ;
  int chasedots ;
  int tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  struct stat st___0 ;
  char *ptrd ;
  char *ptrs ;
  int tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char tmp___5 ;
  char *tmp___6 ;
  void *__cil_tmp16 ;

  {
#line 1273
  dest = src;
#line 1273
  d0 = dest;
#line 1292
  if ((int )*(src + 0) == 46) {
#line 1292
    if ((int )*(pwd + 0) == 46) {
#line 1292
      if ((int )*(pwd + 1) == 0) {
#line 1292
        if ((int )*(src + 1) == 47) {
#line 1292
          tmp = 1;
        } else
#line 1292
        if ((int )*(src + 1) == 46) {
#line 1292
          if ((int )*(src + 2) == 47) {
#line 1292
            tmp = 1;
          } else {
#line 1292
            tmp = 0;
          }
        } else {
#line 1292
          tmp = 0;
        }
      } else {
#line 1292
        tmp = 0;
      }
    } else {
#line 1292
      tmp = 0;
    }
  } else {
#line 1292
    tmp = 0;
  }
#line 1292
  chasedots = tmp * 2;
  {
#line 1307
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1309
    if ((int )*src == 47) {
#line 1315
      tmp___0 = dest;
#line 1315
      dest ++;
#line 1315
      tmp___1 = src;
#line 1315
      src ++;
#line 1315
      *tmp___0 = *tmp___1;
      {
#line 1316
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 1316
        if (! ((int )*src == 47)) {
#line 1316
          goto while_break___0;
        }
#line 1317
        src ++;
      }
      while_break___0: /* CIL Label */ ;
      }
    }
#line 1321
    if (! *src) {
      {
#line 1322
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1322
        if ((unsigned long )dest > (unsigned long )(d0 + 1)) {
#line 1322
          if (! ((int )*(dest + -1) == 47)) {
#line 1322
            goto while_break___1;
          }
        } else {
#line 1322
          goto while_break___1;
        }
#line 1323
        dest --;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1324
      *dest = (char )'\000';
#line 1325
      return (chasedots);
    }
#line 1327
    if ((int )*(src + 0) == 46) {
#line 1327
      if ((int )*(src + 1) == 46) {
#line 1327
        if ((int )*(src + 2) == 0) {
#line 1327
          goto _L___0;
        } else
#line 1327
        if ((int )*(src + 2) == 47) {
          _L___0: /* CIL Label */ 
#line 1329
          if (opts[29]) {
#line 1330
            chasedots = 1;
          } else
#line 1329
          if (chasedots > 1) {
#line 1330
            chasedots = 1;
          } else {
#line 1333
            if ((unsigned long )dest > (unsigned long )(d0 + 1)) {
              {
#line 1339
              *dest = (char )'\000';
#line 1340
              tmp___2 = stat((char const   */* __restrict  */)d0, (struct stat */* __restrict  */)(& st___0));
              }
#line 1340
              if (tmp___2 < 0) {
#line 1340
                goto _L;
              } else
#line 1340
              if (! ((st___0.st_mode & 61440U) == 16384U)) {
                _L: /* CIL Label */ 
#line 1342
                if ((unsigned long )dest == (unsigned long )src) {
#line 1343
                  *dest = (char )'.';
                }
#line 1344
                ptrs = src;
#line 1344
                ptrd = dest;
                {
#line 1344
                while (1) {
                  while_continue___2: /* CIL Label */ ;
#line 1344
                  if (! *ptrs) {
#line 1344
                    goto while_break___2;
                  }
#line 1345
                  if ((int )*ptrs == -125) {
#line 1345
                    ptrs ++;
#line 1345
                    *ptrd = (char )((int )*ptrs ^ 32);
                  } else {
#line 1345
                    *ptrd = *ptrs;
                  }
#line 1344
                  ptrs ++;
#line 1344
                  ptrd ++;
                }
                while_break___2: /* CIL Label */ ;
                }
#line 1346
                *ptrd = (char )'\000';
#line 1347
                return (1);
              }
#line 1349
              dest --;
              {
#line 1349
              while (1) {
                while_continue___3: /* CIL Label */ ;
#line 1349
                if ((unsigned long )dest > (unsigned long )(d0 + 1)) {
#line 1349
                  if (! ((int )*(dest + -1) != 47)) {
#line 1349
                    goto while_break___3;
                  }
                } else {
#line 1349
                  goto while_break___3;
                }
#line 1349
                dest --;
              }
              while_break___3: /* CIL Label */ ;
              }
#line 1350
              if ((int )*(dest + -1) != 47) {
#line 1351
                dest --;
              }
            }
#line 1353
            src ++;
            {
#line 1354
            while (1) {
              while_continue___4: /* CIL Label */ ;
#line 1354
              src ++;
#line 1354
              if (! ((int )*src == 47)) {
#line 1354
                goto while_break___4;
              }
            }
            while_break___4: /* CIL Label */ ;
            }
#line 1355
            goto __Cont;
          }
        }
      }
    }
#line 1358
    if ((int )*(src + 0) == 46) {
#line 1358
      if ((int )*(src + 1) == 47) {
#line 1358
        goto _L___2;
      } else
#line 1358
      if ((int )*(src + 1) == 0) {
        _L___2: /* CIL Label */ 
        {
#line 1360
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 1360
          src ++;
#line 1360
          if (! ((int )*src == 47)) {
#line 1360
            goto while_break___5;
          }
        }
        while_break___5: /* CIL Label */ ;
        }
      } else {
#line 1358
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      {
#line 1363
      while (1) {
        while_continue___6: /* CIL Label */ ;
#line 1363
        if ((int )*src != 47) {
#line 1363
          if (! ((int )*src != 0)) {
#line 1363
            goto while_break___6;
          }
        } else {
#line 1363
          goto while_break___6;
        }
#line 1364
        tmp___4 = dest;
#line 1364
        dest ++;
#line 1364
        tmp___6 = src;
#line 1364
        src ++;
#line 1364
        tmp___5 = *tmp___6;
#line 1364
        *tmp___4 = tmp___5;
#line 1364
        if ((int )tmp___5 == -125) {
#line 1365
          tmp___3 = src;
#line 1365
          src ++;
#line 1365
          *(dest + -1) = (char )((int )*tmp___3 ^ 32);
        }
      }
      while_break___6: /* CIL Label */ ;
      }
    }
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 1372 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
void printqt(char *str ) 
{ 
  char const   *tmp ;
  char *__cil_tmp3 ;
  char *__cil_tmp4 ;

  {
  {
#line 1376
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1376
    if (! *str) {
#line 1376
      goto while_break;
    }
#line 1377
    if ((int )*str == 39) {
#line 1378
      if (opts[149]) {
#line 1378
        tmp = "\'\'";
      } else {
#line 1378
        tmp = "\'\\\'\'";
      }
      {
#line 1378
      printf((char const   */* __restrict  */)tmp);
      }
    } else {
      {
#line 1380
      putchar((int )*str);
      }
    }
#line 1376
    str ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1381
  return;
}
}
#line 1384 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
void printif(char *str , int c ) 
{ 
  char *__cil_tmp3 ;

  {
#line 1388
  if (str) {
    {
#line 1389
    printf((char const   */* __restrict  */)" -%c ", c);
#line 1390
    quotedzputs((char const   *)str, stdout);
    }
  }
#line 1392
  return;
}
}
#line 1399 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_fc(char *nam , char **argv , Options ops , int func ) 
{ 
  zlong first ;
  zlong last ;
  int retval ;
  char *s ;
  struct asgment *asgf ;
  struct asgment *asgl ;
  Patprog pprog ;
  char *hf ;
  zlong hs ;
  zlong shs ;
  int level ;
  int tmp ;
  char **tmp___0 ;
  char *check ;
  char **tmp___1 ;
  char **tmp___2 ;
  int tmp___3 ;
  struct stat st___0 ;
  int tmp___4 ;
  int *tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  char **tmp___8 ;
  int tmp___9 ;
  sigset_t oset ;
  int tmp___10 ;
  sigset_t oset___0 ;
  int tmp___11 ;
  sigset_t oset___1 ;
  sigset_t oset___2 ;
  Asgment a ;
  void *tmp___12 ;
  LinkNode tmp___13 ;
  int tmp___14 ;
  sigset_t oset___3 ;
  sigset_t oset___4 ;
  sigset_t oset___5 ;
  zlong tmp___15 ;
  zlong tmp___16 ;
  zlong tmp___17 ;
  zlong tmp___18 ;
  sigset_t oset___6 ;
  int tempfd ;
  FILE *out ;
  char *fil ;
  sigset_t oset___7 ;
  int *tmp___19 ;
  sigset_t oset___8 ;
  char *editor ;
  sigset_t oset___9 ;
  int *tmp___20 ;
  int tmp___21 ;
  int tmp___22 ;
  sigset_t oset___10 ;
  int tmp___23 ;
  void *__cil_tmp60 ;
  void *__cil_tmp61 ;
  void *__cil_tmp62 ;
  void *__cil_tmp63 ;
  void *__cil_tmp64 ;
  void *__cil_tmp65 ;
  void *__cil_tmp66 ;
  void *__cil_tmp67 ;
  void *__cil_tmp68 ;
  void *__cil_tmp69 ;
  void *__cil_tmp70 ;
  void *__cil_tmp71 ;
  void *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;
  char *__cil_tmp85 ;
  char *__cil_tmp86 ;
  char *__cil_tmp87 ;
  char *__cil_tmp88 ;
  char *__cil_tmp89 ;
  char *__cil_tmp90 ;
  char *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;
  char *__cil_tmp94 ;
  char *__cil_tmp95 ;
  char *__cil_tmp96 ;
  char *__cil_tmp97 ;

  {
#line 1402
  first = (zlong )-1;
#line 1402
  last = (zlong )-1;
#line 1405
  asgf = (struct asgment *)((void *)0);
#line 1405
  asgl = (struct asgment *)((void *)0);
#line 1406
  pprog = (Patprog )((void *)0);
#line 1415
  if ((int )ops->ind[112] != 0) {
#line 1416
    hf = (char *)"";
#line 1417
    hs = (zlong )30;
#line 1418
    shs = (zlong )0;
#line 1419
    if ((int )ops->ind[97] != 0) {
#line 1419
      tmp = locallevel;
    } else {
#line 1419
      tmp = -1;
    }
#line 1419
    level = tmp;
#line 1420
    if (*argv) {
#line 1421
      tmp___0 = argv;
#line 1421
      argv ++;
#line 1421
      hf = *tmp___0;
#line 1422
      if (*argv) {
        {
#line 1424
        tmp___1 = argv;
#line 1424
        argv ++;
#line 1424
        hs = zstrtol((char const   *)*tmp___1, & check, 10);
        }
#line 1425
        if (*check) {
          {
#line 1426
          zwarnnam("fc", "HISTSIZE must be an integer");
          }
#line 1427
          return (1);
        }
#line 1429
        if (*argv) {
          {
#line 1430
          tmp___2 = argv;
#line 1430
          argv ++;
#line 1430
          shs = zstrtol((char const   *)*tmp___2, & check, 10);
          }
#line 1431
          if (*check) {
            {
#line 1432
            zwarnnam("fc", "SAVEHIST must be an integer");
            }
#line 1433
            return (1);
          }
        } else {
#line 1436
          shs = hs;
        }
#line 1437
        if (*argv) {
          {
#line 1438
          zwarnnam("fc", "too many arguments");
          }
#line 1439
          return (1);
        }
      } else {
#line 1442
        hs = histsiz;
#line 1443
        shs = savehistsiz;
      }
    }
    {
#line 1446
    tmp___3 = pushhiststack(hf, hs, shs, level);
    }
#line 1446
    if (! tmp___3) {
#line 1447
      return (1);
    }
#line 1448
    if (*hf) {
      {
#line 1450
      tmp___4 = stat((char const   */* __restrict  */)hf, (struct stat */* __restrict  */)(& st___0));
      }
#line 1450
      if (tmp___4 >= 0) {
        {
#line 1451
        readhistfile(hf, 1, 32768);
        }
      } else {
        {
#line 1450
        tmp___5 = __errno_location();
        }
#line 1450
        if (*tmp___5 != 2) {
          {
#line 1451
          readhistfile(hf, 1, 32768);
          }
        }
      }
    }
#line 1453
    return (0);
  }
#line 1455
  if ((int )ops->ind[80] != 0) {
#line 1456
    if (*argv) {
      {
#line 1457
      zwarnnam("fc", "too many arguments");
      }
#line 1458
      return (1);
    }
    {
#line 1460
    tmp___6 = saveandpophiststack(-1, 32768);
    }
#line 1460
    if (tmp___6) {
#line 1460
      tmp___7 = 0;
    } else {
#line 1460
      tmp___7 = 1;
    }
#line 1460
    return (tmp___7);
  }
#line 1464
  if (*argv) {
#line 1464
    if ((int )ops->ind[109] != 0) {
      {
#line 1465
      tokenize(*argv);
#line 1466
      tmp___8 = argv;
#line 1466
      argv ++;
#line 1466
      pprog = patcompile(*tmp___8, 0, (char **)((void *)0));
      }
#line 1466
      if (! pprog) {
        {
#line 1467
        zwarnnam((char const   *)nam, "invalid match pattern");
        }
#line 1468
        return (1);
      }
    }
  }
#line 1471
  queueing_enabled ++;
#line 1472
  if ((int )ops->ind[82] != 0) {
#line 1474
    if ((int )ops->ind[73] != 0) {
#line 1474
      tmp___9 = 2;
    } else {
#line 1474
      tmp___9 = 0;
    }
    {
#line 1474
    readhistfile(*argv, 1, tmp___9);
    }
    {
#line 1475
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1475
      queueing_enabled --;
#line 1475
      if (! queueing_enabled) {
        {
#line 1475
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 1475
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 1475
            if (! (queue_front != queue_rear)) {
#line 1475
              goto while_break___1;
            }
            {
#line 1475
            queue_front = (queue_front + 1) % 128;
#line 1475
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 1475
            zhandler(signal_queue[queue_front]);
#line 1475
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 1475
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 1475
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 1476
    return (0);
  }
#line 1478
  if ((int )ops->ind[87] != 0) {
#line 1480
    if ((int )ops->ind[73] != 0) {
#line 1480
      tmp___10 = 2;
    } else {
#line 1480
      tmp___10 = 0;
    }
    {
#line 1480
    savehistfile(*argv, 1, tmp___10);
    }
    {
#line 1481
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1481
      queueing_enabled --;
#line 1481
      if (! queueing_enabled) {
        {
#line 1481
        while (1) {
          while_continue___3: /* CIL Label */ ;
          {
#line 1481
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 1481
            if (! (queue_front != queue_rear)) {
#line 1481
              goto while_break___4;
            }
            {
#line 1481
            queue_front = (queue_front + 1) % 128;
#line 1481
            oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 1481
            zhandler(signal_queue[queue_front]);
#line 1481
            signal_setmask(oset___0);
            }
          }
          while_break___4: /* CIL Label */ ;
          }
#line 1481
          goto while_break___3;
        }
        while_break___3: /* CIL Label */ ;
        }
      }
#line 1481
      goto while_break___2;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 1482
    return (0);
  }
#line 1484
  if ((int )ops->ind[65] != 0) {
#line 1486
    if ((int )ops->ind[73] != 0) {
#line 1486
      tmp___11 = 2;
    } else {
#line 1486
      tmp___11 = 0;
    }
    {
#line 1486
    savehistfile(*argv, 1, 1 | tmp___11);
    }
    {
#line 1488
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 1488
      queueing_enabled --;
#line 1488
      if (! queueing_enabled) {
        {
#line 1488
        while (1) {
          while_continue___6: /* CIL Label */ ;
          {
#line 1488
          while (1) {
            while_continue___7: /* CIL Label */ ;
#line 1488
            if (! (queue_front != queue_rear)) {
#line 1488
              goto while_break___7;
            }
            {
#line 1488
            queue_front = (queue_front + 1) % 128;
#line 1488
            oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 1488
            zhandler(signal_queue[queue_front]);
#line 1488
            signal_setmask(oset___1);
            }
          }
          while_break___7: /* CIL Label */ ;
          }
#line 1488
          goto while_break___6;
        }
        while_break___6: /* CIL Label */ ;
        }
      }
#line 1488
      goto while_break___5;
    }
    while_break___5: /* CIL Label */ ;
    }
#line 1489
    return (0);
  }
#line 1492
  if (zleactive) {
    {
#line 1493
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 1493
      queueing_enabled --;
#line 1493
      if (! queueing_enabled) {
        {
#line 1493
        while (1) {
          while_continue___9: /* CIL Label */ ;
          {
#line 1493
          while (1) {
            while_continue___10: /* CIL Label */ ;
#line 1493
            if (! (queue_front != queue_rear)) {
#line 1493
              goto while_break___10;
            }
            {
#line 1493
            queue_front = (queue_front + 1) % 128;
#line 1493
            oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 1493
            zhandler(signal_queue[queue_front]);
#line 1493
            signal_setmask(oset___2);
            }
          }
          while_break___10: /* CIL Label */ ;
          }
#line 1493
          goto while_break___9;
        }
        while_break___9: /* CIL Label */ ;
        }
      }
#line 1493
      goto while_break___8;
    }
    while_break___8: /* CIL Label */ ;
    }
    {
#line 1494
    zwarnnam((char const   *)nam, "no interactive history within ZLE");
    }
#line 1495
    return (1);
  }
  {
#line 1499
  while (1) {
    while_continue___11: /* CIL Label */ ;
#line 1499
    if (*argv) {
      {
#line 1499
      tmp___14 = equalsplit(*argv, & s);
      }
#line 1499
      if (! tmp___14) {
#line 1499
        goto while_break___11;
      }
    } else {
#line 1499
      goto while_break___11;
    }
    {
#line 1500
    tmp___12 = zhalloc(sizeof(*a));
#line 1500
    a = (Asgment )tmp___12;
    }
#line 1502
    if (! *(*argv)) {
      {
#line 1503
      zwarnnam((char const   *)nam, "invalid replacement pattern: =%s", s);
      }
#line 1504
      return (1);
    }
#line 1506
    if (! asgf) {
#line 1507
      asgl = a;
#line 1507
      asgf = asgl;
    } else {
#line 1509
      asgl->node.next = & a->node;
#line 1510
      asgl = a;
    }
#line 1512
    a->name = *argv;
#line 1513
    a->is_array = 0;
#line 1514
    a->value.scalar = s;
#line 1515
    tmp___13 = (LinkNode )((void *)0);
#line 1515
    a->node.prev = tmp___13;
#line 1515
    a->node.next = tmp___13;
#line 1516
    argv ++;
  }
  while_break___11: /* CIL Label */ ;
  }
#line 1519
  if (*argv) {
    {
#line 1520
    first = fcgetcomm(*argv);
    }
#line 1521
    if (first == -1L) {
      {
#line 1522
      while (1) {
        while_continue___12: /* CIL Label */ ;
#line 1522
        queueing_enabled --;
#line 1522
        if (! queueing_enabled) {
          {
#line 1522
          while (1) {
            while_continue___13: /* CIL Label */ ;
            {
#line 1522
            while (1) {
              while_continue___14: /* CIL Label */ ;
#line 1522
              if (! (queue_front != queue_rear)) {
#line 1522
                goto while_break___14;
              }
              {
#line 1522
              queue_front = (queue_front + 1) % 128;
#line 1522
              oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 1522
              zhandler(signal_queue[queue_front]);
#line 1522
              signal_setmask(oset___3);
              }
            }
            while_break___14: /* CIL Label */ ;
            }
#line 1522
            goto while_break___13;
          }
          while_break___13: /* CIL Label */ ;
          }
        }
#line 1522
        goto while_break___12;
      }
      while_break___12: /* CIL Label */ ;
      }
#line 1523
      return (1);
    }
#line 1525
    argv ++;
  }
#line 1528
  if (*argv) {
    {
#line 1529
    last = fcgetcomm(*argv);
    }
#line 1530
    if (last == -1L) {
      {
#line 1531
      while (1) {
        while_continue___15: /* CIL Label */ ;
#line 1531
        queueing_enabled --;
#line 1531
        if (! queueing_enabled) {
          {
#line 1531
          while (1) {
            while_continue___16: /* CIL Label */ ;
            {
#line 1531
            while (1) {
              while_continue___17: /* CIL Label */ ;
#line 1531
              if (! (queue_front != queue_rear)) {
#line 1531
                goto while_break___17;
              }
              {
#line 1531
              queue_front = (queue_front + 1) % 128;
#line 1531
              oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 1531
              zhandler(signal_queue[queue_front]);
#line 1531
              signal_setmask(oset___4);
              }
            }
            while_break___17: /* CIL Label */ ;
            }
#line 1531
            goto while_break___16;
          }
          while_break___16: /* CIL Label */ ;
          }
        }
#line 1531
        goto while_break___15;
      }
      while_break___15: /* CIL Label */ ;
      }
#line 1532
      return (1);
    }
#line 1534
    argv ++;
  }
#line 1538
  if (*argv) {
    {
#line 1539
    while (1) {
      while_continue___18: /* CIL Label */ ;
#line 1539
      queueing_enabled --;
#line 1539
      if (! queueing_enabled) {
        {
#line 1539
        while (1) {
          while_continue___19: /* CIL Label */ ;
          {
#line 1539
          while (1) {
            while_continue___20: /* CIL Label */ ;
#line 1539
            if (! (queue_front != queue_rear)) {
#line 1539
              goto while_break___20;
            }
            {
#line 1539
            queue_front = (queue_front + 1) % 128;
#line 1539
            oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 1539
            zhandler(signal_queue[queue_front]);
#line 1539
            signal_setmask(oset___5);
            }
          }
          while_break___20: /* CIL Label */ ;
          }
#line 1539
          goto while_break___19;
        }
        while_break___19: /* CIL Label */ ;
        }
      }
#line 1539
      goto while_break___18;
    }
    while_break___18: /* CIL Label */ ;
    }
    {
#line 1540
    zwarnnam("fc", "too many arguments");
    }
#line 1541
    return (1);
  }
#line 1544
  if (last == -1L) {
#line 1545
    if ((int )ops->ind[108] != 0) {
#line 1545
      if (first < curhist) {
#line 1557
        if (curline.histnum == curhist) {
          {
#line 1557
          tmp___15 = addhistnum(curhist, -1, 0);
#line 1557
          last = tmp___15;
          }
        } else {
#line 1557
          last = curhist;
        }
#line 1559
        if (hist_ring) {
#line 1559
          tmp___16 = (hist_ring->down)->histnum;
        } else {
#line 1559
          tmp___16 = curhist;
        }
#line 1559
        if (last < tmp___16) {
#line 1560
          if (hist_ring) {
#line 1560
            last = (hist_ring->down)->histnum;
          } else {
#line 1560
            last = curhist;
          }
        }
      } else {
#line 1563
        last = first;
      }
    } else {
#line 1563
      last = first;
    }
  }
#line 1565
  if (first == -1L) {
#line 1574
    if ((int )ops->ind[108] != 0) {
      {
#line 1574
      tmp___17 = addhistnum(curhist, -16, 0);
#line 1574
      first = tmp___17;
      }
    } else {
      {
#line 1574
      tmp___18 = addhistnum(curline.histnum, -1, 0);
#line 1574
      first = tmp___18;
      }
    }
#line 1576
    if (first < 1L) {
#line 1577
      first = (zlong )1;
    }
#line 1578
    if (last < first) {
#line 1579
      last = first;
    }
  }
#line 1581
  if ((int )ops->ind[108] != 0) {
    {
#line 1583
    retval = fclist(stdout, ops, first, last, asgf, pprog, 0);
    }
    {
#line 1584
    while (1) {
      while_continue___21: /* CIL Label */ ;
#line 1584
      queueing_enabled --;
#line 1584
      if (! queueing_enabled) {
        {
#line 1584
        while (1) {
          while_continue___22: /* CIL Label */ ;
          {
#line 1584
          while (1) {
            while_continue___23: /* CIL Label */ ;
#line 1584
            if (! (queue_front != queue_rear)) {
#line 1584
              goto while_break___23;
            }
            {
#line 1584
            queue_front = (queue_front + 1) % 128;
#line 1584
            oset___6 = signal_setmask(signal_mask_queue[queue_front]);
#line 1584
            zhandler(signal_queue[queue_front]);
#line 1584
            signal_setmask(oset___6);
            }
          }
          while_break___23: /* CIL Label */ ;
          }
#line 1584
          goto while_break___22;
        }
        while_break___22: /* CIL Label */ ;
        }
      }
#line 1584
      goto while_break___21;
    }
    while_break___21: /* CIL Label */ ;
    }
  } else {
    {
#line 1592
    retval = 1;
#line 1593
    tempfd = gettempfile((char const   *)((void *)0), 1, & fil);
    }
#line 1593
    if (tempfd < 0) {
#line 1593
      goto _L;
    } else {
      {
#line 1593
      out = fdopen(tempfd, "w");
      }
#line 1593
      if ((unsigned long )out == (unsigned long )((void *)0)) {
        _L: /* CIL Label */ 
        {
#line 1595
        while (1) {
          while_continue___24: /* CIL Label */ ;
#line 1595
          queueing_enabled --;
#line 1595
          if (! queueing_enabled) {
            {
#line 1595
            while (1) {
              while_continue___25: /* CIL Label */ ;
              {
#line 1595
              while (1) {
                while_continue___26: /* CIL Label */ ;
#line 1595
                if (! (queue_front != queue_rear)) {
#line 1595
                  goto while_break___26;
                }
                {
#line 1595
                queue_front = (queue_front + 1) % 128;
#line 1595
                oset___7 = signal_setmask(signal_mask_queue[queue_front]);
#line 1595
                zhandler(signal_queue[queue_front]);
#line 1595
                signal_setmask(oset___7);
                }
              }
              while_break___26: /* CIL Label */ ;
              }
#line 1595
              goto while_break___25;
            }
            while_break___25: /* CIL Label */ ;
            }
          }
#line 1595
          goto while_break___24;
        }
        while_break___24: /* CIL Label */ ;
        }
        {
#line 1596
        tmp___19 = __errno_location();
#line 1596
        zwarnnam("fc", "can\'t open temp file: %e", *tmp___19);
        }
      } else {
#line 1603
        if (last >= curhist) {
#line 1604
          last = curhist - 1L;
#line 1605
          if (first > last) {
            {
#line 1606
            while (1) {
              while_continue___27: /* CIL Label */ ;
#line 1606
              queueing_enabled --;
#line 1606
              if (! queueing_enabled) {
                {
#line 1606
                while (1) {
                  while_continue___28: /* CIL Label */ ;
                  {
#line 1606
                  while (1) {
                    while_continue___29: /* CIL Label */ ;
#line 1606
                    if (! (queue_front != queue_rear)) {
#line 1606
                      goto while_break___29;
                    }
                    {
#line 1606
                    queue_front = (queue_front + 1) % 128;
#line 1606
                    oset___8 = signal_setmask(signal_mask_queue[queue_front]);
#line 1606
                    zhandler(signal_queue[queue_front]);
#line 1606
                    signal_setmask(oset___8);
                    }
                  }
                  while_break___29: /* CIL Label */ ;
                  }
#line 1606
                  goto while_break___28;
                }
                while_break___28: /* CIL Label */ ;
                }
              }
#line 1606
              goto while_break___27;
            }
            while_break___27: /* CIL Label */ ;
            }
            {
#line 1607
            zwarnnam("fc", "current history line would recurse endlessly, aborted");
#line 1609
            fclose(out);
#line 1610
            unlink((char const   *)fil);
            }
#line 1611
            return (1);
          }
        }
        {
#line 1614
        ops->ind['n'] = (unsigned char)1;
#line 1615
        tmp___23 = fclist(out, ops, first, last, asgf, pprog, 1);
        }
#line 1615
        if (tmp___23) {
          {
#line 1639
          while (1) {
            while_continue___30: /* CIL Label */ ;
#line 1639
            queueing_enabled --;
#line 1639
            if (! queueing_enabled) {
              {
#line 1639
              while (1) {
                while_continue___31: /* CIL Label */ ;
                {
#line 1639
                while (1) {
                  while_continue___32: /* CIL Label */ ;
#line 1639
                  if (! (queue_front != queue_rear)) {
#line 1639
                    goto while_break___32;
                  }
                  {
#line 1639
                  queue_front = (queue_front + 1) % 128;
#line 1639
                  oset___10 = signal_setmask(signal_mask_queue[queue_front]);
#line 1639
                  zhandler(signal_queue[queue_front]);
#line 1639
                  signal_setmask(oset___10);
                  }
                }
                while_break___32: /* CIL Label */ ;
                }
#line 1639
                goto while_break___31;
              }
              while_break___31: /* CIL Label */ ;
              }
            }
#line 1639
            goto while_break___30;
          }
          while_break___30: /* CIL Label */ ;
          }
        } else {
#line 1618
          if (func == 17) {
#line 1619
            editor = (char *)"-";
          } else
#line 1620
          if ((int )ops->ind[101] > 3) {
#line 1621
            editor = *(ops->args + (((int )ops->ind[101] >> 2) - 1));
          } else {
            {
#line 1623
            editor = getsparam((char *)"FCEDIT");
            }
          }
#line 1624
          if (! editor) {
            {
#line 1625
            editor = getsparam((char *)"EDITOR");
            }
          }
#line 1626
          if (! editor) {
#line 1627
            editor = (char *)"vi";
          }
          {
#line 1629
          while (1) {
            while_continue___33: /* CIL Label */ ;
#line 1629
            queueing_enabled --;
#line 1629
            if (! queueing_enabled) {
              {
#line 1629
              while (1) {
                while_continue___34: /* CIL Label */ ;
                {
#line 1629
                while (1) {
                  while_continue___35: /* CIL Label */ ;
#line 1629
                  if (! (queue_front != queue_rear)) {
#line 1629
                    goto while_break___35;
                  }
                  {
#line 1629
                  queue_front = (queue_front + 1) % 128;
#line 1629
                  oset___9 = signal_setmask(signal_mask_queue[queue_front]);
#line 1629
                  zhandler(signal_queue[queue_front]);
#line 1629
                  signal_setmask(oset___9);
                  }
                }
                while_break___35: /* CIL Label */ ;
                }
#line 1629
                goto while_break___34;
              }
              while_break___34: /* CIL Label */ ;
              }
            }
#line 1629
            goto while_break___33;
          }
          while_break___33: /* CIL Label */ ;
          }
          {
#line 1630
          tmp___22 = fcedit(editor, fil);
          }
#line 1630
          if (tmp___22) {
            {
#line 1631
            tmp___21 = stuff(fil);
            }
#line 1631
            if (tmp___21) {
              {
#line 1632
              tmp___20 = __errno_location();
#line 1632
              zwarnnam("fc", "%e: %s", *tmp___20, fil);
              }
            } else {
              {
#line 1634
              loop(0, 1);
#line 1635
              retval = (int )lastval;
              }
            }
          }
        }
      }
    }
    {
#line 1641
    unlink((char const   *)fil);
    }
  }
#line 1643
  return (retval);
}
}
#line 1655 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static zlong fcgetcomm(char *s ) 
{ 
  zlong cmd ;
  int tmp ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;

  {
  {
#line 1662
  tmp = atoi((char const   *)s);
#line 1662
  cmd = (zlong )tmp;
  }
#line 1662
  if (cmd != 0L) {
#line 1662
    goto _L;
  } else
#line 1662
  if ((int )*s == 48) {
    _L: /* CIL Label */ 
#line 1663
    if (cmd < 0L) {
      {
#line 1664
      cmd = addhistnum(curline.histnum, (int )cmd, 16);
      }
    }
#line 1665
    if (cmd < 0L) {
#line 1666
      cmd = (zlong )0;
    }
#line 1667
    return (cmd);
  }
  {
#line 1670
  cmd = hcomsearch(s);
  }
#line 1671
  if (cmd == -1L) {
    {
#line 1672
    zwarnnam("fc", "event not found: %s", s);
    }
  }
#line 1673
  return (cmd);
}
}
#line 1680 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int fcsubs(char **sp___0 , struct asgment *sub ) 
{ 
  char *oldstr ;
  char *newstr ;
  char *oldpos___0 ;
  char *newpos ;
  char *newmem ;
  char *s ;
  int subbed ;
  size_t tmp ;
  size_t tmp___0 ;
  size_t tmp___1 ;
  void *tmp___2 ;
  size_t tmp___3 ;
  size_t tmp___4 ;
  char *tmp___5 ;

  {
#line 1683
  s = *sp___0;
#line 1684
  subbed = 0;
  {
#line 1687
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1687
    if (! sub) {
#line 1687
      goto while_break;
    }
#line 1688
    oldstr = sub->name;
#line 1689
    newstr = sub->value.scalar;
#line 1690
    sub = (Asgment )sub->node.next;
#line 1691
    oldpos___0 = s;
    {
#line 1693
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 1693
      tmp___5 = strstr((char const   *)oldpos___0, (char const   *)oldstr);
#line 1693
      newpos = tmp___5;
      }
#line 1693
      if (! newpos) {
#line 1693
        goto while_break___0;
      }
      {
#line 1694
      tmp = strlen((char const   *)newstr);
#line 1694
      tmp___0 = strlen((char const   *)oldstr);
#line 1694
      tmp___1 = strlen((char const   *)(newpos + tmp___0));
#line 1694
      tmp___2 = zhalloc(((size_t )(1L + (newpos - s)) + tmp) + tmp___1);
#line 1694
      newmem = (char *)tmp___2;
#line 1696
      ztrncpy(newmem, s, (int )(newpos - s));
#line 1697
      strcat((char */* __restrict  */)newmem, (char const   */* __restrict  */)newstr);
#line 1698
      tmp___3 = strlen((char const   *)newmem);
#line 1698
      oldpos___0 = newmem + tmp___3;
#line 1699
      tmp___4 = strlen((char const   *)oldstr);
#line 1699
      strcat((char */* __restrict  */)newmem, (char const   */* __restrict  */)(newpos + tmp___4));
#line 1700
      s = newmem;
#line 1701
      subbed = 1;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1704
  *sp___0 = s;
#line 1705
  return (subbed);
}
}
#line 1722 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int fclist(FILE *f , Options ops , zlong first , zlong last , struct asgment *subs ,
                  Patprog pprog , int is_command ) 
{ 
  int fclistdone ;
  int xflags ;
  zlong tmp ;
  char *s ;
  char *tdfmt ;
  char *timebuf ;
  Histent ent ;
  int tmp___0 ;
  char buf___7[(int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3] ;
  int tmp___1 ;
  void *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  char buf___8[(int )(((sizeof(zlong ) * 8UL - 1UL) * 30103UL) / 100000UL) + 3] ;
  int tmp___5 ;
  struct tm *ltm ;
  int len ;
  long diff ;
  int len___0 ;
  int tmp___6 ;
  void *__cil_tmp28 ;
  void *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;
  char *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;

  {
#line 1726
  fclistdone = 0;
#line 1726
  xflags = 0;
#line 1732
  if ((int )ops->ind[114] != 0) {
#line 1733
    tmp = last;
#line 1734
    last = first;
#line 1735
    first = tmp;
  }
#line 1737
  if (is_command) {
#line 1737
    if (first > last) {
      {
#line 1738
      zwarnnam("fc", "history events can\'t be executed backwards, aborted");
      }
#line 1739
      if ((unsigned long )f != (unsigned long )stdout) {
        {
#line 1740
        fclose(f);
        }
      }
#line 1741
      return (1);
    }
  }
#line 1744
  if (first < last) {
#line 1744
    tmp___0 = 1;
  } else {
#line 1744
    tmp___0 = -1;
  }
  {
#line 1744
  ent = gethistent(first, tmp___0);
  }
#line 1745
  if (! ent) {
#line 1745
    goto _L;
  } else {
#line 1745
    if (first < last) {
#line 1745
      tmp___1 = ent->histnum > last;
    } else {
#line 1745
      tmp___1 = ent->histnum < last;
    }
#line 1745
    if (tmp___1) {
      _L: /* CIL Label */ 
#line 1746
      if (first == last) {
        {
#line 1748
        convbase(buf___7, first, 10);
#line 1749
        zwarnnam("fc", "no such event: %s", buf___7);
        }
      } else {
        {
#line 1751
        zwarnnam("fc", "no events in that range");
        }
      }
#line 1752
      if ((unsigned long )f != (unsigned long )stdout) {
        {
#line 1753
        fclose(f);
        }
      }
#line 1754
      return (1);
    }
  }
#line 1757
  if ((int )ops->ind[100] != 0) {
#line 1757
    goto _L___0;
  } else
#line 1757
  if ((int )ops->ind[102] != 0) {
#line 1757
    goto _L___0;
  } else
#line 1757
  if ((int )ops->ind[69] != 0) {
#line 1757
    goto _L___0;
  } else
#line 1757
  if ((int )ops->ind[105] != 0) {
#line 1757
    goto _L___0;
  } else
#line 1757
  if ((int )ops->ind[116] != 0) {
    _L___0: /* CIL Label */ 
#line 1760
    if ((int )ops->ind[116] != 0) {
#line 1761
      tdfmt = *(ops->args + (((int )ops->ind[116] >> 2) - 1));
    } else
#line 1762
    if ((int )ops->ind[105] != 0) {
#line 1763
      tdfmt = (char *)"%Y-%m-%d %H:%M";
    } else
#line 1764
    if ((int )ops->ind[69] != 0) {
#line 1765
      tdfmt = (char *)"%f.%-m.%Y %H:%M";
    } else
#line 1766
    if ((int )ops->ind[102] != 0) {
#line 1767
      tdfmt = (char *)"%-m/%f/%Y %H:%M";
    } else {
#line 1769
      tdfmt = (char *)"%H:%M";
    }
    {
#line 1771
    tmp___2 = zhalloc((size_t )256);
#line 1771
    timebuf = (char *)tmp___2;
    }
  } else {
#line 1773
    timebuf = (char *)((void *)0);
#line 1773
    tdfmt = timebuf;
  }
#line 1777
  if ((int )ops->ind[76] != 0) {
#line 1778
    xflags |= 16;
  }
#line 1780
  if ((int )ops->ind[73] != 0) {
#line 1781
    xflags |= 4;
  }
  {
#line 1784
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1785
    if (ent->node.flags & xflags) {
#line 1786
      s = (char *)((void *)0);
    } else {
      {
#line 1788
      s = dupstring((char const   *)ent->node.nam);
      }
    }
#line 1790
    if (s) {
#line 1790
      if (! pprog) {
#line 1790
        goto _L___1;
      } else {
        {
#line 1790
        tmp___6 = pattry(pprog, s);
        }
#line 1790
        if (tmp___6) {
          _L___1: /* CIL Label */ 
#line 1792
          if (subs) {
            {
#line 1792
            tmp___3 = fcsubs(& s, subs);
#line 1792
            tmp___4 = tmp___3;
            }
          } else {
#line 1792
            tmp___4 = 1;
          }
#line 1792
          fclistdone |= tmp___4;
#line 1795
          if (! ((int )ops->ind[110] != 0)) {
            {
#line 1797
            convbase(buf___8, ent->histnum, 10);
            }
#line 1798
            if (ent->node.flags & 16) {
#line 1798
              tmp___5 = '*';
            } else {
#line 1798
              tmp___5 = ' ';
            }
            {
#line 1798
            fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"%5s%c ",
                    buf___8, tmp___5);
            }
          }
#line 1803
          if ((unsigned long )tdfmt != (unsigned long )((void *)0)) {
            {
#line 1806
            ltm = localtime((time_t const   *)(& ent->stim));
#line 1807
            len = ztrftime(timebuf, 256, tdfmt, ltm, 0L);
            }
#line 1807
            if (len >= 0) {
              {
#line 1808
              fwrite((void const   */* __restrict  */)timebuf, (size_t )1, (size_t )len,
                     (FILE */* __restrict  */)f);
#line 1809
              fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  ");
              }
            }
          }
#line 1813
          if ((int )ops->ind[68] != 0) {
#line 1815
            if (ent->ftim) {
#line 1815
              diff = ent->ftim - ent->stim;
            } else {
#line 1815
              diff = 0L;
            }
            {
#line 1816
            fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"%ld:%02ld  ",
                    diff / 60L, diff % 60L);
            }
          }
#line 1820
          if ((unsigned long )f == (unsigned long )stdout) {
            {
#line 1821
            mb_niceformat((char const   *)s, f, (char **)((void *)0), 0);
#line 1822
            _IO_putc('\n', f);
            }
          } else {
            {
#line 1825
            unmetafy(s, & len___0);
#line 1826
            fwrite((void const   */* __restrict  */)s, (size_t )1, (size_t )len___0,
                   (FILE */* __restrict  */)f);
#line 1827
            _IO_putc('\n', f);
            }
          }
        }
      }
    }
#line 1831
    if (first < last) {
      {
#line 1832
      ent = down_histent(ent);
      }
#line 1832
      if (ent) {
#line 1832
        if (ent->histnum > last) {
#line 1833
          goto while_break;
        }
      } else {
#line 1833
        goto while_break;
      }
    } else {
      {
#line 1836
      ent = up_histent(ent);
      }
#line 1836
      if (ent) {
#line 1836
        if (ent->histnum < last) {
#line 1837
          goto while_break;
        }
      } else {
#line 1837
        goto while_break;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1842
  if ((unsigned long )f != (unsigned long )stdout) {
    {
#line 1843
    fclose(f);
    }
  }
#line 1844
  if (! fclistdone) {
#line 1845
    if (subs) {
      {
#line 1846
      zwarnnam("fc", "no substitutions performed");
      }
    } else
#line 1847
    if (xflags) {
      {
#line 1848
      zwarnnam("fc", "no matching events found");
      }
    } else
#line 1847
    if (pprog) {
      {
#line 1848
      zwarnnam("fc", "no matching events found");
      }
    }
#line 1849
    return (1);
  }
#line 1851
  return (0);
}
}
#line 1857 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int fcedit(char *ename , char *fn___0 ) 
{ 
  char *s ;
  int tmp ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;

  {
  {
#line 1862
  tmp = strcmp((char const   *)ename, "-");
  }
#line 1862
  if (! tmp) {
#line 1863
    return (1);
  }
  {
#line 1865
  s = tricat((char const   *)ename, " ", (char const   *)fn___0);
#line 1866
  execstring(s, 1, 0, (char *)"fc");
#line 1867
  zsfree(s);
  }
#line 1869
  return (! lastval);
}
}
#line 1884 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static struct asgment asg  ;
#line 1880 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static Asgment getasg(char ***argvp , LinkList assigns ) 
{ 
  char *s ;
  Asgment asgp ;
  char *__cil_tmp5 ;

  {
#line 1883
  s = *(*argvp);
#line 1887
  if (! s) {
#line 1888
    if (assigns) {
#line 1889
      asgp = (Asgment )assigns->list.first;
#line 1890
      if (! asgp) {
#line 1891
        return ((Asgment )((void *)0));
      }
      {
#line 1892
      uremnode(assigns, & asgp->node);
      }
#line 1893
      return (asgp);
    }
#line 1895
    return ((Asgment )((void *)0));
  }
#line 1899
  if ((int )*s == 61) {
    {
#line 1900
    zerr("bad assignment");
    }
#line 1901
    return ((Asgment )((void *)0));
  }
#line 1903
  asg.name = s;
#line 1904
  asg.is_array = 0;
  {
#line 1907
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1907
    if (*s) {
#line 1907
      if (! ((int )*s != 61)) {
#line 1907
        goto while_break;
      }
    } else {
#line 1907
      goto while_break;
    }
#line 1907
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1910
  if (*s) {
#line 1911
    *s = (char )'\000';
#line 1912
    asg.value.scalar = s + 1;
  } else {
#line 1915
    asg.value.scalar = (char *)((void *)0);
  }
#line 1917
  (*argvp) ++;
#line 1918
  return (& asg);
}
}
#line 1928 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static struct gsu_scalar  const  tiedarr_gsu  =    {& tiedarrgetfn, & tiedarrsetfn, & tiedarrunsetfn};
#line 1933 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int typeset_setbase(char const   *name , Param pm , Options ops , int on ,
                           int always ) 
{ 
  char *arg ;
  char *eptr ;
  int base ;
  zlong tmp ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;

  {
#line 1936
  arg = (char *)((void *)0);
#line 1938
  if (on & (1 << 1)) {
#line 1938
    if ((int )ops->ind[105] > 3) {
#line 1939
      arg = *(ops->args + (((int )ops->ind[105] >> 2) - 1));
    } else {
#line 1938
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 1940
  if (on & (1 << 2)) {
#line 1940
    if ((int )ops->ind[69] > 3) {
#line 1941
      arg = *(ops->args + (((int )ops->ind[69] >> 2) - 1));
    } else {
#line 1940
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 1942
  if (on & (1 << 3)) {
#line 1942
    if ((int )ops->ind[70] > 3) {
#line 1943
      arg = *(ops->args + (((int )ops->ind[70] >> 2) - 1));
    }
  }
#line 1945
  if (arg) {
    {
#line 1947
    tmp = zstrtol((char const   *)arg, & eptr, 10);
#line 1947
    base = (int )tmp;
    }
#line 1948
    if (*eptr) {
#line 1949
      if (on & (1 << 1)) {
        {
#line 1950
        zwarnnam(name, "bad base value: %s", arg);
        }
      } else {
        {
#line 1952
        zwarnnam(name, "bad precision value: %s", arg);
        }
      }
#line 1953
      return (1);
    }
#line 1955
    if (on & (1 << 1)) {
#line 1955
      if (base < 2) {
        {
#line 1956
        zwarnnam(name, "invalid base (must be 2 to 36 inclusive): %d", base);
        }
#line 1958
        return (1);
      } else
#line 1955
      if (base > 36) {
        {
#line 1956
        zwarnnam(name, "invalid base (must be 2 to 36 inclusive): %d", base);
        }
#line 1958
        return (1);
      }
    }
#line 1960
    pm->base = base;
  } else
#line 1961
  if (always) {
#line 1962
    pm->base = 0;
  }
#line 1964
  return (0);
}
}
#line 1969 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int typeset_setwidth(char const   *name , Param pm , Options ops , int on ,
                            int always ) 
{ 
  char *arg ;
  char *eptr ;
  zlong tmp ;
  char *__cil_tmp9 ;

  {
#line 1972
  arg = (char *)((void *)0);
#line 1974
  if (on & (1 << 5)) {
#line 1974
    if ((int )ops->ind[76] > 3) {
#line 1975
      arg = *(ops->args + (((int )ops->ind[76] >> 2) - 1));
    } else {
#line 1974
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 1976
  if (on & (1 << 6)) {
#line 1976
    if ((int )ops->ind[82] > 3) {
#line 1977
      arg = *(ops->args + (((int )ops->ind[82] >> 2) - 1));
    } else {
#line 1976
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 1978
  if (on & (1 << 7)) {
#line 1978
    if ((int )ops->ind[90] > 3) {
#line 1979
      arg = *(ops->args + (((int )ops->ind[90] >> 2) - 1));
    }
  }
#line 1981
  if (arg) {
    {
#line 1983
    tmp = zstrtol((char const   *)arg, & eptr, 10);
#line 1983
    pm->width = (int )tmp;
    }
#line 1984
    if (*eptr) {
      {
#line 1985
      zwarnnam(name, "bad width value: %s", arg);
      }
#line 1986
      return (1);
    }
  } else
#line 1988
  if (always) {
#line 1989
    pm->width = 0;
  }
#line 1991
  return (0);
}
}
#line 1997 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static Param typeset_single(char *cname , char *pname , Param pm , int func  __attribute__((__unused__)) ,
                            int on , int off , int roff , Asgment asg___0 , Param altpm ,
                            Options ops , int joinchar ) 
{ 
  int usepm ;
  int tc ;
  int keeplocal ;
  int newspecial ;
  int readonly ;
  int dont_set ;
  char *subscript ;
  int tmp ;
  int chflags ;
  int tmp___0 ;
  int err ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  Param apm ;
  char **x ;
  void *tmp___8 ;
  HashNode tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  char *tmp___12 ;
  char *tmp___13 ;
  char **tmp___14 ;
  char **tmp___15 ;
  char **tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  char *tmp___19 ;
  Param tpm ;
  Param pm2 ;
  void *tmp___20 ;
  HashNode tmp___21 ;
  int tmp___22 ;
  int tmp___23 ;
  HashNode tmp___24 ;
  HashNode tmp___25 ;
  HashNode tmp___26 ;
  char const   *tmp___27 ;
  char *tmp___28 ;
  char **tmp___29 ;
  char **tmp___30 ;
  char **tmp___31 ;
  int tmp___32 ;
  int tmp___33 ;
  int tmp___34 ;
  HashNode tmp___35 ;
  int tmp___36 ;
  struct tieddata *tdp ;
  void *tmp___37 ;
  Param ipm ;
  char **arrayval ;
  char *tmp___38 ;
  char *tmp___39 ;
  char *tmp___40 ;
  char **tmp___41 ;
  HashTable tmp___42 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;
  char *__cil_tmp85 ;
  char *__cil_tmp86 ;
  char *__cil_tmp87 ;
  char *__cil_tmp88 ;
  char *__cil_tmp89 ;
  char *__cil_tmp90 ;
  char *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;
  char *__cil_tmp94 ;

  {
#line 2002
  keeplocal = 0;
#line 2002
  newspecial = 0;
#line 2002
  dont_set = 0;
#line 2015
  if (pm) {
#line 2015
    if (! (pm->node.flags & (1 << 25))) {
#line 2015
      tmp = 1;
    } else
#line 2015
    if (opts[130]) {
#line 2015
      if (pm->node.flags & ((1 << 10) | (1 << 12))) {
#line 2015
        tmp = 1;
      } else {
#line 2015
        tmp = 0;
      }
    } else {
#line 2015
      tmp = 0;
    }
  } else {
#line 2015
    tmp = 0;
  }
#line 2015
  usepm = tmp;
#line 2023
  if (! usepm) {
#line 2023
    if (pm) {
#line 2023
      if (pm->node.flags & (1 << 22)) {
#line 2024
        usepm = 2;
      }
    }
  }
#line 2031
  if (usepm) {
#line 2031
    if (locallevel != pm->level) {
#line 2031
      if (on & (1 << 21)) {
#line 2040
        if (pm->node.flags & (1 << 22)) {
#line 2040
          if (! (on & (1 << 14))) {
#line 2040
            if (! ((pm->node.flags & (1 << 14)) & ~ off)) {
#line 2042
              newspecial = 1;
            }
          }
        }
#line 2043
        usepm = 0;
      }
    }
  }
#line 2047
  tc = 0;
#line 2048
  if (asg___0->is_array) {
#line 2048
    if ((on & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2048
      if (usepm) {
#line 2048
        if (! ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4)))) {
#line 2050
          on |= 1;
        }
      } else {
#line 2050
        on |= 1;
      }
    }
  }
#line 2051
  if (usepm) {
#line 2051
    if (asg___0->is_array) {
#line 2051
      if (newspecial == 0) {
#line 2051
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) != 1) {
#line 2051
          if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) != 1 << 4) {
#line 2054
            if (on & (((1 << 2) | (1 << 3)) | (1 << 1))) {
              {
#line 2055
              zerrnam((char const   *)cname, "%s: can\'t assign array value to non-array",
                      pname);
              }
#line 2056
              return ((Param )((void *)0));
            }
#line 2058
            if (pm->node.flags & (1 << 22)) {
              {
#line 2059
              zerrnam((char const   *)cname, "%s: can\'t assign array value to non-array special",
                      pname);
              }
#line 2060
              return ((Param )((void *)0));
            }
#line 2062
            tc = 1;
#line 2063
            usepm = 0;
          } else {
#line 2051
            goto _L___3;
          }
        } else {
#line 2051
          goto _L___3;
        }
      } else {
#line 2051
        goto _L___3;
      }
    } else {
#line 2051
      goto _L___3;
    }
  } else
  _L___3: /* CIL Label */ 
#line 2065
  if (usepm) {
#line 2065
    goto _L;
  } else
#line 2065
  if (newspecial != 0) {
    _L: /* CIL Label */ 
#line 2066
    chflags = ((off & pm->node.flags) | (on & ~ pm->node.flags)) & (((((((1 << 1) | (1 << 2)) | (1 << 3)) | (1 << 4)) | 1) | (1 << 16)) | (1 << 27));
#line 2070
    if (chflags) {
#line 2070
      if (chflags != ((1 << 2) | (1 << 3))) {
#line 2070
        tmp___0 = 1;
      } else {
#line 2070
        tmp___0 = 0;
      }
    } else {
#line 2070
      tmp___0 = 0;
    }
#line 2070
    tc = tmp___0;
#line 2070
    if (tc) {
#line 2071
      usepm = 0;
    }
  }
#line 2080
  if (usepm) {
#line 2080
    goto _L___4;
  } else
#line 2080
  if (newspecial != 0) {
    _L___4: /* CIL Label */ 
#line 2080
    if ((off & pm->node.flags) & (1 << 10)) {
#line 2080
      tmp___5 = 1;
    } else {
#line 2080
      tmp___5 = 0;
    }
  } else {
#line 2080
    tmp___5 = 0;
  }
#line 2080
  readonly = tmp___5;
#line 2080
  if (readonly) {
#line 2080
    goto _L___5;
  } else
#line 2080
  if (tc) {
    _L___5: /* CIL Label */ 
#line 2084
    if (pm->node.flags & (1 << 22)) {
#line 2085
      err = 1;
#line 2086
      if (! readonly) {
        {
#line 2086
        tmp___3 = strcmp((char const   *)pname, "SECONDS");
        }
#line 2086
        if (! tmp___3) {
#line 2098
          if (newspecial != 0) {
#line 2105
            if ((on & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2108
              newspecial = 2;
#line 2109
              err = 0;
#line 2110
              tc = 0;
            } else
#line 2105
            if ((on & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2108
              newspecial = 2;
#line 2109
              err = 0;
#line 2110
              tc = 0;
            } else
#line 2105
            if ((on & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2108
              newspecial = 2;
#line 2109
              err = 0;
#line 2110
              tc = 0;
            } else
#line 2105
            if ((on & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2108
              newspecial = 2;
#line 2109
              err = 0;
#line 2110
              tc = 0;
            }
          } else {
            {
#line 2112
            tmp___2 = setsecondstype(pm, on, off);
            }
#line 2112
            if (! tmp___2) {
#line 2113
              if (asg___0->value.scalar) {
                {
#line 2113
                tmp___1 = ztrdup((char const   *)asg___0->value.scalar);
#line 2113
                pm = assignsparam(pname, tmp___1, 0);
                }
#line 2113
                if (! pm) {
#line 2116
                  return ((Param )((void *)0));
                }
              }
#line 2117
              usepm = 1;
#line 2118
              err = 0;
            }
          }
        }
      }
#line 2121
      if (err) {
        {
#line 2123
        zerrnam((char const   *)cname, "%s: can\'t change type of a special parameter",
                pname);
        }
#line 2125
        return ((Param )((void *)0));
      }
    } else
#line 2127
    if (pm->node.flags & (1 << 27)) {
      {
#line 2128
      zerrnam((char const   *)cname, "%s: can\'t change type of autoloaded parameter",
              pname);
      }
#line 2130
      return ((Param )((void *)0));
    }
  } else
#line 2133
  if (newspecial != 0) {
    {
#line 2133
    tmp___4 = strcmp((char const   *)pname, "SECONDS");
    }
#line 2133
    if (tmp___4 == 0) {
#line 2134
      newspecial = 2;
    }
  }
#line 2136
  if (opts[130]) {
#line 2140
    if (on & ((1 << 10) | (1 << 12))) {
#line 2140
      if (! usepm) {
#line 2140
        goto _L___8;
      } else
#line 2140
      if (pm->node.flags & (1 << 25)) {
        _L___8: /* CIL Label */ 
#line 2140
        if (asg___0->is_array) {
#line 2140
          goto _L___7;
        } else
#line 2140
        if ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0)) {
#line 2140
          goto _L___7;
        } else {
#line 2143
          on |= 1 << 25;
        }
      } else {
#line 2140
        goto _L___7;
      }
    } else
    _L___7: /* CIL Label */ 
#line 2144
    if (usepm) {
#line 2144
      if (pm->node.flags & (1 << 10)) {
#line 2144
        if (! (on & (1 << 10))) {
          {
#line 2146
          zerr("read-only variable: %s", pm->node.nam);
          }
#line 2147
          return ((Param )((void *)0));
        }
      }
    }
  }
#line 2164
  if (usepm) {
#line 2165
    if (asg___0->is_array) {
#line 2165
      tmp___7 = ! ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4)));
    } else {
#line 2165
      if (asg___0->value.scalar) {
#line 2165
        if ((pm->node.flags & (1 | (1 << 4))) & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) {
#line 2165
          tmp___6 = 1;
        } else {
#line 2165
          tmp___6 = 0;
        }
      } else {
#line 2165
        tmp___6 = 0;
      }
#line 2165
      tmp___7 = tmp___6;
    }
#line 2165
    if (tmp___7) {
      {
#line 2169
      zerrnam((char const   *)cname, "%s: inconsistent type for assignment", pname);
      }
#line 2170
      return ((Param )((void *)0));
    }
#line 2172
    on &= ~ (1 << 21);
#line 2173
    if (! on) {
#line 2173
      if (! roff) {
#line 2173
        if (! asg___0->is_array) {
#line 2173
          if (! ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0))) {
#line 2174
            if ((int )ops->ind[112] != 0) {
              {
#line 2175
              (*(paramtab->printnode))(& pm->node, 1 << 5);
              }
            } else
#line 2176
            if (! ((int )ops->ind[103] != 0)) {
#line 2176
              if (! opts[170]) {
                {
#line 2178
                (*(paramtab->printnode))(& pm->node, 1 << 4);
                }
              } else
#line 2176
              if ((int )ops->ind[109] != 0) {
                {
#line 2178
                (*(paramtab->printnode))(& pm->node, 1 << 4);
                }
              }
            }
#line 2179
            return (pm);
          }
        }
      }
    }
#line 2181
    if (pm->node.flags & (1 << 24)) {
#line 2181
      if (opts[153]) {
        {
#line 2182
        zerrnam((char const   *)cname, "%s: restricted", pname);
        }
#line 2183
        return (pm);
      }
    }
#line 2185
    if (on & (1 << 13)) {
#line 2185
      if (! ((pm->node.flags & (1 << 10)) & ~ off)) {
#line 2188
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
          {
#line 2189
          x = (*((pm->gsu.a)->getfn))(pm);
#line 2190
          uniqarray(x);
          }
#line 2191
          if (pm->node.flags & (1 << 22)) {
            {
#line 2192
            tmp___8 = zheapptr((void *)x);
            }
#line 2192
            if (tmp___8) {
              {
#line 2193
              x = zarrdup(x);
              }
            }
            {
#line 2194
            (*((pm->gsu.a)->setfn))(pm, x);
            }
          } else
#line 2195
          if (pm->ename) {
#line 2195
            if (x) {
              {
#line 2196
              arrfixenv(pm->ename, x);
              }
            }
          }
        } else
#line 2197
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2197
          if (pm->ename) {
            {
#line 2197
            tmp___9 = (*(paramtab->getnode))(paramtab, (char const   *)pm->ename);
#line 2197
            apm = (Param )tmp___9;
            }
#line 2197
            if (apm) {
              {
#line 2200
              x = (*((apm->gsu.a)->getfn))(apm);
#line 2201
              uniqarray(x);
              }
#line 2202
              if (x) {
                {
#line 2203
                arrfixenv(pm->node.nam, x);
                }
              }
            }
          }
        }
      }
    }
#line 2206
    if (usepm == 2) {
#line 2207
      pm->node.flags = (pm->node.flags | (on & ~ (1 << 10))) & ~ off;
    } else {
#line 2212
      if (! (on & (1 << 10))) {
#line 2213
        off |= 1 << 25;
      } else
#line 2212
      if (! opts[130]) {
#line 2213
        off |= 1 << 25;
      }
#line 2214
      pm->node.flags = (pm->node.flags | (on & ~ (1 << 10))) & ~ off;
    }
#line 2217
    if (on & (((1 << 5) | (1 << 6)) | (1 << 7))) {
      {
#line 2218
      tmp___10 = typeset_setwidth((char const   *)cname, pm, ops, on, 0);
      }
#line 2218
      if (tmp___10) {
#line 2219
        return ((Param )((void *)0));
      }
    }
#line 2221
    if (on & (((1 << 1) | (1 << 2)) | (1 << 3))) {
      {
#line 2222
      tmp___11 = typeset_setbase((char const   *)cname, pm, ops, on, 0);
      }
#line 2222
      if (tmp___11) {
#line 2223
        return ((Param )((void *)0));
      }
    }
#line 2225
    if (! (pm->node.flags & (1 | (1 << 4)))) {
#line 2226
      if (pm->node.flags & (1 << 12)) {
#line 2227
        if (! (pm->node.flags & (1 << 25))) {
#line 2227
          if (! pm->env) {
#line 2227
            if (! asg___0->is_array) {
#line 2227
              if (! ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0))) {
                {
#line 2228
                tmp___12 = getsparam(pname);
#line 2228
                addenv(pm, tmp___12);
                }
              }
            }
          }
        }
      } else
#line 2229
      if (pm->env) {
#line 2229
        if (! (pm->node.flags & (1 << 29))) {
          {
#line 2230
          delenv(pm);
          }
        }
      }
#line 2232
      if (asg___0->value.scalar) {
        {
#line 2232
        tmp___13 = ztrdup((char const   *)asg___0->value.scalar);
#line 2232
        pm = assignsparam(pname, tmp___13, 0);
        }
#line 2232
        if (! pm) {
#line 2234
          return ((Param )((void *)0));
        }
      }
    } else
#line 2235
    if (asg___0->is_array) {
#line 2236
      if (asg___0->value.array) {
        {
#line 2236
        tmp___14 = zlinklist2array(asg___0->value.array);
#line 2236
        tmp___16 = tmp___14;
        }
      } else {
        {
#line 2236
        tmp___15 = mkarray((char *)((void *)0));
#line 2236
        tmp___16 = tmp___15;
        }
      }
      {
#line 2236
      pm = assignaparam(pname, tmp___16, 0);
      }
#line 2236
      if (! pm) {
#line 2239
        return ((Param )((void *)0));
      }
    }
#line 2241
    if (errflag) {
#line 2242
      return ((Param )((void *)0));
    }
#line 2243
    pm->node.flags |= on & (1 << 10);
#line 2244
    if ((int )ops->ind[112] != 0) {
      {
#line 2245
      (*(paramtab->printnode))(& pm->node, 1 << 5);
      }
    }
#line 2246
    return (pm);
  }
#line 2249
  if (asg___0->is_array) {
#line 2249
    tmp___18 = ! (on & (1 | (1 << 4)));
  } else {
#line 2249
    if (asg___0->value.scalar) {
#line 2249
      if (on & (1 | (1 << 4))) {
#line 2249
        tmp___17 = 1;
      } else {
#line 2249
        tmp___17 = 0;
      }
    } else {
#line 2249
      tmp___17 = 0;
    }
#line 2249
    tmp___18 = tmp___17;
  }
#line 2249
  if (tmp___18) {
    {
#line 2252
    zerrnam((char const   *)cname, "%s: inconsistent type for assignment", pname);
    }
#line 2253
    return ((Param )((void *)0));
  }
#line 2262
  if (tc) {
#line 2264
    on |= (~ off & ((1 << 10) | (1 << 12))) & pm->node.flags;
#line 2266
    pm->node.flags &= ~ (1 << 10);
#line 2271
    keeplocal = pm->level;
#line 2279
    if (! asg___0->is_array) {
#line 2279
      if (! ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0))) {
#line 2279
        if (! ((pm->node.flags | on) & (1 | (1 << 4)))) {
          {
#line 2280
          tmp___19 = getsparam(pname);
#line 2280
          asg___0->value.scalar = dupstring((char const   *)tmp___19);
#line 2281
          asg___0->is_array = 0;
          }
        }
      }
    }
    {
#line 2284
    pname = dupstring((char const   *)pname);
#line 2285
    unsetparam_pm(pm, 0, 1);
    }
  }
#line 2288
  if (newspecial != 0) {
#line 2290
    if (pm->node.flags & (1 << 24)) {
#line 2290
      if (opts[153]) {
        {
#line 2291
        zerrnam((char const   *)cname, "%s: restricted", pname);
        }
#line 2292
        return (pm);
      }
    }
#line 2294
    if (pm->node.flags & (1 << 20)) {
      {
#line 2295
      zerrnam((char const   *)cname, "%s: can only have a single instance", pname);
      }
#line 2296
      return (pm);
    }
    {
#line 2303
    tmp___20 = zshcalloc(sizeof(*tpm));
#line 2303
    tpm = (Param )tmp___20;
#line 2305
    tpm->node.nam = pm->node.nam;
    }
#line 2306
    if (pm->ename) {
      {
#line 2306
      tmp___21 = (*(paramtab->getnode))(paramtab, (char const   *)pm->ename);
#line 2306
      pm2 = (Param )tmp___21;
      }
#line 2306
      if (pm2) {
#line 2306
        if (pm2->level == locallevel) {
#line 2320
          tpm->node.flags = pm->node.flags | (1 << 28);
        } else {
          {
#line 2322
          copyparam(tpm, pm, 1);
          }
        }
      } else {
        {
#line 2322
        copyparam(tpm, pm, 1);
        }
      }
    } else {
      {
#line 2322
      copyparam(tpm, pm, 1);
      }
    }
#line 2324
    tpm->old = pm->old;
#line 2325
    tpm->level = pm->level;
#line 2326
    tpm->base = pm->base;
#line 2327
    tpm->width = pm->width;
#line 2328
    if (pm->env) {
      {
#line 2329
      delenv(pm);
      }
    }
#line 2330
    tpm->env = (char *)((void *)0);
#line 2332
    pm->old = tpm;
#line 2337
    pm->node.flags = (((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) | on) | (1 << 22)) & ~ off;
#line 2341
    pm->node.flags |= tpm->node.flags & (1 << 10);
#line 2342
    if (newspecial == 2) {
      {
#line 2344
      tpm->u.dval = getrawseconds();
#line 2345
      setsecondstype(pm, on, off);
      }
    }
#line 2352
    if (on & (((1 << 5) | (1 << 6)) | (1 << 7))) {
      {
#line 2353
      tmp___22 = typeset_setwidth((char const   *)cname, pm, ops, on, 1);
      }
#line 2353
      if (tmp___22) {
#line 2354
        return ((Param )((void *)0));
      }
    }
#line 2356
    if (on & (((1 << 1) | (1 << 2)) | (1 << 3))) {
      {
#line 2357
      tmp___23 = typeset_setbase((char const   *)cname, pm, ops, on, 1);
      }
#line 2357
      if (tmp___23) {
#line 2358
        return ((Param )((void *)0));
      }
    }
  } else {
    {
#line 2360
    subscript = strchr((char const   *)pname, '[');
    }
#line 2360
    if (subscript) {
#line 2361
      if (on & (1 << 10)) {
        {
#line 2362
        zerrnam((char const   *)cname, "%s: can\'t create readonly array elements",
                pname);
        }
#line 2364
        return ((Param )((void *)0));
      } else
#line 2365
      if (on & (1 << 21)) {
#line 2365
        if (locallevel) {
#line 2366
          *subscript = (char)0;
#line 2367
          if ((unsigned long )paramtab == (unsigned long )realparamtab) {
            {
#line 2367
            tmp___24 = (*(paramtab->getnode2))(paramtab, (char const   *)pname);
#line 2367
            tmp___26 = tmp___24;
            }
          } else {
            {
#line 2367
            tmp___25 = (*(paramtab->getnode))(paramtab, (char const   *)pname);
#line 2367
            tmp___26 = tmp___25;
            }
          }
#line 2367
          pm = (Param )tmp___26;
#line 2371
          *subscript = (char )'[';
#line 2372
          if (! pm) {
            {
#line 2373
            zerrnam((char const   *)cname, "%s: can\'t create local array elements",
                    pname);
            }
#line 2375
            return ((Param )((void *)0));
          } else
#line 2372
          if (pm->level != locallevel) {
            {
#line 2373
            zerrnam((char const   *)cname, "%s: can\'t create local array elements",
                    pname);
            }
#line 2375
            return ((Param )((void *)0));
          }
        }
      }
#line 2378
      if ((on & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2378
        if (! asg___0->is_array) {
#line 2385
          if (asg___0->value.scalar) {
#line 2385
            tmp___27 = (char const   *)asg___0->value.scalar;
          } else {
#line 2385
            tmp___27 = "";
          }
          {
#line 2385
          tmp___28 = ztrdup(tmp___27);
#line 2385
          pm = assignsparam(pname, tmp___28, 0);
          }
#line 2385
          if (! pm) {
#line 2388
            return ((Param )((void *)0));
          }
#line 2389
          dont_set = 1;
#line 2390
          asg___0->is_array = 0;
#line 2391
          keeplocal = 0;
#line 2392
          on = pm->node.flags;
        } else {
#line 2378
          goto _L___9;
        }
      } else
      _L___9: /* CIL Label */ 
#line 2393
      if ((on & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2393
        if (asg___0->is_array) {
#line 2394
          if (asg___0->value.array) {
            {
#line 2394
            tmp___29 = zlinklist2array(asg___0->value.array);
#line 2394
            tmp___31 = tmp___29;
            }
          } else {
            {
#line 2394
            tmp___30 = mkarray((char *)((void *)0));
#line 2394
            tmp___31 = tmp___30;
            }
          }
          {
#line 2394
          pm = assignaparam(pname, tmp___31, 0);
          }
#line 2394
          if (! pm) {
#line 2397
            return ((Param )((void *)0));
          }
#line 2398
          dont_set = 1;
#line 2399
          keeplocal = 0;
#line 2400
          on = pm->node.flags;
        } else {
          {
#line 2402
          zerrnam((char const   *)cname, "%s: inconsistent array element or slice assignment",
                  pname);
          }
#line 2404
          return ((Param )((void *)0));
        }
      } else {
        {
#line 2402
        zerrnam((char const   *)cname, "%s: inconsistent array element or slice assignment",
                pname);
        }
#line 2404
        return ((Param )((void *)0));
      }
    } else {
      {
#line 2419
      tmp___34 = isident(pname);
      }
#line 2419
      if (tmp___34) {
#line 2419
        goto _L___12;
      } else {
        {
#line 2419
        tmp___35 = (*(paramtab->getnode))(paramtab, (char const   *)pname);
        }
#line 2419
        if (tmp___35) {
          _L___12: /* CIL Label */ 
#line 2419
          if (! ((int )typtab[(unsigned char )*pname] & 1)) {
#line 2419
            goto _L___11;
          } else {
            {
#line 2419
            tmp___36 = strcmp((char const   *)pname, "0");
            }
#line 2419
            if (tmp___36) {
#line 2419
              goto _L___10;
            } else {
              _L___11: /* CIL Label */ 
              {
#line 2425
              pm = createparam(pname, on & ~ (1 << 10));
              }
#line 2426
              if (! pm) {
#line 2427
                if (on & ((((((1 << 5) | (1 << 6)) | (1 << 7)) | (1 << 1)) | (1 << 2)) | (1 << 3))) {
                  {
#line 2429
                  zerrnam((char const   *)cname, "can\'t change variable attribute: %s",
                          pname);
                  }
                }
#line 2430
                return ((Param )((void *)0));
              }
#line 2432
              if (on & (((1 << 5) | (1 << 6)) | (1 << 7))) {
                {
#line 2433
                tmp___32 = typeset_setwidth((char const   *)cname, pm, ops, on, 0);
                }
#line 2433
                if (tmp___32) {
#line 2434
                  return ((Param )((void *)0));
                }
              }
#line 2436
              if (on & (((1 << 1) | (1 << 2)) | (1 << 3))) {
                {
#line 2437
                tmp___33 = typeset_setbase((char const   *)cname, pm, ops, on, 0);
                }
#line 2437
                if (tmp___33) {
#line 2438
                  return ((Param )((void *)0));
                }
              }
            }
          }
        } else {
          _L___10: /* CIL Label */ 
#line 2441
          if ((int )typtab[(unsigned char )*pname] & 1) {
            {
#line 2442
            zerrnam((char const   *)cname, "not an identifier: %s", pname);
            }
          } else {
            {
#line 2444
            zerrnam((char const   *)cname, "not valid in this context: %s", pname);
            }
          }
#line 2445
          return ((Param )((void *)0));
        }
      }
    }
  }
#line 2448
  if (altpm) {
#line 2448
    if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
      {
#line 2454
      tmp___37 = zalloc(sizeof(struct tieddata ));
#line 2454
      tdp = (struct tieddata *)tmp___37;
      }
#line 2456
      if (! tdp) {
#line 2457
        return ((Param )((void *)0));
      }
#line 2458
      tdp->joinchar = joinchar;
#line 2459
      tdp->arrptr = & altpm->u.arr;
#line 2461
      pm->gsu.s = & tiedarr_gsu;
#line 2462
      pm->u.data = (void *)tdp;
    }
  }
#line 2465
  if (keeplocal) {
#line 2466
    pm->level = keeplocal;
  } else
#line 2467
  if (on & (1 << 21)) {
#line 2468
    pm->level = locallevel;
  }
#line 2469
  if (asg___0->is_array) {
#line 2469
    goto _L___14;
  } else
#line 2469
  if ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0)) {
    _L___14: /* CIL Label */ 
#line 2469
    if (! dont_set) {
#line 2470
      ipm = pm;
#line 2471
      if (pm->node.flags & (1 | (1 << 4))) {
#line 2473
        if (! asg___0->is_array) {
#line 2480
          if (*(asg___0->value.scalar)) {
            {
#line 2482
            tmp___38 = ztrdup((char const   *)asg___0->value.scalar);
#line 2482
            arrayval = mkarray(tmp___38);
            }
          } else {
            {
#line 2485
            arrayval = mkarray((char *)((void *)0));
            }
          }
        } else
#line 2487
        if (asg___0->value.array) {
          {
#line 2488
          arrayval = zlinklist2array(asg___0->value.array);
          }
        } else {
          {
#line 2490
          arrayval = mkarray((char *)((void *)0));
          }
        }
        {
#line 2491
        pm = assignaparam(pname, arrayval, 0);
        }
#line 2491
        if (! pm) {
#line 2492
          return ((Param )((void *)0));
        }
      } else {
        {
#line 2495
        tmp___39 = ztrdup((char const   *)asg___0->value.scalar);
#line 2495
        pm = assignsparam(pname, tmp___39, 0);
        }
#line 2495
        if (! pm) {
#line 2496
          return ((Param )((void *)0));
        }
      }
#line 2498
      if ((unsigned long )pm != (unsigned long )ipm) {
        {
#line 2501
        unsetparam_pm(ipm, 0, 1);
        }
      }
    } else {
#line 2469
      goto _L___13;
    }
  } else
  _L___13: /* CIL Label */ 
#line 2503
  if (newspecial != 0) {
#line 2503
    if (! ((pm->old)->node.flags & ((1 << 28) | (1 << 10)))) {
      {
#line 2510
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 2510
        goto case_0;
      }
#line 2513
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 1) {
#line 2513
        goto case_exp;
      }
#line 2522
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 3) {
#line 2522
        goto case_exp___0;
      }
#line 2522
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 2) {
#line 2522
        goto case_exp___0;
      }
#line 2525
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 2525
        goto case_1;
      }
#line 2528
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
#line 2528
        goto case_exp___2;
      }
#line 2509
      goto switch_break;
      case_0: /* CIL Label */ 
      {
#line 2511
      tmp___40 = ztrdup("");
#line 2511
      (*((pm->gsu.s)->setfn))(pm, tmp___40);
      }
#line 2512
      goto switch_break;
      case_exp: /* CIL Label */ 
#line 2518
      if (! ((pm->old)->node.flags & (1 << 24))) {
        {
#line 2519
        (*((pm->gsu.i)->setfn))(pm, (zlong )0);
        }
      }
#line 2520
      goto switch_break;
      case_exp___0: /* CIL Label */ 
      case_exp___1: /* CIL Label */ 
      {
#line 2523
      (*((pm->gsu.f)->setfn))(pm, 0.0);
      }
#line 2524
      goto switch_break;
      case_1: /* CIL Label */ 
      {
#line 2526
      tmp___41 = mkarray((char *)((void *)0));
#line 2526
      (*((pm->gsu.a)->setfn))(pm, tmp___41);
      }
#line 2527
      goto switch_break;
      case_exp___2: /* CIL Label */ 
      {
#line 2529
      tmp___42 = newparamtable(17, (char const   *)pm->node.nam);
#line 2529
      (*((pm->gsu.h)->setfn))(pm, tmp___42);
      }
#line 2530
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    }
  }
#line 2533
  pm->node.flags |= on & (1 << 10);
#line 2535
  if ((int )ops->ind[112] != 0) {
    {
#line 2536
    (*(paramtab->printnode))(& pm->node, 1 << 5);
    }
  }
#line 2538
  return (pm);
}
}
#line 2551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_typeset(char *name , char **argv , LinkList assigns , Options ops , int func ) 
{ 
  Param pm ;
  Asgment asg___0 ;
  Patprog pprog ;
  char *optstr ;
  int on ;
  int off ;
  int roff ;
  int bit ;
  int i ;
  int returnval ;
  int printflags ;
  int hasargs ;
  int tmp ;
  int optval ;
  int tmp___0 ;
  sigset_t oset ;
  Param apm ;
  struct asgment asg0 ;
  struct asgment asg2 ;
  char *oldval ;
  char *joinstr ;
  int joinchar ;
  int nargs ;
  sigset_t oset___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  sigset_t oset___1 ;
  sigset_t oset___2 ;
  sigset_t oset___3 ;
  sigset_t oset___4 ;
  sigset_t oset___5 ;
  sigset_t oset___6 ;
  sigset_t oset___7 ;
  int tmp___4 ;
  sigset_t oset___8 ;
  char *tmp___5 ;
  char *tmp___6 ;
  sigset_t oset___9 ;
  Asgment nextasg ;
  sigset_t oset___10 ;
  sigset_t oset___11 ;
  struct tieddata *tdp ;
  char *tmp___7 ;
  char **tmp___8 ;
  int tmp___9 ;
  char *tmp___10 ;
  HashNode tmp___11 ;
  sigset_t oset___12 ;
  HashNode tmp___12 ;
  sigset_t oset___13 ;
  HashNode tmp___13 ;
  char **tmp___14 ;
  sigset_t oset___14 ;
  sigset_t oset___15 ;
  LinkList pmlist ;
  LinkList tmp___15 ;
  LinkNode pmnode ;
  int tmp___16 ;
  Param tmp___17 ;
  sigset_t oset___16 ;
  HashNode hn ;
  HashNode tmp___18 ;
  HashNode tmp___19 ;
  HashNode tmp___20 ;
  Param tmp___21 ;
  sigset_t oset___17 ;
  void *__cil_tmp73 ;
  void *__cil_tmp74 ;
  void *__cil_tmp75 ;
  void *__cil_tmp76 ;
  void *__cil_tmp77 ;
  void *__cil_tmp78 ;
  void *__cil_tmp79 ;
  void *__cil_tmp80 ;
  void *__cil_tmp81 ;
  void *__cil_tmp82 ;
  void *__cil_tmp83 ;
  void *__cil_tmp84 ;
  void *__cil_tmp85 ;
  void *__cil_tmp86 ;
  void *__cil_tmp87 ;
  void *__cil_tmp88 ;
  void *__cil_tmp89 ;
  void *__cil_tmp90 ;
  void *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;
  char *__cil_tmp94 ;
  char *__cil_tmp95 ;
  char *__cil_tmp96 ;
  char *__cil_tmp97 ;
  char *__cil_tmp98 ;
  char *__cil_tmp99 ;
  char *__cil_tmp100 ;
  char *__cil_tmp101 ;
  char *__cil_tmp102 ;
  char *__cil_tmp103 ;
  char *__cil_tmp104 ;
  char *__cil_tmp105 ;
  char *__cil_tmp106 ;

  {
#line 2557
  optstr = (char *)"aiEFALRZlurtxUhHTkz";
#line 2558
  on = 0;
#line 2558
  off = 0;
#line 2558
  bit = 1;
#line 2560
  returnval = 0;
#line 2560
  printflags = 0;
#line 2564
  if ((int )ops->ind[102] != 0) {
    {
#line 2565
    tmp = bin_functions(name, argv, ops, func);
    }
#line 2565
    return (tmp);
  }
#line 2568
  if (func == 22) {
#line 2568
    if (opts[130]) {
#line 2568
      if (! ((int )ops->ind[103] & 2)) {
#line 2569
        ops->ind['g'] = (unsigned char)1;
      }
    }
  }
  {
#line 2574
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2574
    if (! *optstr) {
#line 2574
      goto while_break;
    }
#line 2576
    optval = (int )((unsigned char )*optstr);
#line 2577
    if ((int )ops->ind[optval] & 1) {
#line 2578
      on |= bit;
    } else
#line 2579
    if ((int )ops->ind[optval] & 2) {
#line 2580
      off |= bit;
    }
#line 2574
    optstr ++;
#line 2574
    bit <<= 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 2582
  roff = off;
#line 2585
  if (on & (1 << 3)) {
#line 2586
    off |= ((((1 << 9) | 1) | (1 << 4)) | (1 << 1)) | (1 << 2);
#line 2588
    on &= ~ (1 << 2);
  }
#line 2590
  if (on & (1 << 2)) {
#line 2591
    off |= ((((1 << 9) | 1) | (1 << 4)) | (1 << 1)) | (1 << 3);
  }
#line 2592
  if (on & (1 << 1)) {
#line 2593
    off |= ((((1 << 9) | 1) | (1 << 4)) | (1 << 2)) | (1 << 3);
  }
#line 2598
  if (on & ((1 << 5) | (1 << 7))) {
#line 2599
    off |= 1 << 6;
  }
#line 2600
  if (on & (1 << 6)) {
#line 2601
    off |= (1 << 5) | (1 << 7);
  }
#line 2602
  if (on & (1 << 9)) {
#line 2603
    off |= 1 << 8;
  }
#line 2604
  if (on & (1 << 8)) {
#line 2605
    off |= 1 << 9;
  }
#line 2606
  if (on & (1 << 4)) {
#line 2607
    off |= 1;
  }
#line 2608
  if (on & (1 << 16)) {
#line 2609
    off |= ((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4);
  }
#line 2611
  on &= ~ off;
#line 2613
  queueing_enabled ++;
#line 2616
  if ((int )ops->ind[112] != 0) {
#line 2617
    printflags |= 1 << 5;
  }
#line 2618
  if ((unsigned long )*argv != (unsigned long )((void *)0)) {
#line 2618
    tmp___0 = 1;
  } else
#line 2618
  if (assigns) {
#line 2618
    if (assigns->list.first) {
#line 2618
      tmp___0 = 1;
    } else {
#line 2618
      tmp___0 = 0;
    }
  } else {
#line 2618
    tmp___0 = 0;
  }
#line 2618
  hasargs = tmp___0;
#line 2619
  if (! hasargs) {
#line 2620
    if (! ((int )ops->ind[112] != 0)) {
#line 2621
      if (! (on | roff)) {
#line 2622
        printflags |= 1 << 1;
      }
#line 2623
      if (roff) {
#line 2624
        printflags |= 1;
      } else
#line 2623
      if ((int )ops->ind[43] != 0) {
#line 2624
        printflags |= 1;
      }
    }
    {
#line 2626
    scanhashtable(paramtab, 1, on | roff, 0, paramtab->printnode, printflags);
    }
    {
#line 2627
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2627
      queueing_enabled --;
#line 2627
      if (! queueing_enabled) {
        {
#line 2627
        while (1) {
          while_continue___1: /* CIL Label */ ;
          {
#line 2627
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 2627
            if (! (queue_front != queue_rear)) {
#line 2627
              goto while_break___2;
            }
            {
#line 2627
            queue_front = (queue_front + 1) % 128;
#line 2627
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 2627
            zhandler(signal_queue[queue_front]);
#line 2627
            signal_setmask(oset);
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 2627
          goto while_break___1;
        }
        while_break___1: /* CIL Label */ ;
        }
      }
#line 2627
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 2628
    return (0);
  }
#line 2631
  if ((int )ops->ind[103] != 0) {
#line 2631
    goto _L;
  } else
#line 2631
  if ((int )ops->ind[120] != 0) {
#line 2631
    goto _L;
  } else
#line 2631
  if ((int )ops->ind[109] != 0) {
    _L: /* CIL Label */ 
#line 2631
    if ((int )ops->ind[103] & 2) {
#line 2634
      on |= 1 << 21;
    } else
#line 2631
    if ((int )*name == 108) {
#line 2634
      on |= 1 << 21;
    } else
#line 2631
    if (! opts[59]) {
#line 2631
      if (! ((int )ops->ind[103] != 0)) {
#line 2634
        on |= 1 << 21;
      }
    }
  } else {
#line 2634
    on |= 1 << 21;
  }
#line 2636
  if (on & (1 << 16)) {
#line 2639
    oldval = (char *)((void *)0);
#line 2642
    if ((int )ops->ind[109] != 0) {
      {
#line 2643
      zwarnnam((char const   *)name, "incompatible options for -T");
      }
      {
#line 2644
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 2644
        queueing_enabled --;
#line 2644
        if (! queueing_enabled) {
          {
#line 2644
          while (1) {
            while_continue___4: /* CIL Label */ ;
            {
#line 2644
            while (1) {
              while_continue___5: /* CIL Label */ ;
#line 2644
              if (! (queue_front != queue_rear)) {
#line 2644
                goto while_break___5;
              }
              {
#line 2644
              queue_front = (queue_front + 1) % 128;
#line 2644
              oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 2644
              zhandler(signal_queue[queue_front]);
#line 2644
              signal_setmask(oset___0);
              }
            }
            while_break___5: /* CIL Label */ ;
            }
#line 2644
            goto while_break___4;
          }
          while_break___4: /* CIL Label */ ;
          }
        }
#line 2644
        goto while_break___3;
      }
      while_break___3: /* CIL Label */ ;
      }
#line 2645
      return (1);
    }
    {
#line 2647
    on &= ~ off;
#line 2648
    tmp___1 = arrlen(argv);
    }
#line 2648
    if (assigns) {
      {
#line 2648
      tmp___2 = countlinknodes(assigns);
#line 2648
      tmp___3 = tmp___2;
      }
    } else {
#line 2648
      tmp___3 = 0;
    }
#line 2648
    nargs = tmp___1 + tmp___3;
#line 2649
    if (nargs < 2) {
      {
#line 2650
      zwarnnam((char const   *)name, "-T requires names of scalar and array");
      }
      {
#line 2651
      while (1) {
        while_continue___6: /* CIL Label */ ;
#line 2651
        queueing_enabled --;
#line 2651
        if (! queueing_enabled) {
          {
#line 2651
          while (1) {
            while_continue___7: /* CIL Label */ ;
            {
#line 2651
            while (1) {
              while_continue___8: /* CIL Label */ ;
#line 2651
              if (! (queue_front != queue_rear)) {
#line 2651
                goto while_break___8;
              }
              {
#line 2651
              queue_front = (queue_front + 1) % 128;
#line 2651
              oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 2651
              zhandler(signal_queue[queue_front]);
#line 2651
              signal_setmask(oset___1);
              }
            }
            while_break___8: /* CIL Label */ ;
            }
#line 2651
            goto while_break___7;
          }
          while_break___7: /* CIL Label */ ;
          }
        }
#line 2651
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
#line 2652
      return (1);
    }
#line 2654
    if (nargs > 3) {
      {
#line 2655
      zwarnnam((char const   *)name, "too many arguments for -T");
      }
      {
#line 2656
      while (1) {
        while_continue___9: /* CIL Label */ ;
#line 2656
        queueing_enabled --;
#line 2656
        if (! queueing_enabled) {
          {
#line 2656
          while (1) {
            while_continue___10: /* CIL Label */ ;
            {
#line 2656
            while (1) {
              while_continue___11: /* CIL Label */ ;
#line 2656
              if (! (queue_front != queue_rear)) {
#line 2656
                goto while_break___11;
              }
              {
#line 2656
              queue_front = (queue_front + 1) % 128;
#line 2656
              oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 2656
              zhandler(signal_queue[queue_front]);
#line 2656
              signal_setmask(oset___2);
              }
            }
            while_break___11: /* CIL Label */ ;
            }
#line 2656
            goto while_break___10;
          }
          while_break___10: /* CIL Label */ ;
          }
        }
#line 2656
        goto while_break___9;
      }
      while_break___9: /* CIL Label */ ;
      }
#line 2657
      return (1);
    }
    {
#line 2660
    asg___0 = getasg(& argv, assigns);
    }
#line 2660
    if (! asg___0) {
      {
#line 2661
      while (1) {
        while_continue___12: /* CIL Label */ ;
#line 2661
        queueing_enabled --;
#line 2661
        if (! queueing_enabled) {
          {
#line 2661
          while (1) {
            while_continue___13: /* CIL Label */ ;
            {
#line 2661
            while (1) {
              while_continue___14: /* CIL Label */ ;
#line 2661
              if (! (queue_front != queue_rear)) {
#line 2661
                goto while_break___14;
              }
              {
#line 2661
              queue_front = (queue_front + 1) % 128;
#line 2661
              oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 2661
              zhandler(signal_queue[queue_front]);
#line 2661
              signal_setmask(oset___3);
              }
            }
            while_break___14: /* CIL Label */ ;
            }
#line 2661
            goto while_break___13;
          }
          while_break___13: /* CIL Label */ ;
          }
        }
#line 2661
        goto while_break___12;
      }
      while_break___12: /* CIL Label */ ;
      }
#line 2662
      return (1);
    }
#line 2664
    asg0 = *asg___0;
#line 2665
    if (asg0.is_array) {
      {
#line 2666
      while (1) {
        while_continue___15: /* CIL Label */ ;
#line 2666
        queueing_enabled --;
#line 2666
        if (! queueing_enabled) {
          {
#line 2666
          while (1) {
            while_continue___16: /* CIL Label */ ;
            {
#line 2666
            while (1) {
              while_continue___17: /* CIL Label */ ;
#line 2666
              if (! (queue_front != queue_rear)) {
#line 2666
                goto while_break___17;
              }
              {
#line 2666
              queue_front = (queue_front + 1) % 128;
#line 2666
              oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 2666
              zhandler(signal_queue[queue_front]);
#line 2666
              signal_setmask(oset___4);
              }
            }
            while_break___17: /* CIL Label */ ;
            }
#line 2666
            goto while_break___16;
          }
          while_break___16: /* CIL Label */ ;
          }
        }
#line 2666
        goto while_break___15;
      }
      while_break___15: /* CIL Label */ ;
      }
      {
#line 2667
      zwarnnam((char const   *)name, "first argument of tie must be scalar: %s", asg0.name);
      }
#line 2669
      return (1);
    }
    {
#line 2672
    asg___0 = getasg(& argv, assigns);
    }
#line 2672
    if (! asg___0) {
      {
#line 2673
      while (1) {
        while_continue___18: /* CIL Label */ ;
#line 2673
        queueing_enabled --;
#line 2673
        if (! queueing_enabled) {
          {
#line 2673
          while (1) {
            while_continue___19: /* CIL Label */ ;
            {
#line 2673
            while (1) {
              while_continue___20: /* CIL Label */ ;
#line 2673
              if (! (queue_front != queue_rear)) {
#line 2673
                goto while_break___20;
              }
              {
#line 2673
              queue_front = (queue_front + 1) % 128;
#line 2673
              oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 2673
              zhandler(signal_queue[queue_front]);
#line 2673
              signal_setmask(oset___5);
              }
            }
            while_break___20: /* CIL Label */ ;
            }
#line 2673
            goto while_break___19;
          }
          while_break___19: /* CIL Label */ ;
          }
        }
#line 2673
        goto while_break___18;
      }
      while_break___18: /* CIL Label */ ;
      }
#line 2674
      return (1);
    }
#line 2676
    if (! asg___0->is_array) {
#line 2676
      if (asg___0->value.scalar) {
        {
#line 2677
        while (1) {
          while_continue___21: /* CIL Label */ ;
#line 2677
          queueing_enabled --;
#line 2677
          if (! queueing_enabled) {
            {
#line 2677
            while (1) {
              while_continue___22: /* CIL Label */ ;
              {
#line 2677
              while (1) {
                while_continue___23: /* CIL Label */ ;
#line 2677
                if (! (queue_front != queue_rear)) {
#line 2677
                  goto while_break___23;
                }
                {
#line 2677
                queue_front = (queue_front + 1) % 128;
#line 2677
                oset___6 = signal_setmask(signal_mask_queue[queue_front]);
#line 2677
                zhandler(signal_queue[queue_front]);
#line 2677
                signal_setmask(oset___6);
                }
              }
              while_break___23: /* CIL Label */ ;
              }
#line 2677
              goto while_break___22;
            }
            while_break___22: /* CIL Label */ ;
            }
          }
#line 2677
          goto while_break___21;
        }
        while_break___21: /* CIL Label */ ;
        }
        {
#line 2678
        zwarnnam((char const   *)name, "second argument of tie must be array: %s",
                 asg___0->name);
        }
#line 2680
        return (1);
      }
    }
    {
#line 2683
    tmp___4 = strcmp((char const   *)asg0.name, (char const   *)asg___0->name);
    }
#line 2683
    if (! tmp___4) {
      {
#line 2684
      while (1) {
        while_continue___24: /* CIL Label */ ;
#line 2684
        queueing_enabled --;
#line 2684
        if (! queueing_enabled) {
          {
#line 2684
          while (1) {
            while_continue___25: /* CIL Label */ ;
            {
#line 2684
            while (1) {
              while_continue___26: /* CIL Label */ ;
#line 2684
              if (! (queue_front != queue_rear)) {
#line 2684
                goto while_break___26;
              }
              {
#line 2684
              queue_front = (queue_front + 1) % 128;
#line 2684
              oset___7 = signal_setmask(signal_mask_queue[queue_front]);
#line 2684
              zhandler(signal_queue[queue_front]);
#line 2684
              signal_setmask(oset___7);
              }
            }
            while_break___26: /* CIL Label */ ;
            }
#line 2684
            goto while_break___25;
          }
          while_break___25: /* CIL Label */ ;
          }
        }
#line 2684
        goto while_break___24;
      }
      while_break___24: /* CIL Label */ ;
      }
      {
#line 2685
      zerrnam((char const   *)name, "can\'t tie a variable to itself: %s", asg0.name);
      }
#line 2686
      return (1);
    }
    {
#line 2688
    tmp___5 = strchr((char const   *)asg0.name, '[');
    }
#line 2688
    if (tmp___5) {
#line 2688
      goto _L___0;
    } else {
      {
#line 2688
      tmp___6 = strchr((char const   *)asg___0->name, '[');
      }
#line 2688
      if (tmp___6) {
        _L___0: /* CIL Label */ 
        {
#line 2689
        while (1) {
          while_continue___27: /* CIL Label */ ;
#line 2689
          queueing_enabled --;
#line 2689
          if (! queueing_enabled) {
            {
#line 2689
            while (1) {
              while_continue___28: /* CIL Label */ ;
              {
#line 2689
              while (1) {
                while_continue___29: /* CIL Label */ ;
#line 2689
                if (! (queue_front != queue_rear)) {
#line 2689
                  goto while_break___29;
                }
                {
#line 2689
                queue_front = (queue_front + 1) % 128;
#line 2689
                oset___8 = signal_setmask(signal_mask_queue[queue_front]);
#line 2689
                zhandler(signal_queue[queue_front]);
#line 2689
                signal_setmask(oset___8);
                }
              }
              while_break___29: /* CIL Label */ ;
              }
#line 2689
              goto while_break___28;
            }
            while_break___28: /* CIL Label */ ;
            }
          }
#line 2689
          goto while_break___27;
        }
        while_break___27: /* CIL Label */ ;
        }
        {
#line 2690
        zerrnam((char const   *)name, "can\'t tie array elements: %s", asg0.name);
        }
#line 2691
        return (1);
      }
    }
#line 2693
    if (asg___0->is_array) {
#line 2693
      goto _L___2;
    } else
#line 2693
    if ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0)) {
      _L___2: /* CIL Label */ 
#line 2693
      if (asg0.is_array) {
#line 2693
        goto _L___1;
      } else
#line 2693
      if ((unsigned long )asg0.value.scalar != (unsigned long )((char *)0)) {
        _L___1: /* CIL Label */ 
        {
#line 2694
        while (1) {
          while_continue___30: /* CIL Label */ ;
#line 2694
          queueing_enabled --;
#line 2694
          if (! queueing_enabled) {
            {
#line 2694
            while (1) {
              while_continue___31: /* CIL Label */ ;
              {
#line 2694
              while (1) {
                while_continue___32: /* CIL Label */ ;
#line 2694
                if (! (queue_front != queue_rear)) {
#line 2694
                  goto while_break___32;
                }
                {
#line 2694
                queue_front = (queue_front + 1) % 128;
#line 2694
                oset___9 = signal_setmask(signal_mask_queue[queue_front]);
#line 2694
                zhandler(signal_queue[queue_front]);
#line 2694
                signal_setmask(oset___9);
                }
              }
              while_break___32: /* CIL Label */ ;
              }
#line 2694
              goto while_break___31;
            }
            while_break___31: /* CIL Label */ ;
            }
          }
#line 2694
          goto while_break___30;
        }
        while_break___30: /* CIL Label */ ;
        }
        {
#line 2695
        zerrnam((char const   *)name, "only one tied parameter can have value: %s",
                asg0.name);
        }
#line 2696
        return (1);
      }
    }
#line 2703
    if (*argv) {
#line 2704
      joinstr = *argv;
    } else
#line 2705
    if (assigns) {
#line 2705
      if (assigns->list.first) {
#line 2706
        nextasg = (Asgment )assigns->list.first;
#line 2707
        if (nextasg->is_array) {
#line 2707
          goto _L___4;
        } else
#line 2707
        if (nextasg->is_array) {
#line 2707
          goto _L___4;
        } else
#line 2707
        if ((unsigned long )nextasg->value.scalar != (unsigned long )((char *)0)) {
          _L___4: /* CIL Label */ 
          {
#line 2708
          zwarnnam((char const   *)name, "third argument of tie must be join character");
          }
          {
#line 2709
          while (1) {
            while_continue___33: /* CIL Label */ ;
#line 2709
            queueing_enabled --;
#line 2709
            if (! queueing_enabled) {
              {
#line 2709
              while (1) {
                while_continue___34: /* CIL Label */ ;
                {
#line 2709
                while (1) {
                  while_continue___35: /* CIL Label */ ;
#line 2709
                  if (! (queue_front != queue_rear)) {
#line 2709
                    goto while_break___35;
                  }
                  {
#line 2709
                  queue_front = (queue_front + 1) % 128;
#line 2709
                  oset___10 = signal_setmask(signal_mask_queue[queue_front]);
#line 2709
                  zhandler(signal_queue[queue_front]);
#line 2709
                  signal_setmask(oset___10);
                  }
                }
                while_break___35: /* CIL Label */ ;
                }
#line 2709
                goto while_break___34;
              }
              while_break___34: /* CIL Label */ ;
              }
            }
#line 2709
            goto while_break___33;
          }
          while_break___33: /* CIL Label */ ;
          }
#line 2710
          return (1);
        }
#line 2712
        joinstr = nextasg->name;
      } else {
#line 2714
        joinstr = (char *)((void *)0);
      }
    } else {
#line 2714
      joinstr = (char *)((void *)0);
    }
#line 2715
    if (! joinstr) {
#line 2716
      joinchar = ':';
    } else
#line 2717
    if (! *joinstr) {
#line 2718
      joinchar = 0;
    } else
#line 2719
    if ((int )*joinstr == -125) {
#line 2720
      joinchar = (int )*(joinstr + 1) ^ 32;
    } else {
#line 2722
      joinchar = (int )*joinstr;
    }
    {
#line 2732
    tmp___11 = (*(paramtab->getnode))(paramtab, (char const   *)asg0.name);
#line 2732
    pm = (Param )tmp___11;
    }
#line 2732
    if (pm) {
#line 2732
      if (! (pm->node.flags & (1 << 25))) {
#line 2732
        if (locallevel == pm->level) {
#line 2732
          goto _L___5;
        } else
#line 2732
        if (! (on & (1 << 21))) {
          _L___5: /* CIL Label */ 
#line 2735
          if (pm->node.flags & (1 << 16)) {
            {
#line 2736
            while (1) {
              while_continue___36: /* CIL Label */ ;
#line 2736
              queueing_enabled --;
#line 2736
              if (! queueing_enabled) {
                {
#line 2736
                while (1) {
                  while_continue___37: /* CIL Label */ ;
                  {
#line 2736
                  while (1) {
                    while_continue___38: /* CIL Label */ ;
#line 2736
                    if (! (queue_front != queue_rear)) {
#line 2736
                      goto while_break___38;
                    }
                    {
#line 2736
                    queue_front = (queue_front + 1) % 128;
#line 2736
                    oset___11 = signal_setmask(signal_mask_queue[queue_front]);
#line 2736
                    zhandler(signal_queue[queue_front]);
#line 2736
                    signal_setmask(oset___11);
                    }
                  }
                  while_break___38: /* CIL Label */ ;
                  }
#line 2736
                  goto while_break___37;
                }
                while_break___37: /* CIL Label */ ;
                }
              }
#line 2736
              goto while_break___36;
            }
            while_break___36: /* CIL Label */ ;
            }
#line 2737
            if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) != 0) {
              {
#line 2738
              zwarnnam((char const   *)name, "already tied as non-scalar: %s", asg0.name);
              }
            } else {
              {
#line 2739
              tmp___9 = strcmp((char const   *)asg___0->name, (char const   *)pm->ename);
              }
#line 2739
              if (tmp___9) {
                {
#line 2753
                zwarnnam((char const   *)name, "can\'t tie already tied scalar: %s",
                         asg0.name);
                }
              } else {
#line 2743
                tdp = (struct tieddata *)pm->u.data;
#line 2745
                tdp->joinchar = joinchar;
#line 2746
                if (asg0.value.scalar) {
                  {
#line 2747
                  tmp___7 = ztrdup((char const   *)asg0.value.scalar);
#line 2747
                  assignsparam(asg0.name, tmp___7, 0);
                  }
                } else
#line 2748
                if (asg___0->value.array) {
                  {
#line 2749
                  tmp___8 = zlinklist2array(asg___0->value.array);
#line 2749
                  assignaparam(asg___0->name, tmp___8, 0);
                  }
                }
#line 2751
                return (0);
              }
            }
#line 2756
            return (1);
          }
#line 2758
          if (! asg0.value.scalar) {
#line 2758
            if (! asg___0->value.array) {
#line 2758
              if (! ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) & (1 | (1 << 4)))) {
                {
#line 2760
                tmp___10 = getsparam(asg0.name);
#line 2760
                oldval = ztrdup((char const   *)tmp___10);
                }
              }
            }
          }
#line 2761
          on |= pm->node.flags & (1 << 12);
        }
      }
    }
    {
#line 2771
    asg2.name = asg___0->name;
#line 2772
    asg2.is_array = 0;
#line 2773
    asg2.value.array = (LinkList )0;
#line 2774
    tmp___12 = (*(paramtab->getnode))(paramtab, (char const   *)asg___0->name);
#line 2774
    apm = typeset_single(name, asg___0->name, (Param )tmp___12, func, (on | 1) & ~ (1 << 12),
                         off, roff, & asg2, (Param )((void *)0), ops, 0);
    }
#line 2774
    if (! apm) {
#line 2779
      if (oldval) {
        {
#line 2780
        zsfree(oldval);
        }
      }
      {
#line 2781
      while (1) {
        while_continue___39: /* CIL Label */ ;
#line 2781
        queueing_enabled --;
#line 2781
        if (! queueing_enabled) {
          {
#line 2781
          while (1) {
            while_continue___40: /* CIL Label */ ;
            {
#line 2781
            while (1) {
              while_continue___41: /* CIL Label */ ;
#line 2781
              if (! (queue_front != queue_rear)) {
#line 2781
                goto while_break___41;
              }
              {
#line 2781
              queue_front = (queue_front + 1) % 128;
#line 2781
              oset___12 = signal_setmask(signal_mask_queue[queue_front]);
#line 2781
              zhandler(signal_queue[queue_front]);
#line 2781
              signal_setmask(oset___12);
              }
            }
            while_break___41: /* CIL Label */ ;
            }
#line 2781
            goto while_break___40;
          }
          while_break___40: /* CIL Label */ ;
          }
        }
#line 2781
        goto while_break___39;
      }
      while_break___39: /* CIL Label */ ;
      }
#line 2782
      return (1);
    }
    {
#line 2788
    tmp___13 = (*(paramtab->getnode))(paramtab, (char const   *)asg0.name);
#line 2788
    pm = typeset_single(name, asg0.name, (Param )tmp___13, func, on, off, roff, & asg0,
                        apm, ops, joinchar);
    }
#line 2788
    if (! pm) {
#line 2793
      if (oldval) {
        {
#line 2794
        zsfree(oldval);
        }
      }
      {
#line 2795
      unsetparam_pm(apm, 1, 1);
      }
      {
#line 2796
      while (1) {
        while_continue___42: /* CIL Label */ ;
#line 2796
        queueing_enabled --;
#line 2796
        if (! queueing_enabled) {
          {
#line 2796
          while (1) {
            while_continue___43: /* CIL Label */ ;
            {
#line 2796
            while (1) {
              while_continue___44: /* CIL Label */ ;
#line 2796
              if (! (queue_front != queue_rear)) {
#line 2796
                goto while_break___44;
              }
              {
#line 2796
              queue_front = (queue_front + 1) % 128;
#line 2796
              oset___13 = signal_setmask(signal_mask_queue[queue_front]);
#line 2796
              zhandler(signal_queue[queue_front]);
#line 2796
              signal_setmask(oset___13);
              }
            }
            while_break___44: /* CIL Label */ ;
            }
#line 2796
            goto while_break___43;
          }
          while_break___43: /* CIL Label */ ;
          }
        }
#line 2796
        goto while_break___42;
      }
      while_break___42: /* CIL Label */ ;
      }
#line 2797
      return (1);
    }
#line 2804
    if (pm->ename) {
      {
#line 2805
      zsfree(pm->ename);
      }
    }
    {
#line 2806
    pm->ename = ztrdup((char const   *)asg___0->name);
    }
#line 2807
    if (apm->ename) {
      {
#line 2808
      zsfree(apm->ename);
      }
    }
    {
#line 2809
    apm->ename = ztrdup((char const   *)asg0.name);
    }
#line 2810
    if (asg___0->value.array) {
      {
#line 2811
      tmp___14 = zlinklist2array(asg___0->value.array);
#line 2811
      assignaparam(asg___0->name, tmp___14, 0);
      }
    } else
#line 2812
    if (oldval) {
      {
#line 2813
      assignsparam(asg0.name, oldval, 0);
      }
    }
    {
#line 2814
    while (1) {
      while_continue___45: /* CIL Label */ ;
#line 2814
      queueing_enabled --;
#line 2814
      if (! queueing_enabled) {
        {
#line 2814
        while (1) {
          while_continue___46: /* CIL Label */ ;
          {
#line 2814
          while (1) {
            while_continue___47: /* CIL Label */ ;
#line 2814
            if (! (queue_front != queue_rear)) {
#line 2814
              goto while_break___47;
            }
            {
#line 2814
            queue_front = (queue_front + 1) % 128;
#line 2814
            oset___14 = signal_setmask(signal_mask_queue[queue_front]);
#line 2814
            zhandler(signal_queue[queue_front]);
#line 2814
            signal_setmask(oset___14);
            }
          }
          while_break___47: /* CIL Label */ ;
          }
#line 2814
          goto while_break___46;
        }
        while_break___46: /* CIL Label */ ;
        }
      }
#line 2814
      goto while_break___45;
    }
    while_break___45: /* CIL Label */ ;
    }
#line 2816
    return (0);
  }
#line 2818
  if (off & (1 << 16)) {
    {
#line 2819
    while (1) {
      while_continue___48: /* CIL Label */ ;
#line 2819
      queueing_enabled --;
#line 2819
      if (! queueing_enabled) {
        {
#line 2819
        while (1) {
          while_continue___49: /* CIL Label */ ;
          {
#line 2819
          while (1) {
            while_continue___50: /* CIL Label */ ;
#line 2819
            if (! (queue_front != queue_rear)) {
#line 2819
              goto while_break___50;
            }
            {
#line 2819
            queue_front = (queue_front + 1) % 128;
#line 2819
            oset___15 = signal_setmask(signal_mask_queue[queue_front]);
#line 2819
            zhandler(signal_queue[queue_front]);
#line 2819
            signal_setmask(oset___15);
            }
          }
          while_break___50: /* CIL Label */ ;
          }
#line 2819
          goto while_break___49;
        }
        while_break___49: /* CIL Label */ ;
        }
      }
#line 2819
      goto while_break___48;
    }
    while_break___48: /* CIL Label */ ;
    }
    {
#line 2820
    zerrnam((char const   *)name, "use unset to remove tied variables");
    }
#line 2821
    return (1);
  }
#line 2825
  if ((int )ops->ind[109] != 0) {
#line 2826
    if (! ((int )ops->ind[112] != 0)) {
#line 2827
      if (! (on | roff)) {
#line 2828
        printflags |= 1 << 1;
      }
#line 2829
      if (! on) {
#line 2830
        printflags |= 1;
      }
    }
    {
#line 2833
    while (1) {
      while_continue___51: /* CIL Label */ ;
      {
#line 2833
      asg___0 = getasg(& argv, assigns);
      }
#line 2833
      if (! asg___0) {
#line 2833
        goto while_break___51;
      }
      {
#line 2834
      tmp___15 = newlinklist();
#line 2834
      pmlist = tmp___15;
#line 2837
      tokenize(asg___0->name);
#line 2838
      pprog = patcompile(asg___0->name, 0, (char **)((void *)0));
      }
#line 2838
      if (! pprog) {
        {
#line 2839
        untokenize(asg___0->name);
#line 2840
        zwarnnam((char const   *)name, "bad pattern : %s", asg___0->name);
#line 2841
        returnval = 1;
        }
#line 2842
        goto while_continue___51;
      }
#line 2844
      if ((int )ops->ind[109] & 2) {
#line 2844
        if (! asg___0->is_array) {
#line 2844
          if (! ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0))) {
            {
#line 2845
            scanmatchtable(paramtab, pprog, 1, on | roff, 0, paramtab->printnode,
                           printflags);
            }
#line 2847
            goto while_continue___51;
          }
        }
      }
#line 2857
      i = 0;
      {
#line 2857
      while (1) {
        while_continue___52: /* CIL Label */ ;
#line 2857
        if (! (i < paramtab->hsize)) {
#line 2857
          goto while_break___52;
        }
#line 2858
        pm = (Param )*(paramtab->nodes + i);
        {
#line 2858
        while (1) {
          while_continue___53: /* CIL Label */ ;
#line 2858
          if (! pm) {
#line 2858
            goto while_break___53;
          }
#line 2860
          if (pm->node.flags & (1 << 24)) {
#line 2860
            if (opts[153]) {
#line 2862
              goto __Cont;
            } else {
#line 2860
              goto _L___6;
            }
          } else
          _L___6: /* CIL Label */ 
#line 2860
          if (pm->node.flags & (1 << 25)) {
#line 2862
            goto __Cont;
          }
          {
#line 2863
          tmp___16 = pattry(pprog, pm->node.nam);
          }
#line 2863
          if (tmp___16) {
            {
#line 2864
            insertlinknode(pmlist, pmlist->list.last, (void *)pm);
            }
          }
          __Cont: /* CIL Label */ 
#line 2858
          pm = (Param )pm->node.next;
        }
        while_break___53: /* CIL Label */ ;
        }
#line 2857
        i ++;
      }
      while_break___52: /* CIL Label */ ;
      }
#line 2867
      pmnode = pmlist->list.first;
      {
#line 2867
      while (1) {
        while_continue___54: /* CIL Label */ ;
#line 2867
        if (! pmnode) {
#line 2867
          goto while_break___54;
        }
        {
#line 2868
        pm = (Param )pmnode->dat;
#line 2869
        tmp___17 = typeset_single(name, pm->node.nam, pm, func, on, off, roff, asg___0,
                                  (Param )((void *)0), ops, 0);
        }
#line 2869
        if (! tmp___17) {
#line 2871
          returnval = 1;
        }
#line 2867
        pmnode = pmnode->next;
      }
      while_break___54: /* CIL Label */ ;
      }
    }
    while_break___51: /* CIL Label */ ;
    }
    {
#line 2874
    while (1) {
      while_continue___55: /* CIL Label */ ;
#line 2874
      queueing_enabled --;
#line 2874
      if (! queueing_enabled) {
        {
#line 2874
        while (1) {
          while_continue___56: /* CIL Label */ ;
          {
#line 2874
          while (1) {
            while_continue___57: /* CIL Label */ ;
#line 2874
            if (! (queue_front != queue_rear)) {
#line 2874
              goto while_break___57;
            }
            {
#line 2874
            queue_front = (queue_front + 1) % 128;
#line 2874
            oset___16 = signal_setmask(signal_mask_queue[queue_front]);
#line 2874
            zhandler(signal_queue[queue_front]);
#line 2874
            signal_setmask(oset___16);
            }
          }
          while_break___57: /* CIL Label */ ;
          }
#line 2874
          goto while_break___56;
        }
        while_break___56: /* CIL Label */ ;
        }
      }
#line 2874
      goto while_break___55;
    }
    while_break___55: /* CIL Label */ ;
    }
#line 2875
    return (returnval);
  }
  {
#line 2879
  while (1) {
    while_continue___58: /* CIL Label */ ;
    {
#line 2879
    asg___0 = getasg(& argv, assigns);
    }
#line 2879
    if (! asg___0) {
#line 2879
      goto while_break___58;
    }
#line 2880
    if ((unsigned long )paramtab == (unsigned long )realparamtab) {
      {
#line 2880
      tmp___18 = (*(paramtab->getnode2))(paramtab, (char const   *)asg___0->name);
#line 2880
      tmp___20 = tmp___18;
      }
    } else {
      {
#line 2880
      tmp___19 = (*(paramtab->getnode))(paramtab, (char const   *)asg___0->name);
#line 2880
      tmp___20 = tmp___19;
      }
    }
#line 2880
    hn = tmp___20;
#line 2884
    if ((int )ops->ind[112] != 0) {
#line 2885
      if (hn) {
        {
#line 2886
        (*(paramtab->printnode))(hn, printflags);
        }
      } else {
        {
#line 2888
        zwarnnam((char const   *)name, "no such variable: %s", asg___0->name);
#line 2889
        returnval = 1;
        }
      }
#line 2891
      goto while_continue___58;
    }
    {
#line 2893
    tmp___21 = typeset_single(name, asg___0->name, (Param )hn, func, on, off, roff,
                              asg___0, (Param )((void *)0), ops, 0);
    }
#line 2893
    if (! tmp___21) {
#line 2896
      returnval = 1;
    }
  }
  while_break___58: /* CIL Label */ ;
  }
  {
#line 2898
  while (1) {
    while_continue___59: /* CIL Label */ ;
#line 2898
    queueing_enabled --;
#line 2898
    if (! queueing_enabled) {
      {
#line 2898
      while (1) {
        while_continue___60: /* CIL Label */ ;
        {
#line 2898
        while (1) {
          while_continue___61: /* CIL Label */ ;
#line 2898
          if (! (queue_front != queue_rear)) {
#line 2898
            goto while_break___61;
          }
          {
#line 2898
          queue_front = (queue_front + 1) % 128;
#line 2898
          oset___17 = signal_setmask(signal_mask_queue[queue_front]);
#line 2898
          zhandler(signal_queue[queue_front]);
#line 2898
          signal_setmask(oset___17);
          }
        }
        while_break___61: /* CIL Label */ ;
        }
#line 2898
        goto while_break___60;
      }
      while_break___60: /* CIL Label */ ;
      }
    }
#line 2898
    goto while_break___59;
  }
  while_break___59: /* CIL Label */ ;
  }
#line 2899
  return (returnval);
}
}
#line 2905 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int eval_autoload(Shfunc shf , char *name , Options ops , int func ) 
{ 
  char *fargv[3] ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  Shfunc tmp___2 ;
  int tmp___3 ;
  void *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
#line 2908
  if (! (shf->node.flags & (1 << 9))) {
#line 2909
    return (1);
  }
#line 2911
  if (shf->funcdef) {
    {
#line 2912
    freeeprog(shf->funcdef);
#line 2913
    shf->funcdef = & dummy_eprog;
    }
  }
#line 2915
  if ((int )ops->ind[88] & 1) {
    {
#line 2917
    fargv[0] = name;
#line 2918
    fargv[1] = (char *)"\"$@\"";
#line 2919
    fargv[2] = (char *)0;
#line 2920
    shf->funcdef = mkautofn(shf);
#line 2921
    tmp = bin_eval(name, fargv, ops, func);
    }
#line 2921
    return (tmp);
  }
#line 2924
  if ((int )ops->ind[107] != 0) {
#line 2924
    tmp___1 = 2;
  } else {
#line 2924
    if ((int )ops->ind[122] != 0) {
#line 2924
      tmp___0 = 0;
    } else {
#line 2924
      tmp___0 = 1;
    }
#line 2924
    tmp___1 = tmp___0;
  }
  {
#line 2924
  tmp___2 = loadautofn(shf, tmp___1, 1);
  }
#line 2924
  if (tmp___2) {
#line 2924
    tmp___3 = 0;
  } else {
#line 2924
    tmp___3 = 1;
  }
#line 2924
  return (tmp___3);
}
}
#line 2930 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static void listusermathfunc(MathFunc p ) 
{ 
  int showargs ;
  int tmp ;
  char *__cil_tmp4 ;
  char *__cil_tmp5 ;
  char *__cil_tmp6 ;

  {
#line 2935
  if (p->module) {
#line 2936
    showargs = 3;
  } else {
#line 2937
    if (p->minargs) {
#line 2937
      tmp = p->minargs;
    } else {
#line 2937
      tmp = -1;
    }
#line 2937
    if (p->maxargs != tmp) {
#line 2938
      showargs = 2;
    } else
#line 2939
    if (p->minargs) {
#line 2940
      showargs = 1;
    } else {
#line 2942
      showargs = 0;
    }
  }
  {
#line 2944
  printf((char const   */* __restrict  */)"functions -M %s", p->name);
  }
#line 2945
  if (showargs) {
    {
#line 2946
    printf((char const   */* __restrict  */)" %d", p->minargs);
#line 2947
    showargs --;
    }
  }
#line 2949
  if (showargs) {
    {
#line 2950
    printf((char const   */* __restrict  */)" %d", p->maxargs);
#line 2951
    showargs --;
    }
  }
#line 2953
  if (showargs) {
    {
#line 2957
    putchar(' ');
#line 2958
    quotedzputs((char const   *)p->module, stdout);
#line 2959
    showargs --;
    }
  }
  {
#line 2961
  putchar('\n');
  }
#line 2962
  return;
}
}
#line 2970 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_functions(char *name , char **argv , Options ops , int func ) 
{ 
  Patprog pprog ;
  Shfunc shf ;
  int i ;
  int returnval ;
  int on ;
  int off ;
  int pflags ;
  int roff ;
  int expand ;
  char *eptr ;
  zlong tmp ;
  MathFunc p ;
  MathFunc q ;
  sigset_t oset ;
  MathFunc next___0 ;
  int tmp___0 ;
  sigset_t oset___0 ;
  int tmp___1 ;
  sigset_t oset___1 ;
  int minargs ;
  int maxargs ;
  char *funcname ;
  char **tmp___2 ;
  char *modname ;
  char *ptr___0 ;
  zlong tmp___3 ;
  zlong tmp___4 ;
  char **tmp___5 ;
  void *tmp___6 ;
  char *tmp___7 ;
  sigset_t oset___2 ;
  int tmp___8 ;
  sigset_t oset___3 ;
  int ret ;
  Funcstack fs ;
  char *funcname___0 ;
  void *tmp___9 ;
  char *tmp___10 ;
  HashNode tmp___11 ;
  sigset_t oset___4 ;
  int tmp___12 ;
  int tmp___13 ;
  sigset_t oset___5 ;
  int tmp___14 ;
  int signum ;
  int ok ;
  int tmp___15 ;
  void *tmp___16 ;
  char *tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  HashNode tmp___20 ;
  sigset_t oset___6 ;
  void *__cil_tmp58 ;
  void *__cil_tmp59 ;
  void *__cil_tmp60 ;
  void *__cil_tmp61 ;
  void *__cil_tmp62 ;
  void *__cil_tmp63 ;
  void *__cil_tmp64 ;
  void *__cil_tmp65 ;
  char *__cil_tmp66 ;
  char *__cil_tmp67 ;
  char *__cil_tmp68 ;
  char *__cil_tmp69 ;
  char *__cil_tmp70 ;
  char *__cil_tmp71 ;
  char *__cil_tmp72 ;
  char *__cil_tmp73 ;
  char *__cil_tmp74 ;
  char *__cil_tmp75 ;
  char *__cil_tmp76 ;
  char *__cil_tmp77 ;
  char *__cil_tmp78 ;
  char *__cil_tmp79 ;
  char *__cil_tmp80 ;
  char *__cil_tmp81 ;
  char *__cil_tmp82 ;
  char *__cil_tmp83 ;
  char *__cil_tmp84 ;
  char *__cil_tmp85 ;
  char *__cil_tmp86 ;
  char *__cil_tmp87 ;
  char *__cil_tmp88 ;
  char *__cil_tmp89 ;
  char *__cil_tmp90 ;
  char *__cil_tmp91 ;
  char *__cil_tmp92 ;
  char *__cil_tmp93 ;
  char *__cil_tmp94 ;

  {
#line 2975
  returnval = 0;
#line 2976
  on = 0;
#line 2976
  off = 0;
#line 2976
  pflags = 0;
#line 2976
  expand = 0;
#line 2979
  if ((int )ops->ind[117] & 2) {
#line 2980
    off |= 1 << 9;
  } else
#line 2981
  if ((int )ops->ind[117] & 1) {
#line 2982
    on |= 1 << 9;
  } else
#line 2981
  if ((int )ops->ind[88] != 0) {
#line 2982
    on |= 1 << 9;
  }
#line 2983
  if ((int )ops->ind[85] & 1) {
#line 2984
    on |= (1 << 13) | (1 << 9);
  } else
#line 2985
  if ((int )ops->ind[85] & 2) {
#line 2986
    off |= 1 << 13;
  }
#line 2987
  if ((int )ops->ind[116] & 1) {
#line 2988
    on |= 1 << 11;
  } else
#line 2989
  if ((int )ops->ind[116] & 2) {
#line 2990
    off |= 1 << 11;
  }
#line 2991
  if ((int )ops->ind[84] & 1) {
#line 2992
    on |= 1 << 16;
  } else
#line 2993
  if ((int )ops->ind[84] & 2) {
#line 2994
    off |= 1 << 16;
  }
#line 2995
  roff = off;
#line 2996
  if ((int )ops->ind[122] & 1) {
#line 2997
    on |= 1 << 18;
#line 2998
    off |= 1 << 17;
  } else
#line 2999
  if ((int )ops->ind[122] & 2) {
#line 3000
    off |= 1 << 18;
#line 3001
    roff |= 1 << 18;
  }
#line 3003
  if ((int )ops->ind[107] & 1) {
#line 3004
    on |= 1 << 17;
#line 3005
    off |= 1 << 18;
  } else
#line 3006
  if ((int )ops->ind[107] & 2) {
#line 3007
    off |= 1 << 17;
#line 3008
    roff |= 1 << 17;
  }
#line 3011
  if (off & (1 << 9)) {
    {
#line 3014
    zwarnnam((char const   *)name, "invalid option(s)");
    }
#line 3015
    return (1);
  } else
#line 3011
  if ((int )ops->ind[107] != 0) {
#line 3011
    if ((int )ops->ind[122] != 0) {
      {
#line 3014
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3015
      return (1);
    } else {
#line 3011
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 3011
  if ((int )ops->ind[120] != 0) {
#line 3011
    if (! ((int )ops->ind[120] > 3)) {
      {
#line 3014
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3015
      return (1);
    } else {
#line 3011
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 3011
  if ((int )ops->ind[88] & 1) {
#line 3011
    if ((int )ops->ind[109] != 0) {
      {
#line 3014
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3015
      return (1);
    } else
#line 3011
    if (*argv) {
      {
#line 3014
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3015
      return (1);
    } else
#line 3011
    if (! scriptname) {
      {
#line 3014
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3015
      return (1);
    }
  }
#line 3018
  if ((int )ops->ind[120] != 0) {
    {
#line 3020
    tmp = zstrtol((char const   *)*(ops->args + (((int )ops->ind[120] >> 2) - 1)),
                  & eptr, 10);
#line 3020
    expand = (int )tmp;
    }
#line 3021
    if (*eptr) {
      {
#line 3022
      zwarnnam((char const   *)name, "number expected after -x");
      }
#line 3023
      return (1);
    }
#line 3025
    if (expand == 0) {
#line 3026
      expand = -1;
    }
  }
#line 3029
  if ((int )ops->ind[102] & 2) {
#line 3030
    pflags |= 1;
  } else
#line 3029
  if (roff) {
#line 3030
    pflags |= 1;
  } else
#line 3029
  if ((int )ops->ind[43] != 0) {
#line 3030
    pflags |= 1;
  }
#line 3032
  if ((int )ops->ind[77] & 1) {
#line 3032
    goto _L___2;
  } else
#line 3032
  if ((int )ops->ind[77] & 2) {
    _L___2: /* CIL Label */ 
#line 3037
    if (on) {
      {
#line 3039
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3040
      return (1);
    } else
#line 3037
    if (off) {
      {
#line 3039
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3040
      return (1);
    } else
#line 3037
    if (pflags) {
      {
#line 3039
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3040
      return (1);
    } else
#line 3037
    if ((int )ops->ind[88] != 0) {
      {
#line 3039
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3040
      return (1);
    } else
#line 3037
    if ((int )ops->ind[117] != 0) {
      {
#line 3039
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3040
      return (1);
    } else
#line 3037
    if ((int )ops->ind[85] != 0) {
      {
#line 3039
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3040
      return (1);
    } else
#line 3037
    if ((int )ops->ind[119] != 0) {
      {
#line 3039
      zwarnnam((char const   *)name, "invalid option(s)");
      }
#line 3040
      return (1);
    }
#line 3042
    if (! *argv) {
#line 3044
      queueing_enabled ++;
#line 3045
      p = mathfuncs;
      {
#line 3045
      while (1) {
        while_continue: /* CIL Label */ ;
#line 3045
        if (! p) {
#line 3045
          goto while_break;
        }
#line 3046
        if (p->flags & 4) {
          {
#line 3047
          listusermathfunc(p);
          }
        }
#line 3045
        p = p->next;
      }
      while_break: /* CIL Label */ ;
      }
      {
#line 3048
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3048
        queueing_enabled --;
#line 3048
        if (! queueing_enabled) {
          {
#line 3048
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 3048
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 3048
              if (! (queue_front != queue_rear)) {
#line 3048
                goto while_break___2;
              }
              {
#line 3048
              queue_front = (queue_front + 1) % 128;
#line 3048
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3048
              zhandler(signal_queue[queue_front]);
#line 3048
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 3048
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 3048
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
    } else
#line 3049
    if ((int )ops->ind[109] != 0) {
      {
#line 3051
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 3051
        if (! *argv) {
#line 3051
          goto while_break___3;
        }
        {
#line 3052
        tokenize(*argv);
#line 3053
        pprog = patcompile(*argv, 64, (char **)0);
        }
#line 3053
        if (pprog) {
#line 3054
          queueing_enabled ++;
#line 3055
          p = mathfuncs;
#line 3055
          q = (MathFunc )((void *)0);
          {
#line 3055
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 3055
            if (! p) {
#line 3055
              goto while_break___4;
            }
            {
#line 3057
            while (1) {
              while_continue___5: /* CIL Label */ ;
#line 3058
              next___0 = (MathFunc )((void *)0);
#line 3059
              if (p->flags & 4) {
                {
#line 3059
                tmp___0 = pattry(pprog, p->name);
                }
#line 3059
                if (tmp___0) {
#line 3061
                  if ((int )ops->ind[77] & 2) {
                    {
#line 3062
                    next___0 = p->next;
#line 3063
                    removemathfunc(q, p);
#line 3064
                    p = next___0;
                    }
                  } else {
                    {
#line 3066
                    listusermathfunc(p);
                    }
                  }
                }
              }
#line 3057
              if (! next___0) {
#line 3057
                goto while_break___5;
              }
            }
            while_break___5: /* CIL Label */ ;
            }
#line 3070
            if (p) {
#line 3071
              p = p->next;
            }
#line 3055
            q = p;
          }
          while_break___4: /* CIL Label */ ;
          }
          {
#line 3073
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 3073
            queueing_enabled --;
#line 3073
            if (! queueing_enabled) {
              {
#line 3073
              while (1) {
                while_continue___7: /* CIL Label */ ;
                {
#line 3073
                while (1) {
                  while_continue___8: /* CIL Label */ ;
#line 3073
                  if (! (queue_front != queue_rear)) {
#line 3073
                    goto while_break___8;
                  }
                  {
#line 3073
                  queue_front = (queue_front + 1) % 128;
#line 3073
                  oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3073
                  zhandler(signal_queue[queue_front]);
#line 3073
                  signal_setmask(oset___0);
                  }
                }
                while_break___8: /* CIL Label */ ;
                }
#line 3073
                goto while_break___7;
              }
              while_break___7: /* CIL Label */ ;
              }
            }
#line 3073
            goto while_break___6;
          }
          while_break___6: /* CIL Label */ ;
          }
        } else {
          {
#line 3075
          untokenize(*argv);
#line 3076
          zwarnnam((char const   *)name, "bad pattern : %s", *argv);
#line 3077
          returnval = 1;
          }
        }
#line 3051
        argv ++;
      }
      while_break___3: /* CIL Label */ ;
      }
    } else
#line 3080
    if ((int )ops->ind[77] & 2) {
      {
#line 3082
      while (1) {
        while_continue___9: /* CIL Label */ ;
#line 3082
        if (! *argv) {
#line 3082
          goto while_break___9;
        }
#line 3083
        queueing_enabled ++;
#line 3084
        p = mathfuncs;
#line 3084
        q = (MathFunc )((void *)0);
        {
#line 3084
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 3084
          if (! p) {
#line 3084
            goto while_break___10;
          }
          {
#line 3085
          tmp___1 = strcmp((char const   *)p->name, (char const   *)*argv);
          }
#line 3085
          if (! tmp___1) {
#line 3086
            if (! (p->flags & 4)) {
              {
#line 3087
              zwarnnam((char const   *)name, "+M %s: is a library function", *argv);
#line 3089
              returnval = 1;
              }
#line 3090
              goto while_break___10;
            }
            {
#line 3092
            removemathfunc(q, p);
            }
#line 3093
            goto while_break___10;
          }
#line 3084
          q = p;
#line 3084
          p = p->next;
        }
        while_break___10: /* CIL Label */ ;
        }
        {
#line 3096
        while (1) {
          while_continue___11: /* CIL Label */ ;
#line 3096
          queueing_enabled --;
#line 3096
          if (! queueing_enabled) {
            {
#line 3096
            while (1) {
              while_continue___12: /* CIL Label */ ;
              {
#line 3096
              while (1) {
                while_continue___13: /* CIL Label */ ;
#line 3096
                if (! (queue_front != queue_rear)) {
#line 3096
                  goto while_break___13;
                }
                {
#line 3096
                queue_front = (queue_front + 1) % 128;
#line 3096
                oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 3096
                zhandler(signal_queue[queue_front]);
#line 3096
                signal_setmask(oset___1);
                }
              }
              while_break___13: /* CIL Label */ ;
              }
#line 3096
              goto while_break___12;
            }
            while_break___12: /* CIL Label */ ;
            }
          }
#line 3096
          goto while_break___11;
        }
        while_break___11: /* CIL Label */ ;
        }
#line 3082
        argv ++;
      }
      while_break___9: /* CIL Label */ ;
      }
    } else {
      {
#line 3100
      minargs = 0;
#line 3100
      maxargs = -1;
#line 3101
      tmp___2 = argv;
#line 3101
      argv ++;
#line 3101
      funcname = *tmp___2;
#line 3102
      modname = (char *)((void *)0);
#line 3105
      ptr___0 = itype_end((char const   *)funcname, 1 << 7, 0);
      }
#line 3106
      if ((int )typtab[(unsigned char )*funcname] & 1) {
        {
#line 3107
        zwarnnam((char const   *)name, "-M %s: bad math function name", funcname);
        }
#line 3108
        return (1);
      } else
#line 3106
      if ((unsigned long )funcname == (unsigned long )ptr___0) {
        {
#line 3107
        zwarnnam((char const   *)name, "-M %s: bad math function name", funcname);
        }
#line 3108
        return (1);
      } else
#line 3106
      if (*ptr___0) {
        {
#line 3107
        zwarnnam((char const   *)name, "-M %s: bad math function name", funcname);
        }
#line 3108
        return (1);
      }
#line 3111
      if (*argv) {
        {
#line 3112
        tmp___3 = zstrtol((char const   *)*argv, & ptr___0, 0);
#line 3112
        minargs = (int )tmp___3;
        }
#line 3113
        if (minargs < 0) {
          {
#line 3114
          zwarnnam((char const   *)name, "-M: invalid min number of arguments: %s",
                   *argv);
          }
#line 3116
          return (1);
        } else
#line 3113
        if (*ptr___0) {
          {
#line 3114
          zwarnnam((char const   *)name, "-M: invalid min number of arguments: %s",
                   *argv);
          }
#line 3116
          return (1);
        }
#line 3118
        maxargs = minargs;
#line 3119
        argv ++;
      }
#line 3121
      if (*argv) {
        {
#line 3122
        tmp___4 = zstrtol((char const   *)*argv, & ptr___0, 0);
#line 3122
        maxargs = (int )tmp___4;
        }
#line 3123
        if (maxargs < -1) {
          {
#line 3126
          zwarnnam((char const   *)name, "-M: invalid max number of arguments: %s",
                   *argv);
          }
#line 3129
          return (1);
        } else
#line 3123
        if (maxargs != -1) {
#line 3123
          if (maxargs < minargs) {
            {
#line 3126
            zwarnnam((char const   *)name, "-M: invalid max number of arguments: %s",
                     *argv);
            }
#line 3129
            return (1);
          } else {
#line 3123
            goto _L___1;
          }
        } else
        _L___1: /* CIL Label */ 
#line 3123
        if (*ptr___0) {
          {
#line 3126
          zwarnnam((char const   *)name, "-M: invalid max number of arguments: %s",
                   *argv);
          }
#line 3129
          return (1);
        }
#line 3131
        argv ++;
      }
#line 3133
      if (*argv) {
#line 3134
        tmp___5 = argv;
#line 3134
        argv ++;
#line 3134
        modname = *tmp___5;
      }
#line 3135
      if (*argv) {
        {
#line 3136
        zwarnnam((char const   *)name, "-M: too many arguments");
        }
#line 3137
        return (1);
      }
      {
#line 3140
      tmp___6 = zshcalloc(sizeof(struct mathfunc ));
#line 3140
      p = (MathFunc )tmp___6;
#line 3141
      p->name = ztrdup((char const   *)funcname);
#line 3142
      p->flags = 4;
      }
#line 3143
      if (modname) {
        {
#line 3143
        tmp___7 = ztrdup((char const   *)modname);
#line 3143
        p->module = tmp___7;
        }
      } else {
#line 3143
        p->module = (char *)((void *)0);
      }
#line 3144
      p->minargs = minargs;
#line 3145
      p->maxargs = maxargs;
#line 3147
      queueing_enabled ++;
#line 3148
      q = mathfuncs;
      {
#line 3148
      while (1) {
        while_continue___14: /* CIL Label */ ;
#line 3148
        if (! q) {
#line 3148
          goto while_break___14;
        }
        {
#line 3149
        tmp___8 = strcmp((char const   *)q->name, (char const   *)funcname);
        }
#line 3149
        if (! tmp___8) {
          {
#line 3150
          while (1) {
            while_continue___15: /* CIL Label */ ;
#line 3150
            queueing_enabled --;
#line 3150
            if (! queueing_enabled) {
              {
#line 3150
              while (1) {
                while_continue___16: /* CIL Label */ ;
                {
#line 3150
                while (1) {
                  while_continue___17: /* CIL Label */ ;
#line 3150
                  if (! (queue_front != queue_rear)) {
#line 3150
                    goto while_break___17;
                  }
                  {
#line 3150
                  queue_front = (queue_front + 1) % 128;
#line 3150
                  oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 3150
                  zhandler(signal_queue[queue_front]);
#line 3150
                  signal_setmask(oset___2);
                  }
                }
                while_break___17: /* CIL Label */ ;
                }
#line 3150
                goto while_break___16;
              }
              while_break___16: /* CIL Label */ ;
              }
            }
#line 3150
            goto while_break___15;
          }
          while_break___15: /* CIL Label */ ;
          }
          {
#line 3151
          zwarnnam((char const   *)name, "-M %s: function already exists", funcname);
#line 3153
          zsfree(p->name);
#line 3154
          zsfree(p->module);
#line 3155
          zfree((void *)p, (int )sizeof(struct mathfunc ));
          }
#line 3156
          return (1);
        }
#line 3148
        q = q->next;
      }
      while_break___14: /* CIL Label */ ;
      }
#line 3160
      p->next = mathfuncs;
#line 3161
      mathfuncs = p;
      {
#line 3162
      while (1) {
        while_continue___18: /* CIL Label */ ;
#line 3162
        queueing_enabled --;
#line 3162
        if (! queueing_enabled) {
          {
#line 3162
          while (1) {
            while_continue___19: /* CIL Label */ ;
            {
#line 3162
            while (1) {
              while_continue___20: /* CIL Label */ ;
#line 3162
              if (! (queue_front != queue_rear)) {
#line 3162
                goto while_break___20;
              }
              {
#line 3162
              queue_front = (queue_front + 1) % 128;
#line 3162
              oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 3162
              zhandler(signal_queue[queue_front]);
#line 3162
              signal_setmask(oset___3);
              }
            }
            while_break___20: /* CIL Label */ ;
            }
#line 3162
            goto while_break___19;
          }
          while_break___19: /* CIL Label */ ;
          }
        }
#line 3162
        goto while_break___18;
      }
      while_break___18: /* CIL Label */ ;
      }
    }
#line 3165
    return (returnval);
  }
#line 3171
  if (! *argv) {
#line 3172
    ret = 0;
#line 3174
    queueing_enabled ++;
#line 3175
    if ((int )ops->ind[88] & 1) {
#line 3177
      funcname___0 = (char *)((void *)0);
#line 3178
      fs = funcstack;
      {
#line 3178
      while (1) {
        while_continue___21: /* CIL Label */ ;
#line 3178
        if (! fs) {
#line 3178
          goto while_break___21;
        }
#line 3179
        if (fs->tp == 1) {
          {
#line 3184
          funcname___0 = dupstring((char const   *)fs->name);
          }
#line 3185
          goto while_break___21;
        }
#line 3178
        fs = fs->prev;
      }
      while_break___21: /* CIL Label */ ;
      }
#line 3188
      if (! funcname___0) {
        {
#line 3190
        zerrnam((char const   *)name, "bad autoload");
#line 3191
        ret = 1;
        }
      } else {
        {
#line 3193
        tmp___11 = (*(shfunctab->getnode))(shfunctab, (char const   *)funcname___0);
#line 3193
        shf = (Shfunc )tmp___11;
        }
#line 3193
        if (! shf) {
          {
#line 3197
          tmp___9 = zshcalloc(sizeof(*shf));
#line 3197
          shf = (Shfunc )tmp___9;
#line 3198
          tmp___10 = ztrdup((char const   *)funcname___0);
#line 3198
          (*(shfunctab->addnode))(shfunctab, tmp___10, (void *)shf);
          }
        }
        {
#line 3200
        shf->node.flags = on;
#line 3201
        ret = eval_autoload(shf, funcname___0, ops, func);
        }
      }
    } else {
#line 3204
      if ((int )ops->ind[85] != 0) {
#line 3204
        if (! ((int )ops->ind[117] != 0)) {
#line 3205
          on &= ~ (1 << 9);
        }
      }
      {
#line 3206
      scanshfunc(1, on | off, 1, shfunctab->printnode, pflags, expand);
      }
    }
    {
#line 3209
    while (1) {
      while_continue___22: /* CIL Label */ ;
#line 3209
      queueing_enabled --;
#line 3209
      if (! queueing_enabled) {
        {
#line 3209
        while (1) {
          while_continue___23: /* CIL Label */ ;
          {
#line 3209
          while (1) {
            while_continue___24: /* CIL Label */ ;
#line 3209
            if (! (queue_front != queue_rear)) {
#line 3209
              goto while_break___24;
            }
            {
#line 3209
            queue_front = (queue_front + 1) % 128;
#line 3209
            oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 3209
            zhandler(signal_queue[queue_front]);
#line 3209
            signal_setmask(oset___4);
            }
          }
          while_break___24: /* CIL Label */ ;
          }
#line 3209
          goto while_break___23;
        }
        while_break___23: /* CIL Label */ ;
        }
      }
#line 3209
      goto while_break___22;
    }
    while_break___22: /* CIL Label */ ;
    }
#line 3210
    return (ret);
  }
#line 3214
  if ((int )ops->ind[109] != 0) {
#line 3215
    on &= ~ (1 << 9);
    {
#line 3216
    while (1) {
      while_continue___25: /* CIL Label */ ;
#line 3216
      if (! *argv) {
#line 3216
        goto while_break___25;
      }
      {
#line 3218
      tokenize(*argv);
#line 3219
      pprog = patcompile(*argv, 64, (char **)0);
      }
#line 3219
      if (pprog) {
#line 3221
        queueing_enabled ++;
#line 3222
        if (! (on | off)) {
#line 3222
          if (! ((int )ops->ind[88] != 0)) {
            {
#line 3223
            scanmatchshfunc(pprog, 1, 0, 1, shfunctab->printnode, pflags, expand);
            }
          } else {
#line 3222
            goto _L___3;
          }
        } else {
          _L___3: /* CIL Label */ 
#line 3227
          i = 0;
          {
#line 3227
          while (1) {
            while_continue___26: /* CIL Label */ ;
#line 3227
            if (! (i < shfunctab->hsize)) {
#line 3227
              goto while_break___26;
            }
#line 3228
            shf = (Shfunc )*(shfunctab->nodes + i);
            {
#line 3228
            while (1) {
              while_continue___27: /* CIL Label */ ;
#line 3228
              if (! shf) {
#line 3228
                goto while_break___27;
              }
              {
#line 3230
              tmp___13 = pattry(pprog, shf->node.nam);
              }
#line 3230
              if (tmp___13) {
#line 3230
                if (! (shf->node.flags & 1)) {
#line 3232
                  shf->node.flags = (shf->node.flags | (on & ~ (1 << 9))) & ~ off;
#line 3234
                  if ((int )ops->ind[88] != 0) {
                    {
#line 3234
                    tmp___12 = eval_autoload(shf, shf->node.nam, ops, func);
                    }
#line 3234
                    if (tmp___12) {
#line 3236
                      returnval = 1;
                    }
                  }
                }
              }
#line 3228
              shf = (Shfunc )shf->node.next;
            }
            while_break___27: /* CIL Label */ ;
            }
#line 3227
            i ++;
          }
          while_break___26: /* CIL Label */ ;
          }
        }
        {
#line 3241
        while (1) {
          while_continue___28: /* CIL Label */ ;
#line 3241
          queueing_enabled --;
#line 3241
          if (! queueing_enabled) {
            {
#line 3241
            while (1) {
              while_continue___29: /* CIL Label */ ;
              {
#line 3241
              while (1) {
                while_continue___30: /* CIL Label */ ;
#line 3241
                if (! (queue_front != queue_rear)) {
#line 3241
                  goto while_break___30;
                }
                {
#line 3241
                queue_front = (queue_front + 1) % 128;
#line 3241
                oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 3241
                zhandler(signal_queue[queue_front]);
#line 3241
                signal_setmask(oset___5);
                }
              }
              while_break___30: /* CIL Label */ ;
              }
#line 3241
              goto while_break___29;
            }
            while_break___29: /* CIL Label */ ;
            }
          }
#line 3241
          goto while_break___28;
        }
        while_break___28: /* CIL Label */ ;
        }
      } else {
        {
#line 3243
        untokenize(*argv);
#line 3244
        zwarnnam((char const   *)name, "bad pattern : %s", *argv);
#line 3245
        returnval = 1;
        }
      }
#line 3216
      argv ++;
    }
    while_break___25: /* CIL Label */ ;
    }
#line 3248
    return (returnval);
  }
#line 3252
  queueing_enabled ++;
  {
#line 3253
  while (1) {
    while_continue___31: /* CIL Label */ ;
#line 3253
    if (! *argv) {
#line 3253
      goto while_break___31;
    }
#line 3254
    if ((int )ops->ind[119] != 0) {
      {
#line 3255
      returnval = dump_autoload(name, *argv, on, ops, func);
      }
    } else {
      {
#line 3256
      tmp___20 = (*(shfunctab->getnode))(shfunctab, (char const   *)*argv);
#line 3256
      shf = (Shfunc )tmp___20;
      }
#line 3256
      if (shf) {
#line 3258
        if (on | off) {
#line 3260
          shf->node.flags = (shf->node.flags | (on & ~ (1 << 9))) & ~ off;
#line 3261
          if ((int )ops->ind[88] != 0) {
            {
#line 3261
            tmp___14 = eval_autoload(shf, shf->node.nam, ops, func);
            }
#line 3261
            if (tmp___14) {
#line 3263
              returnval = 1;
            }
          }
        } else {
          {
#line 3266
          printshfuncexpand(& shf->node, pflags, expand);
          }
        }
      } else
#line 3267
      if (on & (1 << 9)) {
        {
#line 3268
        signum = -1;
#line 3268
        ok = 1;
#line 3270
        tmp___15 = strncmp((char const   *)*argv, "TRAP", (size_t )4);
        }
#line 3270
        if (! tmp___15) {
          {
#line 3270
          signum = getsignum((char const   *)(*argv + 4));
          }
#line 3270
          if (signum != -1) {
            {
#line 3276
            removetrapnode(signum);
            }
          }
        }
        {
#line 3281
        tmp___16 = zshcalloc(sizeof(*shf));
#line 3281
        shf = (Shfunc )tmp___16;
#line 3282
        shf->node.flags = on;
#line 3283
        shf->funcdef = mkautofn(shf);
#line 3284
        shfunc_set_sticky(shf);
#line 3285
        tmp___17 = ztrdup((char const   *)*argv);
#line 3285
        (*(shfunctab->addnode))(shfunctab, tmp___17, (void *)shf);
        }
#line 3287
        if (signum != -1) {
          {
#line 3288
          tmp___18 = settrap(signum, (Eprog )((void *)0), 1 << 2);
          }
#line 3288
          if (tmp___18) {
            {
#line 3289
            (*(shfunctab->removenode))(shfunctab, (char const   *)*argv);
#line 3290
            (*(shfunctab->freenode))(& shf->node);
#line 3291
            returnval = 1;
#line 3292
            ok = 0;
            }
          }
        }
#line 3296
        if (ok) {
#line 3296
          if ((int )ops->ind[88] != 0) {
            {
#line 3296
            tmp___19 = eval_autoload(shf, shf->node.nam, ops, func);
            }
#line 3296
            if (tmp___19) {
#line 3298
              returnval = 1;
            }
          }
        }
      } else {
#line 3300
        returnval = 1;
      }
    }
#line 3253
    argv ++;
  }
  while_break___31: /* CIL Label */ ;
  }
  {
#line 3302
  while (1) {
    while_continue___32: /* CIL Label */ ;
#line 3302
    queueing_enabled --;
#line 3302
    if (! queueing_enabled) {
      {
#line 3302
      while (1) {
        while_continue___33: /* CIL Label */ ;
        {
#line 3302
        while (1) {
          while_continue___34: /* CIL Label */ ;
#line 3302
          if (! (queue_front != queue_rear)) {
#line 3302
            goto while_break___34;
          }
          {
#line 3302
          queue_front = (queue_front + 1) % 128;
#line 3302
          oset___6 = signal_setmask(signal_mask_queue[queue_front]);
#line 3302
          zhandler(signal_queue[queue_front]);
#line 3302
          signal_setmask(oset___6);
          }
        }
        while_break___34: /* CIL Label */ ;
        }
#line 3302
        goto while_break___33;
      }
      while_break___33: /* CIL Label */ ;
      }
    }
#line 3302
    goto while_break___32;
  }
  while_break___32: /* CIL Label */ ;
  }
#line 3303
  return (returnval);
}
}
#line 3307 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
Eprog mkautofn(Shfunc shf ) 
{ 
  Eprog p ;
  void *tmp ;
  void *tmp___0 ;

  {
  {
#line 3312
  tmp = zalloc(sizeof(*p));
#line 3312
  p = (Eprog )tmp;
#line 3313
  p->len = (int )(5UL * sizeof(wordcode ));
#line 3314
  tmp___0 = zalloc((size_t )p->len);
#line 3314
  p->prog = (Wordcode )tmp___0;
#line 3315
  p->strs = (char *)((void *)0);
#line 3316
  p->shf = shf;
#line 3317
  p->npats = 0;
#line 3318
  p->nref = 1;
#line 3319
  p->pats = (Patprog *)p->prog;
#line 3320
  p->flags = 1;
#line 3321
  p->dump = (FuncDump )((void *)0);
#line 3323
  *(p->prog + 0) = 1U | ((wordcode )((1 << 1) | (1 << 4)) << 5);
#line 3324
  *(p->prog + 1) = 2U | ((wordcode )(3 << 5) << 5);
#line 3325
  *(p->prog + 2) = 3U;
#line 3326
  *(p->prog + 3) = 20U;
#line 3327
  *(p->prog + 4) = 0U;
  }
#line 3329
  return (p);
}
}
#line 3335 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_unset(char *name , char **argv , Options ops , int func ) 
{ 
  Param pm ;
  Param next___0 ;
  Patprog pprog ;
  char *s ;
  int match ;
  int returnval ;
  int i ;
  int tmp ;
  int tmp___0 ;
  sigset_t oset ;
  char **tmp___1 ;
  char *ss ;
  char *tmp___2 ;
  char *subscript ;
  char *sse ;
  int tmp___3 ;
  HashNode tmp___4 ;
  HashNode tmp___5 ;
  HashNode tmp___6 ;
  HashTable tht ;
  struct value vbuf ;
  char *tmp___7 ;
  int start ;
  char *arr[2] ;
  char **tmp___8 ;
  char tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  char **tmp___12 ;
  sigset_t oset___0 ;
  void *__cil_tmp35 ;
  void *__cil_tmp36 ;
  void *__cil_tmp37 ;
  char *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;

  {
#line 3341
  match = 0;
#line 3341
  returnval = 0;
#line 3345
  if ((int )ops->ind[102] != 0) {
    {
#line 3346
    tmp = bin_unhash(name, argv, ops, func);
    }
#line 3346
    return (tmp);
  }
#line 3349
  if ((int )ops->ind[109] != 0) {
    {
#line 3350
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3350
      tmp___1 = argv;
#line 3350
      argv ++;
#line 3350
      s = *tmp___1;
#line 3350
      if (! s) {
#line 3350
        goto while_break;
      }
      {
#line 3352
      tokenize(s);
#line 3353
      pprog = patcompile(s, 64, (char **)((void *)0));
      }
#line 3353
      if (pprog) {
#line 3355
        queueing_enabled ++;
#line 3356
        i = 0;
        {
#line 3356
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 3356
          if (! (i < paramtab->hsize)) {
#line 3356
            goto while_break___0;
          }
#line 3357
          pm = (Param )*(paramtab->nodes + i);
          {
#line 3357
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 3357
            if (! pm) {
#line 3357
              goto while_break___1;
            }
#line 3359
            next___0 = (Param )pm->node.next;
#line 3360
            if (! (pm->node.flags & (1 << 24))) {
#line 3360
              goto _L;
            } else
#line 3360
            if (! opts[153]) {
              _L: /* CIL Label */ 
              {
#line 3360
              tmp___0 = pattry(pprog, pm->node.nam);
              }
#line 3360
              if (tmp___0) {
                {
#line 3363
                unsetparam_pm(pm, 0, 1);
#line 3364
                match ++;
                }
              }
            }
#line 3357
            pm = next___0;
          }
          while_break___1: /* CIL Label */ ;
          }
#line 3356
          i ++;
        }
        while_break___0: /* CIL Label */ ;
        }
        {
#line 3368
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 3368
          queueing_enabled --;
#line 3368
          if (! queueing_enabled) {
            {
#line 3368
            while (1) {
              while_continue___3: /* CIL Label */ ;
              {
#line 3368
              while (1) {
                while_continue___4: /* CIL Label */ ;
#line 3368
                if (! (queue_front != queue_rear)) {
#line 3368
                  goto while_break___4;
                }
                {
#line 3368
                queue_front = (queue_front + 1) % 128;
#line 3368
                oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3368
                zhandler(signal_queue[queue_front]);
#line 3368
                signal_setmask(oset);
                }
              }
              while_break___4: /* CIL Label */ ;
              }
#line 3368
              goto while_break___3;
            }
            while_break___3: /* CIL Label */ ;
            }
          }
#line 3368
          goto while_break___2;
        }
        while_break___2: /* CIL Label */ ;
        }
      } else {
        {
#line 3370
        untokenize(s);
#line 3371
        zwarnnam((char const   *)name, "bad pattern : %s", s);
#line 3372
        returnval = 1;
        }
      }
    }
    while_break: /* CIL Label */ ;
    }
#line 3376
    if (! match) {
#line 3377
      returnval = 1;
    }
#line 3378
    return (returnval);
  }
#line 3382
  queueing_enabled ++;
  {
#line 3383
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 3383
    tmp___12 = argv;
#line 3383
    argv ++;
#line 3383
    s = *tmp___12;
#line 3383
    if (! s) {
#line 3383
      goto while_break___5;
    }
    {
#line 3384
    tmp___2 = strchr((char const   *)s, '[');
#line 3384
    ss = tmp___2;
#line 3384
    subscript = (char *)0;
    }
#line 3385
    if (ss) {
      {
#line 3387
      *ss = (char)0;
#line 3388
      sse = parse_subscript(ss + 1, 1, ']');
      }
#line 3388
      if (sse) {
        {
#line 3389
        *sse = (char)0;
#line 3390
        subscript = dupstring((char const   *)(ss + 1));
#line 3391
        *sse = (char )']';
#line 3392
        remnulargs(subscript);
#line 3393
        untokenize(subscript);
        }
      }
    }
#line 3396
    if (ss) {
#line 3396
      if (! subscript) {
#line 3396
        goto _L___0;
      } else {
#line 3396
        goto _L___1;
      }
    } else {
      _L___1: /* CIL Label */ 
      {
#line 3396
      tmp___3 = isident(s);
      }
#line 3396
      if (! tmp___3) {
        _L___0: /* CIL Label */ 
#line 3397
        if (ss) {
#line 3398
          *ss = (char )'[';
        }
        {
#line 3399
        zerrnam((char const   *)name, "%s: invalid parameter name", s);
#line 3400
        returnval = 1;
        }
#line 3401
        goto while_continue___5;
      }
    }
#line 3403
    if ((unsigned long )paramtab == (unsigned long )realparamtab) {
      {
#line 3403
      tmp___4 = (*(paramtab->getnode2))(paramtab, (char const   *)s);
#line 3403
      tmp___6 = tmp___4;
      }
    } else {
      {
#line 3403
      tmp___5 = (*(paramtab->getnode))(paramtab, (char const   *)s);
#line 3403
      tmp___6 = tmp___5;
      }
    }
#line 3403
    pm = (Param )tmp___6;
#line 3411
    if (! pm) {
#line 3412
      goto while_continue___5;
    } else
#line 3413
    if (pm->node.flags & (1 << 24)) {
#line 3413
      if (opts[153]) {
        {
#line 3414
        zerrnam((char const   *)name, "%s: restricted", pm->node.nam);
#line 3415
        returnval = 1;
        }
      } else {
#line 3413
        goto _L___3;
      }
    } else
    _L___3: /* CIL Label */ 
#line 3416
    if (ss) {
#line 3417
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1 << 4) {
        {
#line 3418
        tht = paramtab;
#line 3419
        paramtab = (*((pm->gsu.h)->getfn))(pm);
        }
#line 3419
        if (paramtab) {
          {
#line 3420
          unsetparam(subscript);
          }
        }
#line 3421
        paramtab = tht;
      } else
#line 3422
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
#line 3422
        goto _L___2;
      } else
#line 3422
      if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
        _L___2: /* CIL Label */ 
#line 3425
        if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 3425
          vbuf.isarr = 1 << 9;
        } else {
#line 3425
          vbuf.isarr = 0;
        }
        {
#line 3427
        vbuf.pm = pm;
#line 3428
        vbuf.flags = 0;
#line 3429
        vbuf.start = 0;
#line 3430
        vbuf.end = -1;
#line 3431
        vbuf.arr = (char **)0;
#line 3432
        *ss = (char )'[';
#line 3433
        tmp___10 = getindex(& ss, & vbuf, 1 << 6);
        }
#line 3433
        if (tmp___10 == 0) {
#line 3433
          if (vbuf.pm) {
#line 3433
            if (! ((vbuf.pm)->node.flags & (1 << 25))) {
#line 3435
              if ((pm->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 0) {
                {
#line 3436
                tmp___7 = ztrdup("");
#line 3436
                setstrvalue(& vbuf, tmp___7);
                }
              } else {
                {
#line 3439
                start = vbuf.start - ! (! (vbuf.flags & 1));
#line 3440
                tmp___9 = arrlen_gt((vbuf.pm)->u.arr, (unsigned int )start);
                }
#line 3440
                if (tmp___9) {
                  {
#line 3442
                  arr[0] = (char *)"";
#line 3443
                  arr[1] = (char *)0;
#line 3444
                  tmp___8 = zarrdup(arr);
#line 3444
                  setarrvalue(& vbuf, tmp___8);
                  }
                }
              }
            }
          }
        }
#line 3448
        returnval = errflag;
#line 3449
        errflag &= -2;
      } else {
        {
#line 3451
        zerrnam((char const   *)name, "%s: invalid element for unset", s);
#line 3452
        returnval = 1;
        }
      }
    } else {
      {
#line 3455
      tmp___11 = unsetparam_pm(pm, 0, 1);
      }
#line 3455
      if (tmp___11) {
#line 3456
        returnval = 1;
      }
    }
#line 3458
    if (ss) {
#line 3459
      *ss = (char )'[';
    }
  }
  while_break___5: /* CIL Label */ ;
  }
  {
#line 3461
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 3461
    queueing_enabled --;
#line 3461
    if (! queueing_enabled) {
      {
#line 3461
      while (1) {
        while_continue___7: /* CIL Label */ ;
        {
#line 3461
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 3461
          if (! (queue_front != queue_rear)) {
#line 3461
            goto while_break___8;
          }
          {
#line 3461
          queue_front = (queue_front + 1) % 128;
#line 3461
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3461
          zhandler(signal_queue[queue_front]);
#line 3461
          signal_setmask(oset___0);
          }
        }
        while_break___8: /* CIL Label */ ;
        }
#line 3461
        goto while_break___7;
      }
      while_break___7: /* CIL Label */ ;
      }
    }
#line 3461
    goto while_break___6;
  }
  while_break___6: /* CIL Label */ ;
  }
#line 3462
  return (returnval);
}
}
#line 3467 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static LinkList matchednodes  ;
#line 3469 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static void fetchcmdnamnode(HashNode hn , int printflags  __attribute__((__unused__)) ) 
{ 
  Cmdnam cn ;

  {
  {
#line 3472
  cn = (Cmdnam )hn;
#line 3473
  insertlinknode(matchednodes, matchednodes->list.last, (void *)cn->node.nam);
  }
#line 3474
  return;
}
}
#line 3477 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_whence(char *nam , char **argv , Options ops , int func ) 
{ 
  HashNode hn ;
  Patprog pprog ;
  int returnval ;
  int printflags ;
  int aliasflags ;
  int csh ;
  int all ;
  int v ;
  int wd ;
  int informed ;
  int expand ;
  char *cnam ;
  char **allmatched ;
  char *eptr ;
  zlong tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void (*tmp___4)(HashNode hn , int printflags  __attribute__((__unused__)) ) ;
  int tmp___5 ;
  sigset_t oset ;
  int tmp___6 ;
  char *suf ;
  char **pp ;
  char *buf___7 ;
  int tmp___7 ;
  char const   *tmp___8 ;
  char const   *tmp___9 ;
  int tmp___10 ;
  sigset_t oset___0 ;
  int tmp___11 ;
  void *__cil_tmp37 ;
  void *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;
  char *__cil_tmp49 ;

  {
#line 3482
  returnval = 0;
#line 3483
  printflags = 0;
#line 3486
  informed = 0;
#line 3487
  expand = 0;
#line 3488
  allmatched = (char **)0;
#line 3491
  csh = (int )ops->ind[99] != 0;
#line 3492
  v = (int )ops->ind[118] != 0;
#line 3493
  all = (int )ops->ind[97] != 0;
#line 3494
  wd = (int )ops->ind[119] != 0;
#line 3496
  if ((int )ops->ind[120] != 0) {
    {
#line 3498
    tmp = zstrtol((char const   *)*(ops->args + (((int )ops->ind[120] >> 2) - 1)),
                  & eptr, 10);
#line 3498
    expand = (int )tmp;
    }
#line 3499
    if (*eptr) {
      {
#line 3500
      zwarnnam((char const   *)nam, "number expected after -x");
      }
#line 3501
      return (1);
    }
#line 3503
    if (expand == 0) {
#line 3504
      expand = -1;
    }
  }
#line 3507
  if ((int )ops->ind[119] != 0) {
#line 3508
    printflags |= 1 << 10;
  } else
#line 3509
  if ((int )ops->ind[99] != 0) {
#line 3510
    printflags |= 1 << 6;
  } else
#line 3511
  if ((int )ops->ind[118] != 0) {
#line 3512
    printflags |= 1 << 7;
  } else {
#line 3514
    printflags |= 1 << 8;
  }
#line 3515
  if ((int )ops->ind[102] != 0) {
#line 3516
    printflags |= 1 << 9;
  }
#line 3518
  if (func == 27) {
#line 3519
    if ((int )ops->ind[86] != 0) {
#line 3520
      aliasflags = 1 << 7;
#line 3520
      printflags = aliasflags;
#line 3521
      v = 1;
    } else {
#line 3523
      aliasflags = 1 << 2;
#line 3524
      printflags = 1 << 8;
#line 3525
      v = 0;
    }
  } else {
#line 3528
    aliasflags = printflags;
  }
#line 3531
  if ((int )ops->ind[109] != 0) {
    {
#line 3532
    (*(cmdnamtab->filltable))(cmdnamtab);
    }
#line 3533
    if (all) {
      {
#line 3534
      pushheap();
#line 3535
      matchednodes = newlinklist();
      }
    }
    {
#line 3537
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3537
      if (! *argv) {
#line 3537
        goto while_break;
      }
      {
#line 3539
      tokenize(*argv);
#line 3540
      pprog = patcompile(*argv, 64, (char **)((void *)0));
      }
#line 3540
      if (! pprog) {
        {
#line 3541
        untokenize(*argv);
#line 3542
        zwarnnam((char const   *)nam, "bad pattern : %s", *argv);
#line 3543
        returnval = 1;
        }
#line 3544
        goto __Cont;
      }
#line 3546
      queueing_enabled ++;
#line 3547
      if (! ((int )ops->ind[112] != 0)) {
        {
#line 3552
        tmp___0 = scanmatchtable(aliastab, pprog, 1, 0, 1, aliastab->printnode, printflags);
#line 3552
        informed += tmp___0;
#line 3557
        tmp___1 = scanmatchtable(reswdtab, pprog, 1, 0, 1, reswdtab->printnode, printflags);
#line 3557
        informed += tmp___1;
#line 3562
        tmp___2 = scanmatchshfunc(pprog, 1, 0, 1, shfunctab->printnode, printflags,
                                  expand);
#line 3562
        informed += tmp___2;
#line 3567
        tmp___3 = scanmatchtable(builtintab, pprog, 1, 0, 1, builtintab->printnode,
                                 printflags);
#line 3567
        informed += tmp___3;
        }
      }
#line 3573
      if (all) {
#line 3573
        tmp___4 = & fetchcmdnamnode;
      } else {
#line 3573
        tmp___4 = cmdnamtab->printnode;
      }
      {
#line 3573
      tmp___5 = scanmatchtable(cmdnamtab, pprog, 1, 0, 0, tmp___4, printflags);
#line 3573
      informed += tmp___5;
      }
      {
#line 3578
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3578
        queueing_enabled --;
#line 3578
        if (! queueing_enabled) {
          {
#line 3578
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 3578
            while (1) {
              while_continue___2: /* CIL Label */ ;
#line 3578
              if (! (queue_front != queue_rear)) {
#line 3578
                goto while_break___2;
              }
              {
#line 3578
              queue_front = (queue_front + 1) % 128;
#line 3578
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3578
              zhandler(signal_queue[queue_front]);
#line 3578
              signal_setmask(oset);
              }
            }
            while_break___2: /* CIL Label */ ;
            }
#line 3578
            goto while_break___1;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 3578
        goto while_break___0;
      }
      while_break___0: /* CIL Label */ ;
      }
      __Cont: /* CIL Label */ 
#line 3537
      argv ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 3580
    if (all) {
      {
#line 3581
      argv = zlinklist2array(matchednodes);
#line 3581
      allmatched = argv;
#line 3582
      matchednodes = (LinkList )((void *)0);
#line 3583
      popheap();
      }
    } else {
#line 3585
      if (returnval) {
#line 3585
        tmp___6 = 1;
      } else
#line 3585
      if (! informed) {
#line 3585
        tmp___6 = 1;
      } else {
#line 3585
        tmp___6 = 0;
      }
#line 3585
      return (tmp___6);
    }
  }
#line 3589
  queueing_enabled ++;
  {
#line 3590
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 3590
    if (! *argv) {
#line 3590
      goto while_break___3;
    }
#line 3591
    if (! ((int )ops->ind[112] != 0)) {
#line 3591
      if (! allmatched) {
        {
#line 3595
        hn = (*(aliastab->getnode))(aliastab, (char const   *)*argv);
        }
#line 3595
        if (hn) {
          {
#line 3596
          (*(aliastab->printnode))(hn, aliasflags);
#line 3597
          informed = 1;
          }
#line 3598
          if (! all) {
#line 3599
            goto __Cont___0;
          }
        }
        {
#line 3602
        suf = strrchr((char const   *)*argv, '.');
        }
#line 3602
        if (suf) {
#line 3602
          if (*(suf + 1)) {
#line 3602
            if ((unsigned long )suf > (unsigned long )*argv) {
#line 3602
              if ((int )*(suf + -1) != -125) {
                {
#line 3602
                hn = (*(sufaliastab->getnode))(sufaliastab, (char const   *)(suf + 1));
                }
#line 3602
                if (hn) {
                  {
#line 3605
                  (*(sufaliastab->printnode))(hn, printflags);
#line 3606
                  informed = 1;
                  }
#line 3607
                  if (! all) {
#line 3608
                    goto __Cont___0;
                  }
                }
              }
            }
          }
        }
        {
#line 3611
        hn = (*(reswdtab->getnode))(reswdtab, (char const   *)*argv);
        }
#line 3611
        if (hn) {
          {
#line 3612
          (*(reswdtab->printnode))(hn, printflags);
#line 3613
          informed = 1;
          }
#line 3614
          if (! all) {
#line 3615
            goto __Cont___0;
          }
        }
        {
#line 3618
        hn = (*(shfunctab->getnode))(shfunctab, (char const   *)*argv);
        }
#line 3618
        if (hn) {
          {
#line 3619
          printshfuncexpand(hn, printflags, expand);
#line 3620
          informed = 1;
          }
#line 3621
          if (! all) {
#line 3622
            goto __Cont___0;
          }
        }
        {
#line 3625
        hn = (*(builtintab->getnode))(builtintab, (char const   *)*argv);
        }
#line 3625
        if (hn) {
          {
#line 3626
          (*(builtintab->printnode))(hn, printflags);
#line 3627
          informed = 1;
          }
#line 3628
          if (! all) {
#line 3629
            goto __Cont___0;
          }
        }
        {
#line 3633
        hn = (*(cmdnamtab->getnode))(cmdnamtab, (char const   *)*argv);
        }
#line 3633
        if (hn) {
#line 3633
          if (hn->flags & (1 << 1)) {
            {
#line 3634
            (*(cmdnamtab->printnode))(hn, printflags);
#line 3635
            informed = 1;
            }
#line 3636
            if (! all) {
#line 3637
              goto __Cont___0;
            }
          }
        }
      }
    }
#line 3643
    if (all) {
#line 3643
      if ((int )*(*argv) != 47) {
        {
#line 3646
        pushheap();
#line 3647
        pp = path;
        }
        {
#line 3647
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 3647
          if (! *pp) {
#line 3647
            goto while_break___4;
          }
#line 3648
          if (*(*pp)) {
            {
#line 3649
            buf___7 = zhtricat((char const   *)*pp, "/", (char const   *)*argv);
            }
          } else {
            {
#line 3650
            buf___7 = dupstring((char const   *)*argv);
            }
          }
          {
#line 3652
          tmp___7 = iscom(buf___7);
          }
#line 3652
          if (tmp___7) {
#line 3653
            if (wd) {
              {
#line 3654
              printf((char const   */* __restrict  */)"%s: command\n", *argv);
              }
            } else {
#line 3656
              if (v) {
#line 3656
                if (! csh) {
                  {
#line 3657
                  zputs((char const   *)*argv, stdout);
#line 3657
                  fputs((char const   */* __restrict  */)" is ", (FILE */* __restrict  */)stdout);
                  }
                }
              }
              {
#line 3658
              zputs((char const   *)buf___7, stdout);
              }
#line 3659
              if ((int )ops->ind[115] != 0) {
                {
#line 3660
                print_if_link(buf___7, (int )ops->ind[83] != 0);
                }
              } else
#line 3659
              if ((int )ops->ind[83] != 0) {
                {
#line 3660
                print_if_link(buf___7, (int )ops->ind[83] != 0);
                }
              }
              {
#line 3661
              fputc('\n', stdout);
              }
            }
#line 3663
            informed = 1;
          }
#line 3647
          pp ++;
        }
        while_break___4: /* CIL Label */ ;
        }
#line 3666
        if (! informed) {
#line 3666
          if (wd) {
#line 3666
            goto _L;
          } else
#line 3666
          if (v) {
#line 3666
            goto _L;
          } else
#line 3666
          if (csh) {
            _L: /* CIL Label */ 
            {
#line 3668
            zputs((char const   *)*argv, stdout);
            }
#line 3669
            if (wd) {
#line 3669
              tmp___8 = ": none";
            } else {
#line 3669
              tmp___8 = " not found";
            }
            {
#line 3669
            puts(tmp___8);
#line 3670
            returnval = 1;
            }
          }
        }
        {
#line 3672
        popheap();
        }
      } else {
#line 3643
        goto _L___3;
      }
    } else
    _L___3: /* CIL Label */ 
#line 3673
    if (func == 27) {
#line 3673
      if ((int )ops->ind[112] != 0) {
        {
#line 3673
        hn = (*(builtintab->getnode))(builtintab, (char const   *)*argv);
        }
#line 3673
        if (hn) {
          {
#line 3679
          (*(builtintab->printnode))(hn, printflags);
#line 3680
          informed = 1;
          }
        } else {
#line 3673
          goto _L___2;
        }
      } else {
#line 3673
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ 
#line 3681
      if (func == 27) {
#line 3681
        if ((int )ops->ind[112] != 0) {
#line 3681
          tmp___10 = 1;
        } else {
#line 3681
          tmp___10 = 0;
        }
      } else {
#line 3681
        tmp___10 = 0;
      }
      {
#line 3681
      cnam = findcmd(*argv, 1, tmp___10);
      }
#line 3681
      if (cnam) {
#line 3685
        if (wd) {
          {
#line 3686
          printf((char const   */* __restrict  */)"%s: command\n", *argv);
          }
        } else {
#line 3688
          if (v) {
#line 3688
            if (! csh) {
              {
#line 3689
              zputs((char const   *)*argv, stdout);
#line 3689
              fputs((char const   */* __restrict  */)" is ", (FILE */* __restrict  */)stdout);
              }
            }
          }
          {
#line 3690
          zputs((char const   *)cnam, stdout);
          }
#line 3691
          if ((int )ops->ind[115] != 0) {
            {
#line 3692
            print_if_link(cnam, (int )ops->ind[83] != 0);
            }
          } else
#line 3691
          if ((int )ops->ind[83] != 0) {
            {
#line 3692
            print_if_link(cnam, (int )ops->ind[83] != 0);
            }
          }
          {
#line 3693
          fputc('\n', stdout);
          }
        }
#line 3695
        informed = 1;
      } else {
#line 3698
        if (v) {
#line 3698
          goto _L___0;
        } else
#line 3698
        if (csh) {
#line 3698
          goto _L___0;
        } else
#line 3698
        if (wd) {
          _L___0: /* CIL Label */ 
          {
#line 3699
          zputs((char const   *)*argv, stdout);
          }
#line 3699
          if (wd) {
#line 3699
            tmp___9 = ": none";
          } else {
#line 3699
            tmp___9 = " not found";
          }
          {
#line 3699
          puts(tmp___9);
          }
        }
#line 3700
        returnval = 1;
      }
    }
    __Cont___0: /* CIL Label */ 
#line 3590
    argv ++;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 3703
  if (allmatched) {
    {
#line 3704
    freearray(allmatched);
    }
  }
  {
#line 3706
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 3706
    queueing_enabled --;
#line 3706
    if (! queueing_enabled) {
      {
#line 3706
      while (1) {
        while_continue___6: /* CIL Label */ ;
        {
#line 3706
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 3706
          if (! (queue_front != queue_rear)) {
#line 3706
            goto while_break___7;
          }
          {
#line 3706
          queue_front = (queue_front + 1) % 128;
#line 3706
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3706
          zhandler(signal_queue[queue_front]);
#line 3706
          signal_setmask(oset___0);
          }
        }
        while_break___7: /* CIL Label */ ;
        }
#line 3706
        goto while_break___6;
      }
      while_break___6: /* CIL Label */ ;
      }
    }
#line 3706
    goto while_break___5;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 3707
  if (returnval) {
#line 3707
    tmp___11 = 1;
  } else
#line 3707
  if (! informed) {
#line 3707
    tmp___11 = 1;
  } else {
#line 3707
    tmp___11 = 0;
  }
#line 3707
  return (tmp___11);
}
}
#line 3731 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_hash(char *name , char **argv , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  HashTable ht ;
  Patprog pprog ;
  Asgment asg___0 ;
  int returnval ;
  int printflags ;
  sigset_t oset ;
  void *hn ;
  Nameddir nd ;
  char *tmp ;
  Cmdnam cn ;
  char *tmp___0 ;
  char *tmp___1 ;
  Cmdnam tmp___2 ;
  HashNode tmp___3 ;
  HashNode tmp___4 ;
  sigset_t oset___0 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;

  {
#line 3737
  returnval = 0;
#line 3738
  printflags = 0;
#line 3740
  if ((int )ops->ind[100] != 0) {
#line 3741
    ht = nameddirtab;
  } else {
#line 3743
    ht = cmdnamtab;
  }
#line 3745
  if ((int )ops->ind[114] != 0) {
#line 3745
    goto _L;
  } else
#line 3745
  if ((int )ops->ind[102] != 0) {
    _L: /* CIL Label */ 
#line 3747
    if (*argv) {
      {
#line 3748
      zwarnnam("hash", "too many arguments");
      }
#line 3749
      return (1);
    }
#line 3753
    if ((int )ops->ind[114] != 0) {
      {
#line 3754
      (*(ht->emptytable))(ht);
      }
    }
#line 3757
    if ((int )ops->ind[102] != 0) {
      {
#line 3758
      (*(ht->filltable))(ht);
      }
    }
#line 3760
    return (0);
  }
#line 3763
  if ((int )ops->ind[76] != 0) {
#line 3763
    printflags |= 1 << 2;
  }
#line 3766
  if (! *argv) {
    {
#line 3767
    queueing_enabled ++;
#line 3768
    scanhashtable(ht, 1, 0, 0, ht->printnode, printflags);
    }
    {
#line 3769
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3769
      queueing_enabled --;
#line 3769
      if (! queueing_enabled) {
        {
#line 3769
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 3769
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 3769
            if (! (queue_front != queue_rear)) {
#line 3769
              goto while_break___1;
            }
            {
#line 3769
            queue_front = (queue_front + 1) % 128;
#line 3769
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3769
            zhandler(signal_queue[queue_front]);
#line 3769
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 3769
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 3769
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 3770
    return (0);
  }
#line 3773
  queueing_enabled ++;
  {
#line 3774
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 3774
    if (! *argv) {
#line 3774
      goto while_break___2;
    }
#line 3776
    if ((int )ops->ind[109] != 0) {
      {
#line 3778
      tokenize(*argv);
#line 3779
      pprog = patcompile(*argv, 64, (char **)((void *)0));
      }
#line 3779
      if (pprog) {
        {
#line 3781
        scanmatchtable(ht, pprog, 1, 0, 0, ht->printnode, printflags);
        }
      } else {
        {
#line 3783
        untokenize(*argv);
#line 3784
        zwarnnam((char const   *)name, "bad pattern : %s", *argv);
#line 3785
        returnval = 1;
        }
      }
#line 3787
      argv ++;
#line 3788
      goto while_continue___2;
    }
    {
#line 3790
    asg___0 = getasg(& argv, (LinkList )((void *)0));
    }
#line 3790
    if (asg___0) {
#line 3794
      if (asg___0->is_array) {
#line 3794
        goto _L___0;
      } else
#line 3794
      if ((unsigned long )asg___0->value.scalar != (unsigned long )((char *)0)) {
        _L___0: /* CIL Label */ 
#line 3795
        if (opts[153]) {
          {
#line 3796
          zwarnnam((char const   *)name, "restricted: %s", asg___0->value.scalar);
#line 3797
          returnval = 1;
          }
        } else {
#line 3801
          if ((int )ops->ind[100] != 0) {
            {
#line 3803
            tmp = itype_end((char const   *)asg___0->name, 1 << 8, 0);
            }
#line 3803
            if (*tmp) {
              {
#line 3804
              zwarnnam((char const   *)name, "invalid character in directory name: %s",
                       asg___0->name);
#line 3807
              returnval = 1;
              }
#line 3808
              goto while_continue___2;
            } else {
              {
#line 3810
              hn = zshcalloc(sizeof(*nd));
#line 3810
              nd = (Nameddir )hn;
#line 3811
              nd->node.flags = 0;
#line 3812
              nd->dir = ztrdup((char const   *)asg___0->value.scalar);
              }
            }
          } else {
            {
#line 3815
            hn = zshcalloc(sizeof(*cn));
#line 3815
            cn = (Cmdnam )hn;
#line 3816
            cn->node.flags = 1 << 1;
#line 3817
            cn->u.cmd = ztrdup((char const   *)asg___0->value.scalar);
            }
          }
          {
#line 3819
          tmp___0 = ztrdup((char const   *)asg___0->name);
#line 3819
          (*(ht->addnode))(ht, tmp___0, hn);
          }
#line 3820
          if ((int )ops->ind[118] != 0) {
            {
#line 3821
            (*(ht->printnode))((HashNode )hn, 0);
            }
          }
        }
      } else {
        {
#line 3823
        tmp___4 = (*(ht->getnode2))(ht, (char const   *)asg___0->name);
#line 3823
        hn = (void *)tmp___4;
        }
#line 3823
        if (hn) {
#line 3839
          if ((int )ops->ind[118] != 0) {
            {
#line 3840
            (*(ht->printnode))((HashNode )hn, 0);
            }
          }
        } else {
#line 3826
          if ((int )ops->ind[100] != 0) {
            {
#line 3827
            tmp___1 = getnameddir(asg___0->name);
            }
#line 3827
            if (! tmp___1) {
              {
#line 3828
              zwarnnam((char const   *)name, "no such directory name: %s", asg___0->name);
#line 3829
              returnval = 1;
              }
            }
          } else {
            {
#line 3832
            tmp___2 = hashcmd(asg___0->name, path);
            }
#line 3832
            if (! tmp___2) {
              {
#line 3833
              zwarnnam((char const   *)name, "no such command: %s", asg___0->name);
#line 3834
              returnval = 1;
              }
            }
          }
#line 3837
          if ((int )ops->ind[118] != 0) {
            {
#line 3837
            tmp___3 = (*(ht->getnode2))(ht, (char const   *)asg___0->name);
#line 3837
            hn = (void *)tmp___3;
            }
#line 3837
            if (hn) {
              {
#line 3838
              (*(ht->printnode))((HashNode )hn, 0);
              }
            }
          }
        }
      }
    } else {
      {
#line 3791
      zwarnnam((char const   *)name, "bad assignment");
#line 3792
      returnval = 1;
      }
#line 3793
      goto while_break___2;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  {
#line 3842
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 3842
    queueing_enabled --;
#line 3842
    if (! queueing_enabled) {
      {
#line 3842
      while (1) {
        while_continue___4: /* CIL Label */ ;
        {
#line 3842
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 3842
          if (! (queue_front != queue_rear)) {
#line 3842
            goto while_break___5;
          }
          {
#line 3842
          queue_front = (queue_front + 1) % 128;
#line 3842
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3842
          zhandler(signal_queue[queue_front]);
#line 3842
          signal_setmask(oset___0);
          }
        }
        while_break___5: /* CIL Label */ ;
        }
#line 3842
        goto while_break___4;
      }
      while_break___4: /* CIL Label */ ;
      }
    }
#line 3842
    goto while_break___3;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 3843
  return (returnval);
}
}
#line 3849 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_unhash(char *name , char **argv , Options ops , int func ) 
{ 
  HashTable ht ;
  HashNode hn ;
  HashNode nhn ;
  Patprog pprog ;
  int match ;
  int returnval ;
  int all ;
  int i ;
  HashNode tmp ;
  sigset_t oset ;
  HashNode tmp___0 ;
  int tmp___1 ;
  sigset_t oset___0 ;
  sigset_t oset___1 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;
  void *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
#line 3855
  match = 0;
#line 3855
  returnval = 0;
#line 3855
  all = 0;
#line 3859
  if (func == 29) {
#line 3860
    if ((int )ops->ind[115] != 0) {
#line 3861
      ht = sufaliastab;
    } else {
#line 3863
      ht = aliastab;
    }
#line 3864
    if ((int )ops->ind[97] != 0) {
#line 3865
      if (*argv) {
        {
#line 3866
        zwarnnam((char const   *)name, "-a: too many arguments");
        }
#line 3867
        return (1);
      }
#line 3869
      all = 1;
    } else
#line 3870
    if (! *argv) {
      {
#line 3871
      zwarnnam((char const   *)name, "not enough arguments");
      }
#line 3872
      return (1);
    }
  } else
#line 3874
  if ((int )ops->ind[100] != 0) {
#line 3875
    ht = nameddirtab;
  } else
#line 3876
  if ((int )ops->ind[102] != 0) {
#line 3877
    ht = shfunctab;
  } else
#line 3878
  if ((int )ops->ind[115] != 0) {
#line 3879
    ht = sufaliastab;
  } else
#line 3880
  if (func == 28) {
#line 3880
    if ((int )ops->ind[97] != 0) {
#line 3881
      ht = aliastab;
    } else {
#line 3883
      ht = cmdnamtab;
    }
  } else {
#line 3883
    ht = cmdnamtab;
  }
#line 3885
  if (all) {
#line 3886
    queueing_enabled ++;
#line 3887
    i = 0;
    {
#line 3887
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3887
      if (! (i < ht->hsize)) {
#line 3887
        goto while_break;
      }
#line 3888
      hn = *(ht->nodes + i);
      {
#line 3888
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 3888
        if (! hn) {
#line 3888
          goto while_break___0;
        }
        {
#line 3890
        nhn = hn->next;
#line 3891
        tmp = (*(ht->removenode))(ht, (char const   *)hn->nam);
#line 3891
        (*(ht->freenode))(tmp);
#line 3888
        hn = nhn;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 3887
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 3894
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 3894
      queueing_enabled --;
#line 3894
      if (! queueing_enabled) {
        {
#line 3894
        while (1) {
          while_continue___2: /* CIL Label */ ;
          {
#line 3894
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 3894
            if (! (queue_front != queue_rear)) {
#line 3894
              goto while_break___3;
            }
            {
#line 3894
            queue_front = (queue_front + 1) % 128;
#line 3894
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3894
            zhandler(signal_queue[queue_front]);
#line 3894
            signal_setmask(oset);
            }
          }
          while_break___3: /* CIL Label */ ;
          }
#line 3894
          goto while_break___2;
        }
        while_break___2: /* CIL Label */ ;
        }
      }
#line 3894
      goto while_break___1;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 3895
    return (0);
  }
#line 3900
  if ((int )ops->ind[109] != 0) {
    {
#line 3901
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 3901
      if (! *argv) {
#line 3901
        goto while_break___4;
      }
      {
#line 3903
      tokenize(*argv);
#line 3904
      pprog = patcompile(*argv, 64, (char **)((void *)0));
      }
#line 3904
      if (pprog) {
#line 3906
        queueing_enabled ++;
#line 3907
        i = 0;
        {
#line 3907
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 3907
          if (! (i < ht->hsize)) {
#line 3907
            goto while_break___5;
          }
#line 3908
          hn = *(ht->nodes + i);
          {
#line 3908
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 3908
            if (! hn) {
#line 3908
              goto while_break___6;
            }
            {
#line 3910
            nhn = hn->next;
#line 3911
            tmp___1 = pattry(pprog, hn->nam);
            }
#line 3911
            if (tmp___1) {
              {
#line 3912
              tmp___0 = (*(ht->removenode))(ht, (char const   *)hn->nam);
#line 3912
              (*(ht->freenode))(tmp___0);
#line 3913
              match ++;
              }
            }
#line 3908
            hn = nhn;
          }
          while_break___6: /* CIL Label */ ;
          }
#line 3907
          i ++;
        }
        while_break___5: /* CIL Label */ ;
        }
        {
#line 3917
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 3917
          queueing_enabled --;
#line 3917
          if (! queueing_enabled) {
            {
#line 3917
            while (1) {
              while_continue___8: /* CIL Label */ ;
              {
#line 3917
              while (1) {
                while_continue___9: /* CIL Label */ ;
#line 3917
                if (! (queue_front != queue_rear)) {
#line 3917
                  goto while_break___9;
                }
                {
#line 3917
                queue_front = (queue_front + 1) % 128;
#line 3917
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 3917
                zhandler(signal_queue[queue_front]);
#line 3917
                signal_setmask(oset___0);
                }
              }
              while_break___9: /* CIL Label */ ;
              }
#line 3917
              goto while_break___8;
            }
            while_break___8: /* CIL Label */ ;
            }
          }
#line 3917
          goto while_break___7;
        }
        while_break___7: /* CIL Label */ ;
        }
      } else {
        {
#line 3919
        untokenize(*argv);
#line 3920
        zwarnnam((char const   *)name, "bad pattern : %s", *argv);
#line 3921
        returnval = 1;
        }
      }
#line 3901
      argv ++;
    }
    while_break___4: /* CIL Label */ ;
    }
#line 3925
    if (! match) {
#line 3926
      returnval = 1;
    }
#line 3927
    return (returnval);
  }
#line 3931
  queueing_enabled ++;
  {
#line 3932
  while (1) {
    while_continue___10: /* CIL Label */ ;
#line 3932
    if (! *argv) {
#line 3932
      goto while_break___10;
    }
    {
#line 3933
    hn = (*(ht->removenode))(ht, (char const   *)*argv);
    }
#line 3933
    if (hn) {
      {
#line 3934
      (*(ht->freenode))(hn);
      }
    } else {
      {
#line 3936
      zwarnnam((char const   *)name, "no such hash table element: %s", *argv);
#line 3937
      returnval = 1;
      }
    }
#line 3932
    argv ++;
  }
  while_break___10: /* CIL Label */ ;
  }
  {
#line 3940
  while (1) {
    while_continue___11: /* CIL Label */ ;
#line 3940
    queueing_enabled --;
#line 3940
    if (! queueing_enabled) {
      {
#line 3940
      while (1) {
        while_continue___12: /* CIL Label */ ;
        {
#line 3940
        while (1) {
          while_continue___13: /* CIL Label */ ;
#line 3940
          if (! (queue_front != queue_rear)) {
#line 3940
            goto while_break___13;
          }
          {
#line 3940
          queue_front = (queue_front + 1) % 128;
#line 3940
          oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 3940
          zhandler(signal_queue[queue_front]);
#line 3940
          signal_setmask(oset___1);
          }
        }
        while_break___13: /* CIL Label */ ;
        }
#line 3940
        goto while_break___12;
      }
      while_break___12: /* CIL Label */ ;
      }
    }
#line 3940
    goto while_break___11;
  }
  while_break___11: /* CIL Label */ ;
  }
#line 3941
  return (returnval);
}
}
#line 3949 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_alias(char *name , char **argv , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  Alias a ;
  Patprog pprog ;
  Asgment asg___0 ;
  int returnval ;
  int flags1 ;
  int flags2 ;
  int printflags ;
  int type_opts ;
  HashTable ht ;
  sigset_t oset ;
  sigset_t oset___0 ;
  char *tmp ;
  Alias tmp___0 ;
  char *tmp___1 ;
  HashNode tmp___2 ;
  sigset_t oset___1 ;
  void *__cil_tmp21 ;
  void *__cil_tmp22 ;
  void *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
#line 3955
  returnval = 0;
#line 3956
  flags1 = 0;
#line 3956
  flags2 = 1;
#line 3957
  printflags = 0;
#line 3959
  ht = aliastab;
#line 3962
  type_opts = (((int )ops->ind[114] != 0) + ((int )ops->ind[103] != 0)) + ((int )ops->ind[115] != 0);
#line 3964
  if (type_opts) {
#line 3965
    if (type_opts > 1) {
      {
#line 3966
      zwarnnam((char const   *)name, "illegal combination of options");
      }
#line 3967
      return (1);
    }
#line 3969
    if ((int )ops->ind[103] != 0) {
#line 3970
      flags1 |= 1 << 1;
    } else {
#line 3972
      flags2 |= 1 << 1;
    }
#line 3973
    if ((int )ops->ind[115] != 0) {
#line 3980
      flags1 |= 1 << 2;
#line 3981
      ht = sufaliastab;
    } else {
#line 3983
      flags2 |= 1 << 2;
    }
  }
#line 3986
  if ((int )ops->ind[76] != 0) {
#line 3987
    printflags |= 1 << 2;
  } else
#line 3988
  if ((int )ops->ind[103] & 2) {
#line 3990
    printflags |= 1;
  } else
#line 3988
  if ((int )ops->ind[114] & 2) {
#line 3990
    printflags |= 1;
  } else
#line 3988
  if ((int )ops->ind[115] & 2) {
#line 3990
    printflags |= 1;
  } else
#line 3988
  if ((int )ops->ind[109] & 2) {
#line 3990
    printflags |= 1;
  } else
#line 3988
  if ((int )ops->ind[43] != 0) {
#line 3990
    printflags |= 1;
  }
#line 3994
  if (! *argv) {
    {
#line 3995
    queueing_enabled ++;
#line 3996
    scanhashtable(ht, 1, flags1, flags2, ht->printnode, printflags);
    }
    {
#line 3997
    while (1) {
      while_continue: /* CIL Label */ ;
#line 3997
      queueing_enabled --;
#line 3997
      if (! queueing_enabled) {
        {
#line 3997
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 3997
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 3997
            if (! (queue_front != queue_rear)) {
#line 3997
              goto while_break___1;
            }
            {
#line 3997
            queue_front = (queue_front + 1) % 128;
#line 3997
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 3997
            zhandler(signal_queue[queue_front]);
#line 3997
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 3997
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 3997
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
#line 3998
    return (0);
  }
#line 4003
  if ((int )ops->ind[109] != 0) {
    {
#line 4004
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 4004
      if (! *argv) {
#line 4004
        goto while_break___2;
      }
      {
#line 4005
      tokenize(*argv);
#line 4006
      pprog = patcompile(*argv, 64, (char **)((void *)0));
      }
#line 4006
      if (pprog) {
        {
#line 4008
        queueing_enabled ++;
#line 4009
        scanmatchtable(ht, pprog, 1, flags1, flags2, ht->printnode, printflags);
        }
        {
#line 4011
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 4011
          queueing_enabled --;
#line 4011
          if (! queueing_enabled) {
            {
#line 4011
            while (1) {
              while_continue___4: /* CIL Label */ ;
              {
#line 4011
              while (1) {
                while_continue___5: /* CIL Label */ ;
#line 4011
                if (! (queue_front != queue_rear)) {
#line 4011
                  goto while_break___5;
                }
                {
#line 4011
                queue_front = (queue_front + 1) % 128;
#line 4011
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 4011
                zhandler(signal_queue[queue_front]);
#line 4011
                signal_setmask(oset___0);
                }
              }
              while_break___5: /* CIL Label */ ;
              }
#line 4011
              goto while_break___4;
            }
            while_break___4: /* CIL Label */ ;
            }
          }
#line 4011
          goto while_break___3;
        }
        while_break___3: /* CIL Label */ ;
        }
      } else {
        {
#line 4013
        untokenize(*argv);
#line 4014
        zwarnnam((char const   *)name, "bad pattern : %s", *argv);
#line 4015
        returnval = 1;
        }
      }
#line 4004
      argv ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 4018
    return (returnval);
  }
#line 4022
  queueing_enabled ++;
  {
#line 4023
  while (1) {
    while_continue___6: /* CIL Label */ ;
    {
#line 4023
    asg___0 = getasg(& argv, (LinkList )((void *)0));
    }
#line 4023
    if (! asg___0) {
#line 4023
      goto while_break___6;
    }
#line 4024
    if (asg___0->value.scalar) {
#line 4024
      if (! ((int )ops->ind[76] != 0)) {
        {
#line 4027
        tmp = ztrdup((char const   *)asg___0->value.scalar);
#line 4027
        tmp___0 = createaliasnode(tmp, flags1);
#line 4027
        tmp___1 = ztrdup((char const   *)asg___0->name);
#line 4027
        (*(ht->addnode))(ht, tmp___1, (void *)tmp___0);
        }
      } else {
#line 4024
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
      {
#line 4029
      tmp___2 = (*(ht->getnode))(ht, (char const   *)asg___0->name);
#line 4029
      a = (Alias )tmp___2;
      }
#line 4029
      if (a) {
#line 4031
        if (! type_opts) {
          {
#line 4035
          (*(ht->printnode))(& a->node, printflags);
          }
        } else
#line 4031
        if ((unsigned long )ht == (unsigned long )sufaliastab) {
          {
#line 4035
          (*(ht->printnode))(& a->node, printflags);
          }
        } else
#line 4031
        if ((int )ops->ind[114] != 0) {
#line 4031
          if (! (a->node.flags & ((1 << 1) | (1 << 2)))) {
            {
#line 4035
            (*(ht->printnode))(& a->node, printflags);
            }
          } else {
#line 4031
            goto _L;
          }
        } else
        _L: /* CIL Label */ 
#line 4031
        if ((int )ops->ind[103] != 0) {
#line 4031
          if (a->node.flags & (1 << 1)) {
            {
#line 4035
            (*(ht->printnode))(& a->node, printflags);
            }
          }
        }
      } else {
#line 4037
        returnval = 1;
      }
    }
  }
  while_break___6: /* CIL Label */ ;
  }
  {
#line 4039
  while (1) {
    while_continue___7: /* CIL Label */ ;
#line 4039
    queueing_enabled --;
#line 4039
    if (! queueing_enabled) {
      {
#line 4039
      while (1) {
        while_continue___8: /* CIL Label */ ;
        {
#line 4039
        while (1) {
          while_continue___9: /* CIL Label */ ;
#line 4039
          if (! (queue_front != queue_rear)) {
#line 4039
            goto while_break___9;
          }
          {
#line 4039
          queue_front = (queue_front + 1) % 128;
#line 4039
          oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 4039
          zhandler(signal_queue[queue_front]);
#line 4039
          signal_setmask(oset___1);
          }
        }
        while_break___9: /* CIL Label */ ;
        }
#line 4039
        goto while_break___8;
      }
      while_break___8: /* CIL Label */ ;
      }
    }
#line 4039
    goto while_break___7;
  }
  while_break___7: /* CIL Label */ ;
  }
#line 4040
  return (returnval);
}
}
#line 4049 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_true(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
             Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) 
{ 


  {
#line 4052
  return (0);
}
}
#line 4058 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_false(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
              Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) 
{ 


  {
#line 4061
  return (1);
}
}
#line 4086 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_print(char *name , char **args , Options ops , int func ) 
{ 
  int flen ;
  int width ;
  int prec___0 ;
  int type___0 ;
  int argc ;
  int n ;
  int narg ;
  int curlen ;
  int nnl ;
  int fmttrunc ;
  int ret ;
  int maxarg ;
  int nc ;
  int flags[6] ;
  int *len ;
  int visarr ;
  char *start ;
  char *endptr ;
  char *c ;
  char *d___0 ;
  char *flag ;
  char *buf___7 ;
  char spec[14] ;
  char *fmt ;
  char **first ;
  char **argp ;
  char *curarg ;
  char *flagch ;
  char save ;
  char nullstr ;
  size_t rcount ;
  size_t count ;
  size_t *cursplit ;
  size_t *splits ;
  FILE *fout ;
  size_t mcount ;
  Histent ent ;
  mnumber mnumval ;
  double doubleval ;
  int intval ;
  zlong zlongval ;
  zulong zulongval ;
  char *stringval ;
  char *eptr ;
  char *argptr ;
  zlong tmp ;
  int tmp___0 ;
  char **tmp___1 ;
  int tmp___2 ;
  Patprog pprog ;
  char **t ;
  char **p ;
  char **tmp___3 ;
  int tmp___4 ;
  void *tmp___5 ;
  int escape_how ;
  char *str ;
  char *tmp___6 ;
  char *tmp___7 ;
  char *tmp___8 ;
  Nameddir d___1 ;
  int dirlen ;
  size_t tmp___9 ;
  char *arg ;
  size_t tmp___10 ;
  void *tmp___11 ;
  size_t tmp___12 ;
  sigset_t oset ;
  int flags___0 ;
  int fdarg ;
  int fd ;
  char *argptr___0 ;
  char *eptr___0 ;
  zlong tmp___13 ;
  int tmp___14 ;
  int l ;
  int nr ;
  int sc ;
  int n___0 ;
  int t___0 ;
  int i ;
  int *widths ;
  int *wptr ;
  void *tmp___15 ;
  int l___0 ;
  int width___0 ;
  char *aptr ;
  mbstate_t mbs ;
  wchar_t wc ;
  size_t cnt ;
  int wcw ;
  unsigned short const   **tmp___16 ;
  int ic ;
  int tmp___17 ;
  int tmp___19 ;
  int *tmp___20 ;
  int tmp___21 ;
  int *tmp___22 ;
  int tmp___23 ;
  int tmp___24 ;
  int tmp___25 ;
  int tmp___26 ;
  char *tmp___27 ;
  sigset_t oset___0 ;
  char *tmp___28 ;
  sigset_t oset___1 ;
  int nwords ;
  int nlen ;
  int iwords ;
  char **pargs ;
  char **tmp___29 ;
  int wordsize ;
  short *words ;
  sigset_t oset___2 ;
  void *tmp___30 ;
  void *tmp___31 ;
  int tmp___32 ;
  size_t tmp___33 ;
  int tmp___34 ;
  time_t tmp___35 ;
  sigset_t oset___3 ;
  char *eptr___1 ;
  int expand ;
  int startpos ;
  int all ;
  char *xarg ;
  char *tmp___36 ;
  zlong tmp___37 ;
  int tmp___38 ;
  int tmp___39 ;
  int tmp___40 ;
  int tmp___42 ;
  int *tmp___43 ;
  int tmp___44 ;
  int *tmp___45 ;
  int tmp___46 ;
  int tmp___47 ;
  int tmp___48 ;
  int tmp___49 ;
  char *tmp___50 ;
  sigset_t oset___4 ;
  struct value vbuf ;
  char *s ;
  Value v ;
  Value tmp___51 ;
  int tmp___52 ;
  int tmp___53 ;
  void *tmp___54 ;
  size_t *tmp___55 ;
  char *tmp___56 ;
  unsigned long tmp___57 ;
  char *tmp___58 ;
  unsigned long tmp___59 ;
  unsigned long tmp___60 ;
  char **tmp___61 ;
  zlong tmp___62 ;
  char *tmp___63 ;
  unsigned long tmp___64 ;
  char **tmp___65 ;
  zlong tmp___66 ;
  unsigned long tmp___67 ;
  char *tmp___68 ;
  char *tmp___69 ;
  char **tmp___70 ;
  char tmp___71 ;
  int tmp___72 ;
  int tmp___73 ;
  char *b ;
  char *ptr___0 ;
  int lbytes ;
  int lchars ;
  int lleft ;
  mbstate_t mbs___0 ;
  int tmp___74 ;
  char *tmp___75 ;
  int chars ;
  size_t tmp___76 ;
  int tmp___77 ;
  size_t tmp___78 ;
  int tmp___79 ;
  int tmp___80 ;
  char *tmp___81 ;
  char *tmp___82 ;
  char *tmp___83 ;
  int tmp___84 ;
  char *tmp___85 ;
  int tmp___86 ;
  int *tmp___87 ;
  int tmp___88 ;
  int *tmp___89 ;
  int tmp___90 ;
  int tmp___91 ;
  int tmp___92 ;
  int tmp___93 ;
  convchar_t cc ;
  char *tmp___94 ;
  int tmp___95 ;
  int tmp___96 ;
  int tmp___97 ;
  int tmp___98 ;
  char *tmp___99 ;
  char *tmp___100 ;
  zlong tmp___101 ;
  int tmp___102 ;
  int tmp___103 ;
  char *eptr___2 ;
  int tmp___104 ;
  int tmp___105 ;
  char *tmp___106 ;
  char *tmp___107 ;
  zlong tmp___108 ;
  int tmp___109 ;
  int tmp___110 ;
  int *tmp___111 ;
  char **arrayval ;
  void *tmp___112 ;
  int start___0 ;
  size_t tmp___113 ;
  time_t tmp___114 ;
  int tmp___116 ;
  sigset_t oset___5 ;
  int *tmp___117 ;
  int tmp___118 ;
  int *tmp___119 ;
  int tmp___120 ;
  int tmp___121 ;
  int tmp___122 ;
  int tmp___123 ;
  void *__cil_tmp236 ;
  void *__cil_tmp237 ;
  void *__cil_tmp238 ;
  void *__cil_tmp239 ;
  void *__cil_tmp240 ;
  void *__cil_tmp241 ;
  void *__cil_tmp242 ;
  void *__cil_tmp243 ;
  void *__cil_tmp244 ;
  void *__cil_tmp245 ;
  void *__cil_tmp246 ;
  char *__cil_tmp247 ;
  char *__cil_tmp248 ;
  char *__cil_tmp249 ;
  char *__cil_tmp250 ;
  char *__cil_tmp251 ;
  char *__cil_tmp252 ;
  char *__cil_tmp253 ;
  char *__cil_tmp254 ;
  char *__cil_tmp255 ;
  char *__cil_tmp256 ;
  char *__cil_tmp257 ;
  char *__cil_tmp258 ;
  char *__cil_tmp259 ;
  char *__cil_tmp260 ;
  char *__cil_tmp261 ;
  char *__cil_tmp262 ;
  char *__cil_tmp263 ;
  char *__cil_tmp264 ;
  char *__cil_tmp265 ;
  char *__cil_tmp266 ;
  char *__cil_tmp267 ;
  char *__cil_tmp268 ;
  char *__cil_tmp269 ;
  char *__cil_tmp270 ;
  char *__cil_tmp271 ;
  char *__cil_tmp272 ;
  char *__cil_tmp273 ;
  char *__cil_tmp274 ;
  char *__cil_tmp275 ;
  char *__cil_tmp276 ;
  char *__cil_tmp277 ;
  char *__cil_tmp278 ;
  char *__cil_tmp279 ;
  char *__cil_tmp280 ;
  char *__cil_tmp281 ;
  char *__cil_tmp282 ;

  {
#line 4089
  curlen = 0;
#line 4090
  nnl = 0;
#line 4090
  fmttrunc = 0;
#line 4090
  ret = 0;
#line 4090
  maxarg = 0;
#line 4090
  nc = 0;
#line 4091
  visarr = 0;
#line 4092
  buf___7 = (char *)((void *)0);
#line 4092
  fmt = (char *)((void *)0);
#line 4093
  flagch = (char *)"\'0+- #";
#line 4093
  save = (char )'\000';
#line 4093
  nullstr = (char )'\000';
#line 4094
  rcount = (size_t )0;
#line 4094
  count = (size_t )0;
#line 4095
  cursplit = (size_t *)0;
#line 4095
  splits = (size_t *)0;
#line 4096
  fout = stdout;
#line 4161
  if (((((int )ops->ind[122] != 0) + ((int )ops->ind[115] != 0)) + ((int )ops->ind[83] != 0)) + ((int )ops->ind[118] != 0) > 1) {
    {
#line 4164
    zwarnnam((char const   *)name, "only one of -s, -S, -v, or -z allowed");
    }
#line 4165
    return (1);
  }
#line 4167
  if (((((int )ops->ind[122] != 0) | ((int )ops->ind[115] != 0)) | ((int )ops->ind[83] != 0)) + (((int )ops->ind[99] != 0) | ((int )ops->ind[67] != 0)) > 1) {
    {
#line 4169
    zwarnnam((char const   *)name, "-c or -C not allowed with -s, -S, or -z");
    }
#line 4170
    return (1);
  }
#line 4172
  if ((((((int )ops->ind[122] != 0) | ((int )ops->ind[118] != 0)) | ((int )ops->ind[115] != 0)) | ((int )ops->ind[83] != 0)) + (((int )ops->ind[112] != 0) | ((int )ops->ind[117] != 0)) > 1) {
    {
#line 4175
    zwarnnam((char const   *)name, "-p or -u not allowed with -s, -S, -v, or -z");
    }
#line 4176
    return (1);
  }
#line 4187
  if (! fmt) {
#line 4187
    if ((int )ops->ind[67] != 0) {
      {
#line 4188
      argptr = *(ops->args + (((int )ops->ind[67] >> 2) - 1));
#line 4189
      tmp = zstrtol((char const   *)argptr, & eptr, 10);
#line 4189
      nc = (int )tmp;
      }
#line 4190
      if (*eptr) {
        {
#line 4191
        zwarnnam((char const   *)name, "number expected after -%c: %s", 'C', argptr);
        }
#line 4192
        return (1);
      }
#line 4194
      if (nc <= 0) {
        {
#line 4195
        zwarnnam((char const   *)name, "invalid number of columns: %s", argptr);
        }
#line 4196
        return (1);
      }
    }
  }
#line 4200
  if (func == 26) {
    {
#line 4201
    tmp___0 = strcmp((char const   *)*args, "--");
    }
#line 4201
    if (! tmp___0) {
#line 4201
      args ++;
#line 4201
      if (! *args) {
        {
#line 4202
        zwarnnam((char const   *)name, "not enough arguments");
        }
#line 4203
        return (1);
      }
    }
#line 4205
    tmp___1 = args;
#line 4205
    args ++;
#line 4205
    fmt = *tmp___1;
  } else
#line 4206
  if (func == 23) {
#line 4206
    if (opts[24]) {
#line 4207
      ops->ind['E'] = (unsigned char)1;
    } else {
#line 4206
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 4208
  if ((int )ops->ind[102] > 3) {
#line 4209
    fmt = *(ops->args + (((int )ops->ind[102] >> 2) - 1));
  }
#line 4210
  if (fmt) {
#line 4211
    if ((int )ops->ind[98] != 0) {
#line 4211
      tmp___2 = 7;
    } else {
#line 4211
      tmp___2 = 265;
    }
    {
#line 4211
    fmt = getkeystring(fmt, & flen, tmp___2, & fmttrunc);
    }
  }
#line 4214
  first = args;
#line 4218
  if ((int )ops->ind[109] != 0) {
#line 4222
    if (! *args) {
      {
#line 4223
      zwarnnam((char const   *)name, "no pattern specified");
      }
#line 4224
      return (1);
    }
    {
#line 4226
    tokenize(*args);
#line 4227
    pprog = patcompile(*args, 64, (char **)((void *)0));
    }
#line 4227
    if (! pprog) {
      {
#line 4228
      untokenize(*args);
#line 4229
      zwarnnam((char const   *)name, "bad pattern: %s", *args);
      }
#line 4230
      return (1);
    }
#line 4232
    args ++;
#line 4232
    p = args;
#line 4232
    t = p;
    {
#line 4232
    while (1) {
      while_continue: /* CIL Label */ ;
#line 4232
      if (! *p) {
#line 4232
        goto while_break;
      }
      {
#line 4233
      tmp___4 = pattry(pprog, *p);
      }
#line 4233
      if (tmp___4) {
#line 4234
        tmp___3 = t;
#line 4234
        t ++;
#line 4234
        *tmp___3 = *p;
      }
#line 4232
      p ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 4235
    *t = (char *)((void *)0);
#line 4236
    first = args;
#line 4237
    if (fmt) {
#line 4237
      if (! *args) {
#line 4237
        return (0);
      }
    }
  }
  {
#line 4240
  argc = arrlen(args);
#line 4241
  tmp___5 = hcalloc((unsigned long )argc * sizeof(int ));
#line 4241
  len = (int *)tmp___5;
#line 4242
  n = 0;
  }
  {
#line 4242
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4242
    if (! (n < argc)) {
#line 4242
      goto while_break___0;
    }
#line 4244
    if (fmt) {
      {
#line 4247
      unmetafy(*(args + n), len + n);
      }
    } else
#line 4244
    if (! ((int )ops->ind[101] != 0)) {
#line 4244
      if ((int )ops->ind[82] != 0) {
        {
#line 4247
        unmetafy(*(args + n), len + n);
        }
      } else
#line 4244
      if ((int )ops->ind[114] != 0) {
        {
#line 4247
        unmetafy(*(args + n), len + n);
        }
      } else
#line 4244
      if ((int )ops->ind[69] != 0) {
        {
#line 4247
        unmetafy(*(args + n), len + n);
        }
      } else {
#line 4244
        goto _L___0;
      }
    } else {
      _L___0: /* CIL Label */ 
#line 4250
      if ((int )ops->ind[98] != 0) {
#line 4251
        escape_how = 7;
      } else
#line 4252
      if (func != 23) {
#line 4252
        if (! ((int )ops->ind[101] != 0)) {
#line 4253
          escape_how = 11;
        } else {
#line 4255
          escape_how = 8;
        }
      } else {
#line 4255
        escape_how = 8;
      }
      {
#line 4256
      *(args + n) = getkeystring(*(args + n), len + n, escape_how, & nnl);
      }
#line 4257
      if (nnl) {
#line 4259
        argc = n + 1;
#line 4260
        *(args + argc) = (char *)((void *)0);
      }
    }
#line 4264
    if ((int )ops->ind[80] != 0) {
      {
#line 4270
      tmp___6 = metafy(*(args + n), *(len + n), 5);
#line 4270
      tmp___7 = promptexpand(tmp___6, 0, (char *)((void *)0), (char *)((void *)0),
                             (unsigned int *)((void *)0));
#line 4270
      tmp___8 = unmetafy(tmp___7, len + n);
#line 4270
      str = tmp___8;
#line 4274
      *(args + n) = dupstrpfx((char const   *)str, *(len + n));
#line 4275
      free((void *)str);
      }
    }
#line 4278
    if ((int )ops->ind[68] != 0) {
      {
#line 4281
      queueing_enabled ++;
#line 4283
      d___1 = finddir(*(args + n));
      }
#line 4284
      if (d___1) {
        {
#line 4285
        tmp___9 = strlen((char const   *)d___1->dir);
#line 4285
        dirlen = (int )tmp___9;
#line 4286
        tmp___10 = strlen((char const   *)d___1->node.nam);
#line 4286
        tmp___11 = zhalloc(((size_t )(*(len + n) - dirlen) + tmp___10) + 2UL);
#line 4286
        arg = (char *)tmp___11;
#line 4287
        sprintf((char */* __restrict  */)arg, (char const   */* __restrict  */)"~%s%s",
                d___1->node.nam, *(args + n) + dirlen);
#line 4288
        *(args + n) = arg;
#line 4289
        tmp___12 = strlen((char const   *)*(args + n));
#line 4289
        *(len + n) = (int )tmp___12;
        }
      }
      {
#line 4291
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 4291
        queueing_enabled --;
#line 4291
        if (! queueing_enabled) {
          {
#line 4291
          while (1) {
            while_continue___2: /* CIL Label */ ;
            {
#line 4291
            while (1) {
              while_continue___3: /* CIL Label */ ;
#line 4291
              if (! (queue_front != queue_rear)) {
#line 4291
                goto while_break___3;
              }
              {
#line 4291
              queue_front = (queue_front + 1) % 128;
#line 4291
              oset = signal_setmask(signal_mask_queue[queue_front]);
#line 4291
              zhandler(signal_queue[queue_front]);
#line 4291
              signal_setmask(oset);
              }
            }
            while_break___3: /* CIL Label */ ;
            }
#line 4291
            goto while_break___2;
          }
          while_break___2: /* CIL Label */ ;
          }
        }
#line 4291
        goto while_break___1;
      }
      while_break___1: /* CIL Label */ ;
      }
    }
#line 4242
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4296
  if ((int )ops->ind[111] != 0) {
#line 4296
    goto _L___1;
  } else
#line 4296
  if ((int )ops->ind[79] != 0) {
    _L___1: /* CIL Label */ 
#line 4299
    if (fmt) {
#line 4299
      if (! *args) {
#line 4300
        return (0);
      }
    }
#line 4301
    if ((int )ops->ind[105] != 0) {
#line 4301
      flags___0 = 1;
    } else {
#line 4301
      flags___0 = 0;
    }
#line 4302
    if ((int )ops->ind[79] != 0) {
#line 4303
      flags___0 |= 4;
    }
    {
#line 4304
    strmetasort(args, flags___0, len);
    }
  }
#line 4308
  if ((int )ops->ind[117] > 3) {
#line 4308
    goto _L___4;
  } else
#line 4308
  if ((int )ops->ind[112] != 0) {
    _L___4: /* CIL Label */ 
#line 4308
    if (! fmt) {
#line 4308
      if ((int )ops->ind[99] != 0) {
#line 4308
        goto _L___2;
      } else
#line 4308
      if ((int )ops->ind[67] != 0) {
#line 4308
        goto _L___2;
      } else {
#line 4308
        goto _L___3;
      }
    } else
    _L___3: /* CIL Label */ 
#line 4308
    if (! ((int )ops->ind[122] != 0)) {
#line 4308
      if (! ((int )ops->ind[118] != 0)) {
#line 4308
        if (! ((int )ops->ind[115] != 0)) {
#line 4308
          if (! ((int )ops->ind[83] != 0)) {
            _L___2: /* CIL Label */ 
#line 4315
            if ((int )ops->ind[112] != 0) {
#line 4316
              fdarg = coprocout;
#line 4317
              if (fdarg < 0) {
                {
#line 4318
                zwarnnam((char const   *)name, "-p: no coprocess");
                }
#line 4319
                return (1);
              }
            } else {
              {
#line 4322
              argptr___0 = *(ops->args + (((int )ops->ind[117] >> 2) - 1));
#line 4324
              tmp___14 = strcmp((char const   *)argptr___0, "p");
              }
#line 4324
              if (tmp___14) {
                {
#line 4331
                tmp___13 = zstrtol((char const   *)argptr___0, & eptr___0, 10);
#line 4331
                fdarg = (int )tmp___13;
                }
#line 4332
                if (*eptr___0) {
                  {
#line 4333
                  zwarnnam((char const   *)name, "number expected after -u: %s", argptr___0);
                  }
#line 4334
                  return (1);
                }
              } else {
#line 4325
                fdarg = coprocout;
#line 4326
                if (fdarg < 0) {
                  {
#line 4327
                  zwarnnam((char const   *)name, "-p: no coprocess");
                  }
#line 4328
                  return (1);
                }
              }
            }
            {
#line 4339
            fd = dup(fdarg);
            }
#line 4339
            if (fd < 0) {
              {
#line 4340
              zwarnnam((char const   *)name, "bad file number: %d", fdarg);
              }
#line 4341
              return (1);
            }
            {
#line 4343
            fout = fdopen(fd, "w");
            }
#line 4343
            if ((unsigned long )fout == (unsigned long )((FILE *)0)) {
              {
#line 4344
              close(fd);
#line 4345
              zwarnnam((char const   *)name, "bad mode on fd %d", fd);
              }
#line 4346
              return (1);
            }
          }
        }
      }
    }
  }
#line 4350
  if ((int )ops->ind[118] != 0) {
#line 4350
    goto _L___6;
  } else
#line 4350
  if (fmt) {
#line 4350
    if ((int )ops->ind[122] != 0) {
#line 4350
      goto _L___6;
    } else
#line 4350
    if ((int )ops->ind[115] != 0) {
      _L___6: /* CIL Label */ 
      {
#line 4352
      while (1) {
        while_continue___4: /* CIL Label */ ;
        {
#line 4352
        fout = open_memstream(& buf___7, & mcount);
        }
#line 4352
        if ((unsigned long )fout == (unsigned long )((void *)0)) {
          {
#line 4352
          zwarnnam((char const   *)name, "open_memstream failed");
          }
#line 4352
          return (1);
        }
#line 4352
        goto while_break___4;
      }
      while_break___4: /* CIL Label */ ;
      }
    }
  }
#line 4355
  if (! fmt) {
#line 4355
    if ((int )ops->ind[99] != 0) {
#line 4355
      goto _L___10;
    } else
#line 4355
    if ((int )ops->ind[67] != 0) {
      _L___10: /* CIL Label */ 
#line 4360
      if (opts[116]) {
        {
#line 4367
        tmp___15 = zhalloc((unsigned long )argc * sizeof(int ));
#line 4367
        widths = (int *)tmp___15;
#line 4367
        wptr = widths;
#line 4368
        i = 0;
        }
        {
#line 4368
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 4368
          if (i < argc) {
#line 4368
            if (! *(args + i)) {
#line 4368
              goto while_break___5;
            }
          } else {
#line 4368
            goto while_break___5;
          }
          {
#line 4369
          l___0 = *(len + i);
#line 4369
          width___0 = 0;
#line 4370
          aptr = *(args + i);
#line 4373
          memset((void *)(& mbs), 0, sizeof(mbstate_t ));
          }
          {
#line 4374
          while (1) {
            while_continue___6: /* CIL Label */ ;
#line 4374
            if (! (l___0 > 0)) {
#line 4374
              goto while_break___6;
            }
#line 4389
            if ((int )*aptr == 27) {
#line 4389
              goto _L___7;
            } else
#line 4389
            if ((int )*aptr == -101) {
              _L___7: /* CIL Label */ 
#line 4390
              aptr ++;
#line 4390
              l___0 --;
              {
#line 4390
              while (1) {
                while_continue___7: /* CIL Label */ ;
#line 4390
                if (l___0) {
                  {
#line 4390
                  tmp___16 = __ctype_b_loc();
                  }
#line 4390
                  if ((int const   )*(*tmp___16 + (int )((unsigned char )*aptr)) & 1024) {
#line 4390
                    goto while_break___7;
                  }
                } else {
#line 4390
                  goto while_break___7;
                }
#line 4390
                aptr ++;
#line 4390
                l___0 --;
              }
              while_break___7: /* CIL Label */ ;
              }
#line 4394
              aptr ++;
#line 4395
              l___0 --;
#line 4396
              goto while_continue___6;
            }
            {
#line 4399
            cnt = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)aptr,
                          (size_t )l___0, (mbstate_t */* __restrict  */)(& mbs));
            }
#line 4401
            if (cnt == 0xfffffffffffffffeUL) {
#line 4404
              width___0 += l___0;
#line 4405
              goto while_break___6;
            } else
#line 4401
            if (cnt == 0xffffffffffffffffUL) {
#line 4404
              width___0 += l___0;
#line 4405
              goto while_break___6;
            }
            {
#line 4407
            wcw = wcwidth(wc);
            }
#line 4409
            if (wcw > 0) {
#line 4410
              width___0 += wcw;
            }
#line 4412
            if (cnt == 0UL) {
#line 4413
              cnt = (size_t )1;
            }
#line 4414
            aptr += cnt;
#line 4415
            l___0 = (int )((size_t )l___0 - cnt);
          }
          while_break___6: /* CIL Label */ ;
          }
#line 4417
          *(widths + i) = width___0;
#line 4368
          i ++;
#line 4368
          wptr ++;
        }
        while_break___5: /* CIL Label */ ;
        }
      } else {
#line 4421
        widths = len;
      }
#line 4426
      if ((int )ops->ind[67] != 0) {
        {
#line 4432
        n___0 = arrlen(args);
#line 4433
        nr = ((n___0 + nc) - 1) / nc;
#line 4442
        l = 0;
#line 4442
        i = l;
        }
        {
#line 4442
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 4442
          if (! (i < argc)) {
#line 4442
            goto while_break___8;
          }
#line 4443
          if ((int )ops->ind[97] != 0) {
#line 4444
            if (i % nc == nc - 1) {
#line 4445
              goto __Cont;
            }
          } else
#line 4447
          if (i >= nr * (nc - 1)) {
#line 4448
            goto while_break___8;
          }
#line 4450
          if (l < *(widths + i)) {
#line 4451
            l = *(widths + i);
          }
          __Cont: /* CIL Label */ 
#line 4442
          i ++;
        }
        while_break___8: /* CIL Label */ ;
        }
#line 4453
        sc = l + 2;
      } else {
#line 4461
        l = 0;
#line 4461
        n___0 = l;
        {
#line 4461
        while (1) {
          while_continue___9: /* CIL Label */ ;
#line 4461
          if (! (n___0 < argc)) {
#line 4461
            goto while_break___9;
          }
#line 4462
          if (l < *(widths + n___0)) {
#line 4463
            l = *(widths + n___0);
          }
#line 4461
          n___0 ++;
        }
        while_break___9: /* CIL Label */ ;
        }
#line 4469
        sc = l + 2;
#line 4470
        nc = (int )((zterm_columns + 1L) / (zlong )sc);
#line 4471
        if (! nc) {
#line 4472
          nc = 1;
        }
#line 4473
        nr = ((n___0 + nc) - 1) / nc;
      }
#line 4476
      if ((int )ops->ind[97] != 0) {
#line 4477
        n___0 = 0;
      }
#line 4478
      i = 0;
      {
#line 4478
      while (1) {
        while_continue___10: /* CIL Label */ ;
#line 4478
        if (! (i < nr)) {
#line 4478
          goto while_break___10;
        }
#line 4479
        if ((int )ops->ind[97] != 0) {
#line 4482
          ic = 0;
          {
#line 4482
          while (1) {
            while_continue___11: /* CIL Label */ ;
#line 4482
            if (ic < nc) {
#line 4482
              if (! (n___0 < argc)) {
#line 4482
                goto while_break___11;
              }
            } else {
#line 4482
              goto while_break___11;
            }
            {
#line 4484
            fwrite((void const   */* __restrict  */)*(args + n___0), (size_t )*(len + n___0),
                   (size_t )1, (FILE */* __restrict  */)fout);
#line 4485
            l = *(widths + n___0);
            }
#line 4486
            if (n___0 < argc) {
              {
#line 4487
              while (1) {
                while_continue___12: /* CIL Label */ ;
#line 4487
                if (! (l < sc)) {
#line 4487
                  goto while_break___12;
                }
                {
#line 4488
                fputc(' ', fout);
#line 4487
                l ++;
                }
              }
              while_break___12: /* CIL Label */ ;
              }
            }
#line 4482
            ic ++;
#line 4482
            n___0 ++;
          }
          while_break___11: /* CIL Label */ ;
          }
        } else {
#line 4493
          n___0 = i;
          {
#line 4494
          while (1) {
            while_continue___13: /* CIL Label */ ;
            {
#line 4495
            fwrite((void const   */* __restrict  */)*(args + n___0), (size_t )*(len + n___0),
                   (size_t )1, (FILE */* __restrict  */)fout);
#line 4496
            l = *(widths + n___0);
#line 4497
            t___0 = nr;
            }
            {
#line 4497
            while (1) {
              while_continue___14: /* CIL Label */ ;
#line 4497
              if (t___0) {
#line 4497
                if (! (n___0 < argc)) {
#line 4497
                  goto while_break___14;
                }
              } else {
#line 4497
                goto while_break___14;
              }
#line 4497
              t___0 --;
#line 4497
              n___0 ++;
            }
            while_break___14: /* CIL Label */ ;
            }
#line 4498
            if (n___0 < argc) {
              {
#line 4499
              while (1) {
                while_continue___15: /* CIL Label */ ;
#line 4499
                if (! (l < sc)) {
#line 4499
                  goto while_break___15;
                }
                {
#line 4500
                fputc(' ', fout);
#line 4499
                l ++;
                }
              }
              while_break___15: /* CIL Label */ ;
              }
            }
#line 4494
            if (! (n___0 < argc)) {
#line 4494
              goto while_break___13;
            }
          }
          while_break___13: /* CIL Label */ ;
          }
        }
#line 4503
        if ((int )ops->ind[78] != 0) {
#line 4503
          tmp___17 = '\000';
        } else {
#line 4503
          tmp___17 = '\n';
        }
        {
#line 4503
        fputc(tmp___17, fout);
#line 4478
        i ++;
        }
      }
      while_break___10: /* CIL Label */ ;
      }
#line 4505
      if ((unsigned long )fout != (unsigned long )stdout) {
#line 4505
        if ((int )ops->ind[122] != 0) {
#line 4505
          goto _L___8;
        } else
#line 4505
        if ((int )ops->ind[115] != 0) {
#line 4505
          goto _L___8;
        } else
#line 4505
        if ((int )ops->ind[118] != 0) {
          _L___8: /* CIL Label */ 
          {
#line 4505
          tmp___19 = fclose(fout);
          }
#line 4505
          if (tmp___19 == 0) {
#line 4505
            rcount = mcount;
          } else {
#line 4505
            rcount = (size_t )-1;
          }
#line 4505
          if (rcount == 0xffffffffffffffffUL) {
#line 4506
            ret = 1;
          }
        }
      }
#line 4507
      if ((unsigned long )fout != (unsigned long )stdout) {
#line 4507
        if ((int )ops->ind[122] != 0) {
#line 4507
          tmp___26 = 1;
        } else
#line 4507
        if ((int )ops->ind[115] != 0) {
#line 4507
          tmp___26 = 1;
        } else
#line 4507
        if ((int )ops->ind[118] != 0) {
#line 4507
          tmp___26 = 1;
        } else {
#line 4507
          goto _L___9;
        }
      } else {
        _L___9: /* CIL Label */ 
#line 4507
        if ((unsigned long )fout == (unsigned long )stdout) {
          {
#line 4507
          tmp___21 = fflush(fout);
          }
#line 4507
          if (tmp___21 == 0) {
#line 4507
            tmp___23 = 1;
          } else {
            {
#line 4507
            tmp___22 = __errno_location();
            }
#line 4507
            if (*tmp___22 == 9) {
#line 4507
              tmp___23 = 1;
            } else {
#line 4507
              tmp___23 = 0;
            }
          }
#line 4507
          tmp___25 = tmp___23;
        } else {
          {
#line 4507
          tmp___24 = fclose(fout);
#line 4507
          tmp___25 = tmp___24 == 0;
          }
        }
#line 4507
        tmp___26 = tmp___25;
      }
#line 4507
      if (tmp___26) {
#line 4507
        if (ret) {
          {
#line 4508
          tmp___20 = __errno_location();
#line 4508
          zwarnnam((char const   *)name, "write error: %e", *tmp___20);
#line 4509
          ret = 1;
          }
        }
      } else {
        {
#line 4508
        tmp___20 = __errno_location();
#line 4508
        zwarnnam((char const   *)name, "write error: %e", *tmp___20);
#line 4509
        ret = 1;
        }
      }
#line 4511
      if (buf___7) {
#line 4513
        queueing_enabled ++;
#line 4514
        if (ret) {
          {
#line 4515
          free((void *)buf___7);
          }
        } else {
          {
#line 4517
          tmp___27 = metafy(buf___7, (int )rcount, 0);
#line 4517
          setsparam(*(ops->args + (((int )ops->ind[118] >> 2) - 1)), tmp___27);
          }
        }
        {
#line 4519
        while (1) {
          while_continue___16: /* CIL Label */ ;
#line 4519
          queueing_enabled --;
#line 4519
          if (! queueing_enabled) {
            {
#line 4519
            while (1) {
              while_continue___17: /* CIL Label */ ;
              {
#line 4519
              while (1) {
                while_continue___18: /* CIL Label */ ;
#line 4519
                if (! (queue_front != queue_rear)) {
#line 4519
                  goto while_break___18;
                }
                {
#line 4519
                queue_front = (queue_front + 1) % 128;
#line 4519
                oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 4519
                zhandler(signal_queue[queue_front]);
#line 4519
                signal_setmask(oset___0);
                }
              }
              while_break___18: /* CIL Label */ ;
              }
#line 4519
              goto while_break___17;
            }
            while_break___17: /* CIL Label */ ;
            }
          }
#line 4519
          goto while_break___16;
        }
        while_break___16: /* CIL Label */ ;
        }
      }
#line 4521
      return (ret);
    }
  }
#line 4525
  if (! fmt) {
#line 4526
    if ((int )ops->ind[122] != 0) {
#line 4526
      goto _L___11;
    } else
#line 4526
    if ((int )ops->ind[118] != 0) {
#line 4526
      goto _L___11;
    } else
#line 4526
    if ((int )ops->ind[115] != 0) {
#line 4526
      goto _L___11;
    } else
#line 4526
    if ((int )ops->ind[83] != 0) {
      _L___11: /* CIL Label */ 
#line 4531
      n = 0;
      {
#line 4531
      while (1) {
        while_continue___19: /* CIL Label */ ;
#line 4531
        if (! (n < argc)) {
#line 4531
          goto while_break___19;
        }
        {
#line 4532
        metafy(*(args + n), *(len + n), 5);
#line 4531
        n ++;
        }
      }
      while_break___19: /* CIL Label */ ;
      }
    }
#line 4536
    if ((int )ops->ind[122] != 0) {
      {
#line 4537
      queueing_enabled ++;
#line 4538
      tmp___28 = sepjoin(args, (char *)((void *)0), 0);
#line 4538
      zinsertlinknode(bufstack, & bufstack->node, (void *)tmp___28);
      }
      {
#line 4539
      while (1) {
        while_continue___20: /* CIL Label */ ;
#line 4539
        queueing_enabled --;
#line 4539
        if (! queueing_enabled) {
          {
#line 4539
          while (1) {
            while_continue___21: /* CIL Label */ ;
            {
#line 4539
            while (1) {
              while_continue___22: /* CIL Label */ ;
#line 4539
              if (! (queue_front != queue_rear)) {
#line 4539
                goto while_break___22;
              }
              {
#line 4539
              queue_front = (queue_front + 1) % 128;
#line 4539
              oset___1 = signal_setmask(signal_mask_queue[queue_front]);
#line 4539
              zhandler(signal_queue[queue_front]);
#line 4539
              signal_setmask(oset___1);
              }
            }
            while_break___22: /* CIL Label */ ;
            }
#line 4539
            goto while_break___21;
          }
          while_break___21: /* CIL Label */ ;
          }
        }
#line 4539
        goto while_break___20;
      }
      while_break___20: /* CIL Label */ ;
      }
#line 4540
      return (0);
    }
#line 4543
    if ((int )ops->ind[115] != 0) {
#line 4543
      goto _L___12;
    } else
#line 4543
    if ((int )ops->ind[83] != 0) {
      _L___12: /* CIL Label */ 
#line 4544
      nwords = 0;
#line 4545
      pargs = args;
#line 4547
      queueing_enabled ++;
      {
#line 4548
      while (1) {
        while_continue___23: /* CIL Label */ ;
#line 4548
        tmp___29 = pargs;
#line 4548
        pargs ++;
#line 4548
        if (! *tmp___29) {
#line 4548
          goto while_break___23;
        }
#line 4549
        nwords ++;
      }
      while_break___23: /* CIL Label */ ;
      }
#line 4550
      if (nwords) {
#line 4551
        if ((int )ops->ind[83] != 0) {
#line 4554
          if (nwords > 1) {
            {
#line 4555
            zwarnnam((char const   *)name, "option -S takes a single argument");
            }
            {
#line 4556
            while (1) {
              while_continue___24: /* CIL Label */ ;
#line 4556
              queueing_enabled --;
#line 4556
              if (! queueing_enabled) {
                {
#line 4556
                while (1) {
                  while_continue___25: /* CIL Label */ ;
                  {
#line 4556
                  while (1) {
                    while_continue___26: /* CIL Label */ ;
#line 4556
                    if (! (queue_front != queue_rear)) {
#line 4556
                      goto while_break___26;
                    }
                    {
#line 4556
                    queue_front = (queue_front + 1) % 128;
#line 4556
                    oset___2 = signal_setmask(signal_mask_queue[queue_front]);
#line 4556
                    zhandler(signal_queue[queue_front]);
#line 4556
                    signal_setmask(oset___2);
                    }
                  }
                  while_break___26: /* CIL Label */ ;
                  }
#line 4556
                  goto while_break___25;
                }
                while_break___25: /* CIL Label */ ;
                }
              }
#line 4556
              goto while_break___24;
            }
            while_break___24: /* CIL Label */ ;
            }
#line 4557
            return (1);
          }
          {
#line 4559
          words = (short *)((void *)0);
#line 4560
          wordsize = 0;
#line 4561
          histsplitwords(*args, & words, & wordsize, & nwords, 1);
#line 4562
          ent = prepnexthistent();
#line 4563
          tmp___30 = zalloc((unsigned long )nwords * sizeof(short ));
#line 4563
          ent->words = (short *)tmp___30;
#line 4564
          memcpy((void */* __restrict  */)ent->words, (void const   */* __restrict  */)words,
                 (unsigned long )nwords * sizeof(short ));
#line 4565
          free((void *)words);
#line 4566
          ent->nwords = nwords / 2;
          }
        } else {
          {
#line 4568
          ent = prepnexthistent();
#line 4569
          tmp___31 = zalloc((unsigned long )(nwords * 2) * sizeof(short ));
#line 4569
          ent->words = (short *)tmp___31;
#line 4570
          ent->nwords = nwords;
#line 4571
          iwords = 0;
#line 4571
          nlen = iwords;
#line 4572
          pargs = args;
          }
          {
#line 4572
          while (1) {
            while_continue___27: /* CIL Label */ ;
#line 4572
            if (! *pargs) {
#line 4572
              goto while_break___27;
            }
            {
#line 4573
            tmp___32 = iwords;
#line 4573
            iwords ++;
#line 4573
            *(ent->words + tmp___32) = (short )nlen;
#line 4574
            tmp___33 = strlen((char const   *)*pargs);
#line 4574
            nlen = (int )((size_t )nlen + tmp___33);
#line 4575
            tmp___34 = iwords;
#line 4575
            iwords ++;
#line 4575
            *(ent->words + tmp___34) = (short )nlen;
#line 4576
            nlen ++;
#line 4572
            pargs ++;
            }
          }
          while_break___27: /* CIL Label */ ;
          }
        }
      } else {
        {
#line 4580
        ent = prepnexthistent();
#line 4581
        ent->words = (short *)((void *)0);
        }
      }
      {
#line 4583
      ent->node.nam = zjoin(args, ' ', 0);
#line 4584
      tmp___35 = time((time_t *)((void *)0));
#line 4584
      ent->ftim = tmp___35;
#line 4584
      ent->stim = tmp___35;
#line 4585
      ent->node.flags = 0;
#line 4586
      addhistnode(histtab, ent->node.nam, (void *)ent);
      }
      {
#line 4587
      while (1) {
        while_continue___28: /* CIL Label */ ;
#line 4587
        queueing_enabled --;
#line 4587
        if (! queueing_enabled) {
          {
#line 4587
          while (1) {
            while_continue___29: /* CIL Label */ ;
            {
#line 4587
            while (1) {
              while_continue___30: /* CIL Label */ ;
#line 4587
              if (! (queue_front != queue_rear)) {
#line 4587
                goto while_break___30;
              }
              {
#line 4587
              queue_front = (queue_front + 1) % 128;
#line 4587
              oset___3 = signal_setmask(signal_mask_queue[queue_front]);
#line 4587
              zhandler(signal_queue[queue_front]);
#line 4587
              signal_setmask(oset___3);
              }
            }
            while_break___30: /* CIL Label */ ;
            }
#line 4587
            goto while_break___29;
          }
          while_break___29: /* CIL Label */ ;
          }
        }
#line 4587
        goto while_break___28;
      }
      while_break___28: /* CIL Label */ ;
      }
#line 4588
      return (0);
    }
#line 4591
    if ((int )ops->ind[120] > 3) {
#line 4591
      goto _L___13;
    } else
#line 4591
    if ((int )ops->ind[88] > 3) {
      _L___13: /* CIL Label */ 
#line 4593
      startpos = 0;
#line 4594
      all = (int )ops->ind[88] > 3;
#line 4595
      if (all) {
#line 4595
        tmp___36 = *(ops->args + (((int )ops->ind[88] >> 2) - 1));
      } else {
#line 4595
        tmp___36 = *(ops->args + (((int )ops->ind[120] >> 2) - 1));
      }
      {
#line 4595
      xarg = tmp___36;
#line 4597
      tmp___37 = zstrtol((char const   *)xarg, & eptr___1, 10);
#line 4597
      expand = (int )tmp___37;
      }
#line 4598
      if (*eptr___1) {
        {
#line 4599
        zwarnnam((char const   *)name, "positive integer expected after -%c: %s",
                 'x', xarg);
        }
#line 4601
        return (1);
      } else
#line 4598
      if (expand <= 0) {
        {
#line 4599
        zwarnnam((char const   *)name, "positive integer expected after -%c: %s",
                 'x', xarg);
        }
#line 4601
        return (1);
      }
      {
#line 4603
      while (1) {
        while_continue___31: /* CIL Label */ ;
#line 4603
        if (! *args) {
#line 4603
          goto while_break___31;
        }
        {
#line 4604
        startpos = zexpandtabs((char const   *)*args, *len, expand, startpos, fout,
                               all);
        }
#line 4606
        if (*(args + 1)) {
#line 4607
          if ((int )ops->ind[108] != 0) {
            {
#line 4608
            fputc('\n', fout);
#line 4609
            startpos = 0;
            }
          } else
#line 4610
          if ((int )ops->ind[78] != 0) {
            {
#line 4611
            fputc('\000', fout);
            }
          } else {
            {
#line 4613
            fputc(' ', fout);
#line 4614
            startpos ++;
            }
          }
        }
#line 4603
        args ++;
#line 4603
        len ++;
      }
      while_break___31: /* CIL Label */ ;
      }
    } else {
      {
#line 4619
      while (1) {
        while_continue___32: /* CIL Label */ ;
#line 4619
        if (! *args) {
#line 4619
          goto while_break___32;
        }
        {
#line 4620
        fwrite((void const   */* __restrict  */)*args, (size_t )*len, (size_t )1,
               (FILE */* __restrict  */)fout);
        }
#line 4621
        if (*(args + 1)) {
#line 4622
          if ((int )ops->ind[108] != 0) {
#line 4622
            tmp___39 = '\n';
          } else {
#line 4622
            if ((int )ops->ind[78] != 0) {
#line 4622
              tmp___38 = '\000';
            } else {
#line 4622
              tmp___38 = ' ';
            }
#line 4622
            tmp___39 = tmp___38;
          }
          {
#line 4622
          fputc(tmp___39, fout);
          }
        }
#line 4619
        args ++;
#line 4619
        len ++;
      }
      while_break___32: /* CIL Label */ ;
      }
    }
#line 4626
    if (! ((int )ops->ind[110] != 0)) {
#line 4626
      if (! nnl) {
#line 4626
        if ((int )ops->ind[118] != 0) {
#line 4626
          if (! (! ((int )ops->ind[108] != 0))) {
#line 4626
            goto _L___14;
          }
        } else {
          _L___14: /* CIL Label */ 
#line 4628
          if ((int )ops->ind[78] != 0) {
#line 4628
            tmp___40 = '\000';
          } else {
#line 4628
            tmp___40 = '\n';
          }
          {
#line 4628
          fputc(tmp___40, fout);
          }
        }
      }
    }
#line 4629
    if ((unsigned long )fout != (unsigned long )stdout) {
#line 4629
      if ((int )ops->ind[122] != 0) {
#line 4629
        goto _L___15;
      } else
#line 4629
      if ((int )ops->ind[115] != 0) {
#line 4629
        goto _L___15;
      } else
#line 4629
      if ((int )ops->ind[118] != 0) {
        _L___15: /* CIL Label */ 
        {
#line 4629
        tmp___42 = fclose(fout);
        }
#line 4629
        if (tmp___42 == 0) {
#line 4629
          rcount = mcount;
        } else {
#line 4629
          rcount = (size_t )-1;
        }
#line 4629
        if (rcount == 0xffffffffffffffffUL) {
#line 4630
          ret = 1;
        }
      }
    }
#line 4631
    if ((unsigned long )fout != (unsigned long )stdout) {
#line 4631
      if ((int )ops->ind[122] != 0) {
#line 4631
        tmp___49 = 1;
      } else
#line 4631
      if ((int )ops->ind[115] != 0) {
#line 4631
        tmp___49 = 1;
      } else
#line 4631
      if ((int )ops->ind[118] != 0) {
#line 4631
        tmp___49 = 1;
      } else {
#line 4631
        goto _L___16;
      }
    } else {
      _L___16: /* CIL Label */ 
#line 4631
      if ((unsigned long )fout == (unsigned long )stdout) {
        {
#line 4631
        tmp___44 = fflush(fout);
        }
#line 4631
        if (tmp___44 == 0) {
#line 4631
          tmp___46 = 1;
        } else {
          {
#line 4631
          tmp___45 = __errno_location();
          }
#line 4631
          if (*tmp___45 == 9) {
#line 4631
            tmp___46 = 1;
          } else {
#line 4631
            tmp___46 = 0;
          }
        }
#line 4631
        tmp___48 = tmp___46;
      } else {
        {
#line 4631
        tmp___47 = fclose(fout);
#line 4631
        tmp___48 = tmp___47 == 0;
        }
      }
#line 4631
      tmp___49 = tmp___48;
    }
#line 4631
    if (tmp___49) {
#line 4631
      if (ret) {
        {
#line 4632
        tmp___43 = __errno_location();
#line 4632
        zwarnnam((char const   *)name, "write error: %e", *tmp___43);
#line 4633
        ret = 1;
        }
      }
    } else {
      {
#line 4632
      tmp___43 = __errno_location();
#line 4632
      zwarnnam((char const   *)name, "write error: %e", *tmp___43);
#line 4633
      ret = 1;
      }
    }
#line 4635
    if (buf___7) {
#line 4637
      queueing_enabled ++;
#line 4638
      if (ret) {
        {
#line 4639
        free((void *)buf___7);
        }
      } else {
        {
#line 4641
        tmp___50 = metafy(buf___7, (int )rcount, 0);
#line 4641
        setsparam(*(ops->args + (((int )ops->ind[118] >> 2) - 1)), tmp___50);
        }
      }
      {
#line 4643
      while (1) {
        while_continue___33: /* CIL Label */ ;
#line 4643
        queueing_enabled --;
#line 4643
        if (! queueing_enabled) {
          {
#line 4643
          while (1) {
            while_continue___34: /* CIL Label */ ;
            {
#line 4643
            while (1) {
              while_continue___35: /* CIL Label */ ;
#line 4643
              if (! (queue_front != queue_rear)) {
#line 4643
                goto while_break___35;
              }
              {
#line 4643
              queue_front = (queue_front + 1) % 128;
#line 4643
              oset___4 = signal_setmask(signal_mask_queue[queue_front]);
#line 4643
              zhandler(signal_queue[queue_front]);
#line 4643
              signal_setmask(oset___4);
              }
            }
            while_break___35: /* CIL Label */ ;
            }
#line 4643
            goto while_break___34;
          }
          while_break___34: /* CIL Label */ ;
          }
        }
#line 4643
        goto while_break___33;
      }
      while_break___33: /* CIL Label */ ;
      }
    }
#line 4645
    return (ret);
  }
#line 4654
  if ((int )ops->ind[118] != 0) {
    {
#line 4656
    s = *(ops->args + (((int )ops->ind[118] >> 2) - 1));
#line 4657
    tmp___51 = getvalue(& vbuf, & s, 0);
#line 4657
    v = tmp___51;
    }
#line 4658
    if (v) {
#line 4658
      if (((v->pm)->node.flags & (((((1 << 1) | (1 << 2)) | (1 << 3)) | 1) | (1 << 4))) == 1) {
#line 4658
        tmp___52 = 1;
      } else {
#line 4658
        tmp___52 = 0;
      }
    } else {
#line 4658
      tmp___52 = 0;
    }
#line 4658
    visarr = tmp___52;
  }
#line 4661
  spec[0] = (char )'%';
#line 4662
  argp = args;
  {
#line 4663
  while (1) {
    while_continue___36: /* CIL Label */ ;
#line 4664
    rcount = count;
#line 4665
    if ((unsigned long )argp > (unsigned long )args) {
#line 4665
      if (visarr) {
#line 4666
        if (! splits) {
          {
#line 4667
          tmp___53 = arrlen(args);
#line 4667
          tmp___54 = zhalloc(sizeof(size_t ) * (unsigned long )((long )tmp___53 / (argp - args) + 1L));
#line 4667
          splits = (size_t *)tmp___54;
#line 4667
          cursplit = splits;
          }
        }
#line 4669
        tmp___55 = cursplit;
#line 4669
        cursplit ++;
#line 4669
        *tmp___55 = count;
      }
    }
#line 4671
    if (maxarg) {
#line 4672
      first += maxarg;
#line 4673
      argc -= maxarg;
#line 4674
      maxarg = 0;
    }
#line 4676
    c = fmt;
    {
#line 4676
    while (1) {
      while_continue___37: /* CIL Label */ ;
#line 4676
      if (! (c - fmt < (long )flen)) {
#line 4676
        goto while_break___37;
      }
#line 4677
      if ((int )*c != 37) {
        {
#line 4678
        _IO_putc((int )*c, fout);
#line 4679
        count ++;
        }
#line 4680
        goto __Cont___0;
      }
#line 4683
      tmp___56 = c;
#line 4683
      c ++;
#line 4683
      start = tmp___56;
#line 4684
      if ((int )*c == 37) {
        {
#line 4685
        _IO_putc('%', fout);
#line 4686
        count ++;
        }
#line 4687
        goto __Cont___0;
      }
#line 4690
      prec___0 = -1;
#line 4690
      type___0 = prec___0;
#line 4691
      width = 0;
#line 4692
      curarg = (char *)((void *)0);
#line 4693
      d___0 = spec + 1;
#line 4695
      if ((int )*c >= 49) {
#line 4695
        if ((int )*c <= 57) {
          {
#line 4696
          tmp___57 = strtoul((char const   */* __restrict  */)c, (char **/* __restrict  */)(& endptr),
                             0);
#line 4696
          narg = (int )tmp___57;
          }
#line 4697
          if ((int )*endptr == 36) {
#line 4698
            c = endptr + 1;
#line 4700
            if (narg > argc) {
              {
#line 4701
              zwarnnam((char const   *)name, "%d: argument specifier out of range",
                       narg);
              }
#line 4703
              if ((unsigned long )fout != (unsigned long )stdout) {
                {
#line 4704
                fclose(fout);
                }
              }
#line 4706
              if (buf___7) {
                {
#line 4707
                free((void *)buf___7);
                }
              }
#line 4709
              return (1);
            } else {
#line 4711
              if (narg > maxarg) {
#line 4711
                maxarg = narg;
              }
#line 4712
              curarg = *((first + narg) - 1);
#line 4713
              curlen = *(len + (((first - args) + (long )narg) - 1L));
            }
          }
        }
      }
      {
#line 4719
      memset((void *)(flags), 0, sizeof(flags));
      }
      {
#line 4720
      while (1) {
        while_continue___38: /* CIL Label */ ;
#line 4720
        if (*c) {
          {
#line 4720
          flag = strchr((char const   *)flagch, (int )*c);
          }
#line 4720
          if (! flag) {
#line 4720
            goto while_break___38;
          }
        } else {
#line 4720
          goto while_break___38;
        }
#line 4721
        if (! flags[flag - flagch]) {
#line 4722
          flags[flag - flagch] = 1;
#line 4723
          tmp___58 = d___0;
#line 4723
          d___0 ++;
#line 4723
          *tmp___58 = *c;
        }
#line 4725
        c ++;
      }
      while_break___38: /* CIL Label */ ;
      }
#line 4728
      if ((int )typtab[(unsigned char )*c] & 1) {
        {
#line 4729
        tmp___59 = strtoul((char const   */* __restrict  */)c, (char **/* __restrict  */)(& endptr),
                           0);
#line 4729
        width = (int )tmp___59;
#line 4730
        c = endptr;
        }
      } else
#line 4731
      if ((int )*c == 42) {
#line 4732
        c ++;
#line 4732
        if ((int )typtab[(unsigned char )*c] & 1) {
          {
#line 4733
          tmp___60 = strtoul((char const   */* __restrict  */)c, (char **/* __restrict  */)(& endptr),
                             0);
#line 4733
          narg = (int )tmp___60;
          }
#line 4734
          if ((int )*endptr == 36) {
#line 4735
            c = endptr + 1;
#line 4736
            if (narg > argc) {
#line 4736
              goto _L___17;
            } else
#line 4736
            if (narg <= 0) {
              _L___17: /* CIL Label */ 
              {
#line 4737
              zwarnnam((char const   *)name, "%d: argument specifier out of range",
                       narg);
              }
#line 4740
              if ((unsigned long )fout != (unsigned long )stdout) {
                {
#line 4741
                fclose(fout);
                }
              }
#line 4743
              if (buf___7) {
                {
#line 4744
                free((void *)buf___7);
                }
              }
#line 4746
              return (1);
            } else {
#line 4748
              if (narg > maxarg) {
#line 4748
                maxarg = narg;
              }
#line 4749
              argp = (first + narg) - 1;
            }
          }
        }
#line 4753
        if (*argp) {
          {
#line 4754
          tmp___61 = argp;
#line 4754
          argp ++;
#line 4754
          tmp___62 = mathevali(*tmp___61);
#line 4754
          width = (int )tmp___62;
          }
#line 4755
          if (errflag) {
#line 4756
            errflag &= -2;
#line 4757
            ret = 1;
          }
        }
      }
#line 4761
      tmp___63 = d___0;
#line 4761
      d___0 ++;
#line 4761
      *tmp___63 = (char )'*';
#line 4763
      if ((int )*c == 46) {
#line 4764
        c ++;
#line 4764
        if ((int )*c == 42) {
#line 4765
          c ++;
#line 4765
          if ((int )typtab[(unsigned char )*c] & 1) {
            {
#line 4766
            tmp___64 = strtoul((char const   */* __restrict  */)c, (char **/* __restrict  */)(& endptr),
                               0);
#line 4766
            narg = (int )tmp___64;
            }
#line 4767
            if ((int )*endptr == 36) {
#line 4768
              c = endptr + 1;
#line 4769
              if (narg > argc) {
#line 4769
                goto _L___18;
              } else
#line 4769
              if (narg <= 0) {
                _L___18: /* CIL Label */ 
                {
#line 4770
                zwarnnam((char const   *)name, "%d: argument specifier out of range",
                         narg);
                }
#line 4773
                if ((unsigned long )fout != (unsigned long )stdout) {
                  {
#line 4774
                  fclose(fout);
                  }
                }
#line 4776
                if (buf___7) {
                  {
#line 4777
                  free((void *)buf___7);
                  }
                }
#line 4779
                return (1);
              } else {
#line 4781
                if (narg > maxarg) {
#line 4781
                  maxarg = narg;
                }
#line 4782
                argp = (first + narg) - 1;
              }
            }
          }
#line 4787
          if (*argp) {
            {
#line 4788
            tmp___65 = argp;
#line 4788
            argp ++;
#line 4788
            tmp___66 = mathevali(*tmp___65);
#line 4788
            prec___0 = (int )tmp___66;
            }
#line 4789
            if (errflag) {
#line 4790
              errflag &= -2;
#line 4791
              ret = 1;
            }
          }
        } else
#line 4794
        if ((int )typtab[(unsigned char )*c] & 1) {
          {
#line 4795
          tmp___67 = strtoul((char const   */* __restrict  */)c, (char **/* __restrict  */)(& endptr),
                             0);
#line 4795
          prec___0 = (int )tmp___67;
#line 4796
          c = endptr;
          }
        } else {
#line 4798
          prec___0 = 0;
        }
#line 4799
        if (prec___0 >= 0) {
#line 4799
          tmp___68 = d___0;
#line 4799
          d___0 ++;
#line 4799
          *tmp___68 = (char )'.';
#line 4799
          tmp___69 = d___0;
#line 4799
          d___0 ++;
#line 4799
          *tmp___69 = (char )'*';
        }
      }
#line 4803
      if ((int )*c == 108) {
#line 4803
        c ++;
      } else
#line 4803
      if ((int )*c == 76) {
#line 4803
        c ++;
      } else
#line 4803
      if ((int )*c == 104) {
#line 4803
        c ++;
      }
#line 4805
      if (! curarg) {
#line 4805
        if (*argp) {
#line 4806
          curarg = *argp;
#line 4807
          tmp___70 = argp;
#line 4807
          argp ++;
#line 4807
          curlen = *(len + (tmp___70 - args));
        }
      }
#line 4809
      *(d___0 + 1) = (char )'\000';
#line 4810
      tmp___71 = *c;
#line 4810
      *d___0 = tmp___71;
      {
#line 4811
      if ((int )tmp___71 == 99) {
#line 4811
        goto case_99;
      }
#line 4819
      if ((int )tmp___71 == 98) {
#line 4819
        goto case_98;
      }
#line 4819
      if ((int )tmp___71 == 115) {
#line 4819
        goto case_98;
      }
#line 4897
      if ((int )tmp___71 == 113) {
#line 4897
        goto case_113;
      }
#line 4905
      if ((int )tmp___71 == 105) {
#line 4905
        goto case_105;
      }
#line 4905
      if ((int )tmp___71 == 100) {
#line 4905
        goto case_105;
      }
#line 4912
      if ((int )tmp___71 == 71) {
#line 4912
        goto case_71;
      }
#line 4912
      if ((int )tmp___71 == 103) {
#line 4912
        goto case_71;
      }
#line 4912
      if ((int )tmp___71 == 102) {
#line 4912
        goto case_71;
      }
#line 4912
      if ((int )tmp___71 == 69) {
#line 4912
        goto case_71;
      }
#line 4912
      if ((int )tmp___71 == 101) {
#line 4912
        goto case_71;
      }
#line 4918
      if ((int )tmp___71 == 88) {
#line 4918
        goto case_88;
      }
#line 4918
      if ((int )tmp___71 == 120) {
#line 4918
        goto case_88;
      }
#line 4918
      if ((int )tmp___71 == 117) {
#line 4918
        goto case_88;
      }
#line 4918
      if ((int )tmp___71 == 111) {
#line 4918
        goto case_88;
      }
#line 4921
      if ((int )tmp___71 == 110) {
#line 4921
        goto case_110;
      }
#line 4924
      goto switch_default;
      case_99: /* CIL Label */ 
#line 4812
      if (curarg) {
#line 4813
        intval = (int )*curarg;
      } else {
#line 4815
        intval = 0;
      }
#line 4816
      if (prec___0 >= 0) {
        {
#line 4816
        tmp___72 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                           width, prec___0, intval);
#line 4816
        count += (size_t )tmp___72;
        }
      } else {
        {
#line 4816
        tmp___73 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                           width, intval);
#line 4816
        count += (size_t )tmp___73;
        }
      }
#line 4817
      goto switch_break;
      case_98: /* CIL Label */ 
      case_115: /* CIL Label */ 
#line 4820
      if (curarg) {
#line 4827
        if ((int )*c == 98) {
#line 4828
          if ((int )ops->ind[98] != 0) {
#line 4828
            tmp___74 = 7;
          } else {
#line 4828
            tmp___74 = 8;
          }
          {
#line 4828
          tmp___75 = metafy(curarg, curlen, 1);
#line 4828
          b = getkeystring(tmp___75, & lbytes, tmp___74, & nnl);
          }
        } else {
#line 4833
          b = curarg;
#line 4834
          lbytes = curlen;
        }
        {
#line 4846
        ptr___0 = b;
#line 4848
        memset((void *)(& mbs___0), 0, sizeof(mbs___0));
#line 4851
        lchars = 0;
#line 4851
        lleft = lbytes;
        }
        {
#line 4851
        while (1) {
          while_continue___39: /* CIL Label */ ;
#line 4851
          if (! (lleft > 0)) {
#line 4851
            goto while_break___39;
          }
#line 4854
          if (lchars == prec___0) {
#line 4856
            lbytes = (int )(ptr___0 - b);
#line 4857
            goto while_break___39;
          }
#line 4860
          if (opts[116]) {
            {
#line 4861
            tmp___76 = mbrlen((char const   */* __restrict  */)ptr___0, (size_t )lleft,
                              (mbstate_t */* __restrict  */)(& mbs___0));
#line 4861
            chars = (int )tmp___76;
            }
#line 4862
            if (chars < 0) {
#line 4869
              lchars += lleft;
#line 4870
              lbytes = (int )((ptr___0 - b) + (long )lleft);
#line 4871
              goto while_break___39;
            } else
#line 4872
            if (chars == 0) {
#line 4874
              chars = 1;
            }
          } else {
#line 4879
            chars = 1;
          }
#line 4880
          lleft -= chars;
#line 4881
          ptr___0 += chars;
#line 4851
          lchars ++;
        }
        while_break___39: /* CIL Label */ ;
        }
#line 4883
        if (width > 0) {
#line 4883
          if (flags[3]) {
#line 4883
            width = - width;
          }
        }
#line 4884
        if (width > 0) {
#line 4884
          if (lchars < width) {
            {
#line 4885
            tmp___77 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%*c",
                               width - lchars, ' ');
#line 4885
            count += (size_t )tmp___77;
            }
          }
        }
        {
#line 4886
        tmp___78 = fwrite((void const   */* __restrict  */)b, (size_t )1, (size_t )lbytes,
                          (FILE */* __restrict  */)fout);
#line 4886
        count += tmp___78;
        }
#line 4887
        if (width < 0) {
#line 4887
          if (lchars < - width) {
            {
#line 4888
            tmp___79 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%*c",
                               - width - lchars, ' ');
#line 4888
            count += (size_t )tmp___79;
            }
          }
        }
#line 4889
        if (nnl) {
#line 4891
          flen = (int )((c - fmt) + 1L);
#line 4892
          fmttrunc = 1;
        }
      } else
#line 4894
      if (width) {
        {
#line 4895
        tmp___80 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)"%*c",
                           width, ' ');
#line 4895
        count += (size_t )tmp___80;
        }
      }
#line 4896
      goto switch_break;
      case_113: /* CIL Label */ 
#line 4898
      if (curarg) {
        {
#line 4898
        tmp___81 = metafy(curarg, curlen, 1);
#line 4898
        tmp___82 = quotestring((char const   *)tmp___81, 8);
#line 4898
        stringval = tmp___82;
        }
      } else {
#line 4898
        stringval = & nullstr;
      }
#line 4901
      *d___0 = (char )'s';
#line 4902
      if (prec___0 >= 0) {
        {
#line 4902
        tmp___83 = unmetafy(stringval, & curlen);
#line 4902
        tmp___84 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                           width, prec___0, tmp___83);
#line 4902
        count += (size_t )tmp___84;
        }
      } else {
        {
#line 4902
        tmp___85 = unmetafy(stringval, & curlen);
#line 4902
        tmp___86 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                           width, tmp___85);
#line 4902
        count += (size_t )tmp___86;
        }
      }
#line 4903
      goto switch_break;
      case_105: /* CIL Label */ 
      case_100: /* CIL Label */ 
#line 4906
      type___0 = 1;
#line 4907
      goto switch_break;
      case_71: /* CIL Label */ 
      case_103: /* CIL Label */ 
      case_102: /* CIL Label */ 
      case_69: /* CIL Label */ 
      case_101: /* CIL Label */ 
#line 4913
      type___0 = 2;
#line 4914
      goto switch_break;
      case_88: /* CIL Label */ 
      case_120: /* CIL Label */ 
      case_117: /* CIL Label */ 
      case_111: /* CIL Label */ 
#line 4919
      type___0 = 3;
#line 4920
      goto switch_break;
      case_110: /* CIL Label */ 
#line 4922
      if (curarg) {
        {
#line 4922
        setiparam(curarg, (zlong )(count - rcount));
        }
      }
#line 4923
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 4925
      if (*c) {
#line 4926
        save = *(c + 1);
#line 4927
        *(c + 1) = (char )'\000';
      }
      {
#line 4929
      zwarnnam((char const   *)name, "%s: invalid directive", start);
      }
#line 4930
      if (*c) {
#line 4930
        *(c + 1) = save;
      }
#line 4932
      if ((unsigned long )fout != (unsigned long )stdout) {
#line 4932
        if ((int )ops->ind[122] != 0) {
#line 4932
          tmp___93 = 1;
        } else
#line 4932
        if ((int )ops->ind[115] != 0) {
#line 4932
          tmp___93 = 1;
        } else
#line 4932
        if ((int )ops->ind[118] != 0) {
#line 4932
          tmp___93 = 1;
        } else {
#line 4932
          goto _L___19;
        }
      } else {
        _L___19: /* CIL Label */ 
#line 4932
        if ((unsigned long )fout == (unsigned long )stdout) {
          {
#line 4932
          tmp___88 = fflush(fout);
          }
#line 4932
          if (tmp___88 == 0) {
#line 4932
            tmp___90 = 1;
          } else {
            {
#line 4932
            tmp___89 = __errno_location();
            }
#line 4932
            if (*tmp___89 == 9) {
#line 4932
              tmp___90 = 1;
            } else {
#line 4932
              tmp___90 = 0;
            }
          }
#line 4932
          tmp___92 = tmp___90;
        } else {
          {
#line 4932
          tmp___91 = fclose(fout);
#line 4932
          tmp___92 = tmp___91 == 0;
          }
        }
#line 4932
        tmp___93 = tmp___92;
      }
#line 4932
      if (! tmp___93) {
        {
#line 4933
        tmp___87 = __errno_location();
#line 4933
        zwarnnam((char const   *)name, "write error: %e", *tmp___87);
        }
      }
#line 4935
      if (buf___7) {
        {
#line 4936
        free((void *)buf___7);
        }
      }
#line 4938
      return (1);
      switch_break: /* CIL Label */ ;
      }
#line 4941
      if (type___0 > 0) {
#line 4942
        if (curarg) {
#line 4942
          if ((int )*curarg == 39) {
#line 4942
            goto _L___21;
          } else
#line 4942
          if ((int )*curarg == 34) {
            _L___21: /* CIL Label */ 
#line 4945
            if (opts[116]) {
              {
#line 4946
              mb_charinit();
#line 4947
              tmp___94 = metafy(curarg + 1, curlen - 1, 1);
#line 4947
              mb_metacharlenconv((char const   *)tmp___94, & cc);
              }
            } else {
#line 4951
              cc = 4294967295U;
            }
#line 4952
            if (cc == 4294967295U) {
#line 4953
              if (curlen > 1) {
#line 4953
                cc = (convchar_t )((unsigned char )*(curarg + 1));
              } else {
#line 4953
                cc = (convchar_t )0;
              }
            }
#line 4957
            if (type___0 == 2) {
#line 4958
              doubleval = (double )cc;
#line 4959
              if (prec___0 >= 0) {
                {
#line 4959
                tmp___95 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                   width, prec___0, doubleval);
#line 4959
                count += (size_t )tmp___95;
                }
              } else {
                {
#line 4959
                tmp___96 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                   width, doubleval);
#line 4959
                count += (size_t )tmp___96;
                }
              }
            } else {
#line 4961
              intval = (int )cc;
#line 4962
              if (prec___0 >= 0) {
                {
#line 4962
                tmp___97 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                   width, prec___0, intval);
#line 4962
                count += (size_t )tmp___97;
                }
              } else {
                {
#line 4962
                tmp___98 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                   width, intval);
#line 4962
                count += (size_t )tmp___98;
                }
              }
            }
          } else {
#line 4942
            goto _L___20;
          }
        } else {
          _L___20: /* CIL Label */ 
          {
#line 4966
          if (type___0 == 1) {
#line 4966
            goto case_1;
          }
#line 4979
          if (type___0 == 2) {
#line 4979
            goto case_2;
          }
#line 5008
          if (type___0 == 3) {
#line 5008
            goto case_3;
          }
#line 4965
          goto switch_break___0;
          case_1: /* CIL Label */ 
#line 4970
          tmp___99 = d___0;
#line 4970
          d___0 ++;
#line 4970
          *tmp___99 = (char )'l';
#line 4970
          tmp___100 = d___0;
#line 4970
          d___0 ++;
#line 4970
          *tmp___100 = *c;
#line 4970
          *d___0 = (char )'\000';
#line 4971
          if (curarg) {
            {
#line 4971
            tmp___101 = mathevali(curarg);
#line 4971
            zlongval = tmp___101;
            }
          } else {
#line 4971
            zlongval = (zlong )0;
          }
#line 4972
          if (errflag) {
#line 4973
            zlongval = (zlong )0;
#line 4974
            errflag &= -2;
#line 4975
            ret = 1;
          }
#line 4977
          if (prec___0 >= 0) {
            {
#line 4977
            tmp___102 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                width, prec___0, zlongval);
#line 4977
            count += (size_t )tmp___102;
            }
          } else {
            {
#line 4977
            tmp___103 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                width, zlongval);
#line 4977
            count += (size_t )tmp___103;
            }
          }
#line 4978
          goto switch_break___0;
          case_2: /* CIL Label */ 
#line 4980
          if (curarg) {
            {
#line 4990
            doubleval = strtod((char const   */* __restrict  */)curarg, (char **/* __restrict  */)(& eptr___2));
            }
#line 4995
            if ((int )*eptr___2 != 0) {
              {
#line 4996
              mnumval = matheval(curarg);
              }
#line 4997
              if (mnumval.type & 2) {
#line 4997
                doubleval = mnumval.u.d;
              } else {
#line 4997
                doubleval = (double )mnumval.u.l;
              }
            }
          } else {
#line 5000
            doubleval = (double )0;
          }
#line 5001
          if (errflag) {
#line 5002
            doubleval = (double )0;
#line 5003
            errflag &= -2;
#line 5004
            ret = 1;
          }
#line 5006
          if (prec___0 >= 0) {
            {
#line 5006
            tmp___104 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                width, prec___0, doubleval);
#line 5006
            count += (size_t )tmp___104;
            }
          } else {
            {
#line 5006
            tmp___105 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                width, doubleval);
#line 5006
            count += (size_t )tmp___105;
            }
          }
#line 5007
          goto switch_break___0;
          case_3: /* CIL Label */ 
#line 5012
          tmp___106 = d___0;
#line 5012
          d___0 ++;
#line 5012
          *tmp___106 = (char )'l';
#line 5012
          tmp___107 = d___0;
#line 5012
          d___0 ++;
#line 5012
          *tmp___107 = *c;
#line 5012
          *d___0 = (char )'\000';
#line 5013
          if (curarg) {
            {
#line 5013
            tmp___108 = mathevali(curarg);
#line 5013
            zulongval = (zulong )tmp___108;
            }
          } else {
#line 5013
            zulongval = (zulong )0;
          }
#line 5014
          if (errflag) {
#line 5015
            zulongval = (zulong )0;
#line 5016
            errflag &= -2;
#line 5017
            ret = 1;
          }
#line 5019
          if (prec___0 >= 0) {
            {
#line 5019
            tmp___109 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                width, prec___0, zulongval);
#line 5019
            count += (size_t )tmp___109;
            }
          } else {
            {
#line 5019
            tmp___110 = fprintf((FILE */* __restrict  */)fout, (char const   */* __restrict  */)(spec),
                                width, zulongval);
#line 5019
            count += (size_t )tmp___110;
            }
          }
          switch_break___0: /* CIL Label */ ;
          }
        }
      }
#line 5023
      if (maxarg) {
#line 5023
        if (argp - first > (long )maxarg) {
#line 5024
          maxarg = (int )(argp - first);
        }
      }
      __Cont___0: /* CIL Label */ 
#line 4676
      c ++;
    }
    while_break___37: /* CIL Label */ ;
    }
#line 5027
    if (maxarg) {
#line 5027
      argp = first + maxarg;
    }
#line 4663
    if (*argp) {
#line 4663
      if ((unsigned long )argp != (unsigned long )first) {
#line 4663
        if (! fmttrunc) {
#line 4663
          if (! (! ((int )ops->ind[114] != 0))) {
#line 4663
            goto while_break___36;
          }
        } else {
#line 4663
          goto while_break___36;
        }
      } else {
#line 4663
        goto while_break___36;
      }
    } else {
#line 4663
      goto while_break___36;
    }
  }
  while_break___36: /* CIL Label */ ;
  }
#line 5031
  if ((unsigned long )fout != (unsigned long )stdout) {
#line 5031
    if ((int )ops->ind[122] != 0) {
#line 5031
      goto _L___23;
    } else
#line 5031
    if ((int )ops->ind[115] != 0) {
#line 5031
      goto _L___23;
    } else
#line 5031
    if ((int )ops->ind[118] != 0) {
      _L___23: /* CIL Label */ 
      {
#line 5032
      queueing_enabled ++;
#line 5033
      tmp___116 = fclose(fout);
      }
#line 5033
      if (tmp___116 == 0) {
#line 5033
        rcount = mcount;
      } else {
#line 5033
        rcount = (size_t )-1;
      }
#line 5033
      if (rcount == 0xffffffffffffffffUL) {
        {
#line 5034
        tmp___111 = __errno_location();
#line 5034
        zwarnnam((char const   *)name, "i/o error: %e", *tmp___111);
        }
#line 5035
        if (buf___7) {
          {
#line 5036
          free((void *)buf___7);
          }
        }
      } else
#line 5038
      if (visarr) {
#line 5038
        if (splits) {
          {
#line 5039
          tmp___112 = zshcalloc((unsigned long )((cursplit - splits) + 2L) * sizeof(char *));
#line 5039
          arrayval = (char **)tmp___112;
          }
          {
#line 5040
          while (1) {
            while_continue___40: /* CIL Label */ ;
#line 5040
            if (! ((unsigned long )cursplit >= (unsigned long )splits)) {
#line 5040
              goto while_break___40;
            }
#line 5041
            if ((unsigned long )cursplit == (unsigned long )splits) {
#line 5041
              tmp___113 = (size_t )0;
            } else {
#line 5041
              tmp___113 = *(cursplit + -1);
            }
            {
#line 5041
            start___0 = (int )tmp___113;
#line 5042
            *(arrayval + (cursplit - splits)) = metafy(buf___7 + start___0, (int )(count - (size_t )start___0),
                                                       3);
#line 5044
            count = (size_t )start___0;
#line 5040
            cursplit --;
            }
          }
          while_break___40: /* CIL Label */ ;
          }
          {
#line 5046
          setaparam(*(ops->args + (((int )ops->ind[118] >> 2) - 1)), arrayval);
#line 5047
          free((void *)buf___7);
          }
        } else {
#line 5038
          goto _L___22;
        }
      } else {
        _L___22: /* CIL Label */ 
        {
#line 5049
        stringval = metafy(buf___7, (int )rcount, 0);
        }
#line 5050
        if ((int )ops->ind[122] != 0) {
          {
#line 5051
          zinsertlinknode(bufstack, & bufstack->node, (void *)stringval);
          }
        } else
#line 5052
        if ((int )ops->ind[118] != 0) {
          {
#line 5053
          setsparam(*(ops->args + (((int )ops->ind[118] >> 2) - 1)), stringval);
          }
        } else {
          {
#line 5055
          ent = prepnexthistent();
#line 5056
          ent->node.nam = stringval;
#line 5057
          tmp___114 = time((time_t *)((void *)0));
#line 5057
          ent->ftim = tmp___114;
#line 5057
          ent->stim = tmp___114;
#line 5058
          ent->node.flags = 0;
#line 5059
          ent->words = (short *)((void *)0);
#line 5060
          addhistnode(histtab, ent->node.nam, (void *)ent);
          }
        }
      }
      {
#line 5064
      while (1) {
        while_continue___41: /* CIL Label */ ;
#line 5064
        queueing_enabled --;
#line 5064
        if (! queueing_enabled) {
          {
#line 5064
          while (1) {
            while_continue___42: /* CIL Label */ ;
            {
#line 5064
            while (1) {
              while_continue___43: /* CIL Label */ ;
#line 5064
              if (! (queue_front != queue_rear)) {
#line 5064
                goto while_break___43;
              }
              {
#line 5064
              queue_front = (queue_front + 1) % 128;
#line 5064
              oset___5 = signal_setmask(signal_mask_queue[queue_front]);
#line 5064
              zhandler(signal_queue[queue_front]);
#line 5064
              signal_setmask(oset___5);
              }
            }
            while_break___43: /* CIL Label */ ;
            }
#line 5064
            goto while_break___42;
          }
          while_break___42: /* CIL Label */ ;
          }
        }
#line 5064
        goto while_break___41;
      }
      while_break___41: /* CIL Label */ ;
      }
    }
  }
#line 5067
  if ((unsigned long )fout != (unsigned long )stdout) {
#line 5067
    if ((int )ops->ind[122] != 0) {
#line 5067
      tmp___123 = 1;
    } else
#line 5067
    if ((int )ops->ind[115] != 0) {
#line 5067
      tmp___123 = 1;
    } else
#line 5067
    if ((int )ops->ind[118] != 0) {
#line 5067
      tmp___123 = 1;
    } else {
#line 5067
      goto _L___24;
    }
  } else {
    _L___24: /* CIL Label */ 
#line 5067
    if ((unsigned long )fout == (unsigned long )stdout) {
      {
#line 5067
      tmp___118 = fflush(fout);
      }
#line 5067
      if (tmp___118 == 0) {
#line 5067
        tmp___120 = 1;
      } else {
        {
#line 5067
        tmp___119 = __errno_location();
        }
#line 5067
        if (*tmp___119 == 9) {
#line 5067
          tmp___120 = 1;
        } else {
#line 5067
          tmp___120 = 0;
        }
      }
#line 5067
      tmp___122 = tmp___120;
    } else {
      {
#line 5067
      tmp___121 = fclose(fout);
#line 5067
      tmp___122 = tmp___121 == 0;
      }
    }
#line 5067
    tmp___123 = tmp___122;
  }
#line 5067
  if (! tmp___123) {
    {
#line 5069
    tmp___117 = __errno_location();
#line 5069
    zwarnnam((char const   *)name, "write error: %e", *tmp___117);
#line 5070
    ret = 1;
    }
  }
#line 5072
  return (ret);
}
}
#line 5078 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_shift(char *name , char **argv , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  int num ;
  int l ;
  int ret ;
  char **s ;
  char **tmp ;
  zlong tmp___0 ;
  char **tmp___1 ;
  sigset_t oset ;
  char tmp___2 ;
  char **s2 ;
  char **src ;
  char **dst ;
  int count ;
  void *tmp___3 ;
  char **tmp___4 ;
  char **tmp___5 ;
  void *tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  sigset_t oset___0 ;
  void *__cil_tmp25 ;
  void *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;

  {
#line 5081
  num = 1;
#line 5081
  ret = 0;
#line 5085
  queueing_enabled ++;
#line 5086
  if (*argv) {
    {
#line 5086
    tmp___1 = getaparam(*argv);
    }
#line 5086
    if (! tmp___1) {
      {
#line 5087
      tmp = argv;
#line 5087
      argv ++;
#line 5087
      tmp___0 = mathevali(*tmp);
#line 5087
      num = (int )tmp___0;
      }
    }
  }
#line 5089
  if (num < 0) {
    {
#line 5090
    while (1) {
      while_continue: /* CIL Label */ ;
#line 5090
      queueing_enabled --;
#line 5090
      if (! queueing_enabled) {
        {
#line 5090
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 5090
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 5090
            if (! (queue_front != queue_rear)) {
#line 5090
              goto while_break___1;
            }
            {
#line 5090
            queue_front = (queue_front + 1) % 128;
#line 5090
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 5090
            zhandler(signal_queue[queue_front]);
#line 5090
            signal_setmask(oset);
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 5090
          goto while_break___0;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
#line 5090
      goto while_break;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 5091
    zwarnnam((char const   *)name, "argument to shift must be non-negative");
    }
#line 5092
    return (1);
  }
#line 5095
  if (*argv) {
    {
#line 5096
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 5096
      if (! *argv) {
#line 5096
        goto while_break___2;
      }
      {
#line 5097
      s = getaparam(*argv);
      }
#line 5097
      if (s) {
        {
#line 5098
        tmp___2 = arrlen_lt(s, (unsigned int )num);
        }
#line 5098
        if (tmp___2) {
          {
#line 5099
          zwarnnam((char const   *)name, "shift count must be <= $#");
#line 5100
          ret ++;
          }
#line 5101
          goto __Cont;
        }
#line 5103
        if ((int )ops->ind[112] != 0) {
          {
#line 5106
          l = arrlen(s);
#line 5107
          src = s;
#line 5108
          tmp___3 = zalloc((unsigned long )((l - num) + 1) * sizeof(char *));
#line 5108
          s2 = (char **)tmp___3;
#line 5108
          dst = s2;
#line 5109
          count = l - num;
          }
          {
#line 5109
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 5109
            if (! count) {
#line 5109
              goto while_break___3;
            }
            {
#line 5110
            tmp___4 = dst;
#line 5110
            dst ++;
#line 5110
            tmp___5 = src;
#line 5110
            src ++;
#line 5110
            *tmp___4 = ztrdup((char const   *)*tmp___5);
#line 5109
            count --;
            }
          }
          while_break___3: /* CIL Label */ ;
          }
#line 5111
          *dst = (char *)((void *)0);
#line 5112
          s = s2;
        } else {
          {
#line 5114
          s = zarrdup(s + num);
          }
        }
        {
#line 5116
        setaparam(*argv, s);
        }
      }
      __Cont: /* CIL Label */ 
#line 5096
      argv ++;
    }
    while_break___2: /* CIL Label */ ;
    }
  } else {
    {
#line 5119
    l = arrlen(pparams);
    }
#line 5119
    if (num > l) {
      {
#line 5120
      zwarnnam((char const   *)name, "shift count must be <= $#");
#line 5121
      ret = 1;
      }
    } else {
      {
#line 5123
      tmp___6 = zalloc((unsigned long )((l - num) + 1) * sizeof(char *));
#line 5123
      s = (char **)tmp___6;
      }
#line 5124
      if ((int )ops->ind[112] != 0) {
        {
#line 5125
        memcpy((void */* __restrict  */)s, (void const   */* __restrict  */)pparams,
               (unsigned long )(l - num) * sizeof(char *));
#line 5126
        *(s + (l - num)) = (char *)((void *)0);
        }
        {
#line 5127
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 5127
          tmp___7 = num;
#line 5127
          num --;
#line 5127
          if (! tmp___7) {
#line 5127
            goto while_break___4;
          }
          {
#line 5128
          zsfree(*(pparams + ((l - 1) - num)));
          }
        }
        while_break___4: /* CIL Label */ ;
        }
      } else {
        {
#line 5130
        memcpy((void */* __restrict  */)s, (void const   */* __restrict  */)(pparams + num),
               (unsigned long )((l - num) + 1) * sizeof(char *));
        }
        {
#line 5131
        while (1) {
          while_continue___5: /* CIL Label */ ;
#line 5131
          tmp___8 = num;
#line 5131
          num --;
#line 5131
          if (! tmp___8) {
#line 5131
            goto while_break___5;
          }
          {
#line 5132
          zsfree(*(pparams + num));
          }
        }
        while_break___5: /* CIL Label */ ;
        }
      }
      {
#line 5134
      zfree((void *)pparams, (int )((unsigned long )(l + 1) * sizeof(char *)));
#line 5135
      pparams = s;
      }
    }
  }
  {
#line 5138
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 5138
    queueing_enabled --;
#line 5138
    if (! queueing_enabled) {
      {
#line 5138
      while (1) {
        while_continue___7: /* CIL Label */ ;
        {
#line 5138
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 5138
          if (! (queue_front != queue_rear)) {
#line 5138
            goto while_break___8;
          }
          {
#line 5138
          queue_front = (queue_front + 1) % 128;
#line 5138
          oset___0 = signal_setmask(signal_mask_queue[queue_front]);
#line 5138
          zhandler(signal_queue[queue_front]);
#line 5138
          signal_setmask(oset___0);
          }
        }
        while_break___8: /* CIL Label */ ;
        }
#line 5138
        goto while_break___7;
      }
      while_break___7: /* CIL Label */ ;
      }
    }
#line 5138
    goto while_break___6;
  }
  while_break___6: /* CIL Label */ ;
  }
#line 5139
  return (ret);
}
}
#line 5152 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_getopts(char *name  __attribute__((__unused__)) , char **argv , Options ops  __attribute__((__unused__)) ,
                int func  __attribute__((__unused__)) ) 
{ 
  int lenstr ;
  int lenoptstr ;
  int quiet ;
  int lenoptbuf ;
  char *optstr ;
  char **tmp ;
  char *tmp___0 ;
  char *var ;
  char **tmp___1 ;
  char **args ;
  char **tmp___2 ;
  char *str ;
  char optbuf[2] ;
  char *p ;
  char opch ;
  char tmp___3 ;
  char *tmp___4 ;
  zlong tmp___5 ;
  char *tmp___6 ;
  int tmp___7 ;
  char *tmp___8 ;
  char const   *tmp___9 ;
  void *tmp___10 ;
  zlong tmp___11 ;
  char *tmp___12 ;
  void *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;
  char *__cil_tmp34 ;
  char *__cil_tmp35 ;
  char *__cil_tmp36 ;

  {
  {
#line 5156
  tmp = argv;
#line 5156
  argv ++;
#line 5156
  tmp___0 = unmetafy(*tmp, & lenoptstr);
#line 5156
  optstr = tmp___0;
#line 5156
  tmp___1 = argv;
#line 5156
  argv ++;
#line 5156
  var = *tmp___1;
  }
#line 5157
  if (*argv) {
#line 5157
    tmp___2 = argv;
  } else {
#line 5157
    tmp___2 = pparams;
  }
#line 5157
  args = tmp___2;
#line 5158
  optbuf[0] = (char )' ';
#line 5158
  optbuf[1] = (char )'\000';
#line 5162
  if (zoptind < 1L) {
#line 5164
    zoptind = (zlong )1;
#line 5165
    optcind = 0;
  }
  {
#line 5167
  tmp___3 = arrlen_lt(args, (unsigned int )zoptind);
  }
#line 5167
  if (tmp___3) {
#line 5169
    return (1);
  }
  {
#line 5172
  quiet = (int )*optstr == 58;
#line 5173
  optstr += quiet;
#line 5174
  lenoptstr -= quiet;
#line 5177
  tmp___4 = dupstring((char const   *)*(args + (zoptind - 1L)));
#line 5177
  str = unmetafy(tmp___4, & lenstr);
  }
#line 5178
  if (! lenstr) {
#line 5179
    return (1);
  }
#line 5180
  if (optcind >= lenstr) {
#line 5181
    optcind = 0;
#line 5182
    tmp___5 = zoptind;
#line 5182
    zoptind ++;
#line 5182
    if (! *(args + tmp___5)) {
#line 5183
      return (1);
    }
    {
#line 5184
    tmp___6 = dupstring((char const   *)*(args + (zoptind - 1L)));
#line 5184
    str = unmetafy(tmp___6, & lenstr);
    }
  }
#line 5186
  if (! optcind) {
#line 5187
    if (lenstr < 2) {
#line 5188
      return (1);
    } else
#line 5187
    if ((int )*str != 45) {
#line 5187
      if ((int )*str != 43) {
#line 5188
        return (1);
      }
    }
#line 5189
    if (lenstr == 2) {
#line 5189
      if ((int )*(str + 0) == 45) {
#line 5189
        if ((int )*(str + 1) == 45) {
#line 5190
          zoptind ++;
#line 5191
          return (1);
        }
      }
    }
#line 5193
    optcind ++;
  }
#line 5195
  tmp___7 = optcind;
#line 5195
  optcind ++;
#line 5195
  opch = *(str + tmp___7);
#line 5196
  if ((int )*(str + 0) == 43) {
#line 5197
    optbuf[0] = (char )'+';
#line 5198
    lenoptbuf = 2;
  } else {
#line 5200
    lenoptbuf = 1;
  }
#line 5201
  optbuf[lenoptbuf - 1] = opch;
#line 5204
  if ((int )opch == 58) {
#line 5204
    goto _L;
  } else {
    {
#line 5204
    tmp___10 = memchr((void const   *)optstr, (int )opch, (size_t )lenoptstr);
#line 5204
    p = (char *)tmp___10;
    }
#line 5204
    if (! p) {
      _L: /* CIL Label */ 
#line 5205
      p = (char *)"?";
      err: 
      {
#line 5207
      zsfree(zoptarg);
#line 5208
      tmp___8 = ztrdup((char const   *)p);
#line 5208
      setsparam(var, tmp___8);
      }
#line 5209
      if (quiet) {
        {
#line 5210
        zoptarg = metafy(optbuf, lenoptbuf, 3);
        }
      } else {
#line 5212
        if ((int )*p == 63) {
#line 5212
          tmp___9 = "bad option: -%c";
        } else {
#line 5212
          tmp___9 = "argument expected after -%c option";
        }
        {
#line 5212
        zwarn(tmp___9, (int )opch);
#line 5214
        zoptarg = ztrdup("");
        }
      }
#line 5216
      return (0);
    }
  }
#line 5220
  if ((int )*(p + 1) == 58) {
#line 5221
    if (optcind == lenstr) {
#line 5222
      if (! *(args + zoptind)) {
#line 5223
        p = (char *)":";
#line 5224
        goto err;
      }
      {
#line 5226
      tmp___11 = zoptind;
#line 5226
      zoptind ++;
#line 5226
      p = ztrdup((char const   *)*(args + tmp___11));
      }
    } else {
      {
#line 5228
      p = metafy(str + optcind, lenstr - optcind, 3);
      }
    }
    {
#line 5236
    optcind = 0;
#line 5237
    zoptind ++;
#line 5238
    zsfree(zoptarg);
#line 5239
    zoptarg = p;
    }
  } else {
    {
#line 5241
    zsfree(zoptarg);
#line 5242
    zoptarg = ztrdup("");
    }
  }
  {
#line 5245
  tmp___12 = metafy(optbuf, lenoptbuf, 3);
#line 5245
  setsparam(var, tmp___12);
  }
#line 5246
  return (0);
}
}
#line 5264 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_break(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
              int func ) 
{ 
  int num ;
  int nump ;
  int implicit ;
  char **tmp ;
  zlong tmp___0 ;
  int tmp___1 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;

  {
#line 5267
  num = (int )lastval;
#line 5267
  nump = 0;
#line 5270
  implicit = ! *argv;
#line 5271
  if (*argv) {
    {
#line 5272
    tmp = argv;
#line 5272
    argv ++;
#line 5272
    tmp___0 = mathevali(*tmp);
#line 5272
    num = (int )tmp___0;
#line 5273
    nump = 1;
    }
  }
#line 5276
  if (nump > 0) {
#line 5276
    if (func == 7) {
#line 5276
      goto _L;
    } else
#line 5276
    if (func == 6) {
      _L: /* CIL Label */ 
#line 5276
      if (num <= 0) {
        {
#line 5277
        zerrnam((char const   *)name, "argument is not positive: %d", num);
        }
#line 5278
        return (1);
      }
    }
  }
  {
#line 5282
  if (func == 7) {
#line 5282
    goto case_7;
  }
#line 5288
  if (func == 6) {
#line 5288
    goto case_6;
  }
#line 5295
  if (func == 9) {
#line 5295
    goto case_9;
  }
#line 5315
  if (func == 19) {
#line 5315
    goto case_19;
  }
#line 5321
  if (func == 8) {
#line 5321
    goto case_8;
  }
#line 5281
  goto switch_break;
  case_7: /* CIL Label */ 
#line 5283
  if (! loops) {
    {
#line 5284
    zerrnam((char const   *)name, "not in while, until, select, or repeat loop");
    }
#line 5285
    return (1);
  }
#line 5287
  contflag = 1;
  case_6: /* CIL Label */ 
#line 5289
  if (! loops) {
    {
#line 5290
    zerrnam((char const   *)name, "not in while, until, select, or repeat loop");
    }
#line 5291
    return (1);
  }
#line 5293
  if (nump) {
#line 5293
    if (num < loops) {
#line 5293
      tmp___1 = num;
    } else {
#line 5293
      tmp___1 = loops;
    }
#line 5293
    breaks = tmp___1;
  } else {
#line 5293
    breaks = 1;
  }
#line 5294
  goto switch_break;
  case_9: /* CIL Label */ 
#line 5296
  if (opts[92]) {
#line 5296
    if (opts[159]) {
#line 5296
      goto _L___0;
    } else {
#line 5296
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 5296
  if (locallevel) {
#line 5296
    goto _L___0;
  } else
#line 5296
  if (sourcelevel) {
    _L___0: /* CIL Label */ 
#line 5298
    retflag = 1;
#line 5299
    breaks = loops;
#line 5300
    lastval = (zlong )num;
#line 5301
    if (trap_state == 1) {
#line 5301
      if (trap_return == -2) {
#line 5301
        if (opts[135]) {
#line 5301
          if (! implicit) {
#line 5308
            trap_state = 2;
#line 5309
            trap_return = (int )lastval;
          }
        } else {
#line 5308
          trap_state = 2;
#line 5309
          trap_return = (int )lastval;
        }
      }
    }
#line 5311
    return ((int )lastval);
  }
  {
#line 5313
  zexit(num, 0);
  }
#line 5314
  goto switch_break;
  case_19: /* CIL Label */ 
#line 5316
  if (! opts[109]) {
    {
#line 5317
    zerrnam((char const   *)name, "not login shell");
    }
#line 5318
    return (1);
  }
  case_8: /* CIL Label */ 
#line 5322
  if (locallevel > forklevel) {
#line 5332
    if (stopmsg) {
#line 5333
      retflag = 1;
#line 5334
      breaks = loops;
#line 5335
      exit_pending = (num << 1) | 1;
#line 5336
      exit_level = locallevel;
    } else {
      {
#line 5332
      zexit(0, 2);
      }
#line 5332
      if (! stopmsg) {
#line 5333
        retflag = 1;
#line 5334
        breaks = loops;
#line 5335
        exit_pending = (num << 1) | 1;
#line 5336
        exit_level = locallevel;
      }
    }
  } else {
    {
#line 5339
    zexit(num, 0);
    }
  }
#line 5340
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 5342
  return (0);
}
}
#line 5353 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static void checkjobs(void) 
{ 
  int i ;
  char *__cil_tmp2 ;
  char *__cil_tmp3 ;

  {
#line 5358
  i = 1;
  {
#line 5358
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5358
    if (! (i <= maxjob)) {
#line 5358
      goto while_break;
    }
#line 5359
    if (i != thisjob) {
#line 5359
      if ((jobtab + i)->stat & 16) {
#line 5359
        if (! ((jobtab + i)->stat & 32)) {
#line 5361
          goto while_break;
        }
      }
    }
#line 5358
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 5362
  if (i <= maxjob) {
#line 5363
    if ((jobtab + i)->stat & 2) {
      {
#line 5366
      zerr("you have suspended jobs.");
      }
    } else {
      {
#line 5372
      zerr("you have running jobs.");
      }
    }
#line 5373
    stopmsg = 1;
  }
#line 5375
  return;
}
}
#line 5388 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int in_exit  ;
#line 5385 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
void zexit(int val , int from_where ) 
{ 
  int tmp ;
  int writeflags ;
  __pid_t tmp___0 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 5391
  if (in_exit == -1) {
#line 5392
    return;
  }
#line 5394
  if (opts[115]) {
#line 5394
    if (! stopmsg) {
#line 5394
      if (from_where != 1) {
        {
#line 5395
        scanjobs();
        }
#line 5396
        if (opts[31]) {
          {
#line 5397
          checkjobs();
          }
        }
#line 5398
        if (stopmsg) {
#line 5399
          stopmsg = 2;
#line 5400
          return;
        }
      }
    }
  }
#line 5404
  if (from_where == 2) {
#line 5405
    return;
  } else {
#line 5404
    tmp = in_exit;
#line 5404
    in_exit ++;
#line 5404
    if (tmp) {
#line 5404
      if (from_where) {
#line 5405
        return;
      }
    }
  }
#line 5411
  in_exit = -1;
#line 5416
  errflag = 0;
#line 5418
  if (opts[115]) {
    {
#line 5420
    killrunjobs(from_where == 1);
    }
  }
#line 5422
  if (opts[150]) {
#line 5422
    if (opts[92]) {
#line 5423
      if (! nohistsave) {
#line 5424
        writeflags = 32768;
#line 5425
        if (from_where == 1) {
#line 5426
          writeflags |= 32;
        }
        {
#line 5427
        saveandpophiststack(1, writeflags);
#line 5428
        savehistfile((char *)((void *)0), 1, writeflags);
        }
      }
#line 5430
      if (opts[109]) {
#line 5430
        if (! subsh) {
          {
#line 5431
          sourcehome((char *)".zlogout");
          }
#line 5433
          if (opts[150]) {
#line 5433
            if (opts[60]) {
              {
#line 5434
              source((char *)"/etc/zlogout");
              }
            }
          }
        }
      }
    }
  }
#line 5438
  lastval = (zlong )val;
#line 5443
  intrap = 0;
#line 5443
  errflag = intrap;
#line 5444
  if (sigtrapped[0]) {
    {
#line 5445
    dotrap(0);
    }
  }
  {
#line 5446
  callhookfunc((char *)"zshexit", (LinkList )((void *)0), 1, (int *)((void *)0));
#line 5447
  runhookdef(zshhooks + 0, (void *)0);
  }
#line 5448
  if (opts[115]) {
#line 5448
    if (opts[92]) {
#line 5448
      if (SHTTY != -1) {
        {
#line 5449
        release_pgrp();
        }
      }
    }
  }
  {
#line 5451
  tmp___0 = getpid();
  }
#line 5451
  if (mypid != (zlong )tmp___0) {
    {
#line 5452
    _exit(val);
    }
  } else {
    {
#line 5454
    exit(val);
    }
  }
}
}
#line 5460 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_dot(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
            int func  __attribute__((__unused__)) ) 
{ 
  char **old ;
  char *old0 ;
  int diddot ;
  int dotdot ;
  char *s ;
  char **t ;
  char *enam ;
  char *arg0 ;
  char *buf___7 ;
  struct stat st___0 ;
  enum source_return ret ;
  int *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int *tmp___4 ;
  int *tmp___5 ;
  zlong tmp___6 ;
  void *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;

  {
#line 5463
  old0 = (char *)((void *)0);
#line 5464
  diddot = 0;
#line 5464
  dotdot = 0;
#line 5469
  if (! *argv) {
#line 5470
    return (0);
  }
#line 5471
  old = pparams;
#line 5473
  if (*(argv + 1)) {
    {
#line 5474
    pparams = zarrdup(argv + 1);
    }
  }
  {
#line 5476
  arg0 = ztrdup((char const   *)*argv);
#line 5476
  enam = arg0;
  }
#line 5477
  if (opts[57]) {
    {
#line 5478
    old0 = argzero;
#line 5479
    argzero = ztrdup((char const   *)arg0);
    }
  }
  {
#line 5481
  s = unmeta((char const   *)enam);
#line 5482
  tmp = __errno_location();
#line 5482
  *tmp = 2;
#line 5483
  ret = (enum source_return )1;
  }
#line 5485
  if ((int )*name != 46) {
    {
#line 5485
    tmp___0 = access((char const   *)s, 0);
    }
#line 5485
    if (tmp___0 == 0) {
      {
#line 5485
      tmp___1 = stat((char const   */* __restrict  */)s, (struct stat */* __restrict  */)(& st___0));
      }
#line 5485
      if (tmp___1 >= 0) {
#line 5485
        if (! ((st___0.st_mode & 61440U) == 16384U)) {
          {
#line 5487
          diddot = 1;
#line 5488
          ret = source(enam);
          }
        }
      }
    }
  }
#line 5490
  if ((unsigned int )ret == 1U) {
#line 5492
    s = arg0;
    {
#line 5492
    while (1) {
      while_continue: /* CIL Label */ ;
#line 5492
      if (! *s) {
#line 5492
        goto while_break;
      }
#line 5493
      if ((int )*s == 47) {
#line 5494
        if ((int )*arg0 == 46) {
#line 5495
          if ((unsigned long )(arg0 + 1) == (unsigned long )s) {
#line 5496
            diddot ++;
          } else
#line 5497
          if ((int )*(arg0 + 1) == 46) {
#line 5497
            if ((unsigned long )(arg0 + 2) == (unsigned long )s) {
#line 5498
              dotdot ++;
            }
          }
        }
        {
#line 5500
        ret = source(arg0);
        }
#line 5501
        goto while_break;
      }
#line 5492
      s ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 5503
    if (! *s) {
#line 5503
      goto _L___0;
    } else
#line 5503
    if ((unsigned int )ret == 1U) {
#line 5503
      if (opts[125]) {
#line 5503
        if (diddot < 2) {
#line 5503
          if (dotdot == 0) {
            _L___0: /* CIL Label */ 
            {
#line 5505
            pushheap();
#line 5507
            t = path;
            }
            {
#line 5507
            while (1) {
              while_continue___0: /* CIL Label */ ;
#line 5507
              if (! *t) {
#line 5507
                goto while_break___0;
              }
#line 5508
              if (! *(*t + 0)) {
#line 5508
                goto _L;
              } else
#line 5508
              if ((int )*(*t + 0) == 46) {
#line 5508
                if (! *(*t + 1)) {
                  _L: /* CIL Label */ 
#line 5509
                  if (diddot) {
#line 5510
                    goto __Cont;
                  }
                  {
#line 5511
                  diddot = 1;
#line 5512
                  buf___7 = dupstring((char const   *)arg0);
                  }
                } else {
                  {
#line 5514
                  buf___7 = zhtricat((char const   *)*t, "/", (char const   *)arg0);
                  }
                }
              } else {
                {
#line 5514
                buf___7 = zhtricat((char const   *)*t, "/", (char const   *)arg0);
                }
              }
              {
#line 5516
              s = unmeta((char const   *)buf___7);
#line 5517
              tmp___2 = access((char const   *)s, 0);
              }
#line 5517
              if (tmp___2 == 0) {
                {
#line 5517
                tmp___3 = stat((char const   */* __restrict  */)s, (struct stat */* __restrict  */)(& st___0));
                }
#line 5517
                if (tmp___3 >= 0) {
#line 5517
                  if (! ((st___0.st_mode & 61440U) == 16384U)) {
                    {
#line 5519
                    enam = buf___7;
#line 5519
                    ret = source(enam);
                    }
#line 5520
                    goto while_break___0;
                  }
                }
              }
              __Cont: /* CIL Label */ 
#line 5507
              t ++;
            }
            while_break___0: /* CIL Label */ ;
            }
            {
#line 5523
            popheap();
            }
          }
        }
      }
    }
  }
#line 5527
  if (*(argv + 1)) {
    {
#line 5528
    freearray(pparams);
#line 5529
    pparams = old;
    }
  }
#line 5531
  if ((unsigned int )ret == 1U) {
#line 5532
    if (opts[130]) {
      {
#line 5534
      tmp___4 = __errno_location();
#line 5534
      zerrnam((char const   *)name, "%e: %s", *tmp___4, enam);
      }
    } else {
      {
#line 5536
      tmp___5 = __errno_location();
#line 5536
      zwarnnam((char const   *)name, "%e: %s", *tmp___5, enam);
      }
    }
  }
  {
#line 5539
  zsfree(arg0);
  }
#line 5540
  if (old0) {
    {
#line 5541
    zsfree(argzero);
#line 5542
    argzero = old0;
    }
  }
#line 5544
  if ((unsigned int )ret == 0U) {
#line 5544
    tmp___6 = lastval;
  } else {
#line 5544
    tmp___6 = (zlong )(128U - (unsigned int )ret);
  }
#line 5544
  return ((int )tmp___6);
}
}
#line 5551 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int eval(char **argv ) 
{ 
  Eprog prog ;
  char *oscriptname ;
  int oineval ;
  int fpushed ;
  struct funcstack fstack ;
  char *tmp ;
  char *tmp___0 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;

  {
#line 5555
  oscriptname = scriptname;
#line 5556
  oineval = ineval;
#line 5564
  ineval = ! opts[54];
#line 5565
  if (! ineval) {
#line 5566
    scriptname = (char *)"(eval)";
#line 5567
    fstack.prev = funcstack;
#line 5568
    fstack.name = scriptname;
#line 5569
    if (funcstack) {
#line 5569
      fstack.caller = funcstack->name;
    } else {
      {
#line 5569
      tmp = dupstring((char const   *)argzero);
#line 5569
      fstack.caller = tmp;
      }
    }
#line 5570
    fstack.lineno = lineno;
#line 5571
    fstack.tp = 2;
#line 5583
    if (! funcstack) {
#line 5584
      fstack.flineno = fstack.lineno;
#line 5585
      fstack.filename = fstack.caller;
    } else
#line 5583
    if (funcstack->tp == 0) {
#line 5584
      fstack.flineno = fstack.lineno;
#line 5585
      fstack.filename = fstack.caller;
    } else {
#line 5587
      fstack.flineno = funcstack->flineno + lineno;
#line 5592
      if (funcstack->tp == 2) {
#line 5593
        (fstack.flineno) --;
      }
#line 5594
      fstack.filename = funcstack->filename;
#line 5595
      if (! fstack.filename) {
#line 5596
        fstack.filename = (char *)"";
      }
    }
#line 5598
    funcstack = & fstack;
#line 5600
    fpushed = 1;
  } else {
#line 5602
    fpushed = 0;
  }
  {
#line 5604
  tmp___0 = zjoin(argv, ' ', 1);
#line 5604
  prog = parse_string(tmp___0, 1);
  }
#line 5605
  if (prog) {
#line 5606
    if ((*(prog->prog) & (wordcode )((1 << 5) - 1)) != 1U) {
#line 5608
      lastval = (zlong )0;
    } else {
      {
#line 5610
      execode(prog, 1, 0, (char *)"eval");
      }
#line 5612
      if (errflag) {
#line 5612
        if (! lastval) {
#line 5613
          lastval = (zlong )errflag;
        }
      }
    }
  } else {
#line 5616
    lastval = (zlong )1;
  }
#line 5619
  if (fpushed) {
#line 5620
    funcstack = funcstack->prev;
  }
#line 5622
  errflag &= -2;
#line 5623
  scriptname = oscriptname;
#line 5624
  ineval = oineval;
#line 5626
  return ((int )lastval);
}
}
#line 5632 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_emulate(char *nam , char **argv , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  int opt_L ;
  int opt_R ;
  int opt_l ;
  int saveemulation ;
  int savehackchar ;
  int ret ;
  int new_emulation ;
  unsigned int savepatterns ;
  char saveopts[178] ;
  char new_opts[178] ;
  char *cmd ;
  char const   *shname ;
  LinkList optlist ;
  LinkNode optnode ;
  Emulation_options save_sticky ;
  OptIndex *on_ptr ;
  OptIndex *off_ptr ;
  char *cmdopts ;
  void *tmp ;
  char tmp___0 ;
  char tmp___1 ;
  int tmp___2 ;
  void *tmp___3 ;
  char *optptr ;
  OptIndex *tmp___4 ;
  void *tmp___5 ;
  OptIndex *tmp___6 ;
  void *tmp___7 ;
  char *optptr___0 ;
  int optno ;
  OptIndex *tmp___8 ;
  OptIndex *tmp___9 ;
  void *__cil_tmp37 ;
  void *__cil_tmp38 ;
  char *__cil_tmp39 ;
  char *__cil_tmp40 ;
  char *__cil_tmp41 ;
  char *__cil_tmp42 ;
  char *__cil_tmp43 ;
  char *__cil_tmp44 ;
  char *__cil_tmp45 ;
  char *__cil_tmp46 ;
  char *__cil_tmp47 ;
  char *__cil_tmp48 ;

  {
#line 5635
  opt_L = (int )ops->ind[76] != 0;
#line 5636
  opt_R = (int )ops->ind[82] != 0;
#line 5637
  opt_l = (int )ops->ind[108] != 0;
#line 5639
  ret = 1;
#line 5642
  cmd = (char *)0;
#line 5643
  shname = (char const   *)*argv;
#line 5650
  if (! shname) {
#line 5651
    if (opt_L) {
      {
#line 5652
      zwarnnam((char const   *)nam, "not enough arguments");
      }
#line 5653
      return (1);
    } else
#line 5651
    if (opt_R) {
      {
#line 5652
      zwarnnam((char const   *)nam, "not enough arguments");
      }
#line 5653
      return (1);
    }
    {
#line 5657
    if ((emulation & ((1 << 5) - 1)) == 1 << 1) {
#line 5657
      goto case_exp;
    }
#line 5661
    if ((emulation & ((1 << 5) - 1)) == 1 << 2) {
#line 5661
      goto case_exp___0;
    }
#line 5665
    if ((emulation & ((1 << 5) - 1)) == 1 << 3) {
#line 5665
      goto case_exp___1;
    }
#line 5669
    goto switch_default;
    case_exp: /* CIL Label */ 
#line 5658
    shname = "csh";
#line 5659
    goto switch_break;
    case_exp___0: /* CIL Label */ 
#line 5662
    shname = "ksh";
#line 5663
    goto switch_break;
    case_exp___1: /* CIL Label */ 
#line 5666
    shname = "sh";
#line 5667
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 5670
    shname = "zsh";
#line 5671
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
    {
#line 5674
    printf((char const   */* __restrict  */)"%s\n", shname);
    }
#line 5675
    return (0);
  }
#line 5679
  if (! *(argv + 1)) {
#line 5681
    if (opt_l) {
      {
#line 5682
      tmp = zhalloc((size_t )178);
#line 5682
      cmdopts = (char *)tmp;
#line 5683
      memcpy((void */* __restrict  */)cmdopts, (void const   */* __restrict  */)(opts),
             (size_t )178);
      }
    } else {
#line 5685
      cmdopts = opts;
    }
    {
#line 5686
    emulate(shname, opt_R, & emulation, cmdopts);
    }
#line 5687
    if (opt_L) {
#line 5688
      tmp___1 = (char)1;
#line 5688
      *(cmdopts + 107) = tmp___1;
#line 5688
      tmp___0 = tmp___1;
#line 5688
      *(cmdopts + 108) = tmp___0;
#line 5688
      *(cmdopts + 106) = tmp___0;
    }
#line 5690
    if (opt_l) {
      {
#line 5691
      list_emulate_options(cmdopts, opt_R);
      }
#line 5692
      return (0);
    }
    {
#line 5694
    clearpatterndisables();
    }
#line 5695
    return (0);
  }
#line 5698
  if (opt_l) {
    {
#line 5699
    zwarnnam((char const   *)nam, "too many arguments for -l");
    }
#line 5700
    return (1);
  }
  {
#line 5703
  argv ++;
#line 5704
  memcpy((void */* __restrict  */)(saveopts), (void const   */* __restrict  */)(opts),
         sizeof(opts));
#line 5705
  memcpy((void */* __restrict  */)(new_opts), (void const   */* __restrict  */)(opts),
         sizeof(opts));
#line 5706
  savehackchar = (int )keyboardhackchar;
#line 5707
  emulate(shname, opt_R, & new_emulation, new_opts);
#line 5708
  optlist = newlinklist();
#line 5709
  tmp___2 = parseopts(nam, & argv, new_opts, & cmd, optlist);
  }
#line 5709
  if (tmp___2) {
#line 5710
    ret = 1;
#line 5711
    goto restore;
  }
#line 5715
  if (*argv) {
    {
#line 5716
    zwarnnam((char const   *)nam, "unknown argument %s", *argv);
    }
#line 5717
    goto restore;
  }
  {
#line 5720
  savepatterns = savepatterndisables();
#line 5725
  clearpatterndisables();
#line 5727
  saveemulation = emulation;
#line 5728
  emulation = new_emulation;
#line 5729
  memcpy((void */* __restrict  */)(opts), (void const   */* __restrict  */)(new_opts),
         sizeof(opts));
  }
#line 5733
  if (cmd) {
#line 5734
    if (opt_L) {
      {
#line 5735
      zwarnnam((char const   *)nam, "option -L incompatible with -c");
      }
#line 5736
      goto restore2;
    }
#line 5738
    argv --;
#line 5738
    *argv = cmd;
  } else {
#line 5740
    if (opt_L) {
#line 5741
      opts[107] = (char)1;
#line 5741
      opts[108] = opts[107];
#line 5741
      opts[106] = opts[108];
    }
#line 5742
    return (0);
  }
  {
#line 5745
  save_sticky = sticky;
#line 5746
  tmp___3 = hcalloc(sizeof(*sticky));
#line 5746
  sticky = (Emulation_options )tmp___3;
#line 5747
  sticky->emulation = emulation;
#line 5748
  optnode = optlist->list.first;
  }
  {
#line 5748
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5748
    if (! optnode) {
#line 5748
      goto while_break;
    }
#line 5750
    optptr = (char *)optnode->dat;
#line 5751
    if (*optptr) {
#line 5752
      (sticky->n_on_opts) ++;
    } else {
#line 5754
      (sticky->n_off_opts) ++;
    }
#line 5748
    optnode = optnode->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 5756
  if (sticky->n_on_opts) {
    {
#line 5757
    tmp___5 = zhalloc((unsigned long )sticky->n_on_opts * sizeof(*(sticky->on_opts)));
#line 5757
    tmp___4 = (OptIndex *)tmp___5;
#line 5757
    sticky->on_opts = tmp___4;
#line 5757
    on_ptr = tmp___4;
    }
  } else {
#line 5760
    on_ptr = (OptIndex *)((void *)0);
  }
#line 5761
  if (sticky->n_off_opts) {
    {
#line 5762
    tmp___7 = zhalloc((unsigned long )sticky->n_off_opts * sizeof(*(sticky->off_opts)));
#line 5762
    tmp___6 = (OptIndex *)tmp___7;
#line 5762
    sticky->off_opts = tmp___6;
#line 5762
    off_ptr = tmp___6;
    }
  } else {
#line 5765
    off_ptr = (OptIndex *)((void *)0);
  }
#line 5766
  optnode = optlist->list.first;
  {
#line 5766
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 5766
    if (! optnode) {
#line 5766
      goto while_break___0;
    }
#line 5768
    optptr___0 = (char *)optnode->dat;
#line 5769
    optno = (int )(optptr___0 - new_opts);
#line 5770
    if (*optptr___0) {
#line 5771
      tmp___8 = on_ptr;
#line 5771
      on_ptr ++;
#line 5771
      *tmp___8 = (OptIndex )optno;
    } else {
#line 5773
      tmp___9 = off_ptr;
#line 5773
      off_ptr ++;
#line 5773
      *tmp___9 = (OptIndex )optno;
    }
#line 5766
    optnode = optnode->next;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 5775
  ret = eval(argv);
#line 5776
  sticky = save_sticky;
  }
  restore2: 
  {
#line 5778
  emulation = saveemulation;
#line 5779
  memcpy((void */* __restrict  */)(opts), (void const   */* __restrict  */)(saveopts),
         sizeof(opts));
#line 5780
  restorepatterndisables(savepatterns);
  }
  restore: 
  {
#line 5782
  keyboardhackchar = (unsigned char )savehackchar;
#line 5783
  inittyptab();
  }
#line 5784
  return (ret);
}
}
#line 5793 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_eval(char *nam  __attribute__((__unused__)) , char **argv , Options ops  __attribute__((__unused__)) ,
             int func  __attribute__((__unused__)) ) 
{ 
  int tmp ;

  {
  {
#line 5796
  tmp = eval(argv);
  }
#line 5796
  return (tmp);
}
}
#line 5799 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static char *zbuf  ;
#line 5800 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int readfd  ;
#line 5812 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_read(char *name , char **args , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  char *reply ;
  char *readpmpt ;
  int bsiz ;
  int c ;
  int gotnl ;
  int al ;
  int first ;
  int nchars ;
  int bslash ;
  int keys ;
  int haso ;
  int isem ;
  int tmp ;
  int tmp___0 ;
  int izle ;
  char *buf___7 ;
  char *bptr ;
  char *firstarg ;
  char *zbuforig ;
  LinkList readll ;
  LinkList tmp___1 ;
  FILE *oshout ;
  int readchar ;
  int val ;
  int resettty ;
  struct ttyinfo saveti ;
  char d___0 ;
  long izle_timeout ;
  wchar_t delim ;
  wchar_t wc ;
  mbstate_t mbs ;
  char *laststart ;
  size_t ret ;
  char *eptr ;
  char *optarg___0 ;
  zlong tmp___2 ;
  char **tmp___3 ;
  char **tmp___4 ;
  char const   *tmp___5 ;
  int tmp___6 ;
  char *eptr___0 ;
  char *argptr ;
  zlong tmp___7 ;
  int tmp___8 ;
  struct ttyinfo ti ;
  FILE *tmp___9 ;
  FILE *tmp___10 ;
  int tmp___11 ;
  char *tmp___12 ;
  char *delimstr ;
  wint_t wi ;
  int tmp___13 ;
  struct ttyinfo ti___0 ;
  zlong timeout___0 ;
  mnumber mn ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int eof ;
  size_t tmp___17 ;
  void *tmp___18 ;
  char *tmp___19 ;
  int *tmp___20 ;
  ssize_t tmp___21 ;
  ssize_t tmp___22 ;
  int tmp___23 ;
  char *tmp___24 ;
  void *tmp___25 ;
  char *tmp___26 ;
  char *tmp___27 ;
  sigset_t s ;
  sigset_t tmp___28 ;
  void *tmp___29 ;
  int tmp___30 ;
  int tmp___31 ;
  int tmp___32 ;
  int tmp___33 ;
  int blen ;
  int llen ;
  void *tmp___34 ;
  char **tmp___35 ;
  char **pp ;
  char **p ;
  LinkNode n ;
  void *tmp___36 ;
  char **tmp___37 ;
  char **tmp___38 ;
  void *tmp___39 ;
  sigset_t s___0 ;
  sigset_t tmp___40 ;
  int tmp___41 ;
  int tmp___42 ;
  int blen___0 ;
  int llen___0 ;
  void *tmp___43 ;
  char first___0 ;
  void *__cil_tmp101 ;
  void *__cil_tmp102 ;
  void *__cil_tmp103 ;
  void *__cil_tmp104 ;
  void *__cil_tmp105 ;
  void *__cil_tmp106 ;
  void *__cil_tmp107 ;
  void *__cil_tmp108 ;
  char *__cil_tmp109 ;
  char *__cil_tmp110 ;
  char *__cil_tmp111 ;
  char *__cil_tmp112 ;
  char *__cil_tmp113 ;
  char *__cil_tmp114 ;
  char *__cil_tmp115 ;
  char *__cil_tmp116 ;
  char *__cil_tmp117 ;
  char *__cil_tmp118 ;
  char *__cil_tmp119 ;
  char *__cil_tmp120 ;

  {
  {
#line 5816
  c = 0;
#line 5816
  gotnl = 0;
#line 5816
  al = 0;
#line 5816
  nchars = 1;
#line 5816
  keys = 0;
#line 5817
  haso = 0;
#line 5818
  tmp = strcmp((char const   *)term, "emacs");
  }
#line 5818
  if (tmp) {
#line 5818
    tmp___0 = 0;
  } else {
#line 5818
    tmp___0 = 1;
  }
  {
#line 5818
  isem = tmp___0;
#line 5818
  izle = zleactive;
#line 5820
  tmp___1 = newlinklist();
#line 5820
  readll = tmp___1;
#line 5821
  oshout = (FILE *)((void *)0);
#line 5822
  readchar = -1;
#line 5822
  resettty = 0;
#line 5825
  izle_timeout = 0L;
#line 5827
  delim = 10;
#line 5835
  c = 'k';
  }
#line 5835
  if ((int )ops->ind[c] > 3) {
    {
#line 5836
    optarg___0 = *(ops->args + (((int )ops->ind[c] >> 2) - 1));
#line 5837
    tmp___2 = zstrtol((char const   *)optarg___0, & eptr, 10);
#line 5837
    nchars = (int )tmp___2;
    }
#line 5838
    if (*eptr) {
      {
#line 5839
      zwarnnam((char const   *)name, "number expected after -%c: %s", c, optarg___0);
      }
#line 5840
      return (1);
    }
  }
#line 5845
  if (*args) {
#line 5845
    if ((int )*(*args) == 63) {
#line 5845
      tmp___3 = args;
#line 5845
      args ++;
#line 5845
      firstarg = *tmp___3;
    } else {
#line 5845
      firstarg = *args;
    }
  } else {
#line 5845
    firstarg = *args;
  }
#line 5846
  if (*args) {
#line 5846
    tmp___4 = args;
#line 5846
    args ++;
#line 5846
    reply = *tmp___4;
  } else {
#line 5846
    if ((int )ops->ind[65] != 0) {
#line 5846
      tmp___5 = "reply";
    } else {
#line 5846
      tmp___5 = "REPLY";
    }
#line 5846
    reply = (char *)tmp___5;
  }
#line 5848
  if ((int )ops->ind[65] != 0) {
#line 5848
    if (*args) {
      {
#line 5849
      zwarnnam((char const   *)name, "only one array argument allowed");
      }
#line 5850
      return (1);
    }
  }
#line 5854
  if ((int )ops->ind[108] != 0) {
    {
#line 5855
    tmp___6 = (*compctlreadptr)(name, args, ops, reply);
    }
#line 5855
    return (tmp___6);
  } else
#line 5854
  if ((int )ops->ind[99] != 0) {
    {
#line 5855
    tmp___6 = (*compctlreadptr)(name, args, ops, reply);
    }
#line 5855
    return (tmp___6);
  }
#line 5857
  if ((int )ops->ind[107] != 0) {
#line 5857
    goto _L___2;
  } else
#line 5857
  if ((int )ops->ind[113] != 0) {
    _L___2: /* CIL Label */ 
#line 5857
    if (! ((int )ops->ind[117] != 0)) {
#line 5857
      if (! ((int )ops->ind[112] != 0)) {
#line 5859
        if (! zleactive) {
#line 5860
          if (SHTTY == -1) {
            {
#line 5862
            SHTTY = open("/dev/tty", 258);
            }
#line 5862
            if (SHTTY != -1) {
              {
#line 5863
              haso = 1;
#line 5864
              oshout = shout;
#line 5865
              init_shout();
              }
            }
          } else
#line 5867
          if (! shout) {
            {
#line 5869
            init_shout();
            }
          }
#line 5872
          if (SHTTY == -1) {
            {
#line 5874
            fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"not interactive and can\'t open terminal\n");
#line 5875
            fflush(stderr);
            }
#line 5876
            return (1);
          }
#line 5878
          if (! opts[92]) {
            {
#line 5879
            gettyinfo(& shttyinfo);
            }
          }
          {
#line 5881
          attachtty(mypgrp);
          }
#line 5882
          if (! isem) {
            {
#line 5883
            setcbreak();
            }
          }
#line 5884
          readfd = SHTTY;
        }
#line 5886
        keys = 1;
      } else {
#line 5857
        goto _L___1;
      }
    } else {
#line 5857
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 5887
  if ((int )ops->ind[117] > 3) {
#line 5887
    if (! ((int )ops->ind[112] != 0)) {
      {
#line 5889
      argptr = *(ops->args + (((int )ops->ind[117] >> 2) - 1));
#line 5891
      tmp___8 = strcmp((char const   *)argptr, "p");
      }
#line 5891
      if (tmp___8) {
        {
#line 5898
        tmp___7 = zstrtol((char const   *)argptr, & eptr___0, 10);
#line 5898
        readfd = (int )tmp___7;
        }
#line 5899
        if (*eptr___0) {
          {
#line 5900
          zwarnnam((char const   *)name, "number expected after -%c: %s", 'u', argptr);
          }
#line 5901
          return (1);
        }
      } else {
#line 5892
        readfd = coprocin;
#line 5893
        if (readfd < 0) {
          {
#line 5894
          zwarnnam((char const   *)name, "-p: no coprocess");
          }
#line 5895
          return (1);
        }
      }
#line 5908
      izle = 0;
    } else {
#line 5887
      goto _L;
    }
  } else
  _L: /* CIL Label */ 
#line 5909
  if ((int )ops->ind[112] != 0) {
#line 5910
    readfd = coprocin;
#line 5911
    if (readfd < 0) {
      {
#line 5912
      zwarnnam((char const   *)name, "-p: no coprocess");
      }
#line 5913
      return (1);
    }
#line 5915
    izle = 0;
  } else {
#line 5917
    izle = 0;
#line 5917
    readfd = izle;
  }
#line 5919
  if ((int )ops->ind[115] != 0) {
#line 5919
    if (SHTTY != -1) {
      {
#line 5921
      gettyinfo(& ti);
#line 5922
      saveti = ti;
#line 5923
      resettty = 1;
#line 5925
      ti.tio.c_lflag &= 4294967287U;
#line 5929
      settyinfo(& ti);
      }
    }
  }
#line 5933
  if (firstarg) {
#line 5934
    readpmpt = firstarg;
    {
#line 5934
    while (1) {
      while_continue: /* CIL Label */ ;
#line 5934
      if (*readpmpt) {
#line 5934
        if (! ((int )*readpmpt != 63)) {
#line 5934
          goto while_break;
        }
      } else {
#line 5934
        goto while_break;
      }
#line 5934
      readpmpt ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 5936
    tmp___12 = readpmpt;
#line 5936
    readpmpt ++;
#line 5936
    if (*tmp___12) {
#line 5937
      if (keys) {
#line 5937
        goto _L___3;
      } else {
        {
#line 5937
        tmp___11 = isatty(0);
        }
#line 5937
        if (tmp___11) {
          _L___3: /* CIL Label */ 
#line 5938
          if (shout) {
#line 5938
            tmp___9 = shout;
          } else {
#line 5938
            tmp___9 = stderr;
          }
          {
#line 5938
          zputs((char const   *)readpmpt, tmp___9);
          }
#line 5939
          if (shout) {
#line 5939
            tmp___10 = shout;
          } else {
#line 5939
            tmp___10 = stderr;
          }
          {
#line 5939
          fflush(tmp___10);
          }
        }
      }
#line 5941
      *(readpmpt + -1) = (char )'\000';
    }
  }
#line 5945
  if ((int )ops->ind[100] != 0) {
#line 5946
    delimstr = *(ops->args + (((int )ops->ind[100] >> 2) - 1));
#line 5950
    if (opts[116]) {
      {
#line 5951
      mb_charinit();
#line 5952
      mb_metacharlenconv((char const   *)delimstr, & wi);
      }
    } else {
#line 5955
      wi = 4294967295U;
    }
#line 5956
    if (wi != 4294967295U) {
#line 5957
      delim = (wchar_t )wi;
    } else {
#line 5959
      if ((int )*(delimstr + 0) == -125) {
#line 5959
        tmp___13 = (int )*(delimstr + 1) ^ 32;
      } else {
#line 5959
        tmp___13 = (int )*(delimstr + 0);
      }
#line 5959
      delim = tmp___13;
    }
#line 5964
    if (SHTTY != -1) {
      {
#line 5966
      gettyinfo(& ti___0);
      }
#line 5967
      if (! resettty) {
#line 5968
        saveti = ti___0;
#line 5969
        resettty = 1;
      }
      {
#line 5972
      ti___0.tio.c_lflag &= 4294967293U;
#line 5973
      ti___0.tio.c_cc[6] = (cc_t )1;
#line 5974
      ti___0.tio.c_cc[5] = (cc_t )0;
#line 5978
      settyinfo(& ti___0);
      }
    }
  }
#line 5981
  if ((int )ops->ind[116] != 0) {
#line 5982
    timeout___0 = (zlong )0;
#line 5983
    if ((int )ops->ind[116] > 3) {
      {
#line 5984
      mn = zero_mnumber;
#line 5985
      mn = matheval(*(ops->args + (((int )ops->ind[116] >> 2) - 1)));
      }
#line 5986
      if (errflag) {
#line 5987
        return (1);
      }
#line 5988
      if (mn.type == 2) {
#line 5989
        mn.u.d *= 1e6;
#line 5990
        timeout___0 = (zlong )mn.u.d;
      } else {
#line 5992
        timeout___0 = mn.u.l * 1000000L;
      }
    }
#line 5995
    if (izle) {
#line 6000
      timeout___0 = - (timeout___0 / 10000L + 1L);
#line 6001
      izle_timeout = timeout___0;
#line 6004
      if (izle_timeout != timeout___0) {
#line 6005
        izle_timeout = 9223372036854775807L;
      }
    } else
#line 6008
    if (readfd == -1) {
#line 6008
      goto _L___6;
    } else {
#line 6008
      if (keys) {
#line 6008
        if (! zleactive) {
#line 6008
          tmp___15 = 1;
        } else {
#line 6008
          tmp___15 = 0;
        }
      } else {
#line 6008
        tmp___15 = 0;
      }
      {
#line 6008
      tmp___16 = read_poll(readfd, & readchar, tmp___15, timeout___0);
      }
#line 6008
      if (! tmp___16) {
        _L___6: /* CIL Label */ 
#line 6011
        if (keys) {
#line 6011
          if (! zleactive) {
#line 6011
            if (! isem) {
              {
#line 6012
              settyinfo(& shttyinfo);
              }
            } else {
#line 6011
              goto _L___5;
            }
          } else {
#line 6011
            goto _L___5;
          }
        } else
        _L___5: /* CIL Label */ 
#line 6013
        if (resettty) {
#line 6013
          if (SHTTY != -1) {
            {
#line 6014
            settyinfo(& saveti);
            }
          }
        }
#line 6015
        if (haso) {
          {
#line 6016
          fclose(shout);
#line 6017
          shout = oshout;
#line 6018
          SHTTY = -1;
          }
        }
#line 6020
        if ((int )ops->ind[113] != 0) {
#line 6020
          tmp___14 = 2;
        } else {
#line 6020
          tmp___14 = 1;
        }
#line 6020
        return (tmp___14);
      }
    }
  }
  {
#line 6026
  memset((void *)(& mbs), 0, sizeof(mbs));
  }
#line 6033
  if ((int )ops->ind[107] != 0) {
#line 6033
    goto _L___7;
  } else
#line 6033
  if ((int )ops->ind[113] != 0) {
    _L___7: /* CIL Label */ 
    {
#line 6034
    eof = 0;
#line 6037
    tmp___17 = __ctype_get_mb_cur_max();
#line 6037
    tmp___18 = zalloc((size_t )nchars * tmp___17 + 1UL);
#line 6037
    buf___7 = (char *)tmp___18;
#line 6037
    bptr = buf___7;
    }
    {
#line 6042
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 6043
      if (izle) {
        {
#line 6044
        zleentry(7, izle_timeout, (void *)0, & val);
        }
#line 6045
        if (val < 0) {
#line 6046
          eof = 1;
#line 6047
          goto while_break___0;
        }
#line 6049
        *bptr = (char )val;
#line 6051
        if (opts[116]) {
          {
#line 6052
          tmp___19 = bptr;
#line 6052
          bptr ++;
#line 6052
          ret = mbrlen((char const   */* __restrict  */)tmp___19, (size_t )1, (mbstate_t */* __restrict  */)(& mbs));
          }
#line 6053
          if (ret == 0xffffffffffffffffUL) {
            {
#line 6054
            memset((void *)(& mbs), 0, sizeof(mbs));
            }
          }
#line 6056
          if (ret != 0xfffffffffffffffeUL) {
#line 6057
            nchars --;
          }
#line 6058
          goto __Cont;
        } else {
#line 6060
          bptr ++;
#line 6061
          nchars --;
        }
      } else {
#line 6069
        if (readchar >= 0) {
#line 6070
          *bptr = (char )readchar;
#line 6071
          val = 1;
#line 6072
          readchar = -1;
        } else {
          {
#line 6074
          while (1) {
            while_continue___1: /* CIL Label */ ;
            {
#line 6074
            tmp___21 = read(readfd, (void *)bptr, (size_t )nchars);
#line 6074
            val = (int )tmp___21;
            }
#line 6074
            if (! (val < 0)) {
#line 6074
              goto while_break___1;
            }
            {
#line 6075
            tmp___20 = __errno_location();
            }
#line 6075
            if (*tmp___20 != 4) {
#line 6077
              goto while_break___1;
            } else
#line 6075
            if (errflag) {
#line 6077
              goto while_break___1;
            } else
#line 6075
            if (retflag) {
#line 6077
              goto while_break___1;
            } else
#line 6075
            if (breaks) {
#line 6077
              goto while_break___1;
            } else
#line 6075
            if (contflag) {
#line 6077
              goto while_break___1;
            }
          }
          while_break___1: /* CIL Label */ ;
          }
#line 6079
          if (val <= 0) {
#line 6080
            eof = 1;
#line 6081
            goto while_break___0;
          }
        }
#line 6086
        if (opts[116]) {
          {
#line 6087
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 6087
            if (! (val > 0)) {
#line 6087
              goto while_break___2;
            }
            {
#line 6088
            ret = mbrlen((char const   */* __restrict  */)bptr, (size_t )val, (mbstate_t */* __restrict  */)(& mbs));
            }
#line 6089
            if (ret == 0xfffffffffffffffeUL) {
#line 6090
              bptr += val;
#line 6091
              goto while_break___2;
            } else {
#line 6093
              if (ret == 0xffffffffffffffffUL) {
                {
#line 6094
                memset((void *)(& mbs), 0, sizeof(mbs));
#line 6096
                ret = (size_t )1;
                }
              } else
#line 6098
              if (ret == 0UL) {
#line 6099
                ret = (size_t )1;
              } else
#line 6100
              if (ret > (size_t )val) {
#line 6102
                ret = (size_t )val;
              }
#line 6104
              nchars --;
#line 6105
              val = (int )((size_t )val - ret);
#line 6106
              bptr += ret;
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 6109
          goto __Cont;
        }
#line 6113
        nchars -= val;
#line 6116
        bptr += val;
      }
      __Cont: /* CIL Label */ 
#line 6042
      if (! (nchars > 0)) {
#line 6042
        goto while_break___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 6120
    if (! izle) {
#line 6120
      if (! ((int )ops->ind[117] != 0)) {
#line 6120
        if (! ((int )ops->ind[112] != 0)) {
#line 6122
          if (isem) {
            {
#line 6123
            while (1) {
              while_continue___3: /* CIL Label */ ;
#line 6123
              if (val > 0) {
                {
#line 6123
                tmp___22 = read(SHTTY, (void *)(& d___0), (size_t )1);
                }
#line 6123
                if (tmp___22 == 1L) {
#line 6123
                  if (! ((int )d___0 != 10)) {
#line 6123
                    goto while_break___3;
                  }
                } else {
#line 6123
                  goto while_break___3;
                }
              } else {
#line 6123
                goto while_break___3;
              }
            }
            while_break___3: /* CIL Label */ ;
            }
          } else {
            {
#line 6125
            settyinfo(& shttyinfo);
#line 6126
            resettty = 0;
            }
          }
#line 6128
          if (haso) {
            {
#line 6129
            fclose(shout);
#line 6130
            shout = oshout;
#line 6131
            SHTTY = -1;
            }
          }
        }
      }
    }
#line 6135
    if ((int )ops->ind[113] != 0) {
#line 6141
      if (eof) {
#line 6142
        eof = 2;
      } else {
#line 6144
        if (bptr - buf___7 != 1L) {
#line 6144
          tmp___23 = 1;
        } else
#line 6144
        if ((int )*(buf___7 + 0) != 121) {
#line 6144
          if ((int )*(buf___7 + 0) != 89) {
#line 6144
            tmp___23 = 1;
          } else {
#line 6144
            tmp___23 = 0;
          }
        } else {
#line 6144
          tmp___23 = 0;
        }
#line 6144
        eof = tmp___23;
      }
#line 6145
      if (eof) {
#line 6145
        *(buf___7 + 0) = (char )'n';
      } else {
#line 6145
        *(buf___7 + 0) = (char )'y';
      }
#line 6146
      bptr = buf___7 + 1;
    }
#line 6148
    if ((int )ops->ind[101] != 0) {
      {
#line 6149
      fwrite((void const   */* __restrict  */)buf___7, (size_t )(bptr - buf___7),
             (size_t )1, (FILE */* __restrict  */)stdout);
      }
    } else
#line 6148
    if ((int )ops->ind[69] != 0) {
      {
#line 6149
      fwrite((void const   */* __restrict  */)buf___7, (size_t )(bptr - buf___7),
             (size_t )1, (FILE */* __restrict  */)stdout);
      }
    }
#line 6150
    if (! ((int )ops->ind[101] != 0)) {
      {
#line 6151
      tmp___24 = metafy(buf___7, (int )(bptr - buf___7), 0);
#line 6151
      setsparam(reply, tmp___24);
      }
    } else {
      {
#line 6153
      zfree((void *)buf___7, (int )((bptr - buf___7) + 1L));
      }
    }
#line 6154
    if (resettty) {
#line 6154
      if (SHTTY != -1) {
        {
#line 6155
        settyinfo(& saveti);
        }
      }
    }
#line 6156
    return (eof);
  }
#line 6164
  if (! ((int )ops->ind[122] != 0)) {
#line 6164
    zbuf = (char *)((void *)0);
  } else {
#line 6164
    if ((unsigned long )bufstack->list.first != (unsigned long )((void *)0)) {
      {
#line 6164
      tmp___25 = getlinknode(bufstack);
#line 6164
      tmp___27 = (char *)tmp___25;
      }
    } else {
      {
#line 6164
      tmp___26 = ztrdup("");
#line 6164
      tmp___27 = tmp___26;
      }
    }
#line 6164
    zbuf = tmp___27;
  }
#line 6164
  zbuforig = zbuf;
#line 6166
  first = 1;
#line 6167
  bslash = 0;
  {
#line 6168
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 6168
    if (! *args) {
#line 6168
      if ((int )ops->ind[65] != 0) {
#line 6168
        if (! (! gotnl)) {
#line 6168
          goto while_break___4;
        }
      } else {
#line 6168
        goto while_break___4;
      }
    }
    {
#line 6169
    tmp___28 = signal_unblock(sigchld_mask);
#line 6169
    s = tmp___28;
#line 6170
    bsiz = 64;
#line 6170
    tmp___29 = zalloc((size_t )bsiz);
#line 6170
    bptr = (char *)tmp___29;
#line 6170
    buf___7 = bptr;
#line 6172
    laststart = buf___7;
#line 6173
    ret = (size_t )-2;
    }
    {
#line 6176
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 6176
      if (! (! gotnl)) {
#line 6176
        goto while_break___5;
      }
      {
#line 6177
      c = zread(izle, & readchar, izle_timeout);
      }
#line 6181
      if (c == -1) {
#line 6183
        ret = (size_t )0;
#line 6184
        goto while_break___5;
      }
#line 6186
      *bptr = (char )c;
#line 6187
      if (opts[116]) {
        {
#line 6188
        ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)bptr,
                      (size_t )1, (mbstate_t */* __restrict  */)(& mbs));
        }
#line 6189
        if (! ret) {
#line 6190
          ret = (size_t )1;
        }
      } else {
#line 6192
        ret = (size_t )1;
#line 6193
        wc = c;
      }
#line 6195
      if (ret != 0xfffffffffffffffeUL) {
#line 6196
        if (ret == 0xffffffffffffffffUL) {
          {
#line 6197
          memset((void *)(& mbs), 0, sizeof(mbs));
#line 6199
          wc = c;
#line 6200
          laststart = bptr;
          }
        }
#line 6202
        if (bslash) {
#line 6202
          if (wc == delim) {
#line 6203
            bslash = 0;
#line 6204
            goto while_continue___5;
          }
        }
#line 6206
        if (wc == delim) {
#line 6207
          goto while_break___5;
        }
#line 6217
        if (! bslash) {
          {
#line 6217
          tmp___32 = wcsitype(wc, 1 << 5);
          }
#line 6217
          if (tmp___32) {
#line 6218
            if ((unsigned long )bptr != (unsigned long )buf___7) {
#line 6218
              goto _L___8;
            } else
#line 6218
            if (c < 128) {
#line 6218
              if (! ((int )typtab[(unsigned char )c] & (1 << 13))) {
#line 6218
                goto _L___9;
              }
            } else
            _L___9: /* CIL Label */ 
#line 6218
            if (first) {
              _L___8: /* CIL Label */ 
#line 6220
              if (c < 128) {
#line 6220
                if ((int )typtab[(unsigned char )c] & (1 << 13)) {
#line 6220
                  tmp___30 = 0;
                } else {
#line 6220
                  tmp___30 = 1;
                }
              } else {
#line 6220
                tmp___30 = 1;
              }
#line 6220
              first |= tmp___30;
#line 6221
              goto while_break___5;
            }
#line 6223
            if (c < 128) {
#line 6223
              if ((int )typtab[(unsigned char )c] & (1 << 13)) {
#line 6223
                tmp___31 = 0;
              } else {
#line 6223
                tmp___31 = 1;
              }
            } else {
#line 6223
              tmp___31 = 1;
            }
#line 6223
            first |= tmp___31;
#line 6224
            goto while_continue___5;
          }
        }
#line 6226
        if (wc == 92) {
#line 6226
          if (! bslash) {
#line 6226
            if (! ((int )ops->ind[114] != 0)) {
#line 6226
              tmp___33 = 1;
            } else {
#line 6226
              tmp___33 = 0;
            }
          } else {
#line 6226
            tmp___33 = 0;
          }
        } else {
#line 6226
          tmp___33 = 0;
        }
#line 6226
        bslash = tmp___33;
#line 6227
        if (bslash) {
#line 6228
          goto while_continue___5;
        }
#line 6229
        first = 0;
      }
#line 6231
      if ((int )typtab[(unsigned char )*bptr] & (1 << 12)) {
#line 6232
        *(bptr + 1) = (char )((int )*(bptr + 0) ^ 32);
#line 6233
        *(bptr + 0) = (char)-125;
#line 6234
        bptr += 2;
      } else {
#line 6237
        bptr ++;
      }
#line 6238
      if (ret != 0xfffffffffffffffeUL) {
#line 6239
        laststart = bptr;
      }
#line 6277
      if ((unsigned long )bptr >= (unsigned long )((buf___7 + bsiz) - 1)) {
        {
#line 6278
        blen = (int )(bptr - buf___7);
#line 6280
        llen = (int )(laststart - buf___7);
#line 6283
        bsiz *= 2;
#line 6283
        tmp___34 = realloc((void *)buf___7, (size_t )bsiz);
#line 6283
        buf___7 = (char *)tmp___34;
#line 6284
        bptr = buf___7 + blen;
#line 6286
        laststart = buf___7 + llen;
        }
      }
    }
    while_break___5: /* CIL Label */ ;
    }
    {
#line 6290
    signal_setmask(s);
    }
#line 6292
    if (c == -1) {
#line 6293
      gotnl = 1;
#line 6294
      *bptr = (char )'\000';
    } else
#line 6295
    if (ret == 0xfffffffffffffffeUL) {
#line 6301
      *bptr = (char )'\000';
    } else {
#line 6303
      if (wc == delim) {
#line 6304
        gotnl = 1;
      }
#line 6305
      *laststart = (char )'\000';
    }
#line 6313
    if ((int )ops->ind[101] != 0) {
      {
#line 6321
      zputs((char const   *)buf___7, stdout);
#line 6322
      putchar('\n');
      }
    } else
#line 6313
    if ((int )ops->ind[69] != 0) {
#line 6313
      if (! ((int )ops->ind[65] != 0)) {
        {
#line 6321
        zputs((char const   *)buf___7, stdout);
#line 6322
        putchar('\n');
        }
      }
    }
#line 6324
    if (! ((int )ops->ind[101] != 0)) {
#line 6324
      if (*buf___7) {
#line 6324
        goto _L___10;
      } else
#line 6324
      if (first) {
#line 6324
        goto _L___10;
      } else
#line 6324
      if (gotnl) {
        _L___10: /* CIL Label */ 
#line 6325
        if ((int )ops->ind[65] != 0) {
          {
#line 6326
          insertlinknode(readll, readll->list.last, (void *)buf___7);
#line 6327
          al ++;
          }
        } else {
          {
#line 6329
          setsparam(reply, buf___7);
          }
        }
      } else {
        {
#line 6331
        free((void *)buf___7);
        }
      }
    } else {
      {
#line 6331
      free((void *)buf___7);
      }
    }
#line 6332
    if (! ((int )ops->ind[65] != 0)) {
#line 6333
      tmp___35 = args;
#line 6333
      args ++;
#line 6333
      reply = *tmp___35;
    }
  }
  while_break___4: /* CIL Label */ ;
  }
#line 6336
  if (c == -1) {
#line 6337
    if (readfd == coprocin) {
      {
#line 6338
      close(coprocin);
#line 6339
      close(coprocout);
#line 6340
      coprocout = -1;
#line 6340
      coprocin = coprocout;
      }
    }
  }
#line 6344
  if ((int )ops->ind[65] != 0) {
#line 6345
    p = (char **)((void *)0);
#line 6348
    if ((int )ops->ind[101] != 0) {
#line 6348
      p = (char **)((void *)0);
    } else {
      {
#line 6348
      tmp___36 = zalloc((unsigned long )(al + 1) * sizeof(char *));
#line 6348
      p = (char **)tmp___36;
      }
    }
#line 6351
    pp = p;
#line 6351
    n = readll->list.first;
    {
#line 6351
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 6351
      if (! n) {
#line 6351
        goto while_break___6;
      }
#line 6352
      if ((int )ops->ind[69] != 0) {
        {
#line 6353
        zputs((char const   *)((char *)n->dat), stdout);
#line 6354
        putchar('\n');
        }
      }
#line 6356
      if (p) {
#line 6357
        tmp___37 = pp;
#line 6357
        pp ++;
#line 6357
        *tmp___37 = (char *)n->dat;
      } else {
        {
#line 6359
        zsfree((char *)n->dat);
        }
      }
#line 6351
      n = n->next;
    }
    while_break___6: /* CIL Label */ ;
    }
#line 6361
    if (p) {
      {
#line 6362
      tmp___38 = pp;
#line 6362
      pp ++;
#line 6362
      *tmp___38 = (char *)((void *)0);
#line 6363
      setaparam(reply, p);
      }
    }
#line 6365
    if (resettty) {
#line 6365
      if (SHTTY != -1) {
        {
#line 6366
        settyinfo(& saveti);
        }
      }
    }
#line 6367
    return (c == -1);
  }
  {
#line 6369
  bsiz = 64;
#line 6369
  tmp___39 = zalloc((size_t )bsiz);
#line 6369
  bptr = (char *)tmp___39;
#line 6369
  buf___7 = bptr;
#line 6371
  laststart = buf___7;
#line 6372
  ret = (size_t )-2;
#line 6375
  bslash = 0;
  }
#line 6376
  if (! gotnl) {
    {
#line 6377
    tmp___40 = signal_unblock(sigchld_mask);
#line 6377
    s___0 = tmp___40;
    }
    {
#line 6378
    while (1) {
      while_continue___7: /* CIL Label */ ;
      {
#line 6379
      c = zread(izle, & readchar, izle_timeout);
      }
#line 6381
      if (c == -1) {
#line 6383
        ret = (size_t )0;
#line 6384
        goto while_break___7;
      }
#line 6386
      *bptr = (char )c;
#line 6387
      if (opts[116]) {
        {
#line 6388
        ret = mbrtowc((wchar_t */* __restrict  */)(& wc), (char const   */* __restrict  */)bptr,
                      (size_t )1, (mbstate_t */* __restrict  */)(& mbs));
        }
#line 6389
        if (! ret) {
#line 6390
          ret = (size_t )1;
        }
      } else {
#line 6392
        ret = (size_t )1;
#line 6393
        wc = c;
      }
#line 6395
      if (ret != 0xfffffffffffffffeUL) {
#line 6396
        if (ret == 0xffffffffffffffffUL) {
          {
#line 6397
          memset((void *)(& mbs), 0, sizeof(mbs));
#line 6399
          wc = c;
#line 6400
          laststart = bptr;
          }
        }
#line 6406
        if (bslash) {
#line 6406
          if (wc == delim) {
#line 6407
            bslash = 0;
#line 6408
            goto __Cont___0;
          }
        }
#line 6410
        if (wc == delim) {
#line 6410
          if (! zbuf) {
#line 6411
            goto while_break___7;
          }
        }
#line 6412
        if (! bslash) {
#line 6412
          if ((unsigned long )bptr == (unsigned long )buf___7) {
            {
#line 6412
            tmp___41 = wcsitype(wc, 1 << 5);
            }
#line 6412
            if (tmp___41) {
#line 6413
              if (c < 128) {
#line 6413
                if ((int )typtab[(unsigned char )c] & (1 << 13)) {
#line 6414
                  goto __Cont___0;
                } else {
#line 6413
                  goto _L___11;
                }
              } else
              _L___11: /* CIL Label */ 
#line 6415
              if (! first) {
#line 6416
                first = 1;
#line 6417
                goto __Cont___0;
              }
            }
          }
        }
#line 6420
        if (wc == 92) {
#line 6420
          if (! bslash) {
#line 6420
            if (! ((int )ops->ind[114] != 0)) {
#line 6420
              tmp___42 = 1;
            } else {
#line 6420
              tmp___42 = 0;
            }
          } else {
#line 6420
            tmp___42 = 0;
          }
        } else {
#line 6420
          tmp___42 = 0;
        }
#line 6420
        bslash = tmp___42;
#line 6421
        if (bslash) {
#line 6422
          goto __Cont___0;
        }
      }
#line 6424
      if ((int )typtab[(unsigned char )*bptr] & (1 << 12)) {
#line 6425
        *(bptr + 1) = (char )((int )*(bptr + 0) ^ 32);
#line 6426
        *(bptr + 0) = (char)-125;
#line 6427
        bptr += 2;
      } else {
#line 6430
        bptr ++;
      }
#line 6431
      if (ret != 0xfffffffffffffffeUL) {
#line 6432
        laststart = bptr;
      }
#line 6460
      if ((unsigned long )bptr >= (unsigned long )((buf___7 + bsiz) - 1)) {
        {
#line 6461
        blen___0 = (int )(bptr - buf___7);
#line 6463
        llen___0 = (int )(laststart - buf___7);
#line 6466
        bsiz *= 2;
#line 6466
        tmp___43 = realloc((void *)buf___7, (size_t )bsiz);
#line 6466
        buf___7 = (char *)tmp___43;
#line 6467
        bptr = buf___7 + blen___0;
#line 6469
        laststart = buf___7 + llen___0;
        }
      }
      __Cont___0: /* CIL Label */ ;
    }
    while_break___7: /* CIL Label */ ;
    }
    {
#line 6473
    signal_setmask(s___0);
    }
  }
#line 6476
  if (ret != 0xfffffffffffffffeUL) {
#line 6477
    bptr = laststart;
  }
  {
#line 6484
  while (1) {
    while_continue___8: /* CIL Label */ ;
#line 6484
    if (! ((unsigned long )bptr > (unsigned long )buf___7)) {
#line 6484
      goto while_break___8;
    }
#line 6485
    if ((unsigned long )bptr > (unsigned long )(buf___7 + 1)) {
#line 6485
      if ((int )*(bptr + -2) == -125) {
#line 6487
        goto while_break___8;
      } else {
#line 6485
        goto _L___12;
      }
    } else
    _L___12: /* CIL Label */ 
#line 6488
    if ((int )typtab[(unsigned char )*(bptr + -1)] & (1 << 13)) {
#line 6489
      bptr --;
    } else {
#line 6491
      goto while_break___8;
    }
  }
  while_break___8: /* CIL Label */ ;
  }
#line 6493
  *bptr = (char )'\000';
#line 6494
  if (resettty) {
#line 6494
    if (SHTTY != -1) {
      {
#line 6495
      settyinfo(& saveti);
      }
    }
  }
#line 6497
  if ((int )ops->ind[101] != 0) {
    {
#line 6498
    zputs((char const   *)buf___7, stdout);
#line 6499
    putchar('\n');
    }
  } else
#line 6497
  if ((int )ops->ind[69] != 0) {
    {
#line 6498
    zputs((char const   *)buf___7, stdout);
#line 6499
    putchar('\n');
    }
  }
#line 6501
  if (! ((int )ops->ind[101] != 0)) {
    {
#line 6502
    setsparam(reply, buf___7);
    }
  } else {
    {
#line 6504
    zsfree(buf___7);
    }
  }
#line 6505
  if (zbuforig) {
    {
#line 6506
    first___0 = *zbuforig;
#line 6508
    zsfree(zbuforig);
    }
#line 6509
    if (! first___0) {
#line 6510
      return (1);
    }
  } else
#line 6511
  if (c == -1) {
#line 6512
    if (readfd == coprocin) {
      {
#line 6513
      close(coprocin);
#line 6514
      close(coprocout);
#line 6515
      coprocout = -1;
#line 6515
      coprocin = coprocout;
      }
    }
#line 6517
    return (1);
  }
#line 6524
  return (errflag);
}
}
#line 6528 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
static int zread(int izle , int *readchar , long izle_timeout ) 
{ 
  char cc ;
  char retry ;
  int ret ;
  int c ;
  int tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  ssize_t tmp___3 ;
  int *tmp___4 ;
  int *tmp___5 ;
  int *tmp___6 ;
  int tmp___7 ;

  {
#line 6531
  retry = (char)0;
#line 6534
  if (izle) {
    {
#line 6536
    zleentry(7, izle_timeout, (void *)0, & c);
    }
#line 6538
    if (c < 0) {
#line 6538
      tmp = -1;
    } else {
#line 6538
      tmp = c;
    }
#line 6538
    return (tmp);
  }
#line 6541
  if (zbuf) {
#line 6545
    if ((int )*zbuf == -125) {
#line 6546
      zbuf ++;
#line 6546
      tmp___0 = zbuf;
#line 6546
      zbuf ++;
#line 6546
      return ((int )((unsigned char )((int )*tmp___0 ^ 32)));
    } else {
#line 6548
      if (*zbuf) {
#line 6548
        tmp___1 = zbuf;
#line 6548
        zbuf ++;
#line 6548
        tmp___2 = (int )((unsigned char )*tmp___1);
      } else {
#line 6548
        tmp___2 = -1;
      }
#line 6548
      return (tmp___2);
    }
  }
#line 6550
  if (*readchar >= 0) {
#line 6551
    cc = (char )*readchar;
#line 6552
    *readchar = -1;
#line 6553
    return ((int )((unsigned char )cc));
  }
  {
#line 6555
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 6557
    tmp___3 = read(readfd, (void *)(& cc), (size_t )1);
#line 6557
    ret = (int )tmp___3;
    }
    {
#line 6559
    if (ret == 1) {
#line 6559
      goto case_1;
    }
#line 6562
    if (ret == -1) {
#line 6562
      goto case_neg_1;
    }
#line 6558
    goto switch_break;
    case_1: /* CIL Label */ 
#line 6561
    return ((int )((unsigned char )cc));
    case_neg_1: /* CIL Label */ 
#line 6564
    if (! retry) {
#line 6564
      if (readfd == 0) {
        {
#line 6564
        tmp___5 = __errno_location();
        }
#line 6564
        if (*tmp___5 == 11) {
#line 6564
          goto _L___1;
        } else {
          {
#line 6564
          tmp___6 = __errno_location();
          }
#line 6564
          if (*tmp___6 == 11) {
            _L___1: /* CIL Label */ 
            {
#line 6564
            tmp___7 = setblock_stdin();
            }
#line 6564
            if (tmp___7) {
#line 6575
              retry = (char)1;
#line 6576
              goto __Cont;
            } else {
#line 6564
              goto _L___2;
            }
          } else {
#line 6564
            goto _L___2;
          }
        }
      } else {
#line 6564
        goto _L___2;
      }
    } else {
      _L___2: /* CIL Label */ 
      {
#line 6579
      tmp___4 = __errno_location();
      }
#line 6579
      if (*tmp___4 == 4) {
#line 6579
        if (! errflag) {
#line 6579
          if (! retflag) {
#line 6579
            if (! breaks) {
#line 6579
              if (! contflag) {
#line 6580
                goto __Cont;
              }
            }
          }
        }
      }
    }
#line 6581
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 6583
    return (-1);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 6594 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
void testlex(void) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;

  {
#line 6597
  if ((unsigned int )tok == 38U) {
#line 6598
    return;
  }
#line 6600
  curtestarg = testargs;
#line 6600
  tokstr = *curtestarg;
#line 6601
  if (! *testargs) {
#line 6603
    if (tok) {
#line 6603
      tok = (enum lextok )0;
    } else {
#line 6603
      tok = (enum lextok )38;
    }
#line 6604
    return;
  } else {
    {
#line 6605
    tmp___3 = strcmp((char const   *)*testargs, "-o");
    }
#line 6605
    if (tmp___3) {
      {
#line 6607
      tmp___2 = strcmp((char const   *)*testargs, "-a");
      }
#line 6607
      if (tmp___2) {
        {
#line 6609
        tmp___1 = strcmp((char const   *)*testargs, "!");
        }
#line 6609
        if (tmp___1) {
          {
#line 6611
          tmp___0 = strcmp((char const   *)*testargs, "(");
          }
#line 6611
          if (tmp___0) {
            {
#line 6613
            tmp = strcmp((char const   *)*testargs, ")");
            }
#line 6613
            if (tmp) {
#line 6616
              tok = (enum lextok )34;
            } else {
#line 6614
              tok = (enum lextok )7;
            }
          } else {
#line 6612
            tok = (enum lextok )6;
          }
        } else {
#line 6610
          tok = (enum lextok )39;
        }
      } else {
#line 6608
        tok = (enum lextok )9;
      }
    } else {
#line 6606
      tok = (enum lextok )8;
    }
  }
#line 6617
  testargs ++;
#line 6618
  return;
}
}
#line 6621 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_test(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
             int func ) 
{ 
  char **s ;
  Eprog prog ;
  struct estate state ;
  int nargs ;
  int sense ;
  int ret ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  char const   *tmp___4 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;
  char *__cil_tmp24 ;
  char *__cil_tmp25 ;

  {
#line 6627
  sense = 0;
#line 6631
  if (func == 21) {
#line 6632
    s = argv;
    {
#line 6632
    while (1) {
      while_continue: /* CIL Label */ ;
#line 6632
      if (! *s) {
#line 6632
        goto while_break;
      }
#line 6632
      s ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 6633
    if ((unsigned long )s == (unsigned long )argv) {
      {
#line 6634
      zwarnnam((char const   *)name, "\']\' expected");
      }
#line 6635
      return (2);
    } else {
      {
#line 6633
      tmp = strcmp((char const   *)*(s + -1), "]");
      }
#line 6633
      if (tmp) {
        {
#line 6634
        zwarnnam((char const   *)name, "\']\' expected");
        }
#line 6635
        return (2);
      }
    }
#line 6637
    *(s + -1) = (char *)((void *)0);
  }
#line 6640
  if (! *argv) {
#line 6641
    return (1);
  }
  {
#line 6648
  nargs = arrlen(argv);
  }
#line 6649
  if (nargs == 3) {
#line 6649
    goto _L;
  } else
#line 6649
  if (nargs == 4) {
    _L: /* CIL Label */ 
    {
#line 6656
    tmp___0 = strcmp((char const   *)*(argv + 0), "(");
    }
#line 6656
    if (! tmp___0) {
      {
#line 6656
      tmp___1 = strcmp((char const   *)*(argv + (nargs - 1)), ")");
      }
#line 6656
      if (! tmp___1) {
#line 6656
        if (nargs != 3) {
#line 6658
          *(argv + (nargs - 1)) = (char *)((void *)0);
#line 6659
          argv ++;
        } else {
          {
#line 6656
          tmp___2 = is_cond_binary_op((char const   *)*(argv + 1));
          }
#line 6656
          if (! tmp___2) {
#line 6658
            *(argv + (nargs - 1)) = (char *)((void *)0);
#line 6659
            argv ++;
          }
        }
      }
    }
#line 6661
    if (nargs == 4) {
      {
#line 6661
      tmp___3 = strcmp("!", (char const   *)*(argv + 0));
      }
#line 6661
      if (! tmp___3) {
#line 6662
        sense = 1;
#line 6663
        argv ++;
      }
    }
  }
  {
#line 6667
  zcontext_save();
#line 6668
  testargs = argv;
#line 6669
  tok = (enum lextok )0;
#line 6670
  condlex = & testlex;
#line 6671
  testlex();
#line 6672
  prog = parse_cond();
#line 6673
  condlex = & zshlex;
  }
#line 6675
  if (errflag) {
    {
#line 6676
    errflag &= -2;
#line 6677
    zcontext_restore();
    }
#line 6678
    return (2);
  }
#line 6681
  if (! prog) {
#line 6681
    goto _L___0;
  } else
#line 6681
  if ((unsigned int )tok == 38U) {
    _L___0: /* CIL Label */ 
#line 6682
    if (tokstr) {
#line 6682
      tmp___4 = "parse error";
    } else {
#line 6682
      tmp___4 = "argument expected";
    }
    {
#line 6682
    zwarnnam((char const   *)name, tmp___4);
#line 6683
    zcontext_restore();
    }
#line 6684
    return (2);
  }
  {
#line 6686
  zcontext_restore();
  }
#line 6688
  if (*curtestarg) {
    {
#line 6689
    zwarnnam((char const   *)name, "too many arguments");
    }
#line 6690
    return (2);
  }
  {
#line 6695
  state.prog = prog;
#line 6696
  state.pc = prog->prog;
#line 6697
  state.strs = prog->strs;
#line 6699
  ret = evalcond(& state, name);
  }
#line 6700
  if (ret < 2) {
#line 6700
    if (sense) {
#line 6701
      ret = ! ret;
    }
  }
#line 6703
  return (ret);
}
}
#line 6714 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_times(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
              Options ops  __attribute__((__unused__)) , int func  __attribute__((__unused__)) ) 
{ 
  struct tms buf___7 ;
  long clktck___0 ;
  long tmp ;
  clock_t tmp___0 ;
  char *__cil_tmp9 ;
  char *__cil_tmp10 ;
  char *__cil_tmp11 ;
  char *__cil_tmp12 ;

  {
  {
#line 6718
  tmp = get_clktck();
#line 6718
  clktck___0 = tmp;
#line 6721
  tmp___0 = times(& buf___7);
  }
#line 6721
  if (tmp___0 == -1L) {
#line 6722
    return (1);
  }
  {
#line 6723
  printf((char const   */* __restrict  */)"%ldm%ld.%02lds", buf___7.tms_utime / (60L * clktck___0),
         (buf___7.tms_utime / clktck___0) % clktck___0, ((buf___7.tms_utime * 100L) / clktck___0) % 100L);
#line 6724
  putchar(' ');
#line 6725
  printf((char const   */* __restrict  */)"%ldm%ld.%02lds", buf___7.tms_stime / (60L * clktck___0),
         (buf___7.tms_stime / clktck___0) % clktck___0, ((buf___7.tms_stime * 100L) / clktck___0) % 100L);
#line 6726
  putchar('\n');
#line 6727
  printf((char const   */* __restrict  */)"%ldm%ld.%02lds", buf___7.tms_cutime / (60L * clktck___0),
         (buf___7.tms_cutime / clktck___0) % clktck___0, ((buf___7.tms_cutime * 100L) / clktck___0) % 100L);
#line 6728
  putchar(' ');
#line 6729
  printf((char const   */* __restrict  */)"%ldm%ld.%02lds", buf___7.tms_cstime / (60L * clktck___0),
         (buf___7.tms_cstime / clktck___0) % clktck___0, ((buf___7.tms_cstime * 100L) / clktck___0) % 100L);
#line 6730
  putchar('\n');
  }
#line 6731
  return (0);
}
}
#line 6737 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_trap(char *name , char **argv , Options ops  __attribute__((__unused__)) ,
             int func  __attribute__((__unused__)) ) 
{ 
  Eprog prog ;
  char *arg ;
  char *s ;
  int sig ;
  int tmp ;
  HashNode hn ;
  char const   *name___0 ;
  char const   *tmp___0 ;
  sigset_t oset ;
  int tmp___1 ;
  int tmp___2 ;
  char **tmp___3 ;
  char **tmp___4 ;
  Eprog t ;
  int flags ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  void *__cil_tmp24 ;
  char *__cil_tmp25 ;
  char *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  char *__cil_tmp29 ;
  char *__cil_tmp30 ;
  char *__cil_tmp31 ;
  char *__cil_tmp32 ;
  char *__cil_tmp33 ;

  {
#line 6744
  if (*argv) {
    {
#line 6744
    tmp = strcmp((char const   *)*argv, "--");
    }
#line 6744
    if (! tmp) {
#line 6745
      argv ++;
    }
  }
#line 6748
  if (! *argv) {
#line 6749
    queueing_enabled ++;
#line 6750
    sig = 0;
    {
#line 6750
    while (1) {
      while_continue: /* CIL Label */ ;
#line 6750
      if (! (sig < 34)) {
#line 6750
        goto while_break;
      }
#line 6751
      if (sigtrapped[sig] & (1 << 2)) {
        {
#line 6754
        hn = gettrapnode(sig, 0);
        }
#line 6754
        if (hn) {
          {
#line 6755
          (*(shfunctab->printnode))(hn, 0);
          }
        }
      } else
#line 6757
      if (sigtrapped[sig]) {
        {
#line 6758
        tmp___0 = getsigname(sig);
#line 6758
        name___0 = tmp___0;
        }
#line 6759
        if (! siglists[sig]) {
          {
#line 6760
          printf((char const   */* __restrict  */)"trap -- \'\' %s\n", name___0);
          }
        } else {
          {
#line 6762
          s = getpermtext(siglists[sig], (Wordcode )((void *)0), 0);
#line 6763
          printf((char const   */* __restrict  */)"trap -- ");
#line 6764
          quotedzputs((char const   *)s, stdout);
#line 6765
          printf((char const   */* __restrict  */)" %s\n", name___0);
#line 6766
          zsfree(s);
          }
        }
      }
#line 6750
      sig ++;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 6770
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 6770
      queueing_enabled --;
#line 6770
      if (! queueing_enabled) {
        {
#line 6770
        while (1) {
          while_continue___1: /* CIL Label */ ;
          {
#line 6770
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 6770
            if (! (queue_front != queue_rear)) {
#line 6770
              goto while_break___2;
            }
            {
#line 6770
            queue_front = (queue_front + 1) % 128;
#line 6770
            oset = signal_setmask(signal_mask_queue[queue_front]);
#line 6770
            zhandler(signal_queue[queue_front]);
#line 6770
            signal_setmask(oset);
            }
          }
          while_break___2: /* CIL Label */ ;
          }
#line 6770
          goto while_break___1;
        }
        while_break___1: /* CIL Label */ ;
        }
      }
#line 6770
      goto while_break___0;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 6771
    return (0);
  }
  {
#line 6776
  tmp___1 = getsignum((char const   *)*argv);
  }
#line 6776
  if (tmp___1 != -1) {
#line 6776
    goto _L;
  } else {
    {
#line 6776
    tmp___2 = strcmp((char const   *)*argv, "-");
    }
#line 6776
    if (! tmp___2) {
#line 6776
      tmp___3 = argv;
#line 6776
      argv ++;
#line 6776
      if (tmp___3) {
        _L: /* CIL Label */ 
#line 6777
        if (! *argv) {
#line 6778
          sig = 0;
          {
#line 6778
          while (1) {
            while_continue___3: /* CIL Label */ ;
#line 6778
            if (! (sig < 34)) {
#line 6778
              goto while_break___3;
            }
            {
#line 6779
            unsettrap(sig);
#line 6778
            sig ++;
            }
          }
          while_break___3: /* CIL Label */ ;
          }
        } else {
          {
#line 6781
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 6781
            if (! *argv) {
#line 6781
              goto while_break___4;
            }
            {
#line 6782
            sig = getsignum((char const   *)*argv);
            }
#line 6783
            if (sig == -1) {
              {
#line 6784
              zwarnnam((char const   *)name, "undefined signal: %s", *argv);
              }
#line 6785
              goto while_break___4;
            }
            {
#line 6787
            unsettrap(sig);
#line 6781
            argv ++;
            }
          }
          while_break___4: /* CIL Label */ ;
          }
        }
#line 6790
        return ((unsigned long )*argv != (unsigned long )((void *)0));
      }
    }
  }
#line 6794
  tmp___4 = argv;
#line 6794
  argv ++;
#line 6794
  arg = *tmp___4;
#line 6795
  if (! *arg) {
#line 6796
    prog = & dummy_eprog;
  } else {
    {
#line 6797
    prog = parse_string(arg, 1);
    }
#line 6797
    if (! prog) {
      {
#line 6798
      zwarnnam((char const   *)name, "couldn\'t parse trap command");
      }
#line 6799
      return (1);
    }
  }
  {
#line 6803
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 6803
    if (! *argv) {
#line 6803
      goto while_break___5;
    }
    {
#line 6807
    sig = getsignum((char const   *)*argv);
    }
#line 6808
    if (sig == -1) {
      {
#line 6809
      zwarnnam((char const   *)name, "undefined signal: %s", *argv);
      }
#line 6810
      goto while_break___5;
    }
#line 6812
    if ((int )typtab[(unsigned char )*(*argv)] & 1) {
#line 6818
      flags = 0;
    } else {
      {
#line 6812
      tmp___5 = strcmp((char const   *)sigs[sig], (char const   *)*argv);
      }
#line 6812
      if (tmp___5) {
        {
#line 6812
        tmp___6 = strncmp("SIG", (char const   *)*argv, (size_t )3);
        }
#line 6812
        if (tmp___6) {
#line 6826
          flags = 1 << 3;
        } else {
          {
#line 6812
          tmp___7 = strcmp((char const   *)sigs[sig], (char const   *)(*argv + 3));
          }
#line 6812
          if (tmp___7) {
#line 6826
            flags = 1 << 3;
          } else {
#line 6818
            flags = 0;
          }
        }
      } else {
#line 6818
        flags = 0;
      }
    }
    {
#line 6828
    t = dupeprog(prog, 0);
#line 6829
    tmp___8 = settrap(sig, t, flags);
    }
#line 6829
    if (tmp___8) {
      {
#line 6830
      freeeprog(t);
      }
    }
#line 6803
    argv ++;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 6832
  return ((unsigned long )*argv != (unsigned long )((void *)0));
}
}
#line 6836 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_ttyctl(char *name  __attribute__((__unused__)) , char **argv  __attribute__((__unused__)) ,
               Options ops , int func  __attribute__((__unused__)) ) 
{ 
  char const   *tmp ;
  char *__cil_tmp6 ;
  char *__cil_tmp7 ;
  char *__cil_tmp8 ;

  {
#line 6839
  if ((int )ops->ind[102] != 0) {
#line 6840
    ttyfrozen = 1;
  } else
#line 6841
  if ((int )ops->ind[117] != 0) {
#line 6842
    ttyfrozen = 0;
  } else {
#line 6844
    if (ttyfrozen) {
#line 6844
      tmp = "";
    } else {
#line 6844
      tmp = "not ";
    }
    {
#line 6844
    printf((char const   */* __restrict  */)"tty is %sfrozen\n", tmp);
    }
  }
#line 6845
  return (0);
}
}
#line 6851 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_let(char *name  __attribute__((__unused__)) , char **argv , Options ops  __attribute__((__unused__)) ,
            int func  __attribute__((__unused__)) ) 
{ 
  mnumber val ;
  char **tmp ;
  int tmp___0 ;

  {
#line 6854
  val = zero_mnumber;
  {
#line 6856
  while (1) {
    while_continue: /* CIL Label */ ;
#line 6856
    if (! *argv) {
#line 6856
      goto while_break;
    }
    {
#line 6857
    tmp = argv;
#line 6857
    argv ++;
#line 6857
    val = matheval(*tmp);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 6859
  errflag &= -2;
#line 6861
  if (val.type == 1) {
#line 6861
    tmp___0 = val.u.l == 0L;
  } else {
#line 6861
    tmp___0 = val.u.d == 0.0;
  }
#line 6861
  return (tmp___0);
}
}
#line 6870 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_umask(char *nam , char **args , Options ops , int func  __attribute__((__unused__)) ) 
{ 
  mode_t um ;
  char *s ;
  char *who ;
  char *what ;
  char *tmp ;
  int tmp___0 ;
  zlong tmp___1 ;
  int whomask ;
  int umaskop ;
  int mask ;
  char *__cil_tmp15 ;
  char *__cil_tmp16 ;
  char *__cil_tmp17 ;
  char *__cil_tmp18 ;
  char *__cil_tmp19 ;
  char *__cil_tmp20 ;
  char *__cil_tmp21 ;
  char *__cil_tmp22 ;
  char *__cil_tmp23 ;

  {
  {
#line 6874
  s = *args;
#line 6877
  um = umask((__mode_t )0);
#line 6878
  umask(um);
  }
#line 6880
  if (! s) {
#line 6881
    if ((int )ops->ind[83] != 0) {
#line 6882
      who = (char *)"ugo";
      {
#line 6884
      while (1) {
        while_continue: /* CIL Label */ ;
#line 6884
        if (! *who) {
#line 6884
          goto while_break;
        }
        {
#line 6885
        what = (char *)"rwx";
#line 6886
        tmp = who;
#line 6886
        who ++;
#line 6886
        printf((char const   */* __restrict  */)"%c=", (int )*tmp);
        }
        {
#line 6887
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 6887
          if (! *what) {
#line 6887
            goto while_break___0;
          }
#line 6888
          if (! (um & 256U)) {
            {
#line 6889
            putchar((int )*what);
            }
          }
#line 6890
          um <<= 1;
#line 6891
          what ++;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 6893
        if (*who) {
#line 6893
          tmp___0 = ',';
        } else {
#line 6893
          tmp___0 = '\n';
        }
        {
#line 6893
        putchar(tmp___0);
        }
      }
      while_break: /* CIL Label */ ;
      }
    } else {
#line 6896
      if (um & 448U) {
        {
#line 6897
        putchar('0');
        }
      }
      {
#line 6898
      printf((char const   */* __restrict  */)"%03o\n", um);
      }
    }
#line 6900
    return (0);
  }
#line 6903
  if ((int )typtab[(unsigned char )*s] & 1) {
    {
#line 6905
    tmp___1 = zstrtol((char const   *)s, & s, 8);
#line 6905
    um = (mode_t )tmp___1;
    }
#line 6906
    if (*s) {
      {
#line 6907
      zwarnnam((char const   *)nam, "bad umask");
      }
#line 6908
      return (1);
    }
  } else {
    {
#line 6916
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 6919
      whomask = 0;
      {
#line 6920
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 6920
        if (! ((int )*s == 117)) {
#line 6920
          if (! ((int )*s == 103)) {
#line 6920
            if (! ((int )*s == 111)) {
#line 6920
              if (! ((int )*s == 97)) {
#line 6920
                goto while_break___2;
              }
            }
          }
        }
#line 6921
        if ((int )*s == 117) {
#line 6922
          s ++;
#line 6922
          whomask |= 448;
        } else
#line 6923
        if ((int )*s == 103) {
#line 6924
          s ++;
#line 6924
          whomask |= 56;
        } else
#line 6925
        if ((int )*s == 111) {
#line 6926
          s ++;
#line 6926
          whomask |= 7;
        } else
#line 6927
        if ((int )*s == 97) {
#line 6928
          s ++;
#line 6928
          whomask |= 511;
        }
      }
      while_break___2: /* CIL Label */ ;
      }
#line 6930
      if (! whomask) {
#line 6931
        whomask = 511;
      }
#line 6933
      umaskop = (int )*s;
#line 6934
      if (! (umaskop == 43)) {
#line 6934
        if (! (umaskop == 45)) {
#line 6934
          if (! (umaskop == 61)) {
#line 6935
            if (umaskop) {
              {
#line 6936
              zwarnnam((char const   *)nam, "bad symbolic mode operator: %c", umaskop);
              }
            } else {
              {
#line 6938
              zwarnnam((char const   *)nam, "bad umask");
              }
            }
#line 6939
            return (1);
          }
        }
      }
#line 6942
      mask = 0;
      {
#line 6943
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 6943
        s ++;
#line 6943
        if (*s) {
#line 6943
          if (! ((int )*s != 44)) {
#line 6943
            goto while_break___3;
          }
        } else {
#line 6943
          goto while_break___3;
        }
#line 6944
        if ((int )*s == 114) {
#line 6945
          mask |= 292 & whomask;
        } else
#line 6946
        if ((int )*s == 119) {
#line 6947
          mask |= 146 & whomask;
        } else
#line 6948
        if ((int )*s == 120) {
#line 6949
          mask |= 73 & whomask;
        } else {
          {
#line 6951
          zwarnnam((char const   *)nam, "bad symbolic mode permission: %c", (int )*s);
          }
#line 6952
          return (1);
        }
      }
      while_break___3: /* CIL Label */ ;
      }
#line 6955
      if (umaskop == 43) {
#line 6956
        um &= (unsigned int )(~ mask);
      } else
#line 6957
      if (umaskop == 45) {
#line 6958
        um |= (unsigned int )mask;
      } else {
#line 6960
        um = (um | (unsigned int )whomask) & (unsigned int )(~ mask);
      }
#line 6961
      if ((int )*s == 44) {
#line 6962
        s ++;
      } else {
#line 6964
        goto while_break___1;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
#line 6966
    if (*s) {
      {
#line 6967
      zwarnnam((char const   *)nam, "bad character in symbolic mode: %c", (int )*s);
      }
#line 6968
      return (1);
    }
  }
  {
#line 6973
  umask(um);
  }
#line 6974
  return (0);
}
}
#line 6980 "/home/khheo/testset/zsh-zsh-5.3.1/Src/builtin.c"
int bin_notavail(char *nam , char **argv  __attribute__((__unused__)) , Options ops  __attribute__((__unused__)) ,
                 int func  __attribute__((__unused__)) ) 
{ 
  char *__cil_tmp5 ;

  {
  {
#line 6983
  zwarnnam((char const   *)nam, "not available on this system");
  }
#line 6984
  return (1);
}
}
#line 90 "/home/khheo/testset/zsh-zsh-5.3.1/Src/./main.c"
int main(int argc , char **argv ) 
{ 
  int tmp ;

  {
  {
#line 93
  tmp = zsh_main(argc, argv);
  }
#line 93
  return (tmp);
}
}
