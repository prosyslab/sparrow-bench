/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 172 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __ssize_t;
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 44
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 144 "/usr/include/libio.h"
struct _IO_FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 102 "/usr/include/stdio.h"
typedef __ssize_t ssize_t;
#line 170
extern struct _IO_FILE *stderr ;
#line 356
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 362
extern int printf(char const   * __restrict  __format  , ...) ;
#line 433
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) sscanf)(char const   * __restrict  __s ,
                                                                             char const   * __restrict  __format 
                                                                             , ...)  __asm__("__isoc99_sscanf")  ;
#line 846
extern void perror(char const   *__s ) ;
#line 144 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcmp)(char const   *__s1 ,
                                                                                               char const   *__s2 )  __attribute__((__pure__)) ;
#line 147
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strncmp)(char const   *__s1 ,
                                                                                                char const   *__s2 ,
                                                                                                size_t __n )  __attribute__((__pure__)) ;
#line 176
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) strdup)(char const   *__s )  __attribute__((__malloc__)) ;
#line 79 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **( __attribute__((__leaf__)) __ctype_b_loc)(void)  __attribute__((__const__)) ;
#line 147 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) atoi)(char const   *__nptr )  __attribute__((__pure__)) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 146 "/usr/include/fcntl.h"
extern int ( __attribute__((__nonnull__(1))) open)(char const   *__file , int __oflag 
                                                   , ...) ;
#line 41 "/usr/include/x86_64-linux-gnu/sys/ioctl.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) ioctl)(int __fd ,
                                                                            unsigned long __request 
                                                                            , ...) ;
#line 360 "/usr/include/unistd.h"
extern ssize_t read(int __fd , void *__buf , size_t __nbytes ) ;
#line 31 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
static int i8k_fd  ;
#line 33 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
char *i8k_get_bios_version(void) 
{ 
  char i8k_ioctl_bios_version[4] ;
  char i8k_proc_format[16] ;
  char i8k_proc_bios_version[4] ;
  char i8k_proc_serial_version[16] ;
  int i8k_proc_cpu_temp ;
  int i8k_proc_left_fan ;
  int i8k_proc_right_fan ;
  int i8k_proc_left_speed ;
  int i8k_proc_right_speed ;
  int i8k_proc_ac_power ;
  int i8k_proc_fn_key ;
  char proc_i8k_str[64] ;
  int args[1] ;
  int rc_read ;
  int ret_nargs ;
  char *tmp ;
  int tmp___0 ;
  ssize_t tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;

  {
  {
#line 54
  tmp___1 = read(i8k_fd, (void *)(proc_i8k_str), 64UL * sizeof(char ));
#line 54
  rc_read = (int )tmp___1;
  }
#line 54
  if (rc_read != -1) {
    {
#line 56
    ret_nargs = sscanf((char const   */* __restrict  */)(proc_i8k_str), (char const   */* __restrict  */)"%s %s %s %d %d %d %d %d %d %d\n",
                       i8k_proc_format, i8k_proc_bios_version, i8k_proc_serial_version,
                       & i8k_proc_cpu_temp, & i8k_proc_left_fan, & i8k_proc_right_fan,
                       & i8k_proc_left_speed, & i8k_proc_right_speed, & i8k_proc_ac_power,
                       & i8k_proc_fn_key);
    }
#line 68
    if (ret_nargs == 10) {
      {
#line 69
      tmp___0 = strncmp((char const   *)(i8k_proc_format), "1.0", (size_t )16);
      }
#line 69
      if (tmp___0 == 0) {
        {
#line 77
        tmp = strdup((char const   *)(i8k_proc_bios_version));
        }
#line 77
        return (tmp);
      }
    }
  }
  {
#line 84
  tmp___3 = ioctl(i8k_fd, (unsigned long )(((2U << 30) | (unsigned int )(105 << 8)) | 128U) | (sizeof(int ) << 16),
                  & args);
  }
#line 84
  if (tmp___3 != 0) {
    {
#line 85
    i8k_ioctl_bios_version[0] = (char )((args[0] >> 16) & 255);
#line 86
    i8k_ioctl_bios_version[1] = (char )((args[0] >> 8) & 255);
#line 87
    i8k_ioctl_bios_version[2] = (char )(args[0] & 255);
#line 88
    i8k_ioctl_bios_version[3] = (char )'\000';
#line 89
    tmp___2 = strdup((char const   *)(i8k_ioctl_bios_version));
    }
#line 89
    return (tmp___2);
  }
#line 92
  return ((char *)0);
}
}
#line 95 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
char *i8k_get_machine_id(void) 
{ 
  char args[16] ;
  int rc ;
  char *tmp ;

  {
  {
#line 101
  rc = ioctl(i8k_fd, (unsigned long )(((2U << 30) | (unsigned int )(105 << 8)) | 129U) | (sizeof(int ) << 16),
             & args);
  }
#line 101
  if (rc < 0) {
#line 102
    return ((char *)((void *)0));
  }
  {
#line 105
  tmp = strdup((char const   *)(args));
  }
#line 105
  return (tmp);
}
}
#line 108 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int i8k_set_fan(int fan , int speed ) 
{ 
  int args[2] ;
  int rc ;

  {
  {
#line 114
  args[0] = fan;
#line 115
  args[1] = speed;
#line 116
  rc = ioctl(i8k_fd, (unsigned long )(((3U << 30) | (unsigned int )(105 << 8)) | 135U) | (sizeof(size_t ) << 16),
             & args);
  }
#line 116
  if (rc < 0) {
#line 117
    return (rc);
  }
#line 120
  return (args[0]);
}
}
#line 123 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int i8k_get_fan_status(int fan ) 
{ 
  int args[1] ;
  int rc ;

  {
  {
#line 129
  args[0] = fan;
#line 130
  rc = ioctl(i8k_fd, (unsigned long )(((3U << 30) | (unsigned int )(105 << 8)) | 134U) | (sizeof(size_t ) << 16),
             & args);
  }
#line 130
  if (rc < 0) {
#line 131
    return (rc);
  }
#line 134
  return (args[0]);
}
}
#line 137 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int i8k_get_fan_speed(int fan ) 
{ 
  int args[1] ;
  int rc ;

  {
  {
#line 143
  args[0] = fan;
#line 144
  rc = ioctl(i8k_fd, (unsigned long )(((3U << 30) | (unsigned int )(105 << 8)) | 133U) | (sizeof(size_t ) << 16),
             & args);
  }
#line 144
  if (rc < 0) {
#line 145
    return (rc);
  }
#line 148
  return (args[0]);
}
}
#line 151 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int i8k_get_cpu_temp(void) 
{ 
  int args[1] ;
  int rc ;

  {
  {
#line 157
  rc = ioctl(i8k_fd, (unsigned long )(((2U << 30) | (unsigned int )(105 << 8)) | 132U) | (sizeof(size_t ) << 16),
             & args);
  }
#line 157
  if (rc < 0) {
#line 158
    return (rc);
  }
#line 161
  return (args[0]);
}
}
#line 164 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int i8k_get_power_status(void) 
{ 
  int args[1] ;
  int rc ;

  {
  {
#line 170
  rc = ioctl(i8k_fd, (unsigned long )(((2U << 30) | (unsigned int )(105 << 8)) | 130U) | (sizeof(size_t ) << 16),
             & args);
  }
#line 170
  if (rc < 0) {
#line 171
    return (rc);
  }
#line 174
  return (args[0]);
}
}
#line 177 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int i8k_get_fn_status(void) 
{ 
  int args[1] ;
  int rc ;

  {
  {
#line 183
  rc = ioctl(i8k_fd, (unsigned long )(((2U << 30) | (unsigned int )(105 << 8)) | 131U) | (sizeof(size_t ) << 16),
             & args);
  }
#line 183
  if (rc < 0) {
#line 184
    return (rc);
  }
#line 187
  return (args[0]);
}
}
#line 190 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int fan(int argc , char **argv ) 
{ 
  int left ;
  int right ;
  int tmp ;
  unsigned short const   **tmp___0 ;
  int tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
#line 195
  if (argc > 1) {
    {
#line 195
    tmp___0 = __ctype_b_loc();
    }
#line 195
    if ((int const   )*(*tmp___0 + (int )*(*(argv + 1) + 0)) & 2048) {
      {
#line 196
      tmp = atoi((char const   *)*(argv + 1));
#line 196
      left = i8k_set_fan(1, tmp);
      }
    } else {
      {
#line 198
      left = i8k_get_fan_status(1);
      }
    }
  } else {
    {
#line 198
    left = i8k_get_fan_status(1);
    }
  }
#line 201
  if (argc > 2) {
    {
#line 201
    tmp___2 = __ctype_b_loc();
    }
#line 201
    if ((int const   )*(*tmp___2 + (int )*(*(argv + 2) + 0)) & 2048) {
      {
#line 202
      tmp___1 = atoi((char const   *)*(argv + 2));
#line 202
      right = i8k_set_fan(0, tmp___1);
      }
    } else {
      {
#line 204
      right = i8k_get_fan_status(0);
      }
    }
  } else {
    {
#line 204
    right = i8k_get_fan_status(0);
    }
  }
  {
#line 207
  printf((char const   */* __restrict  */)"%d %d\n", left, right);
  }
#line 208
  return (0);
}
}
#line 211 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int fan_speed(int argc , char **argv ) 
{ 
  int left ;
  int right ;

  {
  {
#line 216
  left = i8k_get_fan_speed(1);
#line 217
  right = i8k_get_fan_speed(0);
#line 219
  printf((char const   */* __restrict  */)"%d %d\n", left, right);
  }
#line 220
  return (0);
}
}
#line 223 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int bios_version(void) 
{ 
  char *version ;

  {
  {
#line 228
  version = i8k_get_bios_version();
  }
#line 228
  if ((unsigned long )version == (unsigned long )((void *)0)) {
#line 229
    version = (char *)"?";
  }
  {
#line 232
  printf((char const   */* __restrict  */)"%s\n", version);
  }
#line 233
  return (0);
}
}
#line 236 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int machine_id(void) 
{ 
  char *machine_id___0 ;

  {
  {
#line 241
  machine_id___0 = i8k_get_machine_id();
  }
#line 241
  if ((unsigned long )machine_id___0 == (unsigned long )((void *)0)) {
#line 242
    machine_id___0 = (char *)"?";
  }
  {
#line 245
  printf((char const   */* __restrict  */)"%s\n", machine_id___0);
  }
#line 246
  return (0);
}
}
#line 249 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int cpu_temperature(void) 
{ 
  int tmp ;

  {
  {
#line 252
  tmp = i8k_get_cpu_temp();
#line 252
  printf((char const   */* __restrict  */)"%d\n", tmp);
  }
#line 253
  return (0);
}
}
#line 256 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int ac_status(void) 
{ 
  int tmp ;

  {
  {
#line 259
  tmp = i8k_get_power_status();
#line 259
  printf((char const   */* __restrict  */)"%d\n", tmp);
  }
#line 260
  return (0);
}
}
#line 263 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int fn_key(void) 
{ 
  int tmp ;

  {
  {
#line 266
  tmp = i8k_get_fn_status();
#line 266
  printf((char const   */* __restrict  */)"%d\n", tmp);
  }
#line 267
  return (0);
}
}
#line 270 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int status(void) 
{ 
  int fn_key___0 ;
  int cpu_temp ;
  int ac_power ;
  int left_fan ;
  int right_fan ;
  int left_speed ;
  int right_speed ;
  char *bios_version___0 ;
  char *bios_machine_id ;

  {
  {
#line 277
  bios_version___0 = i8k_get_bios_version();
#line 278
  bios_machine_id = i8k_get_machine_id();
#line 279
  cpu_temp = i8k_get_cpu_temp();
#line 280
  left_fan = i8k_get_fan_status(1);
#line 281
  right_fan = i8k_get_fan_status(0);
#line 282
  left_speed = i8k_get_fan_speed(1);
#line 283
  right_speed = i8k_get_fan_speed(0);
#line 284
  ac_power = i8k_get_power_status();
#line 285
  fn_key___0 = i8k_get_fn_status();
#line 301
  printf((char const   */* __restrict  */)"%s %s %s %d %d %d %d %d %d %d\n", "1.0",
         bios_version___0, bios_machine_id, cpu_temp, left_fan, right_fan, left_speed,
         right_speed, ac_power, fn_key___0);
  }
#line 313
  return (0);
}
}
#line 316 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
void usage(void) 
{ 


  {
  {
#line 319
  printf((char const   */* __restrict  */)"Usage: i8kctl [-v] [fan [<l> <r>] | speed | version | bios | id | temp| ac | fn]\n");
#line 321
  printf((char const   */* __restrict  */)"       i8kctl [-h]\n");
  }
#line 322
  return;
}
}
#line 324 "/home/june/repo/benchmarks/collector/temp/i8kutils-1.41/i8kctl.c"
int main(int argc , char **argv ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;

  {
#line 327
  if (argc >= 2) {
    {
#line 328
    tmp = strcmp((char const   *)*(argv + 1), "-v");
    }
#line 328
    if (tmp == 0) {
      {
#line 329
      argc --;
#line 329
      argv ++;
#line 330
      printf((char const   */* __restrict  */)"i8kctl %s\n", "v1.6 05/30/2013");
      }
    } else {
      {
#line 328
      tmp___0 = strcmp((char const   *)*(argv + 1), "--version");
      }
#line 328
      if (tmp___0 == 0) {
        {
#line 329
        argc --;
#line 329
        argv ++;
#line 330
        printf((char const   */* __restrict  */)"i8kctl %s\n", "v1.6 05/30/2013");
        }
      }
    }
  }
#line 333
  if (argc >= 2) {
    {
#line 334
    tmp___1 = strcmp((char const   *)*(argv + 1), "-h");
    }
#line 334
    if (tmp___1 == 0) {
      {
#line 335
      usage();
#line 336
      exit(0);
      }
    } else {
      {
#line 334
      tmp___2 = strcmp((char const   *)*(argv + 1), "--help");
      }
#line 334
      if (tmp___2 == 0) {
        {
#line 335
        usage();
#line 336
        exit(0);
        }
      }
    }
  }
  {
#line 340
  i8k_fd = open("/proc/i8k", 0);
  }
#line 341
  if (i8k_fd < 0) {
    {
#line 342
    perror("can\'t open /proc/i8k");
#line 343
    exit(1);
    }
  }
#line 347
  if (argc < 2) {
    {
#line 348
    tmp___3 = status();
    }
#line 348
    return (tmp___3);
  }
  {
#line 351
  tmp___5 = strcmp((char const   *)*(argv + 1), "fan");
  }
#line 351
  if (tmp___5 == 0) {
    {
#line 352
    argc --;
#line 352
    argv ++;
#line 353
    tmp___4 = fan(argc, argv);
    }
#line 353
    return (tmp___4);
  }
  {
#line 355
  tmp___6 = strcmp((char const   *)*(argv + 1), "version");
  }
#line 355
  if (tmp___6 == 0) {
    {
#line 356
    printf((char const   */* __restrict  */)"%s\n", "1.0");
    }
#line 357
    return (0);
  }
  {
#line 359
  tmp___8 = strcmp((char const   *)*(argv + 1), "speed");
  }
#line 359
  if (tmp___8 == 0) {
    {
#line 360
    tmp___7 = fan_speed(argc, argv);
    }
#line 360
    return (tmp___7);
  }
  {
#line 362
  tmp___10 = strcmp((char const   *)*(argv + 1), "bios");
  }
#line 362
  if (tmp___10 == 0) {
    {
#line 363
    tmp___9 = bios_version();
    }
#line 363
    return (tmp___9);
  }
  {
#line 365
  tmp___12 = strcmp((char const   *)*(argv + 1), "id");
  }
#line 365
  if (tmp___12 == 0) {
    {
#line 366
    tmp___11 = machine_id();
    }
#line 366
    return (tmp___11);
  }
  {
#line 368
  tmp___14 = strcmp((char const   *)*(argv + 1), "temp");
  }
#line 368
  if (tmp___14 == 0) {
    {
#line 369
    tmp___13 = cpu_temperature();
    }
#line 369
    return (tmp___13);
  }
  {
#line 371
  tmp___16 = strcmp((char const   *)*(argv + 1), "ac");
  }
#line 371
  if (tmp___16 == 0) {
    {
#line 372
    tmp___15 = ac_status();
    }
#line 372
    return (tmp___15);
  }
  {
#line 374
  tmp___18 = strcmp((char const   *)*(argv + 1), "fn");
  }
#line 374
  if (tmp___18 == 0) {
    {
#line 375
    tmp___17 = fn_key();
    }
#line 375
    return (tmp___17);
  }
  {
#line 378
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"invalid command: %s\n",
          *(argv + 1));
  }
#line 379
  return (1);
}
}
