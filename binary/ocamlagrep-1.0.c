/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 128 "/usr/lib/ocaml/caml/config.h"
typedef long intnat;
#line 129 "/usr/lib/ocaml/caml/config.h"
typedef unsigned long uintnat;
#line 31 "/usr/lib/ocaml/caml/misc.h"
typedef size_t asize_t;
#line 58 "/usr/lib/ocaml/caml/mlvalues.h"
typedef intnat value;
#line 60 "/usr/lib/ocaml/caml/mlvalues.h"
typedef uintnat mlsize_t;
#line 61 "/usr/lib/ocaml/caml/mlvalues.h"
typedef unsigned int tag_t;
#line 21 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
typedef unsigned char uchar;
#line 22 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
typedef unsigned int uint;
#line 23 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
typedef unsigned long ulong;
#line 483 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) free)(void *__ptr ) ;
#line 66 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1), __leaf__)) memset)(void *__s ,
                                                                                               int __c ,
                                                                                               size_t __n ) ;
#line 28 "/usr/lib/ocaml/caml/alloc.h"
extern value caml_alloc(mlsize_t  , tag_t  ) ;
#line 38 "/usr/lib/ocaml/caml/memory.h"
extern void *caml_stat_alloc(asize_t  ) ;
#line 32 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
value caml_agrep_new_bitmatrix(value v_patlen , value v_nentries ) 
{ 
  ulong nwords ;
  ulong size ;
  value res ;
  value tmp ;

  {
  {
#line 34
  nwords = (((unsigned long )(v_patlen >> 1) + 8UL * sizeof(ulong )) - 1UL) / (8UL * sizeof(ulong ));
#line 35
  size = nwords * (ulong )(v_nentries >> 1);
#line 36
  tmp = caml_alloc(size, (tag_t )251);
#line 36
  res = tmp;
#line 37
  memset((void *)((ulong *)res), 0, size * sizeof(ulong ));
  }
#line 38
  return (res);
}
}
#line 41 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
value caml_agrep_set_bit(value v_matrix , value v_patlen , value v_index , value v_bitnum ) 
{ 
  ulong nwords ;
  ulong bitnum ;

  {
#line 44
  nwords = (((unsigned long )(v_patlen >> 1) + 8UL * sizeof(ulong )) - 1UL) / (8UL * sizeof(ulong ));
#line 45
  bitnum = (ulong )(v_bitnum >> 1);
#line 46
  *(((ulong *)v_matrix + nwords * (ulong )(v_index >> 1)) + bitnum / (8UL * sizeof(ulong ))) |= 1UL << bitnum % (8UL * sizeof(ulong ));
#line 47
  return (1L);
}
}
#line 50 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
unsigned char word_constituent[256]  = 
#line 50
  {      (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)1,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)0,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)0,      (unsigned char)0,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)0, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1, 
        (unsigned char)1,      (unsigned char)1,      (unsigned char)1,      (unsigned char)1};
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_0errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong Found ;
  ulong Ssharp ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | 1UL;
#line 81
    if (R0 & Found) {
#line 81
      return (1L);
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_1errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong R1 ;
  ulong R0before ;
  ulong Found ;
  ulong Ssharp ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
#line 37
  R1 = (ulong )3;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 48
    R0before = R0;
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | 1UL;
#line 64
    R1 = ((((((R1 & S) | R0before) | R0) << 1) | R0before) | (R1 & Ssharp)) | 1UL;
#line 81
    if (R0 & Found) {
#line 81
      return (1L);
    }
#line 83
    if (R1 & Found) {
#line 83
      return ((1L << 1) + 1L);
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_2errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong R1 ;
  ulong R0before ;
  ulong R2 ;
  ulong R1before ;
  ulong Found ;
  ulong Ssharp ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
#line 37
  R1 = (ulong )3;
#line 40
  R2 = (ulong )7;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 48
    R0before = R0;
#line 51
    R1before = R1;
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | 1UL;
#line 64
    R1 = ((((((R1 & S) | R0before) | R0) << 1) | R0before) | (R1 & Ssharp)) | 1UL;
#line 70
    R2 = ((((((R2 & S) | R1before) | R1) << 1) | R1before) | (R2 & Ssharp)) | 1UL;
#line 81
    if (R0 & Found) {
#line 81
      return (1L);
    }
#line 83
    if (R1 & Found) {
#line 83
      return ((1L << 1) + 1L);
    }
#line 86
    if (R2 & Found) {
#line 86
      return ((2L << 1) + 1L);
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_3errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong R1 ;
  ulong R0before ;
  ulong R2 ;
  ulong R1before ;
  ulong R3 ;
  ulong R2before ;
  ulong Found ;
  ulong Ssharp ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
#line 37
  R1 = (ulong )3;
#line 40
  R2 = (ulong )7;
#line 43
  R3 = (ulong )15;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 48
    R0before = R0;
#line 51
    R1before = R1;
#line 54
    R2before = R2;
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | 1UL;
#line 64
    R1 = ((((((R1 & S) | R0before) | R0) << 1) | R0before) | (R1 & Ssharp)) | 1UL;
#line 70
    R2 = ((((((R2 & S) | R1before) | R1) << 1) | R1before) | (R2 & Ssharp)) | 1UL;
#line 76
    R3 = ((((((R3 & S) | R2before) | R2) << 1) | R2before) | (R3 & Ssharp)) | 1UL;
#line 81
    if (R0 & Found) {
#line 81
      return (1L);
    }
#line 83
    if (R1 & Found) {
#line 83
      return ((1L << 1) + 1L);
    }
#line 86
    if (R2 & Found) {
#line 86
      return ((2L << 1) + 1L);
    }
#line 89
    if (R3 & Found) {
#line 89
      return ((3L << 1) + 1L);
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_word_0errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong Found ;
  ulong Ssharp ;
  ulong word_boundary ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 57
    word_boundary = (ulong )((int )word_constituent[*(text + 0)] ^ (int )word_constituent[*(text + 1)]);
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | word_boundary;
#line 81
    if (R0 & Found) {
#line 81
      if (word_boundary) {
#line 81
        return (1L);
      }
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_word_1errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong R1 ;
  ulong R0before ;
  ulong Found ;
  ulong Ssharp ;
  ulong word_boundary ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
#line 37
  R1 = (ulong )3;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 48
    R0before = R0;
#line 57
    word_boundary = (ulong )((int )word_constituent[*(text + 0)] ^ (int )word_constituent[*(text + 1)]);
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | word_boundary;
#line 64
    R1 = ((((((R1 & S) | R0before) | R0) << 1) | R0before) | (R1 & Ssharp)) | word_boundary;
#line 81
    if (R0 & Found) {
#line 81
      if (word_boundary) {
#line 81
        return (1L);
      }
    }
#line 83
    if (R1 & Found) {
#line 83
      if (word_boundary) {
#line 83
        return ((1L << 1) + 1L);
      }
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_word_2errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong R1 ;
  ulong R0before ;
  ulong R2 ;
  ulong R1before ;
  ulong Found ;
  ulong Ssharp ;
  ulong word_boundary ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
#line 37
  R1 = (ulong )3;
#line 40
  R2 = (ulong )7;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 48
    R0before = R0;
#line 51
    R1before = R1;
#line 57
    word_boundary = (ulong )((int )word_constituent[*(text + 0)] ^ (int )word_constituent[*(text + 1)]);
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | word_boundary;
#line 64
    R1 = ((((((R1 & S) | R0before) | R0) << 1) | R0before) | (R1 & Ssharp)) | word_boundary;
#line 70
    R2 = ((((((R2 & S) | R1before) | R1) << 1) | R1before) | (R2 & Ssharp)) | word_boundary;
#line 81
    if (R0 & Found) {
#line 81
      if (word_boundary) {
#line 81
        return (1L);
      }
    }
#line 83
    if (R1 & Found) {
#line 83
      if (word_boundary) {
#line 83
        return ((1L << 1) + 1L);
      }
    }
#line 86
    if (R2 & Found) {
#line 86
      if (word_boundary) {
#line 86
        return ((2L << 1) + 1L);
      }
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 15 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/skeleton.h"
static value match_word_3errs(ulong *table , uint pattern_length , uchar *text , mlsize_t length ) 
{ 
  ulong R0 ;
  ulong R1 ;
  ulong R0before ;
  ulong R2 ;
  ulong R1before ;
  ulong R3 ;
  ulong R2before ;
  ulong Found ;
  ulong Ssharp ;
  ulong word_boundary ;
  ulong S ;

  {
#line 33
  Ssharp = *(table + 256);
#line 34
  Found = 1UL << pattern_length;
#line 35
  R0 = (ulong )1;
#line 37
  R1 = (ulong )3;
#line 40
  R2 = (ulong )7;
#line 43
  R3 = (ulong )15;
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    if (! (length > 0UL)) {
#line 45
      goto while_break;
    }
#line 46
    S = *(table + *text);
#line 48
    R0before = R0;
#line 51
    R1before = R1;
#line 54
    R2before = R2;
#line 57
    word_boundary = (ulong )((int )word_constituent[*(text + 0)] ^ (int )word_constituent[*(text + 1)]);
#line 62
    R0 = (((R0 & S) << 1) | (R0 & Ssharp)) | word_boundary;
#line 64
    R1 = ((((((R1 & S) | R0before) | R0) << 1) | R0before) | (R1 & Ssharp)) | word_boundary;
#line 70
    R2 = ((((((R2 & S) | R1before) | R1) << 1) | R1before) | (R2 & Ssharp)) | word_boundary;
#line 76
    R3 = ((((((R3 & S) | R2before) | R2) << 1) | R2before) | (R3 & Ssharp)) | word_boundary;
#line 81
    if (R0 & Found) {
#line 81
      if (word_boundary) {
#line 81
        return (1L);
      }
    }
#line 83
    if (R1 & Found) {
#line 83
      if (word_boundary) {
#line 83
        return ((1L << 1) + 1L);
      }
    }
#line 86
    if (R2 & Found) {
#line 86
      if (word_boundary) {
#line 86
        return ((2L << 1) + 1L);
      }
    }
#line 89
    if (R3 & Found) {
#line 89
      if (word_boundary) {
#line 89
        return ((3L << 1) + 1L);
      }
    }
#line 45
    length --;
#line 45
    text ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 92
  return ((((1L << (8UL * sizeof(value ) - 2UL)) - 1L) << 1) + 1L);
}
}
#line 125 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
static value match_general(ulong *table , ulong m , ulong nerrs , int wholeword ,
                           uchar *text , mlsize_t length ) 
{ 
  ulong nwords ;
  ulong n ;
  ulong j ;
  ulong **R ;
  ulong *Rpbefore ;
  ulong Found_offset ;
  ulong Found_mask ;
  ulong *Ssharp ;
  ulong *Rc ;
  ulong *Rp ;
  ulong carry ;
  ulong match_empty ;
  long retcode ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  ulong *S ;
  ulong Rcbefore ;
  ulong toshift ;
  ulong Rcbefore___0 ;
  ulong toshift___0 ;

  {
  {
#line 139
  nwords = ((m + 8UL * sizeof(ulong )) - 1UL) / (8UL * sizeof(ulong ));
#line 140
  tmp = caml_stat_alloc((nerrs + 1UL) * sizeof(ulong *));
#line 140
  R = (ulong **)tmp;
#line 141
  n = (ulong )0;
  }
  {
#line 141
  while (1) {
    while_continue: /* CIL Label */ ;
#line 141
    if (! (n <= nerrs)) {
#line 141
      goto while_break;
    }
    {
#line 141
    tmp___0 = caml_stat_alloc(nwords * sizeof(ulong ));
#line 141
    *(R + n) = (ulong *)tmp___0;
#line 141
    n ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 142
  tmp___1 = caml_stat_alloc(nwords * sizeof(ulong ));
#line 142
  Rpbefore = (ulong *)tmp___1;
#line 144
  Found_offset = m / (8UL * sizeof(ulong ));
#line 145
  Found_mask = 1UL << m % (8UL * sizeof(ulong ));
#line 147
  n = (ulong )0;
  }
  {
#line 147
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 147
    if (! (n <= nerrs)) {
#line 147
      goto while_break___0;
    }
    {
#line 148
    memset((void *)*(R + n), 0, nwords * sizeof(ulong ));
#line 149
    j = (ulong )0;
    }
    {
#line 149
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 149
      if (! (j <= n)) {
#line 149
        goto while_break___1;
      }
#line 149
      *(*(R + n) + j / (8UL * sizeof(ulong ))) |= 1UL << j % (8UL * sizeof(ulong ));
#line 149
      j ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 147
    n ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 152
  Ssharp = table + 256UL * nwords;
#line 153
  match_empty = (ulong )1;
  {
#line 155
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 155
    if (! (length > 0UL)) {
#line 155
      goto while_break___2;
    }
#line 156
    S = table + (ulong )*text * nwords;
#line 157
    if (wholeword) {
#line 158
      match_empty = (ulong )((int )word_constituent[*(text + 0)] ^ (int )word_constituent[*(text + 1)]);
    }
#line 160
    Rc = *(R + 0);
#line 161
    carry = match_empty;
#line 162
    j = (ulong )0;
    {
#line 162
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 162
      if (! (j < nwords)) {
#line 162
        goto while_break___3;
      }
#line 163
      Rcbefore = *(Rc + j);
#line 164
      toshift = Rcbefore & *(S + j);
#line 165
      *(Rc + j) = ((toshift << 1) | (Rcbefore & *(Ssharp + j))) | carry;
#line 166
      carry = toshift >> (8UL * sizeof(ulong ) - 1UL);
#line 167
      *(Rpbefore + j) = Rcbefore;
#line 162
      j ++;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 169
    if (*(Rc + Found_offset) & Found_mask) {
#line 169
      if (match_empty) {
#line 170
        retcode = 0L;
#line 170
        goto exit;
      }
    }
#line 172
    n = (ulong )1;
    {
#line 172
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 172
      if (! (n <= nerrs)) {
#line 172
        goto while_break___4;
      }
#line 173
      Rp = Rc;
#line 174
      Rc = *(R + n);
#line 175
      carry = match_empty;
#line 176
      j = (ulong )0;
      {
#line 176
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 176
        if (! (j < nwords)) {
#line 176
          goto while_break___5;
        }
#line 177
        Rcbefore___0 = *(Rc + j);
#line 178
        toshift___0 = ((Rcbefore___0 & *(S + j)) | *(Rpbefore + j)) | *(Rp + j);
#line 179
        *(Rc + j) = (((toshift___0 << 1) | *(Rpbefore + j)) | (Rcbefore___0 & *(Ssharp + j))) | carry;
#line 183
        carry = toshift___0 >> (8UL * sizeof(ulong ) - 1UL);
#line 184
        *(Rpbefore + j) = Rcbefore___0;
#line 176
        j ++;
      }
      while_break___5: /* CIL Label */ ;
      }
#line 186
      if (*(Rc + Found_offset) & Found_mask) {
#line 186
        if (match_empty) {
#line 187
          retcode = (long )n;
#line 187
          goto exit;
        }
      }
#line 172
      n ++;
    }
    while_break___4: /* CIL Label */ ;
    }
#line 155
    length --;
#line 155
    text ++;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 191
  retcode = (1L << (8UL * sizeof(value ) - 2UL)) - 1L;
  exit: 
#line 194
  n = (ulong )0;
  {
#line 194
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 194
    if (! (n <= nerrs)) {
#line 194
      goto while_break___6;
    }
    {
#line 194
    free((void *)*(R + n));
#line 194
    n ++;
    }
  }
  while_break___6: /* CIL Label */ ;
  }
  {
#line 195
  free((void *)R);
#line 196
  free((void *)Rpbefore);
  }
#line 197
  return ((retcode << 1) + 1L);
}
}
#line 202 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
value caml_agrep_match(value v_text , value v_ofs , value v_len , value v_patlen ,
                       value v_table , value v_nerrs , value v_wholeword ) 
{ 
  uchar *text ;
  mlsize_t len ;
  ulong patlen ;
  value tmp ;
  value tmp___0 ;
  value tmp___1 ;
  value tmp___2 ;
  value tmp___3 ;
  value tmp___4 ;
  value tmp___5 ;
  value tmp___6 ;
  value tmp___7 ;

  {
#line 206
  text = (unsigned char *)v_text + (v_ofs >> 1);
#line 207
  len = (mlsize_t )(v_len >> 1);
#line 208
  patlen = (ulong )(v_patlen >> 1);
#line 210
  if (patlen < 8UL * sizeof(ulong )) {
    {
#line 212
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 0L) {
#line 212
      goto case_0;
    }
#line 213
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 1L) {
#line 213
      goto case_1;
    }
#line 214
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 2L) {
#line 214
      goto case_2;
    }
#line 215
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 3L) {
#line 215
      goto case_3;
    }
#line 216
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 4L) {
#line 216
      goto case_4;
    }
#line 217
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 5L) {
#line 217
      goto case_5;
    }
#line 218
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 6L) {
#line 218
      goto case_6;
    }
#line 219
    if ((((v_nerrs >> 1) << 1) | (long )((int )(v_wholeword >> 1))) == 7L) {
#line 219
      goto case_7;
    }
#line 211
    goto switch_break;
    case_0: /* CIL Label */ 
    {
#line 212
    tmp = match_0errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 212
    return (tmp);
    case_1: /* CIL Label */ 
    {
#line 213
    tmp___0 = match_word_0errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 213
    return (tmp___0);
    case_2: /* CIL Label */ 
    {
#line 214
    tmp___1 = match_1errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 214
    return (tmp___1);
    case_3: /* CIL Label */ 
    {
#line 215
    tmp___2 = match_word_1errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 215
    return (tmp___2);
    case_4: /* CIL Label */ 
    {
#line 216
    tmp___3 = match_2errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 216
    return (tmp___3);
    case_5: /* CIL Label */ 
    {
#line 217
    tmp___4 = match_word_2errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 217
    return (tmp___4);
    case_6: /* CIL Label */ 
    {
#line 218
    tmp___5 = match_3errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 218
    return (tmp___5);
    case_7: /* CIL Label */ 
    {
#line 219
    tmp___6 = match_word_3errs((ulong *)v_table, (uint )patlen, text, len);
    }
#line 219
    return (tmp___6);
    switch_break: /* CIL Label */ ;
    }
  }
  {
#line 222
  tmp___7 = match_general((ulong *)v_table, patlen, (ulong )(v_nerrs >> 1), (int )(v_wholeword >> 1),
                          text, len);
  }
#line 222
  return (tmp___7);
}
}
#line 227 "/home/june/repo/benchmarks/collector/temp/ocamlagrep-1.0/engine.c"
value caml_agrep_match_bytecode(value *argv , int argn ) 
{ 
  value tmp ;

  {
  {
#line 229
  tmp = caml_agrep_match(*(argv + 0), *(argv + 1), *(argv + 2), *(argv + 3), *(argv + 4),
                         *(argv + 5), *(argv + 6));
  }
#line 229
  return (tmp);
}
}
