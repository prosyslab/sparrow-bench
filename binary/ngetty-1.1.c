/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 124 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __dev_t;
#line 125 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __uid_t;
#line 126 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __gid_t;
#line 127 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __ino_t;
#line 129 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __mode_t;
#line 130 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __nlink_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 139 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 153 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blksize_t;
#line 158 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blkcnt_t;
#line 175 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __syscall_slong_t;
#line 75 "/usr/include/time.h"
typedef __time_t time_t;
#line 120 "/usr/include/time.h"
struct timespec {
   __time_t tv_sec ;
   __syscall_slong_t tv_nsec ;
};
#line 46 "/usr/include/x86_64-linux-gnu/bits/stat.h"
struct stat {
   __dev_t st_dev ;
   __ino_t st_ino ;
   __nlink_t st_nlink ;
   __mode_t st_mode ;
   __uid_t st_uid ;
   __gid_t st_gid ;
   int __pad0 ;
   __dev_t st_rdev ;
   __off_t st_size ;
   __blksize_t st_blksize ;
   __blkcnt_t st_blocks ;
   struct timespec st_atim ;
   struct timespec st_mtim ;
   struct timespec st_ctim ;
   __syscall_slong_t __glibc_reserved[3] ;
};
#line 133 "/usr/include/time.h"
struct tm {
   int tm_sec ;
   int tm_min ;
   int tm_hour ;
   int tm_mday ;
   int tm_mon ;
   int tm_year ;
   int tm_wday ;
   int tm_yday ;
   int tm_isdst ;
   long tm_gmtoff ;
   char const   *tm_zone ;
};
#line 38 "/usr/include/stdint.h"
typedef int int32_t;
#line 23 "/usr/include/asm-generic/int-ll64.h"
typedef unsigned short __u16;
#line 26 "/usr/include/asm-generic/int-ll64.h"
typedef unsigned int __u32;
#line 14 "/usr/include/asm-generic/posix_types.h"
typedef long __kernel_long_t;
#line 15 "/usr/include/asm-generic/posix_types.h"
typedef unsigned long __kernel_ulong_t;
#line 7 "/usr/include/linux/sysinfo.h"
struct sysinfo {
   __kernel_long_t uptime ;
   __kernel_ulong_t loads[3] ;
   __kernel_ulong_t totalram ;
   __kernel_ulong_t freeram ;
   __kernel_ulong_t sharedram ;
   __kernel_ulong_t bufferram ;
   __kernel_ulong_t totalswap ;
   __kernel_ulong_t freeswap ;
   __u16 procs ;
   __u16 pad ;
   __kernel_ulong_t totalhigh ;
   __kernel_ulong_t freehigh ;
   __u32 mem_unit ;
   char _f[(20UL - 2UL * sizeof(__kernel_ulong_t )) - sizeof(__u32 )] ;
};
#line 133 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef int __pid_t;
#line 260 "/usr/include/unistd.h"
typedef __pid_t pid_t;
#line 172 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __ssize_t;
#line 220 "/usr/include/unistd.h"
typedef __ssize_t ssize_t;
#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 1 "/home/wheatley/newnew/temp/ngetty-1.1/str_add.c"
unsigned int str_add(char *d , char const   *s , unsigned int u ) 
{ 
  unsigned int l ;

  {
#line 2
  l = 0U;
#line 3
  l = 0U;
  {
#line 3
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3
    if (*(s + l)) {
#line 3
      if (! (l < u)) {
#line 3
        goto while_break;
      }
    } else {
#line 3
      goto while_break;
    }
#line 3
    *(d + l) = (char )*(s + l);
#line 3
    l ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4
  return (l);
}
}
#line 1 "/home/wheatley/newnew/temp/ngetty-1.1/fmt_nmb_.c"
unsigned int fmt_nmb_(char *b , unsigned long u , char len , char fill ) 
{ 
  unsigned char k ;
  char ch ;
  int tmp ;

  {
#line 2
  k = (unsigned char )len;
#line 3
  if (fill) {
#line 3
    tmp = '0';
  } else {
#line 3
    tmp = ' ';
  }
#line 3
  ch = (char )tmp;
  {
#line 4
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5
    if ((int )k == 0) {
#line 5
      goto while_break;
    }
#line 6
    k = (unsigned char )((int )k - 1);
#line 6
    *(b + k) = (char )(48UL + u % 10UL);
#line 7
    u /= 10UL;
#line 4
    if (! u) {
#line 4
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 9
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 9
    if (! k) {
#line 9
      goto while_break___0;
    }
#line 10
    k = (unsigned char )((int )k - 1);
#line 10
    *(b + k) = ch;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 11
  return ((unsigned int )len);
}
}
#line 6 "/home/wheatley/newnew/temp/ngetty-1.1/str_defs.h"
unsigned int str_copynz(char *dest , char const   *src , unsigned int n ) ;
#line 3 "/home/wheatley/newnew/temp/ngetty-1.1/str_copynz.c"
unsigned int str_copynz(char *dest , char const   *src , unsigned int n ) 
{ 
  unsigned int k ;
  unsigned int tmp ;

  {
  {
#line 4
  tmp = str_add(dest, src, n);
#line 4
  k = tmp;
  }
  {
#line 5
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5
    if (! (k < n)) {
#line 5
      goto while_break;
    }
#line 5
    n --;
#line 5
    *(dest + n) = (char)0;
  }
  while_break: /* CIL Label */ ;
  }
#line 6
  return (k);
}
}
#line 209 "/usr/include/x86_64-linux-gnu/sys/stat.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) stat)(char const   * __restrict  __file ,
                                                                                             struct stat * __restrict  __buf ) ;
#line 353 "/usr/include/unistd.h"
extern int close(int __fd ) ;
#line 146 "/usr/include/fcntl.h"
extern int ( __attribute__((__nonnull__(1))) open)(char const   *__file , int __oflag 
                                                   , ...) ;
#line 50 "/usr/include/x86_64-linux-gnu/bits/errno.h"
extern  __attribute__((__nothrow__)) int *( __attribute__((__leaf__)) __errno_location)(void)  __attribute__((__const__)) ;
#line 192 "/usr/include/time.h"
extern  __attribute__((__nothrow__)) time_t ( __attribute__((__leaf__)) time)(time_t *__timer ) ;
#line 13 "/home/wheatley/newnew/temp/ngetty-1.1/check_first.c"
int get_uptime(time_t *uptime ) ;
#line 15 "/home/wheatley/newnew/temp/ngetty-1.1/check_first.c"
int check_first(char *lock , struct stat *st ) 
{ 
  int k ;
  int *tmp ;
  time_t uptime ;
  int tmp___0 ;
  time_t tmp___1 ;
  int tmp___2 ;

  {
  {
#line 20
  k = stat((char const   */* __restrict  */)lock, (struct stat */* __restrict  */)st);
  }
#line 20
  if (k) {
    {
#line 20
    tmp = __errno_location();
    }
#line 20
    if (*tmp != 2) {
#line 21
      return (0);
    }
  }
#line 23
  if (k == 0) {
    {
#line 25
    tmp___0 = get_uptime(& uptime);
    }
#line 25
    if (tmp___0) {
#line 26
      return (0);
    }
    {
#line 31
    tmp___1 = time((time_t *)0);
    }
#line 31
    if (tmp___1 - uptime < st->st_mtim.tv_sec) {
#line 32
      return (0);
    }
  }
  {
#line 39
  k = open((char const   *)lock, 577, 420);
  }
#line 39
  if (k < 0) {
#line 40
    return (0);
  } else {
    {
#line 39
    tmp___2 = close(k);
    }
#line 39
    if (tmp___2) {
#line 40
      return (0);
    }
  }
#line 43
  return (1);
}
}
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/const_io.c"
int const_io(int (*op)() , int fd , void *buf , int len ) 
{ 
  char *x ;
  int ret ;
  int tmp ;
  int *tmp___0 ;

  {
#line 5
  x = (char *)buf;
  {
#line 6
  while (1) {
    while_continue: /* CIL Label */ ;
#line 6
    if (! (len > 0)) {
#line 6
      goto while_break;
    }
    {
#line 7
    tmp = (*op)(fd, x, len);
#line 7
    ret = tmp;
    }
#line 8
    if (ret <= 0) {
#line 9
      if (ret) {
        {
#line 9
        tmp___0 = __errno_location();
        }
#line 9
        if (*tmp___0 == 4) {
#line 9
          goto while_continue;
        }
      }
#line 10
      goto while_break;
    }
#line 12
    x += ret;
#line 13
    len -= ret;
  }
  while_break: /* CIL Label */ ;
  }
#line 15
  return (len);
}
}
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
static struct tm tm  ;
#line 3 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
struct tm *nv_gmtime(time_t const   *t ) 
{ 
  unsigned long day ;
  unsigned long mon ;
  unsigned long year ;
  unsigned long yday ;
  unsigned long tod ;

  {
#line 5
  yday = 0UL;
#line 7
  tod = (unsigned long )*t % 86400UL;
#line 8
  day = (unsigned long )*t / 86400UL;
#line 9
  tm.tm_wday = (int )((day + 4UL) % 7UL);
#line 10
  tm.tm_sec = (int )(tod % 60UL);
#line 10
  tod /= 60UL;
#line 11
  tm.tm_min = (int )(tod % 60UL);
#line 12
  tm.tm_hour = (int )(tod / 60UL);
#line 14
  year = 4UL * day + 2UL;
#line 15
  year /= 1461UL;
#line 17
  day += 671UL;
#line 18
  day %= 1461UL;
#line 19
  if (day < 306UL) {
#line 19
    yday = 1UL;
  }
#line 20
  if (day == 1460UL) {
#line 20
    day = 365UL;
#line 20
    yday = 59UL;
  } else {
#line 21
    day %= 365UL;
#line 21
    yday += (day + 59UL) % 365UL;
  }
#line 23
  day *= 10UL;
#line 24
  mon = (day + 5UL) / 306UL;
#line 25
  day = (day + 5UL) - 306UL * mon;
#line 26
  day /= 10UL;
#line 27
  if (mon >= 10UL) {
#line 27
    mon -= 10UL;
  } else {
#line 28
    mon += 2UL;
  }
#line 30
  tm.tm_year = (int )(year + 70UL);
#line 31
  tm.tm_mon = (int )mon;
#line 32
  tm.tm_mday = (int )(day + 1UL);
#line 33
  tm.tm_yday = (int )yday;
#line 34
  return (& tm);
}
}
#line 1 "/home/wheatley/newnew/temp/ngetty-1.1/str_diffn.c"
int str_diffn(char const   *a , char const   *b , unsigned int limit ) 
{ 
  unsigned int u ;
  char ch ;

  {
#line 2
  u = 0U;
#line 3
  ch = (char)0;
  {
#line 5
  while (1) {
    while_continue: /* CIL Label */ ;
#line 5
    if (! (u < limit)) {
#line 5
      goto while_break;
    }
#line 6
    ch = (char )((int const   )*(a + u) - (int const   )*(b + u));
#line 7
    if (ch) {
#line 7
      goto while_break;
    }
#line 8
    if ((int const   )*(a + u) == 0) {
#line 8
      goto while_break;
    }
#line 5
    u ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 10
  return ((int )ch);
}
}
#line 7 "/home/wheatley/newnew/temp/ngetty-1.1/fmt_defs.h"
unsigned int fmt_ulong(char *s , unsigned long u ) ;
#line 8
unsigned int fmt_utmp_ip(char *buf , char const   *ip ) ;
#line 9
unsigned int fmt_xlong(char *s , unsigned long u ) ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/fmt_utmp_ip.c"
unsigned int fmt_utmp_ip(char *buf , char const   *ip ) 
{ 
  unsigned int temp ;
  unsigned int k ;
  unsigned int pos0 ;
  unsigned int len0 ;
  unsigned int pos1 ;
  unsigned int compr ;
  int32_t *u ;
  char *s ;
  unsigned int tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  unsigned int tmp___3 ;
  char *tmp___4 ;

  {
#line 6
  pos0 = 0U;
#line 6
  len0 = 0U;
#line 6
  pos1 = 0U;
#line 6
  compr = 0U;
#line 7
  u = (int32_t *)((void *)ip);
#line 8
  s = buf;
#line 10
  if (*(u + 1) == 0) {
#line 10
    if (*(u + 2) == 0) {
#line 10
      if (*(u + 3) == 0) {
#line 11
        if (*(u + 0)) {
#line 12
          k = 0U;
          {
#line 12
          while (1) {
            while_continue: /* CIL Label */ ;
#line 12
            if (! (k < 4U)) {
#line 12
              goto while_break;
            }
            {
#line 13
            tmp = fmt_ulong(s, (unsigned long )((unsigned char )*(ip + k)));
#line 13
            s += tmp;
            }
#line 14
            if (k < 3U) {
#line 14
              tmp___0 = s;
#line 14
              s ++;
#line 14
              *tmp___0 = (char )'.';
            }
#line 12
            k ++;
          }
          while_break: /* CIL Label */ ;
          }
        }
      } else {
#line 10
        goto _L___1;
      }
    } else {
#line 10
      goto _L___1;
    }
  } else {
    _L___1: /* CIL Label */ 
#line 18
    k = 0U;
    {
#line 18
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 18
      if (! (k < 16U)) {
#line 18
        goto while_break___0;
      }
#line 19
      if ((int const   )*(ip + k) == 0) {
#line 19
        if ((int const   )*(ip + (k + 1U)) == 0) {
#line 20
          if (! compr) {
#line 21
            compr = 1U;
#line 22
            pos1 = k;
          }
#line 24
          if (k == 14U) {
#line 24
            k = 16U;
#line 24
            goto last;
          }
        } else {
#line 19
          goto _L;
        }
      } else
      _L: /* CIL Label */ 
#line 25
      if (compr) {
        last: 
#line 27
        temp = k - pos1;
#line 27
        if (temp > len0) {
#line 28
          len0 = temp;
#line 29
          pos0 = pos1;
        }
#line 31
        compr = 0U;
      }
#line 18
      k += 2U;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 35
    k = 0U;
    {
#line 35
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 35
      if (! (k < 16U)) {
#line 35
        goto while_break___1;
      }
#line 36
      if (pos0 == k) {
#line 36
        if (len0) {
#line 37
          if (k == 0U) {
#line 37
            tmp___1 = s;
#line 37
            s ++;
#line 37
            *tmp___1 = (char )':';
          }
#line 38
          tmp___2 = s;
#line 38
          s ++;
#line 38
          *tmp___2 = (char )':';
#line 39
          k += len0 - 2U;
#line 40
          goto __Cont;
        }
      }
      {
#line 42
      temp = (unsigned int )(((unsigned long )((unsigned char )*(ip + k)) << 8) + (unsigned long )((unsigned char )*(ip + (k + 1U))));
#line 44
      tmp___3 = fmt_xlong(s, (unsigned long )temp);
#line 44
      s += tmp___3;
      }
#line 45
      if (k < 14U) {
#line 45
        tmp___4 = s;
#line 45
        s ++;
#line 45
        *tmp___4 = (char )':';
      }
      __Cont: /* CIL Label */ 
#line 35
      k += 2U;
    }
    while_break___1: /* CIL Label */ ;
    }
  }
#line 48
  *s = (char)0;
#line 49
  return ((unsigned int )(s - buf));
}
}
#line 2 "/home/wheatley/newnew/temp/ngetty-1.1/fmt_xlong.c"
unsigned int fmt_xlong(char *s , unsigned long u ) 
{ 
  unsigned long tmp ;
  unsigned int len ;
  unsigned char c ;

  {
#line 2
  tmp = u;
#line 2
  len = 0U;
  {
#line 2
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2
    tmp /= 16UL;
#line 2
    len ++;
#line 2
    if (! tmp) {
#line 2
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2
  if (s) {
#line 2
    s += len;
    {
#line 2
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2
      c = (unsigned char )(u % 16UL);
#line 2
      s --;
#line 2
      if ((int )c < 10) {
#line 2
        *s = (char )((int )c + 48);
      } else {
#line 2
        *s = (char )(((int )c - 10) + 97);
      }
#line 2
      u /= 16UL;
#line 2
      if (! u) {
#line 2
        goto while_break___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 2
  return (len);
}
}
#line 2 "/home/wheatley/newnew/temp/ngetty-1.1/fmt_str_.c"
unsigned int fmt_str_(char *b , char *s , unsigned int len ) 
{ 
  unsigned int k ;
  unsigned int tmp ;
  unsigned int tmp___0 ;

  {
  {
#line 3
  tmp = str_add(b, (char const   *)s, len);
#line 3
  k = tmp;
  }
  {
#line 4
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4
    if (! (k < len)) {
#line 4
      goto while_break;
    }
#line 4
    tmp___0 = k;
#line 4
    k ++;
#line 4
    *(b + tmp___0) = (char )' ';
  }
  while_break: /* CIL Label */ ;
  }
#line 5
  return (len);
}
}
#line 29 "/usr/include/x86_64-linux-gnu/sys/sysinfo.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) sysinfo)(struct sysinfo *__info ) ;
#line 10 "/home/wheatley/newnew/temp/ngetty-1.1/get_uptime.c"
int get_uptime(time_t *uptime ) 
{ 
  struct sysinfo info ;
  int tmp ;

  {
  {
#line 12
  tmp = sysinfo(& info);
  }
#line 12
  if (tmp) {
#line 12
    return (-1);
  }
#line 13
  *uptime = info.uptime;
#line 14
  return (0);
}
}
#line 1 "/home/wheatley/newnew/temp/ngetty-1.1/str_copy.c"
unsigned int str_copy(char *out , char const   *in ) 
{ 
  unsigned int len ;
  char tmp ;

  {
#line 2
  len = 0U;
  {
#line 3
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3
    tmp = (char )*(in + len);
#line 3
    *(out + len) = tmp;
#line 3
    if (! tmp) {
#line 3
      goto while_break;
    }
#line 3
    len ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 4
  return (len);
}
}
#line 1 "/home/wheatley/newnew/temp/ngetty-1.1/splitmem.c"
unsigned int splitmem(char **v , char *s , char c ) 
{ 
  char **w ;
  unsigned int n ;
  char **tmp ;
  char **tmp___0 ;

  {
#line 2
  w = v;
#line 3
  n = 1U;
#line 5
  if (w) {
#line 5
    tmp = w;
#line 5
    w ++;
#line 5
    *tmp = s;
  }
  {
#line 6
  while (1) {
    while_continue: /* CIL Label */ ;
#line 6
    if (! *s) {
#line 6
      goto while_break;
    }
#line 7
    s ++;
#line 8
    if ((int )*(s + -1) != (int )c) {
#line 8
      goto while_continue;
    }
#line 9
    n ++;
#line 10
    if ((unsigned long )w == (unsigned long )((char **)0)) {
#line 10
      goto while_continue;
    }
#line 11
    tmp___0 = w;
#line 11
    w ++;
#line 11
    *tmp___0 = s;
#line 12
    *(s + -1) = (char)0;
  }
  while_break: /* CIL Label */ ;
  }
#line 14
  if (w) {
#line 14
    *w = (char *)0;
  }
#line 15
  return (n);
}
}
#line 551 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) execve)(char const   *__path ,
                                                                                               char * const  *__argv ,
                                                                                               char * const  *__envp ) ;
#line 603
extern  __attribute__((__noreturn__)) void _exit(int __status ) ;
#line 756
extern  __attribute__((__nothrow__)) __pid_t fork(void) ;
#line 125 "/usr/include/x86_64-linux-gnu/sys/wait.h"
extern __pid_t waitpid(__pid_t __pid , int *__stat_loc , int __options ) ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/fork_and_exec.c"
extern char **environ ;
#line 6 "/home/wheatley/newnew/temp/ngetty-1.1/fork_and_exec.c"
void fork_and_exec(char *line ) 
{ 
  char *qq[4] ;
  pid_t pid ;
  __pid_t tmp ;

  {
#line 7
  if (line) {
    {
#line 8
    qq[0] = (char *)"/bin/sh";
#line 8
    qq[1] = (char *)"-c";
#line 8
    qq[2] = line;
#line 8
    qq[3] = (char *)0;
#line 9
    tmp = fork();
#line 9
    pid = tmp;
    }
#line 10
    if (pid == -1) {
#line 10
      return;
    }
#line 11
    if (pid == 0) {
      {
#line 11
      execve((char const   *)qq[0], (char * const  *)(qq), (char * const  *)environ);
#line 11
      _exit(127);
      }
    }
    {
#line 12
    waitpid(pid, (int *)0, 0);
    }
  }
#line 14
  return;
}
}
#line 2 "/home/wheatley/newnew/temp/ngetty-1.1/fmt_ulong.c"
unsigned int fmt_ulong(char *s , unsigned long u ) 
{ 
  unsigned long tmp ;
  unsigned int len ;
  unsigned char c ;

  {
#line 2
  tmp = u;
#line 2
  len = 0U;
  {
#line 2
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2
    tmp /= 10UL;
#line 2
    len ++;
#line 2
    if (! tmp) {
#line 2
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 2
  if (s) {
#line 2
    s += len;
    {
#line 2
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 2
      c = (unsigned char )(u % 10UL);
#line 2
      s --;
#line 2
      *s = (char )((int )c + 48);
#line 2
      u /= 10UL;
#line 2
      if (! u) {
#line 2
        goto while_break___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 2
  return (len);
}
}
#line 366 "/usr/include/unistd.h"
extern ssize_t write(int __fd , void const   *__buf , size_t __n ) ;
#line 10 "/home/wheatley/newnew/temp/ngetty-1.1/str_defs.h"
void out_flush(void) ;
#line 11
void out_char(char ch ) ;
#line 12
void out_puts(char *s ) ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static char buf_space[256]  ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static int buf_pos  ;
#line 7 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
void out_flush(void) 
{ 


  {
  {
#line 8
  const_io((int (*)())(& write), 1, (void *)(buf_space), buf_pos);
#line 9
  buf_pos = 0;
  }
#line 10
  return;
}
}
#line 12 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
void out_char(char ch ) 
{ 


  {
#line 13
  if ((unsigned long )buf_pos == sizeof(buf_space)) {
    {
#line 13
    out_flush();
    }
  }
#line 14
  buf_space[buf_pos] = ch;
#line 15
  buf_pos ++;
#line 16
  return;
}
}
#line 18 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
void out_puts(char *s ) 
{ 


  {
  {
#line 19
  while (1) {
    while_continue: /* CIL Label */ ;
#line 19
    if (! *s) {
#line 19
      goto while_break;
    }
    {
#line 20
    out_char(*s);
#line 21
    s ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 23
  return;
}
}
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
static struct tm tm___0  ;
#line 334 "/usr/include/unistd.h"
extern  __attribute__((__nothrow__)) __off_t ( __attribute__((__leaf__)) lseek)(int __fd ,
                                                                                __off_t __offset ,
                                                                                int __whence ) ;
#line 6 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static unsigned char *T  ;
#line 7 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static int L  =    -1;
#line 8 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t left  ;
#line 8 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t right  ;
#line 8 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t tz  ;
#line 10 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t parse(unsigned char *x ) 
{ 


  {
#line 11
  return ((time_t )(((((int )*(x + 0) << 24) | ((int )*(x + 1) << 16)) | ((int )*(x + 2) << 8)) | (int )*(x + 3)));
}
}
#line 13 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t parse_localtime(time_t t ) 
{ 
  unsigned char *tmp ;
  unsigned char *x ;
  unsigned char tzh_typecnt ;
  int i ;
  int tzh_timecnt ;
  time_t tmp___0 ;
  time_t tmp___1 ;
  time_t tmp___2 ;

  {
#line 17
  if (! T) {
#line 17
    goto ready;
  } else
#line 17
  if (L < 44) {
#line 17
    goto ready;
  } else {
    {
#line 17
    tmp___0 = parse(T);
    }
#line 17
    if (tmp___0 != 1415211366L) {
#line 17
      goto ready;
    }
  }
  {
#line 18
  tmp___1 = parse(T + 32);
#line 18
  tzh_timecnt = (int )(tmp___1 & 4095L);
#line 19
  tmp___2 = parse(T + 36);
#line 19
  tzh_typecnt = (unsigned char )tmp___2;
#line 20
  i = 44 + 4 * tzh_timecnt;
  }
#line 21
  if ((i + tzh_timecnt) + 6 * (int )tzh_typecnt > L) {
#line 21
    goto ready;
  }
#line 23
  x = T + i;
#line 24
  tmp = x;
#line 25
  i = tzh_timecnt;
  {
#line 25
  while (1) {
    while_continue: /* CIL Label */ ;
#line 25
    if (! (0 < i)) {
#line 25
      goto while_break;
    }
    {
#line 26
    i --;
#line 27
    tmp -= 4;
#line 28
    left = parse(tmp);
    }
#line 29
    if (t < left) {
#line 30
      right = left;
#line 31
      goto __Cont;
    }
#line 33
    if ((int )*(x + i) >= (int )tzh_typecnt) {
#line 33
      goto ready;
    }
    {
#line 34
    tz = parse((x + tzh_timecnt) + 6 * (int )*(x + i));
    }
#line 35
    return (tz);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  ready: 
#line 38
  right = left;
#line 39
  return ((time_t )0);
}
}
#line 57 "/usr/include/x86_64-linux-gnu/sys/mman.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) mmap)(void *__addr ,
                                                                             size_t __len ,
                                                                             int __prot ,
                                                                             int __flags ,
                                                                             int __fd ,
                                                                             __off_t __offset ) ;
#line 69 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
time_t get_tz(time_t t ) 
{ 
  int fd ;
  char *map ;
  __off_t tmp ;
  void *tmp___0 ;
  time_t tmp___1 ;

  {
#line 71
  if (left <= t) {
#line 71
    if (t < right) {
#line 71
      return (tz);
    }
  }
#line 72
  if (! T) {
    {
#line 74
    fd = open("/etc/localtime", 0);
    }
#line 74
    if (fd >= 0) {
      {
#line 75
      tmp = lseek(fd, (__off_t )0, 2);
#line 75
      L = (int )tmp;
#line 76
      tmp___0 = mmap((void *)0, (size_t )L, 1, 1, fd, (__off_t )0);
#line 76
      map = (char *)tmp___0;
      }
#line 77
      if ((unsigned long )map == (unsigned long )((char *)-1)) {
#line 77
        map = (char *)0;
      }
      {
#line 78
      close(fd);
#line 79
      T = (unsigned char *)map;
      }
    }
  }
  {
#line 82
  tmp___1 = parse_localtime(t);
  }
#line 82
  return (tmp___1);
}
}
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static char buf_space___0[256]  ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static int buf_pos___0  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
static struct tm tm___1  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static char buf_space___1[256]  ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static int buf_pos___1  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
static struct tm tm___2  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static char buf_space___2[256]  ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static int buf_pos___2  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
static struct tm tm___3  ;
#line 6 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static unsigned char *T___0  ;
#line 7 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static int L___0  =    -1;
#line 8 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t left___0  ;
#line 8 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t right___0  ;
#line 8 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t tz___0  ;
#line 10 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t parse___0(unsigned char *x ) 
{ 


  {
#line 11
  return ((time_t )(((((int )*(x + 0) << 24) | ((int )*(x + 1) << 16)) | ((int )*(x + 2) << 8)) | (int )*(x + 3)));
}
}
#line 13 "/home/wheatley/newnew/temp/ngetty-1.1/tzmap.c"
static time_t parse_localtime___0(time_t t ) 
{ 
  unsigned char *tmp ;
  unsigned char *x ;
  unsigned char tzh_typecnt ;
  int i ;
  int tzh_timecnt ;
  time_t tmp___0 ;
  time_t tmp___1 ;
  time_t tmp___2 ;

  {
#line 17
  if (! T___0) {
#line 17
    goto ready;
  } else
#line 17
  if (L___0 < 44) {
#line 17
    goto ready;
  } else {
    {
#line 17
    tmp___0 = parse___0(T___0);
    }
#line 17
    if (tmp___0 != 1415211366L) {
#line 17
      goto ready;
    }
  }
  {
#line 18
  tmp___1 = parse___0(T___0 + 32);
#line 18
  tzh_timecnt = (int )(tmp___1 & 4095L);
#line 19
  tmp___2 = parse___0(T___0 + 36);
#line 19
  tzh_typecnt = (unsigned char )tmp___2;
#line 20
  i = 44 + 4 * tzh_timecnt;
  }
#line 21
  if ((i + tzh_timecnt) + 6 * (int )tzh_typecnt > L___0) {
#line 21
    goto ready;
  }
#line 23
  x = T___0 + i;
#line 24
  tmp = x;
#line 25
  i = tzh_timecnt;
  {
#line 25
  while (1) {
    while_continue: /* CIL Label */ ;
#line 25
    if (! (0 < i)) {
#line 25
      goto while_break;
    }
    {
#line 26
    i --;
#line 27
    tmp -= 4;
#line 28
    left___0 = parse___0(tmp);
    }
#line 29
    if (t < left___0) {
#line 30
      right___0 = left___0;
#line 31
      goto __Cont;
    }
#line 33
    if ((int )*(x + i) >= (int )tzh_typecnt) {
#line 33
      goto ready;
    }
    {
#line 34
    tz___0 = parse___0((x + tzh_timecnt) + 6 * (int )*(x + i));
    }
#line 35
    return (tz___0);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
  ready: 
#line 38
  right___0 = left___0;
#line 39
  return ((time_t )0);
}
}
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static char buf_space___3[256]  ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static int buf_pos___3  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
static struct tm tm___4  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static char buf_space___4[256]  ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static int buf_pos___4  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/nv_gmtime.c"
static struct tm tm___5  ;
#line 4 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static char buf_space___5[256]  ;
#line 5 "/home/wheatley/newnew/temp/ngetty-1.1/out_put.c"
static int buf_pos___5  ;
