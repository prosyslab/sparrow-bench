/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 44
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 144 "/usr/include/libio.h"
struct _IO_FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 170 "/usr/include/stdio.h"
extern struct _IO_FILE *stderr ;
#line 180
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) rename)(char const   *__old ,
                                                                             char const   *__new ) ;
#line 237
extern int fclose(FILE *__stream ) ;
#line 272
extern FILE *fopen(char const   * __restrict  __filename , char const   * __restrict  __modes ) ;
#line 356
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 362
extern int printf(char const   * __restrict  __format  , ...) ;
#line 364
extern  __attribute__((__nothrow__)) int sprintf(char * __restrict  __s , char const   * __restrict  __format 
                                                 , ...) ;
#line 538
extern int getchar(void) ;
#line 622
extern char *fgets(char * __restrict  __s , int __n , FILE * __restrict  __stream ) ;
#line 709
extern size_t fread(void * __restrict  __ptr , size_t __size , size_t __n , FILE * __restrict  __stream ) ;
#line 715
extern size_t fwrite(void const   * __restrict  __ptr , size_t __size , size_t __n ,
                     FILE * __restrict  __s ) ;
#line 749
extern int fseek(FILE *__stream , long __off , int __whence ) ;
#line 846
extern void perror(char const   *__s ) ;
#line 543 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 564
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) getenv)(char const   *__name ) ;
#line 71 "/usr/include/getopt.h"
extern int optind ;
#line 150
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) getopt)(int ___argc ,
                                                                             char * const  *___argv ,
                                                                             char const   *__shortopts ) ;
#line 129 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcpy)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 132
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncpy)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 137
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcat)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 140
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncat)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 144
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcmp)(char const   *__s1 ,
                                                                                               char const   *__s2 )  __attribute__((__pure__)) ;
#line 399
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1), __leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 19 "/home/wheatley/newnew/temp/mp3rename-0.6/mp3rename.c"
void pad(char *string , int length ) ;
#line 20
void display_help(void) ;
#line 21
void buildtag(char *buf , char *title , char *artist , char *album , char *year ,
              char *comment , char *genre ) ;
#line 22
void set_filename(int argc , char **argv ) ;
#line 23
void rtrim(char *astring ) ;
#line 25 "/home/wheatley/newnew/temp/mp3rename-0.6/mp3rename.c"
int main(int argc , char **argv ) 
{ 
  FILE *fp ;
  int verbose ;
  int forced ;
  int burn ;
  int info ;
  int all ;
  int padtrack ;
  unsigned char sig[3] ;
  char genre[1] ;
  char input_char ;
  int i ;
  int plaatsen ;
  int ch ;
  int p ;
  char filenamelook[100] ;
  char str[100] ;
  char *tmp ;
  char title[31] ;
  unsigned int tmp___0 ;
  char artist[31] ;
  unsigned int tmp___1 ;
  char album[31] ;
  unsigned int tmp___2 ;
  char year[5] ;
  unsigned int tmp___3 ;
  char comment[31] ;
  unsigned int tmp___4 ;
  char fbuf[4] ;
  char newfilename[160] ;
  unsigned int tmp___5 ;
  char nieuw[150] ;
  unsigned int tmp___6 ;
  char dir[150] ;
  unsigned int tmp___7 ;
  char dirsource[200] ;
  char fullline[228] ;
  unsigned int tmp___8 ;
  char burnname[29] ;
  unsigned int tmp___9 ;
  char track ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  size_t tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;
  char tmp___22[100] ;
  char tmp___23[100] ;
  size_t tmp___24 ;
  size_t tmp___25 ;
  size_t tmp___26 ;
  int tmp___27 ;

  {
#line 28
  verbose = 0;
#line 28
  forced = 0;
#line 28
  burn = 0;
#line 28
  info = 0;
#line 28
  all = 0;
#line 28
  padtrack = 0;
#line 32
  i = 0;
#line 32
  plaatsen = 0;
#line 38
  if (argc < 2) {
    {
#line 40
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Mp3rename\n\nusage: [-vfhsbia] [file ...]\n\nUse \'mp3rename -h\' for a usage summary\n\n");
    }
#line 42
    return (0);
  }
  {
#line 47
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 47
    ch = getopt(argc, (char * const  *)argv, "vfhsbia");
    }
#line 47
    if (! (ch != -1)) {
#line 47
      goto while_break;
    }
    {
#line 50
    if (ch == 118) {
#line 50
      goto case_118;
    }
#line 53
    if (ch == 102) {
#line 53
      goto case_102;
    }
#line 56
    if (ch == 104) {
#line 56
      goto case_104;
    }
#line 59
    if (ch == 115) {
#line 59
      goto case_115;
    }
#line 62
    if (ch == 98) {
#line 62
      goto case_98;
    }
#line 65
    if (ch == 105) {
#line 65
      goto case_105;
    }
#line 68
    if (ch == 97) {
#line 68
      goto case_97;
    }
#line 71
    if (ch == 112) {
#line 71
      goto case_112;
    }
#line 74
    goto switch_default;
    case_118: /* CIL Label */ 
#line 51
    verbose = 1;
#line 52
    goto switch_break;
    case_102: /* CIL Label */ 
#line 54
    forced = 1;
#line 55
    goto switch_break;
    case_104: /* CIL Label */ 
    {
#line 57
    display_help();
#line 58
    exit(1);
    }
    case_115: /* CIL Label */ 
    {
#line 60
    set_filename(argc, argv);
#line 61
    exit(1);
    }
    case_98: /* CIL Label */ 
#line 63
    burn = 1;
#line 64
    goto switch_break;
    case_105: /* CIL Label */ 
#line 66
    info = 1;
#line 67
    goto switch_break;
    case_97: /* CIL Label */ 
#line 69
    all = 1;
#line 70
    goto switch_break;
    case_112: /* CIL Label */ 
#line 72
    padtrack = 1;
#line 73
    goto switch_break;
    switch_default: /* CIL Label */ 
    {
#line 75
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Mp3rename\n\nusage: [-vfhsbia] [file ...]\n\nUse \'mp3rename -h\' for a usage summary\n\n");
#line 76
    exit(1);
    }
    switch_break: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 78
  argv += optind;
#line 80
  if (info == 1) {
#line 80
    if (forced == 1) {
      {
#line 82
      printf((char const   */* __restrict  */)"Info modus can not be used with other arguments.\n\n");
#line 83
      exit(1);
      }
    } else
#line 80
    if (verbose == 1) {
      {
#line 82
      printf((char const   */* __restrict  */)"Info modus can not be used with other arguments.\n\n");
#line 83
      exit(1);
      }
    }
  }
  {
#line 85
  tmp = getenv("HOME");
#line 85
  sprintf((char */* __restrict  */)(str), (char const   */* __restrict  */)"%s/.mp3rename",
          tmp);
#line 87
  fp = fopen((char const   */* __restrict  */)(str), (char const   */* __restrict  */)"r");
  }
#line 87
  if (fp) {
    {
#line 93
    fgets((char */* __restrict  */)(filenamelook), 100, (FILE */* __restrict  */)fp);
    }
  } else {
    {
#line 89
    sprintf((char */* __restrict  */)(filenamelook), (char const   */* __restrict  */)"(&a)-&t");
#line 90
    printf((char const   */* __restrict  */)"Using default look, please use the -s option to set your own look\n");
    }
  }
#line 95
  if (burn != 1) {
    {
#line 96
    strcat((char */* __restrict  */)(filenamelook), (char const   */* __restrict  */)".mp3");
    }
  }
  {
#line 98
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 99
    title[0] = (char )'\000';
#line 99
    tmp___0 = 1U;
    {
#line 99
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 99
      if (tmp___0 >= 31U) {
#line 99
        goto while_break___1;
      }
#line 99
      title[tmp___0] = (char)0;
#line 99
      tmp___0 ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 99
    artist[0] = (char )'\000';
#line 99
    tmp___1 = 1U;
    {
#line 99
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 99
      if (tmp___1 >= 31U) {
#line 99
        goto while_break___2;
      }
#line 99
      artist[tmp___1] = (char)0;
#line 99
      tmp___1 ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 99
    album[0] = (char )'\000';
#line 99
    tmp___2 = 1U;
    {
#line 99
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 99
      if (tmp___2 >= 31U) {
#line 99
        goto while_break___3;
      }
#line 99
      album[tmp___2] = (char)0;
#line 99
      tmp___2 ++;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 99
    year[0] = (char )'\000';
#line 99
    tmp___3 = 1U;
    {
#line 99
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 99
      if (tmp___3 >= 5U) {
#line 99
        goto while_break___4;
      }
#line 99
      year[tmp___3] = (char)0;
#line 99
      tmp___3 ++;
    }
    while_break___4: /* CIL Label */ ;
    }
#line 99
    comment[0] = (char )'\000';
#line 99
    tmp___4 = 1U;
    {
#line 99
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 99
      if (tmp___4 >= 31U) {
#line 99
        goto while_break___5;
      }
#line 99
      comment[tmp___4] = (char)0;
#line 99
      tmp___4 ++;
    }
    while_break___5: /* CIL Label */ ;
    }
#line 99
    newfilename[0] = (char )'\000';
#line 99
    tmp___5 = 1U;
    {
#line 99
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 99
      if (tmp___5 >= 160U) {
#line 99
        goto while_break___6;
      }
#line 99
      newfilename[tmp___5] = (char)0;
#line 99
      tmp___5 ++;
    }
    while_break___6: /* CIL Label */ ;
    }
#line 99
    nieuw[0] = (char )'\000';
#line 99
    tmp___6 = 1U;
    {
#line 99
    while (1) {
      while_continue___7: /* CIL Label */ ;
#line 99
      if (tmp___6 >= 150U) {
#line 99
        goto while_break___7;
      }
#line 99
      nieuw[tmp___6] = (char)0;
#line 99
      tmp___6 ++;
    }
    while_break___7: /* CIL Label */ ;
    }
#line 99
    dir[0] = (char )'\000';
#line 99
    tmp___7 = 1U;
    {
#line 99
    while (1) {
      while_continue___8: /* CIL Label */ ;
#line 99
      if (tmp___7 >= 150U) {
#line 99
        goto while_break___8;
      }
#line 99
      dir[tmp___7] = (char)0;
#line 99
      tmp___7 ++;
    }
    while_break___8: /* CIL Label */ ;
    }
#line 99
    fullline[0] = (char )'\000';
#line 99
    tmp___8 = 1U;
    {
#line 99
    while (1) {
      while_continue___9: /* CIL Label */ ;
#line 99
      if (tmp___8 >= 228U) {
#line 99
        goto while_break___9;
      }
#line 99
      fullline[tmp___8] = (char)0;
#line 99
      tmp___8 ++;
    }
    while_break___9: /* CIL Label */ ;
    }
#line 99
    burnname[0] = (char )'\000';
#line 99
    tmp___9 = 1U;
    {
#line 99
    while (1) {
      while_continue___10: /* CIL Label */ ;
#line 99
      if (tmp___9 >= 29U) {
#line 99
        goto while_break___10;
      }
#line 99
      burnname[tmp___9] = (char)0;
#line 99
      tmp___9 ++;
    }
    while_break___10: /* CIL Label */ ;
    }
    {
#line 100
    plaatsen = 0;
#line 102
    fp = fopen((char const   */* __restrict  */)*argv, (char const   */* __restrict  */)"rb+");
    }
#line 102
    if (! fp) {
      {
#line 104
      perror("Error opening file");
#line 105
      argv ++;
      }
#line 106
      goto __Cont;
    }
    {
#line 111
    fread((void */* __restrict  */)(sig), sizeof(sig), (size_t )1, (FILE */* __restrict  */)fp);
    }
#line 113
    if ((int )sig[0] != 73) {
#line 113
      goto _L;
    } else
#line 113
    if ((int )sig[1] != 68) {
#line 113
      goto _L;
    } else
#line 113
    if ((int )sig[2] != 51) {
      _L: /* CIL Label */ 
#line 114
      sig[0] = (unsigned char )((int )sig[0] & 255);
#line 115
      sig[1] = (unsigned char )((int )sig[1] & 240);
#line 116
      if ((int )sig[0] == 255) {
#line 116
        if (! ((int )sig[1] == 240)) {
          {
#line 118
          fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%s is not an MP3 file!\n",
                  *argv);
#line 119
          fclose(fp);
#line 120
          argv ++;
          }
#line 121
          goto __Cont;
        }
      } else {
        {
#line 118
        fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%s is not an MP3 file!\n",
                *argv);
#line 119
        fclose(fp);
#line 120
        argv ++;
        }
#line 121
        goto __Cont;
      }
    }
    {
#line 126
    tmp___10 = fseek(fp, -128L, 2);
    }
#line 126
    if (tmp___10) {
      {
#line 128
      fclose(fp);
#line 129
      argv ++;
      }
#line 130
      goto __Cont;
    }
    {
#line 134
    fread((void */* __restrict  */)(fbuf), (size_t )1, (size_t )3, (FILE */* __restrict  */)fp);
#line 134
    fbuf[3] = (char )'\000';
#line 135
    tmp___21 = strcmp("TAG", (char const   *)(fbuf));
    }
#line 135
    if (tmp___21) {
      _L___1: /* CIL Label */ 
      {
#line 155
      tmp___11 = strcmp("TAG", (char const   *)(fbuf));
      }
#line 155
      if (tmp___11) {
        {
#line 170
        fseek(fp, 0L, 2);
        }
      } else {
#line 157
        if (forced) {
          {
#line 159
          fseek(fp, -125L, 2);
#line 160
          fread((void */* __restrict  */)(title), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
#line 160
          title[30] = (char )'\000';
#line 161
          fread((void */* __restrict  */)(artist), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
#line 161
          artist[30] = (char )'\000';
#line 162
          fread((void */* __restrict  */)(album), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
#line 162
          album[30] = (char )'\000';
#line 163
          fread((void */* __restrict  */)(year), (size_t )1, (size_t )4, (FILE */* __restrict  */)fp);
#line 163
          year[4] = (char )'\000';
#line 164
          fread((void */* __restrict  */)(comment), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
#line 164
          comment[30] = (char )'\000';
#line 165
          fread((void */* __restrict  */)(genre), (size_t )1, (size_t )1, (FILE */* __restrict  */)fp);
          }
        }
        {
#line 167
        fseek(fp, -128L, 2);
        }
      }
#line 171
      if (verbose) {
#line 171
        goto _L___0;
      } else
#line 171
      if (forced) {
        _L___0: /* CIL Label */ 
#line 173
        if (verbose) {
          {
#line 174
          printf((char const   */* __restrict  */)"%s hasen\'t got a id3 tag. \n",
                 *argv);
          }
        } else {
          {
#line 176
          printf((char const   */* __restrict  */)"%s:\n", *argv);
          }
        }
#line 177
        if (! all) {
#line 179
          i = 0;
          {
#line 179
          while (1) {
            while_continue___11: /* CIL Label */ ;
            {
#line 179
            tmp___16 = strlen((char const   *)(filenamelook));
            }
#line 179
            if (! ((size_t )i != tmp___16)) {
#line 179
              goto while_break___11;
            }
#line 181
            p = 0;
#line 182
            if ((int )filenamelook[i] == 38) {
              {
#line 186
              if ((int )filenamelook[i + 1] == 97) {
#line 186
                goto case_97___0;
              }
#line 199
              if ((int )filenamelook[i + 1] == 116) {
#line 199
                goto case_116;
              }
#line 212
              if ((int )filenamelook[i + 1] == 98) {
#line 212
                goto case_98___0;
              }
#line 225
              if ((int )filenamelook[i + 1] == 121) {
#line 225
                goto case_121;
              }
#line 238
              goto switch_default___0;
              case_97___0: /* CIL Label */ 
              {
#line 187
              printf((char const   */* __restrict  */)"Please enter the artist\'s name.\n");
              }
              {
#line 188
              while (1) {
                while_continue___12: /* CIL Label */ ;
                {
#line 190
                tmp___12 = getchar();
#line 190
                input_char = (char )tmp___12;
                }
#line 191
                if ((int )input_char != 10) {
#line 191
                  if (p == 0) {
                    {
#line 192
                    strcpy((char */* __restrict  */)(artist), (char const   */* __restrict  */)"");
                    }
                  }
                }
#line 193
                if ((int )input_char != 10) {
#line 193
                  if ((int )input_char != -1) {
                    {
#line 194
                    sprintf((char */* __restrict  */)(artist), (char const   */* __restrict  */)"%s%c",
                            artist, (int )input_char);
                    }
                  }
                }
#line 195
                p ++;
#line 188
                if (! ((int )input_char != 10)) {
#line 188
                  goto while_break___12;
                }
              }
              while_break___12: /* CIL Label */ ;
              }
#line 197
              i ++;
#line 198
              goto switch_break___0;
              case_116: /* CIL Label */ 
              {
#line 200
              printf((char const   */* __restrict  */)"Please enter the title.\n");
              }
              {
#line 201
              while (1) {
                while_continue___13: /* CIL Label */ ;
                {
#line 203
                tmp___13 = getchar();
#line 203
                input_char = (char )tmp___13;
                }
#line 204
                if ((int )input_char != 10) {
#line 204
                  if (p == 0) {
                    {
#line 205
                    strcpy((char */* __restrict  */)(title), (char const   */* __restrict  */)"");
                    }
                  }
                }
#line 206
                if ((int )input_char != 10) {
#line 206
                  if ((int )input_char != -1) {
                    {
#line 207
                    sprintf((char */* __restrict  */)(title), (char const   */* __restrict  */)"%s%c",
                            title, (int )input_char);
                    }
                  }
                }
#line 208
                p ++;
#line 201
                if (! ((int )input_char != 10)) {
#line 201
                  goto while_break___13;
                }
              }
              while_break___13: /* CIL Label */ ;
              }
#line 210
              i ++;
#line 211
              goto switch_break___0;
              case_98___0: /* CIL Label */ 
              {
#line 213
              printf((char const   */* __restrict  */)"Please enter the album.\n");
              }
              {
#line 214
              while (1) {
                while_continue___14: /* CIL Label */ ;
                {
#line 216
                tmp___14 = getchar();
#line 216
                input_char = (char )tmp___14;
                }
#line 217
                if ((int )input_char != 10) {
#line 217
                  if (p == 0) {
                    {
#line 218
                    strcpy((char */* __restrict  */)(album), (char const   */* __restrict  */)"");
                    }
                  }
                }
#line 219
                if ((int )input_char != 10) {
#line 219
                  if ((int )input_char != -1) {
                    {
#line 220
                    sprintf((char */* __restrict  */)(album), (char const   */* __restrict  */)"%s%c",
                            album, (int )input_char);
                    }
                  }
                }
#line 221
                p ++;
#line 214
                if (! ((int )input_char != 10)) {
#line 214
                  goto while_break___14;
                }
              }
              while_break___14: /* CIL Label */ ;
              }
#line 223
              i ++;
#line 224
              goto switch_break___0;
              case_121: /* CIL Label */ 
              {
#line 226
              printf((char const   */* __restrict  */)"Please enter the year.\n");
              }
              {
#line 227
              while (1) {
                while_continue___15: /* CIL Label */ ;
                {
#line 229
                tmp___15 = getchar();
#line 229
                input_char = (char )tmp___15;
                }
#line 230
                if ((int )input_char != 10) {
#line 230
                  if (p == 0) {
                    {
#line 231
                    strcpy((char */* __restrict  */)(year), (char const   */* __restrict  */)"");
                    }
                  }
                }
#line 232
                if ((int )input_char != 10) {
#line 232
                  if ((int )input_char != -1) {
                    {
#line 233
                    sprintf((char */* __restrict  */)(year), (char const   */* __restrict  */)"%s%c",
                            year, (int )input_char);
                    }
                  }
                }
#line 234
                p ++;
#line 227
                if (! ((int )input_char != 10)) {
#line 227
                  goto while_break___15;
                }
              }
              while_break___15: /* CIL Label */ ;
              }
#line 236
              i ++;
#line 237
              goto switch_break___0;
              switch_default___0: /* CIL Label */ 
              {
#line 239
              printf((char const   */* __restrict  */)"Illegal char in config file please use the option \'-s help\' for more information");
#line 240
              exit(1);
              }
              switch_break___0: /* CIL Label */ ;
              }
            }
#line 179
            i ++;
          }
          while_break___11: /* CIL Label */ ;
          }
        } else {
          {
#line 247
          p = 0;
#line 248
          printf((char const   */* __restrict  */)"Please enter the artist\'s name.\n");
          }
          {
#line 249
          while (1) {
            while_continue___16: /* CIL Label */ ;
            {
#line 251
            tmp___17 = getchar();
#line 251
            input_char = (char )tmp___17;
            }
#line 252
            if ((int )input_char != 10) {
#line 252
              if (p == 0) {
                {
#line 253
                strcpy((char */* __restrict  */)(artist), (char const   */* __restrict  */)"");
                }
              }
            }
#line 254
            if ((int )input_char != 10) {
#line 254
              if ((int )input_char != -1) {
                {
#line 255
                sprintf((char */* __restrict  */)(artist), (char const   */* __restrict  */)"%s%c",
                        artist, (int )input_char);
                }
              }
            }
#line 256
            p ++;
#line 249
            if (! ((int )input_char != 10)) {
#line 249
              goto while_break___16;
            }
          }
          while_break___16: /* CIL Label */ ;
          }
          {
#line 258
          p = 0;
#line 259
          printf((char const   */* __restrict  */)"Please enter the title.\n");
          }
          {
#line 260
          while (1) {
            while_continue___17: /* CIL Label */ ;
            {
#line 262
            tmp___18 = getchar();
#line 262
            input_char = (char )tmp___18;
            }
#line 263
            if ((int )input_char != 10) {
#line 263
              if (p == 0) {
                {
#line 264
                strcpy((char */* __restrict  */)(title), (char const   */* __restrict  */)"");
                }
              }
            }
#line 265
            if ((int )input_char != 10) {
#line 265
              if ((int )input_char != -1) {
                {
#line 266
                sprintf((char */* __restrict  */)(title), (char const   */* __restrict  */)"%s%c",
                        title, (int )input_char);
                }
              }
            }
#line 267
            p ++;
#line 260
            if (! ((int )input_char != 10)) {
#line 260
              goto while_break___17;
            }
          }
          while_break___17: /* CIL Label */ ;
          }
          {
#line 269
          i ++;
#line 270
          p = 0;
#line 271
          printf((char const   */* __restrict  */)"Please enter the album.\n");
          }
          {
#line 272
          while (1) {
            while_continue___18: /* CIL Label */ ;
            {
#line 274
            tmp___19 = getchar();
#line 274
            input_char = (char )tmp___19;
            }
#line 275
            if ((int )input_char != 10) {
#line 275
              if (p == 0) {
                {
#line 276
                strcpy((char */* __restrict  */)(album), (char const   */* __restrict  */)"");
                }
              }
            }
#line 277
            if ((int )input_char != 10) {
#line 277
              if ((int )input_char != -1) {
                {
#line 278
                sprintf((char */* __restrict  */)(album), (char const   */* __restrict  */)"%s%c",
                        album, (int )input_char);
                }
              }
            }
#line 279
            p ++;
#line 272
            if (! ((int )input_char != 10)) {
#line 272
              goto while_break___18;
            }
          }
          while_break___18: /* CIL Label */ ;
          }
          {
#line 281
          p = 0;
#line 282
          printf((char const   */* __restrict  */)"Please enter the year.\n");
          }
          {
#line 283
          while (1) {
            while_continue___19: /* CIL Label */ ;
            {
#line 285
            tmp___20 = getchar();
#line 285
            input_char = (char )tmp___20;
            }
#line 286
            if ((int )input_char != 10) {
#line 286
              if (p == 0) {
                {
#line 287
                strcpy((char */* __restrict  */)(year), (char const   */* __restrict  */)"");
                }
              }
            }
#line 288
            if ((int )input_char != 10) {
#line 288
              if ((int )input_char != -1) {
                {
#line 289
                sprintf((char */* __restrict  */)(year), (char const   */* __restrict  */)"%s%c",
                        year, (int )input_char);
                }
              }
            }
#line 290
            p ++;
#line 283
            if (! ((int )input_char != 10)) {
#line 283
              goto while_break___19;
            }
          }
          while_break___19: /* CIL Label */ ;
          }
        }
      } else {
        {
#line 296
        printf((char const   */* __restrict  */)"%s hasen\'t got a id3 tag\n", *argv);
#line 297
        fclose(fp);
#line 298
        argv ++;
        }
#line 299
        goto __Cont;
      }
    } else
#line 135
    if (! forced) {
      {
#line 137
      fseek(fp, -125L, 2);
#line 138
      fread((void */* __restrict  */)(title), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
#line 138
      title[30] = (char )'\000';
#line 139
      fread((void */* __restrict  */)(artist), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
#line 139
      artist[30] = (char )'\000';
#line 140
      fread((void */* __restrict  */)(album), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
#line 140
      album[30] = (char )'\000';
#line 141
      fread((void */* __restrict  */)(year), (size_t )1, (size_t )4, (FILE */* __restrict  */)fp);
#line 141
      year[4] = (char )'\000';
#line 142
      fread((void */* __restrict  */)(comment), (size_t )1, (size_t )30, (FILE */* __restrict  */)fp);
      }
#line 143
      if ((int )comment[28] == 0) {
#line 143
        if ((int )comment[29] != 0) {
#line 145
          track = comment[29];
        } else {
#line 148
          track = (char)0;
        }
      } else {
#line 148
        track = (char)0;
      }
      {
#line 149
      comment[30] = (char )'\000';
#line 150
      fread((void */* __restrict  */)(genre), (size_t )1, (size_t )1, (FILE */* __restrict  */)fp);
#line 151
      fseek(fp, -128L, 2);
      }
    } else {
#line 135
      goto _L___1;
    }
#line 304
    if (info == 1) {
      {
#line 306
      printf((char const   */* __restrict  */)"Artist : %s\n", artist);
#line 307
      printf((char const   */* __restrict  */)"Title : %s\n", title);
      }
#line 308
      if ((int )track != 0) {
#line 310
        if ((int )track < 10) {
#line 310
          if (padtrack == 1) {
            {
#line 312
            printf((char const   */* __restrict  */)"Track : 0%i\n", (int )track);
            }
          } else {
            {
#line 316
            printf((char const   */* __restrict  */)"Track : %i\n", (int )track);
            }
          }
        } else {
          {
#line 316
          printf((char const   */* __restrict  */)"Track : %i\n", (int )track);
          }
        }
      }
      {
#line 319
      printf((char const   */* __restrict  */)"Album : %s\n", album);
#line 320
      printf((char const   */* __restrict  */)"Year : %s\n\n", year);
#line 321
      argv ++;
      }
#line 322
      goto __Cont;
    }
    {
#line 326
    rtrim((char *)(& artist));
#line 327
    rtrim((char *)(& title));
#line 328
    rtrim((char *)(& album));
#line 329
    rtrim((char *)(& year));
#line 333
    i = 0;
    }
    {
#line 333
    while (1) {
      while_continue___20: /* CIL Label */ ;
      {
#line 333
      tmp___24 = strlen((char const   *)(filenamelook));
      }
#line 333
      if (! ((size_t )i != tmp___24)) {
#line 333
        goto while_break___20;
      }
#line 335
      if ((int )filenamelook[i] == 38) {
        {
#line 340
        if ((int )filenamelook[i + 1] == 97) {
#line 340
          goto case_97___1;
        }
#line 345
        if ((int )filenamelook[i + 1] == 116) {
#line 345
          goto case_116___0;
        }
#line 350
        if ((int )filenamelook[i + 1] == 98) {
#line 350
          goto case_98___1;
        }
#line 355
        if ((int )filenamelook[i + 1] == 121) {
#line 355
          goto case_121___0;
        }
#line 360
        if ((int )filenamelook[i + 1] == 107) {
#line 360
          goto case_107;
        }
#line 372
        goto switch_default___1;
        case_97___1: /* CIL Label */ 
        {
#line 341
        sprintf((char */* __restrict  */)(tmp___22), (char const   */* __restrict  */)"%s%s",
                newfilename, artist);
#line 342
        strcpy((char */* __restrict  */)(newfilename), (char const   */* __restrict  */)(tmp___22));
#line 343
        i ++;
        }
#line 344
        goto switch_break___1;
        case_116___0: /* CIL Label */ 
        {
#line 346
        sprintf((char */* __restrict  */)(tmp___22), (char const   */* __restrict  */)"%s%s",
                newfilename, title);
#line 347
        strcpy((char */* __restrict  */)(newfilename), (char const   */* __restrict  */)(tmp___22));
#line 348
        i ++;
        }
#line 349
        goto switch_break___1;
        case_98___1: /* CIL Label */ 
        {
#line 351
        sprintf((char */* __restrict  */)(tmp___22), (char const   */* __restrict  */)"%s%s",
                newfilename, album);
#line 352
        strcpy((char */* __restrict  */)(newfilename), (char const   */* __restrict  */)(tmp___22));
#line 353
        i ++;
        }
#line 354
        goto switch_break___1;
        case_121___0: /* CIL Label */ 
        {
#line 356
        sprintf((char */* __restrict  */)(tmp___22), (char const   */* __restrict  */)"%s%s",
                newfilename, year);
#line 357
        strcpy((char */* __restrict  */)(newfilename), (char const   */* __restrict  */)(tmp___22));
#line 358
        i ++;
        }
#line 359
        goto switch_break___1;
        case_107: /* CIL Label */ 
#line 361
        if ((int )track < 10) {
#line 361
          if (padtrack == 1) {
            {
#line 363
            sprintf((char */* __restrict  */)(tmp___22), (char const   */* __restrict  */)"%s0%d",
                    newfilename, (int )track);
            }
          } else {
            {
#line 367
            sprintf((char */* __restrict  */)(tmp___22), (char const   */* __restrict  */)"%s%d",
                    newfilename, (int )track);
            }
          }
        } else {
          {
#line 367
          sprintf((char */* __restrict  */)(tmp___22), (char const   */* __restrict  */)"%s%d",
                  newfilename, (int )track);
          }
        }
        {
#line 369
        strcpy((char */* __restrict  */)(newfilename), (char const   */* __restrict  */)(tmp___22));
#line 370
        i ++;
        }
#line 371
        goto switch_break___1;
        switch_default___1: /* CIL Label */ 
        {
#line 373
        printf((char const   */* __restrict  */)"Illegal char in config file please use the option \'-s help\' for more information\n");
#line 374
        exit(1);
        }
        switch_break___1: /* CIL Label */ ;
        }
      } else {
        {
#line 381
        sprintf((char */* __restrict  */)(tmp___23), (char const   */* __restrict  */)"%s%c",
                newfilename, (int )filenamelook[i]);
#line 382
        strcpy((char */* __restrict  */)(newfilename), (char const   */* __restrict  */)(tmp___23));
        }
      }
#line 333
      i ++;
    }
    while_break___20: /* CIL Label */ ;
    }
    {
#line 388
    sprintf((char */* __restrict  */)(dirsource), (char const   */* __restrict  */)"%s",
            *argv);
#line 389
    tmp___25 = strlen((char const   *)(dirsource));
#line 389
    i = (int )(tmp___25 + 1UL);
    }
    {
#line 390
    while (1) {
      while_continue___21: /* CIL Label */ ;
#line 390
      if (! (i > -1)) {
#line 390
        goto while_break___21;
      }
#line 392
      if ((int )dirsource[i] == 47) {
#line 393
        plaatsen = 1;
      }
#line 394
      if (plaatsen) {
#line 395
        dir[i] = dirsource[i];
      } else {
#line 397
        dir[i] = (char )'\000';
      }
#line 398
      i --;
    }
    while_break___21: /* CIL Label */ ;
    }
#line 403
    if (forced) {
      {
#line 405
      buildtag(fullline, title, artist, album, year, comment, genre);
#line 406
      fwrite((void const   */* __restrict  */)(fullline), (size_t )1, (size_t )128,
             (FILE */* __restrict  */)fp);
      }
    } else
#line 403
    if (all) {
      {
#line 405
      buildtag(fullline, title, artist, album, year, comment, genre);
#line 406
      fwrite((void const   */* __restrict  */)(fullline), (size_t )1, (size_t )128,
             (FILE */* __restrict  */)fp);
      }
    }
    {
#line 408
    fclose(fp);
#line 411
    i = 0;
    }
    {
#line 411
    while (1) {
      while_continue___22: /* CIL Label */ ;
      {
#line 411
      tmp___26 = strlen((char const   *)(newfilename));
      }
#line 411
      if (! ((size_t )i < tmp___26)) {
#line 411
        goto while_break___22;
      }
      {
#line 415
      if ((int )newfilename[i] == 60) {
#line 415
        goto case_60;
      }
#line 417
      if ((int )newfilename[i] == 62) {
#line 417
        goto case_62;
      }
#line 419
      if ((int )newfilename[i] == 124) {
#line 419
        goto case_124;
      }
#line 421
      if ((int )newfilename[i] == 47) {
#line 421
        goto case_47;
      }
#line 423
      if ((int )newfilename[i] == 92) {
#line 423
        goto case_92;
      }
#line 425
      if ((int )newfilename[i] == 42) {
#line 425
        goto case_42;
      }
#line 427
      if ((int )newfilename[i] == 63) {
#line 427
        goto case_63;
      }
#line 429
      if ((int )newfilename[i] == 58) {
#line 429
        goto case_58;
      }
#line 431
      if ((int )newfilename[i] == 34) {
#line 431
        goto case_34;
      }
#line 433
      goto switch_default___2;
      case_60: /* CIL Label */ 
#line 415
      newfilename[i] = (char )'[';
#line 416
      goto switch_break___2;
      case_62: /* CIL Label */ 
#line 417
      newfilename[i] = (char )']';
#line 418
      goto switch_break___2;
      case_124: /* CIL Label */ 
#line 419
      newfilename[i] = (char )'_';
#line 420
      goto switch_break___2;
      case_47: /* CIL Label */ 
#line 421
      newfilename[i] = (char )'-';
#line 422
      goto switch_break___2;
      case_92: /* CIL Label */ 
#line 423
      newfilename[i] = (char )'-';
#line 424
      goto switch_break___2;
      case_42: /* CIL Label */ 
#line 425
      newfilename[i] = (char )'_';
#line 426
      goto switch_break___2;
      case_63: /* CIL Label */ 
#line 427
      newfilename[i] = (char )'_';
#line 428
      goto switch_break___2;
      case_58: /* CIL Label */ 
#line 429
      newfilename[i] = (char )';';
#line 430
      goto switch_break___2;
      case_34: /* CIL Label */ 
#line 431
      newfilename[i] = (char )'-';
#line 432
      goto switch_break___2;
      switch_default___2: /* CIL Label */ 
#line 433
      goto switch_break___2;
      switch_break___2: /* CIL Label */ ;
      }
#line 411
      i ++;
    }
    while_break___22: /* CIL Label */ ;
    }
#line 438
    if (burn == 1) {
      {
#line 440
      strncpy((char */* __restrict  */)(burnname), (char const   */* __restrict  */)(newfilename),
              sizeof(burnname) - 1UL);
#line 441
      sprintf((char */* __restrict  */)(nieuw), (char const   */* __restrict  */)"%s%s.mp3",
              dir, burnname);
      }
    } else {
      {
#line 445
      sprintf((char */* __restrict  */)(nieuw), (char const   */* __restrict  */)"%s%s",
              dir, newfilename);
      }
    }
    {
#line 447
    tmp___27 = rename((char const   *)*argv, (char const   *)(nieuw));
    }
#line 447
    if (tmp___27) {
      {
#line 448
      printf((char const   */* __restrict  */)"Error renaming %s\n", *argv);
      }
    }
#line 450
    argv ++;
    __Cont: /* CIL Label */ 
#line 98
    if (! *argv) {
#line 98
      goto while_break___0;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 455
  return (0);
}
}
#line 458 "/home/wheatley/newnew/temp/mp3rename-0.6/mp3rename.c"
void rtrim(char *astring ) 
{ 
  int i ;
  size_t tmp ;

  {
  {
#line 461
  tmp = strlen((char const   *)astring);
#line 461
  i = (int )(tmp - 1UL);
  }
  {
#line 462
  while (1) {
    while_continue: /* CIL Label */ ;
#line 462
    if (i) {
#line 462
      if (! ((int )*(astring + i) == 32)) {
#line 462
        goto while_break;
      }
    } else {
#line 462
      goto while_break;
    }
#line 464
    *(astring + i) = (char )'\000';
#line 465
    i --;
  }
  while_break: /* CIL Label */ ;
  }
#line 467
  return;
}
}
#line 469 "/home/wheatley/newnew/temp/mp3rename-0.6/mp3rename.c"
void buildtag(char *buf , char *title , char *artist , char *album , char *year ,
              char *comment , char *genre ) 
{ 


  {
  {
#line 472
  strcpy((char */* __restrict  */)buf, (char const   */* __restrict  */)"TAG");
#line 473
  pad(title, 30);
#line 474
  strncat((char */* __restrict  */)buf, (char const   */* __restrict  */)title, (size_t )30);
#line 475
  pad(artist, 30);
#line 476
  strncat((char */* __restrict  */)buf, (char const   */* __restrict  */)artist, (size_t )30);
#line 477
  pad(album, 30);
#line 478
  strncat((char */* __restrict  */)buf, (char const   */* __restrict  */)album, (size_t )30);
#line 479
  pad(year, 4);
#line 480
  strncat((char */* __restrict  */)buf, (char const   */* __restrict  */)year, (size_t )4);
#line 481
  pad(comment, 30);
#line 482
  strncat((char */* __restrict  */)buf, (char const   */* __restrict  */)comment,
          (size_t )30);
#line 483
  strncat((char */* __restrict  */)buf, (char const   */* __restrict  */)genre, (size_t )1);
  }
#line 484
  return;
}
}
#line 486 "/home/wheatley/newnew/temp/mp3rename-0.6/mp3rename.c"
void pad(char *string , int length ) 
{ 
  int i ;
  size_t tmp ;

  {
  {
#line 490
  tmp = strlen((char const   *)string);
#line 490
  i = (int )tmp;
  }
  {
#line 491
  while (1) {
    while_continue: /* CIL Label */ ;
#line 491
    if (! (i < length)) {
#line 491
      goto while_break;
    }
#line 493
    *(string + i) = (char )' ';
#line 494
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 497
  *(string + i) = (char )'\000';
#line 498
  return;
}
}
#line 500 "/home/wheatley/newnew/temp/mp3rename-0.6/mp3rename.c"
void display_help(void) 
{ 


  {
  {
#line 502
  printf((char const   */* __restrict  */)"Mp3rename 0.6\n\n");
#line 503
  printf((char const   */* __restrict  */)"Options:\n");
#line 504
  printf((char const   */* __restrict  */)"\t-f\t Force non id3 rename.\n");
#line 505
  printf((char const   */* __restrict  */)"\t-v\t Verbose mode.\n");
#line 506
  printf((char const   */* __restrict  */)"\t-h\t Display this help message.\n");
#line 507
  printf((char const   */* __restrict  */)"\t-b\t Limit the file size to 32 chars.\n");
#line 508
  printf((char const   */* __restrict  */)"\t-i\t Only show the id3tags.\n");
#line 509
  printf((char const   */* __restrict  */)"\t-p\t Pad the track number with a leading zero when less than 10.\n");
#line 510
  printf((char const   */* __restrict  */)"\t-a\t Ask everything for the id3tag.\n\n");
#line 511
  printf((char const   */* __restrict  */)"\t-s\t Set the default filename look.\n");
#line 512
  printf((char const   */* __restrict  */)"\t  \t for more help on this option: -s help\n\n");
#line 513
  printf((char const   */* __restrict  */)"Sander Janssen <janssen@rendo.dekooi.nl>\n\n");
  }
#line 515
  return;
}
}
#line 516 "/home/wheatley/newnew/temp/mp3rename-0.6/mp3rename.c"
void set_filename(int argc , char **argv ) 
{ 
  FILE *fp ;
  char str[100] ;
  int tmp ;
  char *tmp___0 ;
  int tmp___1 ;

  {
#line 521
  argv += 2;
#line 523
  if ((unsigned long )*argv == (unsigned long )((void *)0)) {
    {
#line 525
    printf((char const   */* __restrict  */)"No config format given\n\r");
    }
#line 526
    return;
  }
  {
#line 529
  tmp = strcmp((char const   *)*argv, "help");
  }
#line 529
  if (! tmp) {
    {
#line 531
    printf((char const   */* __restrict  */)"Mp3rename 0.6\n\n");
#line 532
    printf((char const   */* __restrict  */)" Use this option to set the default look of the file\n");
#line 533
    printf((char const   */* __restrict  */)" The information is saved in ~/.mp3rename\n");
#line 534
    printf((char const   */* __restrict  */)" You can use &t title, &b album, &y year, &k track and &a artist\n\n");
#line 535
    printf((char const   */* __restrict  */)" Example : mp3rename -s \'(&a)-&t-&b\'\n");
#line 536
    printf((char const   */* __restrict  */)" for (artist)-title-album.mp3\n\n");
    }
#line 537
    return;
  }
  {
#line 539
  tmp___0 = getenv("HOME");
#line 539
  sprintf((char */* __restrict  */)(str), (char const   */* __restrict  */)"%s/.mp3rename",
          tmp___0);
#line 541
  fp = fopen((char const   */* __restrict  */)(str), (char const   */* __restrict  */)"w");
  }
#line 541
  if (! fp) {
    {
#line 543
    printf((char const   */* __restrict  */)"Error opening config file\n\r");
    }
#line 544
    return;
  }
  {
#line 547
  tmp___1 = strcmp((char const   *)*argv, "");
  }
#line 547
  if (! tmp___1) {
    {
#line 549
    printf((char const   */* __restrict  */)"No config format given\n\r");
    }
#line 550
    return;
  }
  {
#line 552
  printf((char const   */* __restrict  */)"Default is now set\n\n");
#line 554
  fprintf((FILE */* __restrict  */)fp, (char const   */* __restrict  */)*argv);
#line 555
  fclose(fp);
  }
#line 556
  return;
}
}
