/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 20 "/home/june/collector/temp/aspic-1.05/src/mytypes.h"
typedef int BOOL;
#line 21 "/home/june/collector/temp/aspic-1.05/src/mytypes.h"
typedef unsigned char uschar;
#line 47 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef int unit;
#line 185 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct colour {
   unit red ;
   unit green ;
   unit blue ;
};
#line 185 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct colour colour;
#line 193 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct stringchain {
   struct stringchain *next ;
   unit xadjust ;
   unit yadjust ;
   int justify ;
   int font ;
   int chcount ;
   colour rgb ;
   uschar text[1] ;
};
#line 193 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct stringchain stringchain;
#line 206 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct bindfont {
   struct bindfont *next ;
   int number ;
   unit size ;
   BOOL needSymbol ;
   BOOL needDingbats ;
   uschar name[1] ;
};
#line 206 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct bindfont bindfont;
#line 307 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct item {
   struct item *next ;
   stringchain *strings ;
   int level ;
   unit type ;
   unit style ;
   unit dash1 ;
   unit dash2 ;
   unit linedepth ;
   unit fontdepth ;
   unit thickness ;
   colour colour ;
   colour shapefilled ;
   unit x ;
   unit y ;
};
#line 307 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct item item;
#line 321 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_item_arc_38 {
   struct item *next ;
   stringchain *strings ;
   int level ;
   unit type ;
   unit style ;
   unit dash1 ;
   unit dash2 ;
   unit linedepth ;
   unit fontdepth ;
   unit thickness ;
   colour colour ;
   colour shapefilled ;
   unit x ;
   unit y ;
   double angle1 ;
   double angle2 ;
   int direction ;
   unit radius ;
   unit angle ;
   unit cw ;
   unit depth ;
   unit via_x ;
   unit via_y ;
   unit arrow_start ;
   unit arrow_end ;
   unit arrow_x ;
   unit arrow_y ;
   colour arrow_filled ;
   unit x0 ;
   unit y0 ;
   unit x1 ;
   unit y1 ;
};
#line 321 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_item_arc_38 item_arc;
#line 342 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_item_box_39 {
   struct item *next ;
   stringchain *strings ;
   int level ;
   unit type ;
   unit style ;
   unit dash1 ;
   unit dash2 ;
   unit linedepth ;
   unit fontdepth ;
   unit thickness ;
   colour colour ;
   colour shapefilled ;
   unit x ;
   unit y ;
   int boxtype ;
   unit width ;
   unit depth ;
   int joinpoint ;
   int pointjoined ;
};
#line 342 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_item_box_39 item_box;
#line 353 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_item_line_40 {
   struct item *next ;
   stringchain *strings ;
   int level ;
   unit type ;
   unit style ;
   unit dash1 ;
   unit dash2 ;
   unit linedepth ;
   unit fontdepth ;
   unit thickness ;
   colour colour ;
   colour shapefilled ;
   unit x ;
   unit y ;
   unit width ;
   unit depth ;
   unit endx ;
   unit endy ;
   unit alignx ;
   unit aligny ;
   unit arrow_start ;
   unit arrow_end ;
   unit arrow_x ;
   unit arrow_y ;
   colour arrow_filled ;
};
#line 353 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_item_line_40 item_line;
#line 390 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct tree_node {
   struct tree_node *left ;
   struct tree_node *right ;
   uschar *value ;
   uschar balance ;
   uschar name[1] ;
};
#line 390 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct tree_node tree_node;
#line 217 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct entity_block {
   uschar *name ;
   int value ;
};
#line 217 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct entity_block entity_block;
#line 400 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct u2sencod {
   int ucode ;
   int which ;
   int scode ;
};
#line 400 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct u2sencod u2sencod;
#line 97 "/usr/include/stdlib.h"
struct __anonstruct_div_t_13 {
   int quot ;
   int rem ;
};
#line 97 "/usr/include/stdlib.h"
typedef struct __anonstruct_div_t_13 div_t;
#line 160 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct includestr {
   struct includestr *prev ;
   FILE *prevfile ;
};
#line 160 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct includestr includestr;
#line 176 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_arg_item_37 {
   uschar *name ;
   int type ;
   unit arg1 ;
   unit arg2 ;
};
#line 176 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_arg_item_37 arg_item;
#line 224 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct mac_line {
   struct mac_line *next ;
   uschar text[1] ;
};
#line 224 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct mac_line mac_line;
#line 229 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct mac_arg {
   struct mac_arg *next ;
   uschar text[1] ;
};
#line 229 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct mac_arg mac_arg;
#line 234 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct macro {
   struct macro *previous ;
   uschar name[20] ;
   mac_line *nextline ;
   int argcount ;
   mac_arg *args ;
};
#line 234 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct macro macro;
#line 244 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct environment {
   struct environment *previous ;
   unit arcradius ;
   unit arrow_x ;
   unit arrow_y ;
   unit boxdash1 ;
   unit boxdash2 ;
   unit boxwidth ;
   unit boxthickness ;
   unit boxdepth ;
   colour boxcolour ;
   colour boxfilled ;
   unit cirdash1 ;
   unit cirdash2 ;
   colour circolour ;
   unit cirradius ;
   unit cirthickness ;
   colour cirfilled ;
   int direction ;
   unit elldash1 ;
   unit elldash2 ;
   colour ellcolour ;
   unit ellwidth ;
   unit elldepth ;
   unit ellthickness ;
   colour ellfilled ;
   colour shapefilled ;
   colour arrowfilled ;
   unit fontdepth ;
   int setfont ;
   colour textcolour ;
   int level ;
   unit linedash1 ;
   unit linedash2 ;
   unit linedepth ;
   unit linethickness ;
   colour linecolour ;
   unit line_hw ;
   unit line_vd ;
   unit magnification ;
};
#line 244 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct environment environment;
#line 313 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct label {
   struct label *next ;
   item *itemptr ;
   uschar name[20] ;
};
#line 313 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct label label;
#line 382 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_item_redraw_43 {
   struct item *next ;
   stringchain *strings ;
   int level ;
   unit type ;
   unit style ;
   unit dash1 ;
   unit dash2 ;
   unit linedepth ;
   unit fontdepth ;
   unit thickness ;
   colour colour ;
   colour shapefilled ;
   unit x ;
   unit y ;
   item *ref ;
   colour filled ;
};
#line 382 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_item_redraw_43 item_redraw;
#line 167 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_command_item_36 {
   uschar *name ;
   void (*function)(void) ;
   unit arg1 ;
   unit arg2 ;
};
#line 167 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_command_item_36 command_item;
#line 370 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_item_text_41 {
   struct item *next ;
   stringchain *strings ;
   int level ;
   unit type ;
   unit style ;
   unit dash1 ;
   unit dash2 ;
   unit linedepth ;
   unit fontdepth ;
   unit thickness ;
   colour colour ;
   colour shapefilled ;
   unit x ;
   unit y ;
};
#line 370 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_item_text_41 item_text;
#line 376 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
struct __anonstruct_item_wait_42 {
   struct item *next ;
   stringchain *strings ;
   int level ;
   unit type ;
   unit style ;
   unit dash1 ;
   unit dash2 ;
   unit linedepth ;
   unit fontdepth ;
   unit thickness ;
   colour colour ;
   colour shapefilled ;
   unit x ;
   unit y ;
};
#line 376 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
typedef struct __anonstruct_item_wait_42 item_wait;
#line 139 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 40 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stdarg.h"
typedef __builtin_va_list __gnuc_va_list;
#line 98 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stdarg.h"
typedef __gnuc_va_list va_list;
#line 75 "/usr/include/time.h"
typedef __time_t time_t;
#line 133 "/usr/include/time.h"
struct tm {
   int tm_sec ;
   int tm_min ;
   int tm_hour ;
   int tm_mday ;
   int tm_mon ;
   int tm_year ;
   int tm_wday ;
   int tm_yday ;
   int tm_isdst ;
   long tm_gmtoff ;
   char const   *tm_zone ;
};
#line 56 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) asin)(double __x ) ;
#line 60
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) atan2)(double __y ,
                                                                               double __x ) ;
#line 63
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) cos)(double __x ) ;
#line 65
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) sin)(double __x ) ;
#line 356 "/usr/include/stdio.h"
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 364
extern  __attribute__((__nothrow__)) int sprintf(char * __restrict  __s , char const   * __restrict  __format 
                                                 , ...) ;
#line 573
extern int fputc(int __c , FILE *__stream ) ;
#line 129 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcpy)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 132
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncpy)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 144
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcmp)(char const   *__s1 ,
                                                                                               char const   *__s2 )  __attribute__((__pure__)) ;
#line 236
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) strchr)(char const   *__s ,
                                                                                               int __c )  __attribute__((__pure__)) ;
#line 399
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1), __leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 413 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
FILE *out_file ;
#line 420
item *main_item_base ;
#line 428
bindfont *font_base ;
#line 432
double pi ;
#line 435
colour unfilled ;
#line 441
colour drawbboxcolour ;
#line 442
unit drawbboxthickness ;
#line 448
int max_level ;
#line 449
int min_level ;
#line 452
unit minimum_thickness ;
#line 473
BOOL testing ;
#line 475
tree_node *varroot ;
#line 481
int const   utf8_table3[6] ;
#line 482
uschar const   utf8_table4[64] ;
#line 509
void find_bbox(unit *box ) ;
#line 510
uschar *fixed(unit x ) ;
#line 512
unit find_linedepth(item *p , stringchain *s ) ;
#line 515
void *getstore(size_t size ) ;
#line 518
void init_sv(void) ;
#line 528
unit rnd(unit value ) ;
#line 529
BOOL samecolour(colour a , colour b ) ;
#line 530
void smallarc(unit radius1 , unit radius2 , double angle1 , double angle2 , void (*rbezier___2)(unit  ,
                                                                                                unit  ,
                                                                                                unit  ,
                                                                                                unit  ,
                                                                                                unit  ,
                                                                                                unit  ) ) ;
#line 531
void stringpos(item *p , unit *xx , unit *yy ) ;
#line 534
tree_node *tree_search(tree_node *p , uschar *name ) ;
#line 537
void write_sv(void) ;
#line 21 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static unit bbox[4]  ;
#line 23 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static colour line_fill_colour  ;
#line 24 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static colour stroke_colour  ;
#line 26 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static unit stroke_thickness  ;
#line 27 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static unit stroke_dash1  ;
#line 28 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static unit stroke_dash2  ;
#line 30 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static unit at_x  ;
#line 31 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static unit at_y  ;
#line 33 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static BOOL fillpending  ;
#line 34 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static BOOL strokepending  ;
#line 36 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static item *pathstart  ;
#line 47 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
void init_sv(void) 
{ 
  bindfont *f ;
  size_t tmp ;
  void *tmp___0 ;
  BOOL tmp___1 ;

  {
  {
#line 50
  tmp = strlen("Times-Roman");
#line 50
  tmp___0 = getstore(sizeof(bindfont ) + (unsigned long )((int )tmp));
#line 50
  f = (bindfont *)tmp___0;
#line 52
  f->next = font_base;
#line 53
  font_base = f;
#line 54
  f->number = 0;
#line 55
  f->size = 12000;
#line 56
  tmp___1 = 0;
#line 56
  f->needDingbats = tmp___1;
#line 56
  f->needSymbol = tmp___1;
#line 57
  strcpy((char */* __restrict  */)((char *)(f->name)), (char const   */* __restrict  */)"Times-Roman");
#line 59
  minimum_thickness = 200;
  }
#line 60
  return;
}
}
#line 71 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void move(unit x , unit y ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;

  {
  {
#line 74
  x -= bbox[0];
#line 75
  y -= bbox[1];
#line 76
  tmp = rnd(- y);
#line 76
  tmp___0 = fixed(tmp);
#line 76
  tmp___1 = rnd(x);
#line 76
  tmp___2 = fixed(tmp___1);
#line 76
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<path d=\"M %s %s\n",
          tmp___2, tmp___0);
  }
#line 77
  return;
}
}
#line 82 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void rline(unit x , unit y ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;

  {
  {
#line 85
  tmp = rnd(- y);
#line 85
  tmp___0 = fixed(tmp);
#line 85
  tmp___1 = rnd(x);
#line 85
  tmp___2 = fixed(tmp___1);
#line 85
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"l %s %s\n",
          tmp___2, tmp___0);
  }
#line 86
  return;
}
}
#line 91 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void rbezier(unit x1 , unit y1___0 , unit x2 , unit y2 , unit x3 , unit y3 ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;
  unit tmp___3 ;
  uschar *tmp___4 ;
  unit tmp___5 ;
  uschar *tmp___6 ;
  unit tmp___7 ;
  uschar *tmp___8 ;
  unit tmp___9 ;
  uschar *tmp___10 ;

  {
  {
#line 94
  tmp = rnd(- y3);
#line 94
  tmp___0 = fixed(tmp);
#line 94
  tmp___1 = rnd(x3);
#line 94
  tmp___2 = fixed(tmp___1);
#line 94
  tmp___3 = rnd(- y2);
#line 94
  tmp___4 = fixed(tmp___3);
#line 94
  tmp___5 = rnd(x2);
#line 94
  tmp___6 = fixed(tmp___5);
#line 94
  tmp___7 = rnd(- y1___0);
#line 94
  tmp___8 = fixed(tmp___7);
#line 94
  tmp___9 = rnd(x1);
#line 94
  tmp___10 = fixed(tmp___9);
#line 94
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"c %s %s %s %s %s %s\n",
          tmp___10, tmp___8, tmp___6, tmp___4, tmp___2, tmp___0);
  }
#line 98
  return;
}
}
#line 119 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void sort_fill_stroke(uschar *fill , colour fc , uschar *stroke , BOOL sp ,
                             colour sc , unit lw , unit d1 , unit d2 ) 
{ 
  BOOL tmp ;
  uschar *tmp___0 ;
  uschar *p ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;

  {
#line 123
  if (lw < minimum_thickness) {
#line 123
    lw = minimum_thickness;
  }
  {
#line 125
  tmp = samecolour(fc, unfilled);
  }
#line 125
  if (tmp) {
    {
#line 125
    strcpy((char */* __restrict  */)((char *)fill), (char const   */* __restrict  */)"\"none\"");
    }
  } else {
    {
#line 126
    sprintf((char */* __restrict  */)((char *)fill), (char const   */* __restrict  */)"\"#%02X%02X%02X\"",
            (fc.red * 255) / 1000, (fc.green * 255) / 1000, (fc.blue * 255) / 1000);
    }
  }
#line 131
  if (! sp) {
    {
#line 131
    strcpy((char */* __restrict  */)((char *)stroke), (char const   */* __restrict  */)"\"none\"");
    }
  } else {
    {
#line 133
    tmp___0 = fixed(lw);
#line 133
    sprintf((char */* __restrict  */)((char *)stroke), (char const   */* __restrict  */)"\"#%02X%02X%02X\" stroke-width=\"%s\"",
            (sc.red * 255) / 1000, (sc.green * 255) / 1000, (sc.blue * 255) / 1000,
            tmp___0);
    }
#line 139
    if (d1 != 0) {
#line 141
      p = stroke;
      {
#line 142
      while (1) {
        while_continue: /* CIL Label */ ;
#line 142
        if (! ((int )*p != 0)) {
#line 142
          goto while_break;
        }
#line 142
        p ++;
      }
      while_break: /* CIL Label */ ;
      }
      {
#line 143
      tmp___1 = fixed(d2);
#line 143
      tmp___2 = fixed(d1);
#line 143
      sprintf((char */* __restrict  */)((char *)p), (char const   */* __restrict  */)" stroke-dasharray=\"%s,%s\"",
              tmp___2, tmp___1);
      }
    }
  }
#line 146
  return;
}
}
#line 157 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void write_strings(item *p ) 
{ 
  unit x ;
  unit y ;
  stringchain *s ;
  uschar *ss ;
  unsigned char *tmp ;
  unsigned char *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;
  unit tmp___3 ;
  uschar *tmp___4 ;
  bindfont *b ;
  uschar *hyphen ;
  char *tmp___5 ;
  uschar *family ;
  uschar *weight ;
  uschar *style ;
  uschar fambuff___0[64] ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  uschar *tmp___10 ;
  int c ;
  uschar *tmp___11 ;
  int gcaa ;
  int gcss ;
  uschar *tmp___12 ;
  int tmp___13 ;
  unit tmp___14 ;

  {
#line 161
  s = p->strings;
#line 163
  if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 163
    return;
  }
  {
#line 165
  stringpos(p, & x, & y);
  }
  {
#line 167
  while (1) {
    while_continue: /* CIL Label */ ;
#line 171
    if ((int )s->text[0] != 0) {
#line 173
      ss = s->text;
#line 175
      if (s->justify == 0) {
#line 175
        tmp___0 = (unsigned char *)"start";
      } else {
#line 175
        if (s->justify == 1) {
#line 175
          tmp = (unsigned char *)"end";
        } else {
#line 175
          tmp = (unsigned char *)"middle";
        }
#line 175
        tmp___0 = tmp;
      }
      {
#line 175
      tmp___1 = rnd((- y + bbox[1]) - s->yadjust);
#line 175
      tmp___2 = fixed(tmp___1);
#line 175
      tmp___3 = rnd((x - bbox[0]) + s->xadjust);
#line 175
      tmp___4 = fixed(tmp___3);
#line 175
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<text x=\"%s\" y=\"%s\" text-anchor=\"%s\"",
              tmp___4, tmp___2, tmp___0);
      }
#line 181
      if (s->font != 0) {
#line 185
        b = font_base;
        {
#line 185
        while (1) {
          while_continue___0: /* CIL Label */ ;
#line 185
          if (! ((unsigned long )b != (unsigned long )((void *)0))) {
#line 185
            goto while_break___0;
          }
#line 187
          if (b->number == s->font) {
            {
#line 189
            tmp___5 = strchr((char const   *)(b->name), '-');
#line 189
            hyphen = (unsigned char *)tmp___5;
#line 191
            weight = (uschar *)((void *)0);
#line 192
            style = (uschar *)((void *)0);
            }
#line 195
            if ((unsigned long )hyphen == (unsigned long )((void *)0)) {
#line 197
              family = b->name;
            } else {
              {
#line 201
              strncpy((char */* __restrict  */)((char *)(fambuff___0)), (char const   */* __restrict  */)((char const   *)(b->name)),
                      (size_t )(hyphen - b->name));
#line 202
              fambuff___0[hyphen - b->name] = (uschar )0;
#line 203
              family = fambuff___0;
#line 205
              tmp___6 = strcmp((char const   *)(hyphen + 1), "Italic");
              }
#line 205
              if (tmp___6 == 0) {
#line 207
                style = (unsigned char *)"italic";
              } else {
                {
#line 205
                tmp___7 = strcmp((char const   *)(hyphen + 1), "BoldItalic");
                }
#line 205
                if (tmp___7 == 0) {
#line 207
                  style = (unsigned char *)"italic";
                }
              }
              {
#line 209
              tmp___8 = strcmp((char const   *)(hyphen + 1), "Bold");
              }
#line 209
              if (tmp___8 == 0) {
#line 211
                weight = (unsigned char *)"bold";
              } else {
                {
#line 209
                tmp___9 = strcmp((char const   *)(hyphen + 1), "BoldItalic");
                }
#line 209
                if (tmp___9 == 0) {
#line 211
                  weight = (unsigned char *)"bold";
                }
              }
            }
            {
#line 214
            tmp___10 = fixed(b->size);
#line 214
            fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)" font-family=\"%s\" font-size=\"%s\"",
                    family, tmp___10);
            }
#line 216
            if ((unsigned long )weight != (unsigned long )((void *)0)) {
              {
#line 217
              fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)" font-weight=\"%s\"",
                      weight);
              }
            }
#line 218
            if ((unsigned long )style != (unsigned long )((void *)0)) {
              {
#line 219
              fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)" font-style=\"%s\"",
                      style);
              }
            }
#line 220
            goto while_break___0;
          }
#line 185
          b = b->next;
        }
        while_break___0: /* CIL Label */ ;
        }
      }
      {
#line 225
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)">");
      }
      {
#line 226
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 226
        if (! ((int )*ss != 0)) {
#line 226
          goto while_break___1;
        }
#line 229
        tmp___11 = ss;
#line 229
        ss ++;
#line 229
        c = (int )*tmp___11;
#line 229
        if ((c & 192) == 192) {
#line 229
          gcaa = (int )utf8_table4[c & 63];
#line 229
          gcss = 6 * gcaa;
#line 229
          c = (c & (int )utf8_table3[gcaa]) << gcss;
          {
#line 229
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 229
            tmp___13 = gcaa;
#line 229
            gcaa --;
#line 229
            if (! (tmp___13 > 0)) {
#line 229
              goto while_break___2;
            }
#line 229
            gcss -= 6;
#line 229
            tmp___12 = ss;
#line 229
            ss ++;
#line 229
            c |= ((int )*tmp___12 & 63) << gcss;
          }
          while_break___2: /* CIL Label */ ;
          }
        }
#line 230
        if (c == 60) {
          {
#line 230
          fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"&lt;");
          }
        } else
#line 231
        if (c == 62) {
          {
#line 231
          fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"&gt;");
          }
        } else
#line 232
        if (c == 38) {
          {
#line 232
          fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"&amp;");
          }
        } else
#line 233
        if (c < 127) {
          {
#line 233
          fputc(c, out_file);
          }
        } else {
          {
#line 234
          fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"&#x%x;",
                  c);
          }
        }
      }
      while_break___1: /* CIL Label */ ;
      }
      {
#line 236
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"</text>\n");
      }
    }
#line 239
    s = s->next;
#line 240
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 240
      goto while_break;
    }
    {
#line 241
    tmp___14 = find_linedepth(p, s);
#line 241
    y -= tmp___14;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 243
  return;
}
}
#line 260 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void end_line_fillstroke(item *current ) 
{ 
  uschar fill[12] ;
  uschar stroke[128] ;
  BOOL tmp ;

  {
  {
#line 266
  tmp = samecolour(line_fill_colour, unfilled);
  }
#line 266
  if (tmp) {
#line 266
    if (strokepending) {
      {
#line 268
      sort_fill_stroke(fill, line_fill_colour, stroke, strokepending, stroke_colour,
                       stroke_thickness, stroke_dash1, stroke_dash2);
#line 270
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\" fill=%s stroke=%s/>\n",
              fill, stroke);
      }
    }
  } else {
    {
#line 268
    sort_fill_stroke(fill, line_fill_colour, stroke, strokepending, stroke_colour,
                     stroke_thickness, stroke_dash1, stroke_dash2);
#line 270
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\" fill=%s stroke=%s/>\n",
            fill, stroke);
    }
  }
  {
#line 273
  while (1) {
    while_continue: /* CIL Label */ ;
#line 273
    if ((unsigned long )pathstart != (unsigned long )((void *)0)) {
#line 273
      if (! ((unsigned long )pathstart != (unsigned long )current)) {
#line 273
        goto while_break;
      }
    } else {
#line 273
      goto while_break;
    }
    {
#line 275
    write_strings(pathstart);
#line 276
    pathstart = pathstart->next;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 279
  line_fill_colour = unfilled;
#line 280
  strokepending = 0;
#line 281
  pathstart = (item *)((void *)0);
#line 282
  return;
}
}
#line 290 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void arrowhead(unit x , unit y , unit xx , unit yy , double angle , colour filled ) 
{ 
  uschar fill[12] ;
  double s ;
  double tmp ;
  double c ;
  double tmp___0 ;
  unit x1 ;
  unit y1___0 ;
  unit x2 ;
  unit y2 ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;
  BOOL tmp___3 ;

  {
  {
#line 294
  tmp = sin(angle);
#line 294
  s = tmp;
#line 295
  tmp___0 = cos(angle);
#line 295
  c = tmp___0;
#line 297
  x1 = (unit )(((double )yy * s) * 0.5);
#line 298
  y1___0 = (unit )(((double )yy * c) * 0.5);
#line 299
  x2 = (unit )((double )xx * c);
#line 300
  y2 = (unit )((double )xx * s);
#line 302
  tmp___1 = fixed(- y + bbox[1]);
#line 302
  tmp___2 = fixed(x - bbox[0]);
#line 302
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<path d=\"M %s %s\n",
          tmp___2, tmp___1);
#line 305
  rline(x1, - y1___0);
#line 306
  rline(x2 - x1, y2 + y1___0);
#line 307
  rline(- x2 - x1, y1___0 - y2);
#line 308
  rline(x1, - y1___0);
#line 310
  tmp___3 = samecolour(filled, unfilled);
  }
#line 310
  if (tmp___3) {
    {
#line 310
    strcpy((char */* __restrict  */)((char *)(fill)), (char const   */* __restrict  */)"\"none\"");
    }
  } else {
    {
#line 311
    sprintf((char */* __restrict  */)((char *)(fill)), (char const   */* __restrict  */)"\"#%02X%02X%02X\"",
            (filled.red * 255) / 1000, (filled.green * 255) / 1000, (filled.blue * 255) / 1000);
    }
  }
  {
#line 316
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\" fill=%s stroke=\"#000000\" stroke-width=\"0.4\"/>\n",
          fill);
  }
#line 318
  return;
}
}
#line 325 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void arc(unit clockwise , unit x , unit y , unit radius1 , unit radius2 , double angle1 ,
                double angle2 ) 
{ 
  double tmp ;
  double tmp___0 ;

  {
#line 328
  if (! clockwise) {
    {
#line 330
    while (1) {
      while_continue: /* CIL Label */ ;
#line 330
      if (! (angle1 > angle2)) {
#line 330
        goto while_break;
      }
#line 330
      angle2 += 2.0 * pi;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 331
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 331
      if (! (angle2 - angle1 > 0.5 * pi)) {
#line 331
        goto while_break___0;
      }
      {
#line 333
      smallarc(radius1, radius2, angle1, angle1 + 0.49 * pi, & rbezier);
#line 334
      angle1 += 0.49 * pi;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  } else {
    {
#line 340
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 340
      if (! (angle1 < angle2)) {
#line 340
        goto while_break___1;
      }
#line 340
      angle2 -= 2.0 * pi;
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 341
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 341
      if (! (angle1 - angle2 > 0.5 * pi)) {
#line 341
        goto while_break___2;
      }
      {
#line 343
      smallarc(radius1, radius2, angle1, angle1 - 0.49 * pi, & rbezier);
#line 344
      angle1 -= 0.49 * pi;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  }
  {
#line 348
  smallarc(radius1, radius2, angle1, angle2, & rbezier);
#line 350
  tmp = cos(angle2);
#line 350
  at_x = x + (unit )((double )radius1 * tmp);
#line 351
  tmp___0 = sin(angle2);
#line 351
  at_y = y + (unit )((double )radius2 * tmp___0);
  }
#line 352
  return;
}
}
#line 370 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void write_arc(item_arc *p , BOOL move_needed , unit startx , unit starty ) 
{ 
  double radius ;
  double angle1 ;
  double angle2 ;
  double tilt ;
  double tmp ;
  double angle ;
  double tmp___0 ;
  double tmp___1 ;
  double tmp___2 ;
  double angle___0 ;
  double tmp___3 ;
  double tmp___4 ;
  double tmp___5 ;

  {
#line 373
  radius = (double )p->radius;
#line 374
  angle1 = p->angle1;
#line 375
  angle2 = p->angle2;
#line 377
  if (fillpending) {
#line 379
    if (move_needed) {
      {
#line 379
      move(startx, starty);
      }
    }
    {
#line 380
    arc(p->cw, p->x, p->y, p->radius, p->radius, angle1, angle2);
    }
#line 381
    return;
  }
#line 386
  if (p->style == 1) {
    {
#line 388
    write_strings((item *)p);
    }
#line 389
    return;
  }
#line 394
  if (move_needed) {
    {
#line 394
    move(startx, starty);
    }
  }
  {
#line 395
  arc(p->cw, p->x, p->y, p->radius, p->radius, angle1, angle2);
  }
#line 400
  if (p->arrow_start) {
#line 400
    goto _L;
  } else
#line 400
  if (p->arrow_end) {
    _L: /* CIL Label */ 
    {
#line 402
    tmp = asin((double )p->arrow_x / (2.0 * radius));
#line 402
    tilt = tmp;
#line 404
    end_line_fillstroke(p->next);
    }
#line 406
    if (p->arrow_start) {
#line 408
      if (p->cw) {
#line 408
        tmp___0 = (angle1 + pi / 2.0) + tilt;
      } else {
#line 408
        tmp___0 = (angle1 - pi / 2.0) - tilt;
      }
      {
#line 408
      angle = tmp___0;
#line 409
      tmp___1 = sin(angle1);
#line 409
      tmp___2 = cos(angle1);
#line 409
      arrowhead(p->x + (unit )(radius * tmp___2), p->y + (unit )(radius * tmp___1),
                p->arrow_x, p->arrow_y, angle, p->arrow_filled);
      }
    }
#line 413
    if (p->arrow_end) {
#line 415
      if (p->cw) {
#line 415
        tmp___3 = (angle2 - pi / 2.0) - tilt;
      } else {
#line 415
        tmp___3 = (angle2 + pi / 2.0) + tilt;
      }
      {
#line 415
      angle___0 = tmp___3;
#line 416
      tmp___4 = sin(angle2);
#line 416
      tmp___5 = cos(angle2);
#line 416
      arrowhead(p->x + (unit )(radius * tmp___5), p->y + (unit )(radius * tmp___4),
                p->arrow_x, p->arrow_y, angle___0, p->arrow_filled);
      }
    }
  }
#line 420
  return;
}
}
#line 428 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void write_box(item_box *p ) 
{ 
  unit x ;
  unit y ;
  uschar fill[12] ;
  uschar stroke[128] ;
  uschar *tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;
  unit tmp___3 ;
  uschar *tmp___4 ;
  uschar *tmp___5 ;
  unit tmp___6 ;
  uschar *tmp___7 ;
  unit tmp___8 ;
  uschar *tmp___9 ;
  uschar *tmp___10 ;
  uschar *tmp___11 ;
  unit tmp___12 ;
  uschar *tmp___13 ;
  unit tmp___14 ;
  uschar *tmp___15 ;

  {
  {
#line 431
  x = p->x - bbox[0];
#line 432
  y = p->y - bbox[1];
#line 436
  sort_fill_stroke(fill, p->shapefilled, stroke, p->style != 1, p->colour, p->thickness,
                   p->dash1, p->dash2);
  }
#line 439
  if (p->boxtype == 0) {
    {
#line 440
    tmp = fixed(p->depth);
#line 440
    tmp___0 = fixed(p->width);
#line 440
    tmp___1 = rnd(- y - p->depth / 2);
#line 440
    tmp___2 = fixed(tmp___1);
#line 440
    tmp___3 = rnd(x - p->width / 2);
#line 440
    tmp___4 = fixed(tmp___3);
#line 440
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<rect x=\"%s\" y=\"%s\" width=\"%s\" height=\"%s\" fill=%s stroke=%s/>\n",
            tmp___4, tmp___2, tmp___0, tmp, fill, stroke);
    }
  } else
#line 449
  if (p->boxtype == 1) {
    {
#line 450
    tmp___5 = fixed(p->width / 2);
#line 450
    tmp___6 = rnd(- y);
#line 450
    tmp___7 = fixed(tmp___6);
#line 450
    tmp___8 = rnd(x);
#line 450
    tmp___9 = fixed(tmp___8);
#line 450
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<circle cx=\"%s\" cy=\"%s\" r=\"%s\" fill=%s stroke=%s/>\n",
            tmp___9, tmp___7, tmp___5, fill, stroke);
    }
  } else {
    {
#line 459
    tmp___10 = fixed(p->depth / 2);
#line 459
    tmp___11 = fixed(p->width / 2);
#line 459
    tmp___12 = rnd(- y);
#line 459
    tmp___13 = fixed(tmp___12);
#line 459
    tmp___14 = rnd(x);
#line 459
    tmp___15 = fixed(tmp___14);
#line 459
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<ellipse cx=\"%s\" cy=\"%s\" rx=\"%s\" ry=\"%s\" fill=%s stroke=%s/>\n",
            tmp___15, tmp___13, tmp___11, tmp___10, fill, stroke);
    }
  }
  {
#line 468
  write_strings((item *)p);
  }
#line 469
  return;
}
}
#line 477 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
static void write_line(item_line *p , BOOL move_needed ) 
{ 
  double angle ;
  unit x1 ;
  unit y1___0 ;
  unit xw ;
  unit yd ;
  unit xx ;
  unit yy ;
  double tmp ;
  double tmp___0 ;

  {
#line 480
  angle = 0.0;
#line 481
  x1 = p->x;
#line 481
  y1___0 = p->y;
#line 482
  xw = p->width;
#line 482
  yd = p->depth;
#line 483
  xx = 0;
#line 483
  yy = 0;
#line 488
  if (fillpending) {
#line 490
    if (move_needed) {
      {
#line 490
      move(x1, y1___0);
      }
    }
    {
#line 491
    rline(xw, yd);
#line 492
    at_x = x1 + xw;
#line 493
    at_y = y1___0 + yd;
    }
#line 494
    return;
  }
#line 502
  if (p->style == 1) {
    {
#line 504
    write_strings((item *)p);
    }
#line 505
    return;
  }
#line 510
  if (p->arrow_start) {
    {
#line 512
    angle = atan2((double )p->depth, (double )p->width);
#line 513
    tmp = cos(angle);
#line 513
    xx = (unit )((double )p->arrow_x * tmp);
#line 514
    tmp___0 = sin(angle);
#line 514
    yy = (unit )((double )p->arrow_x * tmp___0);
    }
  } else
#line 510
  if (p->arrow_end) {
    {
#line 512
    angle = atan2((double )p->depth, (double )p->width);
#line 513
    tmp = cos(angle);
#line 513
    xx = (unit )((double )p->arrow_x * tmp);
#line 514
    tmp___0 = sin(angle);
#line 514
    yy = (unit )((double )p->arrow_x * tmp___0);
    }
  }
#line 520
  if (p->arrow_start) {
#line 522
    x1 += xx;
#line 523
    y1___0 += yy;
#line 524
    xw -= xx;
#line 525
    yd -= yy;
  }
#line 528
  if (p->arrow_end) {
#line 530
    xw -= xx;
#line 531
    yd -= yy;
  }
#line 536
  if (move_needed) {
    {
#line 536
    move(x1, y1___0);
    }
  }
  {
#line 537
  rline(xw, yd);
#line 538
  at_x = x1 + xw;
#line 539
  at_y = y1___0 + yd;
  }
#line 544
  if (p->arrow_start) {
    {
#line 546
    end_line_fillstroke(p->next);
#line 547
    arrowhead(x1, y1___0, p->arrow_x, p->arrow_y, angle + pi, p->arrow_filled);
    }
  }
#line 550
  if (p->arrow_end) {
    {
#line 552
    end_line_fillstroke(p->next);
#line 553
    arrowhead(x1 + xw, y1___0 + yd, p->arrow_x, p->arrow_y, angle, p->arrow_filled);
    }
  }
#line 555
  return;
}
}
#line 568 "/home/june/collector/temp/aspic-1.05/src/wrsv.c"
void write_sv(void) 
{ 
  int level ;
  tree_node *tnc ;
  tree_node *tnd ;
  uschar *tmp ;
  uschar *tmp___0 ;
  char const   *tmp___1 ;
  uschar *tmp___2 ;
  uschar fill[12] ;
  uschar stroke[128] ;
  unit width ;
  unit depth ;
  uschar *tmp___3 ;
  uschar *tmp___4 ;
  uschar *tmp___5 ;
  uschar *tmp___6 ;
  item *p ;
  BOOL restart ;
  BOOL move_needed ;
  unit startx ;
  unit starty ;
  item_arc *ppa ;
  item_line *ppl ;
  double tmp___7 ;
  double tmp___8 ;
  BOOL tmp___9 ;
  BOOL tmp___10 ;
  BOOL tmp___11 ;
  BOOL tmp___12 ;

  {
  {
#line 575
  line_fill_colour = unfilled;
#line 576
  strokepending = 0;
#line 577
  fillpending = 0;
#line 578
  pathstart = (item *)((void *)0);
#line 579
  at_y = 0;
#line 579
  at_x = at_y;
#line 583
  find_bbox(bbox);
#line 587
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<?xml version=\"1.0\" standalone=\"no\"?>\n");
#line 588
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n");
#line 589
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"  \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n");
#line 591
  tmp = fixed(bbox[3] - bbox[1]);
#line 591
  tmp___0 = fixed(bbox[2] - bbox[0]);
#line 591
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<svg width=\"%s\" height=\"%s\" version=\"1.1\"\n",
          tmp___0, tmp);
#line 594
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"     xmlns=\"http://www.w3.org/2000/svg\">\n\n");
#line 596
  tnc = tree_search(varroot, (unsigned char *)"creator");
#line 597
  tnd = tree_search(varroot, (unsigned char *)"date");
  }
#line 598
  if (testing) {
#line 598
    tmp___1 = "";
  } else {
#line 598
    tmp___1 = "1.05 (04-March-2008)";
  }
  {
#line 598
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<!-- created by %s on %s, using Aspic %s -->\n",
          tnc->value, tnd->value, tmp___1);
#line 601
  tnc = tree_search(varroot, (unsigned char *)"title");
#line 602
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<title>%s</title>\n\n",
          tnc->value);
#line 604
  tmp___2 = fixed(bbox[3] - bbox[1]);
#line 604
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<g transform=\"translate(0,%s)\" font-family=\"Times\" font-size=\"12\">\n",
          tmp___2);
  }
#line 610
  if (drawbboxthickness > 0) {
    {
#line 614
    width = bbox[2] - bbox[0];
#line 615
    depth = bbox[3] - bbox[1];
#line 617
    sort_fill_stroke(fill, unfilled, stroke, 1, drawbboxcolour, drawbboxthickness,
                     0, 0);
#line 620
    tmp___3 = fixed(depth);
#line 620
    tmp___4 = fixed(width);
#line 620
    tmp___5 = fixed(- bbox[3] + bbox[1]);
#line 620
    tmp___6 = fixed(0);
#line 620
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"<rect x=\"%s\" y=\"%s\" width=\"%s\" height=\"%s\" fill=\"none\" stroke=%s/>\n",
            tmp___6, tmp___5, tmp___4, tmp___3, stroke);
    }
  }
#line 631
  level = min_level;
  {
#line 631
  while (1) {
    while_continue: /* CIL Label */ ;
#line 631
    if (! (level <= max_level)) {
#line 631
      goto while_break;
    }
#line 635
    p = main_item_base;
    {
#line 635
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 635
      if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 635
        goto while_break___0;
      }
#line 637
      restart = 0;
#line 638
      move_needed = 0;
#line 639
      startx = 0;
#line 639
      starty = 0;
#line 643
      if (p->level == level) {
        {
#line 645
        if (p->type == 0) {
#line 645
          goto case_0;
        }
#line 652
        if (p->type == 2) {
#line 652
          goto case_2;
        }
#line 725
        if (p->type == 1) {
#line 725
          goto case_1;
        }
#line 730
        if (p->type == 3) {
#line 730
          goto case_3;
        }
#line 736
        if (p->type == 5) {
#line 736
          goto case_5;
        }
#line 736
        if (p->type == 4) {
#line 736
          goto case_5;
        }
#line 643
        goto switch_break;
        case_0: /* CIL Label */ 
#line 646
        ppa = (item_arc *)p;
#line 647
        if (ppa->arrow_start) {
#line 647
          restart = 1;
        }
        {
#line 648
        tmp___7 = cos(ppa->angle1);
#line 648
        startx = p->x + (unit )((double )ppa->radius * tmp___7);
#line 649
        tmp___8 = sin(ppa->angle1);
#line 649
        starty = p->y + (unit )((double )ppa->radius * tmp___8);
        }
#line 650
        goto ARCLINE;
        case_2: /* CIL Label */ 
#line 653
        ppl = (item_line *)p;
#line 654
        if (ppl->arrow_start) {
#line 654
          restart = 1;
        }
#line 655
        startx = p->x;
#line 656
        starty = p->y;
        ARCLINE: 
#line 662
        if (startx != at_x) {
#line 662
          restart = 1;
        } else
#line 662
        if (starty != at_y) {
#line 662
          restart = 1;
        }
#line 667
        if (fillpending) {
          {
#line 669
          tmp___9 = samecolour(p->shapefilled, line_fill_colour);
          }
#line 669
          if (! tmp___9) {
#line 669
            restart = 1;
          }
        } else {
          {
#line 673
          tmp___10 = samecolour(p->shapefilled, unfilled);
          }
#line 673
          if (! tmp___10) {
#line 673
            restart = 1;
          }
        }
#line 676
        if (strokepending) {
          {
#line 678
          tmp___11 = samecolour(p->colour, stroke_colour);
          }
#line 678
          if (tmp___11) {
#line 678
            if (p->style == 1) {
#line 683
              restart = 1;
            } else
#line 678
            if (stroke_thickness != p->thickness) {
#line 683
              restart = 1;
            } else
#line 678
            if (stroke_dash1 != p->dash1) {
#line 683
              restart = 1;
            } else
#line 678
            if (stroke_dash2 != p->dash2) {
#line 683
              restart = 1;
            }
          } else {
#line 683
            restart = 1;
          }
        } else
#line 687
        if (p->style != 1) {
#line 687
          restart = 1;
        }
#line 692
        if (restart) {
          {
#line 692
          end_line_fillstroke(p);
          }
        }
#line 696
        if (! strokepending) {
#line 696
          if (p->style != 1) {
#line 698
            stroke_thickness = p->thickness;
#line 699
            stroke_dash1 = p->dash1;
#line 700
            stroke_dash2 = p->dash2;
#line 701
            stroke_colour = p->colour;
#line 702
            strokepending = 1;
#line 703
            pathstart = p;
#line 704
            move_needed = 1;
          }
        }
#line 709
        if (! fillpending) {
          {
#line 709
          tmp___12 = samecolour(p->shapefilled, unfilled);
          }
#line 709
          if (! tmp___12) {
#line 711
            line_fill_colour = p->shapefilled;
#line 712
            fillpending = 1;
#line 713
            pathstart = p;
#line 714
            move_needed = 1;
          }
        }
#line 719
        if (p->type == 0) {
          {
#line 720
          write_arc((item_arc *)p, move_needed, startx, starty);
          }
        } else {
          {
#line 722
          write_line((item_line *)p, move_needed);
          }
        }
#line 723
        goto switch_break;
        case_1: /* CIL Label */ 
        {
#line 726
        end_line_fillstroke(p);
#line 727
        write_box((item_box *)p);
        }
#line 728
        goto switch_break;
        case_3: /* CIL Label */ 
        {
#line 731
        end_line_fillstroke(p);
#line 732
        write_strings(p);
        }
#line 733
        goto switch_break;
        case_5: /* CIL Label */ 
        case_4: /* CIL Label */ 
        {
#line 737
        end_line_fillstroke(p);
        }
#line 738
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
      } else {
        {
#line 743
        end_line_fillstroke(p);
        }
      }
#line 635
      p = p->next;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 746
    end_line_fillstroke((item *)((void *)0));
#line 631
    level ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 749
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"</g></svg>\n");
  }
#line 750
  return;
}
}
#line 479 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int const   utf8_table1[6] ;
#line 480
int const   utf8_table2[6] ;
#line 486
entity_block entity_list[306] ;
#line 487
int entity_list_count ;
#line 491
int nonulist[43] ;
#line 492
int nonucount ;
#line 493
int u2scount ;
#line 494
u2sencod u2slist[306] ;
#line 22 "/home/june/collector/temp/aspic-1.05/src/tables.c"
int const   utf8_table1[6]  = {      (int const   )127,      (int const   )2047,      (int const   )65535,      (int const   )2097151, 
        (int const   )67108863,      (int const   )2147483647};
#line 28 "/home/june/collector/temp/aspic-1.05/src/tables.c"
int const   utf8_table2[6]  = {      (int const   )0,      (int const   )192,      (int const   )224,      (int const   )240, 
        (int const   )248,      (int const   )252};
#line 29 "/home/june/collector/temp/aspic-1.05/src/tables.c"
int const   utf8_table3[6]  = {      (int const   )255,      (int const   )31,      (int const   )15,      (int const   )7, 
        (int const   )3,      (int const   )1};
#line 35 "/home/june/collector/temp/aspic-1.05/src/tables.c"
uschar const   utf8_table4[64]  = 
#line 35
  {      (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )1,      (uschar const   )1,      (uschar const   )1,      (uschar const   )1, 
        (uschar const   )2,      (uschar const   )2,      (uschar const   )2,      (uschar const   )2, 
        (uschar const   )2,      (uschar const   )2,      (uschar const   )2,      (uschar const   )2, 
        (uschar const   )2,      (uschar const   )2,      (uschar const   )2,      (uschar const   )2, 
        (uschar const   )2,      (uschar const   )2,      (uschar const   )2,      (uschar const   )2, 
        (uschar const   )3,      (uschar const   )3,      (uschar const   )3,      (uschar const   )3, 
        (uschar const   )3,      (uschar const   )3,      (uschar const   )3,      (uschar const   )3, 
        (uschar const   )4,      (uschar const   )4,      (uschar const   )4,      (uschar const   )4, 
        (uschar const   )5,      (uschar const   )5,      (uschar const   )5,      (uschar const   )5};
#line 50 "/home/june/collector/temp/aspic-1.05/src/tables.c"
entity_block entity_list[306]  = 
#line 50
  {      {(unsigned char *)"AElig", 198}, 
        {(unsigned char *)"Aacute", 193}, 
        {(unsigned char *)"Abreve", 258}, 
        {(unsigned char *)"Acirc", 194}, 
        {(unsigned char *)"Agrave", 192}, 
        {(unsigned char *)"Amacr", 256}, 
        {(unsigned char *)"Aogon", 260}, 
        {(unsigned char *)"Aring", 197}, 
        {(unsigned char *)"Atilde", 195}, 
        {(unsigned char *)"Auml", 196}, 
        {(unsigned char *)"Cacute", 262}, 
        {(unsigned char *)"Ccaron", 268}, 
        {(unsigned char *)"Ccedil", 199}, 
        {(unsigned char *)"Ccirc", 264}, 
        {(unsigned char *)"Cdot", 266}, 
        {(unsigned char *)"Dagger", 8225}, 
        {(unsigned char *)"Dcaron", 270}, 
        {(unsigned char *)"Dstrok", 272}, 
        {(unsigned char *)"ENG", 330}, 
        {(unsigned char *)"ETH", 208}, 
        {(unsigned char *)"Eacute", 201}, 
        {(unsigned char *)"Ecaron", 282}, 
        {(unsigned char *)"Ecirc", 202}, 
        {(unsigned char *)"Edot", 278}, 
        {(unsigned char *)"Egrave", 200}, 
        {(unsigned char *)"Emacr", 274}, 
        {(unsigned char *)"Eogon", 280}, 
        {(unsigned char *)"Euml", 203}, 
        {(unsigned char *)"Euro", 8364}, 
        {(unsigned char *)"Gbreve", 286}, 
        {(unsigned char *)"Gcedil", 290}, 
        {(unsigned char *)"Gcirc", 284}, 
        {(unsigned char *)"Gdot", 288}, 
        {(unsigned char *)"Hcirc", 292}, 
        {(unsigned char *)"Hstrok", 294}, 
        {(unsigned char *)"IJlig", 306}, 
        {(unsigned char *)"Iacute", 205}, 
        {(unsigned char *)"Icirc", 206}, 
        {(unsigned char *)"Idot", 304}, 
        {(unsigned char *)"Igrave", 204}, 
        {(unsigned char *)"Imacr", 298}, 
        {(unsigned char *)"Iogon", 302}, 
        {(unsigned char *)"Itilde", 296}, 
        {(unsigned char *)"Iuml", 207}, 
        {(unsigned char *)"Jcirc", 308}, 
        {(unsigned char *)"Kcedil", 310}, 
        {(unsigned char *)"Lacute", 313}, 
        {(unsigned char *)"Lcaron", 317}, 
        {(unsigned char *)"Lcedil", 315}, 
        {(unsigned char *)"Lmidot", 319}, 
        {(unsigned char *)"Lstrok", 321}, 
        {(unsigned char *)"Nacute", 323}, 
        {(unsigned char *)"Ncaron", 327}, 
        {(unsigned char *)"Ncedil", 325}, 
        {(unsigned char *)"Ntilde", 209}, 
        {(unsigned char *)"OElig", 338}, 
        {(unsigned char *)"Oacute", 211}, 
        {(unsigned char *)"Ocirc", 212}, 
        {(unsigned char *)"Odblac", 336}, 
        {(unsigned char *)"Ograve", 210}, 
        {(unsigned char *)"Omacr", 332}, 
        {(unsigned char *)"Oslash", 216}, 
        {(unsigned char *)"Otilde", 213}, 
        {(unsigned char *)"Ouml", 214}, 
        {(unsigned char *)"Racute", 340}, 
        {(unsigned char *)"Rcaron", 344}, 
        {(unsigned char *)"Rcedil", 342}, 
        {(unsigned char *)"Sacute", 346}, 
        {(unsigned char *)"Scaron", 352}, 
        {(unsigned char *)"Scedil", 350}, 
        {(unsigned char *)"Scirc", 348}, 
        {(unsigned char *)"THORN", 222}, 
        {(unsigned char *)"Tcaron", 356}, 
        {(unsigned char *)"Tcedil", 354}, 
        {(unsigned char *)"Tstrok", 358}, 
        {(unsigned char *)"Uacute", 218}, 
        {(unsigned char *)"Ubreve", 364}, 
        {(unsigned char *)"Ucirc", 219}, 
        {(unsigned char *)"Udblac", 368}, 
        {(unsigned char *)"Ugrave", 217}, 
        {(unsigned char *)"Umacr", 362}, 
        {(unsigned char *)"Uogon", 370}, 
        {(unsigned char *)"Uring", 366}, 
        {(unsigned char *)"Utilde", 360}, 
        {(unsigned char *)"Uuml", 220}, 
        {(unsigned char *)"Wcirc", 372}, 
        {(unsigned char *)"Yacute", 221}, 
        {(unsigned char *)"Ycirc", 374}, 
        {(unsigned char *)"Yuml", 376}, 
        {(unsigned char *)"Zacute", 377}, 
        {(unsigned char *)"Zcaron", 381}, 
        {(unsigned char *)"Zdot", 379}, 
        {(unsigned char *)"aacute", 225}, 
        {(unsigned char *)"abreve", 259}, 
        {(unsigned char *)"acirc", 226}, 
        {(unsigned char *)"aelig", 230}, 
        {(unsigned char *)"agrave", 224}, 
        {(unsigned char *)"amacr", 257}, 
        {(unsigned char *)"amp", 38}, 
        {(unsigned char *)"aogon", 261}, 
        {(unsigned char *)"aring", 229}, 
        {(unsigned char *)"atilde", 227}, 
        {(unsigned char *)"auml", 228}, 
        {(unsigned char *)"blank", 9251}, 
        {(unsigned char *)"blk12", 9618}, 
        {(unsigned char *)"blk14", 9617}, 
        {(unsigned char *)"blk34", 9619}, 
        {(unsigned char *)"block", 9608}, 
        {(unsigned char *)"brvbar", 166}, 
        {(unsigned char *)"bull", 8226}, 
        {(unsigned char *)"cacute", 263}, 
        {(unsigned char *)"caret", 8257}, 
        {(unsigned char *)"ccaron", 269}, 
        {(unsigned char *)"ccedil", 231}, 
        {(unsigned char *)"ccirc", 265}, 
        {(unsigned char *)"cdot", 267}, 
        {(unsigned char *)"cent", 162}, 
        {(unsigned char *)"check", 10003}, 
        {(unsigned char *)"cir", 9675}, 
        {(unsigned char *)"clubs", 9827}, 
        {(unsigned char *)"copy", 169}, 
        {(unsigned char *)"copysr", 8471}, 
        {(unsigned char *)"cross", 10007}, 
        {(unsigned char *)"curren", 164}, 
        {(unsigned char *)"dagger", 8224}, 
        {(unsigned char *)"darr", 8595}, 
        {(unsigned char *)"dash", 8208}, 
        {(unsigned char *)"dcaron", 271}, 
        {(unsigned char *)"deg", 176}, 
        {(unsigned char *)"diams", 9830}, 
        {(unsigned char *)"divide", 247}, 
        {(unsigned char *)"dlcrop", 8973}, 
        {(unsigned char *)"drcrop", 8972}, 
        {(unsigned char *)"dstrok", 273}, 
        {(unsigned char *)"dtri", 9663}, 
        {(unsigned char *)"dtrif", 9662}, 
        {(unsigned char *)"eacute", 233}, 
        {(unsigned char *)"ecaron", 283}, 
        {(unsigned char *)"ecirc", 234}, 
        {(unsigned char *)"edot", 279}, 
        {(unsigned char *)"egrave", 232}, 
        {(unsigned char *)"emacr", 275}, 
        {(unsigned char *)"eng", 331}, 
        {(unsigned char *)"eogon", 281}, 
        {(unsigned char *)"eth", 240}, 
        {(unsigned char *)"euml", 235}, 
        {(unsigned char *)"female", 9792}, 
        {(unsigned char *)"ffilig", 64259}, 
        {(unsigned char *)"fflig", 64256}, 
        {(unsigned char *)"ffllig", 64260}, 
        {(unsigned char *)"filig", 64257}, 
        {(unsigned char *)"flat", 9837}, 
        {(unsigned char *)"fllig", 64258}, 
        {(unsigned char *)"frac12", 189}, 
        {(unsigned char *)"frac13", 8531}, 
        {(unsigned char *)"frac14", 188}, 
        {(unsigned char *)"frac15", 8533}, 
        {(unsigned char *)"frac16", 8537}, 
        {(unsigned char *)"frac18", 8539}, 
        {(unsigned char *)"frac23", 8532}, 
        {(unsigned char *)"frac25", 8534}, 
        {(unsigned char *)"frac34", 190}, 
        {(unsigned char *)"frac35", 8535}, 
        {(unsigned char *)"frac38", 8540}, 
        {(unsigned char *)"frac45", 8536}, 
        {(unsigned char *)"frac56", 8538}, 
        {(unsigned char *)"frac58", 8541}, 
        {(unsigned char *)"frac78", 8542}, 
        {(unsigned char *)"gacute", 501}, 
        {(unsigned char *)"gbreve", 287}, 
        {(unsigned char *)"gcirc", 285}, 
        {(unsigned char *)"gdot", 289}, 
        {(unsigned char *)"gt", 62}, 
        {(unsigned char *)"half", 189}, 
        {(unsigned char *)"hcirc", 293}, 
        {(unsigned char *)"hearts", 9829}, 
        {(unsigned char *)"hellip", 8230}, 
        {(unsigned char *)"horbar", 8213}, 
        {(unsigned char *)"hstrok", 295}, 
        {(unsigned char *)"hybull", 8259}, 
        {(unsigned char *)"iacute", 237}, 
        {(unsigned char *)"icirc", 238}, 
        {(unsigned char *)"iexcl", 161}, 
        {(unsigned char *)"igrave", 236}, 
        {(unsigned char *)"ijlig", 307}, 
        {(unsigned char *)"imacr", 299}, 
        {(unsigned char *)"incare", 8453}, 
        {(unsigned char *)"inodot", 305}, 
        {(unsigned char *)"iogon", 303}, 
        {(unsigned char *)"iquest", 191}, 
        {(unsigned char *)"itilde", 297}, 
        {(unsigned char *)"iuml", 239}, 
        {(unsigned char *)"jcirc", 309}, 
        {(unsigned char *)"kcedil", 311}, 
        {(unsigned char *)"kgreen", 312}, 
        {(unsigned char *)"lacute", 314}, 
        {(unsigned char *)"laquo", 171}, 
        {(unsigned char *)"larr", 8592}, 
        {(unsigned char *)"lcaron", 318}, 
        {(unsigned char *)"lcedil", 316}, 
        {(unsigned char *)"ldquo", 8220}, 
        {(unsigned char *)"ldquor", 8222}, 
        {(unsigned char *)"lhblk", 9604}, 
        {(unsigned char *)"lmidot", 320}, 
        {(unsigned char *)"loz", 9674}, 
        {(unsigned char *)"lsquo", 8216}, 
        {(unsigned char *)"lsquor", 8218}, 
        {(unsigned char *)"lstrok", 322}, 
        {(unsigned char *)"lt", 60}, 
        {(unsigned char *)"ltri", 9667}, 
        {(unsigned char *)"ltrif", 9666}, 
        {(unsigned char *)"male", 9794}, 
        {(unsigned char *)"malt", 10016}, 
        {(unsigned char *)"marker", 9646}, 
        {(unsigned char *)"mdash", 8212}, 
        {(unsigned char *)"micro", 181}, 
        {(unsigned char *)"middot", 183}, 
        {(unsigned char *)"mldr", 8230}, 
        {(unsigned char *)"nacute", 324}, 
        {(unsigned char *)"napos", 329}, 
        {(unsigned char *)"natur", 9838}, 
        {(unsigned char *)"nbsp", 160}, 
        {(unsigned char *)"ncaron", 328}, 
        {(unsigned char *)"ncedil", 326}, 
        {(unsigned char *)"ndash", 8211}, 
        {(unsigned char *)"nldr", 8229}, 
        {(unsigned char *)"not", 172}, 
        {(unsigned char *)"ntilde", 241}, 
        {(unsigned char *)"oacute", 243}, 
        {(unsigned char *)"ocirc", 244}, 
        {(unsigned char *)"odblac", 337}, 
        {(unsigned char *)"oelig", 339}, 
        {(unsigned char *)"ograve", 242}, 
        {(unsigned char *)"ohm", 8486}, 
        {(unsigned char *)"omacr", 333}, 
        {(unsigned char *)"ordf", 170}, 
        {(unsigned char *)"ordm", 186}, 
        {(unsigned char *)"oslash", 248}, 
        {(unsigned char *)"otilde", 245}, 
        {(unsigned char *)"ouml", 246}, 
        {(unsigned char *)"para", 182}, 
        {(unsigned char *)"phone", 9742}, 
        {(unsigned char *)"plusmn", 177}, 
        {(unsigned char *)"pound", 163}, 
        {(unsigned char *)"racute", 341}, 
        {(unsigned char *)"raquo", 187}, 
        {(unsigned char *)"rarr", 8594}, 
        {(unsigned char *)"rcaron", 345}, 
        {(unsigned char *)"rcedil", 343}, 
        {(unsigned char *)"rdquo", 8221}, 
        {(unsigned char *)"rdquor", 8221}, 
        {(unsigned char *)"rect", 9645}, 
        {(unsigned char *)"reg", 174}, 
        {(unsigned char *)"rsquo", 8217}, 
        {(unsigned char *)"rsquor", 8217}, 
        {(unsigned char *)"rtri", 9657}, 
        {(unsigned char *)"rtrif", 9656}, 
        {(unsigned char *)"rx", 8478}, 
        {(unsigned char *)"sacute", 347}, 
        {(unsigned char *)"scaron", 353}, 
        {(unsigned char *)"scedil", 351}, 
        {(unsigned char *)"scirc", 349}, 
        {(unsigned char *)"sect", 167}, 
        {(unsigned char *)"sext", 10038}, 
        {(unsigned char *)"sharp", 9839}, 
        {(unsigned char *)"shy", 173}, 
        {(unsigned char *)"spades", 9824}, 
        {(unsigned char *)"squ", 9633}, 
        {(unsigned char *)"squf", 9642}, 
        {(unsigned char *)"sup1", 185}, 
        {(unsigned char *)"sup2", 178}, 
        {(unsigned char *)"sup3", 179}, 
        {(unsigned char *)"szlig", 223}, 
        {(unsigned char *)"target", 8982}, 
        {(unsigned char *)"tcaron", 357}, 
        {(unsigned char *)"tcedil", 355}, 
        {(unsigned char *)"telrec", 8981}, 
        {(unsigned char *)"thorn", 254}, 
        {(unsigned char *)"times", 215}, 
        {(unsigned char *)"trade", 8482}, 
        {(unsigned char *)"tstrok", 359}, 
        {(unsigned char *)"uacute", 250}, 
        {(unsigned char *)"uarr", 8593}, 
        {(unsigned char *)"ubreve", 365}, 
        {(unsigned char *)"ucirc", 251}, 
        {(unsigned char *)"udblac", 369}, 
        {(unsigned char *)"ugrave", 249}, 
        {(unsigned char *)"uhblk", 9600}, 
        {(unsigned char *)"ulcrop", 8975}, 
        {(unsigned char *)"umacr", 363}, 
        {(unsigned char *)"uogon", 371}, 
        {(unsigned char *)"urcrop", 8974}, 
        {(unsigned char *)"uring", 367}, 
        {(unsigned char *)"utilde", 361}, 
        {(unsigned char *)"utri", 9653}, 
        {(unsigned char *)"utrif", 9652}, 
        {(unsigned char *)"uuml", 252}, 
        {(unsigned char *)"vellip", 8942}, 
        {(unsigned char *)"wcirc", 373}, 
        {(unsigned char *)"yacute", 253}, 
        {(unsigned char *)"ycirc", 375}, 
        {(unsigned char *)"yen", 165}, 
        {(unsigned char *)"yuml", 255}, 
        {(unsigned char *)"zacute", 378}, 
        {(unsigned char *)"zcaron", 382}, 
        {(unsigned char *)"zdot", 380}};
#line 359 "/home/june/collector/temp/aspic-1.05/src/tables.c"
int entity_list_count  =    (int )(sizeof(entity_list) / sizeof(entity_block ));
#line 370 "/home/june/collector/temp/aspic-1.05/src/tables.c"
int nonulist[43]  = 
#line 370
  {      916,      8364,      536,      538, 
        774,      780,      770,      806, 
        8224,      8225,      775,      8230, 
        8212,      8211,      64257,      64258, 
        402,      8260,      8805,      8249, 
        8250,      779,      8804,      9674, 
        8722,      8800,      808,      8706, 
        183,      8241,      8222,      8220, 
        8221,      8216,      8217,      8218, 
        8730,      778,      537,      8721, 
        539,      771,      8482};
#line 416 "/home/june/collector/temp/aspic-1.05/src/tables.c"
int nonucount  =    (int )(sizeof(nonulist) / sizeof(int ));
#line 427 "/home/june/collector/temp/aspic-1.05/src/tables.c"
u2sencod u2slist[306]  = 
#line 427
  {      {913, 0, 65}, 
        {914, 0, 66}, 
        {915, 0, 71}, 
        {916, 0, 68}, 
        {917, 0, 69}, 
        {918, 0, 90}, 
        {919, 0, 72}, 
        {920, 0, 81}, 
        {921, 0, 73}, 
        {922, 0, 75}, 
        {923, 0, 76}, 
        {924, 0, 77}, 
        {925, 0, 78}, 
        {926, 0, 88}, 
        {927, 0, 79}, 
        {928, 0, 80}, 
        {929, 0, 82}, 
        {931, 0, 83}, 
        {932, 0, 84}, 
        {933, 0, 85}, 
        {934, 0, 70}, 
        {935, 0, 67}, 
        {936, 0, 89}, 
        {937, 0, 87}, 
        {945, 0, 97}, 
        {946, 0, 98}, 
        {947, 0, 103}, 
        {948, 0, 100}, 
        {949, 0, 101}, 
        {950, 0, 122}, 
        {951, 0, 104}, 
        {952, 0, 113}, 
        {953, 0, 105}, 
        {954, 0, 107}, 
        {955, 0, 108}, 
        {956, 0, 109}, 
        {957, 0, 110}, 
        {958, 0, 120}, 
        {959, 0, 111}, 
        {960, 0, 112}, 
        {961, 0, 114}, 
        {962, 0, 86}, 
        {963, 0, 115}, 
        {964, 0, 116}, 
        {965, 0, 117}, 
        {966, 0, 106}, 
        {967, 0, 99}, 
        {968, 0, 121}, 
        {969, 0, 119}, 
        {977, 0, 74}, 
        {978, 0, 161}, 
        {981, 0, 102}, 
        {982, 0, 118}, 
        {4778, 0, 239}, 
        {8242, 0, 162}, 
        {8243, 0, 178}, 
        {8364, 0, 160}, 
        {8465, 0, 193}, 
        {8472, 0, 195}, 
        {8476, 0, 194}, 
        {8501, 0, 192}, 
        {8592, 0, 172}, 
        {8593, 0, 173}, 
        {8594, 0, 174}, 
        {8595, 0, 175}, 
        {8596, 0, 171}, 
        {8629, 0, 191}, 
        {8656, 0, 220}, 
        {8657, 0, 221}, 
        {8658, 0, 222}, 
        {8659, 0, 223}, 
        {8660, 0, 219}, 
        {8704, 0, 34}, 
        {8706, 0, 182}, 
        {8707, 0, 36}, 
        {8709, 0, 198}, 
        {8711, 0, 209}, 
        {8712, 0, 206}, 
        {8713, 0, 207}, 
        {8717, 0, 39}, 
        {8719, 0, 213}, 
        {8721, 0, 229}, 
        {8725, 0, 164}, 
        {8730, 0, 214}, 
        {8733, 0, 181}, 
        {8734, 0, 165}, 
        {8736, 0, 208}, 
        {8745, 0, 199}, 
        {8746, 0, 200}, 
        {8747, 0, 242}, 
        {8756, 0, 92}, 
        {8764, 0, 123}, 
        {8773, 0, 64}, 
        {8776, 0, 187}, 
        {8800, 0, 185}, 
        {8801, 0, 186}, 
        {8804, 0, 163}, 
        {8805, 0, 179}, 
        {8834, 0, 204}, 
        {8835, 0, 201}, 
        {8836, 0, 203}, 
        {8838, 0, 205}, 
        {8839, 0, 202}, 
        {8853, 0, 197}, 
        {8855, 0, 196}, 
        {8869, 0, 93}, 
        {8896, 0, 217}, 
        {8897, 0, 218}, 
        {8901, 0, 215}, 
        {8992, 0, 243}, 
        {8993, 0, 245}, 
        {9001, 0, 225}, 
        {9002, 0, 241}, 
        {9115, 0, 230}, 
        {9116, 0, 231}, 
        {9117, 0, 232}, 
        {9118, 0, 246}, 
        {9119, 0, 247}, 
        {9120, 0, 248}, 
        {9121, 0, 233}, 
        {9122, 0, 234}, 
        {9123, 0, 235}, 
        {9124, 0, 249}, 
        {9125, 0, 250}, 
        {9126, 0, 251}, 
        {9127, 0, 236}, 
        {9128, 0, 237}, 
        {9129, 0, 238}, 
        {9131, 0, 252}, 
        {9132, 0, 253}, 
        {9133, 0, 254}, 
        {9134, 0, 244}, 
        {9632, 1, 110}, 
        {9650, 1, 115}, 
        {9660, 1, 116}, 
        {9670, 1, 117}, 
        {9674, 0, 224}, 
        {9687, 1, 119}, 
        {9742, 1, 37}, 
        {9755, 1, 42}, 
        {9758, 1, 43}, 
        {9824, 0, 170}, 
        {9827, 0, 167}, 
        {9829, 0, 169}, 
        {9830, 0, 168}, 
        {9899, 1, 108}, 
        {9985, 1, 33}, 
        {9986, 1, 34}, 
        {9987, 1, 35}, 
        {9988, 1, 36}, 
        {9990, 1, 38}, 
        {9991, 1, 39}, 
        {9992, 1, 40}, 
        {9993, 1, 41}, 
        {9996, 1, 44}, 
        {9997, 1, 45}, 
        {9998, 1, 46}, 
        {9999, 1, 47}, 
        {10000, 1, 48}, 
        {10001, 1, 49}, 
        {10002, 1, 50}, 
        {10003, 1, 51}, 
        {10004, 1, 52}, 
        {10005, 1, 53}, 
        {10006, 1, 54}, 
        {10007, 1, 55}, 
        {10008, 1, 56}, 
        {10009, 1, 57}, 
        {10010, 1, 58}, 
        {10011, 1, 59}, 
        {10012, 1, 60}, 
        {10013, 1, 61}, 
        {10014, 1, 62}, 
        {10015, 1, 63}, 
        {10016, 1, 64}, 
        {10017, 1, 65}, 
        {10018, 1, 66}, 
        {10019, 1, 67}, 
        {10020, 1, 68}, 
        {10021, 1, 69}, 
        {10022, 1, 70}, 
        {10023, 1, 71}, 
        {10025, 1, 73}, 
        {10026, 1, 74}, 
        {10027, 1, 75}, 
        {10028, 1, 76}, 
        {10029, 1, 77}, 
        {10030, 1, 78}, 
        {10031, 1, 79}, 
        {10032, 1, 80}, 
        {10033, 1, 81}, 
        {10034, 1, 82}, 
        {10035, 1, 83}, 
        {10036, 1, 84}, 
        {10037, 1, 85}, 
        {10038, 1, 86}, 
        {10039, 1, 87}, 
        {10040, 1, 88}, 
        {10041, 1, 89}, 
        {10042, 1, 90}, 
        {10043, 1, 91}, 
        {10044, 1, 92}, 
        {10045, 1, 93}, 
        {10046, 1, 94}, 
        {10047, 1, 95}, 
        {10048, 1, 96}, 
        {10049, 1, 97}, 
        {10050, 1, 98}, 
        {10051, 1, 99}, 
        {10052, 1, 100}, 
        {10053, 1, 101}, 
        {10054, 1, 102}, 
        {10055, 1, 103}, 
        {10056, 1, 104}, 
        {10057, 1, 105}, 
        {10058, 1, 106}, 
        {10059, 1, 107}, 
        {10061, 1, 109}, 
        {10063, 1, 111}, 
        {10064, 1, 112}, 
        {10065, 1, 113}, 
        {10066, 1, 114}, 
        {10070, 1, 118}, 
        {10072, 1, 120}, 
        {10073, 1, 121}, 
        {10074, 1, 122}, 
        {10075, 1, 123}, 
        {10076, 1, 124}, 
        {10077, 1, 125}, 
        {10078, 1, 126}, 
        {10081, 1, 161}, 
        {10082, 1, 162}, 
        {10083, 1, 163}, 
        {10084, 1, 164}, 
        {10085, 1, 165}, 
        {10086, 1, 166}, 
        {10087, 1, 167}, 
        {10102, 1, 182}, 
        {10103, 1, 183}, 
        {10104, 1, 184}, 
        {10105, 1, 185}, 
        {10106, 1, 186}, 
        {10107, 1, 187}, 
        {10108, 1, 188}, 
        {10109, 1, 189}, 
        {10110, 1, 190}, 
        {10111, 1, 191}, 
        {10112, 1, 192}, 
        {10113, 1, 193}, 
        {10114, 1, 194}, 
        {10115, 1, 195}, 
        {10116, 1, 196}, 
        {10117, 1, 197}, 
        {10118, 1, 198}, 
        {10119, 1, 199}, 
        {10120, 1, 200}, 
        {10121, 1, 201}, 
        {10122, 1, 202}, 
        {10123, 1, 203}, 
        {10124, 1, 204}, 
        {10125, 1, 205}, 
        {10126, 1, 206}, 
        {10127, 1, 207}, 
        {10128, 1, 208}, 
        {10129, 1, 209}, 
        {10130, 1, 210}, 
        {10131, 1, 211}, 
        {10132, 1, 212}, 
        {10136, 1, 216}, 
        {10137, 1, 217}, 
        {10138, 1, 218}, 
        {10139, 1, 219}, 
        {10140, 1, 220}, 
        {10141, 1, 221}, 
        {10142, 1, 222}, 
        {10143, 1, 223}, 
        {10144, 1, 224}, 
        {10145, 1, 225}, 
        {10146, 1, 226}, 
        {10147, 1, 227}, 
        {10148, 1, 228}, 
        {10149, 1, 229}, 
        {10150, 1, 230}, 
        {10151, 1, 231}, 
        {10152, 1, 232}, 
        {10153, 1, 233}, 
        {10154, 1, 234}, 
        {10155, 1, 235}, 
        {10156, 1, 236}, 
        {10157, 1, 237}, 
        {10158, 1, 238}, 
        {10159, 1, 239}, 
        {10161, 1, 241}, 
        {10162, 1, 242}, 
        {10163, 1, 243}, 
        {10164, 1, 244}, 
        {10165, 1, 245}, 
        {10166, 1, 246}, 
        {10167, 1, 247}, 
        {10168, 1, 248}, 
        {10169, 1, 249}, 
        {10170, 1, 250}, 
        {10171, 1, 251}, 
        {10172, 1, 252}, 
        {10173, 1, 253}, 
        {10174, 1, 254}};
#line 736 "/home/june/collector/temp/aspic-1.05/src/tables.c"
int u2scount  =    (int )(sizeof(u2slist) / sizeof(u2sencod ));
#line 181 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) fabs)(double __x )  __attribute__((__const__)) ;
#line 775 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) abs)(int __x )  __attribute__((__const__)) ;
#line 789
extern  __attribute__((__nothrow__)) div_t ( __attribute__((__leaf__)) div)(int __numer ,
                                                                            int __denom )  __attribute__((__const__)) ;
#line 439 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit drawbbox ;
#line 454
unit resolution ;
#line 511
unit find_fontdepth(item *p , stringchain *s ) ;
#line 19 "/home/june/collector/temp/aspic-1.05/src/write.c"
BOOL samecolour(colour a , colour b ) 
{ 
  int tmp ;

  {
#line 22
  if (a.red == b.red) {
#line 22
    if (a.green == b.green) {
#line 22
      if (a.blue == b.blue) {
#line 22
        tmp = 1;
      } else {
#line 22
        tmp = 0;
      }
    } else {
#line 22
      tmp = 0;
    }
  } else {
#line 22
    tmp = 0;
  }
#line 22
  return (tmp);
}
}
#line 41 "/home/june/collector/temp/aspic-1.05/src/write.c"
unit find_linedepth(item *p , stringchain *s ) 
{ 
  int fontsize ;
  bindfont *b ;
  int tmp ;

  {
#line 44
  fontsize = 12000;
#line 46
  b = font_base;
  {
#line 46
  while (1) {
    while_continue: /* CIL Label */ ;
#line 46
    if (! ((unsigned long )b != (unsigned long )((void *)0))) {
#line 46
      goto while_break;
    }
#line 48
    if (b->number == s->font) {
#line 50
      fontsize = b->size;
#line 51
      goto while_break;
    }
#line 46
    b = b->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 54
  if (fontsize > p->linedepth) {
#line 54
    tmp = fontsize;
  } else {
#line 54
    tmp = p->linedepth;
  }
#line 54
  return (tmp);
}
}
#line 73 "/home/june/collector/temp/aspic-1.05/src/write.c"
unit find_fontdepth(item *p , stringchain *s ) 
{ 
  int fontdepth ;
  bindfont *b ;
  int tmp ;

  {
#line 76
  fontdepth = 6000;
#line 78
  b = font_base;
  {
#line 78
  while (1) {
    while_continue: /* CIL Label */ ;
#line 78
    if (! ((unsigned long )b != (unsigned long )((void *)0))) {
#line 78
      goto while_break;
    }
#line 80
    if (b->number == s->font) {
#line 82
      fontdepth = b->size / 2;
#line 83
      goto while_break;
    }
#line 78
    b = b->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 87
  if (fontdepth > p->fontdepth) {
#line 87
    tmp = fontdepth;
  } else {
#line 87
    tmp = p->fontdepth;
  }
#line 87
  return (tmp);
}
}
#line 96 "/home/june/collector/temp/aspic-1.05/src/write.c"
static void setbbox(unit *box , unit x , unit y , unit w , unit d ) 
{ 
  unit xx ;
  unit yy ;
  unit temp ;
  unit temp___0 ;

  {
#line 99
  xx = x + w;
#line 100
  yy = y + d;
#line 102
  if (x > xx) {
#line 102
    temp = x;
#line 102
    x = xx;
#line 102
    xx = temp;
  }
#line 103
  if (y > yy) {
#line 103
    temp___0 = y;
#line 103
    y = yy;
#line 103
    yy = temp___0;
  }
#line 105
  if (x < *(box + 0)) {
#line 105
    *(box + 0) = x;
  }
#line 106
  if (y < *(box + 1)) {
#line 106
    *(box + 1) = y;
  }
#line 107
  if (xx > *(box + 2)) {
#line 107
    *(box + 2) = xx;
  }
#line 108
  if (yy > *(box + 3)) {
#line 108
    *(box + 3) = yy;
  }
#line 109
  return;
}
}
#line 118 "/home/june/collector/temp/aspic-1.05/src/write.c"
void find_bbox(unit *box ) 
{ 
  item *p ;
  unit x ;
  unit y ;
  unit tmp ;
  unit tmp___0 ;
  BOOL tmp___1 ;
  item_arc *pp ;
  unit bx ;
  unit by ;
  unit cx ;
  unit cy ;
  double a1 ;
  double a2 ;
  double temp ;
  double tmp___2 ;
  double tmp___3 ;
  double tmp___4 ;
  double tmp___5 ;
  item_box *pp___0 ;
  unit width ;
  unit depth ;
  unit bx___0 ;
  unit by___0 ;
  item_line *pp___1 ;
  unit x___0 ;
  unit y___0 ;
  unit width___0 ;
  unit depth___0 ;
  unit t ;
  unit ww ;
  stringchain *s ;
  bindfont *f ;
  int len ;
  int depth___1 ;
  int tmp___6 ;
  int tmp___7 ;
  unit tmp___8 ;

  {
#line 124
  tmp = 2147483647;
#line 124
  *(box + 1) = tmp;
#line 124
  *(box + 0) = tmp;
#line 125
  tmp___0 = (-0x7FFFFFFF-1);
#line 125
  *(box + 3) = tmp___0;
#line 125
  *(box + 2) = tmp___0;
#line 127
  p = main_item_base;
  {
#line 127
  while (1) {
    while_continue: /* CIL Label */ ;
#line 127
    if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 127
      goto while_break;
    }
#line 129
    if (p->style == 1) {
#line 129
      if ((unsigned long )p->strings == (unsigned long )((void *)0)) {
        {
#line 129
        tmp___1 = samecolour(p->shapefilled, unfilled);
        }
#line 129
        if (tmp___1) {
#line 132
          goto __Cont;
        }
      }
    }
    {
#line 136
    if (p->type == 0) {
#line 136
      goto case_0;
    }
#line 184
    if (p->type == 1) {
#line 184
      goto case_1;
    }
#line 195
    if (p->type == 2) {
#line 195
      goto case_2;
    }
#line 219
    if (p->type == 5) {
#line 219
      goto case_5;
    }
#line 219
    if (p->type == 4) {
#line 219
      goto case_5;
    }
#line 219
    if (p->type == 3) {
#line 219
      goto case_5;
    }
#line 134
    goto switch_break;
    case_0: /* CIL Label */ 
#line 138
    pp = (item_arc *)p;
#line 140
    a1 = pp->angle1;
#line 141
    a2 = pp->angle2;
#line 143
    if (pp->cw) {
#line 143
      temp = a1;
#line 143
      a1 = a2;
#line 143
      a2 = temp;
    }
    {
#line 147
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 147
      if (! (a1 > a2)) {
#line 147
        goto while_break___0;
      }
#line 147
      a2 += 2.0 * pi;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 148
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 148
      if (! (a2 > 2.0 * pi)) {
#line 148
        goto while_break___1;
      }
#line 148
      a1 -= 2.0 * pi;
#line 148
      a2 -= 2.0 * pi;
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 149
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 149
      if (! (a2 < (double )0)) {
#line 149
        goto while_break___2;
      }
#line 149
      a1 += 2.0 * pi;
#line 149
      a2 += 2.0 * pi;
    }
    while_break___2: /* CIL Label */ ;
    }
    {
#line 151
    tmp___2 = cos(a1);
#line 151
    bx = (unit )((double )pp->radius * tmp___2);
#line 152
    tmp___3 = sin(a1);
#line 152
    by = (unit )((double )pp->radius * tmp___3);
#line 153
    tmp___4 = cos(a2);
#line 153
    cx = (unit )((double )pp->radius * tmp___4);
#line 154
    tmp___5 = sin(a2);
#line 154
    cy = (unit )((double )pp->radius * tmp___5);
    }
#line 156
    if (a1 < (double )0) {
#line 158
      if (bx < cx) {
#line 158
        cx = bx;
      }
#line 159
      bx = pp->radius;
    }
#line 162
    if (a1 < - pi) {
#line 162
      goto _L;
    } else
#line 162
    if (a1 < pi) {
#line 162
      if (a2 > pi) {
        _L: /* CIL Label */ 
#line 164
        if (cx > bx) {
#line 164
          bx = cx;
        }
#line 165
        cx = - pp->radius;
      }
    }
#line 168
    if (a1 < - 1.5 * pi) {
#line 168
      goto _L___0;
    } else
#line 168
    if (a1 < 0.5 * pi) {
#line 168
      if (a2 > 0.5 * pi) {
        _L___0: /* CIL Label */ 
#line 170
        if (by < cy) {
#line 170
          cy = by;
        }
#line 171
        by = pp->radius;
      }
    }
#line 174
    if (a1 < - 0.5 * pi) {
#line 174
      goto _L___1;
    } else
#line 174
    if (a1 < 1.5 * pi) {
#line 174
      if (a2 > 1.5 * pi) {
        _L___1: /* CIL Label */ 
#line 176
        if (cy > by) {
#line 176
          by = cy;
        }
#line 177
        cy = - pp->radius;
      }
    }
    {
#line 180
    setbbox(box, pp->x + bx, pp->y + by, cx - bx, cy - by);
    }
#line 182
    goto switch_break;
    case_1: /* CIL Label */ 
    {
#line 186
    pp___0 = (item_box *)p;
#line 187
    width = pp___0->width + pp___0->thickness;
#line 188
    depth = pp___0->depth + pp___0->thickness;
#line 189
    bx___0 = (pp___0->x - width / 2) - pp___0->thickness / 2;
#line 190
    by___0 = (pp___0->y - depth / 2) - pp___0->thickness / 2;
#line 191
    setbbox(box, bx___0, by___0, width, depth);
    }
#line 193
    goto switch_break;
    case_2: /* CIL Label */ 
#line 197
    pp___1 = (item_line *)p;
#line 198
    x___0 = pp___1->x;
#line 199
    y___0 = pp___1->y;
#line 200
    width___0 = pp___1->width;
#line 201
    depth___0 = pp___1->depth;
#line 202
    t = pp___1->thickness;
#line 204
    if (width___0 == 0) {
#line 204
      x___0 -= t / 2;
#line 204
      width___0 = t;
    }
#line 205
    if (depth___0 == 0) {
#line 205
      y___0 -= t / 2;
#line 205
      depth___0 = t;
    }
#line 207
    if (pp___1->arrow_start) {
#line 207
      goto _L___2;
    } else
#line 207
    if (pp___1->arrow_end) {
      _L___2: /* CIL Label */ 
#line 209
      ww = pp___1->arrow_y;
#line 210
      if (width___0 == 0) {
#line 210
        x___0 -= ww / 2;
#line 210
        width___0 = ww;
      } else
#line 211
      if (depth___0 == 0) {
#line 211
        y___0 -= ww / 2;
#line 211
        depth___0 = ww;
      }
    }
    {
#line 213
    setbbox(box, x___0, y___0, width___0, depth___0);
    }
#line 215
    goto switch_break;
    case_5: /* CIL Label */ 
    case_4: /* CIL Label */ 
    case_3: /* CIL Label */ 
#line 220
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 227
    if ((unsigned long )p->strings != (unsigned long )((void *)0)) {
      {
#line 229
      s = p->strings;
#line 230
      stringpos(p, & x, & y);
      }
      {
#line 232
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 235
        len = s->chcount;
#line 236
        depth___1 = p->fontdepth;
#line 238
        f = font_base;
        {
#line 238
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 238
          if (! ((unsigned long )f != (unsigned long )((void *)0))) {
#line 238
            goto while_break___4;
          }
#line 239
          if (f->number == s->font) {
#line 239
            goto while_break___4;
          }
#line 238
          f = f->next;
        }
        while_break___4: /* CIL Label */ ;
        }
#line 241
        if ((unsigned long )f != (unsigned long )((void *)0)) {
#line 243
          len *= f->size / 2;
#line 244
          if (depth___1 < f->size / 2) {
#line 244
            depth___1 = f->size / 2;
          }
        } else {
#line 246
          len *= 6000;
        }
#line 248
        if (s->justify == 2) {
#line 248
          tmp___7 = len / 2;
        } else {
#line 248
          if (s->justify == 1) {
#line 248
            tmp___6 = len;
          } else {
#line 248
            tmp___6 = 0;
          }
#line 248
          tmp___7 = tmp___6;
        }
        {
#line 248
        setbbox(box, x - tmp___7, y, len, depth___1);
#line 252
        s = s->next;
        }
#line 253
        if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 253
          goto while_break___3;
        }
        {
#line 254
        tmp___8 = find_linedepth(p, s);
#line 254
        y -= tmp___8;
        }
      }
      while_break___3: /* CIL Label */ ;
      }
    }
    __Cont: /* CIL Label */ 
#line 127
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 261
  if (drawbboxthickness > 0) {
#line 263
    *(box + 0) -= drawbbox;
#line 264
    *(box + 1) -= drawbbox;
#line 265
    *(box + 2) += drawbbox;
#line 266
    *(box + 3) += drawbbox;
  }
#line 268
  return;
}
}
#line 285 "/home/june/collector/temp/aspic-1.05/src/write.c"
unit rnd(unit value ) 
{ 
  int sign ;
  int tmp ;
  div_t split ;
  int tmp___0 ;
  div_t tmp___1 ;

  {
#line 288
  if (value < 0) {
#line 288
    tmp = -1;
  } else {
#line 288
    tmp = 1;
  }
  {
#line 288
  sign = tmp;
#line 289
  tmp___0 = abs(value);
#line 289
  tmp___1 = div(tmp___0, resolution);
#line 289
  split = tmp___1;
  }
#line 290
  if (split.rem > resolution / 2) {
#line 290
    (split.quot) ++;
  }
#line 291
  return ((split.quot * resolution) * sign);
}
}
#line 310 "/home/june/collector/temp/aspic-1.05/src/write.c"
static uschar fixed_buffer[200]  ;
#line 311 "/home/june/collector/temp/aspic-1.05/src/write.c"
static int fixed_ptr  =    0;
#line 313 "/home/june/collector/temp/aspic-1.05/src/write.c"
uschar *fixed(unit x ) 
{ 
  uschar *p ;
  int n ;
  size_t tmp ;

  {
#line 316
  p = fixed_buffer + fixed_ptr;
#line 317
  n = 0;
#line 318
  if (x < 0) {
#line 318
    *p = (uschar )'-';
#line 318
    x = - x;
#line 318
    n ++;
  }
  {
#line 319
  n = sprintf((char */* __restrict  */)((char *)(p + n)), (char const   */* __restrict  */)"%d",
              x / 1000);
#line 320
  n = x % 1000;
  }
#line 321
  if (n) {
    {
#line 321
    tmp = strlen((char const   *)p);
#line 321
    sprintf((char */* __restrict  */)((char *)(p + (int )tmp)), (char const   */* __restrict  */)".%03d",
            n);
    }
  }
#line 322
  fixed_ptr += 20;
#line 323
  if (fixed_ptr >= 200) {
#line 323
    fixed_ptr = 0;
  }
#line 324
  return (p);
}
}
#line 348 "/home/june/collector/temp/aspic-1.05/src/write.c"
void smallarc(unit radius1 , unit radius2 , double angle1 , double angle2 , void (*rbezier___2)(unit  ,
                                                                                                unit  ,
                                                                                                unit  ,
                                                                                                unit  ,
                                                                                                unit  ,
                                                                                                unit  ) ) 
{ 
  double r1 ;
  double r2 ;
  double x0 ;
  double x1 ;
  double x2 ;
  double x3 ;
  double xp ;
  double xq ;
  double y0___0 ;
  double y1___0 ;
  double y2 ;
  double y3 ;
  double yp ;
  double yq ;
  double arp ;
  double arq ;
  double ax ;
  double bx ;
  double cx ;
  double ay ;
  double by ;
  double cy ;
  double tmp ;
  double tmp___0 ;
  double tmp___1 ;
  double tmp___2 ;
  double tmp___3 ;
  double tmp___4 ;
  double tmp___5 ;
  double tmp___6 ;

  {
  {
#line 352
  r1 = (double )radius1;
#line 353
  r2 = (double )radius2;
#line 359
  arp = 0.6667 * angle1 + 0.3333 * angle2;
#line 360
  arq = 0.3333 * angle1 + 0.6667 * angle2;
#line 362
  tmp = cos(angle1);
#line 362
  x0 = r1 * tmp;
#line 363
  tmp___0 = sin(angle1);
#line 363
  y0___0 = r2 * tmp___0;
#line 365
  tmp___1 = cos(angle2);
#line 365
  x3 = r1 * tmp___1;
#line 366
  tmp___2 = sin(angle2);
#line 366
  y3 = r2 * tmp___2;
#line 368
  tmp___3 = cos(arp);
#line 368
  xp = r1 * tmp___3;
#line 369
  tmp___4 = sin(arp);
#line 369
  yp = r2 * tmp___4;
#line 371
  tmp___5 = cos(arq);
#line 371
  xq = r1 * tmp___5;
#line 372
  tmp___6 = sin(arq);
#line 372
  yq = r2 * tmp___6;
#line 374
  cx = (((18.0 * xp - 9.0 * xq) + 2.0 * x3) - 11.0 * x0) / 2.0;
#line 375
  bx = (((- 45.0 * xp + 36.0 * xq) - 9.0 * x3) + 18.0 * x0) / 2.0;
#line 376
  ax = ((x3 - x0) - cx) - bx;
#line 378
  x1 = x0 + cx / 3.0;
#line 379
  x2 = x1 + (cx + bx) / 3.0;
#line 381
  cy = (((18.0 * yp - 9.0 * yq) + 2.0 * y3) - 11.0 * y0___0) / 2.0;
#line 382
  by = (((- 45.0 * yp + 36.0 * yq) - 9.0 * y3) + 18.0 * y0___0) / 2.0;
#line 383
  ay = ((y3 - y0___0) - cy) - by;
#line 385
  y1___0 = y0___0 + cy / 3.0;
#line 386
  y2 = y1___0 + (cy + by) / 3.0;
#line 388
  (*rbezier___2)((unit )(x1 - x0), (unit )(y1___0 - y0___0), (unit )(x2 - x0), (unit )(y2 - y0___0),
                 (unit )(x3 - x0), (unit )(y3 - y0___0));
  }
#line 389
  return;
}
}
#line 405 "/home/june/collector/temp/aspic-1.05/src/write.c"
void stringpos(item *p , unit *xx , unit *yy ) 
{ 
  stringchain *s ;
  stringchain *ss ;
  unit fontdepth ;
  unit x ;
  unit y ;
  int n ;
  int i ;
  item_line *pp ;
  unit tmp ;
  unit tmp___0 ;
  int tmp___1 ;
  unit tmp___2 ;
  unit tmp___3 ;
  item_arc *arc___2 ;
  double radius ;
  double angle ;
  double tmp___4 ;
  double tmp___5 ;
  unit tmp___6 ;
  unit tmp___7 ;
  unit tmp___8 ;
  unit tmp___9 ;
  unit tmp___10 ;

  {
#line 409
  fontdepth = p->fontdepth;
#line 410
  x = p->x;
#line 411
  y = p->y;
#line 412
  n = 0;
#line 417
  s = p->strings;
  {
#line 417
  while (1) {
    while_continue: /* CIL Label */ ;
#line 417
    if (! ((unsigned long )s != (unsigned long )((void *)0))) {
#line 417
      goto while_break;
    }
#line 417
    n ++;
#line 417
    s = s->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 421
  s = p->strings;
#line 421
  i = 1;
  {
#line 421
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 421
    if (! (i < (n + 1) / 2)) {
#line 421
      goto while_break___0;
    }
#line 421
    s = s->next;
#line 421
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 425
  if (p->type == 2) {
#line 427
    pp = (item_line *)p;
#line 428
    x += pp->width / 2;
#line 432
    if (pp->depth == 0) {
#line 433
      if (n == 1) {
#line 433
        tmp___1 = 2000;
      } else {
        {
#line 433
        tmp = find_linedepth(p, s);
#line 433
        tmp___0 = find_fontdepth(p, s);
#line 433
        tmp___1 = tmp / 2 - tmp___0 / 2;
        }
      }
#line 433
      y += tmp___1;
    } else {
      {
#line 439
      x += 3000;
#line 440
      tmp___2 = find_fontdepth(p, s);
#line 440
      y += pp->depth / 2 - tmp___2 / 2;
      }
#line 441
      if ((n & 1) == 0) {
        {
#line 441
        tmp___3 = find_linedepth(p, s);
#line 441
        y += tmp___3 / 2;
        }
      }
    }
  } else
#line 447
  if (p->type == 0) {
#line 449
    arc___2 = (item_arc *)p;
#line 450
    radius = (double )arc___2->radius;
#line 451
    angle = (arc___2->angle1 + arc___2->angle2) / 2.0;
#line 453
    if (arc___2->angle1 > arc___2->angle2) {
#line 453
      angle += pi;
    }
#line 454
    if (arc___2->cw) {
#line 454
      angle += pi;
    }
    {
#line 456
    tmp___4 = cos(angle);
#line 456
    x += (unit )(radius * tmp___4) + 6000;
#line 457
    tmp___5 = sin(angle);
#line 457
    y += (unit )(radius * tmp___5);
#line 458
    angle = fabs(angle);
    }
#line 459
    if (angle > (3.0 * pi) / 8.0) {
#line 459
      if (angle < (5.0 * pi) / 8.0) {
        {
#line 460
        tmp___6 = find_fontdepth(p, s);
#line 460
        y += tmp___6 / 2 + 2000;
        }
      }
    }
#line 461
    if ((n & 1) != 0) {
      {
#line 461
      tmp___7 = find_fontdepth(p, s);
#line 461
      y -= tmp___7 / 2;
      }
    }
  } else {
    {
#line 468
    tmp___8 = find_fontdepth(p, s);
#line 468
    y -= tmp___8 / 2;
    }
#line 469
    if ((n & 1) == 0) {
      {
#line 469
      tmp___9 = find_linedepth(p, s);
#line 469
      y += tmp___9 / 2;
      }
    }
  }
#line 475
  ss = p->strings;
  {
#line 475
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 475
    if (! ((unsigned long )ss != (unsigned long )s)) {
#line 475
      goto while_break___1;
    }
    {
#line 476
    tmp___10 = find_linedepth(p, ss->next);
#line 476
    y += tmp___10;
#line 475
    ss = ss->next;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
#line 480
  *xx = x;
#line 481
  *yy = y;
#line 482
  return;
}
}
#line 79 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **( __attribute__((__leaf__)) __ctype_b_loc)(void)  __attribute__((__const__)) ;
#line 237 "/usr/include/stdio.h"
extern int fclose(FILE *__stream ) ;
#line 622
extern char *fgets(char * __restrict  __s , int __n , FILE * __restrict  __stream ) ;
#line 187 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) unsigned long ( __attribute__((__nonnull__(1),
__leaf__)) strtoul)(char const   * __restrict  __nptr , char ** __restrict  __endptr ,
                    int __base ) ;
#line 483
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) free)(void *__ptr ) ;
#line 412 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
FILE *main_input ;
#line 415
includestr *included_from ;
#line 416
uschar **file_line_stack ;
#line 417
int *file_chptr_stack ;
#line 418
int inc_stack_ptr ;
#line 421
item *lastitem ;
#line 422
item *baseitem ;
#line 424
label *label_base ;
#line 425
label *nextlabel ;
#line 426
environment *env ;
#line 429
BOOL use_fonts ;
#line 430
BOOL translate_chars ;
#line 438
int chptr ;
#line 443
int endfile ;
#line 446
unit joined_xx ;
#line 447
unit joined_yy ;
#line 451
int macro_id ;
#line 453
BOOL no_variables ;
#line 455
BOOL strings_exist ;
#line 457
uschar word[256] ;
#line 459
uschar *in_line ;
#line 460
uschar *in_last ;
#line 461
uschar *in_raw ;
#line 463
uschar **in_line_stack ;
#line 464
int *chptr_stack ;
#line 465
int mac_stack_ptr ;
#line 466
int *mac_count_stack ;
#line 469
macro *macactive ;
#line 507
void chain_label(item *newitem , int baseflag ) ;
#line 508
void error_moan(int n  , ...) ;
#line 513
item *findlabel(uschar *word___0 ) ;
#line 514
void freechain(void) ;
#line 519
void nextch(void) ;
#line 520
void nextsigch(void) ;
#line 521
void options(item *p , arg_item *table ) ;
#line 522
int readint(void) ;
#line 523
unit readnumber(void) ;
#line 524
stringchain *readstring(int justify ) ;
#line 525
void readword(void) ;
#line 532
void subs_vars(uschar *raw , uschar *cooked ) ;
#line 16 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
static unit wordread  ;
#line 32 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
item *findlabel(uschar *word___0 ) 
{ 
  label *ii ;
  int tmp ;

  {
#line 35
  ii = label_base;
  {
#line 36
  while (1) {
    while_continue: /* CIL Label */ ;
#line 36
    if (! ((unsigned long )ii != (unsigned long )((void *)0))) {
#line 36
      goto while_break;
    }
    {
#line 38
    tmp = strcmp((char const   *)word___0, (char const   *)(ii->name));
    }
#line 38
    if (tmp == 0) {
#line 38
      return (ii->itemptr);
    }
#line 39
    ii = ii->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 41
  return ((item *)((void *)0));
}
}
#line 52 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
void freechain(void) 
{ 
  item *p ;
  item *pp ;
  stringchain *s ;
  stringchain *ss ;

  {
#line 55
  p = main_item_base;
  {
#line 56
  while (1) {
    while_continue: /* CIL Label */ ;
#line 56
    if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 56
      goto while_break;
    }
#line 58
    pp = p->next;
#line 59
    s = p->strings;
    {
#line 60
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 60
      if (! ((unsigned long )s != (unsigned long )((void *)0))) {
#line 60
        goto while_break___0;
      }
      {
#line 62
      ss = s->next;
#line 63
      free((void *)s);
#line 64
      s = ss;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 66
    free((void *)p);
#line 67
    p = pp;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 69
  main_item_base = (item *)((void *)0);
#line 70
  return;
}
}
#line 88 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
void chain_label(item *newitem , int baseflag ) 
{ 
  label *lastlabel ;

  {
#line 91
  if ((unsigned long )lastitem == (unsigned long )((void *)0)) {
#line 91
    main_item_base = newitem;
  } else {
#line 91
    lastitem->next = newitem;
  }
#line 92
  lastitem = newitem;
#line 93
  if (baseflag) {
#line 93
    baseitem = newitem;
  }
#line 95
  if ((unsigned long )nextlabel != (unsigned long )((void *)0)) {
#line 97
    lastlabel = nextlabel;
    {
#line 98
    while (1) {
      while_continue: /* CIL Label */ ;
#line 100
      lastlabel->itemptr = newitem;
#line 101
      if ((unsigned long )lastlabel->next == (unsigned long )((void *)0)) {
#line 101
        goto while_break;
      }
#line 102
      lastlabel = lastlabel->next;
    }
    while_break: /* CIL Label */ ;
    }
#line 104
    lastlabel->next = label_base;
#line 105
    label_base = nextlabel;
#line 106
    nextlabel = (label *)((void *)0);
  }
#line 108
  return;
}
}
#line 126 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
void subs_vars(uschar *raw , uschar *cooked ) 
{ 
  int left ;
  BOOL bracketed ;
  uschar *p ;
  uschar *s ;
  uschar *t ;
  uschar name[64] ;
  uschar *tmp ;
  uschar *tmp___0 ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;
  uschar *tmp___3 ;
  uschar *tmp___4 ;
  uschar *tmp___5 ;
  uschar *tmp___6 ;
  uschar *tmp___7 ;
  unsigned short const   **tmp___8 ;
  unsigned short const   **tmp___9 ;
  tree_node *tn ;
  tree_node *tmp___10 ;
  int len ;
  size_t tmp___11 ;

  {
#line 129
  left = 256;
#line 134
  s = raw;
#line 134
  t = cooked;
  {
#line 134
  while (1) {
    while_continue: /* CIL Label */ ;
#line 134
    if (! ((int )*s != 0)) {
#line 134
      goto while_break;
    }
#line 136
    if (left < 2) {
      {
#line 136
      error_moan(26);
      }
#line 136
      goto while_break;
    }
#line 138
    if ((int )*s == 38) {
#line 140
      tmp = t;
#line 140
      t ++;
#line 140
      tmp___0 = s;
#line 140
      s ++;
#line 140
      *tmp = *tmp___0;
#line 141
      left --;
#line 142
      if ((int )*s == 36) {
#line 142
        goto _L;
      } else
#line 142
      if ((int )*s == 38) {
        _L: /* CIL Label */ 
#line 142
        tmp___1 = t;
#line 142
        t ++;
#line 142
        tmp___2 = s;
#line 142
        s ++;
#line 142
        *tmp___1 = *tmp___2;
#line 142
        left --;
      }
#line 143
      goto __Cont;
    }
#line 146
    if ((int )*s != 36) {
#line 146
      tmp___3 = t;
#line 146
      t ++;
#line 146
      tmp___4 = s;
#line 146
      s ++;
#line 146
      *tmp___3 = *tmp___4;
#line 146
      left --;
#line 146
      goto __Cont;
    }
#line 148
    if ((int )*(s + 1) == 36) {
#line 150
      tmp___5 = t;
#line 150
      t ++;
#line 150
      *tmp___5 = (uschar )'$';
#line 151
      s += 2;
#line 152
      left --;
#line 153
      goto __Cont;
    }
#line 156
    s ++;
#line 156
    if ((int )*s == 123) {
#line 158
      bracketed = 1;
#line 159
      s ++;
    } else {
#line 161
      bracketed = 0;
    }
#line 163
    p = name;
    {
#line 164
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 164
      tmp___8 = __ctype_b_loc();
      }
#line 164
      if (! ((int const   )*(*tmp___8 + (int )*s) & 1024)) {
        {
#line 164
        tmp___9 = __ctype_b_loc();
        }
#line 164
        if (! ((int const   )*(*tmp___9 + (int )*s) & 2048)) {
#line 164
          goto while_break___0;
        }
      }
#line 164
      tmp___6 = p;
#line 164
      p ++;
#line 164
      tmp___7 = s;
#line 164
      s ++;
#line 164
      *tmp___6 = *tmp___7;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 165
    *p = (uschar )0;
#line 167
    if (bracketed) {
#line 169
      if ((int )*s == 125) {
#line 169
        s ++;
      } else {
        {
#line 169
        error_moan(27, name);
        }
      }
    }
#line 172
    if ((int )name[0] == 0) {
      {
#line 172
      error_moan(17);
      }
    } else {
      {
#line 174
      tmp___10 = tree_search(varroot, name);
#line 174
      tn = tmp___10;
      }
#line 175
      if ((unsigned long )tn == (unsigned long )((void *)0)) {
        {
#line 175
        error_moan(6, "", name);
        }
      } else {
        {
#line 177
        tmp___11 = strlen((char const   *)tn->value);
#line 177
        len = (int )tmp___11;
        }
#line 178
        if (left < len + 1) {
          {
#line 178
          error_moan(25, name);
          }
        } else {
          {
#line 180
          strcpy((char */* __restrict  */)((char *)t), (char const   */* __restrict  */)((char const   *)tn->value));
#line 181
          t += len;
#line 182
          left -= len;
          }
        }
      }
    }
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
#line 188
  *t = (uschar )0;
#line 189
  return;
}
}
#line 201 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
void nextch(void) 
{ 
  macro *m ;
  uschar *t ;
  uschar *f ;
  uschar *tmp ;
  size_t tmp___0 ;
  mac_arg *ap ;
  unit n ;
  unsigned short const   **tmp___1 ;
  size_t tmp___2 ;
  uschar *tmp___3 ;
  uschar *tmp___4 ;
  includestr *s ;
  char *tmp___5 ;

  {
#line 204
  chptr ++;
#line 204
  if ((int )*(in_line + chptr) == 0) {
#line 206
    if ((int )*(in_line + 0) != 0) {
#line 206
      if ((int )*(in_line + 0) != 10) {
        {
#line 206
        strcpy((char */* __restrict  */)((char *)in_last), (char const   */* __restrict  */)((char const   *)in_line));
        }
      }
    }
#line 208
    if ((unsigned long )macactive != (unsigned long )((void *)0)) {
#line 210
      m = macactive;
#line 211
      if ((unsigned long )m->nextline == (unsigned long )((void *)0)) {
        {
#line 213
        macactive = m->previous;
#line 214
        free((void *)m);
#line 215
        free((void *)in_line);
#line 216
        mac_stack_ptr --;
#line 216
        in_line = *(in_line_stack + mac_stack_ptr);
#line 217
        chptr = *(chptr_stack + mac_stack_ptr);
#line 218
        macro_id = *(mac_count_stack + mac_stack_ptr);
        }
      } else {
#line 222
        t = in_line;
#line 223
        f = (m->nextline)->text;
        {
#line 225
        while (1) {
          while_continue: /* CIL Label */ ;
#line 225
          if (! ((int )*f != 0)) {
#line 225
            goto while_break;
          }
#line 227
          if ((int )*f == 38) {
#line 229
            if ((int )*(f + 1) == 38) {
#line 231
              tmp = t;
#line 231
              t ++;
#line 231
              *tmp = (uschar )'&';
#line 232
              f += 2;
            } else
#line 234
            if ((int )*(f + 1) == 36) {
              {
#line 236
              sprintf((char */* __restrict  */)((char *)t), (char const   */* __restrict  */)"%d",
                      macro_id);
#line 237
              tmp___0 = strlen((char const   *)t);
#line 237
              t += (int )tmp___0;
#line 238
              f += 2;
              }
            } else {
#line 242
              ap = m->args;
#line 243
              n = 0;
              {
#line 244
              while (1) {
                while_continue___0: /* CIL Label */ ;
                {
#line 244
                tmp___1 = __ctype_b_loc();
#line 244
                f ++;
                }
#line 244
                if (! ((int const   )*(*tmp___1 + (int )*f) & 2048)) {
#line 244
                  goto while_break___0;
                }
#line 244
                n = (n * 10 + (unit )*f) - 48;
              }
              while_break___0: /* CIL Label */ ;
              }
              {
#line 245
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 245
                n --;
#line 245
                if (n > 0) {
#line 245
                  if (! ((unsigned long )ap != (unsigned long )((void *)0))) {
#line 245
                    goto while_break___1;
                  }
                } else {
#line 245
                  goto while_break___1;
                }
#line 245
                ap = ap->next;
              }
              while_break___1: /* CIL Label */ ;
              }
#line 246
              if ((unsigned long )ap != (unsigned long )((void *)0)) {
                {
#line 246
                strcpy((char */* __restrict  */)((char *)t), (char const   */* __restrict  */)((char const   *)(ap->text)));
#line 246
                tmp___2 = strlen((char const   *)(ap->text));
#line 246
                t += (int )tmp___2;
                }
              }
            }
          } else {
#line 249
            tmp___3 = t;
#line 249
            t ++;
#line 249
            tmp___4 = f;
#line 249
            f ++;
#line 249
            *tmp___3 = *tmp___4;
          }
        }
        while_break: /* CIL Label */ ;
        }
#line 251
        *t = (uschar )0;
#line 252
        chptr = 0;
#line 253
        m->nextline = (m->nextline)->next;
      }
    } else {
      {
#line 260
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 260
        if (! (! endfile)) {
#line 260
          goto while_break___2;
        }
        {
#line 262
        tmp___5 = fgets((char */* __restrict  */)((char *)in_raw), 256, (FILE */* __restrict  */)main_input);
        }
#line 262
        if ((unsigned long )tmp___5 == (unsigned long )((void *)0)) {
#line 264
          if ((unsigned long )included_from == (unsigned long )((void *)0)) {
#line 266
            endfile = 1;
#line 267
            *(in_line + chptr) = (uschar )';';
#line 268
            *(in_line + (chptr + 1)) = (uschar )0;
          } else {
            {
#line 272
            s = included_from;
#line 273
            free((void *)in_line);
#line 274
            fclose(main_input);
#line 275
            main_input = s->prevfile;
#line 276
            inc_stack_ptr --;
#line 276
            in_line = *(file_line_stack + inc_stack_ptr);
#line 277
            chptr = *(file_chptr_stack + inc_stack_ptr);
#line 278
            included_from = s->prev;
#line 279
            free((void *)s);
#line 280
            nextch();
            }
#line 281
            goto while_break___2;
          }
        } else {
#line 286
          if (no_variables) {
            {
#line 286
            strcpy((char */* __restrict  */)((char *)in_line), (char const   */* __restrict  */)((char const   *)in_raw));
            }
          } else {
            {
#line 287
            subs_vars(in_raw, in_line);
            }
          }
#line 288
          chptr = 0;
#line 289
          if ((int )*(in_line + chptr) != 35) {
#line 289
            goto while_break___2;
          }
        }
      }
      while_break___2: /* CIL Label */ ;
      }
    }
  }
#line 293
  return;
}
}
#line 300 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
void nextsigch(void) 
{ 


  {
  {
#line 303
  while (1) {
    while_continue: /* CIL Label */ ;
#line 303
    if (! ((int )*(in_line + chptr) == 32)) {
#line 303
      if (! ((int )*(in_line + chptr) == 10)) {
#line 303
        goto while_break;
      }
    }
    {
#line 303
    nextch();
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 304
  return;
}
}
#line 315 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
static int nextchar(void) 
{ 
  int c ;
  uschar *endptr ;
  unsigned long longvalue ;
  int base ;
  int st ;
  char *t1 ;
  char *t2 ;
  uschar *name ;
  uschar *p ;
  unsigned short const   **tmp ;
  entity_block *bot ;
  entity_block *mid ;
  entity_block *top ;
  int x ;
  unsigned short const   **tmp___0 ;
  int savechptr ;
  int d ;
  int i ;
  int j ;
  int s ;
  int cc ;

  {
#line 318
  chptr ++;
#line 318
  c = (int )*(in_line + chptr);
#line 320
  if (c == 38) {
#line 324
    if ((int )*(in_line + (chptr + 1)) == 35) {
#line 328
      base = 10;
#line 329
      st = chptr + 2;
#line 331
      if ((int )*(in_line + (chptr + 2)) == 120) {
#line 333
        base = 16;
#line 334
        st ++;
      }
      {
#line 339
      t1 = (char *)(in_line + st);
#line 341
      longvalue = strtoul((char const   */* __restrict  */)t1, (char **/* __restrict  */)(& t2),
                          base);
#line 342
      endptr = (unsigned char *)t2;
      }
#line 347
      if ((int )*endptr == 59) {
#line 349
        chptr = (int )(endptr - in_line);
#line 350
        c = (int )longvalue;
      }
    } else {
      {
#line 356
      tmp___0 = __ctype_b_loc();
      }
#line 356
      if ((int const   )*(*tmp___0 + (int )*(in_line + (chptr + 1))) & 1024) {
#line 358
        name = (in_line + chptr) + 1;
#line 359
        p = name + 1;
        {
#line 360
        while (1) {
          while_continue: /* CIL Label */ ;
          {
#line 360
          tmp = __ctype_b_loc();
          }
#line 360
          if (! ((int const   )*(*tmp + (int )*p) & 8)) {
#line 360
            goto while_break;
          }
#line 360
          p ++;
        }
        while_break: /* CIL Label */ ;
        }
#line 361
        if ((int )*p == 59) {
#line 365
          *p = (uschar )0;
#line 366
          bot = entity_list;
#line 367
          top = entity_list + entity_list_count;
          {
#line 368
          while (1) {
            while_continue___0: /* CIL Label */ ;
#line 368
            if (! ((unsigned long )top > (unsigned long )bot)) {
#line 368
              goto while_break___0;
            }
            {
#line 371
            mid = bot + (top - bot) / 2L;
#line 372
            x = strcmp((char const   *)mid->name, (char const   *)name);
            }
#line 373
            if (x == 0) {
#line 373
              goto while_break___0;
            }
#line 374
            if (x < 0) {
#line 374
              bot = mid + 1;
            } else {
#line 374
              top = mid;
            }
          }
          while_break___0: /* CIL Label */ ;
          }
#line 377
          *p = (uschar )';';
#line 379
          if ((unsigned long )top > (unsigned long )bot) {
#line 381
            chptr = (int )(p - in_line);
#line 382
            c = mid->value;
          }
        }
      }
    }
  } else
#line 388
  if (c >= 128) {
#line 390
    savechptr = chptr;
#line 391
    d = c << 1;
#line 394
    i = 0;
    {
#line 394
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 394
      if (! (i < 6)) {
#line 394
        goto while_break___1;
      }
#line 396
      if ((d & 128) == 0) {
#line 396
        goto while_break___1;
      }
#line 397
      d <<= 1;
#line 394
      i ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 402
    if (i > 0) {
#line 402
      if (i <= 6) {
#line 405
        s = 6 * i;
#line 406
        c = (c & (int )utf8_table3[i]) << s;
#line 407
        j = 0;
        {
#line 407
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 407
          if (! (j < i)) {
#line 407
            goto while_break___2;
          }
#line 409
          chptr ++;
#line 409
          cc = (int )*(in_line + chptr);
#line 410
          if ((cc & 192) != 128) {
#line 412
            chptr = savechptr;
#line 413
            c = (int )*(in_line + chptr);
#line 414
            goto while_break___2;
          }
#line 416
          s -= 6;
#line 417
          c |= (cc & 63) << s;
#line 407
          j ++;
        }
        while_break___2: /* CIL Label */ ;
        }
      }
    }
  } else
#line 425
  if (translate_chars) {
    {
#line 427
    if (c == 96) {
#line 427
      goto case_96;
    }
#line 436
    if (c == 39) {
#line 436
      goto case_39;
    }
#line 445
    if (c == 45) {
#line 445
      goto case_45;
    }
#line 453
    goto switch_default;
    case_96: /* CIL Label */ 
#line 428
    if ((int )*(in_line + (chptr + 1)) == 96) {
#line 430
      chptr ++;
#line 431
      c = 8220;
    } else {
#line 433
      c = 8216;
    }
#line 434
    goto switch_break;
    case_39: /* CIL Label */ 
#line 437
    if ((int )*(in_line + (chptr + 1)) == 39) {
#line 439
      chptr ++;
#line 440
      c = 8221;
    } else {
#line 442
      c = 8217;
    }
#line 443
    goto switch_break;
    case_45: /* CIL Label */ 
#line 446
    if ((int )*(in_line + (chptr + 1)) == 45) {
#line 448
      chptr ++;
#line 449
      c = 8211;
    }
#line 451
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 454
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
#line 457
  return (c);
}
}
#line 468 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
void readword(void) 
{ 
  unit n ;
  unit tmp ;
  int tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
#line 471
  n = 0;
#line 472
  if (! wordread) {
    {
#line 474
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 474
      tmp___1 = __ctype_b_loc();
      }
#line 474
      if (! ((int const   )*(*tmp___1 + (int )*(in_line + chptr)) & 1024)) {
        {
#line 474
        tmp___2 = __ctype_b_loc();
        }
#line 474
        if (! ((int const   )*(*tmp___2 + (int )*(in_line + chptr)) & 2048)) {
#line 474
          goto while_break;
        }
      }
#line 475
      tmp = n;
#line 475
      n ++;
#line 475
      tmp___0 = chptr;
#line 475
      chptr ++;
#line 475
      word[tmp] = *(in_line + tmp___0);
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 476
    word[n] = (uschar )0;
#line 477
    nextsigch();
    }
  }
#line 479
  wordread = 0;
#line 480
  return;
}
}
#line 491 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
int readint(void) 
{ 
  int n ;
  int sign ;
  int tmp ;
  unsigned short const   **tmp___0 ;

  {
#line 494
  n = 0;
#line 495
  sign = 1;
#line 496
  if ((int )*(in_line + chptr) == 45) {
    {
#line 498
    sign = -1;
#line 499
    nextch();
    }
  }
  {
#line 501
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 501
    tmp___0 = __ctype_b_loc();
    }
#line 501
    if (! ((int const   )*(*tmp___0 + (int )*(in_line + chptr)) & 2048)) {
#line 501
      goto while_break;
    }
#line 501
    tmp = chptr;
#line 501
    chptr ++;
#line 501
    n = (n * 10 + (int )*(in_line + tmp)) - 48;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 502
  nextsigch();
  }
#line 503
  return (n * sign);
}
}
#line 515 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
unit readnumber(void) 
{ 
  unit n ;
  unit sign ;
  int tmp ;
  unsigned short const   **tmp___0 ;
  unit m ;
  unsigned short const   **tmp___1 ;

  {
#line 518
  n = 0;
#line 519
  sign = 1;
#line 520
  if ((int )*(in_line + chptr) == 45) {
    {
#line 522
    sign = -1;
#line 523
    nextch();
    }
  }
  {
#line 525
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 525
    tmp___0 = __ctype_b_loc();
    }
#line 525
    if (! ((int const   )*(*tmp___0 + (int )*(in_line + chptr)) & 2048)) {
#line 525
      goto while_break;
    }
#line 525
    tmp = chptr;
#line 525
    chptr ++;
#line 525
    n = (n * 10 + (unit )*(in_line + tmp)) - 48;
  }
  while_break: /* CIL Label */ ;
  }
#line 526
  n *= 1000;
#line 527
  if ((int )*(in_line + chptr) == 46) {
#line 529
    m = 100;
    {
#line 530
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 530
      tmp___1 = __ctype_b_loc();
#line 530
      chptr ++;
      }
#line 530
      if (! ((int const   )*(*tmp___1 + (int )*(in_line + chptr)) & 2048)) {
#line 530
        goto while_break___0;
      }
#line 532
      n += ((int )*(in_line + chptr) - 48) * m;
#line 533
      m /= 10;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  {
#line 536
  nextsigch();
  }
#line 537
  return (n * sign);
}
}
#line 554 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
static void readvector(unit *xx , unit *yy ) 
{ 
  unit tmp ;
  unit tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;

  {
  {
#line 557
  nextch();
#line 558
  nextsigch();
#line 559
  tmp___2 = __ctype_b_loc();
  }
#line 559
  if ((int const   )*(*tmp___2 + (int )*(in_line + chptr)) & 2048) {
    _L___0: /* CIL Label */ 
    {
#line 561
    tmp = readnumber();
#line 561
    *xx = (tmp * env->magnification) / 1000;
    }
#line 562
    if ((int )*(in_line + chptr) != 44) {
      {
#line 562
      error_moan(11, "Comma");
      }
    } else {
      {
#line 564
      nextch();
#line 565
      nextsigch();
#line 566
      tmp___1 = __ctype_b_loc();
      }
#line 566
      if ((int const   )*(*tmp___1 + (int )*(in_line + chptr)) & 2048) {
        _L: /* CIL Label */ 
        {
#line 568
        tmp___0 = readnumber();
#line 568
        *yy = (tmp___0 * env->magnification) / 1000;
        }
#line 569
        if ((int )*(in_line + chptr) != 41) {
          {
#line 569
          error_moan(11, "Bracket");
          }
        }
      } else
#line 566
      if ((int )*(in_line + chptr) != 45) {
        {
#line 566
        error_moan(11, "Number");
        }
      } else {
#line 566
        goto _L;
      }
    }
  } else
#line 559
  if ((int )*(in_line + chptr) != 45) {
    {
#line 559
    error_moan(11, "Number");
    }
  } else {
#line 559
    goto _L___0;
  }
  {
#line 573
  while (1) {
    while_continue: /* CIL Label */ ;
#line 573
    if ((int )*(in_line + chptr) != 41) {
#line 573
      if (! (! endfile)) {
#line 573
        goto while_break;
      }
    } else {
#line 573
      goto while_break;
    }
    {
#line 573
    nextch();
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 574
  nextch();
#line 575
  nextsigch();
  }
#line 576
  return;
}
}
#line 594 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
static int ord2utf8(int cvalue , uschar *buffer ) 
{ 
  register int i ;
  register int j ;
  uschar *tmp ;

  {
#line 598
  i = 0;
  {
#line 598
  while (1) {
    while_continue: /* CIL Label */ ;
#line 598
    if (! (i < 6)) {
#line 598
      goto while_break;
    }
#line 598
    if (cvalue <= (int )utf8_table1[i]) {
#line 598
      goto while_break;
    }
#line 598
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 599
  buffer += i;
#line 600
  j = i;
  {
#line 600
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 600
    if (! (j > 0)) {
#line 600
      goto while_break___0;
    }
#line 602
    tmp = buffer;
#line 602
    buffer --;
#line 602
    *tmp = (uschar )(128 | (cvalue & 63));
#line 603
    cvalue >>= 6;
#line 600
    j --;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 605
  *buffer = (uschar )(utf8_table2[i] | (int const   )cvalue);
#line 606
  return (i + 1);
}
}
#line 623 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
stringchain *readstring(int justify ) 
{ 
  unit xadjust ;
  unit yadjust ;
  int size ;
  int chcount ;
  int font ;
  int startchptr ;
  int endchptr ;
  BOOL needSymbol ;
  BOOL needDingbats ;
  colour rgb ;
  uschar *s ;
  stringchain *t ;
  int c ;
  u2sencod *bot ;
  u2sencod *mid ;
  u2sencod *top ;
  int ch ;
  int save_chptr ;
  int k ;
  unsigned short const   **tmp ;
  unsigned short const   **tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;
  bindfont *b ;
  void *tmp___3 ;
  int c___0 ;
  int tmp___4 ;

  {
#line 626
  xadjust = 0;
#line 627
  yadjust = 0;
#line 628
  size = 0;
#line 629
  chcount = 0;
#line 630
  font = env->setfont;
#line 631
  startchptr = chptr;
#line 633
  needSymbol = 0;
#line 634
  needDingbats = 0;
#line 635
  rgb = env->textcolour;
  {
#line 643
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 647
    c = nextchar();
    }
#line 647
    if (c == 0) {
      {
#line 649
      error_moan(11, "closing quote");
      }
#line 650
      goto while_break;
    }
#line 653
    if (c == 34) {
#line 653
      chptr ++;
#line 653
      if ((int )*(in_line + chptr) != 34) {
#line 653
        goto while_break;
      }
    }
#line 655
    if (c <= 127) {
#line 655
      size ++;
    } else
#line 656
    if (c <= 2047) {
#line 656
      size += 2;
    } else
#line 657
    if (c <= 65535) {
#line 657
      size += 3;
    } else
#line 658
    if (c <= 2097151) {
#line 658
      size += 4;
    } else
#line 659
    if (c <= 67108863) {
#line 659
      size += 5;
    } else {
#line 660
      size += 6;
    }
#line 662
    chcount ++;
#line 666
    if (c >= 384) {
#line 670
      bot = u2slist;
#line 671
      top = u2slist + u2scount;
      {
#line 672
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 672
        if (! ((unsigned long )top > (unsigned long )bot)) {
#line 672
          goto while_break___0;
        }
#line 674
        mid = bot + (top - bot) / 2L;
#line 675
        if (c == mid->ucode) {
#line 675
          goto while_break___0;
        }
#line 676
        if (mid->ucode < c) {
#line 676
          bot = mid + 1;
        } else {
#line 676
          top = mid;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 679
      if ((unsigned long )top > (unsigned long )bot) {
#line 681
        if (mid->which == 0) {
#line 681
          needSymbol = 1;
        } else {
#line 682
          needDingbats = 1;
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 687
  if ((int )*(in_line + chptr) == 40) {
    {
#line 687
    readvector(& xadjust, & yadjust);
    }
  }
  {
#line 689
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 689
    if (! ((int )*(in_line + chptr) == 47)) {
#line 689
      goto while_break___1;
    }
#line 691
    chptr ++;
#line 691
    ch = (int )*(in_line + chptr);
#line 692
    if (ch == 108) {
#line 692
      justify = 0;
    } else
#line 693
    if (ch == 114) {
#line 693
      justify = 1;
    } else
#line 694
    if (ch == 99) {
#line 694
      justify = 2;
    } else {
      {
#line 695
      tmp___2 = __ctype_b_loc();
      }
#line 695
      if ((int const   )*(*tmp___2 + ch) & 2048) {
#line 697
        save_chptr = chptr;
#line 698
        k = ch - 48;
        {
#line 699
        while (1) {
          while_continue___2: /* CIL Label */ ;
          {
#line 699
          tmp = __ctype_b_loc();
          }
#line 699
          if (! ((int const   )*(*tmp + (int )*(in_line + (chptr + 1))) & 2048)) {
#line 699
            goto while_break___2;
          }
#line 701
          chptr ++;
#line 701
          ch = (int )*(in_line + chptr);
#line 702
          k = (k * 10 + ch) - 48;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 705
        if ((int )*(in_line + (chptr + 1)) != 44) {
#line 705
          if ((int )*(in_line + (chptr + 1)) != 46) {
#line 707
            font = k;
          } else {
#line 705
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
          {
#line 712
          chptr = save_chptr;
#line 713
          rgb.red = readnumber();
          }
#line 714
          if ((int )*(in_line + chptr) == 44) {
            {
#line 716
            tmp___0 = __ctype_b_loc();
            }
#line 716
            if ((int const   )*(*tmp___0 + (int )*(in_line + (chptr + 1))) & 2048) {
              {
#line 718
              chptr ++;
#line 719
              rgb.green = readnumber();
              }
            }
#line 721
            if ((int )*(in_line + chptr) == 44) {
              {
#line 723
              tmp___1 = __ctype_b_loc();
              }
#line 723
              if ((int const   )*(*tmp___1 + (int )*(in_line + (chptr + 1))) & 2048) {
                {
#line 725
                chptr ++;
#line 726
                rgb.blue = readnumber();
                }
              }
            }
#line 729
            chptr --;
          }
        }
      } else {
        {
#line 734
        error_moan(11, "/l, /r, /c, /<font>, or /<r>,<g>,<b>");
        }
      }
    }
#line 735
    chptr ++;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 741
  if ((unsigned long )font_base != (unsigned long )((void *)0)) {
#line 741
    if (use_fonts) {
#line 744
      b = font_base;
      {
#line 744
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 744
        if (! ((unsigned long )b != (unsigned long )((void *)0))) {
#line 744
          goto while_break___3;
        }
#line 746
        if (font == b->number) {
#line 748
          if (needSymbol) {
#line 748
            b->needSymbol = 1;
          }
#line 749
          if (needDingbats) {
#line 749
            b->needDingbats = 1;
          }
#line 750
          goto while_break___3;
        }
#line 744
        b = b->next;
      }
      while_break___3: /* CIL Label */ ;
      }
#line 753
      if ((unsigned long )b == (unsigned long )((void *)0)) {
        {
#line 755
        error_moan(4, font);
#line 756
        font = 0;
        }
      }
    }
  }
  {
#line 762
  tmp___3 = getstore((unsigned long )(size + 1) + (unsigned long )(& ((stringchain *)0)->text));
#line 762
  t = (stringchain *)tmp___3;
#line 764
  t->next = (struct stringchain *)((void *)0);
#line 765
  t->justify = justify;
#line 766
  t->font = font;
#line 767
  t->rgb = rgb;
#line 768
  t->xadjust = xadjust;
#line 769
  t->yadjust = yadjust;
#line 770
  t->chcount = chcount;
#line 772
  endchptr = chptr;
#line 773
  chptr = startchptr;
#line 775
  s = t->text;
  }
  {
#line 776
  while (1) {
    while_continue___4: /* CIL Label */ ;
    {
#line 779
    c___0 = nextchar();
    }
#line 779
    if (c___0 == 0) {
#line 779
      goto while_break___4;
    }
#line 780
    if (c___0 == 34) {
#line 780
      chptr ++;
#line 780
      if ((int )*(in_line + chptr) != 34) {
#line 780
        goto while_break___4;
      }
    }
    {
#line 781
    tmp___4 = ord2utf8(c___0, s);
#line 781
    s += tmp___4;
    }
  }
  while_break___4: /* CIL Label */ ;
  }
  {
#line 783
  *s = (uschar )0;
#line 785
  chptr = endchptr;
#line 786
  nextsigch();
#line 787
  strings_exist = 1;
  }
#line 788
  return (t);
}
}
#line 805 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
static int readjoin(BOOL position , BOOL moanifnone ) 
{ 
  int dir ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;

  {
  {
#line 808
  dir = -1;
#line 810
  readword();
#line 811
  tmp___11 = strcmp((char const   *)(word), "");
  }
#line 811
  if (tmp___11 == 0) {
    {
#line 811
    error_moan(11, "word");
    }
  } else {
    {
#line 813
    tmp___10 = strcmp((char const   *)(word), "top");
    }
#line 813
    if (tmp___10 == 0) {
      {
#line 815
      dir = 0;
#line 816
      readword();
#line 817
      tmp___0 = strcmp((char const   *)(word), "right");
      }
#line 817
      if (tmp___0 == 0) {
#line 817
        dir = 1;
      } else {
        {
#line 818
        tmp = strcmp((char const   *)(word), "left");
        }
#line 818
        if (tmp == 0) {
#line 818
          dir = 7;
        } else
#line 819
        if (word[0]) {
#line 819
          wordread = 1;
        }
      }
    } else {
      {
#line 822
      tmp___9 = strcmp((char const   *)(word), "bottom");
      }
#line 822
      if (tmp___9 == 0) {
        {
#line 824
        dir = 4;
#line 825
        readword();
#line 826
        tmp___2 = strcmp((char const   *)(word), "right");
        }
#line 826
        if (tmp___2 == 0) {
#line 826
          dir = 3;
        } else {
          {
#line 827
          tmp___1 = strcmp((char const   *)(word), "left");
          }
#line 827
          if (tmp___1 == 0) {
#line 827
            dir = 5;
          } else
#line 828
          if (word[0]) {
#line 828
            wordread = 1;
          }
        }
      } else {
        {
#line 831
        tmp___8 = strcmp((char const   *)(word), "left");
        }
#line 831
        if (tmp___8 == 0) {
#line 831
          dir = 6;
        } else {
          {
#line 832
          tmp___7 = strcmp((char const   *)(word), "right");
          }
#line 832
          if (tmp___7 == 0) {
#line 832
            dir = 2;
          } else {
            {
#line 833
            tmp___6 = strcmp((char const   *)(word), "centre");
            }
#line 833
            if (tmp___6 == 0) {
#line 833
              dir = 8;
            } else
#line 834
            if (position) {
              {
#line 836
              tmp___5 = strcmp((char const   *)(word), "start");
              }
#line 836
              if (tmp___5 == 0) {
#line 836
                dir = 9;
              } else {
                {
#line 837
                tmp___4 = strcmp((char const   *)(word), "end");
                }
#line 837
                if (tmp___4 == 0) {
#line 837
                  dir = 10;
                } else {
                  {
#line 838
                  tmp___3 = strcmp((char const   *)(word), "middle");
                  }
#line 838
                  if (tmp___3 == 0) {
#line 838
                    dir = 11;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
#line 841
  if (dir < 0) {
#line 843
    if (moanifnone) {
      {
#line 844
      error_moan(11, "top, bottom, left, right, centre, start, end, or middle");
      }
    } else {
#line 845
      wordread = 1;
    }
  }
#line 848
  return (dir);
}
}
#line 866 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
static BOOL readposition(unit *xx , unit *yy ) 
{ 
  item *relative ;
  item_box *rbox ;
  item_line *rline___2 ;
  item_arc *rarc ;
  unit fraction ;
  int dir ;
  unit tmp ;
  unit tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;
  int tmp___3 ;
  double radius ;
  double angle ;
  double tmp___4 ;
  double tmp___5 ;
  double tmp___6 ;
  double tmp___7 ;
  double tmp___8 ;
  double tmp___9 ;
  double tmp___10 ;
  double tmp___11 ;
  double tmp___12 ;
  double tmp___13 ;
  unit a ;
  unit b ;
  int tmp___14 ;

  {
#line 869
  relative = baseitem;
#line 874
  fraction = 0;
#line 877
  tmp = 0;
#line 877
  *yy = tmp;
#line 877
  *xx = tmp;
#line 878
  if ((int )*(in_line + chptr) == 40) {
    {
#line 878
    readvector(xx, yy);
    }
#line 878
    return (1);
  }
  {
#line 880
  tmp___2 = __ctype_b_loc();
  }
#line 880
  if ((int const   )*(*tmp___2 + (int )*(in_line + chptr)) & 2048) {
    {
#line 882
    fraction = readnumber();
    }
#line 883
    if ((int )*(in_line + chptr) == 47) {
      {
#line 885
      nextch();
#line 886
      tmp___1 = __ctype_b_loc();
      }
#line 886
      if ((int const   )*(*tmp___1 + (int )*(in_line + chptr)) & 2048) {
        {
#line 888
        tmp___0 = readnumber();
#line 888
        fraction = (fraction * 1000) / tmp___0;
        }
      } else {
        {
#line 887
        error_moan(11, "number");
        }
      }
    }
  }
  {
#line 894
  dir = readjoin(1, 0);
  }
#line 901
  if (dir < 0) {
    {
#line 903
    readword();
#line 904
    relative = findlabel(word);
    }
#line 905
    if ((unsigned long )relative != (unsigned long )((void *)0)) {
#line 905
      baseitem = relative;
    } else {
      {
#line 906
      error_moan(11, "top, bottom, left, right, centre, start, end, middle, or label");
      }
    }
#line 907
    return (0);
  }
  {
#line 912
  readword();
#line 913
  tmp___3 = strcmp((char const   *)(word), "of");
  }
#line 913
  if (tmp___3 == 0) {
    {
#line 915
    readword();
#line 916
    relative = findlabel(word);
    }
#line 917
    if ((unsigned long )relative == (unsigned long )((void *)0)) {
      {
#line 917
      error_moan(10, word);
      }
#line 917
      return (0);
    }
  } else
#line 919
  if (word[0]) {
#line 919
    wordread = 1;
  }
#line 921
  if ((unsigned long )relative == (unsigned long )((void *)0)) {
    {
#line 921
    error_moan(12);
    }
#line 921
    return (0);
  }
  {
#line 925
  if (relative->type == 0) {
#line 925
    goto case_0;
  }
#line 973
  if (relative->type == 1) {
#line 973
    goto case_1___0;
  }
#line 1070
  if (relative->type == 2) {
#line 1070
    goto case_2___1;
  }
#line 923
  goto switch_break;
  case_0: /* CIL Label */ 
#line 926
  rarc = (item_arc *)relative;
  {
#line 936
  if (dir == 7) {
#line 936
    goto case_7;
  }
#line 936
  if (dir == 6) {
#line 936
    goto case_7;
  }
#line 936
  if (dir == 5) {
#line 936
    goto case_7;
  }
#line 936
  if (dir == 4) {
#line 936
    goto case_7;
  }
#line 936
  if (dir == 3) {
#line 936
    goto case_7;
  }
#line 936
  if (dir == 2) {
#line 936
    goto case_7;
  }
#line 936
  if (dir == 1) {
#line 936
    goto case_7;
  }
#line 936
  if (dir == 0) {
#line 936
    goto case_7;
  }
#line 940
  if (dir == 8) {
#line 940
    goto case_8;
  }
#line 947
  if (dir == 11) {
#line 947
    goto case_11;
  }
#line 947
  if (dir == 10) {
#line 947
    goto case_11;
  }
#line 947
  if (dir == 9) {
#line 947
    goto case_11;
  }
#line 927
  goto switch_break___0;
  case_7: /* CIL Label */ 
  case_6: /* CIL Label */ 
  case_5: /* CIL Label */ 
  case_4: /* CIL Label */ 
  case_3: /* CIL Label */ 
  case_2: /* CIL Label */ 
  case_1: /* CIL Label */ 
  case_0___0: /* CIL Label */ 
  {
#line 937
  error_moan(13, "arc");
  }
#line 938
  goto switch_break___0;
  case_8: /* CIL Label */ 
#line 941
  *xx = rarc->x;
#line 942
  *yy = rarc->y;
#line 943
  goto switch_break___0;
  case_11: /* CIL Label */ 
  case_10: /* CIL Label */ 
  case_9: /* CIL Label */ 
#line 948
  if (dir == 11) {
#line 948
    fraction = 500;
  }
#line 949
  if (fraction) {
#line 951
    radius = (double )rarc->radius;
#line 953
    if (dir == 10) {
#line 953
      fraction = 1000 - fraction;
    }
    {
#line 954
    angle = rarc->angle1 + ((double )fraction * (rarc->angle2 - rarc->angle1)) / 1000.0;
#line 955
    tmp___4 = cos(angle);
#line 955
    *xx = rarc->x + (unit )(radius * tmp___4);
#line 956
    tmp___5 = sin(angle);
#line 956
    *yy = rarc->y + (unit )(radius * tmp___5);
#line 957
    fraction = 0;
    }
  } else
#line 959
  if (dir == 9) {
#line 961
    *xx = rarc->x0;
#line 962
    *yy = rarc->y0;
  } else {
#line 966
    *xx = rarc->x1;
#line 967
    *yy = rarc->y1;
  }
#line 969
  goto switch_break___0;
  switch_break___0: /* CIL Label */ ;
  }
#line 971
  goto switch_break;
  case_1___0: /* CIL Label */ 
#line 974
  rbox = (item_box *)relative;
  {
#line 979
  if (dir == 11) {
#line 979
    goto case_11___0;
  }
#line 979
  if (dir == 10) {
#line 979
    goto case_11___0;
  }
#line 979
  if (dir == 9) {
#line 979
    goto case_11___0;
  }
#line 983
  if (dir == 0) {
#line 983
    goto case_0___1;
  }
#line 990
  if (dir == 1) {
#line 990
    goto case_1___1;
  }
#line 1003
  if (dir == 2) {
#line 1003
    goto case_2___0;
  }
#line 1010
  if (dir == 3) {
#line 1010
    goto case_3___0;
  }
#line 1023
  if (dir == 4) {
#line 1023
    goto case_4___0;
  }
#line 1030
  if (dir == 5) {
#line 1030
    goto case_5___0;
  }
#line 1043
  if (dir == 6) {
#line 1043
    goto case_6___0;
  }
#line 1050
  if (dir == 7) {
#line 1050
    goto case_7___0;
  }
#line 1063
  if (dir == 8) {
#line 1063
    goto case_8___0;
  }
#line 975
  goto switch_break___1;
  case_11___0: /* CIL Label */ 
  case_10___0: /* CIL Label */ 
  case_9___0: /* CIL Label */ 
  {
#line 980
  error_moan(13, "box");
  }
#line 981
  goto switch_break___1;
  case_0___1: /* CIL Label */ 
#line 984
  *xx = rbox->x;
#line 985
  *yy = rbox->y + rbox->depth / 2;
#line 986
  if (fraction) {
#line 986
    *xx += ((fraction - 500) * rbox->width) / 1000;
  }
#line 987
  fraction = 0;
#line 988
  goto switch_break___1;
  case_1___1: /* CIL Label */ 
#line 991
  if (rbox->boxtype == 0) {
#line 993
    *xx = rbox->x + rbox->width / 2;
#line 994
    *yy = rbox->y + rbox->depth / 2;
  } else {
    {
#line 998
    tmp___6 = cos(0.25 * pi);
#line 998
    *xx = rbox->x + (unit )((double )(rbox->width / 2) * tmp___6);
#line 999
    tmp___7 = sin(0.25 * pi);
#line 999
    *yy = rbox->y + (unit )((double )(rbox->depth / 2) * tmp___7);
    }
  }
#line 1001
  goto switch_break___1;
  case_2___0: /* CIL Label */ 
#line 1004
  *xx = rbox->x + rbox->width / 2;
#line 1005
  *yy = rbox->y;
#line 1006
  if (fraction) {
#line 1006
    *yy += ((fraction - 500) * rbox->depth) / 1000;
  }
#line 1007
  fraction = 0;
#line 1008
  goto switch_break___1;
  case_3___0: /* CIL Label */ 
#line 1011
  if (rbox->boxtype == 0) {
#line 1013
    *xx = rbox->x + rbox->width / 2;
#line 1014
    *yy = rbox->y - rbox->depth / 2;
  } else {
    {
#line 1018
    tmp___8 = cos(- 0.25 * pi);
#line 1018
    *xx = rbox->x + (unit )((double )(rbox->width / 2) * tmp___8);
#line 1019
    tmp___9 = sin(- 0.25 * pi);
#line 1019
    *yy = rbox->y + (unit )((double )(rbox->depth / 2) * tmp___9);
    }
  }
#line 1021
  goto switch_break___1;
  case_4___0: /* CIL Label */ 
#line 1024
  *xx = rbox->x;
#line 1025
  *yy = rbox->y - rbox->depth / 2;
#line 1026
  if (fraction) {
#line 1026
    *xx += ((fraction - 500) * rbox->width) / 1000;
  }
#line 1027
  fraction = 0;
#line 1028
  goto switch_break___1;
  case_5___0: /* CIL Label */ 
#line 1031
  if (rbox->boxtype == 0) {
#line 1033
    *xx = rbox->x - rbox->width / 2;
#line 1034
    *yy = rbox->y - rbox->depth / 2;
  } else {
    {
#line 1038
    tmp___10 = cos(1.25 * pi);
#line 1038
    *xx = rbox->x + (unit )((double )(rbox->width / 2) * tmp___10);
#line 1039
    tmp___11 = sin(1.25 * pi);
#line 1039
    *yy = rbox->y + (unit )((double )(rbox->depth / 2) * tmp___11);
    }
  }
#line 1041
  goto switch_break___1;
  case_6___0: /* CIL Label */ 
#line 1044
  *xx = rbox->x - rbox->width / 2;
#line 1045
  *yy = rbox->y;
#line 1046
  if (fraction) {
#line 1046
    *yy += ((fraction - 500) * rbox->depth) / 1000;
  }
#line 1047
  fraction = 0;
#line 1048
  goto switch_break___1;
  case_7___0: /* CIL Label */ 
#line 1051
  if (rbox->boxtype == 0) {
#line 1053
    *xx = rbox->x - rbox->width / 2;
#line 1054
    *yy = rbox->y + rbox->depth / 2;
  } else {
    {
#line 1058
    tmp___12 = cos(0.75 * pi);
#line 1058
    *xx = rbox->x + (unit )((double )(rbox->width / 2) * tmp___12);
#line 1059
    tmp___13 = sin(0.75 * pi);
#line 1059
    *yy = rbox->y + (unit )((double )(rbox->depth / 2) * tmp___13);
    }
  }
#line 1061
  goto switch_break___1;
  case_8___0: /* CIL Label */ 
#line 1064
  *xx = rbox->x;
#line 1065
  *yy = rbox->y;
#line 1066
  goto switch_break___1;
  switch_break___1: /* CIL Label */ ;
  }
#line 1068
  goto switch_break;
  case_2___1: /* CIL Label */ 
#line 1071
  rline___2 = (item_line *)relative;
  {
#line 1082
  if (dir == 8) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 7) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 6) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 5) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 4) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 3) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 2) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 1) {
#line 1082
    goto case_8___1;
  }
#line 1082
  if (dir == 0) {
#line 1082
    goto case_8___1;
  }
#line 1088
  if (dir == 9) {
#line 1088
    goto case_9___1;
  }
#line 1099
  if (dir == 10) {
#line 1099
    goto case_10___1;
  }
#line 1110
  if (dir == 11) {
#line 1110
    goto case_11___1;
  }
#line 1072
  goto switch_break___2;
  case_8___1: /* CIL Label */ 
  case_7___1: /* CIL Label */ 
  case_6___1: /* CIL Label */ 
  case_5___1: /* CIL Label */ 
  case_4___1: /* CIL Label */ 
  case_3___1: /* CIL Label */ 
  case_2___2: /* CIL Label */ 
  case_1___2: /* CIL Label */ 
  case_0___2: /* CIL Label */ 
  {
#line 1083
  error_moan(13, "line");
#line 1084
  *xx = rline___2->x + rline___2->width;
#line 1085
  *yy = rline___2->y + rline___2->depth;
  }
#line 1086
  goto switch_break___2;
  case_9___1: /* CIL Label */ 
#line 1089
  *xx = rline___2->x;
#line 1090
  *yy = rline___2->y;
#line 1091
  if (fraction) {
#line 1093
    *xx += (fraction * rline___2->width) / 1000;
#line 1094
    *yy += (fraction * rline___2->depth) / 1000;
#line 1095
    fraction = 0;
  }
#line 1097
  goto switch_break___2;
  case_10___1: /* CIL Label */ 
#line 1100
  *xx = rline___2->x + rline___2->width;
#line 1101
  *yy = rline___2->y + rline___2->depth;
#line 1102
  if (fraction) {
#line 1104
    *xx -= (fraction * rline___2->width) / 1000;
#line 1105
    *yy -= (fraction * rline___2->depth) / 1000;
#line 1106
    fraction = 0;
  }
#line 1108
  goto switch_break___2;
  case_11___1: /* CIL Label */ 
#line 1111
  *xx = rline___2->x + rline___2->width / 2;
#line 1112
  *yy = rline___2->y + rline___2->depth / 2;
#line 1113
  goto switch_break___2;
  switch_break___2: /* CIL Label */ ;
  }
#line 1115
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 1118
  if (fraction) {
    {
#line 1118
    error_moan(14);
    }
  }
  {
#line 1122
  readword();
#line 1123
  tmp___14 = strcmp((char const   *)(word), "plus");
  }
#line 1123
  if (tmp___14 == 0) {
#line 1125
    if ((int )*(in_line + chptr) == 40) {
      {
#line 1128
      readvector(& a, & b);
#line 1129
      *xx += a;
#line 1130
      *yy += b;
      }
    } else {
      {
#line 1132
      error_moan(11, "Bracketed vector");
      }
    }
  } else
#line 1134
  if (word[0]) {
#line 1134
    wordread = 1;
  }
#line 1138
  return (1);
}
}
#line 1156 "/home/june/collector/temp/aspic-1.05/src/rdsubs.c"
void options(item *p , arg_item *table ) 
{ 
  arg_item *pp ;
  unit arg1 ;
  unit arg2 ;
  unit type ;
  unit value ;
  unit tmp ;
  unit sign ;
  int tmp___0 ;
  unit tmp___1 ;
  unsigned short const   **tmp___2 ;
  unit tmp___3 ;
  unsigned short const   **tmp___4 ;
  unsigned short const   **tmp___5 ;
  colour *c ;
  unit tmp___6 ;
  unit tmp___7 ;
  unsigned short const   **tmp___8 ;
  colour *c___0 ;
  unsigned short const   **tmp___9 ;
  unsigned short const   **tmp___10 ;
  unsigned short const   **tmp___11 ;
  unsigned short const   **tmp___12 ;
  unsigned short const   **tmp___13 ;
  colour *c___1 ;
  unit tmp___14 ;
  unit tmp___15 ;
  unsigned short const   **tmp___16 ;
  unsigned short const   **tmp___17 ;
  unsigned short const   **tmp___18 ;
  unsigned short const   **tmp___19 ;
  unsigned short const   **tmp___20 ;
  unsigned short const   **tmp___21 ;
  unit x ;
  unit y ;
  BOOL tmp___22 ;
  int newpoint ;
  int tmp___23 ;
  BOOL tmp___24 ;
  int tmp___25 ;
  int tmp___26 ;
  unsigned short const   **tmp___27 ;

  {
#line 1159
  wordread = 0;
  {
#line 1163
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1163
    if (! wordread) {
      {
#line 1163
      tmp___27 = __ctype_b_loc();
      }
#line 1163
      if (! ((int const   )*(*tmp___27 + (int )*(in_line + chptr)) & 1024)) {
#line 1163
        goto while_break;
      }
    }
    {
#line 1165
    pp = table;
#line 1166
    readword();
    }
    {
#line 1170
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1170
      if (! ((int )*(pp->name + 0) != 0)) {
#line 1170
        goto while_break___0;
      }
      {
#line 1172
      tmp___26 = strcmp((char const   *)(word), (char const   *)pp->name);
      }
#line 1172
      if (tmp___26 == 0) {
#line 1176
        arg1 = pp->arg1;
#line 1177
        arg2 = pp->arg2;
#line 1178
        type = pp->type;
        {
#line 1182
        if (type == 0) {
#line 1182
          goto case_0;
        }
#line 1190
        if (type == 4) {
#line 1190
          goto case_4;
        }
#line 1190
        if (type == 3) {
#line 1190
          goto case_4;
        }
#line 1190
        if (type == 2) {
#line 1190
          goto case_4;
        }
#line 1190
        if (type == 1) {
#line 1190
          goto case_4;
        }
#line 1201
        if (type == 5) {
#line 1201
          goto case_5;
        }
#line 1206
        if (type == 11) {
#line 1206
          goto case_11;
        }
#line 1211
        if (type == 8) {
#line 1211
          goto case_8;
        }
#line 1220
        if (type == 6) {
#line 1220
          goto case_6;
        }
#line 1251
        if (type == 7) {
#line 1251
          goto case_7;
        }
#line 1280
        if (type == 12) {
#line 1280
          goto case_12;
        }
#line 1286
        if (type == 9) {
#line 1286
          goto case_9;
        }
#line 1297
        if (type == 13) {
#line 1297
          goto case_13;
        }
#line 1301
        if (type == 10) {
#line 1301
          goto case_10;
        }
#line 1180
        goto switch_break;
        case_0: /* CIL Label */ 
#line 1183
        if (arg1 >= 0) {
#line 1183
          *((unit *)((uschar *)p + arg1)) = 1;
        }
#line 1184
        if (arg2 >= 0) {
#line 1184
          *((unit *)((uschar *)p + arg2)) = 0;
        }
#line 1185
        goto switch_break;
        case_4: /* CIL Label */ 
        case_3: /* CIL Label */ 
        case_2: /* CIL Label */ 
        case_1: /* CIL Label */ 
#line 1192
        if (type == 1) {
#line 1192
          tmp = env->line_hw;
        } else
#line 1192
        if (type == 2) {
#line 1192
          tmp = env->line_hw;
        } else {
#line 1192
          tmp = env->line_vd;
        }
#line 1192
        value = tmp;
#line 1193
        if (type == 2) {
#line 1193
          tmp___0 = -1;
        } else
#line 1193
        if (type == 4) {
#line 1193
          tmp___0 = -1;
        } else {
#line 1193
          tmp___0 = 1;
        }
        {
#line 1193
        sign = tmp___0;
#line 1194
        tmp___2 = __ctype_b_loc();
        }
#line 1194
        if ((int const   )*(*tmp___2 + (int )*(in_line + chptr)) & 2048) {
          {
#line 1194
          tmp___1 = readnumber();
#line 1194
          value = (tmp___1 * env->magnification) / 1000;
          }
        }
#line 1195
        if (arg1 >= 0) {
#line 1195
          *((unit *)((uschar *)p + arg1)) = value * sign;
        }
#line 1196
        if (arg2 >= 0) {
#line 1196
          if (*((unit *)((uschar *)p + arg2)) == 2147483647) {
#line 1197
            *((unit *)((uschar *)p + arg2)) = 0;
          }
        }
#line 1199
        goto switch_break;
        case_5: /* CIL Label */ 
        {
#line 1202
        tmp___4 = __ctype_b_loc();
        }
#line 1202
        if ((int const   )*(*tmp___4 + (int )*(in_line + chptr)) & 2048) {
          {
#line 1202
          tmp___3 = readnumber();
#line 1202
          *((unit *)((uschar *)p + arg1)) = (tmp___3 * env->magnification) / 1000;
          }
        } else {
          {
#line 1202
          error_moan(8);
          }
        }
#line 1204
        goto switch_break;
        case_11: /* CIL Label */ 
        {
#line 1207
        tmp___5 = __ctype_b_loc();
        }
#line 1207
        if ((int const   )*(*tmp___5 + (int )*(in_line + chptr)) & 2048) {
          {
#line 1208
          *((unit *)((uschar *)p + arg1)) = readnumber();
          }
        } else {
          {
#line 1207
          error_moan(11, "angle");
          }
        }
#line 1209
        goto switch_break;
        case_8: /* CIL Label */ 
        {
#line 1212
        tmp___8 = __ctype_b_loc();
        }
#line 1212
        if ((int const   )*(*tmp___8 + (int )*(in_line + chptr)) & 2048) {
          {
#line 1215
          c = (colour *)((uschar *)p + arg1);
#line 1216
          tmp___7 = readnumber();
#line 1216
          c->blue = tmp___7;
#line 1216
          tmp___6 = tmp___7;
#line 1216
          c->green = tmp___6;
#line 1216
          c->red = tmp___6;
          }
        } else {
          {
#line 1212
          error_moan(11, "grey level");
          }
        }
#line 1218
        goto switch_break;
        case_6: /* CIL Label */ 
        {
#line 1222
        c___0 = (colour *)((uschar *)p + arg1);
#line 1223
        tmp___13 = __ctype_b_loc();
        }
#line 1223
        if ((int const   )*(*tmp___13 + (int )*(in_line + chptr)) & 2048) {
          _L: /* CIL Label */ 
          {
#line 1227
          c___0->red = readnumber();
          }
#line 1228
          if ((int )*(in_line + chptr) == 44) {
#line 1230
            chptr ++;
            {
#line 1231
            while (1) {
              while_continue___1: /* CIL Label */ ;
              {
#line 1231
              tmp___9 = __ctype_b_loc();
              }
#line 1231
              if (! ((int const   )*(*tmp___9 + (int )*(in_line + chptr)) & 8192)) {
#line 1231
                goto while_break___1;
              }
#line 1231
              chptr ++;
            }
            while_break___1: /* CIL Label */ ;
            }
          }
          {
#line 1233
          tmp___12 = __ctype_b_loc();
          }
#line 1233
          if ((int const   )*(*tmp___12 + (int )*(in_line + chptr)) & 2048) {
            {
#line 1237
            c___0->green = readnumber();
            }
#line 1238
            if ((int )*(in_line + chptr) == 44) {
#line 1240
              chptr ++;
              {
#line 1241
              while (1) {
                while_continue___2: /* CIL Label */ ;
                {
#line 1241
                tmp___10 = __ctype_b_loc();
                }
#line 1241
                if (! ((int const   )*(*tmp___10 + (int )*(in_line + chptr)) & 8192)) {
#line 1241
                  goto while_break___2;
                }
#line 1241
                chptr ++;
              }
              while_break___2: /* CIL Label */ ;
              }
            }
            {
#line 1243
            tmp___11 = __ctype_b_loc();
            }
#line 1243
            if ((int const   )*(*tmp___11 + (int )*(in_line + chptr)) & 2048) {
              {
#line 1245
              c___0->blue = readnumber();
              }
            } else {
              {
#line 1244
              error_moan(11, "blue value");
              }
            }
          } else {
            {
#line 1234
            error_moan(11, "green and blue values");
            }
          }
        } else
#line 1223
        if ((int )*(in_line + chptr) != 45) {
          {
#line 1224
          error_moan(11, "colour values");
          }
        } else {
#line 1223
          goto _L;
        }
#line 1249
        goto switch_break;
        case_7: /* CIL Label */ 
        {
#line 1253
        c___1 = (colour *)((uschar *)p + arg1);
#line 1254
        tmp___20 = __ctype_b_loc();
        }
#line 1254
        if ((int const   )*(*tmp___20 + (int )*(in_line + chptr)) & 2048) {
          _L___0: /* CIL Label */ 
          {
#line 1258
          tmp___15 = readnumber();
#line 1258
          c___1->blue = tmp___15;
#line 1258
          tmp___14 = tmp___15;
#line 1258
          c___1->green = tmp___14;
#line 1258
          c___1->red = tmp___14;
          }
#line 1259
          if ((int )*(in_line + chptr) == 44) {
#line 1261
            chptr ++;
            {
#line 1262
            while (1) {
              while_continue___3: /* CIL Label */ ;
              {
#line 1262
              tmp___16 = __ctype_b_loc();
              }
#line 1262
              if (! ((int const   )*(*tmp___16 + (int )*(in_line + chptr)) & 8192)) {
#line 1262
                goto while_break___3;
              }
#line 1262
              chptr ++;
            }
            while_break___3: /* CIL Label */ ;
            }
          }
          {
#line 1264
          tmp___19 = __ctype_b_loc();
          }
#line 1264
          if ((int const   )*(*tmp___19 + (int )*(in_line + chptr)) & 2048) {
            {
#line 1266
            c___1->green = readnumber();
            }
#line 1267
            if ((int )*(in_line + chptr) == 44) {
#line 1269
              chptr ++;
              {
#line 1270
              while (1) {
                while_continue___4: /* CIL Label */ ;
                {
#line 1270
                tmp___17 = __ctype_b_loc();
                }
#line 1270
                if (! ((int const   )*(*tmp___17 + (int )*(in_line + chptr)) & 8192)) {
#line 1270
                  goto while_break___4;
                }
#line 1270
                chptr ++;
              }
              while_break___4: /* CIL Label */ ;
              }
            }
            {
#line 1272
            tmp___18 = __ctype_b_loc();
            }
#line 1272
            if ((int const   )*(*tmp___18 + (int )*(in_line + chptr)) & 2048) {
              {
#line 1274
              c___1->blue = readnumber();
              }
            } else {
              {
#line 1273
              error_moan(11, "blue value");
              }
            }
          }
        } else
#line 1254
        if ((int )*(in_line + chptr) != 45) {
          {
#line 1255
          error_moan(11, "grey level or colour values");
          }
        } else {
#line 1254
          goto _L___0;
        }
#line 1278
        goto switch_break;
        case_12: /* CIL Label */ 
        {
#line 1281
        tmp___21 = __ctype_b_loc();
        }
#line 1281
        if ((int const   )*(*tmp___21 + (int )*(in_line + chptr)) & 2048) {
          {
#line 1283
          *((unit *)((uschar *)p + arg1)) = readint();
          }
        } else
#line 1281
        if ((int )*(in_line + chptr) != 45) {
          {
#line 1282
          error_moan(11, "integer");
          }
        } else {
          {
#line 1283
          *((unit *)((uschar *)p + arg1)) = readint();
          }
        }
#line 1284
        goto switch_break;
        case_9: /* CIL Label */ 
        {
#line 1289
        tmp___22 = readposition(& x, & y);
        }
#line 1289
        if (tmp___22) {
#line 1291
          *((unit *)((uschar *)p + arg1)) = x;
#line 1292
          *((unit *)((uschar *)p + arg2)) = y;
        }
#line 1295
        goto switch_break;
        case_13: /* CIL Label */ 
#line 1298
        *((int *)((uschar *)p + arg1)) = arg2;
#line 1299
        goto switch_break;
        case_10: /* CIL Label */ 
        {
#line 1303
        tmp___23 = readjoin(0, 1);
#line 1303
        newpoint = tmp___23;
        }
#line 1304
        if (newpoint >= 0) {
          {
#line 1306
          *((int *)((uschar *)p + arg1)) = newpoint;
#line 1307
          readword();
#line 1308
          tmp___25 = strcmp((char const   *)(word), "to");
          }
#line 1308
          if (tmp___25 == 0) {
            {
#line 1311
            tmp___24 = readposition(& joined_xx, & joined_yy);
            }
#line 1311
            if (tmp___24) {
#line 1312
              *((int *)((uschar *)p + arg2)) = 1;
            }
          } else
#line 1314
          if (word[0]) {
#line 1314
            wordread = 1;
          }
#line 1315
          if ((unsigned long )baseitem == (unsigned long )((void *)0)) {
            {
#line 1315
            error_moan(22);
            }
          }
        }
#line 1318
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
#line 1320
        goto while_break___0;
      }
#line 1170
      pp ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1327
    if ((int )*(pp->name + 0) == 0) {
      {
#line 1329
      error_moan(7, word);
      }
      {
#line 1330
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 1330
        if ((int )*(in_line + chptr) != 59) {
#line 1330
          if (! (! endfile)) {
#line 1330
            goto while_break___5;
          }
        } else {
#line 1330
          goto while_break___5;
        }
        {
#line 1330
        nextch();
        }
      }
      while_break___5: /* CIL Label */ ;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 1333
  return;
}
}
#line 67 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) tan)(double __x ) ;
#line 156
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) sqrt)(double __x ) ;
#line 444 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit item_arg1 ;
#line 445
unit item_arg2 ;
#line 501
void c_arc(void) ;
#line 502
void c_box(void) ;
#line 503
void c_circle(void) ;
#line 504
void c_line(void) ;
#line 505
void c_redraw(void) ;
#line 23 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static arg_item arrow_args[17]  = 
#line 23 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
  {      {(unsigned char *)"back", 0, (unit )((unsigned long )(& ((item_line *)0)->arrow_start)),
      (unit )((unsigned long )(& ((item_line *)0)->arrow_end))}, 
        {(unsigned char *)"both", 0, (unit )((unsigned long )(& ((item_line *)0)->arrow_start)),
      -1}, 
        {(unsigned char *)"filled", 7, (unit )((unsigned long )(& ((item_line *)0)->arrow_filled)),
      -1}, 
        {(unsigned char *)"up", 3, (unit )((unsigned long )(& ((item_line *)0)->depth)),
      (unit )((unsigned long )(& ((item_line *)0)->width))}, 
        {(unsigned char *)"down", 4, (unit )((unsigned long )(& ((item_line *)0)->depth)),
      (unit )((unsigned long )(& ((item_line *)0)->width))}, 
        {(unsigned char *)"left", 2, (unit )((unsigned long )(& ((item_line *)0)->width)),
      (unit )((unsigned long )(& ((item_line *)0)->depth))}, 
        {(unsigned char *)"right", 1, (unit )((unsigned long )(& ((item_line *)0)->width)),
      (unit )((unsigned long )(& ((item_line *)0)->depth))}, 
        {(unsigned char *)"from", 9, (unit )((unsigned long )(& ((item_line *)0)->x)),
      (unit )((unsigned long )(& ((item_line *)0)->y))}, 
        {(unsigned char *)"to", 9, (unit )((unsigned long )(& ((item_line *)0)->endx)),
      (unit )((unsigned long )(& ((item_line *)0)->endy))}, 
        {(unsigned char *)"align", 9, (unit )((unsigned long )(& ((item_line *)0)->alignx)),
      (unit )((unsigned long )(& ((item_line *)0)->aligny))}, 
        {(unsigned char *)"dashed", 0, (unit )((unsigned long )(& ((item_line *)0)->dash1)),
      -1}, 
        {(unsigned char *)"thickness", 5, (unit )((unsigned long )(& ((item_line *)0)->thickness)),
      -1}, 
        {(unsigned char *)"colour", 6, (unit )((unsigned long )(& ((item_line *)0)->colour)),
      -1}, 
        {(unsigned char *)"greyness", 8, (unit )((unsigned long )(& ((item_line *)0)->colour)),
      -1}, 
        {(unsigned char *)"shapefilled", 7, (unit )((unsigned long )(& ((item_line *)0)->shapefilled)),
      -1}, 
        {(unsigned char *)"level", 12, (unit )((unsigned long )(& ((item_line *)0)->level)),
      -1}, 
        {(unsigned char *)"", 0, -1, -1}};
#line 47 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static arg_item *line_args  =    arrow_args + 3;
#line 49 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static arg_item box_args[11]  = 
#line 49
  {      {(unsigned char *)"at", 9, (unit )((unsigned long )(& ((item_box *)0)->x)), (unit )((unsigned long )(& ((item_box *)0)->y))}, 
        {(unsigned char *)"join",
      10, (unit )((unsigned long )(& ((item_box *)0)->joinpoint)), (unit )((unsigned long )(& ((item_box *)0)->pointjoined))}, 
        {(unsigned char *)"width",
      5, (unit )((unsigned long )(& ((item_box *)0)->width)), -1}, 
        {(unsigned char *)"depth", 5, (unit )((unsigned long )(& ((item_box *)0)->depth)),
      -1}, 
        {(unsigned char *)"dashed", 0, (unit )((unsigned long )(& ((item_box *)0)->dash1)),
      -1}, 
        {(unsigned char *)"filled", 7, (unit )((unsigned long )(& ((item_box *)0)->shapefilled)),
      -1}, 
        {(unsigned char *)"thickness", 5, (unit )((unsigned long )(& ((item_box *)0)->thickness)),
      -1}, 
        {(unsigned char *)"colour", 6, (unit )((unsigned long )(& ((item_box *)0)->colour)),
      -1}, 
        {(unsigned char *)"greyness", 8, (unit )((unsigned long )(& ((item_box *)0)->colour)),
      -1}, 
        {(unsigned char *)"level", 12, (unit )((unsigned long )(& ((item_box *)0)->level)),
      -1}, 
        {(unsigned char *)"", 0, -1, -1}};
#line 64 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static arg_item circle_args[10]  = 
#line 64
  {      {(unsigned char *)"at", 9, (unit )((unsigned long )(& ((item_box *)0)->x)), (unit )((unsigned long )(& ((item_box *)0)->y))}, 
        {(unsigned char *)"join",
      10, (unit )((unsigned long )(& ((item_box *)0)->joinpoint)), (unit )((unsigned long )(& ((item_box *)0)->pointjoined))}, 
        {(unsigned char *)"radius",
      5, (unit )((unsigned long )(& ((item_box *)0)->width)), -1}, 
        {(unsigned char *)"dashed", 0, (unit )((unsigned long )(& ((item_box *)0)->dash1)),
      -1}, 
        {(unsigned char *)"thickness", 5, (unit )((unsigned long )(& ((item_box *)0)->thickness)),
      -1}, 
        {(unsigned char *)"colour", 6, (unit )((unsigned long )(& ((item_box *)0)->colour)),
      -1}, 
        {(unsigned char *)"greyness", 8, (unit )((unsigned long )(& ((item_box *)0)->colour)),
      -1}, 
        {(unsigned char *)"filled", 7, (unit )((unsigned long )(& ((item_box *)0)->shapefilled)),
      -1}, 
        {(unsigned char *)"level", 12, (unit )((unsigned long )(& ((item_box *)0)->level)),
      -1}, 
        {(unsigned char *)"", 0, -1, -1}};
#line 80 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static arg_item arcarrow_args[21]  = 
#line 80
  {      {(unsigned char *)"back", 0, (unit )((unsigned long )(& ((item_arc *)0)->arrow_start)),
      (unit )((unsigned long )(& ((item_arc *)0)->arrow_end))}, 
        {(unsigned char *)"both", 0, (unit )((unsigned long )(& ((item_arc *)0)->arrow_start)),
      -1}, 
        {(unsigned char *)"filled", 7, (unit )((unsigned long )(& ((item_line *)0)->arrow_filled)),
      -1}, 
        {(unsigned char *)"from", 9, (unit )((unsigned long )(& ((item_arc *)0)->x0)),
      (unit )((unsigned long )(& ((item_arc *)0)->y0))}, 
        {(unsigned char *)"to", 9, (unit )((unsigned long )(& ((item_arc *)0)->x1)),
      (unit )((unsigned long )(& ((item_arc *)0)->y1))}, 
        {(unsigned char *)"clockwise", 0, (unit )((unsigned long )(& ((item_arc *)0)->cw)),
      -1}, 
        {(unsigned char *)"radius", 5, (unit )((unsigned long )(& ((item_arc *)0)->radius)),
      -1}, 
        {(unsigned char *)"angle", 11, (unit )((unsigned long )(& ((item_arc *)0)->angle)),
      -1}, 
        {(unsigned char *)"depth", 5, (unit )((unsigned long )(& ((item_arc *)0)->depth)),
      -1}, 
        {(unsigned char *)"via", 9, (unit )((unsigned long )(& ((item_arc *)0)->via_x)),
      (unit )((unsigned long )(& ((item_arc *)0)->via_y))}, 
        {(unsigned char *)"dashed", 0, (unit )((unsigned long )(& ((item_arc *)0)->dash1)),
      -1}, 
        {(unsigned char *)"up", 13, (unit )((unsigned long )(& ((item_arc *)0)->direction)),
      0}, 
        {(unsigned char *)"down", 13, (unit )((unsigned long )(& ((item_arc *)0)->direction)),
      4}, 
        {(unsigned char *)"left", 13, (unit )((unsigned long )(& ((item_arc *)0)->direction)),
      6}, 
        {(unsigned char *)"right", 13, (unit )((unsigned long )(& ((item_arc *)0)->direction)),
      2}, 
        {(unsigned char *)"thickness", 5, (unit )((unsigned long )(& ((item_arc *)0)->thickness)),
      -1}, 
        {(unsigned char *)"colour", 6, (unit )((unsigned long )(& ((item_arc *)0)->colour)),
      -1}, 
        {(unsigned char *)"greyness", 8, (unit )((unsigned long )(& ((item_arc *)0)->colour)),
      -1}, 
        {(unsigned char *)"shapefilled", 7, (unit )((unsigned long )(& ((item_arc *)0)->shapefilled)),
      -1}, 
        {(unsigned char *)"level", 12, (unit )((unsigned long )(& ((item_arc *)0)->level)),
      -1}, 
        {(unsigned char *)"", 0, -1, -1}};
#line 108 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static arg_item *arc_args  =    arcarrow_args + 3;
#line 110 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static arg_item redraw_args[4]  = {      {(unsigned char *)"colour", 6, (unit )((unsigned long )(& ((item_redraw *)0)->colour)),
      -1}, 
        {(unsigned char *)"filled", 7, (unit )((unsigned long )(& ((item_redraw *)0)->filled)),
      -1}, 
        {(unsigned char *)"shapefilled", 7, (unit )((unsigned long )(& ((item_redraw *)0)->shapefilled)),
      -1}, 
        {(unsigned char *)"", 0, -1, -1}};
#line 124 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
void c_arc(void) 
{ 
  double arrowx ;
  double cwangle ;
  double radius ;
  double comp ;
  unit icwsign ;
  stringchain *s ;
  item_arc *arc___2 ;
  void *tmp ;
  unit tmp___0 ;
  unit tmp___1 ;
  unit tmp___2 ;
  unit tmp___3 ;
  unit tmp___4 ;
  unit tmp___5 ;
  arg_item *tmp___6 ;
  int tmp___7 ;
  double tmp___8 ;
  double tmp___9 ;
  int centresign ;
  double xx ;
  double yy ;
  double angle ;
  double len1 ;
  double len2 ;
  item_box *box ;
  unit width2 ;
  unit depth2 ;
  int tmp___10 ;
  double tmp___11 ;
  double tmp___12 ;
  double xxx ;
  double yyy ;
  double sss ;
  double tmp___13 ;
  double ccc ;
  double tmp___14 ;
  double zzz ;
  double ttt ;
  double beta ;
  double tmp___15 ;
  double tmp___16 ;
  double depth ;
  double tmp___17 ;
  double tmp___18 ;
  double tmp___19 ;
  double tmp___20 ;
  double tmp___21 ;
  double tmp___22 ;
  item_arc *lastarc ;
  double tmp___23 ;
  double tmp___24 ;
  double tmp___25 ;
  double angle___0 ;
  item_line *line ;
  double tmp___26 ;
  double tmp___27 ;
  item_box *box___0 ;
  unit width2___0 ;
  unit depth2___0 ;
  int tmp___28 ;
  double tmp___29 ;
  double tmp___30 ;
  double tmp___31 ;
  double tmp___32 ;
  double tmp___33 ;
  double tmp___34 ;
  stringchain *ss ;
  stringchain *tmp___35 ;

  {
  {
#line 127
  arrowx = (double )env->arrow_x;
#line 128
  cwangle = 0.0;
#line 130
  comp = 1.0;
#line 131
  icwsign = 1;
#line 132
  s = (stringchain *)((void *)0);
#line 133
  tmp = getstore(sizeof(item_arc ));
#line 133
  arc___2 = (item_arc *)tmp;
#line 135
  arc___2->type = 0;
#line 136
  arc___2->style = item_arg1;
#line 137
  arc___2->linedepth = env->linedepth;
#line 138
  arc___2->fontdepth = env->fontdepth;
#line 139
  arc___2->thickness = env->linethickness;
#line 140
  arc___2->dash1 = 0;
#line 141
  arc___2->dash2 = 0;
#line 142
  arc___2->colour = env->linecolour;
#line 143
  arc___2->shapefilled = env->shapefilled;
#line 144
  arc___2->arrow_filled = env->arrowfilled;
#line 145
  arc___2->arrow_start = 0;
#line 146
  arc___2->arrow_end = item_arg2;
#line 147
  arc___2->arrow_x = env->arrow_x;
#line 148
  arc___2->arrow_y = env->arrow_y;
#line 149
  arc___2->cw = 0;
#line 150
  arc___2->next = (struct item *)((void *)0);
#line 151
  arc___2->strings = (stringchain *)((void *)0);
#line 152
  arc___2->level = env->level;
#line 154
  tmp___0 = 2147483647;
#line 154
  arc___2->angle = tmp___0;
#line 154
  arc___2->radius = tmp___0;
#line 155
  tmp___2 = 2147483647;
#line 155
  arc___2->via_y = tmp___2;
#line 155
  tmp___1 = tmp___2;
#line 155
  arc___2->via_x = tmp___1;
#line 155
  arc___2->depth = tmp___1;
#line 156
  arc___2->direction = 12;
#line 157
  tmp___5 = 2147483647;
#line 157
  arc___2->y1 = tmp___5;
#line 157
  tmp___4 = tmp___5;
#line 157
  arc___2->x1 = tmp___4;
#line 157
  tmp___3 = tmp___4;
#line 157
  arc___2->y0 = tmp___3;
#line 157
  arc___2->x0 = tmp___3;
  }
#line 161
  if (item_arg2) {
#line 161
    tmp___6 = arcarrow_args;
  } else {
#line 161
    tmp___6 = arc_args;
  }
  {
#line 161
  options((item *)arc___2, tmp___6);
  }
#line 162
  if (arc___2->dash1) {
#line 162
    arc___2->dash1 = env->linedash1;
#line 162
    arc___2->dash2 = env->linedash2;
  }
#line 163
  if (arc___2->level > max_level) {
#line 163
    max_level = arc___2->level;
  }
#line 164
  if (arc___2->level < min_level) {
#line 164
    min_level = arc___2->level;
  }
#line 168
  if (arc___2->angle != 2147483647) {
#line 168
    arc___2->angle2 = ((double )arc___2->angle * pi) / 180000.0;
  }
#line 169
  if (arc___2->cw) {
#line 169
    cwangle = pi;
#line 169
    icwsign = -1;
  }
#line 175
  if (arc___2->x0 != 2147483647) {
#line 175
    if (arc___2->x1 == 2147483647) {
#line 177
      if (arc___2->depth != 2147483647) {
        {
#line 177
        error_moan(23);
        }
      } else
#line 177
      if (arc___2->via_x != 2147483647) {
        {
#line 177
        error_moan(23);
        }
      }
#line 178
      if (arc___2->angle == 2147483647) {
#line 178
        arc___2->angle2 = 0.5 * pi;
      }
#line 179
      if (arc___2->radius == 2147483647) {
#line 179
        arc___2->radius = env->arcradius;
      }
#line 180
      radius = (double )arc___2->radius;
#line 182
      if (arc___2->direction == 12) {
#line 182
        tmp___7 = env->direction;
      } else {
#line 182
        tmp___7 = arc___2->direction;
      }
      {
#line 184
      if (tmp___7 == 0) {
#line 184
        goto case_0;
      }
#line 190
      if (tmp___7 == 4) {
#line 190
        goto case_4;
      }
#line 196
      if (tmp___7 == 2) {
#line 196
        goto case_2;
      }
#line 202
      if (tmp___7 == 6) {
#line 202
        goto case_6;
      }
#line 182
      goto switch_break;
      case_0: /* CIL Label */ 
#line 185
      arc___2->angle1 = cwangle;
#line 186
      arc___2->x = arc___2->x0 - icwsign * arc___2->radius;
#line 187
      arc___2->y = arc___2->y0;
#line 188
      goto switch_break;
      case_4: /* CIL Label */ 
#line 191
      arc___2->angle1 = cwangle - pi;
#line 192
      arc___2->x = arc___2->x0 + icwsign * arc___2->radius;
#line 193
      arc___2->y = arc___2->y0;
#line 194
      goto switch_break;
      case_2: /* CIL Label */ 
#line 197
      arc___2->angle1 = cwangle - 0.5 * pi;
#line 198
      arc___2->x = arc___2->x0;
#line 199
      arc___2->y = arc___2->y0 + icwsign * arc___2->radius;
#line 200
      goto switch_break;
      case_6: /* CIL Label */ 
#line 203
      arc___2->angle1 = cwangle + 0.5 * pi;
#line 204
      arc___2->x = arc___2->x0;
#line 205
      arc___2->y = arc___2->y0 - icwsign * arc___2->radius;
#line 206
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
      {
#line 211
      arc___2->angle2 = arc___2->angle1 + (double )icwsign * arc___2->angle2;
#line 215
      tmp___8 = cos(arc___2->angle2);
#line 215
      arc___2->x1 = arc___2->x + (unit )(radius * tmp___8);
#line 216
      tmp___9 = sin(arc___2->angle2);
#line 216
      arc___2->y1 = arc___2->y + (unit )(radius * tmp___9);
      }
    } else {
#line 175
      goto _L___1;
    }
  } else
  _L___1: /* CIL Label */ 
#line 222
  if (arc___2->x1 != 2147483647) {
#line 224
    centresign = 1;
#line 230
    if (arc___2->x0 == 2147483647) {
#line 232
      if ((unsigned long )baseitem == (unsigned long )((void *)0)) {
#line 234
        arc___2->x0 = 0;
#line 235
        arc___2->y0 = 0;
      } else {
        {
#line 239
        if (baseitem->type == 0) {
#line 239
          goto case_0___0;
        }
#line 244
        if (baseitem->type == 2) {
#line 244
          goto case_2___0;
        }
#line 249
        if (baseitem->type == 1) {
#line 249
          goto case_1;
        }
#line 237
        goto switch_break___0;
        case_0___0: /* CIL Label */ 
#line 240
        arc___2->x0 = ((item_arc *)baseitem)->x1;
#line 241
        arc___2->y0 = ((item_arc *)baseitem)->y1;
#line 242
        goto switch_break___0;
        case_2___0: /* CIL Label */ 
#line 245
        arc___2->x0 = ((item_line *)baseitem)->x + ((item_line *)baseitem)->width;
#line 246
        arc___2->y0 = ((item_line *)baseitem)->y + ((item_line *)baseitem)->depth;
#line 247
        goto switch_break___0;
        case_1: /* CIL Label */ 
#line 251
        box = (item_box *)baseitem;
#line 252
        width2 = box->width / 2;
#line 253
        depth2 = box->depth / 2;
#line 255
        arc___2->x0 = box->x;
#line 256
        arc___2->y0 = box->y;
#line 258
        if (arc___2->direction == 12) {
#line 258
          tmp___10 = env->direction;
        } else {
#line 258
          tmp___10 = arc___2->direction;
        }
        {
#line 260
        if (tmp___10 == 0) {
#line 260
          goto case_0___1;
        }
#line 264
        if (tmp___10 == 4) {
#line 264
          goto case_4___0;
        }
#line 268
        if (tmp___10 == 2) {
#line 268
          goto case_2___1;
        }
#line 272
        if (tmp___10 == 6) {
#line 272
          goto case_6___0;
        }
#line 258
        goto switch_break___1;
        case_0___1: /* CIL Label */ 
#line 261
        arc___2->y0 += depth2;
#line 262
        goto switch_break___1;
        case_4___0: /* CIL Label */ 
#line 265
        arc___2->y0 -= depth2;
#line 266
        goto switch_break___1;
        case_2___1: /* CIL Label */ 
#line 269
        arc___2->x0 += width2;
#line 270
        goto switch_break___1;
        case_6___0: /* CIL Label */ 
#line 273
        arc___2->x0 -= width2;
#line 274
        goto switch_break___1;
        switch_break___1: /* CIL Label */ ;
        }
#line 277
        goto switch_break___0;
        switch_break___0: /* CIL Label */ ;
        }
      }
    }
    {
#line 283
    xx = (double )(arc___2->x1 - arc___2->x0);
#line 284
    yy = (double )(arc___2->y1 - arc___2->y0);
#line 286
    angle = atan2(yy, xx);
#line 288
    tmp___11 = sqrt(xx * xx + yy * yy);
#line 288
    len1 = 0.5 * tmp___11;
    }
#line 292
    if (arc___2->angle == 2147483647) {
#line 292
      if (arc___2->radius == 2147483647) {
#line 292
        if (arc___2->depth == 2147483647) {
#line 292
          if (arc___2->via_x == 2147483647) {
#line 295
            arc___2->angle = 0;
#line 296
            arc___2->angle2 = 0.5 * pi;
          }
        }
      }
    }
#line 305
    if (arc___2->angle != 2147483647) {
#line 307
      if (arc___2->radius != 2147483647) {
        {
#line 308
        error_moan(19, "radius or depth or via");
        }
      } else
#line 307
      if (arc___2->depth != 2147483647) {
        {
#line 308
        error_moan(19, "radius or depth or via");
        }
      } else
#line 307
      if (arc___2->via_x != 2147483647) {
        {
#line 308
        error_moan(19, "radius or depth or via");
        }
      }
      {
#line 309
      tmp___12 = sin(arc___2->angle2 / 2.0);
#line 309
      radius = len1 / tmp___12;
      }
#line 310
      if (arc___2->angle2 > pi) {
#line 310
        comp = - comp;
      }
    } else
#line 315
    if (arc___2->radius != 2147483647) {
#line 317
      if (arc___2->depth != 2147483647) {
        {
#line 318
        error_moan(19, "depth or via");
        }
      } else
#line 317
      if (arc___2->via_x != 2147483647) {
        {
#line 318
        error_moan(19, "depth or via");
        }
      }
#line 319
      radius = (double )arc___2->radius;
    } else {
#line 329
      if (arc___2->via_x != 2147483647) {
        {
#line 331
        xxx = (double )(arc___2->via_x - arc___2->x0);
#line 332
        yyy = (double )(arc___2->via_y - arc___2->y0);
#line 333
        tmp___13 = sin(angle);
#line 333
        sss = tmp___13;
#line 334
        tmp___14 = cos(angle);
#line 334
        ccc = tmp___14;
#line 335
        zzz = xxx * sss - yyy * ccc;
#line 336
        ttt = xxx * ccc + yyy * sss;
        }
#line 340
        if (arc___2->depth != 2147483647) {
          {
#line 340
          error_moan(19, "depth");
          }
        }
        {
#line 345
        tmp___19 = fabs(zzz);
        }
#line 345
        if (tmp___19 < 0.001) {
          {
#line 347
          error_moan(24);
#line 348
          arc___2->depth = (unit )len1;
          }
        } else
#line 345
        if (arc___2->cw) {
#line 345
          if (zzz > 0.0) {
            {
#line 347
            error_moan(24);
#line 348
            arc___2->depth = (unit )len1;
            }
          } else {
#line 345
            goto _L___0;
          }
        } else
        _L___0: /* CIL Label */ 
#line 345
        if (! arc___2->cw) {
#line 345
          if (zzz < 0.0) {
            {
#line 347
            error_moan(24);
#line 348
            arc___2->depth = (unit )len1;
            }
          } else {
#line 345
            goto _L;
          }
        } else {
          _L: /* CIL Label */ 
          {
#line 355
          tmp___15 = atan2(2.0 * len1 - ttt, zzz);
#line 355
          tmp___16 = atan2(ttt, zzz);
#line 355
          beta = tmp___15 + tmp___16;
#line 358
          tmp___17 = tan(0.5 * beta);
#line 358
          tmp___18 = fabs(len1 / tmp___17);
#line 358
          depth = tmp___18;
#line 359
          arc___2->depth = (unit )depth;
          }
        }
      }
#line 365
      radius = (len1 * len1 + (double )arc___2->depth * (double )arc___2->depth) / (double )(2 * arc___2->depth);
#line 372
      if ((double )arc___2->depth > len1) {
#line 372
        centresign = -1;
      }
    }
#line 377
    arc___2->radius = (unit )radius;
#line 381
    if (len1 > radius) {
#line 381
      radius = len1;
#line 381
      arc___2->radius = (unit )radius;
    }
    {
#line 383
    tmp___20 = sqrt(radius * radius - len1 * len1);
#line 383
    len2 = comp * tmp___20;
#line 385
    tmp___21 = sin(angle);
#line 385
    arc___2->x = (arc___2->x0 + arc___2->x1) / 2 - (centresign * icwsign) * (unit )(len2 * tmp___21);
#line 386
    tmp___22 = cos(angle);
#line 386
    arc___2->y = (arc___2->y0 + arc___2->y1) / 2 + (centresign * icwsign) * (unit )(len2 * tmp___22);
#line 390
    arc___2->angle1 = atan2((double )(arc___2->y0 - arc___2->y), (double )(arc___2->x0 - arc___2->x));
#line 391
    arc___2->angle2 = atan2((double )(arc___2->y1 - arc___2->y), (double )(arc___2->x1 - arc___2->x));
    }
  } else {
#line 400
    if (arc___2->depth != 2147483647) {
      {
#line 400
      error_moan(23);
      }
    } else
#line 400
    if (arc___2->via_x != 2147483647) {
      {
#line 400
      error_moan(23);
      }
    }
#line 401
    if (arc___2->angle == 2147483647) {
#line 401
      arc___2->angle2 = 0.5 * pi;
    }
#line 402
    if (arc___2->radius == 2147483647) {
#line 402
      arc___2->radius = env->arcradius;
    }
#line 403
    radius = (double )arc___2->radius;
#line 405
    if ((unsigned long )baseitem == (unsigned long )((void *)0)) {
#line 407
      arc___2->x = 0;
#line 408
      arc___2->y = 0;
      {
#line 412
      if (arc___2->direction == 0) {
#line 412
        goto case_0___2;
      }
#line 412
      if (arc___2->direction == 12) {
#line 412
        goto case_0___2;
      }
#line 416
      if (arc___2->direction == 4) {
#line 416
        goto case_4___1;
      }
#line 420
      if (arc___2->direction == 2) {
#line 420
        goto case_2___2;
      }
#line 424
      if (arc___2->direction == 6) {
#line 424
        goto case_6___1;
      }
#line 409
      goto switch_break___2;
      case_0___2: /* CIL Label */ 
      case_12: /* CIL Label */ 
#line 413
      arc___2->angle1 = cwangle;
#line 414
      goto switch_break___2;
      case_4___1: /* CIL Label */ 
#line 417
      arc___2->angle1 = cwangle - pi;
#line 418
      goto switch_break___2;
      case_2___2: /* CIL Label */ 
#line 421
      arc___2->angle1 = cwangle - 0.5 * pi;
#line 422
      goto switch_break___2;
      case_6___1: /* CIL Label */ 
#line 425
      arc___2->angle1 = cwangle + 0.5 * pi;
#line 426
      goto switch_break___2;
      switch_break___2: /* CIL Label */ ;
      }
    } else {
      {
#line 431
      if (baseitem->type == 0) {
#line 431
        goto case_0___3;
      }
#line 459
      if (baseitem->type == 2) {
#line 459
        goto case_2___4;
      }
#line 477
      if (baseitem->type == 1) {
#line 477
        goto case_1___0;
      }
#line 515
      goto switch_default___0;
      case_0___3: /* CIL Label */ 
#line 433
      lastarc = (item_arc *)baseitem;
#line 434
      if (lastarc->cw) {
#line 434
        if (arc___2->cw) {
#line 434
          cwangle = 0.0;
        } else {
#line 434
          cwangle = pi;
        }
      }
      {
#line 438
      if (arc___2->direction == 12) {
#line 438
        goto case_12___0;
      }
#line 448
      if (arc___2->direction == 0) {
#line 448
        goto case_0___4;
      }
#line 449
      if (arc___2->direction == 4) {
#line 449
        goto case_4___2;
      }
#line 450
      if (arc___2->direction == 2) {
#line 450
        goto case_2___3;
      }
#line 451
      if (arc___2->direction == 6) {
#line 451
        goto case_6___2;
      }
#line 436
      goto switch_break___4;
      case_12___0: /* CIL Label */ 
      {
#line 443
      tmp___23 = atan2((double )(lastarc->y1 - lastarc->y), (double )(lastarc->x1 - lastarc->x));
#line 443
      arc___2->angle1 = tmp___23 - cwangle;
      }
#line 446
      goto switch_break___4;
      case_0___4: /* CIL Label */ 
#line 448
      arc___2->angle1 = cwangle;
#line 448
      goto switch_break___4;
      case_4___2: /* CIL Label */ 
#line 449
      arc___2->angle1 = cwangle - pi;
#line 449
      goto switch_break___4;
      case_2___3: /* CIL Label */ 
#line 450
      arc___2->angle1 = cwangle - 0.5 * pi;
#line 450
      goto switch_break___4;
      case_6___2: /* CIL Label */ 
#line 451
      arc___2->angle1 = cwangle + 0.5 * pi;
#line 451
      goto switch_break___4;
      switch_break___4: /* CIL Label */ ;
      }
      {
#line 454
      tmp___24 = cos(arc___2->angle1);
#line 454
      arc___2->x = lastarc->x1 - (unit )(radius * tmp___24);
#line 455
      tmp___25 = sin(arc___2->angle1);
#line 455
      arc___2->y = lastarc->y1 - (unit )(radius * tmp___25);
      }
#line 457
      goto switch_break___3;
      case_2___4: /* CIL Label */ 
#line 462
      line = (item_line *)baseitem;
      {
#line 465
      if (arc___2->direction == 0) {
#line 465
        goto case_0___5;
      }
#line 466
      if (arc___2->direction == 4) {
#line 466
        goto case_4___3;
      }
#line 467
      if (arc___2->direction == 2) {
#line 467
        goto case_2___5;
      }
#line 468
      if (arc___2->direction == 6) {
#line 468
        goto case_6___3;
      }
#line 469
      goto switch_default;
      case_0___5: /* CIL Label */ 
#line 465
      angle___0 = 0.5 * pi;
#line 465
      goto switch_break___5;
      case_4___3: /* CIL Label */ 
#line 466
      angle___0 = - 0.5 * pi;
#line 466
      goto switch_break___5;
      case_2___5: /* CIL Label */ 
#line 467
      angle___0 = 0.0;
#line 467
      goto switch_break___5;
      case_6___3: /* CIL Label */ 
#line 468
      angle___0 = pi;
#line 468
      goto switch_break___5;
      switch_default: /* CIL Label */ 
      {
#line 469
      angle___0 = atan2((double )line->depth, (double )line->width);
      }
#line 469
      goto switch_break___5;
      switch_break___5: /* CIL Label */ ;
      }
      {
#line 471
      arc___2->angle1 = cwangle - (0.5 * pi - angle___0);
#line 472
      tmp___26 = sin(angle___0);
#line 472
      arc___2->x = (line->x + line->width) - icwsign * (unit )(radius * tmp___26);
#line 473
      tmp___27 = cos(angle___0);
#line 473
      arc___2->y = (line->y + line->depth) + icwsign * (unit )(radius * tmp___27);
      }
#line 475
      goto switch_break___3;
      case_1___0: /* CIL Label */ 
#line 479
      box___0 = (item_box *)baseitem;
#line 480
      width2___0 = box___0->width / 2;
#line 481
      depth2___0 = box___0->depth / 2;
#line 483
      arc___2->x = box___0->x;
#line 484
      arc___2->y = box___0->y;
#line 486
      if (arc___2->direction == 12) {
#line 486
        tmp___28 = env->direction;
      } else {
#line 486
        tmp___28 = arc___2->direction;
      }
      {
#line 488
      if (tmp___28 == 0) {
#line 488
        goto case_0___6;
      }
#line 494
      if (tmp___28 == 4) {
#line 494
        goto case_4___4;
      }
#line 500
      if (tmp___28 == 2) {
#line 500
        goto case_2___6;
      }
#line 506
      if (tmp___28 == 6) {
#line 506
        goto case_6___4;
      }
#line 486
      goto switch_break___6;
      case_0___6: /* CIL Label */ 
#line 489
      arc___2->angle1 = cwangle;
#line 490
      arc___2->x -= icwsign * arc___2->radius;
#line 491
      arc___2->y += depth2___0;
#line 492
      goto switch_break___6;
      case_4___4: /* CIL Label */ 
#line 495
      arc___2->angle1 = pi - cwangle;
#line 496
      arc___2->x += icwsign * arc___2->radius;
#line 497
      arc___2->y -= depth2___0;
#line 498
      goto switch_break___6;
      case_2___6: /* CIL Label */ 
#line 501
      arc___2->angle1 = cwangle - 0.5 * pi;
#line 502
      arc___2->x += width2___0;
#line 503
      arc___2->y += icwsign * arc___2->radius;
#line 504
      goto switch_break___6;
      case_6___4: /* CIL Label */ 
#line 507
      arc___2->angle1 = cwangle + 0.5 * pi;
#line 508
      arc___2->x -= width2___0;
#line 509
      arc___2->y -= icwsign * arc___2->radius;
#line 510
      goto switch_break___6;
      switch_break___6: /* CIL Label */ ;
      }
#line 513
      goto switch_break___3;
      switch_default___0: /* CIL Label */ 
#line 516
      arc___2->angle1 = (double )0;
#line 517
      arc___2->x = baseitem->x;
#line 518
      arc___2->y = baseitem->y;
#line 519
      goto switch_break___3;
      switch_break___3: /* CIL Label */ ;
      }
    }
    {
#line 524
    arc___2->angle2 = arc___2->angle1 + (double )icwsign * arc___2->angle2;
#line 528
    tmp___29 = cos(arc___2->angle1);
#line 528
    arc___2->x0 = arc___2->x + (unit )(radius * tmp___29);
#line 529
    tmp___30 = sin(arc___2->angle1);
#line 529
    arc___2->y0 = arc___2->y + (unit )(radius * tmp___30);
#line 530
    tmp___31 = cos(arc___2->angle2);
#line 530
    arc___2->x1 = arc___2->x + (unit )(radius * tmp___31);
#line 531
    tmp___32 = sin(arc___2->angle2);
#line 531
    arc___2->y1 = arc___2->y + (unit )(radius * tmp___32);
    }
  }
#line 536
  if (arc___2->arrow_start) {
    {
#line 537
    tmp___33 = asin(arrowx / (2.0 * radius));
#line 537
    arc___2->angle1 += ((double )icwsign * 2.0) * tmp___33;
    }
  }
#line 539
  if (arc___2->arrow_end) {
    {
#line 540
    tmp___34 = asin(arrowx / (2.0 * radius));
#line 540
    arc___2->angle2 -= ((double )icwsign * 2.0) * tmp___34;
    }
  }
  {
#line 544
  while (1) {
    while_continue: /* CIL Label */ ;
#line 544
    if (! ((int )*(in_line + chptr) == 34)) {
#line 544
      goto while_break;
    }
    {
#line 546
    tmp___35 = readstring(0);
#line 546
    ss = tmp___35;
    }
#line 547
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 547
      arc___2->strings = ss;
    } else {
#line 547
      s->next = ss;
    }
#line 548
    s = ss;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 553
  chain_label((item *)arc___2, 1);
  }
#line 554
  return;
}
}
#line 572 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
static void bce(int boxtype , arg_item *args ) 
{ 
  unit x_corner ;
  unit y_corner ;
  unit depth2 ;
  unit width2 ;
  stringchain *s ;
  item_box *box ;
  void *tmp ;
  unit tmp___0 ;
  unit tmp___1 ;
  double tmp___2 ;
  double tmp___3 ;
  item_box *lastbox ;
  unit lastwidth2 ;
  unit lastdepth2 ;
  unit last_x_corner ;
  unit last_y_corner ;
  double tmp___4 ;
  double tmp___5 ;
  unit xoffset ;
  unit yoffset ;
  unit x ;
  unit y ;
  unit xx ;
  unit yy ;
  item_arc *lastarc ;
  double angle2 ;
  item_line *lastline ;
  int tmp___6 ;
  int tmp___7 ;
  stringchain *ss ;
  stringchain *tmp___8 ;

  {
  {
#line 577
  s = (stringchain *)((void *)0);
#line 578
  tmp = getstore(sizeof(item_box ));
#line 578
  box = (item_box *)tmp;
#line 582
  box->type = 1;
#line 583
  box->style = item_arg1;
#line 584
  box->dash1 = 0;
#line 585
  box->linedepth = env->linedepth;
#line 586
  box->fontdepth = env->fontdepth;
#line 587
  box->next = (struct item *)((void *)0);
#line 588
  box->strings = (stringchain *)((void *)0);
#line 589
  box->boxtype = boxtype;
#line 590
  box->level = env->level;
  }
  {
#line 594
  if (boxtype == 0) {
#line 594
    goto case_0;
  }
#line 602
  if (boxtype == 1) {
#line 602
    goto case_1;
  }
#line 609
  if (boxtype == 2) {
#line 609
    goto case_2;
  }
#line 592
  goto switch_break;
  case_0: /* CIL Label */ 
#line 595
  box->width = env->boxwidth;
#line 596
  box->depth = env->boxdepth;
#line 597
  box->thickness = env->boxthickness;
#line 598
  box->colour = env->boxcolour;
#line 599
  box->shapefilled = env->boxfilled;
#line 600
  goto switch_break;
  case_1: /* CIL Label */ 
#line 603
  box->width = env->cirradius;
#line 604
  box->thickness = env->cirthickness;
#line 605
  box->colour = env->circolour;
#line 606
  box->shapefilled = env->cirfilled;
#line 607
  goto switch_break;
  case_2: /* CIL Label */ 
#line 610
  box->width = env->ellwidth;
#line 611
  box->depth = env->elldepth;
#line 612
  box->thickness = env->ellthickness;
#line 613
  box->colour = env->ellcolour;
#line 614
  box->shapefilled = env->ellfilled;
#line 615
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
  {
#line 618
  tmp___0 = 2147483647;
#line 618
  box->y = tmp___0;
#line 618
  box->x = tmp___0;
#line 619
  box->joinpoint = 12;
#line 620
  box->pointjoined = 0;
#line 624
  options((item *)box, args);
  }
#line 625
  if (box->level > max_level) {
#line 625
    max_level = box->level;
  }
#line 626
  if (box->level < min_level) {
#line 626
    min_level = box->level;
  }
#line 628
  if (boxtype == 1) {
#line 628
    tmp___1 = 2 * box->width;
#line 628
    box->depth = tmp___1;
#line 628
    box->width = tmp___1;
  }
#line 630
  depth2 = box->depth / 2;
#line 631
  width2 = box->width / 2;
#line 633
  if (boxtype == 0) {
#line 635
    x_corner = width2;
#line 636
    y_corner = depth2;
  } else {
    {
#line 640
    tmp___2 = cos(0.25 * pi);
#line 640
    x_corner = (unit )((double )width2 * tmp___2);
#line 641
    tmp___3 = sin(0.25 * pi);
#line 641
    y_corner = (unit )((double )depth2 * tmp___3);
    }
  }
#line 646
  if (box->dash1) {
    {
#line 648
    if (boxtype == 0) {
#line 648
      goto case_0___0;
    }
#line 653
    if (boxtype == 1) {
#line 653
      goto case_1___0;
    }
#line 658
    if (boxtype == 2) {
#line 658
      goto case_2___0;
    }
#line 646
    goto switch_break___0;
    case_0___0: /* CIL Label */ 
#line 649
    box->dash1 = env->boxdash1;
#line 650
    box->dash2 = env->boxdash2;
#line 651
    goto switch_break___0;
    case_1___0: /* CIL Label */ 
#line 654
    box->dash1 = env->cirdash1;
#line 655
    box->dash2 = env->cirdash2;
#line 656
    goto switch_break___0;
    case_2___0: /* CIL Label */ 
#line 659
    box->dash1 = env->elldash1;
#line 660
    box->dash2 = env->elldash2;
#line 661
    goto switch_break___0;
    switch_break___0: /* CIL Label */ ;
    }
  }
#line 666
  if (box->x == 2147483647) {
#line 668
    if ((unsigned long )baseitem == (unsigned long )((void *)0)) {
#line 670
      box->x = 0;
#line 671
      box->y = 0;
    } else
#line 674
    if (baseitem->type == 1) {
#line 676
      lastbox = (item_box *)baseitem;
#line 677
      lastwidth2 = lastbox->width / 2;
#line 678
      lastdepth2 = lastbox->depth / 2;
#line 681
      if (lastbox->boxtype == 0) {
#line 683
        last_x_corner = lastwidth2;
#line 684
        last_y_corner = lastdepth2;
      } else {
        {
#line 688
        tmp___4 = cos(0.25 * pi);
#line 688
        last_x_corner = (unit )((double )lastwidth2 * tmp___4);
#line 689
        tmp___5 = sin(0.25 * pi);
#line 689
        last_y_corner = (unit )((double )lastdepth2 * tmp___5);
        }
      }
#line 692
      if (box->joinpoint == 12) {
        {
#line 694
        if (env->direction == 0) {
#line 694
          goto case_0___1;
        }
#line 695
        if (env->direction == 4) {
#line 695
          goto case_4;
        }
#line 696
        if (env->direction == 2) {
#line 696
          goto case_2___1;
        }
#line 697
        if (env->direction == 6) {
#line 697
          goto case_6;
        }
#line 692
        goto switch_break___1;
        case_0___1: /* CIL Label */ 
#line 694
        box->joinpoint = 4;
#line 694
        goto switch_break___1;
        case_4: /* CIL Label */ 
#line 695
        box->joinpoint = 0;
#line 695
        goto switch_break___1;
        case_2___1: /* CIL Label */ 
#line 696
        box->joinpoint = 6;
#line 696
        goto switch_break___1;
        case_6: /* CIL Label */ 
#line 697
        box->joinpoint = 2;
#line 697
        goto switch_break___1;
        switch_break___1: /* CIL Label */ ;
        }
      }
      {
#line 702
      if (box->joinpoint == 0) {
#line 702
        goto case_0___2;
      }
#line 707
      if (box->joinpoint == 1) {
#line 707
        goto case_1___1;
      }
#line 720
      if (box->joinpoint == 2) {
#line 720
        goto case_2___2;
      }
#line 725
      if (box->joinpoint == 3) {
#line 725
        goto case_3;
      }
#line 738
      if (box->joinpoint == 4) {
#line 738
        goto case_4___0;
      }
#line 743
      if (box->joinpoint == 5) {
#line 743
        goto case_5;
      }
#line 756
      if (box->joinpoint == 6) {
#line 756
        goto case_6___0;
      }
#line 761
      if (box->joinpoint == 7) {
#line 761
        goto case_7;
      }
#line 774
      if (box->joinpoint == 8) {
#line 774
        goto case_8;
      }
#line 700
      goto switch_break___2;
      case_0___2: /* CIL Label */ 
#line 703
      box->x = lastbox->x;
#line 704
      box->y = (lastbox->y - lastdepth2) - depth2;
#line 705
      goto switch_break___2;
      case_1___1: /* CIL Label */ 
#line 708
      if (box->pointjoined) {
#line 710
        box->x = joined_xx - x_corner;
#line 711
        box->y = joined_yy - y_corner;
      } else {
#line 715
        box->x = (lastbox->x - last_x_corner) - x_corner;
#line 716
        box->y = (lastbox->y - last_y_corner) - y_corner;
      }
#line 718
      goto switch_break___2;
      case_2___2: /* CIL Label */ 
#line 721
      box->x = (lastbox->x - lastwidth2) - width2;
#line 722
      box->y = lastbox->y;
#line 723
      goto switch_break___2;
      case_3: /* CIL Label */ 
#line 726
      if (box->pointjoined) {
#line 728
        box->x = joined_xx - x_corner;
#line 729
        box->y = joined_yy + y_corner;
      } else {
#line 733
        box->x = (lastbox->x - last_x_corner) - x_corner;
#line 734
        box->y = (lastbox->y + last_y_corner) + y_corner;
      }
#line 736
      goto switch_break___2;
      case_4___0: /* CIL Label */ 
#line 739
      box->x = lastbox->x;
#line 740
      box->y = (lastbox->y + lastdepth2) + depth2;
#line 741
      goto switch_break___2;
      case_5: /* CIL Label */ 
#line 744
      if (box->pointjoined) {
#line 746
        box->x = joined_xx + x_corner;
#line 747
        box->y = joined_yy + y_corner;
      } else {
#line 751
        box->x = (lastbox->x + last_x_corner) + x_corner;
#line 752
        box->y = (lastbox->y + last_y_corner) + y_corner;
      }
#line 754
      goto switch_break___2;
      case_6___0: /* CIL Label */ 
#line 757
      box->x = (lastbox->x + lastwidth2) + width2;
#line 758
      box->y = lastbox->y;
#line 759
      goto switch_break___2;
      case_7: /* CIL Label */ 
#line 762
      if (box->pointjoined) {
#line 764
        box->x = joined_xx + x_corner;
#line 765
        box->y = joined_yy - y_corner;
      } else {
#line 769
        box->x = (lastbox->x + last_x_corner) + x_corner;
#line 770
        box->y = (lastbox->y - last_y_corner) - y_corner;
      }
#line 772
      goto switch_break___2;
      case_8: /* CIL Label */ 
#line 775
      if (box->pointjoined) {
#line 777
        box->x = joined_xx;
#line 778
        box->y = joined_yy;
      } else {
#line 782
        box->x = lastbox->x;
#line 783
        box->y = lastbox->y;
      }
#line 785
      goto switch_break___2;
      switch_break___2: /* CIL Label */ ;
      }
    } else {
#line 793
      xoffset = 0;
#line 793
      yoffset = 0;
#line 796
      if (baseitem->type == 0) {
#line 798
        lastarc = (item_arc *)baseitem;
#line 799
        angle2 = lastarc->angle2;
#line 800
        xx = lastarc->x1;
#line 801
        yy = lastarc->y1;
#line 802
        if (box->joinpoint == 12) {
#line 804
          if (angle2 > - pi / 4.0) {
#line 804
            if (angle2 <= pi / 4.0) {
#line 804
              yoffset = depth2;
            } else {
#line 804
              goto _L___0;
            }
          } else
          _L___0: /* CIL Label */ 
#line 805
          if (angle2 > pi / 4.0) {
#line 805
            if (angle2 <= (3.0 * pi) / 4.0) {
#line 805
              xoffset = - width2;
            } else {
#line 805
              goto _L;
            }
          } else
          _L: /* CIL Label */ 
#line 806
          if (angle2 > (3.0 * pi) / 4.0) {
#line 806
            if (angle2 <= (5.0 * pi) / 4.0) {
#line 806
              yoffset = - depth2;
            } else {
#line 807
              xoffset = width2;
            }
          } else {
#line 807
            xoffset = width2;
          }
#line 808
          if (lastarc->cw) {
#line 808
            xoffset = - xoffset;
#line 808
            yoffset = - yoffset;
          }
        }
      } else {
#line 814
        lastline = (item_line *)baseitem;
#line 816
        x = lastline->x;
#line 817
        y = lastline->y;
#line 818
        xx = x + lastline->width;
#line 819
        yy = y + lastline->depth;
#line 821
        if (box->joinpoint == 12) {
          {
#line 823
          tmp___6 = abs(xx - x);
#line 823
          tmp___7 = abs(yy - y);
          }
#line 823
          if (tmp___6 > tmp___7) {
#line 825
            xoffset = width2;
#line 826
            if (xx < x) {
#line 826
              xoffset = - xoffset;
            }
          } else {
#line 830
            yoffset = depth2;
#line 831
            if (yy < y) {
#line 831
              yoffset = - yoffset;
            }
          }
        }
      }
      {
#line 840
      if (box->joinpoint == 0) {
#line 840
        goto case_0___3;
      }
#line 844
      if (box->joinpoint == 1) {
#line 844
        goto case_1___2;
      }
#line 849
      if (box->joinpoint == 2) {
#line 849
        goto case_2___3;
      }
#line 853
      if (box->joinpoint == 3) {
#line 853
        goto case_3___0;
      }
#line 858
      if (box->joinpoint == 4) {
#line 858
        goto case_4___1;
      }
#line 862
      if (box->joinpoint == 5) {
#line 862
        goto case_5___0;
      }
#line 867
      if (box->joinpoint == 6) {
#line 867
        goto case_6___1;
      }
#line 871
      if (box->joinpoint == 7) {
#line 871
        goto case_7___0;
      }
#line 876
      if (box->joinpoint == 8) {
#line 876
        goto case_8___0;
      }
#line 838
      goto switch_break___3;
      case_0___3: /* CIL Label */ 
#line 841
      yoffset = - depth2;
#line 842
      goto switch_break___3;
      case_1___2: /* CIL Label */ 
#line 845
      xoffset = - x_corner;
#line 846
      yoffset = - y_corner;
#line 847
      goto switch_break___3;
      case_2___3: /* CIL Label */ 
#line 850
      xoffset = - width2;
#line 851
      goto switch_break___3;
      case_3___0: /* CIL Label */ 
#line 854
      xoffset = - x_corner;
#line 855
      yoffset = y_corner;
#line 856
      goto switch_break___3;
      case_4___1: /* CIL Label */ 
#line 859
      yoffset = depth2;
#line 860
      goto switch_break___3;
      case_5___0: /* CIL Label */ 
#line 863
      xoffset = x_corner;
#line 864
      yoffset = y_corner;
#line 865
      goto switch_break___3;
      case_6___1: /* CIL Label */ 
#line 868
      xoffset = width2;
#line 869
      goto switch_break___3;
      case_7___0: /* CIL Label */ 
#line 872
      xoffset = x_corner;
#line 873
      yoffset = - y_corner;
#line 874
      goto switch_break___3;
      case_8___0: /* CIL Label */ 
#line 877
      goto switch_break___3;
      switch_break___3: /* CIL Label */ ;
      }
#line 880
      if (box->pointjoined) {
#line 882
        box->x = joined_xx + xoffset;
#line 883
        box->y = joined_yy + yoffset;
      } else {
#line 887
        box->x = xx + xoffset;
#line 888
        box->y = yy + yoffset;
      }
    }
  }
  {
#line 895
  while (1) {
    while_continue: /* CIL Label */ ;
#line 895
    if (! ((int )*(in_line + chptr) == 34)) {
#line 895
      goto while_break;
    }
    {
#line 897
    tmp___8 = readstring(2);
#line 897
    ss = tmp___8;
    }
#line 898
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 898
      box->strings = ss;
    } else {
#line 898
      s->next = ss;
    }
#line 899
    s = ss;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 904
  chain_label((item *)box, 1);
  }
#line 905
  return;
}
}
#line 910 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
void c_box(void) 
{ 


  {
  {
#line 913
  bce(0, box_args);
  }
#line 914
  return;
}
}
#line 917 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
void c_circle(void) 
{ 


  {
#line 920
  if (item_arg2) {
    {
#line 921
    bce(1, circle_args);
    }
  } else {
    {
#line 923
    bce(2, box_args);
    }
  }
#line 924
  return;
}
}
#line 932 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
void c_line(void) 
{ 
  stringchain *s ;
  item_arc *lastarc ;
  item_box *lastbox ;
  item_line *lastline ;
  item_line *line ;
  void *tmp ;
  unit tmp___0 ;
  unit tmp___1 ;
  unit tmp___2 ;
  unit tmp___3 ;
  unit tmp___4 ;
  unit tmp___5 ;
  arg_item *tmp___6 ;
  int quadrant ;
  int tmp___7 ;
  int tmp___8 ;
  stringchain *ss ;
  int tmp___9 ;
  stringchain *tmp___10 ;

  {
  {
#line 935
  s = (stringchain *)((void *)0);
#line 939
  tmp = getstore(sizeof(item_line ));
#line 939
  line = (item_line *)tmp;
#line 943
  line->type = 2;
#line 944
  line->style = item_arg1;
#line 945
  line->linedepth = env->linedepth;
#line 946
  line->fontdepth = env->fontdepth;
#line 947
  line->next = (struct item *)((void *)0);
#line 948
  line->strings = (stringchain *)((void *)0);
#line 949
  line->dash1 = 0;
#line 950
  line->dash2 = 0;
#line 951
  line->thickness = env->linethickness;
#line 952
  line->colour = env->linecolour;
#line 953
  line->shapefilled = env->shapefilled;
#line 954
  line->arrow_filled = env->arrowfilled;
#line 955
  line->arrow_start = 0;
#line 956
  line->arrow_end = item_arg2;
#line 957
  line->arrow_x = env->arrow_x;
#line 958
  line->arrow_y = env->arrow_y;
#line 959
  line->level = env->level;
#line 963
  tmp___2 = 2147483647;
#line 963
  line->y = tmp___2;
#line 963
  tmp___1 = tmp___2;
#line 963
  line->x = tmp___1;
#line 963
  tmp___0 = tmp___1;
#line 963
  line->depth = tmp___0;
#line 963
  line->width = tmp___0;
#line 964
  tmp___5 = 2147483647;
#line 964
  line->aligny = tmp___5;
#line 964
  tmp___4 = tmp___5;
#line 964
  line->alignx = tmp___4;
#line 964
  tmp___3 = tmp___4;
#line 964
  line->endy = tmp___3;
#line 964
  line->endx = tmp___3;
  }
#line 968
  if (item_arg2) {
#line 968
    tmp___6 = arrow_args;
  } else {
#line 968
    tmp___6 = line_args;
  }
  {
#line 968
  options((item *)line, tmp___6);
  }
#line 969
  if (line->dash1) {
#line 969
    line->dash1 = env->linedash1;
#line 969
    line->dash2 = env->linedash2;
  }
#line 970
  if (line->level > max_level) {
#line 970
    max_level = line->level;
  }
#line 971
  if (line->level < min_level) {
#line 971
    min_level = line->level;
  }
#line 976
  if (line->width == 2147483647) {
    {
#line 978
    if (env->direction == 0) {
#line 978
      goto case_0;
    }
#line 983
    if (env->direction == 4) {
#line 983
      goto case_4;
    }
#line 988
    if (env->direction == 2) {
#line 988
      goto case_2;
    }
#line 993
    if (env->direction == 6) {
#line 993
      goto case_6;
    }
#line 976
    goto switch_break;
    case_0: /* CIL Label */ 
#line 979
    line->width = 0;
#line 980
    line->depth = env->line_vd;
#line 981
    goto switch_break;
    case_4: /* CIL Label */ 
#line 984
    line->width = 0;
#line 985
    line->depth = - env->line_vd;
#line 986
    goto switch_break;
    case_2: /* CIL Label */ 
#line 989
    line->width = env->line_hw;
#line 990
    line->depth = 0;
#line 991
    goto switch_break;
    case_6: /* CIL Label */ 
#line 994
    line->width = - env->line_hw;
#line 995
    line->depth = 0;
#line 996
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
#line 1002
  if (line->x == 2147483647) {
    {
#line 1008
    tmp___7 = abs(line->depth);
#line 1008
    tmp___8 = abs(line->width);
    }
#line 1008
    if (tmp___7 < tmp___8) {
#line 1008
      if (line->width > 0) {
#line 1008
        quadrant = 2;
      } else {
#line 1008
        quadrant = 6;
      }
    } else
#line 1009
    if (line->depth > 0) {
#line 1009
      quadrant = 0;
    } else {
#line 1009
      quadrant = 4;
    }
#line 1013
    if ((unsigned long )baseitem == (unsigned long )((void *)0)) {
#line 1015
      line->x = 0;
#line 1016
      line->y = 0;
    } else {
      {
#line 1023
      if (baseitem->type == 0) {
#line 1023
        goto case_0___0;
      }
#line 1029
      if (baseitem->type == 1) {
#line 1029
        goto case_1;
      }
#line 1053
      if (baseitem->type == 2) {
#line 1053
        goto case_2___1;
      }
#line 1021
      goto switch_break___0;
      case_0___0: /* CIL Label */ 
#line 1024
      lastarc = (item_arc *)baseitem;
#line 1025
      line->x = lastarc->x1;
#line 1026
      line->y = lastarc->y1;
#line 1027
      goto switch_break___0;
      case_1: /* CIL Label */ 
#line 1030
      lastbox = (item_box *)baseitem;
      {
#line 1034
      if (quadrant == 0) {
#line 1034
        goto case_0___1;
      }
#line 1038
      if (quadrant == 4) {
#line 1038
        goto case_4___0;
      }
#line 1042
      if (quadrant == 2) {
#line 1042
        goto case_2___0;
      }
#line 1046
      if (quadrant == 6) {
#line 1046
        goto case_6___0;
      }
#line 1032
      goto switch_break___1;
      case_0___1: /* CIL Label */ 
#line 1035
      line->x = lastbox->x;
#line 1036
      line->y = lastbox->y + lastbox->depth / 2;
#line 1037
      goto switch_break___1;
      case_4___0: /* CIL Label */ 
#line 1039
      line->x = lastbox->x;
#line 1040
      line->y = lastbox->y - lastbox->depth / 2;
#line 1041
      goto switch_break___1;
      case_2___0: /* CIL Label */ 
#line 1043
      line->x = lastbox->x + lastbox->width / 2;
#line 1044
      line->y = lastbox->y;
#line 1045
      goto switch_break___1;
      case_6___0: /* CIL Label */ 
#line 1047
      line->x = lastbox->x - lastbox->width / 2;
#line 1048
      line->y = lastbox->y;
#line 1049
      goto switch_break___1;
      switch_break___1: /* CIL Label */ ;
      }
#line 1051
      goto switch_break___0;
      case_2___1: /* CIL Label */ 
#line 1054
      lastline = (item_line *)baseitem;
#line 1055
      line->x = lastline->x + lastline->width;
#line 1056
      line->y = lastline->y + lastline->depth;
#line 1057
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
    }
  }
#line 1065
  if (line->endx != 2147483647) {
#line 1067
    line->width = line->endx - line->x;
#line 1068
    line->depth = line->endy - line->y;
  }
#line 1075
  if (line->alignx != 2147483647) {
#line 1077
    if (line->width == 0) {
#line 1077
      line->depth = line->aligny - line->y;
    } else
#line 1078
    if (line->depth == 0) {
#line 1078
      line->width = line->alignx - line->x;
    }
  }
  {
#line 1083
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1083
    if (! ((int )*(in_line + chptr) == 34)) {
#line 1083
      goto while_break;
    }
#line 1085
    if (line->depth == 0) {
#line 1085
      tmp___9 = 2;
    } else {
#line 1085
      tmp___9 = 0;
    }
    {
#line 1085
    tmp___10 = readstring(tmp___9);
#line 1085
    ss = tmp___10;
    }
#line 1086
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 1086
      line->strings = ss;
    } else {
#line 1086
      s->next = ss;
    }
#line 1087
    s = ss;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1092
  chain_label((item *)line, 1);
  }
#line 1093
  return;
}
}
#line 1100 "/home/june/collector/temp/aspic-1.05/src/rditem.c"
void c_redraw(void) 
{ 
  item_redraw *redraw ;
  void *tmp ;
  colour tmp___0 ;
  colour tmp___1 ;

  {
  {
#line 1103
  tmp = getstore(sizeof(item_redraw ));
#line 1103
  redraw = (item_redraw *)tmp;
#line 1105
  redraw->type = 5;
#line 1106
  redraw->style = 0;
#line 1107
  redraw->next = (struct item *)((void *)0);
#line 1108
  redraw->strings = (stringchain *)((void *)0);
#line 1109
  tmp___1 = unfilled;
#line 1109
  redraw->filled = tmp___1;
#line 1109
  tmp___0 = tmp___1;
#line 1109
  redraw->shapefilled = tmp___0;
#line 1109
  redraw->colour = tmp___0;
#line 1110
  redraw->level = 0;
#line 1112
  readword();
#line 1113
  redraw->ref = findlabel(word);
  }
#line 1114
  if ((unsigned long )redraw->ref == (unsigned long )((void *)0)) {
    {
#line 1114
    error_moan(10, word);
    }
  }
  {
#line 1116
  options((item *)redraw, redraw_args);
#line 1121
  chain_label((item *)redraw, 0);
  }
#line 1122
  return;
}
}
#line 434 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
colour black ;
#line 437
unit centrepic ;
#line 440
BOOL drawbboxfullwidth ;
#line 517
void init_sg(void) ;
#line 536
void write_sg(void) ;
#line 20 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit bbox___0[4]  ;
#line 22 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static colour line_filling  ;
#line 23 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static BOOL first_filling  ;
#line 28 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit halfdepth  ;
#line 29 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit setthickness  ;
#line 30 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static colour setcolour  ;
#line 31 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit setdash1  ;
#line 32 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit setdash2  ;
#line 34 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit last_xstart  ;
#line 35 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit last_xend  ;
#line 36 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit last_ystart  ;
#line 37 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit last_yend  ;
#line 38 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static unit last_line_thickness  ;
#line 46 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
void init_sg(void) 
{ 


  {
#line 49
  use_fonts = 0;
#line 50
  resolution = 240;
#line 51
  return;
}
}
#line 59 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void move___0(unit x , unit y ) 
{ 
  uschar *tmp ;
  uschar *tmp___0 ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;

  {
  {
#line 61
  x = rnd(x - bbox___0[0]);
#line 62
  y = rnd((y - bbox___0[1]) - halfdepth);
  }
#line 64
  if (centrepic) {
#line 64
    x += ((centrepic - bbox___0[2]) + bbox___0[0]) / 2;
  }
#line 66
  if (x > 0) {
    {
#line 66
    tmp = fixed(x);
#line 66
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$s%s",
            tmp);
    }
  } else
#line 67
  if (x < 0) {
    {
#line 67
    tmp___0 = fixed(- x);
#line 67
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$s-%s",
            tmp___0);
    }
  }
#line 69
  if (y > 0) {
    {
#line 69
    tmp___1 = fixed(y);
#line 69
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$U%s",
            tmp___1);
    }
  } else
#line 70
  if (y < 0) {
    {
#line 70
    tmp___2 = fixed(- y);
#line 70
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$D%s",
            tmp___2);
    }
  }
#line 71
  return;
}
}
#line 74 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void rline___0(unit x , unit y ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;
  unit tmp___3 ;
  uschar *tmp___4 ;
  unit tmp___5 ;
  uschar *tmp___6 ;

  {
#line 76
  if (x == 0) {
    {
#line 77
    tmp = rnd(y);
#line 77
    tmp___0 = fixed(tmp);
#line 77
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$vr%s",
            tmp___0);
    }
  } else
#line 78
  if (y == 0) {
    {
#line 79
    tmp___1 = rnd(x);
#line 79
    tmp___2 = fixed(tmp___1);
#line 79
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$hr%s",
            tmp___2);
    }
  } else {
    {
#line 80
    tmp___3 = rnd(y);
#line 80
    tmp___4 = fixed(tmp___3);
#line 80
    tmp___5 = rnd(x);
#line 80
    tmp___6 = fixed(tmp___5);
#line 80
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$sr%s,%s",
            tmp___6, tmp___4);
    }
  }
#line 81
  return;
}
}
#line 84 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void rbezier___0(unit x1 , unit y1___0 , unit x2 , unit y2 , unit x3 , unit y3 ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;
  uschar *tmp___3 ;
  uschar *tmp___4 ;
  uschar *tmp___5 ;
  uschar *tmp___6 ;

  {
  {
#line 86
  tmp = rnd(y3);
#line 86
  tmp___0 = fixed(tmp);
#line 86
  tmp___1 = rnd(x3);
#line 86
  tmp___2 = fixed(tmp___1);
#line 86
  tmp___3 = fixed(y2);
#line 86
  tmp___4 = fixed(x2);
#line 86
  tmp___5 = fixed(y1___0);
#line 86
  tmp___6 = fixed(x1);
#line 86
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$bc%s,%s,%s,%s,%s,%s",
          tmp___6, tmp___5, tmp___4, tmp___3, tmp___2, tmp___0);
  }
#line 88
  return;
}
}
#line 91 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void home(void) 
{ 


  {
  {
#line 93
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\n");
  }
#line 94
  return;
}
}
#line 97 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void linesplit(void) 
{ 


  {
  {
#line 99
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"+++\n");
  }
#line 100
  return;
}
}
#line 107 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void set_thickness(unit t ) 
{ 
  uschar *tmp ;

  {
#line 109
  if (t != setthickness) {
    {
#line 111
    tmp = fixed(t);
#line 111
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".rulewidth %s\n",
            tmp);
#line 112
    setthickness = t;
    }
  }
#line 114
  return;
}
}
#line 116 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void set_colour(colour c ) 
{ 
  uschar *tmp ;
  uschar *tmp___0 ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;

  {
#line 118
  if (c.red != setcolour.red) {
#line 118
    goto _L;
  } else
#line 118
  if (c.green != setcolour.green) {
#line 118
    goto _L;
  } else
#line 118
  if (c.blue != setcolour.blue) {
    _L: /* CIL Label */ 
#line 122
    if (c.red == c.green) {
#line 122
      if (c.green == c.blue) {
        {
#line 124
        tmp = fixed(c.red);
#line 124
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".graphgrey %s\n",
                tmp);
        }
      } else {
        {
#line 128
        tmp___0 = fixed(c.blue);
#line 128
        tmp___1 = fixed(c.green);
#line 128
        tmp___2 = fixed(c.red);
#line 128
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".graphcolour %s %s %s\n",
                tmp___2, tmp___1, tmp___0);
        }
      }
    } else {
      {
#line 128
      tmp___0 = fixed(c.blue);
#line 128
      tmp___1 = fixed(c.green);
#line 128
      tmp___2 = fixed(c.red);
#line 128
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".graphcolour %s %s %s\n",
              tmp___2, tmp___1, tmp___0);
      }
    }
#line 131
    setcolour = c;
  }
#line 133
  return;
}
}
#line 140 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void set_dash(unit dash1 , unit dash2 ) 
{ 
  uschar *tmp ;
  uschar *tmp___0 ;

  {
#line 142
  if (dash1 != setdash1) {
#line 142
    goto _L;
  } else
#line 142
  if (dash1 != 0) {
#line 142
    if (dash2 != setdash2) {
      _L: /* CIL Label */ 
#line 144
      if (dash1 == 0) {
        {
#line 144
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".ruledash 0\n");
        }
      } else {
        {
#line 145
        tmp = fixed(dash2);
#line 145
        tmp___0 = fixed(dash1);
#line 145
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".ruledash %s %s\n",
                tmp___0, tmp);
        }
      }
#line 146
      setdash1 = dash1;
#line 147
      setdash2 = dash2;
    }
  }
#line 149
  return;
}
}
#line 157 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void arrowhead___0(unit x , unit y , unit xx , unit yy , double angle , colour filled ) 
{ 
  double s ;
  double tmp ;
  double c ;
  double tmp___0 ;
  unit x1 ;
  unit y1___0 ;
  unit x2 ;
  unit y2 ;
  colour savecolour ;

  {
  {
#line 160
  tmp = sin(angle);
#line 160
  s = tmp;
#line 161
  tmp___0 = cos(angle);
#line 161
  c = tmp___0;
#line 163
  x1 = (unit )(((double )yy * s) * 0.5);
#line 164
  y1___0 = (unit )(((double )yy * c) * 0.5);
#line 165
  x2 = (unit )((double )xx * c);
#line 166
  y2 = (unit )((double )xx * s);
  }
#line 168
  if (filled.red != unfilled.red) {
    {
#line 170
    savecolour = setcolour;
#line 171
    set_colour(filled);
#line 172
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$sf");
#line 173
    move___0(x, y);
#line 174
    rline___0(x1, - y1___0);
#line 175
    rline___0(x2 - x1, y2 + y1___0);
#line 176
    rline___0(- x2 - x1, y1___0 - y2);
#line 177
    rline___0(x1, - y1___0);
#line 178
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$sf");
#line 179
    home();
#line 180
    set_colour(savecolour);
    }
  }
  {
#line 183
  set_thickness(400);
#line 184
  move___0(x, y);
#line 185
  rline___0(x1, - y1___0);
#line 186
  rline___0(x2 - x1, y2 + y1___0);
#line 187
  rline___0(- x2 - x1, y1___0 - y2);
#line 188
  rline___0(x1, - y1___0);
#line 189
  home();
  }
#line 190
  return;
}
}
#line 200 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void arc___0(unit clockwise , unit x , unit y , unit radius1 , unit radius2 ,
                    double angle1 , double angle2 , BOOL domove ) 
{ 
  double tmp ;
  double tmp___0 ;
  double tmp___1 ;
  double tmp___2 ;

  {
#line 203
  if (! clockwise) {
    {
#line 205
    while (1) {
      while_continue: /* CIL Label */ ;
#line 205
      if (! (angle1 > angle2)) {
#line 205
        goto while_break;
      }
#line 205
      angle2 += 2.0 * pi;
    }
    while_break: /* CIL Label */ ;
    }
#line 206
    if (domove) {
      {
#line 206
      tmp = sin(angle1);
#line 206
      tmp___0 = cos(angle1);
#line 206
      move___0(x + (unit )((double )radius1 * tmp___0), y + (unit )((double )radius2 * tmp));
      }
    }
    {
#line 208
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 208
      if (! (angle2 - angle1 > 0.5 * pi)) {
#line 208
        goto while_break___0;
      }
      {
#line 210
      smallarc(radius1, radius2, angle1, angle1 + 0.49 * pi, & rbezier___0);
#line 211
      angle1 += 0.49 * pi;
#line 212
      linesplit();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  } else {
    {
#line 218
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 218
      if (! (angle1 < angle2)) {
#line 218
        goto while_break___1;
      }
#line 218
      angle2 -= 2.0 * pi;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 219
    if (domove) {
      {
#line 219
      tmp___1 = sin(angle1);
#line 219
      tmp___2 = cos(angle1);
#line 219
      move___0(x + (unit )((double )radius1 * tmp___2), y + (unit )((double )radius2 * tmp___1));
      }
    }
    {
#line 221
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 221
      if (! (angle1 - angle2 > 0.5 * pi)) {
#line 221
        goto while_break___2;
      }
      {
#line 223
      smallarc(radius1, radius2, angle1, angle1 - 0.49 * pi, & rbezier___0);
#line 224
      angle1 -= 0.49 * pi;
#line 225
      linesplit();
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  }
  {
#line 229
  smallarc(radius1, radius2, angle1, angle2, & rbezier___0);
  }
#line 230
  return;
}
}
#line 237 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void write_strings___0(item *p ) 
{ 
  stringchain *s ;
  unit x ;
  unit y ;
  uschar *ss ;
  unsigned char *tmp ;
  unsigned char *tmp___0 ;
  uschar *t ;
  int c ;
  uschar *tmp___1 ;
  int gcaa ;
  int gcss ;
  uschar *tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  unit tmp___5 ;

  {
#line 239
  s = p->strings;
#line 243
  if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 243
    return;
  }
  {
#line 244
  stringpos(p, & x, & y);
  }
  {
#line 246
  while (1) {
    while_continue: /* CIL Label */ ;
#line 248
    if (s->justify == 0) {
#line 248
      tmp___0 = (unsigned char *)" ";
    } else {
#line 248
      if (s->justify == 1) {
#line 248
        tmp = (unsigned char *)"$E";
      } else {
#line 248
        tmp = (unsigned char *)"$C";
      }
#line 248
      tmp___0 = tmp;
    }
#line 248
    ss = tmp___0;
#line 250
    if ((int )s->text[0] != 0) {
      {
#line 252
      t = s->text;
#line 253
      move___0(x + s->xadjust, y + s->yadjust);
#line 254
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s",
              ss);
      }
      {
#line 255
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 255
        if (! ((int )*t != 0)) {
#line 255
          goto while_break___0;
        }
#line 258
        tmp___1 = t;
#line 258
        t ++;
#line 258
        c = (int )*tmp___1;
#line 258
        if ((c & 192) == 192) {
#line 258
          gcaa = (int )utf8_table4[c & 63];
#line 258
          gcss = 6 * gcaa;
#line 258
          c = (c & (int )utf8_table3[gcaa]) << gcss;
          {
#line 258
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 258
            tmp___3 = gcaa;
#line 258
            gcaa --;
#line 258
            if (! (tmp___3 > 0)) {
#line 258
              goto while_break___1;
            }
#line 258
            gcss -= 6;
#line 258
            tmp___2 = t;
#line 258
            t ++;
#line 258
            c |= ((int )*tmp___2 & 63) << gcss;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 259
        if (c < 256) {
#line 259
          tmp___4 = c;
        } else {
#line 259
          tmp___4 = '?';
        }
        {
#line 259
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%c",
                tmp___4);
        }
      }
      while_break___0: /* CIL Label */ ;
      }
      {
#line 261
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\n");
      }
    }
#line 264
    s = s->next;
#line 265
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 265
      goto while_break;
    }
    {
#line 266
    tmp___5 = find_linedepth(p, s);
#line 266
    y -= tmp___5;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 268
  return;
}
}
#line 275 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void write_arc___0(item_arc *p , BOOL first_filling___0 ) 
{ 
  double radius ;
  double angle1 ;
  double angle2 ;
  double tilt ;
  double tmp ;
  double angle ;
  double tmp___0 ;
  double tmp___1 ;
  double tmp___2 ;
  double angle___0 ;
  double tmp___3 ;
  double tmp___4 ;
  double tmp___5 ;

  {
#line 277
  radius = (double )p->radius;
#line 278
  angle1 = p->angle1;
#line 279
  angle2 = p->angle2;
#line 281
  if (line_filling.red != unfilled.red) {
    {
#line 283
    arc___0(p->cw, p->x, p->y, p->radius, p->radius, angle1, angle2, first_filling___0);
#line 284
    linesplit();
    }
  } else {
    {
#line 291
    set_colour(p->colour);
    }
#line 295
    if (p->arrow_start) {
#line 295
      goto _L;
    } else
#line 295
    if (p->arrow_end) {
      _L: /* CIL Label */ 
      {
#line 297
      tmp = asin((double )p->arrow_x / (2.0 * radius));
#line 297
      tilt = tmp;
#line 299
      set_dash(0, 0);
      }
#line 301
      if (p->arrow_start) {
#line 303
        if (p->cw) {
#line 303
          tmp___0 = (angle1 + pi / 2.0) + tilt;
        } else {
#line 303
          tmp___0 = (angle1 - pi / 2.0) - tilt;
        }
        {
#line 303
        angle = tmp___0;
#line 304
        tmp___1 = sin(angle1);
#line 304
        tmp___2 = cos(angle1);
#line 304
        arrowhead___0(p->x + (unit )(radius * tmp___2), p->y + (unit )(radius * tmp___1),
                      p->arrow_x, p->arrow_y, angle, p->arrow_filled);
        }
      }
#line 308
      if (p->arrow_end) {
#line 310
        if (p->cw) {
#line 310
          tmp___3 = (angle2 - pi / 2.0) - tilt;
        } else {
#line 310
          tmp___3 = (angle2 + pi / 2.0) + tilt;
        }
        {
#line 310
        angle___0 = tmp___3;
#line 311
        tmp___4 = sin(angle2);
#line 311
        tmp___5 = cos(angle2);
#line 311
        arrowhead___0(p->x + (unit )(radius * tmp___5), p->y + (unit )(radius * tmp___4),
                      p->arrow_x, p->arrow_y, angle___0, p->arrow_filled);
        }
      }
    }
#line 318
    if (p->style != 1) {
      {
#line 320
      set_thickness(p->thickness);
#line 321
      set_dash(p->dash1, p->dash2);
#line 322
      arc___0(p->cw, p->x, p->y, p->radius, p->radius, angle1, angle2, 1);
#line 323
      home();
      }
    }
  }
  {
#line 327
  write_strings___0((item *)p);
  }
#line 328
  return;
}
}
#line 336 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void write_box___0(item_box *p ) 
{ 
  int i ;
  unit x ;
  unit y ;
  unit width ;
  unit depth ;
  int thickness ;

  {
#line 339
  x = p->x;
#line 340
  y = p->y;
#line 341
  width = p->width;
#line 342
  depth = p->depth;
#line 346
  i = 0;
  {
#line 346
  while (1) {
    while_continue: /* CIL Label */ ;
#line 346
    if (! (i < 2)) {
#line 346
      goto while_break;
    }
#line 348
    thickness = p->thickness;
#line 349
    if (i == 0) {
#line 351
      if (p->shapefilled.red == unfilled.red) {
#line 351
        goto __Cont;
      }
      {
#line 352
      set_colour(p->shapefilled);
#line 353
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$sf");
      }
    } else {
#line 357
      if (p->style == 1) {
#line 357
        goto __Cont;
      }
      {
#line 358
      set_thickness(thickness);
#line 359
      set_dash(p->dash1, p->dash2);
#line 360
      set_colour(p->colour);
      }
    }
    {
#line 365
    if (p->boxtype == 0) {
#line 365
      goto case_0;
    }
#line 401
    if (p->boxtype == 2) {
#line 401
      goto case_2;
    }
#line 401
    if (p->boxtype == 1) {
#line 401
      goto case_2;
    }
#line 363
    goto switch_break;
    case_0: /* CIL Label */ 
    {
#line 366
    move___0(x - width / 2, y - depth / 2);
#line 384
    rline___0(width, 0);
#line 385
    rline___0(0, - thickness / 2);
#line 386
    rline___0(0, thickness / 2);
#line 387
    rline___0(0, depth);
#line 388
    rline___0(thickness / 2, 0);
#line 389
    rline___0(- thickness / 2, 0);
#line 390
    rline___0(- width, 0);
#line 391
    rline___0(0, thickness / 2);
#line 392
    rline___0(0, - thickness / 2);
#line 393
    rline___0(0, - depth);
#line 394
    rline___0(- thickness / 2, 0);
#line 395
    rline___0(thickness / 2, 0);
#line 396
    rline___0(width, 0);
    }
#line 398
    goto switch_break;
    case_2: /* CIL Label */ 
    case_1: /* CIL Label */ 
    {
#line 402
    arc___0(0, p->x, p->y, p->width / 2, p->depth / 2, 0.0, 2.0 * pi, 1);
    }
#line 403
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 406
    if (i == 0) {
      {
#line 408
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$sf");
      }
    }
    {
#line 411
    home();
    }
    __Cont: /* CIL Label */ 
#line 346
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 414
  write_strings___0((item *)p);
  }
#line 415
  return;
}
}
#line 423 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void write_line___0(item_line *p , BOOL first_filling___0 ) 
{ 
  double angle ;
  unit x1 ;
  unit y1___0 ;
  unit xw ;
  unit yd ;
  unit xx ;
  unit yy ;
  double tmp ;
  double tmp___0 ;

  {
#line 425
  angle = 0.0;
#line 426
  x1 = p->x;
#line 426
  y1___0 = p->y;
#line 427
  xw = p->width;
#line 427
  yd = p->depth;
#line 428
  xx = 0;
#line 428
  yy = 0;
#line 432
  if (line_filling.red != unfilled.red) {
#line 434
    if (first_filling___0) {
      {
#line 434
      move___0(x1, y1___0);
      }
    }
    {
#line 435
    rline___0(xw, yd);
#line 436
    linesplit();
    }
  } else {
    {
#line 447
    set_colour(p->colour);
    }
#line 451
    if (p->arrow_start) {
#line 451
      goto _L;
    } else
#line 451
    if (p->arrow_end) {
      _L: /* CIL Label */ 
      {
#line 453
      set_dash(0, 0);
#line 454
      angle = atan2((double )p->depth, (double )p->width);
#line 455
      tmp = cos(angle);
#line 455
      xx = (unit )((double )p->arrow_x * tmp);
#line 456
      tmp___0 = sin(angle);
#line 456
      yy = (unit )((double )p->arrow_x * tmp___0);
      }
    }
#line 461
    if (p->arrow_start) {
#line 463
      x1 += xx;
#line 464
      y1___0 += yy;
#line 465
      xw -= xx;
#line 466
      yd -= yy;
    }
#line 469
    if (p->arrow_end) {
#line 471
      xw -= xx;
#line 472
      yd -= yy;
    }
#line 481
    if (p->style != 1) {
      {
#line 483
      set_thickness(p->thickness);
#line 484
      set_dash(p->dash1, p->dash2);
#line 485
      move___0(x1, y1___0);
      }
#line 487
      if (setthickness != 0) {
#line 487
        if (setthickness == last_line_thickness) {
#line 487
          if (x1 == last_xend) {
#line 487
            if (y1___0 == last_yend) {
#line 491
              if (xw == 0) {
#line 491
                if (last_ystart == last_yend) {
#line 493
                  if (yd > 0) {
                    {
#line 495
                    rline___0(0, - setthickness / 2);
#line 496
                    rline___0(0, setthickness / 2);
                    }
                  } else {
                    {
#line 500
                    rline___0(0, setthickness / 2);
#line 501
                    rline___0(0, - setthickness / 2);
                    }
                  }
                } else {
#line 491
                  goto _L___0;
                }
              } else
              _L___0: /* CIL Label */ 
#line 506
              if (yd == 0) {
#line 506
                if (last_xstart == last_xend) {
#line 508
                  if (xw > 0) {
                    {
#line 510
                    rline___0(- setthickness / 2, 0);
#line 511
                    rline___0(setthickness / 2, 0);
                    }
                  } else {
                    {
#line 515
                    rline___0(setthickness / 2, 0);
#line 516
                    rline___0(- setthickness / 2, 0);
                    }
                  }
                }
              }
            }
          }
        }
      }
      {
#line 523
      rline___0(xw, yd);
#line 524
      home();
#line 528
      last_line_thickness = setthickness;
#line 529
      last_xstart = x1;
#line 530
      last_ystart = y1___0;
#line 531
      last_xend = x1 + xw;
#line 532
      last_yend = y1___0 + yd;
      }
#line 536
      if (p->arrow_start) {
        {
#line 537
        arrowhead___0(x1, y1___0, p->arrow_x, p->arrow_y, angle + pi, p->arrow_filled);
        }
      }
#line 539
      if (p->arrow_end) {
        {
#line 540
        arrowhead___0(x1 + xw, y1___0 + yd, p->arrow_x, p->arrow_y, angle, p->arrow_filled);
        }
      }
    } else {
#line 545
      last_line_thickness = -999999;
    }
  }
  {
#line 550
  write_strings___0((item *)p);
  }
#line 551
  return;
}
}
#line 562 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void end_line_filling(item *fillstart , item *fillend ) 
{ 
  item *p ;

  {
  {
#line 565
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$sf");
#line 566
  line_filling = unfilled;
#line 567
  home();
#line 569
  p = fillstart;
  }
  {
#line 569
  while (1) {
    while_continue: /* CIL Label */ ;
#line 569
    if (! ((unsigned long )p != (unsigned long )fillend)) {
#line 569
      goto while_break;
    }
#line 571
    p->shapefilled = unfilled;
#line 572
    if (p->type == 0) {
      {
#line 573
      write_arc___0((item_arc *)p, 0);
      }
    } else
#line 574
    if (p->type == 2) {
      {
#line 575
      write_line___0((item_line *)p, 0);
      }
    }
#line 569
    p = p->next;
  }
  while_break: /* CIL Label */ ;
  }
#line 577
  return;
}
}
#line 585 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
static void write_item(item *p , item **fillstartp ) 
{ 


  {
  {
#line 591
  if (p->type == 2) {
#line 591
    goto case_2;
  }
#line 591
  if (p->type == 0) {
#line 591
    goto case_2;
  }
#line 622
  if (p->type == 1) {
#line 622
    goto case_1;
  }
#line 628
  if (p->type == 3) {
#line 628
    goto case_3;
  }
#line 634
  if (p->type == 4) {
#line 634
    goto case_4;
  }
#line 588
  goto switch_break;
  case_2: /* CIL Label */ 
  case_0: /* CIL Label */ 
#line 592
  if (line_filling.red != unfilled.red) {
#line 592
    if (line_filling.red != p->shapefilled.red) {
      {
#line 599
      end_line_filling(*fillstartp, p);
      }
    } else
#line 592
    if (line_filling.green != p->shapefilled.green) {
      {
#line 599
      end_line_filling(*fillstartp, p);
      }
    } else
#line 592
    if (line_filling.blue != p->shapefilled.blue) {
      {
#line 599
      end_line_filling(*fillstartp, p);
      }
    }
  }
#line 600
  if (line_filling.red == unfilled.red) {
#line 600
    if (p->shapefilled.red != unfilled.red) {
      {
#line 603
      set_colour(p->shapefilled);
#line 604
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"$sf");
#line 605
      line_filling = p->shapefilled;
#line 606
      first_filling = 1;
#line 607
      *fillstartp = p;
      }
    } else {
#line 611
      first_filling = 0;
    }
  } else {
#line 611
    first_filling = 0;
  }
#line 613
  if (p->type == 0) {
    {
#line 615
    write_arc___0((item_arc *)p, first_filling);
#line 616
    last_line_thickness = -999999;
    }
  } else {
    {
#line 619
    write_line___0((item_line *)p, first_filling);
    }
  }
#line 620
  goto switch_break;
  case_1: /* CIL Label */ 
#line 623
  if (line_filling.red != unfilled.red) {
    {
#line 623
    end_line_filling(*fillstartp, p);
    }
  }
  {
#line 624
  write_box___0((item_box *)p);
#line 625
  last_line_thickness = -999999;
  }
#line 626
  goto switch_break;
  case_3: /* CIL Label */ 
#line 629
  if (line_filling.red != unfilled.red) {
    {
#line 629
    end_line_filling(*fillstartp, p);
    }
  }
  {
#line 630
  write_strings___0(p);
#line 631
  last_line_thickness = -999999;
  }
#line 632
  goto switch_break;
  case_4: /* CIL Label */ 
  {
#line 635
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".wait\n");
  }
#line 636
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 638
  return;
}
}
#line 645 "/home/june/collector/temp/aspic-1.05/src/wrsg.c"
void write_sg(void) 
{ 
  int level ;
  unit tmp ;
  uschar *tmp___0 ;
  unit adjust ;
  unit width ;
  unit depth ;
  item *p ;
  item *fillstart ;
  item_redraw *r ;
  item *rd ;
  BOOL tmp___1 ;
  BOOL tmp___2 ;
  BOOL tmp___3 ;
  BOOL tmp___4 ;
  BOOL tmp___5 ;
  unit tmp___6 ;
  uschar *tmp___7 ;

  {
  {
#line 649
  setthickness = 0;
#line 650
  setcolour = black;
#line 651
  line_filling = unfilled;
#line 652
  setdash1 = 0;
#line 654
  last_xstart = 999999;
#line 655
  last_ystart = 999999;
#line 656
  last_xend = 999999;
#line 657
  last_yend = 999999;
#line 658
  last_line_thickness = -999999;
#line 662
  find_bbox(bbox___0);
#line 666
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".newline\n.push\n.linedepth 0\n.parindent 0\n.newpar\n");
#line 672
  halfdepth = (bbox___0[3] - bbox___0[1]) / 2;
#line 673
  tmp = rnd(halfdepth);
#line 673
  tmp___0 = fixed(tmp);
#line 673
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".space %s\n",
          tmp___0);
  }
#line 677
  if (drawbboxthickness > 0) {
#line 679
    adjust = 0;
#line 680
    width = bbox___0[2] - bbox___0[0];
#line 681
    depth = bbox___0[3] - bbox___0[1];
#line 683
    if (drawbboxfullwidth) {
#line 685
      adjust = (centrepic - width) / 2;
#line 686
      width = centrepic;
    }
    {
#line 689
    set_thickness(drawbboxthickness);
#line 690
    set_colour(drawbboxcolour);
#line 691
    move___0(bbox___0[0] - adjust, bbox___0[1]);
#line 692
    rline___0(width, 0);
#line 693
    rline___0(0, depth);
#line 694
    rline___0(- width, 0);
#line 695
    rline___0(0, - depth);
#line 696
    home();
    }
  }
#line 701
  level = min_level;
  {
#line 701
  while (1) {
    while_continue: /* CIL Label */ ;
#line 701
    if (! (level <= max_level)) {
#line 701
      goto while_break;
    }
#line 703
    p = main_item_base;
#line 704
    fillstart = (item *)((void *)0);
    {
#line 706
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 706
      if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 706
        goto while_break___0;
      }
#line 708
      if (p->level == level) {
#line 710
        if (p->type == 5) {
          {
#line 712
          r = (item_redraw *)p;
#line 713
          rd = r->ref;
#line 715
          tmp___1 = samecolour(r->colour, unfilled);
          }
#line 715
          if (! tmp___1) {
#line 715
            rd->colour = r->colour;
          }
          {
#line 716
          tmp___2 = samecolour(r->shapefilled, unfilled);
          }
#line 716
          if (! tmp___2) {
#line 717
            rd->shapefilled = r->shapefilled;
          }
          {
#line 721
          if (rd->type == 0) {
#line 721
            goto case_0;
          }
#line 726
          if (rd->type == 2) {
#line 726
            goto case_2;
          }
#line 731
          if (rd->type == 1) {
#line 731
            goto case_1;
          }
#line 736
          if (rd->type == 3) {
#line 736
            goto case_3;
          }
#line 719
          goto switch_break;
          case_0: /* CIL Label */ 
          {
#line 722
          tmp___3 = samecolour(r->filled, unfilled);
          }
#line 722
          if (! tmp___3) {
#line 723
            ((item_arc *)rd)->arrow_filled = r->filled;
          }
#line 724
          goto switch_break;
          case_2: /* CIL Label */ 
          {
#line 727
          tmp___4 = samecolour(r->filled, unfilled);
          }
#line 727
          if (! tmp___4) {
#line 728
            ((item_line *)rd)->arrow_filled = r->filled;
          }
#line 729
          goto switch_break;
          case_1: /* CIL Label */ 
          {
#line 732
          tmp___5 = samecolour(r->filled, unfilled);
          }
#line 732
          if (! tmp___5) {
#line 733
            ((item_box *)rd)->shapefilled = r->filled;
          }
#line 734
          goto switch_break;
          case_3: /* CIL Label */ 
#line 737
          goto switch_break;
          switch_break: /* CIL Label */ ;
          }
          {
#line 740
          write_item(rd, & fillstart);
          }
        } else {
          {
#line 742
          write_item(p, & fillstart);
          }
        }
      } else
#line 747
      if (line_filling.red != unfilled.red) {
        {
#line 747
        end_line_filling(fillstart, p);
        }
      }
#line 749
      p = p->next;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 754
    if (line_filling.red != unfilled.red) {
      {
#line 754
      end_line_filling(fillstart, (item *)((void *)0));
      }
    }
#line 701
    level ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 760
  tmp___6 = rnd(halfdepth + 10000);
#line 760
  tmp___7 = fixed(tmp___6);
#line 760
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".space %s\n",
          tmp___7);
#line 764
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)".newline\n.pop\n.space 1ld\n");
  }
#line 765
  return;
}
}
#line 533 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int tree_insertnode(tree_node **treebase , tree_node *node ) ;
#line 51 "/home/june/collector/temp/aspic-1.05/src/tree.c"
int tree_insertnode(tree_node **treebase , tree_node *node ) 
{ 
  tree_node *p ;
  tree_node **q ;
  tree_node *r ;
  tree_node *s ;
  tree_node **t ;
  int a ;
  struct tree_node *tmp ;
  int c ;
  int tmp___0 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___5 ;

  {
#line 54
  p = *treebase;
#line 58
  tmp = (struct tree_node *)((void *)0);
#line 58
  node->right = tmp;
#line 58
  node->left = tmp;
#line 59
  node->balance = (uschar )0;
#line 63
  if ((unsigned long )p == (unsigned long )((void *)0)) {
#line 65
    *treebase = node;
#line 66
    return (1);
  }
#line 73
  q = treebase;
#line 74
  t = q;
  {
#line 78
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 80
    tmp___0 = strcmp((char const   *)(node->name), (char const   *)(p->name));
#line 80
    c = tmp___0;
    }
#line 81
    if (c == 0) {
#line 81
      return (0);
    }
#line 86
    if (c > 0) {
#line 86
      q = & p->right;
    } else {
#line 86
      q = & p->left;
    }
#line 87
    p = *q;
#line 88
    if ((unsigned long )p == (unsigned long )((void *)0)) {
#line 88
      goto while_break;
    }
#line 93
    if ((int )p->balance != 0) {
#line 93
      t = q;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 99
  *q = node;
#line 104
  s = *t;
#line 105
  tmp___2 = strcmp((char const   *)(node->name), (char const   *)(s->name));
  }
#line 105
  if (tmp___2 > 0) {
#line 105
    r = s->right;
  } else {
#line 105
    r = s->left;
  }
#line 109
  p = r;
  {
#line 111
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 111
    if (! ((unsigned long )p != (unsigned long )node)) {
#line 111
      goto while_break___0;
    }
    {
#line 113
    tmp___3 = strcmp((char const   *)(node->name), (char const   *)(p->name));
    }
#line 113
    if (tmp___3 < 0) {
#line 115
      p->balance = (uschar )1;
#line 116
      p = p->left;
    } else {
#line 120
      p->balance = (uschar )2;
#line 121
      p = p->right;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 127
  tmp___5 = strcmp((char const   *)(node->name), (char const   *)(s->name));
  }
#line 127
  if (tmp___5 < 0) {
#line 127
    a = 1;
  } else {
#line 127
    a = 2;
  }
#line 129
  if ((int )s->balance == 0) {
#line 129
    s->balance = (uschar )a;
  } else
#line 130
  if ((int )s->balance != (int )((uschar )a)) {
#line 130
    s->balance = (uschar )0;
  } else {
#line 135
    if ((int )r->balance == (int )((uschar )a)) {
#line 137
      p = r;
#line 138
      if (a == 2) {
#line 140
        s->right = r->left;
#line 141
        r->left = s;
      } else {
#line 145
        s->left = r->right;
#line 146
        r->right = s;
      }
#line 148
      s->balance = (uschar )0;
#line 149
      r->balance = (uschar )0;
    } else {
#line 159
      if (a == 2) {
#line 161
        if ((unsigned long )r->left == (unsigned long )((void *)0)) {
#line 161
          return (1);
        }
#line 162
        p = r->left;
#line 163
        r->left = p->right;
#line 164
        p->right = r;
#line 165
        s->right = p->left;
#line 166
        p->left = s;
      } else {
#line 170
        if ((unsigned long )r->right == (unsigned long )((void *)0)) {
#line 170
          return (1);
        }
#line 171
        p = r->right;
#line 172
        r->right = p->left;
#line 173
        p->left = r;
#line 174
        s->left = p->right;
#line 175
        p->right = s;
      }
#line 178
      if ((int )p->balance == (int )((uschar )a)) {
#line 178
        s->balance = (uschar )(a ^ 3);
      } else {
#line 178
        s->balance = (uschar )0;
      }
#line 179
      if ((int )p->balance == (int )((uschar )(a ^ 3))) {
#line 179
        r->balance = (uschar )a;
      } else {
#line 179
        r->balance = (uschar )0;
      }
#line 180
      p->balance = (uschar )0;
    }
#line 185
    *t = p;
  }
#line 188
  return (1);
}
}
#line 205 "/home/june/collector/temp/aspic-1.05/src/tree.c"
tree_node *tree_search(tree_node *p , uschar *name ) 
{ 
  int c ;
  int tmp ;

  {
  {
#line 208
  while (1) {
    while_continue: /* CIL Label */ ;
#line 208
    if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 208
      goto while_break;
    }
    {
#line 210
    tmp = strcmp((char const   *)name, (char const   *)(p->name));
#line 210
    c = tmp;
    }
#line 211
    if (c == 0) {
#line 211
      return (p);
    }
#line 212
    if (c < 0) {
#line 212
      p = p->left;
    } else {
#line 212
      p = p->right;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 214
  return ((tree_node *)((void *)0));
}
}
#line 272 "/usr/include/stdio.h"
extern FILE *fopen(char const   * __restrict  __filename , char const   * __restrict  __modes ) ;
#line 46 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1,2), __leaf__)) memcpy)(void * __restrict  __dest ,
                                                                                                 void const   * __restrict  __src ,
                                                                                                 size_t __n ) ;
#line 413
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) strerror)(int __errnum ) ;
#line 50 "/usr/include/x86_64-linux-gnu/bits/errno.h"
extern  __attribute__((__nothrow__)) int *( __attribute__((__leaf__)) __errno_location)(void)  __attribute__((__const__)) ;
#line 421 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
item *lastitem  ;
#line 422 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
item *baseitem  ;
#line 424 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
label *label_base  ;
#line 425 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
label *nextlabel  ;
#line 437 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit centrepic  ;
#line 439 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit drawbbox  ;
#line 441 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
colour drawbboxcolour  ;
#line 442 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit drawbboxthickness  ;
#line 443 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int endfile  ;
#line 444 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit item_arg1  ;
#line 445 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit item_arg2  ;
#line 450
int macro_count ;
#line 457 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
uschar word[256]  ;
#line 459 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
uschar *in_line  ;
#line 460 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
uschar *in_last  ;
#line 461 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
uschar *in_raw  ;
#line 468
macro *macroot ;
#line 527
int read_inputfile(void) ;
#line 21 "/home/june/collector/temp/aspic-1.05/src/read.c"
static arg_item text_args[3]  = {      {(unsigned char *)"at", 9, (unit )((unsigned long )(& ((item_text *)0)->x)),
      (unit )((unsigned long )(& ((item_text *)0)->y))}, 
        {(unsigned char *)"level", 12, (unit )((unsigned long )(& ((item_text *)0)->level)),
      -1}, 
        {(unsigned char *)"", 0, -1, -1}};
#line 34 "/home/june/collector/temp/aspic-1.05/src/read.c"
environment *env  =    (environment *)((void *)0);
#line 43 "/home/june/collector/temp/aspic-1.05/src/read.c"
int chptr  =    0;
#line 45 "/home/june/collector/temp/aspic-1.05/src/read.c"
BOOL drawbboxfullwidth  =    0;
#line 65 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_bindfont(void) 
{ 
  bindfont *f ;
  int number ;
  int size ;
  int n ;
  uschar s[1024] ;
  int tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  BOOL tmp___2 ;

  {
  {
#line 70
  n = 0;
#line 73
  nextsigch();
#line 74
  number = readint();
  }
#line 76
  if (number <= 0) {
    {
#line 76
    error_moan(5);
    }
#line 76
    return;
  } else
#line 76
  if (number > 64) {
    {
#line 76
    error_moan(5);
    }
#line 76
    return;
  }
#line 77
  if ((int )*(in_line + chptr) != 34) {
    {
#line 77
    error_moan(11, "font name in quotes");
    }
#line 77
    return;
  }
  {
#line 79
  while (1) {
    while_continue: /* CIL Label */ ;
#line 81
    chptr ++;
#line 81
    if ((int )*(in_line + chptr) == 0) {
      {
#line 83
      error_moan(11, "closing quote");
      }
#line 84
      goto while_break;
    }
#line 86
    if ((int )*(in_line + chptr) == 34) {
#line 87
      chptr ++;
#line 87
      if ((int )*(in_line + chptr) != 34) {
#line 87
        goto while_break;
      }
    }
#line 88
    tmp = n;
#line 88
    n ++;
#line 88
    s[tmp] = *(in_line + chptr);
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 90
  s[n] = (uschar )0;
#line 92
  nextsigch();
#line 93
  size = readnumber();
  }
#line 94
  if (size <= 0) {
    {
#line 94
    error_moan(11, "non-negative font size");
    }
#line 94
    return;
  }
  {
#line 96
  tmp___0 = strlen((char const   *)(s));
#line 96
  tmp___1 = getstore(sizeof(bindfont ) + (unsigned long )((int )tmp___0));
#line 96
  f = (bindfont *)tmp___1;
#line 98
  f->next = font_base;
#line 99
  font_base = f;
#line 100
  f->number = number;
#line 101
  f->size = size;
#line 102
  tmp___2 = 0;
#line 102
  f->needDingbats = tmp___2;
#line 102
  f->needSymbol = tmp___2;
#line 103
  strcpy((char */* __restrict  */)((char *)(f->name)), (char const   */* __restrict  */)((char const   *)(s)));
  }
#line 104
  return;
}
}
#line 111 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_include(void) 
{ 
  FILE *nf ;
  includestr *s ;
  uschar *t ;
  uschar *tmp ;
  int tmp___0 ;
  unsigned short const   **tmp___1 ;
  int *tmp___2 ;
  char *tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  void *tmp___6 ;

  {
#line 116
  t = word;
#line 118
  if (macactive) {
    {
#line 118
    error_moan(30);
    }
#line 118
    return;
  }
  {
#line 120
  nextsigch();
  }
  {
#line 121
  while (1) {
    while_continue: /* CIL Label */ ;
#line 121
    if ((int )*(in_line + chptr) != 0) {
#line 121
      if ((int )*(in_line + chptr) != 59) {
        {
#line 121
        tmp___1 = __ctype_b_loc();
        }
#line 121
        if ((int const   )*(*tmp___1 + (int )*(in_line + chptr)) & 8192) {
#line 121
          goto while_break;
        }
      } else {
#line 121
        goto while_break;
      }
    } else {
#line 121
      goto while_break;
    }
#line 123
    tmp = t;
#line 123
    t ++;
#line 123
    tmp___0 = chptr;
#line 123
    chptr ++;
#line 123
    *tmp = *(in_line + tmp___0);
  }
  while_break: /* CIL Label */ ;
  }
#line 124
  *t = (uschar )0;
#line 125
  if ((int )word[0] == 0) {
    {
#line 125
    error_moan(29);
    }
#line 125
    return;
  }
  {
#line 126
  nextsigch();
  }
#line 127
  if ((int )*(in_line + chptr) != 59) {
    {
#line 127
    error_moan(3);
    }
  }
  {
#line 129
  nf = fopen((char const   */* __restrict  */)((char *)(word)), (char const   */* __restrict  */)"r");
  }
#line 130
  if ((unsigned long )nf == (unsigned long )((void *)0)) {
    {
#line 132
    tmp___2 = __errno_location();
#line 132
    tmp___3 = strerror(*tmp___2);
#line 132
    error_moan(1, word, "input", tmp___3);
    }
#line 133
    return;
  }
  {
#line 136
  tmp___4 = getstore(sizeof(includestr ));
#line 136
  s = (includestr *)tmp___4;
#line 137
  s->prev = included_from;
#line 138
  s->prevfile = main_input;
#line 139
  included_from = s;
#line 141
  *(file_line_stack + inc_stack_ptr) = in_line;
#line 142
  tmp___5 = inc_stack_ptr;
#line 142
  inc_stack_ptr ++;
#line 142
  *(file_chptr_stack + tmp___5) = chptr;
#line 144
  tmp___6 = getstore((size_t )256);
#line 144
  in_line = (uschar *)tmp___6;
#line 145
  *(in_line + 0) = (uschar )';';
#line 146
  *(in_line + 1) = (uschar )'\n';
#line 147
  *(in_line + 2) = (uschar )0;
#line 148
  chptr = 0;
#line 150
  main_input = nf;
  }
#line 151
  return;
}
}
#line 158 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_set(void) 
{ 
  tree_node *tn ;
  int n ;
  uschar s[1024] ;
  int tmp ;
  size_t tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 162
  n = 0;
#line 165
  readword();
  }
#line 166
  if ((int )word[0] == 0) {
    {
#line 166
    error_moan(17);
    }
#line 166
    return;
  }
  {
#line 168
  nextsigch();
  }
#line 169
  if ((int )*(in_line + chptr) != 34) {
    {
#line 169
    error_moan(11, "quoted string");
    }
#line 169
    return;
  }
  {
#line 171
  while (1) {
    while_continue: /* CIL Label */ ;
#line 173
    chptr ++;
#line 173
    if ((int )*(in_line + chptr) == 0) {
      {
#line 175
      error_moan(11, "closing quote");
      }
#line 176
      goto while_break;
    }
#line 178
    if ((int )*(in_line + chptr) == 34) {
#line 179
      chptr ++;
#line 179
      if ((int )*(in_line + chptr) != 34) {
#line 179
        goto while_break;
      }
    }
#line 180
    tmp = n;
#line 180
    n ++;
#line 180
    s[tmp] = *(in_line + chptr);
  }
  while_break: /* CIL Label */ ;
  }
#line 182
  s[n] = (uschar )0;
#line 184
  if ((int )*(in_line + chptr) != 59) {
    {
#line 184
    error_moan(3);
    }
  }
  {
#line 186
  tn = tree_search(varroot, word);
  }
#line 188
  if ((unsigned long )tn == (unsigned long )((void *)0)) {
    {
#line 190
    tmp___0 = strlen((char const   *)(word));
#line 190
    tmp___1 = getstore(sizeof(tree_node ) + (unsigned long )((int )tmp___0));
#line 190
    tn = (tree_node *)tmp___1;
#line 191
    strcpy((char */* __restrict  */)((char *)(tn->name)), (char const   */* __restrict  */)((char const   *)(word)));
#line 192
    tree_insertnode(& varroot, tn);
    }
  }
  {
#line 195
  tmp___2 = getstore((size_t )(n + 1));
#line 195
  tn->value = (uschar *)tmp___2;
#line 196
  strcpy((char */* __restrict  */)((char *)tn->value), (char const   */* __restrict  */)((char const   *)(s)));
  }
#line 197
  return;
}
}
#line 204 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_text(void) 
{ 
  stringchain *s ;
  item_arc *lastarc ;
  item_box *lastbox ;
  item_line *lastline ;
  item_text *text ;
  void *tmp ;
  unit tmp___0 ;
  stringchain *ss ;
  stringchain *tmp___1 ;

  {
  {
#line 207
  s = (stringchain *)((void *)0);
#line 211
  tmp = getstore(sizeof(item_text ));
#line 211
  text = (item_text *)tmp;
#line 215
  text->type = 3;
#line 216
  text->style = item_arg1;
#line 217
  text->linedepth = env->linedepth;
#line 218
  text->fontdepth = env->fontdepth;
#line 219
  text->colour = env->textcolour;
#line 220
  text->next = (struct item *)((void *)0);
#line 221
  text->strings = (stringchain *)((void *)0);
#line 222
  text->level = env->level;
  }
#line 224
  if (text->level > max_level) {
#line 224
    max_level = text->level;
  }
#line 225
  if (text->level < min_level) {
#line 225
    min_level = text->level;
  }
  {
#line 230
  tmp___0 = 2147483647;
#line 230
  text->y = tmp___0;
#line 230
  text->x = tmp___0;
#line 234
  options((item *)text, text_args);
  }
#line 239
  if (text->x == 2147483647) {
#line 243
    if ((unsigned long )baseitem == (unsigned long )((void *)0)) {
#line 245
      text->x = 0;
#line 246
      text->y = 0;
    } else {
      {
#line 254
      if (baseitem->type == 0) {
#line 254
        goto case_0;
      }
#line 260
      if (baseitem->type == 1) {
#line 260
        goto case_1;
      }
#line 266
      if (baseitem->type == 2) {
#line 266
        goto case_2;
      }
#line 252
      goto switch_break;
      case_0: /* CIL Label */ 
#line 255
      lastarc = (item_arc *)baseitem;
#line 256
      text->x = lastarc->x;
#line 257
      text->y = lastarc->y;
#line 258
      goto switch_break;
      case_1: /* CIL Label */ 
#line 261
      lastbox = (item_box *)baseitem;
#line 262
      text->x = lastbox->x;
#line 263
      text->y = lastbox->y;
#line 264
      goto switch_break;
      case_2: /* CIL Label */ 
#line 267
      lastline = (item_line *)baseitem;
#line 268
      text->x = lastline->x + lastline->width / 2;
#line 269
      text->y = lastline->y + lastline->depth / 2;
#line 270
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
    }
  }
  {
#line 276
  while (1) {
    while_continue: /* CIL Label */ ;
#line 276
    if (! ((int )*(in_line + chptr) == 34)) {
#line 276
      goto while_break;
    }
    {
#line 278
    tmp___1 = readstring(2);
#line 278
    ss = tmp___1;
    }
#line 279
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 279
      text->strings = ss;
    } else {
#line 279
      s->next = ss;
    }
#line 280
    s = ss;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 286
  chain_label((item *)text, 0);
  }
#line 287
  return;
}
}
#line 295 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_wait(void) 
{ 
  item_wait *wait ;
  void *tmp ;
  colour tmp___0 ;

  {
  {
#line 298
  tmp = getstore(sizeof(item_wait ));
#line 298
  wait = (item_wait *)tmp;
#line 300
  wait->type = 4;
#line 301
  wait->next = (struct item *)((void *)0);
#line 302
  wait->level = env->level;
#line 303
  wait->strings = (stringchain *)((void *)0);
#line 304
  wait->style = 0;
#line 305
  tmp___0 = unfilled;
#line 305
  wait->shapefilled = tmp___0;
#line 305
  wait->colour = tmp___0;
#line 306
  wait->level = 0;
#line 311
  chain_label((item *)wait, 0);
  }
#line 312
  return;
}
}
#line 320 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_up(void) 
{ 


  {
#line 323
  env->direction = 0;
#line 324
  return;
}
}
#line 326 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_down(void) 
{ 


  {
#line 329
  env->direction = 4;
#line 330
  return;
}
}
#line 332 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_left(void) 
{ 


  {
#line 335
  env->direction = 6;
#line 336
  return;
}
}
#line 338 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_right(void) 
{ 


  {
#line 341
  env->direction = 2;
#line 342
  return;
}
}
#line 349 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_centre(void) 
{ 


  {
  {
#line 352
  centrepic = readnumber();
  }
#line 353
  return;
}
}
#line 356 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_boundingbox(void) 
{ 
  int tmp ;

  {
  {
#line 359
  drawbbox = readnumber();
#line 360
  drawbboxthickness = 400;
#line 361
  drawbboxcolour = black;
#line 362
  readword();
  }
#line 363
  if ((int )word[0] != 0) {
    {
#line 365
    tmp = strcmp((char const   *)(word), "fullwidth");
    }
#line 365
    if (tmp == 0) {
#line 365
      drawbboxfullwidth = 1;
    } else {
      {
#line 366
      error_moan(7, word);
      }
    }
  }
#line 368
  return;
}
}
#line 376 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_env(void) 
{ 
  unit value ;
  unit tmp ;

  {
  {
#line 379
  tmp = readnumber();
#line 379
  value = tmp;
  }
#line 380
  if (item_arg2) {
#line 380
    value = (value * env->magnification) / 1000;
  }
#line 381
  *((unit *)((uschar *)env + item_arg1)) = value;
#line 382
  return;
}
}
#line 384 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_env2(void) 
{ 


  {
  {
#line 387
  *((unit *)((uschar *)env + item_arg1)) = readnumber();
#line 388
  *((unit *)((uschar *)env + item_arg2)) = readnumber();
  }
#line 389
  return;
}
}
#line 391 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_env3(void) 
{ 


  {
  {
#line 394
  *((int *)((uschar *)env + item_arg1)) = readint();
  }
#line 395
  return;
}
}
#line 399 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_env4(void) 
{ 
  colour *c ;
  unit tmp ;
  unit tmp___0 ;

  {
  {
#line 402
  c = (colour *)((uschar *)env + item_arg1);
#line 403
  tmp___0 = readnumber();
#line 403
  c->blue = tmp___0;
#line 403
  tmp = tmp___0;
#line 403
  c->green = tmp;
#line 403
  c->red = tmp;
  }
#line 404
  return;
}
}
#line 408 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_env5(void) 
{ 
  colour *c ;
  unsigned short const   **tmp ;
  unsigned short const   **tmp___0 ;

  {
  {
#line 411
  c = (colour *)((uschar *)env + item_arg1);
#line 412
  c->red = readnumber();
  }
#line 413
  if ((int )*(in_line + chptr) == 44) {
#line 415
    chptr ++;
    {
#line 416
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 416
      tmp = __ctype_b_loc();
      }
#line 416
      if (! ((int const   )*(*tmp + (int )*(in_line + chptr)) & 8192)) {
#line 416
        goto while_break;
      }
#line 416
      chptr ++;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 418
  c->green = readnumber();
  }
#line 419
  if ((int )*(in_line + chptr) == 44) {
#line 421
    chptr ++;
    {
#line 422
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 422
      tmp___0 = __ctype_b_loc();
      }
#line 422
      if (! ((int const   )*(*tmp___0 + (int )*(in_line + chptr)) & 8192)) {
#line 422
        goto while_break___0;
      }
#line 422
      chptr ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  {
#line 424
  c->blue = readnumber();
  }
#line 425
  return;
}
}
#line 429 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_env6(void) 
{ 
  colour *c ;
  unit tmp ;
  unit tmp___0 ;
  unsigned short const   **tmp___1 ;
  unsigned short const   **tmp___2 ;
  unsigned short const   **tmp___3 ;

  {
  {
#line 432
  c = (colour *)((uschar *)env + item_arg1);
#line 433
  tmp___0 = readnumber();
#line 433
  c->blue = tmp___0;
#line 433
  tmp = tmp___0;
#line 433
  c->green = tmp;
#line 433
  c->red = tmp;
  }
#line 434
  if ((int )*(in_line + chptr) == 44) {
#line 436
    chptr ++;
    {
#line 437
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 437
      tmp___1 = __ctype_b_loc();
      }
#line 437
      if (! ((int const   )*(*tmp___1 + (int )*(in_line + chptr)) & 8192)) {
#line 437
        goto while_break;
      }
#line 437
      chptr ++;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 439
  tmp___2 = __ctype_b_loc();
  }
#line 439
  if (! ((int const   )*(*tmp___2 + (int )*(in_line + chptr)) & 2048)) {
#line 439
    return;
  }
  {
#line 440
  c->green = readnumber();
  }
#line 441
  if ((int )*(in_line + chptr) == 44) {
#line 443
    chptr ++;
    {
#line 444
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 444
      tmp___3 = __ctype_b_loc();
      }
#line 444
      if (! ((int const   )*(*tmp___3 + (int )*(in_line + chptr)) & 8192)) {
#line 444
        goto while_break___0;
      }
#line 444
      chptr ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  {
#line 446
  c->blue = readnumber();
  }
#line 447
  return;
}
}
#line 455 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_resolution(void) 
{ 


  {
  {
#line 458
  resolution = readnumber();
  }
#line 459
  return;
}
}
#line 466 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_mag(void) 
{ 
  unit newmag ;
  unit tmp ;

  {
  {
#line 469
  tmp = readnumber();
#line 469
  newmag = tmp;
#line 470
  env->arcradius = (newmag * env->arcradius) / 1000;
#line 471
  env->arrow_x = (newmag * env->arrow_x) / 1000;
#line 472
  env->arrow_y = (newmag * env->arrow_y) / 1000;
#line 473
  env->boxwidth = (newmag * env->boxwidth) / 1000;
#line 474
  env->boxdash1 = (newmag * env->boxdash1) / 1000;
#line 475
  env->boxdash2 = (newmag * env->boxdash2) / 1000;
#line 476
  env->boxdepth = (newmag * env->boxdepth) / 1000;
#line 477
  env->boxthickness = (newmag * env->boxthickness) / 1000;
#line 478
  env->cirdash1 = (newmag * env->cirdash1) / 1000;
#line 479
  env->cirdash2 = (newmag * env->cirdash2) / 1000;
#line 480
  env->cirradius = (newmag * env->cirradius) / 1000;
#line 481
  env->cirthickness = (newmag * env->cirthickness) / 1000;
#line 482
  env->ellwidth = (newmag * env->ellwidth) / 1000;
#line 483
  env->elldash1 = (newmag * env->elldash1) / 1000;
#line 484
  env->elldash2 = (newmag * env->elldash2) / 1000;
#line 485
  env->elldepth = (newmag * env->elldepth) / 1000;
#line 486
  env->ellthickness = (newmag * env->ellthickness) / 1000;
#line 487
  env->linedash1 = (newmag * env->linedash1) / 1000;
#line 488
  env->linedash2 = (newmag * env->linedash2) / 1000;
#line 489
  env->linedepth = (newmag * env->linedepth) / 1000;
#line 490
  env->linethickness = (newmag * env->linethickness) / 1000;
#line 491
  env->line_hw = (newmag * env->line_hw) / 1000;
#line 492
  env->line_vd = (newmag * env->line_vd) / 1000;
#line 493
  env->magnification = (newmag * env->magnification) / 1000;
  }
#line 494
  return;
}
}
#line 501 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_goto(void) 
{ 
  item *ii ;

  {
  {
#line 505
  readword();
#line 506
  ii = findlabel(word);
  }
#line 507
  if ((unsigned long )ii == (unsigned long )((void *)0)) {
    {
#line 507
    error_moan(10, word);
    }
  }
#line 508
  baseitem = ii;
#line 509
  return;
}
}
#line 525 "/home/june/collector/temp/aspic-1.05/src/read.c"
static int find_mac_end(int ptr , uschar term ) 
{ 


  {
  {
#line 528
  while (1) {
    while_continue: /* CIL Label */ ;
#line 528
    if ((int )*(in_line + ptr) != (int )term) {
#line 528
      if (! ((int )*(in_line + ptr) != 0)) {
#line 528
        goto while_break;
      }
    } else {
#line 528
      goto while_break;
    }
#line 530
    ptr ++;
#line 530
    if ((int )*(in_line + ptr) == 34) {
      {
#line 531
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 531
        ptr ++;
#line 531
        if (! ((int )*(in_line + ptr) != 34)) {
#line 531
          goto while_break___0;
        }
      }
      while_break___0: /* CIL Label */ ;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 533
  return (ptr);
}
}
#line 538 "/home/june/collector/temp/aspic-1.05/src/read.c"
static int maxarg(uschar *s ) 
{ 
  int n ;
  int m ;
  unsigned short const   **tmp ;
  uschar *tmp___0 ;

  {
#line 541
  n = 0;
  {
#line 542
  while (1) {
    while_continue: /* CIL Label */ ;
#line 542
    if (! ((int )*s != 0)) {
#line 542
      goto while_break;
    }
#line 544
    tmp___0 = s;
#line 544
    s ++;
#line 544
    if ((int )*tmp___0 == 38) {
#line 546
      if ((int )*s == 38) {
#line 546
        s ++;
      } else {
#line 548
        m = 0;
#line 549
        s --;
        {
#line 550
        while (1) {
          while_continue___0: /* CIL Label */ ;
          {
#line 550
          tmp = __ctype_b_loc();
#line 550
          s ++;
          }
#line 550
          if (! ((int const   )*(*tmp + (int )*s) & 2048)) {
#line 550
            goto while_break___0;
          }
#line 550
          m = (m * 10 + (int )*s) - 48;
        }
        while_break___0: /* CIL Label */ ;
        }
#line 551
        if (m > n) {
#line 551
          n = m;
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 555
  return (n);
}
}
#line 560 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_macro(void) 
{ 
  uschar term ;
  macro *m ;
  void *tmp ;
  mac_line **ptrnext ;
  int n ;
  int length ;
  int tmp___0 ;
  mac_line *line ;
  void *tmp___1 ;

  {
  {
#line 563
  term = (uschar )';';
#line 564
  tmp = getstore(sizeof(macro ));
#line 564
  m = (macro *)tmp;
#line 565
  ptrnext = & m->nextline;
#line 567
  m->nextline = (mac_line *)((void *)0);
#line 568
  m->argcount = 0;
#line 569
  readword();
#line 570
  strcpy((char */* __restrict  */)((char *)(m->name)), (char const   */* __restrict  */)((char const   *)(word)));
  }
#line 572
  if ((int )*(in_line + chptr) == 123) {
#line 572
    term = (uschar )'}';
#line 572
    chptr ++;
  }
  {
#line 574
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 577
    tmp___0 = find_mac_end(chptr, term);
#line 577
    length = tmp___0 - chptr;
#line 578
    tmp___1 = getstore((unsigned long )(length + 2) + (unsigned long )(& ((mac_line *)0)->text));
#line 578
    line = (mac_line *)tmp___1;
#line 579
    *ptrnext = line;
#line 580
    line->next = (struct mac_line *)((void *)0);
#line 581
    ptrnext = & line->next;
#line 582
    strncpy((char */* __restrict  */)((char *)(line->text)), (char const   */* __restrict  */)((char const   *)(in_line + chptr)),
            (size_t )length);
#line 583
    line->text[length] = (uschar )0;
#line 585
    n = maxarg(line->text);
    }
#line 586
    if (n > m->argcount) {
#line 586
      m->argcount = n;
    }
#line 588
    chptr += length;
#line 589
    if ((int )*(in_line + chptr) == (int )term) {
#line 591
      line->text[length] = (uschar )' ';
#line 592
      line->text[length + 1] = (uschar )0;
#line 593
      if ((int )term == 125) {
        {
#line 593
        nextch();
#line 593
        nextsigch();
        }
      }
#line 594
      goto while_break;
    } else {
      {
#line 598
      chptr --;
#line 599
      nextch();
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 605
  m->previous = macroot;
#line 606
  macroot = m;
#line 607
  return;
}
}
#line 614 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_push(void) 
{ 
  environment *newenv ;
  void *tmp ;

  {
  {
#line 617
  tmp = getstore(sizeof(environment ));
#line 617
  newenv = (environment *)tmp;
#line 618
  memcpy((void */* __restrict  */)newenv, (void const   */* __restrict  */)env, sizeof(environment ));
#line 619
  newenv->previous = env;
#line 620
  env = newenv;
  }
#line 621
  return;
}
}
#line 623 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void c_pop(void) 
{ 
  environment *oldenv ;

  {
#line 626
  if ((unsigned long )env->previous == (unsigned long )((void *)0)) {
    {
#line 626
    error_moan(18);
    }
  } else {
    {
#line 628
    oldenv = env;
#line 629
    env = env->previous;
#line 630
    free((void *)oldenv);
    }
  }
#line 632
  return;
}
}
#line 640 "/home/june/collector/temp/aspic-1.05/src/read.c"
static command_item cmdtab[66]  = 
#line 640
  {      {(unsigned char *)"arc", & c_arc, 0, 0}, 
        {(unsigned char *)"arcarrow", & c_arc, 0, 1}, 
        {(unsigned char *)"arcradius", & c_env, (unit )((unsigned long )(& ((environment *)0)->arcradius)),
      1}, 
        {(unsigned char *)"arrow", & c_line, 0, 1}, 
        {(unsigned char *)"arrowfill", & c_env6, (unit )((unsigned long )(& ((environment *)0)->arrowfilled)),
      0}, 
        {(unsigned char *)"arrowlength", & c_env, (unit )((unsigned long )(& ((environment *)0)->arrow_x)),
      1}, 
        {(unsigned char *)"arrowwidth", & c_env, (unit )((unsigned long )(& ((environment *)0)->arrow_y)),
      1}, 
        {(unsigned char *)"bindfont", & c_bindfont, 0, 0}, 
        {(unsigned char *)"boundingbox", & c_boundingbox, 0, 0}, 
        {(unsigned char *)"box", & c_box, 0, 0}, 
        {(unsigned char *)"boxcolour", & c_env5, (unit )((unsigned long )(& ((environment *)0)->boxcolour)),
      0}, 
        {(unsigned char *)"boxdash", & c_env2, (unit )((unsigned long )(& ((environment *)0)->boxdash1)),
      (unit )((unsigned long )(& ((environment *)0)->boxdash2))}, 
        {(unsigned char *)"boxdepth", & c_env, (unit )((unsigned long )(& ((environment *)0)->boxdepth)),
      1}, 
        {(unsigned char *)"boxfill", & c_env6, (unit )((unsigned long )(& ((environment *)0)->boxfilled)),
      0}, 
        {(unsigned char *)"boxgreyness", & c_env4, (unit )((unsigned long )(& ((environment *)0)->boxcolour)),
      0}, 
        {(unsigned char *)"boxthickness", & c_env, (unit )((unsigned long )(& ((environment *)0)->boxthickness)),
      1}, 
        {(unsigned char *)"boxwidth", & c_env, (unit )((unsigned long )(& ((environment *)0)->boxwidth)),
      1}, 
        {(unsigned char *)"centre", & c_centre, 0, 0}, 
        {(unsigned char *)"circle", & c_circle, 0, 1}, 
        {(unsigned char *)"circlecolour", & c_env5, (unit )((unsigned long )(& ((environment *)0)->circolour)),
      0}, 
        {(unsigned char *)"circledash", & c_env2, (unit )((unsigned long )(& ((environment *)0)->cirdash1)),
      (unit )((unsigned long )(& ((environment *)0)->cirdash2))}, 
        {(unsigned char *)"circlefill", & c_env6, (unit )((unsigned long )(& ((environment *)0)->cirfilled)),
      0}, 
        {(unsigned char *)"circlegreyness", & c_env4, (unit )((unsigned long )(& ((environment *)0)->circolour)),
      0}, 
        {(unsigned char *)"circleradius", & c_env, (unit )((unsigned long )(& ((environment *)0)->cirradius)),
      1}, 
        {(unsigned char *)"circlethickness", & c_env, (unit )((unsigned long )(& ((environment *)0)->cirthickness)),
      1}, 
        {(unsigned char *)"down", & c_down, 0, 0}, 
        {(unsigned char *)"ellipse", & c_circle, 0, 0}, 
        {(unsigned char *)"ellipsecolour", & c_env5, (unit )((unsigned long )(& ((environment *)0)->ellcolour)),
      0}, 
        {(unsigned char *)"ellipsedash", & c_env2, (unit )((unsigned long )(& ((environment *)0)->elldash1)),
      (unit )((unsigned long )(& ((environment *)0)->elldash2))}, 
        {(unsigned char *)"ellipsedepth", & c_env, (unit )((unsigned long )(& ((environment *)0)->elldepth)),
      1}, 
        {(unsigned char *)"ellipsefill", & c_env6, (unit )((unsigned long )(& ((environment *)0)->ellfilled)),
      0}, 
        {(unsigned char *)"ellipsegreyness", & c_env4, (unit )((unsigned long )(& ((environment *)0)->ellcolour)),
      0}, 
        {(unsigned char *)"ellipsethickness", & c_env, (unit )((unsigned long )(& ((environment *)0)->ellthickness)),
      1}, 
        {(unsigned char *)"ellipsewidth", & c_env, (unit )((unsigned long )(& ((environment *)0)->ellwidth)),
      1}, 
        {(unsigned char *)"fontdepth", & c_env, (unit )((unsigned long )(& ((environment *)0)->fontdepth)),
      1}, 
        {(unsigned char *)"goto", & c_goto, 0, 0}, 
        {(unsigned char *)"hlinelength", & c_env, (unit )((unsigned long )(& ((environment *)0)->line_hw)),
      1}, 
        {(unsigned char *)"iarc", & c_arc, 1, 0}, 
        {(unsigned char *)"ibox", & c_box, 1, 0}, 
        {(unsigned char *)"icircle", & c_circle, 1, 1}, 
        {(unsigned char *)"iellipse", & c_circle, 1, 0}, 
        {(unsigned char *)"iline", & c_line, 1, 0}, 
        {(unsigned char *)"include", & c_include, 0, 0}, 
        {(unsigned char *)"left", & c_left, 0, 0}, 
        {(unsigned char *)"level", & c_env3, (unit )((unsigned long )(& ((environment *)0)->level)),
      0}, 
        {(unsigned char *)"line", & c_line, 0, 0}, 
        {(unsigned char *)"linecolour", & c_env5, (unit )((unsigned long )(& ((environment *)0)->linecolour)),
      0}, 
        {(unsigned char *)"linedash", & c_env2, (unit )((unsigned long )(& ((environment *)0)->linedash1)),
      (unit )((unsigned long )(& ((environment *)0)->linedash2))}, 
        {(unsigned char *)"linegreyness", & c_env4, (unit )((unsigned long )(& ((environment *)0)->linecolour)),
      0}, 
        {(unsigned char *)"linethickness", & c_env, (unit )((unsigned long )(& ((environment *)0)->linethickness)),
      1}, 
        {(unsigned char *)"magnify", & c_mag, 0, 0}, 
        {(unsigned char *)"macro", & c_macro, 0, 0}, 
        {(unsigned char *)"pop", & c_pop, 0, 0}, 
        {(unsigned char *)"push", & c_push, 0, 0}, 
        {(unsigned char *)"redraw", & c_redraw, 0, 0}, 
        {(unsigned char *)"resolution", & c_resolution, 0, 0}, 
        {(unsigned char *)"right", & c_right, 0, 0}, 
        {(unsigned char *)"set", & c_set, 0, 0}, 
        {(unsigned char *)"setfont", & c_env3, (unit )((unsigned long )(& ((environment *)0)->setfont)),
      0}, 
        {(unsigned char *)"shapefill", & c_env6, (unit )((unsigned long )(& ((environment *)0)->shapefilled)),
      0}, 
        {(unsigned char *)"text", & c_text, 0, 0}, 
        {(unsigned char *)"textcolour", & c_env5, (unit )((unsigned long )(& ((environment *)0)->textcolour)),
      0}, 
        {(unsigned char *)"textdepth", & c_env, (unit )((unsigned long )(& ((environment *)0)->linedepth)),
      1}, 
        {(unsigned char *)"up", & c_up, 0, 0}, 
        {(unsigned char *)"vlinelength", & c_env, (unit )((unsigned long )(& ((environment *)0)->line_vd)),
      1}, 
        {(unsigned char *)"wait", & c_wait, 0, 0}};
#line 717 "/home/june/collector/temp/aspic-1.05/src/read.c"
static void obey_macro(macro *m ) 
{ 
  int argcount ;
  macro *mm ;
  void *tmp ;
  mac_arg **ap ;
  mac_arg *arg ;
  int length ;
  int p ;
  uschar term1 ;
  uschar term2 ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  void *tmp___3 ;
  int tmp___4 ;

  {
  {
#line 720
  argcount = 0;
#line 721
  tmp = getstore(sizeof(macro ));
#line 721
  mm = (macro *)tmp;
#line 723
  memcpy((void */* __restrict  */)mm, (void const   */* __restrict  */)m, sizeof(macro ));
#line 725
  mm->args = (mac_arg *)((void *)0);
#line 726
  ap = & mm->args;
  }
  {
#line 728
  while (1) {
    while_continue: /* CIL Label */ ;
#line 728
    if ((int )*(in_line + chptr) != 59) {
#line 728
      if ((int )*(in_line + chptr) != 124) {
#line 728
        if (! (argcount < m->argcount)) {
#line 728
          goto while_break;
        }
      } else {
#line 728
        goto while_break;
      }
    } else {
#line 728
      goto while_break;
    }
#line 732
    p = chptr + 1;
#line 733
    term1 = (uschar )' ';
#line 736
    if ((int )*(in_line + chptr) == 34) {
#line 736
      term1 = *(in_line + chptr);
    } else
#line 736
    if ((int )*(in_line + chptr) == 39) {
#line 736
      term1 = *(in_line + chptr);
    }
#line 737
    if ((int )term1 == 39) {
#line 737
      chptr ++;
    }
#line 738
    if ((int )term1 == 32) {
#line 738
      tmp___0 = ';';
    } else {
#line 738
      tmp___0 = (int )term1;
    }
#line 738
    term2 = (uschar )tmp___0;
    {
#line 740
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 740
      if ((int )*(in_line + p) != (int )term1) {
#line 740
        if ((int )*(in_line + p) != (int )term2) {
#line 740
          if (! ((int )*(in_line + p) != 10)) {
#line 740
            goto while_break___0;
          }
        } else {
#line 740
          goto while_break___0;
        }
      } else {
#line 740
        goto while_break___0;
      }
#line 740
      p ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 741
    if ((int )*(in_line + p) == 34) {
#line 741
      p ++;
    }
    {
#line 743
    length = p - chptr;
#line 744
    tmp___1 = getstore((unsigned long )(length + 1) + (unsigned long )(& ((mac_arg *)0)->text));
#line 744
    arg = (mac_arg *)tmp___1;
#line 745
    arg->next = (struct mac_arg *)((void *)0);
#line 746
    *ap = arg;
#line 747
    ap = & arg->next;
#line 749
    strncpy((char */* __restrict  */)((char *)(arg->text)), (char const   */* __restrict  */)((char const   *)(in_line + chptr)),
            (size_t )length);
#line 750
    arg->text[length] = (uschar )0;
#line 752
    chptr += length;
    }
#line 753
    if ((int )*(in_line + chptr) == 39) {
#line 753
      chptr ++;
    }
    {
#line 754
    nextsigch();
#line 755
    argcount ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 758
  if ((int )*(in_line + chptr) == 124) {
    {
#line 758
    nextch();
#line 758
    nextsigch();
    }
  }
  {
#line 760
  *(in_line_stack + mac_stack_ptr) = in_line;
#line 761
  *(chptr_stack + mac_stack_ptr) = chptr;
#line 762
  tmp___2 = mac_stack_ptr;
#line 762
  mac_stack_ptr ++;
#line 762
  *(mac_count_stack + tmp___2) = macro_id;
#line 764
  tmp___3 = getstore((size_t )256);
#line 764
  in_line = (uschar *)tmp___3;
#line 765
  *(in_line + 0) = (uschar )0;
#line 766
  chptr = -1;
#line 768
  mm->previous = macactive;
#line 769
  macactive = mm;
#line 770
  tmp___4 = macro_count;
#line 770
  macro_count ++;
#line 770
  macro_id = tmp___4;
#line 771
  nextch();
  }
#line 772
  return;
}
}
#line 779 "/home/june/collector/temp/aspic-1.05/src/read.c"
int read_inputfile(void) 
{ 
  void *tmp ;
  unit i ;
  label *newlabel ;
  void *tmp___0 ;
  int tmp___1 ;
  macro *m ;
  int tmp___2 ;
  int tmp___3 ;
  label *thislabel ;

  {
  {
#line 782
  tmp = getstore(sizeof(environment ));
#line 782
  env = (environment *)tmp;
#line 783
  env->previous = (struct environment *)((void *)0);
#line 785
  env->arcradius = 36000;
#line 786
  env->arrow_x = 10000;
#line 787
  env->arrow_y = 10000;
#line 788
  env->boxdash1 = 7000;
#line 789
  env->boxdash2 = 5000;
#line 790
  env->boxwidth = 72000;
#line 791
  env->boxdepth = 36000;
#line 792
  env->boxthickness = 500;
#line 793
  env->boxcolour = black;
#line 794
  env->boxfilled = unfilled;
#line 795
  env->cirdash1 = 7000;
#line 796
  env->cirdash2 = 5000;
#line 797
  env->cirradius = 36000;
#line 798
  env->cirthickness = 400;
#line 799
  env->circolour = black;
#line 800
  env->cirfilled = unfilled;
#line 801
  env->direction = 2;
#line 802
  env->elldash1 = 7000;
#line 803
  env->elldash2 = 5000;
#line 804
  env->ellcolour = black;
#line 805
  env->ellwidth = 72000;
#line 806
  env->elldepth = 36000;
#line 807
  env->ellthickness = 400;
#line 808
  env->ellfilled = unfilled;
#line 809
  env->shapefilled = unfilled;
#line 810
  env->arrowfilled = unfilled;
#line 811
  env->setfont = 0;
#line 812
  env->textcolour = black;
#line 813
  env->fontdepth = 6000;
#line 814
  env->linedash1 = 7000;
#line 815
  env->linedash2 = 5000;
#line 816
  env->linedepth = 12000;
#line 817
  env->linethickness = 400;
#line 818
  env->linecolour = black;
#line 819
  env->line_hw = 72000;
#line 820
  env->line_vd = 36000;
#line 821
  env->magnification = 1000;
#line 822
  env->level = 0;
#line 824
  centrepic = 0;
#line 825
  drawbbox = 0;
#line 826
  drawbboxthickness = 0;
#line 827
  drawbboxcolour = black;
#line 828
  macro_count = 0;
#line 830
  lastitem = (item *)((void *)0);
#line 830
  baseitem = lastitem;
#line 832
  label_base = (label *)((void *)0);
#line 833
  nextlabel = (label *)((void *)0);
#line 836
  chptr = 0;
#line 837
  *(in_line + 0) = (uschar )'\n';
#line 838
  *(in_line + 1) = (uschar )0;
#line 839
  *(in_last + 0) = (uschar )'\n';
#line 840
  *(in_last + 1) = (uschar )0;
#line 841
  endfile = 0;
  }
  {
#line 845
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 848
    nextsigch();
    }
    {
#line 849
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 849
      if ((int )*(in_line + chptr) == 59) {
#line 849
        if (! (! endfile)) {
#line 849
          goto while_break___0;
        }
      } else {
#line 849
        goto while_break___0;
      }
      {
#line 849
      nextch();
#line 849
      nextsigch();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 850
    if (endfile) {
#line 850
      goto while_break;
    }
    {
#line 851
    readword();
    }
#line 855
    if ((int )word[0] == 0) {
#line 857
      if ((int )*(in_line + chptr) == 35) {
        {
#line 859
        while (1) {
          while_continue___1: /* CIL Label */ ;
#line 859
          chptr ++;
#line 859
          if (! ((int )*(in_line + chptr) != 0)) {
#line 859
            goto while_break___1;
          }
        }
        while_break___1: /* CIL Label */ ;
        }
#line 860
        chptr --;
      } else {
        {
#line 862
        error_moan(16);
        }
#line 862
        return (0);
      }
    } else
#line 867
    if ((int )*(in_line + chptr) == 58) {
      {
#line 869
      tmp___0 = getstore(sizeof(label ));
#line 869
      newlabel = (label *)tmp___0;
#line 870
      strcpy((char */* __restrict  */)((char *)(newlabel->name)), (char const   */* __restrict  */)((char const   *)(word)));
#line 871
      newlabel->next = nextlabel;
#line 872
      newlabel->itemptr = (item *)((void *)0);
#line 873
      nextlabel = newlabel;
#line 874
      nextch();
      }
    } else {
#line 881
      i = 0;
      {
#line 881
      while (1) {
        while_continue___2: /* CIL Label */ ;
#line 881
        if (! ((unsigned long )i < sizeof(cmdtab) / sizeof(command_item ))) {
#line 881
          goto while_break___2;
        }
        {
#line 883
        tmp___1 = strcmp((char const   *)(word), (char const   *)cmdtab[i].name);
        }
#line 883
        if (tmp___1 == 0) {
          {
#line 885
          item_arg1 = cmdtab[i].arg1;
#line 886
          item_arg2 = cmdtab[i].arg2;
#line 887
          (*(cmdtab[i].function))();
          }
#line 888
          goto while_break___2;
        }
#line 881
        i ++;
      }
      while_break___2: /* CIL Label */ ;
      }
#line 894
      if ((unsigned long )i >= sizeof(cmdtab) / sizeof(command_item )) {
#line 896
        m = macroot;
        {
#line 897
        while (1) {
          while_continue___3: /* CIL Label */ ;
#line 897
          if (! ((unsigned long )m != (unsigned long )((void *)0))) {
#line 897
            goto while_break___3;
          }
          {
#line 899
          tmp___2 = strcmp((char const   *)(word), (char const   *)(m->name));
          }
#line 899
          if (tmp___2 == 0) {
            {
#line 901
            obey_macro(m);
            }
#line 902
            goto while_break___3;
          }
#line 904
          m = m->previous;
        }
        while_break___3: /* CIL Label */ ;
        }
#line 906
        if ((unsigned long )m == (unsigned long )((void *)0)) {
          {
#line 906
          error_moan(2, word);
          }
#line 906
          return (0);
        }
      } else {
#line 911
        tmp___3 = chptr;
#line 911
        chptr ++;
#line 911
        if ((int )*(in_line + tmp___3) != 59) {
          {
#line 911
          error_moan(3);
          }
#line 911
          return (0);
        }
      }
#line 915
      if ((unsigned long )nextlabel != (unsigned long )((void *)0)) {
#line 915
        if ((unsigned long )i < sizeof(cmdtab) / sizeof(command_item )) {
          {
#line 917
          while (1) {
            while_continue___4: /* CIL Label */ ;
#line 917
            if (! ((unsigned long )nextlabel != (unsigned long )((void *)0))) {
#line 917
              goto while_break___4;
            }
            {
#line 919
            thislabel = nextlabel;
#line 920
            error_moan(9, thislabel->name);
#line 921
            nextlabel = thislabel->next;
#line 922
            free((void *)thislabel);
            }
          }
          while_break___4: /* CIL Label */ ;
          }
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 928
  return (1);
}
}
/* compiler builtin: 
   void __builtin_va_start(__builtin_va_list  ) ;  */
/* compiler builtin: 
   void __builtin_va_end(__builtin_va_list  ) ;  */
#line 168 "/usr/include/stdio.h"
extern struct _IO_FILE *stdin ;
#line 169
extern struct _IO_FILE *stdout ;
#line 170
extern struct _IO_FILE *stderr ;
#line 362
extern int printf(char const   * __restrict  __format  , ...) ;
#line 371
extern int vfprintf(FILE * __restrict  __s , char const   * __restrict  __format ,
                    __gnuc_va_list __arg ) ;
#line 466 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) malloc)(size_t __size )  __attribute__((__malloc__)) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 192 "/usr/include/time.h"
extern  __attribute__((__nothrow__)) time_t ( __attribute__((__leaf__)) time)(time_t *__timer ) ;
#line 205
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__leaf__)) strftime)(char * __restrict  __s ,
                                                                                  size_t __maxsize ,
                                                                                  char const   * __restrict  __format ,
                                                                                  struct tm  const  * __restrict  __tp ) ;
#line 239
extern  __attribute__((__nothrow__)) struct tm *( __attribute__((__leaf__)) gmtime)(time_t const   *__timer ) ;
#line 243
extern  __attribute__((__nothrow__)) struct tm *( __attribute__((__leaf__)) localtime)(time_t const   *__timer ) ;
#line 412 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
FILE *main_input  ;
#line 413 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
FILE *out_file  ;
#line 416 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
uschar **file_line_stack  ;
#line 417 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int *file_chptr_stack  ;
#line 420 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
item *main_item_base  ;
#line 432 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
double pi  ;
#line 434 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
colour black  ;
#line 435 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
colour unfilled  ;
#line 446 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit joined_xx  ;
#line 447 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
unit joined_yy  ;
#line 450 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int macro_count  ;
#line 451 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int macro_id  ;
#line 463 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
uschar **in_line_stack  ;
#line 464 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int *chptr_stack  ;
#line 466 "/home/june/collector/temp/aspic-1.05/src/aspic.h"
int *mac_count_stack  ;
#line 471
int outstyle ;
#line 472
BOOL started ;
#line 516
void init_ps(void) ;
#line 535
void write_ps(void) ;
#line 31 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
includestr *included_from  =    (includestr *)((void *)0);
#line 34 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
int inc_stack_ptr  =    0;
#line 42 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
bindfont *font_base  =    (bindfont *)((void *)0);
#line 43 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
BOOL use_fonts  =    1;
#line 44 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
BOOL translate_chars  =    0;
#line 48 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
int max_level  =    0;
#line 49 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
int min_level  =    0;
#line 51 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
int mac_stack_ptr  =    0;
#line 54 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
unit minimum_thickness  =    0;
#line 55 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
BOOL no_variables  =    0;
#line 56 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
int outstyle  =    0;
#line 57 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
unit resolution  =    1;
#line 58 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
BOOL strings_exist  =    0;
#line 63 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
macro *macroot  =    (macro *)((void *)0);
#line 64 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
macro *macactive  =    (macro *)((void *)0);
#line 66 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
BOOL started  =    0;
#line 67 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
BOOL testing  =    0;
#line 69 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
tree_node *varroot  =    (tree_node *)((void *)0);
#line 76 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
static uschar *error_messages[31]  = 
#line 76
  {      (unsigned char *)"Unrecognized command line option \"%s\"",      (unsigned char *)"Failed to open %s for %s: %s",      (unsigned char *)"Unknown aspic command \"%s\"",      (unsigned char *)"Semicolon expected (unexpected text follows command)", 
        (unsigned char *)"Font %d has not been bound",      (unsigned char *)"Font number must be > 0 and < 64",      (unsigned char *)"Unknown%s variable \"%s\"",      (unsigned char *)"Unknown option word \"%s\"", 
        (unsigned char *)"Dimension expected",      (unsigned char *)"Label \"%s\" incorrectly placed (can only precede drawing command)",      (unsigned char *)"Can\'t find item labelled \"%s\"",      (unsigned char *)"%s expected", 
        (unsigned char *)"No previous item",      (unsigned char *)"Inappropriate position descriptor applied to a %s",      (unsigned char *)"Inappropriate fraction encountered",      (unsigned char *)"Unable to get store - %d bytes requested", 
        (unsigned char *)"Aspic command word expected",      (unsigned char *)"Empty variable name",      (unsigned char *)"No stacked environment to restore",      (unsigned char *)"Too many constraints for arc - %s ignored", 
        (unsigned char *)"An edge join cannot be explicitly positioned",      (unsigned char *)"A positioned join must refer to a corner",      (unsigned char *)"No previous item to join to",      (unsigned char *)"\"depth\" or \"via\" for arc given without end point - ignored", 
        (unsigned char *)"An arc cannot be constructed using the given via point",      (unsigned char *)"Line too long while substituting \"%s\"",      (unsigned char *)"Line too long after substitutions",      (unsigned char *)"Missing } after \"${%s\"", 
        (unsigned char *)"Only one of -ps, -sgcal, or -svg is allowed",      (unsigned char *)"File name expected",      (unsigned char *)"\"include\" is not allowed in a macro"};
#line 144 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
void error_moan(int n  , ...) 
{ 
  unit ptr ;
  unit i ;
  va_list ap ;
  size_t tmp ;
  size_t tmp___0 ;

  {
  {
#line 149
  __builtin_va_start(ap, n);
#line 151
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Aspic: ");
#line 152
  vfprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)((char *)error_messages[n]),
           ap);
#line 153
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\n");
  }
#line 155
  if (! started) {
#line 155
    return;
  }
#line 157
  if (chptr > 0) {
    {
#line 159
    ptr = chptr;
#line 160
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%s",
            (char *)in_line);
#line 161
    tmp = strlen((char const   *)in_line);
    }
#line 161
    if ((int )*(in_line + ((int )tmp - 1)) != 10) {
      {
#line 161
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\n");
      }
    }
  } else {
    {
#line 165
    tmp___0 = strlen((char const   *)in_last);
#line 165
    ptr = (int )tmp___0;
#line 166
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"%s",
            (char *)in_last);
    }
#line 167
    if ((int )*(in_last + (ptr - 1)) != 10) {
      {
#line 167
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\n");
      }
    }
  }
#line 170
  i = 0;
  {
#line 170
  while (1) {
    while_continue: /* CIL Label */ ;
#line 170
    if (! (i < ptr)) {
#line 170
      goto while_break;
    }
    {
#line 170
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)" ");
#line 170
    i ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 171
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"^\n");
#line 173
  __builtin_va_end(ap);
  }
#line 174
  return;
}
}
#line 189 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
void *getstore(size_t size ) 
{ 
  void *yield ;
  void *tmp ;

  {
  {
#line 192
  tmp = malloc(size);
#line 192
  yield = tmp;
  }
#line 193
  if ((unsigned long )yield == (unsigned long )((void *)0)) {
    {
#line 195
    error_moan(15, size);
#line 196
    freechain();
#line 197
    exit(1);
    }
  }
#line 199
  return (yield);
}
}
#line 217 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
static uschar *time_stamp(uschar *timebuf , int size ) 
{ 
  int diff_hour ;
  int diff_min ;
  int len ;
  time_t now ;
  time_t tmp ;
  struct tm *gmt ;
  struct tm local ;
  struct tm *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  size_t tmp___3 ;
  size_t tmp___4 ;
  size_t tmp___5 ;

  {
  {
#line 221
  tmp = time((time_t *)((void *)0));
#line 221
  now = tmp;
#line 225
  tmp___0 = localtime((time_t const   *)(& now));
#line 225
  memcpy((void */* __restrict  */)(& local), (void const   */* __restrict  */)tmp___0,
         sizeof(struct tm ));
#line 226
  gmt = gmtime((time_t const   *)(& now));
#line 228
  diff_min = (60 * (local.tm_hour - gmt->tm_hour) + local.tm_min) - gmt->tm_min;
  }
#line 229
  if (local.tm_year != gmt->tm_year) {
#line 230
    if (local.tm_year > gmt->tm_year) {
#line 230
      tmp___1 = 1440;
    } else {
#line 230
      tmp___1 = -1440;
    }
#line 230
    diff_min += tmp___1;
  } else
#line 231
  if (local.tm_yday != gmt->tm_yday) {
#line 232
    if (local.tm_yday > gmt->tm_yday) {
#line 232
      tmp___2 = 1440;
    } else {
#line 232
      tmp___2 = -1440;
    }
#line 232
    diff_min += tmp___2;
  }
  {
#line 233
  diff_hour = diff_min / 60;
#line 234
  diff_min = abs(diff_min - diff_hour * 60);
#line 236
  tmp___3 = strftime((char */* __restrict  */)((char *)timebuf), (size_t )size, (char const   */* __restrict  */)"%a, ",
                     (struct tm  const  */* __restrict  */)(& local));
#line 236
  len = (int )tmp___3;
#line 237
  sprintf((char */* __restrict  */)((char *)timebuf + len), (char const   */* __restrict  */)"%02d ",
          local.tm_mday);
#line 238
  tmp___4 = strlen((char const   *)(timebuf + len));
#line 238
  len += (int )tmp___4;
#line 239
  tmp___5 = strftime((char */* __restrict  */)((char *)(timebuf + len)), (size_t )(size - len),
                     (char const   */* __restrict  */)"%b %Y %H:%M:%S", (struct tm  const  */* __restrict  */)(& local));
#line 239
  len = (int )((size_t )len + tmp___5);
#line 240
  sprintf((char */* __restrict  */)((char *)timebuf + len), (char const   */* __restrict  */)" %+03d%02d",
          diff_hour, diff_min);
  }
#line 242
  return (timebuf);
}
}
#line 259 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
static void usage(FILE *f ) 
{ 


  {
  {
#line 262
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"Usage:\n");
#line 263
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"aspic [<options>] [<infile>] [<outfile>]\n\n");
#line 264
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"Options:\n");
#line 265
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -help          show usage information and exit\n");
#line 266
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -nv            disable variable substitutions\n");
#line 267
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -ps            generate Encapsulated PostScript\n");
#line 268
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -sgcal         generate SGCAL input\n");
#line 269
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -svg           generate SVG\n");
#line 270
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -testing       used by \'make test\'\n");
#line 271
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -tr            translate quotes and double-hyphens\n");
#line 272
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"  -v             show version and exit\n\n");
#line 274
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"Omit file names or use \"-\" for stdin and stdout.\n");
#line 275
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"The default output format is PostScript.\n");
#line 276
  fprintf((FILE */* __restrict  */)f, (char const   */* __restrict  */)"Only one of -ps, -sgcal, and -sv is permitted.\n");
  }
#line 277
  return;
}
}
#line 285 "/home/june/collector/temp/aspic-1.05/src/aspic.c"
int main(int argc , char **argv ) 
{ 
  tree_node *tn ;
  uschar timebuf[sizeof("www, dd-mmm-yyyy hh:mm:ss +zzzz")] ;
  int firstarg ;
  int yield ;
  void *tmp ;
  void *tmp___0 ;
  void *tmp___1 ;
  void *tmp___2 ;
  void *tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  void *tmp___6 ;
  double tmp___7 ;
  uschar *arg ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int *tmp___18 ;
  char *tmp___19 ;
  int tmp___20 ;
  void *tmp___21 ;
  void *tmp___22 ;
  void *tmp___23 ;
  int *tmp___24 ;
  char *tmp___25 ;
  int tmp___26 ;
  int tmp___27 ;
  environment *p ;

  {
  {
#line 290
  firstarg = 1;
#line 291
  yield = 0;
#line 293
  tmp = getstore((size_t )256);
#line 293
  in_raw = (uschar *)tmp;
#line 294
  tmp___0 = getstore((size_t )256);
#line 294
  in_line = (uschar *)tmp___0;
#line 295
  tmp___1 = getstore((size_t )256);
#line 295
  in_last = (uschar *)tmp___1;
#line 296
  *(in_last + 0) = (uschar )0;
#line 298
  tmp___2 = getstore(20UL * sizeof(uschar *));
#line 298
  in_line_stack = (uschar **)tmp___2;
#line 299
  tmp___3 = getstore(20UL * sizeof(int ));
#line 299
  chptr_stack = (int *)tmp___3;
#line 300
  tmp___4 = getstore(20UL * sizeof(int ));
#line 300
  mac_count_stack = (int *)tmp___4;
#line 302
  tmp___5 = getstore(20UL * sizeof(uschar *));
#line 302
  file_line_stack = (uschar **)tmp___5;
#line 303
  tmp___6 = getstore(20UL * sizeof(int ));
#line 303
  file_chptr_stack = (int *)tmp___6;
#line 305
  tmp___7 = atan2(1.0, 1.0);
#line 305
  pi = (double )4 * tmp___7;
#line 307
  black.blue = 0;
#line 307
  black.green = black.blue;
#line 307
  black.red = black.green;
#line 308
  unfilled.blue = -1000;
#line 308
  unfilled.green = unfilled.blue;
#line 308
  unfilled.red = unfilled.green;
  }
  {
#line 312
  while (1) {
    while_continue: /* CIL Label */ ;
#line 312
    if (firstarg < argc) {
#line 312
      if ((int )*(*(argv + firstarg) + 0) == 45) {
#line 312
        if (! ((int )*(*(argv + firstarg) + 1) != 0)) {
#line 312
          goto while_break;
        }
      } else {
#line 312
        goto while_break;
      }
    } else {
#line 312
      goto while_break;
    }
    {
#line 314
    tmp___8 = firstarg;
#line 314
    firstarg ++;
#line 314
    arg = (unsigned char *)*(argv + tmp___8);
#line 315
    tmp___17 = strcmp((char const   *)arg, "-nv");
    }
#line 315
    if (tmp___17 == 0) {
#line 316
      no_variables = 1;
    } else {
      {
#line 317
      tmp___16 = strcmp((char const   *)arg, "-testing");
      }
#line 317
      if (tmp___16 == 0) {
#line 318
        testing = 1;
      } else {
        {
#line 319
        tmp___15 = strcmp((char const   *)arg, "-ps");
        }
#line 319
        if (tmp___15 == 0) {
#line 320
          if (outstyle == 0) {
#line 320
            outstyle = 1;
          } else {
            {
#line 320
            error_moan(28);
            }
          }
        } else {
          {
#line 321
          tmp___14 = strcmp((char const   *)arg, "-sgcal");
          }
#line 321
          if (tmp___14 == 0) {
#line 322
            if (outstyle == 0) {
#line 322
              outstyle = 2;
            } else {
              {
#line 322
              error_moan(28);
              }
            }
          } else {
            {
#line 323
            tmp___13 = strcmp((char const   *)arg, "-svg");
            }
#line 323
            if (tmp___13 == 0) {
#line 324
              if (outstyle == 0) {
#line 324
                outstyle = 3;
              } else {
                {
#line 324
                error_moan(28);
                }
              }
            } else {
              {
#line 325
              tmp___12 = strcmp((char const   *)arg, "-tr");
              }
#line 325
              if (tmp___12 == 0) {
#line 326
                translate_chars = 1;
              } else {
                {
#line 327
                tmp___11 = strcmp((char const   *)arg, "-v");
                }
#line 327
                if (tmp___11 == 0) {
                  {
#line 329
                  printf((char const   */* __restrict  */)"\rAspic %s\n", "1.05 (04-March-2008)");
                  }
#line 330
                  goto TIDYUP;
                } else {
                  {
#line 332
                  tmp___9 = strcmp((char const   *)arg, "-help");
                  }
#line 332
                  if (tmp___9 == 0) {
                    {
#line 334
                    usage(stdout);
                    }
#line 335
                    goto TIDYUP;
                  } else {
                    {
#line 332
                    tmp___10 = strcmp((char const   *)arg, "--help");
                    }
#line 332
                    if (tmp___10 == 0) {
                      {
#line 334
                      usage(stdout);
                      }
#line 335
                      goto TIDYUP;
                    } else {
                      {
#line 339
                      error_moan(0, arg);
#line 340
                      usage(stderr);
#line 341
                      yield = 1;
                      }
#line 342
                      goto TIDYUP;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 346
  if (outstyle == 0) {
#line 346
    outstyle = 1;
  }
#line 352
  if (firstarg >= argc) {
#line 354
    main_input = stdin;
  } else {
    {
#line 352
    tmp___20 = strcmp((char const   *)*(argv + firstarg), "-");
    }
#line 352
    if (tmp___20 == 0) {
#line 354
      main_input = stdin;
    } else {
      {
#line 358
      main_input = fopen((char const   */* __restrict  */)*(argv + firstarg), (char const   */* __restrict  */)"r");
      }
#line 358
      if ((unsigned long )main_input == (unsigned long )((void *)0)) {
        {
#line 360
        tmp___18 = __errno_location();
#line 360
        tmp___19 = strerror(*tmp___18);
#line 360
        error_moan(1, *(argv + firstarg), "input", tmp___19);
#line 361
        yield = 1;
        }
#line 362
        goto TIDYUP;
      }
    }
  }
  {
#line 368
  tmp___21 = getstore(sizeof(tree_node ) + 7UL);
#line 368
  tn = (tree_node *)tmp___21;
#line 369
  strcpy((char */* __restrict  */)((char *)(tn->name)), (char const   */* __restrict  */)"creator");
#line 370
  tn->value = (unsigned char *)"Unknown";
#line 371
  tree_insertnode(& varroot, tn);
#line 373
  tmp___22 = getstore(sizeof(tree_node ) + 4UL);
#line 373
  tn = (tree_node *)tmp___22;
#line 374
  strcpy((char */* __restrict  */)((char *)(tn->name)), (char const   */* __restrict  */)"date");
#line 375
  tn->value = time_stamp(timebuf, (int )sizeof(timebuf));
#line 376
  tree_insertnode(& varroot, tn);
#line 378
  tmp___23 = getstore(sizeof(tree_node ) + 5UL);
#line 378
  tn = (tree_node *)tmp___23;
#line 379
  strcpy((char */* __restrict  */)((char *)(tn->name)), (char const   */* __restrict  */)"title");
#line 380
  tn->value = (unsigned char *)"Unknown";
#line 381
  tree_insertnode(& varroot, tn);
  }
  {
#line 387
  if (outstyle == 1) {
#line 387
    goto case_1;
  }
#line 388
  if (outstyle == 2) {
#line 388
    goto case_2;
  }
#line 389
  if (outstyle == 3) {
#line 389
    goto case_3;
  }
#line 385
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 387
  init_ps();
  }
#line 387
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 388
  init_sg();
  }
#line 388
  goto switch_break;
  case_3: /* CIL Label */ 
  {
#line 389
  init_sv();
  }
#line 389
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
  {
#line 394
  started = 1;
#line 395
  tmp___27 = read_inputfile();
  }
#line 395
  if (tmp___27) {
    {
#line 397
    fclose(main_input);
    }
#line 399
    if (firstarg + 1 >= argc) {
#line 401
      out_file = stdout;
    } else {
      {
#line 399
      tmp___26 = strcmp((char const   *)*(argv + (firstarg + 1)), "-");
      }
#line 399
      if (tmp___26 == 0) {
#line 401
        out_file = stdout;
      } else {
        {
#line 405
        out_file = fopen((char const   */* __restrict  */)*(argv + (firstarg + 1)),
                         (char const   */* __restrict  */)"w");
        }
#line 405
        if ((unsigned long )out_file == (unsigned long )((void *)0)) {
          {
#line 407
          tmp___24 = __errno_location();
#line 407
          tmp___25 = strerror(*tmp___24);
#line 407
          error_moan(1, *(argv + (firstarg + 1)), "output", tmp___25);
#line 408
          yield = 1;
          }
#line 409
          goto TIDYUP;
        }
      }
    }
    {
#line 415
    if (outstyle == 1) {
#line 415
      goto case_1___0;
    }
#line 416
    if (outstyle == 2) {
#line 416
      goto case_2___0;
    }
#line 417
    if (outstyle == 3) {
#line 417
      goto case_3___0;
    }
#line 413
    goto switch_break___0;
    case_1___0: /* CIL Label */ 
    {
#line 415
    write_ps();
    }
#line 415
    goto switch_break___0;
    case_2___0: /* CIL Label */ 
    {
#line 416
    write_sg();
    }
#line 416
    goto switch_break___0;
    case_3___0: /* CIL Label */ 
    {
#line 417
    write_sv();
    }
#line 417
    goto switch_break___0;
    switch_break___0: /* CIL Label */ ;
    }
    {
#line 420
    fclose(out_file);
    }
  }
  TIDYUP: 
  {
#line 426
  freechain();
  }
  {
#line 427
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 427
    if (! ((unsigned long )env != (unsigned long )((void *)0))) {
#line 427
      goto while_break___0;
    }
    {
#line 427
    p = env;
#line 427
    env = env->previous;
#line 427
    free((void *)p);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 428
  return (yield);
}
}
#line 19 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit bbox___1[4]  ;
#line 21 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static colour line_fill_colour___0  ;
#line 22 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static colour stroke_colour___0  ;
#line 23 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static colour set_colour___0  ;
#line 25 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit set_linedash1  ;
#line 26 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit set_linedash2  ;
#line 27 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit set_linewidth  ;
#line 29 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit stroke_thickness___0  ;
#line 30 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit stroke_dash1___0  ;
#line 31 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit stroke_dash2___0  ;
#line 33 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit at_x___0  ;
#line 34 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static unit at_y___0  ;
#line 36 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static BOOL fillpending___0  ;
#line 37 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static BOOL strokepending___0  ;
#line 39 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static item *pathstart___0  ;
#line 50 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
void init_ps(void) 
{ 
  bindfont *f ;
  size_t tmp ;
  void *tmp___0 ;
  BOOL tmp___1 ;

  {
  {
#line 53
  tmp = strlen("Times-Roman");
#line 53
  tmp___0 = getstore(sizeof(bindfont ) + (unsigned long )((int )tmp));
#line 53
  f = (bindfont *)tmp___0;
#line 55
  f->next = font_base;
#line 56
  font_base = f;
#line 57
  f->number = 0;
#line 58
  f->size = 12000;
#line 59
  tmp___1 = 0;
#line 59
  f->needDingbats = tmp___1;
#line 59
  f->needSymbol = tmp___1;
#line 60
  strcpy((char */* __restrict  */)((char *)(f->name)), (char const   */* __restrict  */)"Times-Roman");
#line 62
  resolution = 120;
  }
#line 63
  return;
}
}
#line 73 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void move___1(unit x , unit y ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;

  {
  {
#line 76
  x -= bbox___1[0];
#line 77
  y -= bbox___1[1];
#line 78
  tmp = rnd(y);
#line 78
  tmp___0 = fixed(tmp);
#line 78
  tmp___1 = rnd(x);
#line 78
  tmp___2 = fixed(tmp___1);
#line 78
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s %s mymove\n",
          tmp___2, tmp___0);
  }
#line 79
  return;
}
}
#line 84 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void rline___1(unit x , unit y ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;

  {
  {
#line 87
  tmp = rnd(y);
#line 87
  tmp___0 = fixed(tmp);
#line 87
  tmp___1 = rnd(x);
#line 87
  tmp___2 = fixed(tmp___1);
#line 87
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s %s rlineto\n",
          tmp___2, tmp___0);
  }
#line 88
  return;
}
}
#line 93 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void rbezier___1(unit x1 , unit y1___0 , unit x2 , unit y2 , unit x3 , unit y3 ) 
{ 
  unit tmp ;
  uschar *tmp___0 ;
  unit tmp___1 ;
  uschar *tmp___2 ;
  unit tmp___3 ;
  uschar *tmp___4 ;
  unit tmp___5 ;
  uschar *tmp___6 ;
  unit tmp___7 ;
  uschar *tmp___8 ;
  unit tmp___9 ;
  uschar *tmp___10 ;

  {
  {
#line 96
  tmp = rnd(y3);
#line 96
  tmp___0 = fixed(tmp);
#line 96
  tmp___1 = rnd(x3);
#line 96
  tmp___2 = fixed(tmp___1);
#line 96
  tmp___3 = rnd(y2);
#line 96
  tmp___4 = fixed(tmp___3);
#line 96
  tmp___5 = rnd(x2);
#line 96
  tmp___6 = fixed(tmp___5);
#line 96
  tmp___7 = rnd(y1___0);
#line 96
  tmp___8 = fixed(tmp___7);
#line 96
  tmp___9 = rnd(x1);
#line 96
  tmp___10 = fixed(tmp___9);
#line 96
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s %s %s %s %s %s rcurveto\n",
          tmp___10, tmp___8, tmp___6, tmp___4, tmp___2, tmp___0);
  }
#line 100
  return;
}
}
#line 108 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void set_thickness___0(unit t ) 
{ 
  uschar *tmp ;

  {
#line 111
  if (t != set_linewidth) {
#line 113
    if (t < minimum_thickness) {
#line 113
      t = minimum_thickness;
    }
    {
#line 114
    tmp = fixed(t);
#line 114
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s setlinewidth\n",
            (char *)tmp);
#line 115
    set_linewidth = t;
    }
  }
#line 117
  return;
}
}
#line 119 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void setcolour___0(colour c ) 
{ 
  uschar *tmp ;
  uschar *tmp___0 ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;

  {
#line 121
  if (c.red != set_colour___0.red) {
#line 121
    goto _L;
  } else
#line 121
  if (c.green != set_colour___0.green) {
#line 121
    goto _L;
  } else
#line 121
  if (c.blue != set_colour___0.blue) {
    _L: /* CIL Label */ 
#line 125
    if (c.red == c.green) {
#line 125
      if (c.green == c.blue) {
        {
#line 127
        tmp = fixed(c.red);
#line 127
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s setgray\n",
                tmp);
        }
      } else {
        {
#line 131
        tmp___0 = fixed(c.blue);
#line 131
        tmp___1 = fixed(c.green);
#line 131
        tmp___2 = fixed(c.red);
#line 131
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s %s %s setrgbcolor\n",
                tmp___2, tmp___1, tmp___0);
        }
      }
    } else {
      {
#line 131
      tmp___0 = fixed(c.blue);
#line 131
      tmp___1 = fixed(c.green);
#line 131
      tmp___2 = fixed(c.red);
#line 131
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%s %s %s setrgbcolor\n",
              tmp___2, tmp___1, tmp___0);
      }
    }
#line 134
    set_colour___0 = c;
  }
#line 136
  return;
}
}
#line 145 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void set_dash___0(unit dash1 , unit dash2 ) 
{ 
  uschar *tmp ;
  uschar *tmp___0 ;

  {
#line 148
  if (dash1 != set_linedash1) {
#line 148
    goto _L;
  } else
#line 148
  if (dash1 != 0) {
#line 148
    if (dash2 != set_linedash2) {
      _L: /* CIL Label */ 
#line 150
      if (dash1 == 0) {
        {
#line 151
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"[] 0 setdash\n");
        }
      } else {
        {
#line 153
        tmp = fixed(dash2);
#line 153
        tmp___0 = fixed(dash1);
#line 153
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"[%s %s] 0 setdash\n",
                (char *)tmp___0, (char *)tmp);
        }
      }
#line 154
      set_linedash1 = dash1;
#line 155
      set_linedash2 = dash2;
    }
  }
#line 157
  return;
}
}
#line 168 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void write_strings___1(item *p ) 
{ 
  stringchain *s ;
  unit x ;
  unit y ;
  uschar *ss ;
  int currentoffset ;
  int count ;
  int c ;
  int offset ;
  uschar *tmp ;
  int gcaa ;
  int gcss ;
  uschar *tmp___0 ;
  int tmp___1 ;
  int i ;
  u2sencod *bot ;
  u2sencod *mid ;
  u2sencod *top ;
  unsigned char *tmp___2 ;
  unsigned char *tmp___3 ;
  unit tmp___4 ;

  {
#line 171
  s = p->strings;
#line 174
  if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 174
    return;
  }
  {
#line 176
  stringpos(p, & x, & y);
  }
  {
#line 178
  while (1) {
    while_continue: /* CIL Label */ ;
#line 180
    ss = s->text;
#line 182
    if ((int )*ss != 0) {
      {
#line 184
      currentoffset = -1;
#line 185
      count = 0;
#line 187
      setcolour___0(s->rgb);
#line 188
      move___1(x + s->xadjust, y + s->yadjust);
      }
      {
#line 190
      while (1) {
        while_continue___0: /* CIL Label */ ;
#line 190
        if (! ((int )*ss != 0)) {
#line 190
          goto while_break___0;
        }
#line 193
        tmp = ss;
#line 193
        ss ++;
#line 193
        c = (int )*tmp;
#line 193
        if ((c & 192) == 192) {
#line 193
          gcaa = (int )utf8_table4[c & 63];
#line 193
          gcss = 6 * gcaa;
#line 193
          c = (c & (int )utf8_table3[gcaa]) << gcss;
          {
#line 193
          while (1) {
            while_continue___1: /* CIL Label */ ;
#line 193
            tmp___1 = gcaa;
#line 193
            gcaa --;
#line 193
            if (! (tmp___1 > 0)) {
#line 193
              goto while_break___1;
            }
#line 193
            gcss -= 6;
#line 193
            tmp___0 = ss;
#line 193
            ss ++;
#line 193
            c |= ((int )*tmp___0 & 63) << gcss;
          }
          while_break___1: /* CIL Label */ ;
          }
        }
#line 197
        if (c < 256) {
#line 197
          offset = 0;
        } else
#line 201
        if (c < 384) {
#line 201
          offset = 1;
#line 201
          c -= 256;
        } else {
#line 209
          i = 0;
          {
#line 209
          while (1) {
            while_continue___2: /* CIL Label */ ;
#line 209
            if (! (i < nonucount)) {
#line 209
              goto while_break___2;
            }
#line 211
            if (c == nonulist[i]) {
#line 213
              offset = 1;
#line 214
              c = i + 128;
#line 215
              goto while_break___2;
            }
#line 209
            i ++;
          }
          while_break___2: /* CIL Label */ ;
          }
#line 219
          if (i >= nonucount) {
#line 223
            bot = u2slist;
#line 224
            top = u2slist + u2scount;
            {
#line 225
            while (1) {
              while_continue___3: /* CIL Label */ ;
#line 225
              if (! ((unsigned long )top > (unsigned long )bot)) {
#line 225
                goto while_break___3;
              }
#line 227
              mid = bot + (top - bot) / 2L;
#line 228
              if (c == mid->ucode) {
#line 228
                goto while_break___3;
              }
#line 229
              if (mid->ucode < c) {
#line 229
                bot = mid + 1;
              } else {
#line 229
                top = mid;
              }
            }
            while_break___3: /* CIL Label */ ;
            }
#line 232
            if ((unsigned long )top > (unsigned long )bot) {
#line 234
              if (mid->which == 0) {
#line 234
                offset = 2;
              } else {
#line 234
                offset = 3;
              }
#line 235
              c = mid->scode;
            } else {
#line 239
              c = 164;
#line 240
              offset = 0;
            }
          }
        }
#line 247
        if (offset != currentoffset) {
#line 249
          if (currentoffset >= 0) {
            {
#line 249
            fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)") ");
            }
          }
          {
#line 250
          fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"f%d (",
                  4 * s->font + offset);
#line 251
          currentoffset = offset;
#line 252
          count ++;
          }
        }
#line 255
        if (c == 40) {
          {
#line 255
          fputc('\\', out_file);
          }
        } else
#line 255
        if (c == 41) {
          {
#line 255
          fputc('\\', out_file);
          }
        } else
#line 255
        if (c == 92) {
          {
#line 255
          fputc('\\', out_file);
          }
        }
#line 256
        if (c >= 32) {
#line 256
          if (c < 127) {
            {
#line 256
            fputc(c, out_file);
            }
          } else {
            {
#line 257
            fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\\%.03o",
                    c);
            }
          }
        } else {
          {
#line 257
          fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\\%.03o",
                  c);
          }
        }
      }
      while_break___0: /* CIL Label */ ;
      }
#line 260
      if (s->justify == 0) {
#line 260
        tmp___3 = (unsigned char *)"leftshow";
      } else {
#line 260
        if (s->justify == 1) {
#line 260
          tmp___2 = (unsigned char *)"rightshow";
        } else {
#line 260
          tmp___2 = (unsigned char *)"centreshow";
        }
#line 260
        tmp___3 = tmp___2;
      }
      {
#line 260
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)") %d %s\n",
              count, tmp___3);
      }
    }
#line 267
    s = s->next;
#line 268
    if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 268
      goto while_break;
    }
    {
#line 269
    tmp___4 = find_linedepth(p, s);
#line 269
    y -= tmp___4;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 271
  return;
}
}
#line 288 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void end_line_fillstroke___0(item *current ) 
{ 


  {
#line 291
  if (line_fill_colour___0.red != unfilled.red) {
    {
#line 293
    setcolour___0(line_fill_colour___0);
    }
#line 294
    if (strokepending___0) {
      {
#line 294
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"gsave fill grestore\n");
      }
    } else {
      {
#line 295
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"fill\n");
      }
    }
  }
#line 298
  if (strokepending___0) {
    {
#line 300
    setcolour___0(stroke_colour___0);
#line 301
    set_thickness___0(stroke_thickness___0);
#line 302
    set_dash___0(stroke_dash1___0, stroke_dash2___0);
#line 303
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"stroke\n");
    }
  }
  {
#line 306
  while (1) {
    while_continue: /* CIL Label */ ;
#line 306
    if ((unsigned long )pathstart___0 != (unsigned long )((void *)0)) {
#line 306
      if (! ((unsigned long )pathstart___0 != (unsigned long )current)) {
#line 306
        goto while_break;
      }
    } else {
#line 306
      goto while_break;
    }
    {
#line 308
    write_strings___1(pathstart___0);
#line 309
    pathstart___0 = pathstart___0->next;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 312
  line_fill_colour___0.red = unfilled.red;
#line 313
  fillpending___0 = 0;
#line 313
  strokepending___0 = fillpending___0;
#line 314
  pathstart___0 = (item *)((void *)0);
#line 315
  return;
}
}
#line 323 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void arrowhead___1(unit x , unit y , unit xx , unit yy , double angle , colour filled ) 
{ 
  double s ;
  double tmp ;
  double c ;
  double tmp___0 ;
  unit x1 ;
  unit y1___0 ;
  unit x2 ;
  unit y2 ;

  {
  {
#line 326
  tmp = sin(angle);
#line 326
  s = tmp;
#line 327
  tmp___0 = cos(angle);
#line 327
  c = tmp___0;
#line 329
  x1 = (unit )(((double )yy * s) * 0.5);
#line 330
  y1___0 = (unit )(((double )yy * c) * 0.5);
#line 331
  x2 = (unit )((double )xx * c);
#line 332
  y2 = (unit )((double )xx * s);
#line 334
  move___1(x, y);
#line 335
  rline___1(x1, - y1___0);
#line 336
  rline___1(x2 - x1, y2 + y1___0);
#line 337
  rline___1(- x2 - x1, y1___0 - y2);
#line 338
  rline___1(x1, - y1___0);
  }
#line 340
  if (filled.red != unfilled.red) {
    {
#line 342
    setcolour___0(filled);
#line 343
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"gsave fill grestore\n");
    }
  }
  {
#line 346
  set_thickness___0(400);
#line 347
  setcolour___0(stroke_colour___0);
#line 348
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"stroke\n");
  }
#line 349
  return;
}
}
#line 356 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void arc___1(unit clockwise , unit x , unit y , unit radius1 , unit radius2 ,
                    double angle1 , double angle2 ) 
{ 
  double tmp ;
  double tmp___0 ;

  {
#line 359
  if (! clockwise) {
    {
#line 361
    while (1) {
      while_continue: /* CIL Label */ ;
#line 361
      if (! (angle1 > angle2)) {
#line 361
        goto while_break;
      }
#line 361
      angle2 += 2.0 * pi;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 362
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 362
      if (! (angle2 - angle1 > 0.5 * pi)) {
#line 362
        goto while_break___0;
      }
      {
#line 364
      smallarc(radius1, radius2, angle1, angle1 + 0.49 * pi, & rbezier___1);
#line 365
      angle1 += 0.49 * pi;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  } else {
    {
#line 371
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 371
      if (! (angle1 < angle2)) {
#line 371
        goto while_break___1;
      }
#line 371
      angle2 -= 2.0 * pi;
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 372
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 372
      if (! (angle1 - angle2 > 0.5 * pi)) {
#line 372
        goto while_break___2;
      }
      {
#line 374
      smallarc(radius1, radius2, angle1, angle1 - 0.49 * pi, & rbezier___1);
#line 375
      angle1 -= 0.49 * pi;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
  }
  {
#line 379
  smallarc(radius1, radius2, angle1, angle2, & rbezier___1);
#line 381
  tmp = cos(angle2);
#line 381
  at_x___0 = x + (unit )((double )radius1 * tmp);
#line 382
  tmp___0 = sin(angle2);
#line 382
  at_y___0 = y + (unit )((double )radius2 * tmp___0);
  }
#line 383
  return;
}
}
#line 401 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void write_arc___1(item_arc *p , BOOL move_needed , unit startx , unit starty ) 
{ 
  double radius ;
  double angle1 ;
  double angle2 ;
  double tilt ;
  double tmp ;
  double angle ;
  double tmp___0 ;
  double tmp___1 ;
  double tmp___2 ;
  double angle___0 ;
  double tmp___3 ;
  double tmp___4 ;
  double tmp___5 ;

  {
#line 404
  radius = (double )p->radius;
#line 405
  angle1 = p->angle1;
#line 406
  angle2 = p->angle2;
#line 408
  if (fillpending___0) {
#line 410
    if (move_needed) {
      {
#line 410
      move___1(startx, starty);
      }
    }
    {
#line 411
    arc___1(p->cw, p->x, p->y, p->radius, p->radius, angle1, angle2);
    }
#line 412
    return;
  }
#line 417
  if (p->style == 1) {
    {
#line 419
    write_strings___1((item *)p);
    }
#line 420
    return;
  }
#line 425
  if (move_needed) {
    {
#line 425
    move___1(startx, starty);
    }
  }
  {
#line 426
  arc___1(p->cw, p->x, p->y, p->radius, p->radius, angle1, angle2);
  }
#line 431
  if (p->arrow_start) {
#line 431
    goto _L;
  } else
#line 431
  if (p->arrow_end) {
    _L: /* CIL Label */ 
    {
#line 433
    tmp = asin((double )p->arrow_x / (2.0 * radius));
#line 433
    tilt = tmp;
#line 435
    end_line_fillstroke___0(p->next);
#line 436
    set_dash___0(0, 0);
    }
#line 438
    if (p->arrow_start) {
#line 440
      if (p->cw) {
#line 440
        tmp___0 = (angle1 + pi / 2.0) + tilt;
      } else {
#line 440
        tmp___0 = (angle1 - pi / 2.0) - tilt;
      }
      {
#line 440
      angle = tmp___0;
#line 441
      tmp___1 = sin(angle1);
#line 441
      tmp___2 = cos(angle1);
#line 441
      arrowhead___1(p->x + (unit )(radius * tmp___2), p->y + (unit )(radius * tmp___1),
                    p->arrow_x, p->arrow_y, angle, p->arrow_filled);
      }
    }
#line 445
    if (p->arrow_end) {
#line 447
      if (p->cw) {
#line 447
        tmp___3 = (angle2 - pi / 2.0) - tilt;
      } else {
#line 447
        tmp___3 = (angle2 + pi / 2.0) + tilt;
      }
      {
#line 447
      angle___0 = tmp___3;
#line 448
      tmp___4 = sin(angle2);
#line 448
      tmp___5 = cos(angle2);
#line 448
      arrowhead___1(p->x + (unit )(radius * tmp___5), p->y + (unit )(radius * tmp___4),
                    p->arrow_x, p->arrow_y, angle___0, p->arrow_filled);
      }
    }
  }
#line 452
  return;
}
}
#line 460 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void write_box___1(item_box *p ) 
{ 
  unit x ;
  unit y ;
  unit width ;
  unit depth ;
  BOOL tmp ;
  BOOL tmp___0 ;

  {
#line 464
  x = p->x;
#line 465
  y = p->y;
#line 466
  width = p->width;
#line 467
  depth = p->depth;
#line 471
  if (p->style == 1) {
    {
#line 471
    tmp = samecolour(p->shapefilled, unfilled);
    }
#line 471
    if (tmp) {
      {
#line 473
      write_strings___1((item *)p);
      }
#line 474
      return;
    }
  }
#line 477
  if (p->boxtype == 0) {
    {
#line 479
    move___1(x - width / 2, y - depth / 2);
#line 480
    rline___1(width, 0);
#line 481
    rline___1(0, depth);
#line 482
    rline___1(- width, 0);
    }
  } else {
    {
#line 486
    move___1(x + width / 2, y);
#line 487
    arc___1(0, x, y, width / 2, depth / 2, 0.0, 2.0 * pi);
    }
  }
  {
#line 490
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"closepath\n");
#line 492
  tmp___0 = samecolour(p->shapefilled, unfilled);
  }
#line 492
  if (! tmp___0) {
#line 494
    if (p->style != 1) {
      {
#line 494
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"gsave ");
      }
    }
    {
#line 495
    setcolour___0(p->shapefilled);
#line 496
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"fill");
    }
#line 497
    if (p->style != 1) {
      {
#line 497
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)" grestore");
      }
    }
    {
#line 498
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"\n");
    }
  }
#line 501
  if (p->style != 1) {
    {
#line 503
    set_thickness___0(p->thickness);
#line 504
    set_dash___0(p->dash1, p->dash2);
#line 505
    setcolour___0(p->colour);
#line 506
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"stroke\n");
    }
  }
  {
#line 509
  write_strings___1((item *)p);
  }
#line 510
  return;
}
}
#line 518 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
static void write_line___1(item_line *p , BOOL move_needed ) 
{ 
  double angle ;
  unit x1 ;
  unit y1___0 ;
  unit xw ;
  unit yd ;
  unit xx ;
  unit yy ;
  double tmp ;
  double tmp___0 ;

  {
#line 521
  angle = 0.0;
#line 522
  x1 = p->x;
#line 522
  y1___0 = p->y;
#line 523
  xw = p->width;
#line 523
  yd = p->depth;
#line 524
  xx = 0;
#line 524
  yy = 0;
#line 529
  if (fillpending___0) {
#line 531
    if (move_needed) {
      {
#line 531
      move___1(x1, y1___0);
      }
    }
    {
#line 532
    rline___1(xw, yd);
#line 533
    at_x___0 = x1 + xw;
#line 534
    at_y___0 = y1___0 + yd;
    }
#line 535
    return;
  }
#line 543
  if (p->style == 1) {
    {
#line 545
    write_strings___1((item *)p);
    }
#line 546
    return;
  }
#line 551
  if (p->arrow_start) {
    {
#line 553
    angle = atan2((double )p->depth, (double )p->width);
#line 554
    tmp = cos(angle);
#line 554
    xx = (unit )((double )p->arrow_x * tmp);
#line 555
    tmp___0 = sin(angle);
#line 555
    yy = (unit )((double )p->arrow_x * tmp___0);
    }
  } else
#line 551
  if (p->arrow_end) {
    {
#line 553
    angle = atan2((double )p->depth, (double )p->width);
#line 554
    tmp = cos(angle);
#line 554
    xx = (unit )((double )p->arrow_x * tmp);
#line 555
    tmp___0 = sin(angle);
#line 555
    yy = (unit )((double )p->arrow_x * tmp___0);
    }
  }
#line 561
  if (p->arrow_start) {
#line 563
    x1 += xx;
#line 564
    y1___0 += yy;
#line 565
    xw -= xx;
#line 566
    yd -= yy;
  }
#line 569
  if (p->arrow_end) {
#line 571
    xw -= xx;
#line 572
    yd -= yy;
  }
#line 577
  if (move_needed) {
    {
#line 577
    move___1(x1, y1___0);
    }
  }
  {
#line 578
  rline___1(xw, yd);
#line 579
  at_x___0 = x1 + xw;
#line 580
  at_y___0 = y1___0 + yd;
  }
#line 585
  if (p->arrow_start) {
    {
#line 587
    end_line_fillstroke___0(p->next);
#line 588
    set_dash___0(0, 0);
#line 589
    arrowhead___1(x1, y1___0, p->arrow_x, p->arrow_y, angle + pi, p->arrow_filled);
    }
  }
#line 592
  if (p->arrow_end) {
    {
#line 594
    end_line_fillstroke___0(p->next);
#line 595
    set_dash___0(0, 0);
#line 596
    arrowhead___1(x1 + xw, y1___0 + yd, p->arrow_x, p->arrow_y, angle, p->arrow_filled);
    }
  }
#line 598
  return;
}
}
#line 612 "/home/june/collector/temp/aspic-1.05/src/wrps.c"
void write_ps(void) 
{ 
  int level ;
  tree_node *tn ;
  bindfont *b ;
  char const   *tmp ;
  uschar *tmp___0 ;
  uschar *tmp___1 ;
  uschar *tmp___2 ;
  uschar *tmp___3 ;
  uschar *tmp___4 ;
  unit width ;
  unit depth ;
  item *p ;
  BOOL restart ;
  BOOL move_needed ;
  unit startx ;
  unit starty ;
  item_arc *ppa ;
  item_line *ppl ;
  double tmp___5 ;
  double tmp___6 ;
  BOOL tmp___7 ;
  BOOL tmp___8 ;
  BOOL tmp___9 ;
  BOOL tmp___10 ;

  {
  {
#line 619
  set_colour___0 = black;
#line 620
  line_fill_colour___0 = unfilled;
#line 621
  strokepending___0 = 0;
#line 622
  fillpending___0 = 0;
#line 623
  pathstart___0 = (item *)((void *)0);
#line 624
  at_y___0 = 0;
#line 624
  at_x___0 = at_y___0;
#line 628
  find_bbox(bbox___1);
#line 632
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%%!PS-Adobe-2.0 EPSF-2.0\n");
#line 633
  tn = tree_search(varroot, (unsigned char *)"title");
#line 634
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%%%%Title: %s\n",
          tn->value);
#line 635
  tn = tree_search(varroot, (unsigned char *)"creator");
  }
#line 636
  if (testing) {
#line 636
    tmp = "";
  } else {
#line 636
    tmp = "1.05 (04-March-2008)";
  }
  {
#line 636
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%%%%Creator: %s, using Aspic %s\n",
          tn->value, tmp);
#line 638
  tn = tree_search(varroot, (unsigned char *)"date");
#line 639
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%%%%CreationDate: %s\n",
          tn->value);
#line 640
  tmp___0 = fixed(bbox___1[3] - bbox___1[1]);
#line 640
  tmp___1 = fixed(bbox___1[2] - bbox___1[0]);
#line 640
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%%%%BoundingBox: 0 0 %s %s\n",
          tmp___1, tmp___0);
#line 643
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"%%%%EndComments\n\n");
#line 650
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/mymove{\n{currentpoint} stopped {moveto}{\n  exch 4 1 roll sub 3 1 roll exch sub\n  dup abs 0.01 lt 3 -1 roll dup abs 0.01 lt\n  3 -1 roll and {pop pop}{rmoveto} ifelse\n  } ifelse\n}def\n");
  }
#line 670
  if (strings_exist) {
    {
#line 675
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/leftshow{dup add /r exch def\n{r 2 gt\n{r -2 roll exch setfont show /r r 2 sub def}\n{exch setfont show exit}\nifelse}loop}bind def\n/findwidth{dup 2 mul 1 add copy /w 0 def\n1 exch 1 exch\n{pop exch setfont stringwidth pop w add /w exch def}for}bind def\n/centreshow{findwidth w 2 div neg 0 rmoveto leftshow}bind def\n/rightshow{findwidth w neg 0 rmoveto leftshow}bind def\n");
#line 689
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/LowerEncoding 256 array def\nLowerEncoding 0 [\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/space/exclam/quotedbl/numbersign\n/dollar/percent/ampersand/quotesingle\n/parenleft/parenright/asterisk/plus\n/comma/hyphen/period/slash\n/zero/one/two/three\n/four/five/six/seven\n/eight/nine/colon/semicolon\n/less/equal/greater/question\n/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O\n/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft\n/backslash/bracketright/asciicircum/underscore\n/grave/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o\n/p/q/r/s/t/u/v/w/x/y/z/braceleft\n/bar/braceright/asciitilde/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/currency/currency/currency/currency\n/space/exclamdown/cent/sterling\n/currency/yen/brokenbar/section\n/dieresis/copyright/ordfeminine/guillemotleft\n/logicalnot/hyphen/registered/macron\n/degree/plusminus/twosuperior/threesuperior\n/acute/mu/paragraph/bullet\n/cedilla/onesuperior/ordmasculine/guillemotright\n/onequarter/onehalf/threequarters/questiondown\n/Agrave/Aacute/Acircumflex/Atilde\n/Adieresis/Aring/AE/Ccedilla\n/Egrave/Eacute/Ecircumflex/Edieresis\n/Igrave/Iacute/Icircumflex/Idieresis\n/Eth/Ntilde/Ograve/Oacute\n/Ocircumflex/Otilde/Odieresis/multiply\n/Oslash/Ugrave/Uacute/Ucircumflex\n/Udieresis/Yacute/Thorn/germandbls\n/agrave/aacute/acircumflex/atilde\n/adieresis/aring/ae/ccedilla\n/egrave/eacute/ecircumflex/edieresis\n/igrave/iacute/icircumflex/idieresis\n/eth/ntilde/ograve/oacute\n/ocircumflex/otilde/odieresis/divide\n/oslash/ugrave/uacute/ucircumflex\n/udieresis/yacute/thorn/ydieresis\n]putinterval\n");
#line 748
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/UpperEncoding 256 array def\nUpperEncoding 0 [\n/Amacron/amacron/Abreve/abreve\n/Aogonek/aogonek/Cacute/cacute\n/currency/currency/currency/currency\n/Ccaron/ccaron/Dcaron/dcaron\n/Dcroat/dcroat/Emacron/emacron\n/currency/currency/Edotaccent/edotaccent\n/Eogonek/eogonek/Ecaron/ecaron\n/currency/currency/Gbreve/gbreve\n/currency/currency/Gcommaaccent/gcommaaccent\n/currency/currency/currency/currency\n/currency/currency/Imacron/imacron\n/currency/currency/Iogonek/iogonek\n/Idotaccent/dotlessi/currency/currency\n/currency/currency/Kcommaaccent/kcommaaccent\n/currency/Lacute/lacute/Lcommaaccent\n/lcommaaccent/Lcaron/lcaron/currency\n/currency/Lslash/lslash/Nacute\n/nacute/Ncommaaccent/ncommaaccent/Ncaron\n/ncaron/currency/currency/currency\n/Omacron/omacron/currency/currency\n/Ohungarumlaut/ohungarumlaut/OE/oe\n/Racute/racute/Rcommaaccent/rcommaaccent\n/Rcaron/rcaron/Sacute/sacute\n/currency/currency/Scedilla/scedilla\n/Scaron/scaron/currency/currency\n/Tcaron/tcaron/currency/currency\n/currency/currency/Umacron/umacron\n/currency/currency/Uring/uring\n/Uhungarumlaut/uhungarumlaut/Uogonek/uogonek\n/currency/currency/currency/currency\n/Ydieresis/Zacute/zacute/Zdotaccent\n/zdotaccent/Zcaron/zcaron/currency\n/Delta/Euro/Scommaaccent/Tcommaaccent\n/breve/caron/circumflex/commaaccent\n/dagger/daggerdbl/dotaccent/ellipsis\n/emdash/endash/fi/fl\n/florin/fraction/greaterequal/guilsinglleft\n/guilsinglright/hungarumlaut/lessequal/lozenge\n/minus/notequal/ogonek/partialdiff\n/periodcentered/perthousand/quotedblbase/quotedblleft\n/quotedblright/quoteleft/quoteright/quotesinglbase\n/radical/ring/scommaaccent/summation\n/tcommaaccent/tilde/trademark\n]putinterval\n");
#line 807
    fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/myfindfont{dup dup findfont 3 1 roll FontDirectory exch known {pop}\n{(**** Font \")print\n100 string cvs print (\" is not loaded ****\\r\\n)print stop}ifelse}\nbind def\n/bindspecialfont{exch myfindfont exch scalefont def}bind def\n/bindstdfont{exch myfindfont exch scalefont\ndup dup/Encoding get StandardEncoding eq\n{maxlength dup dict/newfont0 exch def dict/newfont1 exch def\ndup\n{1 index/FID eq{pop pop}{newfont0 3 1 roll put}ifelse}forall\n{1 index/FID eq{pop pop}{newfont1 3 1 roll put}ifelse}forall\nnewfont1/Encoding UpperEncoding put dup newfont1 definefont def\nnewfont0/Encoding LowerEncoding put dup newfont0 definefont def\n}\n{3 1 roll def def}ifelse\n}bind def\n");
#line 827
    b = font_base;
    }
    {
#line 827
    while (1) {
      while_continue: /* CIL Label */ ;
#line 827
      if (! ((unsigned long )b != (unsigned long )((void *)0))) {
#line 827
        goto while_break;
      }
      {
#line 829
      tmp___2 = fixed(b->size);
#line 829
      fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/f%d /f%d /%s %s bindstdfont\n",
              4 * b->number, 4 * b->number + 1, b->name, tmp___2);
      }
#line 831
      if (b->needSymbol) {
        {
#line 832
        tmp___3 = fixed(b->size);
#line 832
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/f%d /%s %s bindspecialfont\n",
                4 * b->number + 2, "Symbol", tmp___3);
        }
      }
#line 834
      if (b->needDingbats) {
        {
#line 835
        tmp___4 = fixed(b->size);
#line 835
        fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"/f%d /%s %s bindspecialfont\n",
                4 * b->number + 3, "ZapfDingbats", tmp___4);
        }
      }
#line 827
      b = b->next;
    }
    while_break: /* CIL Label */ ;
    }
  }
#line 842
  if (drawbboxthickness > 0) {
    {
#line 844
    width = bbox___1[2] - bbox___1[0];
#line 845
    depth = bbox___1[3] - bbox___1[1];
#line 847
    move___1(bbox___1[0], bbox___1[1]);
#line 848
    set_thickness___0(drawbboxthickness);
#line 849
    setcolour___0(drawbboxcolour);
#line 850
    rline___1(width, 0);
#line 851
    rline___1(0, depth);
#line 852
    rline___1(- width, 0);
#line 853
    rline___1(0, - depth);
    }
  }
#line 858
  level = min_level;
  {
#line 858
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 858
    if (! (level <= max_level)) {
#line 858
      goto while_break___0;
    }
#line 862
    p = main_item_base;
    {
#line 862
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 862
      if (! ((unsigned long )p != (unsigned long )((void *)0))) {
#line 862
        goto while_break___1;
      }
#line 864
      restart = 0;
#line 865
      move_needed = 0;
#line 866
      startx = 0;
#line 866
      starty = 0;
#line 870
      if (p->level == level) {
        {
#line 872
        if (p->type == 0) {
#line 872
          goto case_0;
        }
#line 879
        if (p->type == 2) {
#line 879
          goto case_2;
        }
#line 952
        if (p->type == 1) {
#line 952
          goto case_1;
        }
#line 957
        if (p->type == 3) {
#line 957
          goto case_3;
        }
#line 963
        if (p->type == 5) {
#line 963
          goto case_5;
        }
#line 963
        if (p->type == 4) {
#line 963
          goto case_5;
        }
#line 870
        goto switch_break;
        case_0: /* CIL Label */ 
#line 873
        ppa = (item_arc *)p;
#line 874
        if (ppa->arrow_start) {
#line 874
          restart = 1;
        }
        {
#line 875
        tmp___5 = cos(ppa->angle1);
#line 875
        startx = p->x + (unit )((double )ppa->radius * tmp___5);
#line 876
        tmp___6 = sin(ppa->angle1);
#line 876
        starty = p->y + (unit )((double )ppa->radius * tmp___6);
        }
#line 877
        goto ARCLINE;
        case_2: /* CIL Label */ 
#line 880
        ppl = (item_line *)p;
#line 881
        if (ppl->arrow_start) {
#line 881
          restart = 1;
        }
#line 882
        startx = p->x;
#line 883
        starty = p->y;
        ARCLINE: 
#line 889
        if (startx != at_x___0) {
#line 889
          restart = 1;
        } else
#line 889
        if (starty != at_y___0) {
#line 889
          restart = 1;
        }
#line 894
        if (fillpending___0) {
          {
#line 896
          tmp___7 = samecolour(p->shapefilled, line_fill_colour___0);
          }
#line 896
          if (! tmp___7) {
#line 896
            restart = 1;
          }
        } else {
          {
#line 900
          tmp___8 = samecolour(p->shapefilled, unfilled);
          }
#line 900
          if (! tmp___8) {
#line 900
            restart = 1;
          }
        }
#line 903
        if (strokepending___0) {
          {
#line 905
          tmp___9 = samecolour(p->colour, stroke_colour___0);
          }
#line 905
          if (tmp___9) {
#line 905
            if (p->style == 1) {
#line 910
              restart = 1;
            } else
#line 905
            if (stroke_thickness___0 != p->thickness) {
#line 910
              restart = 1;
            } else
#line 905
            if (stroke_dash1___0 != p->dash1) {
#line 910
              restart = 1;
            } else
#line 905
            if (stroke_dash2___0 != p->dash2) {
#line 910
              restart = 1;
            }
          } else {
#line 910
            restart = 1;
          }
        } else
#line 914
        if (p->style != 1) {
#line 914
          restart = 1;
        }
#line 919
        if (restart) {
          {
#line 919
          end_line_fillstroke___0(p);
          }
        }
#line 923
        if (! strokepending___0) {
#line 923
          if (p->style != 1) {
#line 925
            stroke_thickness___0 = p->thickness;
#line 926
            stroke_dash1___0 = p->dash1;
#line 927
            stroke_dash2___0 = p->dash2;
#line 928
            stroke_colour___0 = p->colour;
#line 929
            strokepending___0 = 1;
#line 930
            pathstart___0 = p;
#line 931
            move_needed = 1;
          }
        }
#line 936
        if (! fillpending___0) {
          {
#line 936
          tmp___10 = samecolour(p->shapefilled, unfilled);
          }
#line 936
          if (! tmp___10) {
#line 938
            line_fill_colour___0 = p->shapefilled;
#line 939
            fillpending___0 = 1;
#line 940
            pathstart___0 = p;
#line 941
            move_needed = 1;
          }
        }
#line 946
        if (p->type == 0) {
          {
#line 947
          write_arc___1((item_arc *)p, move_needed, startx, starty);
          }
        } else {
          {
#line 949
          write_line___1((item_line *)p, move_needed);
          }
        }
#line 950
        goto switch_break;
        case_1: /* CIL Label */ 
        {
#line 953
        end_line_fillstroke___0(p);
#line 954
        write_box___1((item_box *)p);
        }
#line 955
        goto switch_break;
        case_3: /* CIL Label */ 
        {
#line 958
        end_line_fillstroke___0(p);
#line 959
        write_strings___1(p);
        }
#line 960
        goto switch_break;
        case_5: /* CIL Label */ 
        case_4: /* CIL Label */ 
        {
#line 964
        end_line_fillstroke___0(p);
        }
#line 965
        goto switch_break;
        switch_break: /* CIL Label */ ;
        }
      } else {
        {
#line 970
        end_line_fillstroke___0(p);
        }
      }
#line 862
      p = p->next;
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 973
    end_line_fillstroke___0((item *)((void *)0));
#line 858
    level ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 978
  fprintf((FILE */* __restrict  */)out_file, (char const   */* __restrict  */)"showpage\n");
  }
#line 979
  return;
}
}
