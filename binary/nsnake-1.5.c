/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 140 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __useconds_t;
#line 150 "/usr/include/curses.h"
typedef unsigned long chtype;
#line 358
struct _win_st;
#line 358 "/usr/include/curses.h"
typedef struct _win_st WINDOW;
#line 360 "/usr/include/curses.h"
typedef chtype attr_t;
#line 405
struct ldat;
#line 407 "/usr/include/curses.h"
struct pdat {
   short _pad_y ;
   short _pad_x ;
   short _pad_top ;
   short _pad_left ;
   short _pad_bottom ;
   short _pad_right ;
};
#line 407 "/usr/include/curses.h"
struct _win_st {
   short _cury ;
   short _curx ;
   short _maxy ;
   short _maxx ;
   short _begy ;
   short _begx ;
   short _flags ;
   attr_t _attrs ;
   chtype _bkgd ;
   _Bool _notimeout ;
   _Bool _clear ;
   _Bool _leaveok ;
   _Bool _scroll ;
   _Bool _idlok ;
   _Bool _idcok ;
   _Bool _immed ;
   _Bool _sync ;
   _Bool _use_keypad ;
   int _delay ;
   struct ldat *_line ;
   short _regtop ;
   short _regbottom ;
   int _parx ;
   int _pary ;
   WINDOW *_parent ;
   struct pdat _pad ;
   short _yoffset ;
};
#line 46 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.h"
struct screen_t {
   int width ;
   int height ;
   int delay ;
};
#line 39 "/home/wheatley/newnew/temp/nsnake-1.5/src/fruit.h"
struct fruit_t {
   int x ;
   int y ;
   int bonus ;
};
#line 43 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.h"
enum __anonenum_states_29 {
    MAIN_MENU = 0,
    GAME_INIT = 1,
    GAME = 2,
    PAUSED = 3,
    GAME_OVER = 4,
    EXIT = 5
} ;
#line 43 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.h"
typedef enum __anonenum_states_29 states;
#line 51
enum __anonenum_modes_30 {
    FREE_MODE = 0,
    BORDERS_ON = 1,
    BORDERS_OFF = 2
} ;
#line 51 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.h"
typedef enum __anonenum_modes_30 modes;
#line 55 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.h"
struct game_t {
   modes mode ;
   int level ;
   states state ;
   int cant_open_hscore_file ;
};
#line 38 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.h"
struct player_pieces {
   int x ;
   int y ;
};
#line 56 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.h"
struct player_t {
   int is_alive ;
   int speed ;
   int size ;
   int score ;
   int direction ;
   struct player_pieces *body ;
};
#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 124 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __dev_t;
#line 125 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __uid_t;
#line 126 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __gid_t;
#line 127 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __ino_t;
#line 129 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __mode_t;
#line 130 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __nlink_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 139 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 153 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blksize_t;
#line 158 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blkcnt_t;
#line 175 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __syscall_slong_t;
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 120 "/usr/include/time.h"
struct timespec {
   __time_t tv_sec ;
   __syscall_slong_t tv_nsec ;
};
#line 46 "/usr/include/x86_64-linux-gnu/bits/stat.h"
struct stat {
   __dev_t st_dev ;
   __ino_t st_ino ;
   __nlink_t st_nlink ;
   __mode_t st_mode ;
   __uid_t st_uid ;
   __gid_t st_gid ;
   int __pad0 ;
   __dev_t st_rdev ;
   __off_t st_size ;
   __blksize_t st_blksize ;
   __blkcnt_t st_blocks ;
   struct timespec st_atim ;
   struct timespec st_mtim ;
   struct timespec st_ctim ;
   __syscall_slong_t __glibc_reserved[3] ;
};
#line 104 "/usr/include/getopt.h"
struct option {
   char const   *name ;
   int has_arg ;
   int *flag ;
   int val ;
};
#line 75 "/usr/include/time.h"
typedef __time_t time_t;
#line 460 "/usr/include/unistd.h"
extern int usleep(__useconds_t __useconds ) ;
#line 597 "/usr/include/curses.h"
extern int curs_set(int  ) ;
#line 611
extern int endwin(void) ;
#line 622
extern _Bool has_colors(void) ;
#line 632
extern WINDOW *initscr(void) ;
#line 634
extern int init_pair(short  , short  , short  ) ;
#line 647
extern int keypad(WINDOW * , _Bool  ) ;
#line 674
extern int mvprintw(int  , int  , char const   *  , ...) ;
#line 710
extern int nodelay(WINDOW * , _Bool  ) ;
#line 711
extern int noecho(void) ;
#line 727
extern int raw(void) ;
#line 764
extern int start_color(void) ;
#line 785
extern int waddch(WINDOW * , chtype const    ) ;
#line 788
extern int waddnstr(WINDOW * , char const   * , int  ) ;
#line 794
extern int wattr_on(WINDOW * , attr_t  , void * ) ;
#line 801
extern int wclear(WINDOW * ) ;
#line 809
extern int werase(WINDOW * ) ;
#line 810
extern int wgetch(WINDOW * ) ;
#line 824
extern int wmove(WINDOW * , int  , int  ) ;
#line 829
extern int wrefresh(WINDOW * ) ;
#line 899
extern int use_default_colors(void) ;
#line 1386
extern WINDOW *stdscr ;
#line 55 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.h"
struct screen_t screen  ;
#line 58
void draw_background(void) ;
#line 59
void draw_borders(void) ;
#line 60
void draw_fruit(void) ;
#line 61
void draw_fruit_bonus(void) ;
#line 62
void draw_player(void) ;
#line 63
void draw_score(void) ;
#line 65
void engine_exit(void) ;
#line 66
void engine_init(void) ;
#line 67
void engine_show_game_over(void) ;
#line 68
void engine_show_main_menu(void) ;
#line 69
void engine_show_pause(void) ;
#line 70
void engine_show_screen(void) ;
#line 72
int get_main_menu_input(int *speed_cur_option ) ;
#line 73
int engine_get_game_input(void) ;
#line 74
void engine_clean_game_over(void) ;
#line 75
void engine_clean_pause(void) ;
#line 77
void start_atrribute(int attr ) ;
#line 49 "/home/wheatley/newnew/temp/nsnake-1.5/src/fruit.h"
struct fruit_t fruit ;
#line 64 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.h"
struct game_t game ;
#line 68
void nsnake_abort(char *error_msg ) ;
#line 69
void nsnake_exit(void) ;
#line 69 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.h"
struct player_t snake ;
#line 34 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.h"
int HIGH_SCORE_BORDERS ;
#line 36
int HIGH_SCORE_BORDERS_OFF ;
#line 66 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
static char PLAYER_HEAD_CHAR  =    (char )'@';
#line 67 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
static char PLAYER_CHAR  =    (char )'o';
#line 68 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
static char FRUIT_CHAR  =    (char )'$';
#line 69 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
static char BORDER_CHAR  =    (char )'#';
#line 70 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
static char NO_BORDER_CHAR  =    (char )'.';
#line 71 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
static char MENU_BORDER_CHAR  =    (char )'*';
#line 87 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void draw_background(void) 
{ 


  {
  {
#line 90
  werase(stdscr);
  }
#line 91
  return;
}
}
#line 96 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void draw_borders(void) 
{ 
  int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
  {
#line 100
  start_atrribute((int )(4UL << 8));
  }
#line 101
  if ((unsigned int )game.mode == 1U) {
#line 103
    i = 0;
    {
#line 103
    while (1) {
      while_continue: /* CIL Label */ ;
#line 103
      if (! (i <= screen.width - 1)) {
#line 103
        goto while_break;
      }
      {
#line 105
      tmp = wmove(stdscr, 1, i);
      }
#line 105
      if (! (tmp == -1)) {
        {
#line 105
        waddch(stdscr, (chtype const   )BORDER_CHAR);
        }
      }
      {
#line 106
      tmp___0 = wmove(stdscr, screen.height - 1, i);
      }
#line 106
      if (! (tmp___0 == -1)) {
        {
#line 106
        waddch(stdscr, (chtype const   )BORDER_CHAR);
        }
      }
#line 103
      i ++;
    }
    while_break: /* CIL Label */ ;
    }
#line 108
    i = 1;
    {
#line 108
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 108
      if (! (i <= screen.height - 1)) {
#line 108
        goto while_break___0;
      }
      {
#line 110
      tmp___1 = wmove(stdscr, i, 0);
      }
#line 110
      if (! (tmp___1 == -1)) {
        {
#line 110
        waddch(stdscr, (chtype const   )BORDER_CHAR);
        }
      }
      {
#line 111
      tmp___2 = wmove(stdscr, i, screen.width - 1);
      }
#line 111
      if (! (tmp___2 == -1)) {
        {
#line 111
        waddch(stdscr, (chtype const   )BORDER_CHAR);
        }
      }
#line 108
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  } else
#line 114
  if ((unsigned int )game.mode == 2U) {
#line 116
    i = 0;
    {
#line 116
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 116
      if (! (i <= screen.width - 1)) {
#line 116
        goto while_break___1;
      }
      {
#line 118
      tmp___3 = wmove(stdscr, 1, i);
      }
#line 118
      if (! (tmp___3 == -1)) {
        {
#line 118
        waddch(stdscr, (chtype const   )NO_BORDER_CHAR);
        }
      }
      {
#line 119
      tmp___4 = wmove(stdscr, screen.height - 1, i);
      }
#line 119
      if (! (tmp___4 == -1)) {
        {
#line 119
        waddch(stdscr, (chtype const   )NO_BORDER_CHAR);
        }
      }
#line 116
      i ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 121
    i = 1;
    {
#line 121
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 121
      if (! (i <= screen.height - 1)) {
#line 121
        goto while_break___2;
      }
      {
#line 123
      tmp___5 = wmove(stdscr, i, 0);
      }
#line 123
      if (! (tmp___5 == -1)) {
        {
#line 123
        waddch(stdscr, (chtype const   )NO_BORDER_CHAR);
        }
      }
      {
#line 124
      tmp___6 = wmove(stdscr, i, screen.width - 1);
      }
#line 124
      if (! (tmp___6 == -1)) {
        {
#line 124
        waddch(stdscr, (chtype const   )NO_BORDER_CHAR);
        }
      }
#line 121
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
  }
#line 127
  return;
}
}
#line 132 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void draw_fruit(void) 
{ 
  int tmp ;

  {
  {
#line 134
  start_atrribute((int )(2UL << 8));
#line 135
  tmp = wmove(stdscr, fruit.y, fruit.x);
  }
#line 135
  if (! (tmp == -1)) {
    {
#line 135
    waddch(stdscr, (chtype const   )FRUIT_CHAR);
    }
  }
#line 136
  return;
}
}
#line 141 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void draw_fruit_bonus(void) 
{ 


  {
  {
#line 143
  start_atrribute((int )(4UL << 8));
#line 144
  mvprintw(0, (screen.width - 1) / 2, "Bonus: %d", fruit.bonus);
  }
#line 145
  return;
}
}
#line 150 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void draw_player(void) 
{ 
  int tmp ;
  int i ;
  int tmp___0 ;

  {
  {
#line 152
  start_atrribute((int )(5UL << 8));
#line 153
  tmp = wmove(stdscr, (snake.body + 0)->y, (snake.body + 0)->x);
  }
#line 153
  if (! (tmp == -1)) {
    {
#line 153
    waddch(stdscr, (chtype const   )PLAYER_HEAD_CHAR);
    }
  }
#line 156
  i = 1;
  {
#line 156
  while (1) {
    while_continue: /* CIL Label */ ;
#line 156
    if (! (i < snake.size)) {
#line 156
      goto while_break;
    }
    {
#line 157
    tmp___0 = wmove(stdscr, (snake.body + i)->y, (snake.body + i)->x);
    }
#line 157
    if (! (tmp___0 == -1)) {
      {
#line 157
      waddch(stdscr, (chtype const   )PLAYER_CHAR);
      }
    }
#line 156
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 158
  return;
}
}
#line 163 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void draw_score(void) 
{ 


  {
  {
#line 165
  start_atrribute((int )(2UL << 8));
#line 166
  mvprintw(0, 0, "nSnake v");
#line 167
  mvprintw(0, 9, "1.5");
#line 169
  start_atrribute((int )(4UL << 8));
#line 170
  mvprintw(0, 17, "Lv%d", game.level);
#line 171
  mvprintw(0, 23, "Score: %d", snake.score);
  }
#line 173
  if ((unsigned int )game.mode == 1U) {
    {
#line 174
    mvprintw(0, 60, "High Score: %d", HIGH_SCORE_BORDERS);
    }
  } else
#line 175
  if ((unsigned int )game.mode == 2U) {
    {
#line 176
    mvprintw(0, 60, "High Score: %d", HIGH_SCORE_BORDERS_OFF);
    }
  }
#line 177
  return;
}
}
#line 182 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_exit(void) 
{ 


  {
  {
#line 185
  werase(stdscr);
#line 186
  wrefresh(stdscr);
#line 188
  endwin();
  }
#line 189
  return;
}
}
#line 194 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
int engine_get_game_input(void) 
{ 
  int tmp ;

  {
  {
#line 197
  tmp = wgetch(stdscr);
  }
#line 197
  return (tmp);
}
}
#line 205 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_init(void) 
{ 
  int bg_color ;
  int tmp ;
  _Bool tmp___0 ;
  int current_height ;
  int current_width ;

  {
  {
#line 207
  screen.width = 80;
#line 208
  screen.height = 24;
#line 210
  initscr();
#line 212
  tmp___0 = has_colors();
  }
#line 212
  if ((int )tmp___0 == 1) {
    {
#line 216
    start_color();
#line 219
    tmp = use_default_colors();
    }
#line 219
    if (tmp == -1) {
#line 220
      bg_color = 0;
    } else {
#line 222
      bg_color = -1;
    }
    {
#line 225
    init_pair((short)5, (short)2, (short )bg_color);
#line 226
    init_pair((short)2, (short)6, (short )bg_color);
#line 227
    init_pair((short)4, (short)7, (short )bg_color);
#line 228
    init_pair((short)6, (short)1, (short )bg_color);
#line 229
    init_pair((short)3, (short)4, (short )bg_color);
#line 230
    init_pair((short)1, (short)0, (short )bg_color);
    }
  }
#line 235
  if (stdscr) {
#line 235
    current_height = (int )stdscr->_maxy + 1;
  } else {
#line 235
    current_height = -1;
  }
#line 235
  if (stdscr) {
#line 235
    current_width = (int )stdscr->_maxx + 1;
  } else {
#line 235
    current_width = -1;
  }
#line 237
  if (current_width < screen.width) {
    {
#line 238
    nsnake_abort((char *)"Your console screen is smaller than 80x24\nPlease resize your window and try again\n\n");
    }
  } else
#line 237
  if (current_height < screen.height) {
    {
#line 238
    nsnake_abort((char *)"Your console screen is smaller than 80x24\nPlease resize your window and try again\n\n");
    }
  }
  {
#line 241
  raw();
#line 242
  curs_set(0);
#line 243
  noecho();
#line 244
  nodelay(stdscr, (_Bool)1);
#line 245
  keypad(stdscr, (_Bool)1);
#line 246
  wrefresh(stdscr);
#line 250
  game.mode = (modes )1;
  }
#line 251
  return;
}
}
#line 258 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_show_game_over(void) 
{ 
  int game_over_logo_height ;
  char *game_over_logo[16] ;
  int i ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 260
  game_over_logo_height = 16;
#line 261
  game_over_logo[0] = (char *)" _______  _______  __   __  _______ ";
#line 261
  game_over_logo[1] = (char *)"|       ||   _   ||  |_|  ||       |";
#line 261
  game_over_logo[2] = (char *)"|    ___||  |_|  ||       ||    ___|";
#line 261
  game_over_logo[3] = (char *)"|   | __ |       ||       ||   |___ ";
#line 261
  game_over_logo[4] = (char *)"|   ||  ||       ||       ||    ___|";
#line 261
  game_over_logo[5] = (char *)"|   |_| ||   _   || ||_|| ||   |___ ";
#line 261
  game_over_logo[6] = (char *)"|_______||__| |__||_|   |_||_______|";
#line 261
  game_over_logo[7] = (char *)" _______  __   __  _______  ______  ";
#line 261
  game_over_logo[8] = (char *)"|       ||  | |  ||       ||    _ | ";
#line 261
  game_over_logo[9] = (char *)"|   _   ||  |_|  ||    ___||   | || ";
#line 261
  game_over_logo[10] = (char *)"|  | |  ||       ||   |___ |   |_|| ";
#line 261
  game_over_logo[11] = (char *)"|  |_|  ||       ||    ___||    __ |";
#line 261
  game_over_logo[12] = (char *)"|       | |     | |   |___ |   |  ||";
#line 261
  game_over_logo[13] = (char *)"|_______|  |___|  |_______||___|  ||";
#line 261
  game_over_logo[14] = (char *)"       Press <enter> to retry";
#line 261
  game_over_logo[15] = (char *)"          <m> to Main Menu";
#line 286
  start_atrribute((int )(6UL << 8));
#line 287
  tmp = wmove(stdscr, (snake.body + 0)->y, (snake.body + 0)->x);
  }
#line 287
  if (! (tmp == -1)) {
    {
#line 287
    waddch(stdscr, (chtype const   )'x');
    }
  }
#line 288
  i = 0;
  {
#line 288
  while (1) {
    while_continue: /* CIL Label */ ;
#line 288
    if (! (i < game_over_logo_height)) {
#line 288
      goto while_break;
    }
    {
#line 289
    tmp___0 = wmove(stdscr, 3 + i, 22);
    }
#line 289
    if (! (tmp___0 == -1)) {
      {
#line 289
      waddnstr(stdscr, (char const   *)game_over_logo[i], -1);
      }
    }
#line 288
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 291
  draw_score();
#line 292
  wrefresh(stdscr);
#line 293
  nodelay(stdscr, (_Bool)0);
  }
#line 294
  return;
}
}
#line 296 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_clean_game_over(void) 
{ 


  {
  {
#line 298
  nodelay(stdscr, (_Bool)1);
  }
#line 299
  return;
}
}
#line 306 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_show_main_menu(void) 
{ 
  int speed_cur_option ;
  char speed_cur_options[9] ;
  int menu_row_pos ;
  int option_row_pos ;
  int wait ;
  int i ;
  int j ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 308
  speed_cur_option = 1;
#line 309
  speed_cur_options[0] = (char )'1';
#line 309
  speed_cur_options[1] = (char )'2';
#line 309
  speed_cur_options[2] = (char )'3';
#line 309
  speed_cur_options[3] = (char )'4';
#line 309
  speed_cur_options[4] = (char )'5';
#line 309
  speed_cur_options[5] = (char )'6';
#line 309
  speed_cur_options[6] = (char )'7';
#line 309
  speed_cur_options[7] = (char )'8';
#line 309
  speed_cur_options[8] = (char )'9';
#line 311
  menu_row_pos = 13;
#line 312
  option_row_pos = menu_row_pos + 17;
#line 314
  wait = 1;
#line 318
  wclear(stdscr);
  }
  {
#line 320
  while (1) {
    while_continue: /* CIL Label */ ;
#line 320
    if (! (wait == 1)) {
#line 320
      goto while_break;
    }
    {
#line 323
    start_atrribute((int )(4UL << 8));
#line 324
    i = 0;
    }
    {
#line 324
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 324
      if (! (i < screen.width)) {
#line 324
        goto while_break___0;
      }
      {
#line 326
      tmp = wmove(stdscr, 0, i);
      }
#line 326
      if (! (tmp == -1)) {
        {
#line 326
        waddch(stdscr, (chtype const   )MENU_BORDER_CHAR);
        }
      }
      {
#line 327
      tmp___0 = wmove(stdscr, screen.height - 1, i);
      }
#line 327
      if (! (tmp___0 == -1)) {
        {
#line 327
        waddch(stdscr, (chtype const   )MENU_BORDER_CHAR);
        }
      }
#line 324
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 329
    i = 0;
    {
#line 329
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 329
      if (! (i < screen.height)) {
#line 329
        goto while_break___1;
      }
      {
#line 331
      tmp___1 = wmove(stdscr, i, 0);
      }
#line 331
      if (! (tmp___1 == -1)) {
        {
#line 331
        waddch(stdscr, (chtype const   )MENU_BORDER_CHAR);
        }
      }
      {
#line 332
      tmp___2 = wmove(stdscr, i, screen.width - 1);
      }
#line 332
      if (! (tmp___2 == -1)) {
        {
#line 332
        waddch(stdscr, (chtype const   )MENU_BORDER_CHAR);
        }
      }
#line 329
      i ++;
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 335
    start_atrribute((int )(5UL << 8));
#line 336
    mvprintw(1, 3, "         ,d8888b.                     888");
#line 337
    mvprintw(2, 3, "        d88P  Y88b                    888");
#line 338
    mvprintw(3, 3, "         Y88b.                        888");
#line 339
    mvprintw(4, 3, "88888b.   Y888b.    88888b.    8888b. 888  888  .d88b.");
#line 340
    mvprintw(5, 3, "888  88b     8Y88b. 888  88b      88b 888 .88P d8P  Y8b");
#line 341
    mvprintw(6, 3, "888  888       888b 888  888 .d888888 888888K  88888888");
#line 342
    mvprintw(7, 3, "888  888 Y88b  d88P 888  888 888  888 888  88b Y8b.");
#line 343
    mvprintw(8, 3, "888  888   Y8888P   888  888  Y888888 888  888  Y88888");
#line 345
    start_atrribute((int )(2UL << 8));
#line 346
    tmp___3 = wmove(stdscr, 8, 59);
    }
#line 346
    if (! (tmp___3 == -1)) {
      {
#line 346
      waddch(stdscr, (chtype const   )'v');
      }
    }
    {
#line 347
    mvprintw(8, 60, "1.5");
#line 349
    start_atrribute((int )(3UL << 8));
#line 350
    mvprintw(10, 5, " ___________________________________________________ ");
#line 351
    mvprintw(11, 5, "|                                                   |");
#line 352
    mvprintw(12, 5, "|                                                   |");
#line 353
    mvprintw(13, 5, "|                                                   |");
#line 354
    mvprintw(14, 5, "|                                                   |");
#line 355
    mvprintw(15, 5, "|                                                   |");
#line 356
    mvprintw(16, 5, "|                                                   |");
#line 357
    mvprintw(17, 5, "|                                                   |");
#line 358
    mvprintw(18, 5, "|                                                   |");
#line 359
    mvprintw(19, 5, "|___________________________________________________|");
#line 363
    mvprintw(12, menu_row_pos, "Press <enter> or <space> to start game");
#line 365
    mvprintw(13, menu_row_pos, "Press <q> to quit game");
#line 368
    mvprintw(15, menu_row_pos, "Game Mode:");
    }
#line 369
    if ((unsigned int )game.mode == 1U) {
      {
#line 371
      start_atrribute((int )(4UL << 8));
#line 372
      mvprintw(15, option_row_pos, "Borders On");
#line 374
      start_atrribute((int )(3UL << 8));
#line 375
      mvprintw(16, option_row_pos, "Borders Off");
      }
    } else {
      {
#line 379
      start_atrribute((int )(3UL << 8));
#line 380
      mvprintw(15, option_row_pos, "Borders On");
#line 382
      start_atrribute((int )(4UL << 8));
#line 383
      mvprintw(16, option_row_pos, "Borders Off");
      }
    }
    {
#line 387
    start_atrribute((int )(3UL << 8));
#line 388
    mvprintw(18, menu_row_pos, "Starting speed:");
#line 391
    i = 0;
#line 391
    j = 0;
    }
    {
#line 391
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 391
      if (! (i < 9)) {
#line 391
        goto while_break___2;
      }
#line 393
      if (i == speed_cur_option - 1) {
        {
#line 394
        start_atrribute((int )(4UL << 8));
        }
      } else {
        {
#line 396
        start_atrribute((int )(3UL << 8));
        }
      }
      {
#line 398
      mvprintw(18, option_row_pos + j, "%c", (int )speed_cur_options[i]);
#line 399
      j += 2;
#line 391
      i ++;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    {
#line 402
    start_atrribute((int )(4UL << 8));
#line 403
    mvprintw(screen.height - 2, 2, "Use --help for guidelines");
#line 406
    wait = get_main_menu_input(& speed_cur_option);
#line 409
    wrefresh(stdscr);
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 412
  game.level = speed_cur_option;
#line 413
  return;
}
}
#line 418 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_show_pause(void) 
{ 


  {
  {
#line 420
  curs_set(1);
#line 421
  nodelay(stdscr, (_Bool)0);
#line 423
  start_atrribute((int )(6UL << 8));
#line 425
  mvprintw((screen.height - 1) / 2, (screen.width - 1) / 2 - 5, "Game Paused ");
#line 426
  mvprintw((screen.height - 1) / 2 + 1, (screen.width - 1) / 2 - 11, "Press <p> to Continue...");
  }
#line 427
  return;
}
}
#line 438 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_show_screen(void) 
{ 


  {
  {
#line 440
  draw_background();
#line 441
  draw_borders();
#line 442
  draw_fruit();
#line 443
  draw_player();
#line 444
  draw_fruit_bonus();
#line 445
  draw_score();
#line 447
  usleep((__useconds_t )(20000 + (9 - game.level) * 25000));
#line 449
  wrefresh(stdscr);
  }
#line 450
  return;
}
}
#line 455 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void get_game_over_input(void) 
{ 
  int wait ;
  int input ;
  int tmp ;

  {
  {
#line 457
  wait = 1;
#line 459
  nodelay(stdscr, (_Bool)0);
  }
  {
#line 460
  while (1) {
    while_continue: /* CIL Label */ ;
#line 460
    if (! (wait == 1)) {
#line 460
      goto while_break;
    }
    {
#line 462
    tmp = wgetch(stdscr);
#line 462
    input = tmp;
    }
    {
#line 466
    if (input == 81) {
#line 466
      goto case_81;
    }
#line 466
    if (input == 113) {
#line 466
      goto case_81;
    }
#line 471
    if (input == 77) {
#line 471
      goto case_77;
    }
#line 471
    if (input == 109) {
#line 471
      goto case_77;
    }
#line 478
    if (input == 10) {
#line 478
      goto case_10;
    }
#line 483
    goto switch_default;
    case_81: /* CIL Label */ 
    case_113: /* CIL Label */ 
    {
#line 467
    engine_exit();
#line 468
    nsnake_exit();
    }
#line 469
    goto switch_break;
    case_77: /* CIL Label */ 
    case_109: /* CIL Label */ 
    {
#line 472
    wait = 0;
#line 473
    engine_show_main_menu();
    }
    case_10: /* CIL Label */ 
#line 480
    wait = 0;
#line 481
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 484
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 487
  nodelay(stdscr, (_Bool)1);
  }
#line 488
  return;
}
}
#line 493 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
int get_main_menu_input(int *speed_cur_option ) 
{ 
  int input ;
  int tmp ;

  {
  {
#line 495
  nodelay(stdscr, (_Bool)0);
#line 497
  tmp = wgetch(stdscr);
#line 497
  input = tmp;
  }
  {
#line 500
  if (input == 32) {
#line 500
    goto case_32;
  }
#line 500
  if (input == 10) {
#line 500
    goto case_32;
  }
#line 505
  if (input == 81) {
#line 505
    goto case_81;
  }
#line 505
  if (input == 113) {
#line 505
    goto case_81;
  }
#line 510
  if (input == 259) {
#line 510
    goto case_259;
  }
#line 515
  if (input == 258) {
#line 515
    goto case_258;
  }
#line 520
  if (input == 260) {
#line 520
    goto case_260;
  }
#line 525
  if (input == 261) {
#line 525
    goto case_261;
  }
#line 531
  if (input == 57) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 56) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 55) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 54) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 53) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 52) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 51) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 50) {
#line 531
    goto case_57;
  }
#line 531
  if (input == 49) {
#line 531
    goto case_57;
  }
#line 535
  goto switch_default;
  case_32: /* CIL Label */ 
  case_10: /* CIL Label */ 
  {
#line 501
  nodelay(stdscr, (_Bool)1);
  }
#line 502
  return (0);
#line 503
  goto switch_break;
  case_81: /* CIL Label */ 
  case_113: /* CIL Label */ 
  {
#line 506
  engine_exit();
#line 507
  nsnake_exit();
  }
#line 508
  goto switch_break;
  case_259: /* CIL Label */ 
#line 511
  if ((unsigned int )game.mode == 2U) {
#line 512
    game.mode = (modes )1;
  }
#line 513
  goto switch_break;
  case_258: /* CIL Label */ 
#line 516
  if ((unsigned int )game.mode == 1U) {
#line 517
    game.mode = (modes )2;
  }
#line 518
  goto switch_break;
  case_260: /* CIL Label */ 
#line 521
  if (*speed_cur_option > 1) {
#line 522
    (*speed_cur_option) --;
  }
#line 523
  goto switch_break;
  case_261: /* CIL Label */ 
#line 526
  if (*speed_cur_option < 9) {
#line 527
    (*speed_cur_option) ++;
  }
#line 528
  goto switch_break;
  case_57: /* CIL Label */ 
  case_56: /* CIL Label */ 
  case_55: /* CIL Label */ 
  case_54: /* CIL Label */ 
  case_53: /* CIL Label */ 
  case_52: /* CIL Label */ 
  case_51: /* CIL Label */ 
  case_50: /* CIL Label */ 
  case_49: /* CIL Label */ 
#line 532
  *speed_cur_option = input - 48;
#line 533
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 536
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 539
  return (1);
}
}
#line 545 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void engine_clean_pause(void) 
{ 


  {
  {
#line 547
  nodelay(stdscr, (_Bool)1);
#line 548
  curs_set(0);
  }
#line 549
  return;
}
}
#line 555 "/home/wheatley/newnew/temp/nsnake-1.5/src/engine.c"
void start_atrribute(int attr ) 
{ 
  _Bool tmp ;

  {
  {
#line 557
  tmp = has_colors();
  }
#line 557
  if ((int )tmp == 1) {
    {
#line 559
    wattr_on(stdscr, (attr_t )attr, (void *)0);
    }
  }
#line 561
  return;
}
}
#line 237 "/usr/include/stdio.h"
extern int fclose(FILE *__stream ) ;
#line 272
extern FILE *fopen(char const   * __restrict  __filename , char const   * __restrict  __modes ) ;
#line 709
extern size_t fread(void * __restrict  __ptr , size_t __size , size_t __n , FILE * __restrict  __stream ) ;
#line 715
extern size_t fwrite(void const   * __restrict  __ptr , size_t __size , size_t __n ,
                     FILE * __restrict  __s ) ;
#line 749
extern int fseek(FILE *__stream , long __off , int __whence ) ;
#line 564 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) getenv)(char const   *__name ) ;
#line 66 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1), __leaf__)) memset)(void *__s ,
                                                                                               int __c ,
                                                                                               size_t __n ) ;
#line 132
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncpy)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 140
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncat)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 209 "/usr/include/x86_64-linux-gnu/sys/stat.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) stat)(char const   * __restrict  __file ,
                                                                                             struct stat * __restrict  __buf ) ;
#line 321
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) mkdir)(char const   *__path ,
                                                                                            __mode_t __mode ) ;
#line 50 "/usr/include/x86_64-linux-gnu/bits/errno.h"
extern  __attribute__((__nothrow__)) int *( __attribute__((__leaf__)) __errno_location)(void)  __attribute__((__const__)) ;
#line 34 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.h"
int HIGH_SCORE_BORDERS  ;
#line 36 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.h"
int HIGH_SCORE_BORDERS_OFF  ;
#line 39
int hscore_file_check(void) ;
#line 40
int hscore_clean(void) ;
#line 41
void hscore_init(void) ;
#line 42
void hscore_store(void) ;
#line 66 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.h"
char SCORE_PATH[255]  ;
#line 54 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int HIGH_SCORE_DEFAULT  =    500;
#line 60 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
char SCORE_DIR[255]  ;
#line 69
int hscore_globals_init(void) ;
#line 69 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
static int initialized  =    0;
#line 67 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int hscore_globals_init(void) 
{ 
  char *tmp ;
  char *tmp___0 ;

  {
#line 71
  if (initialized) {
#line 72
    return (-1);
  }
  {
#line 74
  initialized = 1;
#line 75
  game.cant_open_hscore_file = 0;
#line 77
  memset((void *)(SCORE_DIR), '\000', (size_t )255);
#line 78
  memset((void *)(SCORE_PATH), '\000', (size_t )255);
#line 79
  tmp = getenv("HOME");
  }
#line 79
  if ((unsigned long )tmp == (unsigned long )((void *)0)) {
    {
#line 81
    strncpy((char */* __restrict  */)(SCORE_DIR), (char const   */* __restrict  */)"/dev",
            (size_t )254);
#line 82
    strncpy((char */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)"/dev/null",
            (size_t )254);
#line 83
    game.cant_open_hscore_file = 1;
    }
#line 84
    return (-1);
  }
  {
#line 87
  tmp___0 = getenv("HOME");
#line 87
  strncpy((char */* __restrict  */)(SCORE_DIR), (char const   */* __restrict  */)tmp___0,
          (size_t )254);
#line 88
  strncat((char */* __restrict  */)(SCORE_DIR), (char const   */* __restrict  */)"/.nsnake",
          (size_t )254);
#line 89
  strncpy((char */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)(SCORE_DIR),
          (size_t )254);
#line 90
  strncat((char */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)"/",
          (size_t )1);
#line 91
  strncat((char */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)"high-scores.bin",
          (size_t )254);
  }
#line 92
  return (0);
}
}
#line 99 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int directory_exists(char *path ) 
{ 
  struct stat s ;
  int err ;
  int tmp ;
  int *tmp___0 ;

  {
  {
#line 102
  tmp = stat((char const   */* __restrict  */)path, (struct stat */* __restrict  */)(& s));
#line 102
  err = tmp;
  }
#line 103
  if (err == -1) {
    {
#line 105
    tmp___0 = __errno_location();
    }
#line 105
    if (*tmp___0 == 2) {
#line 106
      return (0);
    }
  }
#line 115
  return (1);
}
}
#line 122 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int create_directory(char *path ) 
{ 
  int tmp ;

  {
  {
#line 124
  tmp = mkdir((char const   *)path, (__mode_t )(((448 | (256 >> 3)) | (64 >> 3)) | ((256 >> 3) >> 3)));
  }
#line 124
  return (tmp);
}
}
#line 130 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int file_exists(char *path ) 
{ 
  struct stat s ;
  int err ;
  int tmp ;
  int *tmp___0 ;

  {
  {
#line 133
  tmp = stat((char const   */* __restrict  */)path, (struct stat */* __restrict  */)(& s));
#line 133
  err = tmp;
  }
#line 134
  if (err == -1) {
    {
#line 136
    tmp___0 = __errno_location();
    }
#line 136
    if (*tmp___0 == 2) {
#line 137
      return (0);
    }
  } else
#line 142
  if (! ((s.st_mode & 61440U) == 16384U)) {
#line 143
    return (1);
  }
#line 146
  return (1);
}
}
#line 152 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int create_file(char *path ) 
{ 
  FILE *file ;
  FILE *tmp ;

  {
  {
#line 154
  tmp = fopen((char const   */* __restrict  */)path, (char const   */* __restrict  */)"wb");
#line 154
  file = tmp;
  }
#line 155
  if (! file) {
#line 156
    return (0);
  }
  {
#line 158
  fclose(file);
  }
#line 159
  return (1);
}
}
#line 165 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int hscore_file_check(void) 
{ 
  int tmp ;
  int tmp___0 ;
  int retval ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 167
  tmp = directory_exists(SCORE_DIR);
  }
#line 167
  if (tmp == 1) {
    {
#line 167
    tmp___0 = file_exists(SCORE_PATH);
    }
#line 167
    if (tmp___0 == 1) {
#line 168
      return (0);
    }
  }
  {
#line 171
  tmp___1 = create_directory(SCORE_DIR);
#line 171
  retval = tmp___1;
  }
#line 172
  if (retval == -1) {
#line 173
    return (1);
  }
  {
#line 176
  retval = create_file(SCORE_PATH);
  }
#line 177
  if (retval == 0) {
#line 178
    return (1);
  }
  {
#line 180
  retval = hscore_clean();
  }
#line 181
  if (retval == -1) {
#line 183
    game.cant_open_hscore_file = 1;
#line 184
    return (0);
  }
  {
#line 188
  tmp___2 = directory_exists(SCORE_DIR);
  }
#line 188
  if (tmp___2 == 1) {
    {
#line 188
    tmp___3 = file_exists(SCORE_PATH);
    }
#line 188
    if (tmp___3 == 1) {
#line 189
      return (0);
    }
  }
#line 191
  return (1);
}
}
#line 197 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
int hscore_clean(void) 
{ 
  FILE *file ;
  FILE *tmp ;

  {
  {
#line 199
  hscore_globals_init();
#line 201
  HIGH_SCORE_BORDERS = HIGH_SCORE_DEFAULT;
#line 202
  HIGH_SCORE_BORDERS_OFF = HIGH_SCORE_DEFAULT;
#line 204
  tmp = fopen((char const   */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)"wb");
#line 204
  file = tmp;
  }
#line 205
  if (! file) {
#line 206
    return (-1);
  }
  {
#line 208
  fwrite((void const   */* __restrict  */)(& HIGH_SCORE_BORDERS), sizeof(int ), (size_t )1,
         (FILE */* __restrict  */)file);
#line 209
  fwrite((void const   */* __restrict  */)(& HIGH_SCORE_BORDERS_OFF), sizeof(int ),
         (size_t )1, (FILE */* __restrict  */)file);
#line 210
  fclose(file);
  }
#line 211
  return (0);
}
}
#line 223 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
void hscore_init(void) 
{ 
  int retval ;
  int tmp ;
  FILE *file ;
  FILE *tmp___0 ;
  int items_read ;
  size_t tmp___1 ;
  size_t tmp___2 ;

  {
  {
#line 225
  hscore_globals_init();
#line 227
  tmp = hscore_file_check();
#line 227
  retval = tmp;
  }
#line 228
  if (retval == 1) {
#line 230
    game.cant_open_hscore_file = 1;
#line 231
    return;
  }
  {
#line 234
  tmp___0 = fopen((char const   */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)"rb");
#line 234
  file = tmp___0;
  }
#line 235
  if (! file) {
    {
#line 237
    retval = hscore_clean();
    }
#line 238
    if (retval == -1) {
#line 240
      game.cant_open_hscore_file = 1;
#line 241
      return;
    }
    {
#line 244
    file = fopen((char const   */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)"rb");
    }
#line 245
    if (! file) {
#line 247
      game.cant_open_hscore_file = 1;
#line 248
      return;
    }
  }
  {
#line 253
  tmp___1 = fread((void */* __restrict  */)(& HIGH_SCORE_BORDERS), sizeof(int ), (size_t )1,
                  (FILE */* __restrict  */)file);
#line 253
  items_read = (int )tmp___1;
  }
#line 254
  if (items_read != 1) {
    {
#line 255
    nsnake_abort((char *)"Highscore File I/O error!\nTry cleaning the scores file!");
    }
  }
  {
#line 258
  tmp___2 = fread((void */* __restrict  */)(& HIGH_SCORE_BORDERS_OFF), sizeof(int ),
                  (size_t )1, (FILE */* __restrict  */)file);
#line 258
  items_read = (int )tmp___2;
  }
#line 259
  if (items_read != 1) {
    {
#line 260
    nsnake_abort((char *)"Highscore File I/O error!\nTry cleaning the scores file!");
    }
  }
  {
#line 263
  fclose(file);
  }
#line 264
  return;
}
}
#line 269 "/home/wheatley/newnew/temp/nsnake-1.5/src/hscores.c"
void hscore_store(void) 
{ 
  int retval ;
  int tmp ;
  FILE *file ;
  FILE *tmp___0 ;

  {
  {
#line 271
  game.cant_open_hscore_file = 0;
#line 273
  tmp = hscore_file_check();
#line 273
  retval = tmp;
  }
#line 274
  if (retval == 1) {
    {
#line 276
    retval = hscore_clean();
    }
#line 277
    if (retval == -1) {
#line 279
      game.cant_open_hscore_file = 1;
#line 280
      return;
    }
  }
  {
#line 284
  tmp___0 = fopen((char const   */* __restrict  */)(SCORE_PATH), (char const   */* __restrict  */)"r+b");
#line 284
  file = tmp___0;
  }
#line 285
  if (! file) {
#line 287
    game.cant_open_hscore_file = 1;
#line 288
    return;
  }
#line 291
  if ((unsigned int )game.mode == 1U) {
    {
#line 293
    HIGH_SCORE_BORDERS = snake.score;
#line 294
    fwrite((void const   */* __restrict  */)(& HIGH_SCORE_BORDERS), sizeof(int ),
           (size_t )1, (FILE */* __restrict  */)file);
    }
  } else
#line 297
  if ((unsigned int )game.mode == 2U) {
    {
#line 299
    HIGH_SCORE_BORDERS_OFF = snake.score;
#line 300
    fseek(file, (long )sizeof(int ), 0);
#line 301
    fwrite((void const   */* __restrict  */)(& HIGH_SCORE_BORDERS_OFF), sizeof(int ),
           (size_t )1, (FILE */* __restrict  */)file);
    }
  }
  {
#line 308
  fclose(file);
  }
#line 309
  return;
}
}
#line 362 "/usr/include/stdio.h"
extern int printf(char const   * __restrict  __format  , ...) ;
#line 483 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) free)(void *__ptr ) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 64 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.h"
struct game_t game  ;
#line 71
void nsnake_init(void) ;
#line 72
void nsnake_pause(void) ;
#line 52 "/home/wheatley/newnew/temp/nsnake-1.5/src/fruit.h"
void fruit_init(void) ;
#line 80 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.h"
void player_init(void) ;
#line 48 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.c"
void nsnake_abort(char *error_msg ) 
{ 


  {
  {
#line 50
  engine_exit();
#line 51
  printf((char const   */* __restrict  */)"%s", error_msg);
#line 52
  exit(1);
  }
}
}
#line 61 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.c"
void nsnake_exit(void) 
{ 


  {
#line 63
  if ((unsigned long )snake.body != (unsigned long )((void *)0)) {
    {
#line 65
    free((void *)snake.body);
#line 66
    snake.body = (struct player_pieces *)((void *)0);
    }
  }
#line 69
  if (game.cant_open_hscore_file == 1) {
    {
#line 70
    printf((char const   */* __restrict  */)"* Couldn\'t open Highscore file (%s)!\nMake sure the game is installed. Please see \'man nsnake\' for bug reports\n",
           SCORE_PATH);
    }
  }
  {
#line 74
  exit(0);
  }
}
}
#line 86 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.c"
void nsnake_init(void) 
{ 


  {
  {
#line 88
  player_init();
#line 89
  fruit_init();
#line 90
  hscore_init();
#line 91
  engine_show_screen();
  }
#line 92
  return;
}
}
#line 97 "/home/wheatley/newnew/temp/nsnake-1.5/src/nsnake.c"
void nsnake_pause(void) 
{ 


  {
  {
#line 99
  engine_show_pause();
  }
#line 100
  return;
}
}
#line 53 "/home/wheatley/newnew/temp/nsnake-1.5/src/fruit.h"
void fruit_update_bonus(void) ;
#line 72 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.h"
void player_change_direction(int new_direction ) ;
#line 73
int player_collided_with_borders(void) ;
#line 76
int player_hit_fruit(void) ;
#line 77
int player_hit_self(void) ;
#line 78
void player_increase_score(int add ) ;
#line 79
void player_increase_size(int size ) ;
#line 82
void player_update(void) ;
#line 34 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.h"
void args_handle(int argc , char **argv ) ;
#line 45 "/home/wheatley/newnew/temp/nsnake-1.5/src/main.c"
int main(int argc , char **argv ) 
{ 
  int c ;
  int wait ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int input ;
  int tmp___2 ;

  {
#line 47
  c = 0;
#line 48
  wait = 0;
#line 50
  if (argc > 1) {
    {
#line 51
    args_handle(argc, argv);
    }
  }
  {
#line 53
  engine_init();
#line 54
  game.state = (states )0;
  }
  {
#line 56
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 60
    if ((unsigned int )game.state == 0U) {
#line 60
      goto case_0;
    }
#line 65
    if ((unsigned int )game.state == 1U) {
#line 65
      goto case_1;
    }
#line 70
    if ((unsigned int )game.state == 2U) {
#line 70
      goto case_2;
    }
#line 137
    if ((unsigned int )game.state == 3U) {
#line 137
      goto case_3;
    }
#line 165
    if ((unsigned int )game.state == 4U) {
#line 165
      goto case_4;
    }
#line 211
    if ((unsigned int )game.state == 5U) {
#line 211
      goto case_5;
    }
#line 216
    goto switch_default___2;
    case_0: /* CIL Label */ 
    {
#line 61
    engine_show_main_menu();
#line 62
    game.state = (states )1;
    }
#line 63
    goto switch_break;
    case_1: /* CIL Label */ 
    {
#line 66
    nsnake_init();
#line 67
    game.state = (states )2;
    }
#line 68
    goto switch_break;
    case_2: /* CIL Label */ 
#line 71
    if (snake.is_alive == 0) {
#line 73
      game.state = (states )4;
#line 74
      goto switch_break;
    }
    {
#line 77
    c = engine_get_game_input();
    }
    {
#line 79
    if (c == -1) {
#line 79
      goto case_neg_1;
    }
#line 83
    if (c == 87) {
#line 83
      goto case_87;
    }
#line 83
    if (c == 119) {
#line 83
      goto case_87;
    }
#line 83
    if (c == 259) {
#line 83
      goto case_87;
    }
#line 87
    if (c == 65) {
#line 87
      goto case_65;
    }
#line 87
    if (c == 97) {
#line 87
      goto case_65;
    }
#line 87
    if (c == 260) {
#line 87
      goto case_65;
    }
#line 91
    if (c == 83) {
#line 91
      goto case_83;
    }
#line 91
    if (c == 115) {
#line 91
      goto case_83;
    }
#line 91
    if (c == 258) {
#line 91
      goto case_83;
    }
#line 95
    if (c == 68) {
#line 95
      goto case_68;
    }
#line 95
    if (c == 100) {
#line 95
      goto case_68;
    }
#line 95
    if (c == 261) {
#line 95
      goto case_68;
    }
#line 99
    if (c == 81) {
#line 99
      goto case_81;
    }
#line 99
    if (c == 113) {
#line 99
      goto case_81;
    }
#line 109
    if (c == 80) {
#line 109
      goto case_80;
    }
#line 109
    if (c == 112) {
#line 109
      goto case_80;
    }
#line 113
    goto switch_default;
    case_neg_1: /* CIL Label */ 
#line 81
    goto switch_break___0;
    case_87: /* CIL Label */ 
    case_119: /* CIL Label */ 
    case_259: /* CIL Label */ 
    {
#line 84
    player_change_direction(0);
    }
#line 85
    goto switch_break___0;
    case_65: /* CIL Label */ 
    case_97: /* CIL Label */ 
    case_260: /* CIL Label */ 
    {
#line 88
    player_change_direction(1);
    }
#line 89
    goto switch_break___0;
    case_83: /* CIL Label */ 
    case_115: /* CIL Label */ 
    case_258: /* CIL Label */ 
    {
#line 92
    player_change_direction(2);
    }
#line 93
    goto switch_break___0;
    case_68: /* CIL Label */ 
    case_100: /* CIL Label */ 
    case_261: /* CIL Label */ 
    {
#line 96
    player_change_direction(3);
    }
#line 97
    goto switch_break___0;
    case_81: /* CIL Label */ 
    case_113: /* CIL Label */ 
#line 100
    game.state = (states )5;
#line 101
    goto switch_break___0;
    case_80: /* CIL Label */ 
    case_112: /* CIL Label */ 
#line 110
    game.state = (states )3;
#line 111
    goto switch_break___0;
    switch_default: /* CIL Label */ 
#line 114
    goto switch_break___0;
    switch_break___0: /* CIL Label */ ;
    }
    {
#line 117
    player_update();
#line 118
    fruit_update_bonus();
#line 120
    tmp = player_hit_fruit();
    }
#line 120
    if (tmp == 1) {
      {
#line 123
      player_increase_score(game.level * 3 + fruit.bonus);
#line 124
      player_increase_size(2);
#line 125
      fruit_init();
      }
    }
    {
#line 128
    tmp___0 = player_hit_self();
    }
#line 128
    if (tmp___0 == 1) {
#line 129
      snake.is_alive = 0;
    }
    {
#line 131
    tmp___1 = player_collided_with_borders();
    }
#line 131
    if (tmp___1 == 1) {
#line 132
      snake.is_alive = 0;
    }
    {
#line 134
    engine_show_screen();
    }
#line 135
    goto switch_break;
    case_3: /* CIL Label */ 
    {
#line 138
    engine_show_pause();
#line 140
    wait = 1;
    }
    {
#line 141
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 141
      if (! (wait == 1)) {
#line 141
        goto while_break___0;
      }
      {
#line 143
      tmp___2 = engine_get_game_input();
#line 143
      input = tmp___2;
      }
      {
#line 147
      if (input == 80) {
#line 147
        goto case_80___0;
      }
#line 147
      if (input == 112) {
#line 147
        goto case_80___0;
      }
#line 152
      if (input == 81) {
#line 152
        goto case_81___0;
      }
#line 152
      if (input == 113) {
#line 152
        goto case_81___0;
      }
#line 157
      goto switch_default___0;
      case_80___0: /* CIL Label */ 
      case_112___0: /* CIL Label */ 
#line 148
      wait = 0;
#line 149
      game.state = (states )2;
#line 150
      goto switch_break___1;
      case_81___0: /* CIL Label */ 
      case_113___0: /* CIL Label */ 
#line 153
      wait = 0;
#line 154
      game.state = (states )5;
#line 155
      goto switch_break___1;
      switch_default___0: /* CIL Label */ 
#line 158
      goto switch_break___1;
      switch_break___1: /* CIL Label */ ;
      }
      {
#line 161
      engine_clean_pause();
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 163
    goto switch_break;
    case_4: /* CIL Label */ 
#line 166
    if ((unsigned int )game.mode == 1U) {
#line 168
      if (snake.score > HIGH_SCORE_BORDERS) {
        {
#line 169
        hscore_store();
        }
      }
    } else
#line 171
    if ((unsigned int )game.mode == 2U) {
#line 173
      if (snake.score > HIGH_SCORE_BORDERS_OFF) {
        {
#line 174
        hscore_store();
        }
      }
    }
    {
#line 177
    engine_show_game_over();
#line 179
    wait = 1;
    }
    {
#line 180
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 180
      if (! (wait == 1)) {
#line 180
        goto while_break___1;
      }
      {
#line 182
      c = engine_get_game_input();
      }
      {
#line 184
      if (c == 81) {
#line 184
        goto case_81___1;
      }
#line 184
      if (c == 113) {
#line 184
        goto case_81___1;
      }
#line 189
      if (c == 77) {
#line 189
        goto case_77;
      }
#line 189
      if (c == 109) {
#line 189
        goto case_77;
      }
#line 197
      if (c == 10) {
#line 197
        goto case_10;
      }
#line 203
      goto switch_default___1;
      case_81___1: /* CIL Label */ 
      case_113___1: /* CIL Label */ 
#line 185
      wait = 0;
#line 186
      game.state = (states )5;
#line 187
      goto switch_break___2;
      case_77: /* CIL Label */ 
      case_109: /* CIL Label */ 
#line 190
      wait = 0;
#line 191
      game.state = (states )0;
#line 192
      goto switch_break___2;
      case_10: /* CIL Label */ 
#line 199
      wait = 0;
#line 200
      game.state = (states )1;
#line 201
      goto switch_break___2;
      switch_default___1: /* CIL Label */ 
#line 204
      goto switch_break___2;
      switch_break___2: /* CIL Label */ ;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 208
    engine_clean_game_over();
    }
#line 209
    goto switch_break;
    case_5: /* CIL Label */ 
    {
#line 212
    engine_exit();
#line 213
    nsnake_exit();
    }
#line 214
    goto switch_break;
    switch_default___2: /* CIL Label */ 
#line 217
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 223
  engine_exit();
#line 224
  nsnake_exit();
  }
#line 225
  return (0);
}
}
#line 71 "/usr/include/getopt.h"
extern int optind ;
#line 173
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) getopt_long)(int ___argc ,
                                                                                  char * const  *___argv ,
                                                                                  char const   *__shortopts ,
                                                                                  struct option  const  *__longopts ,
                                                                                  int *__longind ) ;
#line 35 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.h"
void print_help(void) ;
#line 36
void print_license(void) ;
#line 37
void print_usage(void) ;
#line 38
void print_version(void) ;
#line 52 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.c"
static struct option options[5]  = {      {"help", 0, (int *)((void *)0), 'h'}, 
        {"license", 0, (int *)((void *)0), 'l'}, 
        {"version", 0, (int *)((void *)0), 'v'}, 
        {"reset-scores", 0, (int *)((void *)0), 'r'}, 
        {(char const   *)0, 0, (int *)0, 0}};
#line 50 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.c"
void args_handle(int argc , char **argv ) 
{ 
  int option_index ;
  int c ;

  {
#line 64
  c = 0;
  {
#line 68
  while (1) {
    while_continue: /* CIL Label */ ;
#line 68
    if (! (c != -1)) {
#line 68
      goto while_break;
    }
    {
#line 70
    c = getopt_long(argc, (char * const  *)argv, "hlvr", (struct option  const  *)(options),
                    & option_index);
    }
    {
#line 74
    if (c == 104) {
#line 74
      goto case_104;
    }
#line 79
    if (c == 108) {
#line 79
      goto case_108;
    }
#line 84
    if (c == 118) {
#line 84
      goto case_118;
    }
#line 89
    if (c == 114) {
#line 89
      goto case_114;
    }
#line 96
    if (c == 63) {
#line 96
      goto case_63;
    }
#line 103
    if (c == -1) {
#line 103
      goto case_neg_1;
    }
#line 108
    goto switch_default;
    case_104: /* CIL Label */ 
    {
#line 75
    print_help();
#line 76
    exit(0);
    }
#line 77
    goto switch_break;
    case_108: /* CIL Label */ 
    {
#line 80
    print_license();
#line 81
    exit(0);
    }
#line 82
    goto switch_break;
    case_118: /* CIL Label */ 
    {
#line 85
    print_version();
#line 86
    exit(0);
    }
#line 87
    goto switch_break;
    case_114: /* CIL Label */ 
    {
#line 91
    hscore_clean();
#line 92
    printf((char const   */* __restrict  */)"* HighScores reseted\n");
#line 93
    exit(0);
    }
#line 94
    goto switch_break;
    case_63: /* CIL Label */ 
    {
#line 99
    print_usage();
#line 100
    exit(1);
    }
#line 101
    goto switch_break;
    case_neg_1: /* CIL Label */ 
#line 106
    goto switch_break;
    switch_default: /* CIL Label */ 
    {
#line 109
    print_usage();
#line 110
    exit(1);
    }
#line 111
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 117
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 117
    if (! (optind < argc)) {
#line 117
      goto while_break___0;
    }
#line 118
    optind ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 119
  return;
}
}
#line 124 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.c"
void print_help(void) 
{ 


  {
  {
#line 126
  printf((char const   */* __restrict  */)"nSnake Help\n");
#line 127
  printf((char const   */* __restrict  */)"\n");
#line 128
  printf((char const   */* __restrict  */)"Synopsis:\n");
#line 129
  printf((char const   */* __restrict  */)"\tThe classic snake game. You control a snake pursuing\n");
#line 130
  printf((char const   */* __restrict  */)"\tASCII-like fruits.\n");
#line 131
  printf((char const   */* __restrict  */)"Controls:\n");
#line 132
  printf((char const   */* __restrict  */)"\tNumbers (1~9)     Changes the game speed at the main menu\n");
#line 133
  printf((char const   */* __restrict  */)"\tArrow Keys, WASD  Control the snake directions\n");
#line 134
  printf((char const   */* __restrict  */)"\tq                 Quits the game at any time\n");
#line 135
  printf((char const   */* __restrict  */)"\tp                 Pauses/Unpauses the game\n");
#line 136
  printf((char const   */* __restrict  */)"Usage:\n");
#line 137
  printf((char const   */* __restrict  */)"\tnsnake [-h] [-l] [-v] [-r]\n");
#line 138
  printf((char const   */* __restrict  */)"Commandline arguments:\n\n");
#line 139
  printf((char const   */* __restrict  */)"\t-h, --help         Displays the help guidelines.\n");
#line 140
  printf((char const   */* __restrict  */)"\t-l, --license      Displays this program\'s license and warranty.\n");
#line 141
  printf((char const   */* __restrict  */)"\t-v, --version      Displays the version and general information.\n");
#line 142
  printf((char const   */* __restrict  */)"\t-r, --reset-scores Resets all the Highscores to default.\n");
#line 143
  printf((char const   */* __restrict  */)"Type \'man nsnake\' for more information.\n");
#line 144
  printf((char const   */* __restrict  */)"\n");
  }
#line 145
  return;
}
}
#line 150 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.c"
void print_license(void) 
{ 


  {
  {
#line 152
  printf((char const   */* __restrict  */)"nSnake - The classic snake game with ncurses.\n");
#line 153
  printf((char const   */* __restrict  */)"Copyright (C) 2011-2012  Alexandre Dantas (kure)\n");
#line 154
  printf((char const   */* __restrict  */)"\n");
#line 155
  printf((char const   */* __restrict  */)"nSnake is free software: you can redistribute it and/or modify\n");
#line 156
  printf((char const   */* __restrict  */)"it under the terms of the GNU General Public License as published by\n");
#line 157
  printf((char const   */* __restrict  */)"the Free Software Foundation, either version 3 of the License, or\n");
#line 158
  printf((char const   */* __restrict  */)"any later version.\n");
#line 159
  printf((char const   */* __restrict  */)"\n");
#line 160
  printf((char const   */* __restrict  */)"This program is distributed in the hope that it will be useful,\n");
#line 161
  printf((char const   */* __restrict  */)"but WITHOUT ANY WARRANTY; without even the implied warranty of\n");
#line 162
  printf((char const   */* __restrict  */)"MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n");
#line 163
  printf((char const   */* __restrict  */)"GNU General Public License for more details.\n");
#line 164
  printf((char const   */* __restrict  */)"\n");
#line 165
  printf((char const   */* __restrict  */)"You should have received a copy of the GNU General Public License\n");
#line 166
  printf((char const   */* __restrict  */)"along with this program.  If not, see <http://www.gnu.org/licenses/>.\n");
#line 167
  printf((char const   */* __restrict  */)"\n");
  }
#line 168
  return;
}
}
#line 173 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.c"
void print_usage(void) 
{ 


  {
  {
#line 175
  printf((char const   */* __restrict  */)"nSnake v1.5 Usage:\n");
#line 176
  printf((char const   */* __restrict  */)"\tnsnake [-h] [-l] [-v] [-r]\n");
#line 177
  printf((char const   */* __restrict  */)"Commandline arguments:\n\n");
#line 178
  printf((char const   */* __restrict  */)"\t-h, --help         Displays the help guidelines.\n");
#line 179
  printf((char const   */* __restrict  */)"\t-l, --license      Displays this program\'s license and warranty.\n");
#line 180
  printf((char const   */* __restrict  */)"\t-v, --version      Displays the version and general information.\n");
#line 181
  printf((char const   */* __restrict  */)"\t-r, --reset-scores Resets all the Highscores to default.\n");
#line 182
  printf((char const   */* __restrict  */)"\n");
  }
#line 183
  return;
}
}
#line 188 "/home/wheatley/newnew/temp/nsnake-1.5/src/arguments.c"
void print_version(void) 
{ 


  {
  {
#line 190
  printf((char const   */* __restrict  */)"nSnake v1.5\t( 3\354\233\2242016)\n");
#line 191
  printf((char const   */* __restrict  */)"Copyright (C) 2011-2012  Alexandre Dantas (kure)\n");
#line 192
  printf((char const   */* __restrict  */)"\n");
#line 193
  printf((char const   */* __restrict  */)"This program comes with ABSOLUTELY NO WARRANTY\n");
#line 194
  printf((char const   */* __restrict  */)"for warranty details type \'nsnake --license\'.\n");
#line 195
  printf((char const   */* __restrict  */)"This is free software, and you are welcome to redistribute it\n");
#line 196
  printf((char const   */* __restrict  */)"under certain conditions; type \'nsnake --license\' for license details.\n");
#line 197
  printf((char const   */* __restrict  */)"\n");
#line 198
  printf((char const   */* __restrict  */)"Mailto:   alex.dantas92@gmail.com\n");
#line 199
  printf((char const   */* __restrict  */)"Homepage: http://sourceforge.net/projects/nsnake\n");
#line 200
  printf((char const   */* __restrict  */)"\n");
  }
#line 201
  return;
}
}
#line 466 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) malloc)(size_t __size )  __attribute__((__malloc__)) ;
#line 480
extern  __attribute__((__nothrow__)) void *( __attribute__((__warn_unused_result__,
__leaf__)) realloc)(void *__ptr , size_t __size ) ;
#line 69 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.h"
struct player_t snake  ;
#line 74
void player_exit(void) ;
#line 75
int player_hit_borders(void) ;
#line 81
void player_teleport_borders(void) ;
#line 42 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
void player_change_direction(int new_direction ) 
{ 


  {
#line 44
  if (new_direction == 0) {
#line 44
    if (snake.direction != 2) {
#line 44
      if (snake.direction != 0) {
#line 46
        snake.direction = 0;
      } else {
#line 44
        goto _L___4;
      }
    } else {
#line 44
      goto _L___4;
    }
  } else
  _L___4: /* CIL Label */ 
#line 49
  if (new_direction == 1) {
#line 49
    if (snake.direction != 3) {
#line 49
      if (snake.direction != 1) {
#line 51
        snake.direction = 1;
      } else {
#line 49
        goto _L___2;
      }
    } else {
#line 49
      goto _L___2;
    }
  } else
  _L___2: /* CIL Label */ 
#line 53
  if (new_direction == 2) {
#line 53
    if (snake.direction != 0) {
#line 53
      if (snake.direction != 2) {
#line 55
        snake.direction = 2;
      } else {
#line 53
        goto _L___0;
      }
    } else {
#line 53
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 57
  if (new_direction == 3) {
#line 57
    if (snake.direction != 1) {
#line 57
      if (snake.direction != 3) {
#line 59
        snake.direction = 3;
      }
    }
  }
#line 60
  return;
}
}
#line 70 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
int player_collided_with_borders(void) 
{ 
  int tmp ;

  {
#line 72
  if ((unsigned int )game.mode == 1U) {
    {
#line 73
    tmp = player_hit_borders();
    }
#line 73
    return (tmp);
  } else
#line 75
  if ((unsigned int )game.mode == 2U) {
    {
#line 76
    player_teleport_borders();
    }
  }
#line 81
  return (0);
}
}
#line 87 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
void player_exit(void) 
{ 


  {
#line 89
  if ((unsigned long )snake.body != (unsigned long )((void *)0)) {
    {
#line 91
    free((void *)snake.body);
#line 92
    snake.body = (struct player_pieces *)((void *)0);
    }
  }
#line 94
  return;
}
}
#line 101 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
int player_hit_borders(void) 
{ 


  {
#line 103
  if ((snake.body + 0)->x < 1) {
#line 106
    return (1);
  } else
#line 103
  if ((snake.body + 0)->x > screen.width - 2) {
#line 106
    return (1);
  } else
#line 103
  if ((snake.body + 0)->y < 2) {
#line 106
    return (1);
  } else
#line 103
  if ((snake.body + 0)->y > screen.height - 2) {
#line 106
    return (1);
  }
#line 108
  return (0);
}
}
#line 116 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
int player_hit_fruit(void) 
{ 


  {
#line 118
  if ((snake.body + 0)->x == fruit.x) {
#line 118
    if ((snake.body + 0)->y == fruit.y) {
#line 119
      return (1);
    } else {
#line 121
      return (0);
    }
  } else {
#line 121
    return (0);
  }
}
}
#line 127 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
int player_hit_self(void) 
{ 
  int i ;

  {
#line 130
  i = snake.size - 1;
  {
#line 130
  while (1) {
    while_continue: /* CIL Label */ ;
#line 130
    if (! (i > 1)) {
#line 130
      goto while_break;
    }
#line 132
    if ((snake.body + 0)->x == (snake.body + i)->x) {
#line 132
      if ((snake.body + 0)->y == (snake.body + i)->y) {
#line 135
        return (1);
      }
    }
#line 130
    i --;
  }
  while_break: /* CIL Label */ ;
  }
#line 138
  return (0);
}
}
#line 144 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
void player_increase_score(int add ) 
{ 


  {
#line 146
  snake.score += add;
#line 147
  return;
}
}
#line 159 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
void player_increase_size(int size ) 
{ 
  int piece_size ;
  void *tmp ;

  {
  {
#line 161
  piece_size = (int )sizeof(struct player_pieces );
#line 163
  snake.size += size;
#line 165
  tmp = realloc((void *)snake.body, (size_t )(snake.size * piece_size));
#line 165
  snake.body = (struct player_pieces *)tmp;
  }
#line 166
  if ((unsigned long )snake.body == (unsigned long )((void *)0)) {
    {
#line 167
    nsnake_abort((char *)"Memory Error!\n");
    }
  }
#line 168
  return;
}
}
#line 173 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
void player_init(void) 
{ 
  void *tmp ;
  int i ;

  {
  {
#line 175
  snake.body = (struct player_pieces *)((void *)0);
#line 177
  snake.is_alive = 1;
#line 178
  snake.speed = 1;
#line 179
  snake.score = 0;
#line 180
  snake.direction = 3;
#line 182
  snake.size = 3;
#line 183
  tmp = malloc((unsigned long )snake.size * sizeof(struct player_pieces ));
#line 183
  snake.body = (struct player_pieces *)tmp;
  }
#line 184
  if ((unsigned long )snake.body == (unsigned long )((void *)0)) {
    {
#line 185
    nsnake_abort((char *)"Memory Error!\n");
    }
  }
#line 188
  i = 0;
  {
#line 188
  while (1) {
    while_continue: /* CIL Label */ ;
#line 188
    if (! (i < snake.size)) {
#line 188
      goto while_break;
    }
#line 190
    (snake.body + i)->x = screen.width / 2;
#line 191
    (snake.body + i)->y = screen.height / 2;
#line 188
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 193
  return;
}
}
#line 198 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
void player_teleport_borders(void) 
{ 


  {
#line 200
  if ((snake.body + 0)->x < 1) {
#line 201
    (snake.body + 0)->x = screen.width - 2;
  }
#line 203
  if ((snake.body + 0)->y < 2) {
#line 204
    (snake.body + 0)->y = screen.height - 2;
  }
#line 206
  if ((snake.body + 0)->x > screen.width - 2) {
#line 207
    (snake.body + 0)->x = 1;
  }
#line 209
  if ((snake.body + 0)->y > screen.height - 2) {
#line 210
    (snake.body + 0)->y = 2;
  }
#line 211
  return;
}
}
#line 219 "/home/wheatley/newnew/temp/nsnake-1.5/src/player.c"
void player_update(void) 
{ 
  int i ;

  {
#line 223
  i = snake.size - 1;
  {
#line 223
  while (1) {
    while_continue: /* CIL Label */ ;
#line 223
    if (! (i > 0)) {
#line 223
      goto while_break;
    }
#line 225
    (snake.body + i)->x = (snake.body + (i - 1))->x;
#line 226
    (snake.body + i)->y = (snake.body + (i - 1))->y;
#line 223
    i --;
  }
  while_break: /* CIL Label */ ;
  }
#line 230
  if (snake.direction == 0) {
#line 231
    (snake.body + 0)->y -= snake.speed;
  } else
#line 233
  if (snake.direction == 1) {
#line 234
    (snake.body + 0)->x -= snake.speed;
  } else
#line 236
  if (snake.direction == 2) {
#line 237
    (snake.body + 0)->y += snake.speed;
  } else
#line 239
  if (snake.direction == 3) {
#line 240
    (snake.body + 0)->x += snake.speed;
  }
#line 241
  return;
}
}
#line 374 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) rand)(void) ;
#line 376
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) srand)(unsigned int __seed ) ;
#line 192 "/usr/include/time.h"
extern  __attribute__((__nothrow__)) time_t ( __attribute__((__leaf__)) time)(time_t *__timer ) ;
#line 49 "/home/wheatley/newnew/temp/nsnake-1.5/src/fruit.h"
struct fruit_t fruit  ;
#line 44 "/home/wheatley/newnew/temp/nsnake-1.5/src/fruit.c"
void fruit_init(void) 
{ 
  int top ;
  int bottom ;
  int valid_fruit ;
  time_t tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int i ;

  {
  {
#line 46
  top = 50;
#line 47
  bottom = 10;
#line 48
  valid_fruit = 0;
#line 52
  tmp = time((time_t *)((void *)0));
#line 52
  srand((unsigned int )tmp);
  }
  {
#line 54
  while (1) {
    while_continue: /* CIL Label */ ;
#line 54
    if (! (valid_fruit == 0)) {
#line 54
      goto while_break;
    }
    {
#line 57
    tmp___0 = rand();
#line 57
    fruit.x = tmp___0 % (((screen.width - 2) - 1) + 1) + 1;
#line 58
    tmp___1 = rand();
#line 58
    fruit.y = tmp___1 % (((screen.height - 2) - 2) + 2) + 2;
#line 61
    tmp___2 = rand();
#line 61
    fruit.bonus += tmp___2 % ((top - bottom) + 1) + bottom;
    }
#line 63
    if (fruit.y != screen.height - 1) {
#line 64
      valid_fruit = 1;
    }
#line 68
    i = 0;
    {
#line 68
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 68
      if (! (i < snake.size - 1)) {
#line 68
        goto while_break___0;
      }
#line 70
      if (fruit.x == (snake.body + i)->x) {
#line 70
        if (fruit.y == (snake.body + i)->y) {
#line 73
          valid_fruit = 0;
#line 74
          goto while_break___0;
        }
      }
#line 68
      i ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 78
  return;
}
}
#line 83 "/home/wheatley/newnew/temp/nsnake-1.5/src/fruit.c"
void fruit_update_bonus(void) 
{ 


  {
#line 85
  if (fruit.bonus > 0) {
#line 86
    (fruit.bonus) --;
  }
#line 87
  return;
}
}
