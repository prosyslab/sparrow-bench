/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 125 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __uid_t;
#line 126 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __gid_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 133 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef int __pid_t;
#line 139 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 172 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __ssize_t;
#line 220 "/usr/include/unistd.h"
typedef __ssize_t ssize_t;
#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 75 "/usr/include/time.h"
typedef __time_t time_t;
#line 85 "/usr/include/signal.h"
typedef void (*__sighandler_t)(int  );
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 44
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 40 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stdarg.h"
typedef __builtin_va_list __gnuc_va_list;
#line 144 "/usr/include/libio.h"
struct _IO_FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 79 "/usr/include/stdio.h"
typedef __gnuc_va_list va_list;
#line 49 "/usr/include/pwd.h"
struct passwd {
   char *pw_name ;
   char *pw_passwd ;
   __uid_t pw_uid ;
   __gid_t pw_gid ;
   char *pw_gecos ;
   char *pw_dir ;
   char *pw_shell ;
};
/* compiler builtin: 
   void __builtin_va_start(__builtin_va_list  ) ;  */
/* compiler builtin: 
   void __builtin_va_end(__builtin_va_list  ) ;  */
#line 353 "/usr/include/unistd.h"
extern int close(int __fd ) ;
#line 360
extern ssize_t read(int __fd , void *__buf , size_t __nbytes ) ;
#line 366
extern ssize_t write(int __fd , void const   *__buf , size_t __n ) ;
#line 417
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) pipe)(int *__pipedes ) ;
#line 534
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) dup2)(int __fd ,
                                                                           int __fd2 ) ;
#line 573
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) execl)(char const   *__path ,
                                                                                              char const   *__arg 
                                                                                              , ...) ;
#line 675
extern  __attribute__((__nothrow__)) __uid_t ( __attribute__((__leaf__)) getuid)(void) ;
#line 756
extern  __attribute__((__nothrow__)) __pid_t fork(void) ;
#line 102 "/usr/include/signal.h"
extern  __attribute__((__nothrow__)) __sighandler_t ( __attribute__((__leaf__)) signal)(int __sig ,
                                                                                        void (*__handler)(int  ) ) ;
#line 144 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcmp)(char const   *__s1 ,
                                                                                               char const   *__s2 )  __attribute__((__pure__)) ;
#line 147
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strncmp)(char const   *__s1 ,
                                                                                                char const   *__s2 ,
                                                                                                size_t __n )  __attribute__((__pure__)) ;
#line 399
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1), __leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 170 "/usr/include/stdio.h"
extern struct _IO_FILE *stderr ;
#line 356
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 362
extern int printf(char const   * __restrict  __format  , ...) ;
#line 379
extern  __attribute__((__nothrow__)) int vsprintf(char * __restrict  __s , char const   * __restrict  __format ,
                                                  __gnuc_va_list __arg ) ;
#line 846
extern void perror(char const   *__s ) ;
#line 110 "/usr/include/pwd.h"
extern struct passwd *getpwuid(__uid_t __uid ) ;
#line 147 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) atoi)(char const   *__nptr )  __attribute__((__pure__)) ;
#line 374
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) rand)(void) ;
#line 376
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) srand)(unsigned int __seed ) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 192 "/usr/include/time.h"
extern  __attribute__((__nothrow__)) time_t ( __attribute__((__leaf__)) time)(time_t *__timer ) ;
#line 34 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
static void ( /* format attribute */  wprintf)(char *fmt  , ...) ;
#line 35
void draw_screen(void) ;
#line 36
void my_exit(void) ;
#line 37
int doclick(int x , int y , int times ) ;
#line 39 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int pipe_out[2]  ;
#line 40 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int pipe_in[2]  ;
#line 41 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
char *backcol[10]  = 
#line 41
  {      (char *)"#d9d9d9",      (char *)"#ff0000",      (char *)"#0000ff",      (char *)"#00ff00", 
        (char *)"#ffff00",      (char *)"#ececec",      (char *)"#ff8f8f",      (char *)"#8f8fff", 
        (char *)"#8fff8f",      (char *)"#ffffaf"};
#line 42 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int v[8][8]  ;
#line 43 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int ov[8][8]  ;
#line 44 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int w[8][8]  ;
#line 45 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int ow[8][8]  ;
#line 46 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int numtiles[5]  ;
#line 47 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int onumtiles[5]  ;
#line 48 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
char name[5][34]  ;
#line 49 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int num  ;
#line 50 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int next_num  =    2;
#line 51 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int start_board  =    1;
#line 52 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int max[8][8]  ;
#line 53 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int go  ;
#line 54 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int ogo  ;
#line 55 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int pf  =    0;
#line 56 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int gameover  ;
#line 58 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int set_sq(int x , int y , int who , int val ) 
{ 
  int wtemp ;
  int c ;
  int l ;

  {
#line 61
  wtemp = w[x][y];
#line 62
  w[x][y] = who;
#line 63
  v[x][y] = val;
#line 65
  if (wtemp != who) {
#line 65
    if (who != 0) {
#line 65
      (numtiles[who]) ++;
    }
  }
#line 66
  if (wtemp > 0) {
#line 66
    if (wtemp != who) {
#line 67
      (numtiles[wtemp]) --;
#line 68
      if (wtemp != go) {
#line 68
        if (numtiles[wtemp] == 0) {
#line 68
          numtiles[wtemp] = -1;
        }
      }
#line 69
      c = 0;
#line 70
      l = 1;
      {
#line 70
      while (1) {
        while_continue: /* CIL Label */ ;
#line 70
        if (! (l <= 4)) {
#line 70
          goto while_break;
        }
#line 71
        if (numtiles[l] == -1) {
#line 71
          c ++;
        }
#line 70
        l ++;
      }
      while_break: /* CIL Label */ ;
      }
#line 73
      if (c > num - 2) {
#line 73
        return (go);
      }
    }
  }
#line 75
  return (0);
}
}
#line 78 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
void picknext(void) 
{ 


  {
#line 80
  go ++;
#line 81
  if (go > num) {
#line 81
    go = 1;
  }
  {
#line 82
  while (1) {
    while_continue: /* CIL Label */ ;
#line 82
    if (! (numtiles[go] == -1)) {
#line 82
      goto while_break;
    }
#line 83
    go ++;
#line 84
    if (go > num) {
#line 84
      go = 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 87
  wprintf((char *)".s1 configure -background %s", backcol[go]);
#line 88
  wprintf((char *)".s1 configure -text \"%s to move...\"", name[go]);
  }
#line 89
  return;
}
}
#line 91 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
void update_board(void) 
{ 
  int x ;
  int y ;

  {
#line 94
  y = 0;
  {
#line 94
  while (1) {
    while_continue: /* CIL Label */ ;
#line 94
    if (! (y < 8)) {
#line 94
      goto while_break;
    }
#line 95
    x = 0;
    {
#line 95
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 95
      if (! (x < 8)) {
#line 95
        goto while_break___0;
      }
      {
#line 96
      wprintf((char *)".b.b%d configure -text %d", x + 8 * y, v[x][y]);
#line 97
      wprintf((char *)".b.b%d configure -background %s -activebackground %s", x + 8 * y,
              backcol[w[x][y]], backcol[w[x][y] + 5]);
#line 95
      x ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 94
    y ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 99
  x = 1;
  {
#line 99
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 99
    if (! (x <= 4)) {
#line 99
      goto while_break___1;
    }
#line 100
    if (x <= num) {
#line 102
      if (numtiles[x] > -1) {
        {
#line 102
        wprintf((char *)".c.p.p%d.v configure -text %.2d", x, numtiles[x]);
        }
      } else {
        {
#line 103
        wprintf((char *)".c.p.p%d.v configure -text 00", x);
        }
      }
    }
#line 99
    x ++;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 106
  return;
}
}
#line 108 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
void new_game(void) 
{ 
  int i ;
  int j ;
  int k ;
  int num_cols ;
  int num_rand ;
  char in_buf[5] ;
  int wt[8][8] ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;

  {
#line 114
  num = next_num;
#line 116
  i = 1;
  {
#line 116
  while (1) {
    while_continue: /* CIL Label */ ;
#line 116
    if (! (i <= 4)) {
#line 116
      goto while_break;
    }
#line 117
    if (i > num) {
      {
#line 118
      wprintf((char *)".c.p.p%d.v configure -text 00", i);
#line 119
      wprintf((char *)".c.p.p%d.n configure -background %s", i, backcol[0]);
      }
    } else {
      {
#line 121
      wprintf((char *)".c.p.p%d.n configure -background %s", i, backcol[i]);
      }
    }
    {
#line 122
    numtiles[i] = 0;
#line 123
    wprintf((char *)"puts stdout [string range $playername%d 0 29]", i);
#line 124
    read(pipe_in[0], (void *)(name[i]), (size_t )32);
#line 125
    j = 0;
    }
    {
#line 126
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 126
      if (! ((int )name[i][j] != 10)) {
#line 126
        goto while_break___0;
      }
#line 126
      j ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 127
    name[i][j] = (char)0;
#line 116
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 130
  wprintf((char *)"puts stdout [string range $startcols 0 1]");
#line 131
  read(pipe_in[0], (void *)(in_buf), sizeof(in_buf));
#line 132
  in_buf[4] = (char)0;
#line 133
  num_cols = atoi((char const   *)(in_buf));
  }
#line 134
  if (num_cols < 0) {
#line 134
    num_cols = 0;
  }
#line 135
  if (num_cols > 4) {
#line 135
    num_cols = 4;
  }
  {
#line 137
  wprintf((char *)"puts stdout [string range $startrand 0 2]");
#line 138
  read(pipe_in[0], (void *)(in_buf), sizeof(in_buf));
#line 139
  in_buf[4] = (char)0;
#line 140
  num_rand = atoi((char const   *)(in_buf));
  }
#line 141
  if (num_rand < 0) {
#line 141
    num_rand = 0;
  }
#line 142
  if (num_rand > 32) {
#line 142
    num_rand = 32;
  }
#line 144
  j = 0;
  {
#line 144
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 144
    if (! (j < 8)) {
#line 144
      goto while_break___1;
    }
#line 145
    i = 0;
    {
#line 145
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 145
      if (! (i < 8)) {
#line 145
        goto while_break___2;
      }
#line 146
      ow[i][j] = 0;
#line 147
      w[i][j] = 0;
#line 148
      wt[i][j] = 0;
#line 149
      ov[i][j] = 0;
#line 145
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 144
    j ++;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 152
  if (start_board == 2) {
#line 153
    if (num == 2) {
#line 154
      j = 0;
      {
#line 154
      while (1) {
        while_continue___3: /* CIL Label */ ;
#line 154
        if (! (j < 8)) {
#line 154
          goto while_break___3;
        }
#line 155
        i = 0;
        {
#line 155
        while (1) {
          while_continue___4: /* CIL Label */ ;
#line 155
          if (! (i < num_cols)) {
#line 155
            goto while_break___4;
          }
#line 156
          wt[i][j] = 1;
#line 155
          i ++;
        }
        while_break___4: /* CIL Label */ ;
        }
#line 154
        j ++;
      }
      while_break___3: /* CIL Label */ ;
      }
#line 157
      j = 0;
      {
#line 157
      while (1) {
        while_continue___5: /* CIL Label */ ;
#line 157
        if (! (j < 8)) {
#line 157
          goto while_break___5;
        }
#line 158
        i = 8 - num_cols;
        {
#line 158
        while (1) {
          while_continue___6: /* CIL Label */ ;
#line 158
          if (! (i < 8)) {
#line 158
            goto while_break___6;
          }
#line 159
          wt[i][j] = 2;
#line 158
          i ++;
        }
        while_break___6: /* CIL Label */ ;
        }
#line 157
        j ++;
      }
      while_break___5: /* CIL Label */ ;
      }
    } else
#line 160
    if (num == 3) {
#line 161
      j = 0;
      {
#line 161
      while (1) {
        while_continue___7: /* CIL Label */ ;
#line 161
        if (! (j < num_cols)) {
#line 161
          goto while_break___7;
        }
#line 162
        i = 0;
        {
#line 162
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 162
          if (! (i < num_cols)) {
#line 162
            goto while_break___8;
          }
#line 163
          wt[i][j] = 1;
#line 162
          i ++;
        }
        while_break___8: /* CIL Label */ ;
        }
#line 161
        j ++;
      }
      while_break___7: /* CIL Label */ ;
      }
#line 164
      j = 0;
      {
#line 164
      while (1) {
        while_continue___9: /* CIL Label */ ;
#line 164
        if (! (j < num_cols)) {
#line 164
          goto while_break___9;
        }
#line 165
        i = 8 - num_cols;
        {
#line 165
        while (1) {
          while_continue___10: /* CIL Label */ ;
#line 165
          if (! (i < 8)) {
#line 165
            goto while_break___10;
          }
#line 166
          wt[i][j] = 2;
#line 165
          i ++;
        }
        while_break___10: /* CIL Label */ ;
        }
#line 164
        j ++;
      }
      while_break___9: /* CIL Label */ ;
      }
#line 167
      j = 8 - num_cols;
      {
#line 167
      while (1) {
        while_continue___11: /* CIL Label */ ;
#line 167
        if (! (j < 8)) {
#line 167
          goto while_break___11;
        }
#line 168
        i = 0;
        {
#line 168
        while (1) {
          while_continue___12: /* CIL Label */ ;
#line 168
          if (! (i < num_cols)) {
#line 168
            goto while_break___12;
          }
#line 169
          wt[i][j] = 3;
#line 168
          i ++;
        }
        while_break___12: /* CIL Label */ ;
        }
#line 167
        j ++;
      }
      while_break___11: /* CIL Label */ ;
      }
    } else {
#line 171
      j = 0;
      {
#line 171
      while (1) {
        while_continue___13: /* CIL Label */ ;
#line 171
        if (! (j < num_cols)) {
#line 171
          goto while_break___13;
        }
#line 172
        i = 0;
        {
#line 172
        while (1) {
          while_continue___14: /* CIL Label */ ;
#line 172
          if (! (i < num_cols)) {
#line 172
            goto while_break___14;
          }
#line 173
          wt[i][j] = 1;
#line 172
          i ++;
        }
        while_break___14: /* CIL Label */ ;
        }
#line 171
        j ++;
      }
      while_break___13: /* CIL Label */ ;
      }
#line 174
      j = 0;
      {
#line 174
      while (1) {
        while_continue___15: /* CIL Label */ ;
#line 174
        if (! (j < num_cols)) {
#line 174
          goto while_break___15;
        }
#line 175
        i = 8 - num_cols;
        {
#line 175
        while (1) {
          while_continue___16: /* CIL Label */ ;
#line 175
          if (! (i < 8)) {
#line 175
            goto while_break___16;
          }
#line 176
          wt[i][j] = 2;
#line 175
          i ++;
        }
        while_break___16: /* CIL Label */ ;
        }
#line 174
        j ++;
      }
      while_break___15: /* CIL Label */ ;
      }
#line 177
      j = 8 - num_cols;
      {
#line 177
      while (1) {
        while_continue___17: /* CIL Label */ ;
#line 177
        if (! (j < 8)) {
#line 177
          goto while_break___17;
        }
#line 178
        i = 0;
        {
#line 178
        while (1) {
          while_continue___18: /* CIL Label */ ;
#line 178
          if (! (i < num_cols)) {
#line 178
            goto while_break___18;
          }
#line 179
          wt[i][j] = 3;
#line 178
          i ++;
        }
        while_break___18: /* CIL Label */ ;
        }
#line 177
        j ++;
      }
      while_break___17: /* CIL Label */ ;
      }
#line 180
      j = 8 - num_cols;
      {
#line 180
      while (1) {
        while_continue___19: /* CIL Label */ ;
#line 180
        if (! (j < 8)) {
#line 180
          goto while_break___19;
        }
#line 181
        i = 8 - num_cols;
        {
#line 181
        while (1) {
          while_continue___20: /* CIL Label */ ;
#line 181
          if (! (i < 8)) {
#line 181
            goto while_break___20;
          }
#line 182
          wt[i][j] = 4;
#line 181
          i ++;
        }
        while_break___20: /* CIL Label */ ;
        }
#line 180
        j ++;
      }
      while_break___19: /* CIL Label */ ;
      }
    }
  }
#line 186
  if (start_board == 3) {
#line 187
    if (num == 3) {
#line 187
      if (num_rand > 16) {
#line 187
        num_rand = 21;
      }
    }
#line 188
    if (num == 4) {
#line 188
      if (num_rand > 21) {
#line 188
        num_rand = 16;
      }
    }
#line 190
    i = 0;
    {
#line 190
    while (1) {
      while_continue___21: /* CIL Label */ ;
#line 190
      if (! (i < num_rand)) {
#line 190
        goto while_break___21;
      }
#line 191
      j = 1;
      {
#line 191
      while (1) {
        while_continue___22: /* CIL Label */ ;
#line 191
        if (! (j <= num)) {
#line 191
          goto while_break___22;
        }
        {
#line 192
        tmp = rand();
#line 192
        k = tmp % 64;
        }
        {
#line 193
        while (1) {
          while_continue___23: /* CIL Label */ ;
#line 193
          if (! (wt[k % 8][k / 8] != 0)) {
#line 193
            goto while_break___23;
          }
          {
#line 194
          tmp___0 = rand();
#line 194
          k = tmp___0 % 64;
          }
        }
        while_break___23: /* CIL Label */ ;
        }
#line 195
        wt[k % 8][k / 8] = j;
#line 191
        j ++;
      }
      while_break___22: /* CIL Label */ ;
      }
#line 190
      i ++;
    }
    while_break___21: /* CIL Label */ ;
    }
  }
#line 200
  j = 0;
  {
#line 200
  while (1) {
    while_continue___24: /* CIL Label */ ;
#line 200
    if (! (j < 8)) {
#line 200
      goto while_break___24;
    }
#line 201
    i = 0;
    {
#line 201
    while (1) {
      while_continue___25: /* CIL Label */ ;
#line 201
      if (! (i < 8)) {
#line 201
        goto while_break___25;
      }
#line 202
      if (wt[i][j] > 0) {
        {
#line 202
        tmp___1 = rand();
#line 202
        set_sq(i, j, wt[i][j], tmp___1 % max[i][j] + 1);
        }
      } else {
        {
#line 203
        set_sq(i, j, 0, 0);
        }
      }
#line 201
      i ++;
    }
    while_break___25: /* CIL Label */ ;
    }
#line 200
    j ++;
  }
  while_break___24: /* CIL Label */ ;
  }
  {
#line 205
  gameover = 0;
#line 207
  update_board();
#line 209
  i = 0;
  }
  {
#line 209
  while (1) {
    while_continue___26: /* CIL Label */ ;
#line 209
    if (! (i < 3)) {
#line 209
      goto while_break___26;
    }
#line 210
    onumtiles[i] = 0;
#line 209
    i ++;
  }
  while_break___26: /* CIL Label */ ;
  }
  {
#line 212
  wprintf((char *)".u configure -state disabled");
  }
#line 214
  if (pf == 0) {
#line 214
    go = num;
  } else {
    {
#line 215
    tmp___2 = rand();
#line 215
    go = tmp___2 % num + 1;
    }
  }
  {
#line 217
  picknext();
  }
#line 218
  return;
}
}
#line 220 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
void undo_move(void) 
{ 
  int x ;
  int y ;

  {
  {
#line 223
  wprintf((char *)".u configure -state disabled");
#line 224
  go = ogo;
#line 225
  gameover = 0;
#line 226
  y = 0;
  }
  {
#line 226
  while (1) {
    while_continue: /* CIL Label */ ;
#line 226
    if (! (y < 8)) {
#line 226
      goto while_break;
    }
#line 227
    x = 0;
    {
#line 227
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 227
      if (! (x < 8)) {
#line 227
        goto while_break___0;
      }
#line 228
      v[x][y] = ov[x][y];
#line 229
      w[x][y] = ow[x][y];
#line 227
      x ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 226
    y ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 231
  x = 1;
  {
#line 231
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 231
    if (! (x <= 4)) {
#line 231
      goto while_break___1;
    }
#line 232
    numtiles[x] = onumtiles[x];
#line 231
    x ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 234
  update_board();
#line 235
  wprintf((char *)".s1 configure -background %s", backcol[go]);
#line 236
  wprintf((char *)".s1 configure -text \"%s to move...\"", name[go]);
  }
#line 237
  return;
}
}
#line 239 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int doclick(int x , int y , int times ) 
{ 
  int r ;

  {
#line 242
  if (times > 1000) {
#line 242
    return (go);
  }
#line 243
  r = 0;
#line 244
  if (v[x][y] < max[x][y]) {
    {
#line 245
    r = set_sq(x, y, go, v[x][y] + 1);
    }
#line 246
    if (r > 0) {
#line 246
      return (r);
    }
  } else {
    {
#line 249
    r = set_sq(x, y, 0, 0);
    }
#line 250
    if (r > 0) {
#line 250
      return (r);
    }
#line 251
    if (x > 0) {
      {
#line 251
      r = doclick(x - 1, y, times + 1);
      }
    }
#line 252
    if (r > 0) {
#line 252
      return (r);
    }
#line 253
    if (x < 7) {
      {
#line 253
      r = doclick(x + 1, y, times + 1);
      }
    }
#line 254
    if (r > 0) {
#line 254
      return (r);
    }
#line 255
    if (y > 0) {
      {
#line 255
      r = doclick(x, y - 1, times + 1);
      }
    }
#line 256
    if (r > 0) {
#line 256
      return (r);
    }
#line 257
    if (y < 7) {
      {
#line 257
      r = doclick(x, y + 1, times + 1);
      }
    }
#line 258
    if (r > 0) {
#line 258
      return (r);
    }
  }
#line 260
  return (0);
}
}
#line 263 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int clickon(int s ) 
{ 
  int r ;
  int x ;
  int y ;

  {
#line 266
  if (w[s % 8][s / 8] != 0) {
#line 266
    if (w[s % 8][s / 8] != go) {
#line 266
      return (0);
    }
  }
  {
#line 268
  wprintf((char *)".u configure -state normal");
#line 269
  ogo = go;
#line 270
  y = 0;
  }
  {
#line 270
  while (1) {
    while_continue: /* CIL Label */ ;
#line 270
    if (! (y < 8)) {
#line 270
      goto while_break;
    }
#line 271
    x = 0;
    {
#line 271
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 271
      if (! (x < 8)) {
#line 271
        goto while_break___0;
      }
#line 272
      ov[x][y] = v[x][y];
#line 273
      ow[x][y] = w[x][y];
#line 271
      x ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 270
    y ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 275
  x = 1;
  {
#line 275
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 275
    if (! (x <= 4)) {
#line 275
      goto while_break___1;
    }
#line 276
    onumtiles[x] = numtiles[x];
#line 275
    x ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 278
  wprintf((char *)".s1 configure -text \"Busy...\"");
#line 279
  r = doclick(s % 8, s / 8, 1);
#line 280
  update_board();
  }
#line 281
  if (r == 0) {
    {
#line 282
    picknext();
    }
#line 283
    return (0);
  } else {
    {
#line 286
    wprintf((char *)".s1 configure -text \"%s wins.\"", name[go]);
    }
#line 287
    return (1);
  }
}
}
#line 291 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
int main(int argc , char **argv ) 
{ 
  int pid ;
  int quitnow ;
  int showhelp ;
  int showver ;
  int i ;
  int j ;
  char inbuf[6] ;
  char *wish ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  time_t tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;

  {
#line 298
  wish = (char *)"/usr/bin/wish";
#line 299
  quitnow = 0;
#line 300
  showhelp = 0;
#line 301
  showver = 0;
#line 302
  i = 1;
  {
#line 302
  while (1) {
    while_continue: /* CIL Label */ ;
#line 302
    if (! (i < argc)) {
#line 302
      goto while_break;
    }
    {
#line 303
    tmp___1 = strcmp((char const   *)*(argv + i), "-h");
    }
#line 303
    if (tmp___1) {
      {
#line 303
      tmp___2 = strcmp((char const   *)*(argv + i), "--help");
      }
#line 303
      if (tmp___2) {
        {
#line 305
        tmp = strcmp((char const   *)*(argv + i), "-v");
        }
#line 305
        if (tmp) {
          {
#line 305
          tmp___0 = strcmp((char const   *)*(argv + i), "--version");
          }
#line 305
          if (tmp___0) {
#line 307
            wish = *(argv + i);
          } else {
#line 306
            showver = 1;
          }
        } else {
#line 306
          showver = 1;
        }
      } else {
#line 304
        showhelp = 1;
      }
    } else {
#line 304
      showhelp = 1;
    }
#line 302
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 309
  if (showhelp == 1) {
    {
#line 310
    printf((char const   */* __restrict  */)"\nUsage: %s [-v] [--version] [-h] [--help] [path to wish]\n",
           *(argv + 0));
#line 311
    printf((char const   */* __restrict  */)"For more help, type: man %s\n\n", *(argv + 0));
#line 312
    quitnow = 1;
    }
  }
#line 314
  if (showver == 1) {
    {
#line 315
    printf((char const   */* __restrict  */)"\nChain Reaction 1.0.1\nBy Alistair Cunningham <ac212@cam.ac.uk>\n");
#line 316
    printf((char const   */* __restrict  */)"Released under the GNU general public license\n");
#line 317
    printf((char const   */* __restrict  */)"http://thor.cam.ac.uk/~ac212/xchain/\n\n");
#line 318
    quitnow = 1;
    }
  }
#line 320
  if (quitnow == 1) {
    {
#line 320
    exit(0);
    }
  }
  {
#line 322
  signal(17, (void (*)(int  ))((void *)(& my_exit)));
#line 323
  tmp___3 = time((time_t *)((void *)0));
#line 323
  srand((unsigned int )tmp___3);
#line 324
  j = 0;
  }
  {
#line 324
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 324
    if (! (j < 8)) {
#line 324
      goto while_break___0;
    }
#line 325
    i = 0;
    {
#line 325
    while (1) {
      while_continue___1: /* CIL Label */ ;
#line 325
      if (! (i < 8)) {
#line 325
        goto while_break___1;
      }
#line 326
      max[i][j] = 3;
#line 327
      if (i == 0) {
#line 328
        max[i][j] = 2;
      } else
#line 327
      if (i == 7) {
#line 328
        max[i][j] = 2;
      } else
#line 327
      if (j == 0) {
#line 328
        max[i][j] = 2;
      } else
#line 327
      if (j == 7) {
#line 328
        max[i][j] = 2;
      }
#line 329
      if (i == 0) {
#line 329
        goto _L;
      } else
#line 329
      if (i == 7) {
        _L: /* CIL Label */ 
#line 329
        if (j == 0) {
#line 330
          max[i][j] = 1;
        } else
#line 329
        if (j == 7) {
#line 330
          max[i][j] = 1;
        }
      }
#line 325
      i ++;
    }
    while_break___1: /* CIL Label */ ;
    }
#line 324
    j ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 333
  pipe((int *)(pipe_out));
#line 334
  pipe((int *)(pipe_in));
#line 335
  pid = fork();
  }
#line 336
  if (pid == -1) {
    {
#line 337
    perror("Fork");
#line 338
    exit(1);
    }
  }
#line 340
  if (pid == 0) {
    {
#line 342
    close(pipe_out[1]);
#line 343
    close(pipe_in[0]);
#line 344
    dup2(pipe_out[0], 0);
#line 345
    dup2(pipe_in[1], 1);
#line 346
    close(pipe_out[0]);
#line 347
    close(pipe_in[1]);
#line 348
    execl((char const   *)wish, "wish", (void *)0);
#line 349
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"\nCouldn\'t execute %s\n\n",
            wish);
#line 350
    exit(1);
    }
  }
  {
#line 352
  close(pipe_out[0]);
#line 353
  close(pipe_in[1]);
#line 355
  draw_screen();
#line 356
  new_game();
  }
  {
#line 358
  while (1) {
    while_continue___2: /* CIL Label */ ;
    {
#line 359
    read(pipe_in[0], (void *)(inbuf), (size_t )5);
#line 360
    inbuf[4] = (char)0;
#line 361
    tmp___4 = strcmp((char const   *)(inbuf), "newg");
    }
#line 361
    if (! tmp___4) {
      {
#line 361
      new_game();
      }
    }
    {
#line 362
    tmp___5 = strcmp((char const   *)(inbuf), "undo");
    }
#line 362
    if (! tmp___5) {
      {
#line 362
      undo_move();
      }
    }
    {
#line 363
    tmp___6 = strcmp((char const   *)(inbuf), "pl02");
    }
#line 363
    if (! tmp___6) {
#line 363
      next_num = 2;
    }
    {
#line 364
    tmp___7 = strcmp((char const   *)(inbuf), "pl03");
    }
#line 364
    if (! tmp___7) {
#line 364
      next_num = 3;
    }
    {
#line 365
    tmp___8 = strcmp((char const   *)(inbuf), "pl04");
    }
#line 365
    if (! tmp___8) {
#line 365
      next_num = 4;
    }
    {
#line 366
    tmp___9 = strcmp((char const   *)(inbuf), "none");
    }
#line 366
    if (! tmp___9) {
#line 366
      start_board = 1;
    }
    {
#line 367
    tmp___10 = strcmp((char const   *)(inbuf), "cols");
    }
#line 367
    if (! tmp___10) {
#line 367
      start_board = 2;
    }
    {
#line 368
    tmp___11 = strcmp((char const   *)(inbuf), "rand");
    }
#line 368
    if (! tmp___11) {
#line 368
      start_board = 3;
    }
    {
#line 369
    tmp___12 = strcmp((char const   *)(inbuf), "pf01");
    }
#line 369
    if (! tmp___12) {
#line 369
      pf = 0;
    }
    {
#line 370
    tmp___13 = strcmp((char const   *)(inbuf), "pfrn");
    }
#line 370
    if (! tmp___13) {
#line 370
      pf = 1;
    }
#line 371
    if (! gameover) {
      {
#line 371
      tmp___14 = strncmp((char const   *)(inbuf), "zz", (size_t )2);
      }
#line 371
      if (! tmp___14) {
        {
#line 371
        gameover = clickon((10 * ((int )inbuf[2] - 48) + (int )inbuf[3]) - 48);
        }
      }
    }
  }
  while_break___2: /* CIL Label */ ;
  }
#line 374
  return (0);
}
}
#line 377 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
void draw_screen(void) 
{ 
  int i ;
  __uid_t tmp ;
  struct passwd *tmp___0 ;

  {
  {
#line 380
  wprintf((char *)"wm title . \"Chain Reaction\"");
#line 381
  wprintf((char *)"wm resizable . 0 0");
#line 383
  wprintf((char *)"frame .c");
#line 384
  wprintf((char *)"button .c.q -text Quit -command exit");
#line 385
  wprintf((char *)"pack .c.q -side bottom -fill x");
#line 386
  wprintf((char *)"button .c.n -text \"New game\" -command {puts stdout newg}");
#line 387
  wprintf((char *)"pack .c.n -side bottom -fill x");
#line 389
  wprintf((char *)"frame .c.p -relief sunk -borderwidth 1");
#line 390
  wprintf((char *)"set numplayers %d", next_num);
#line 391
  tmp = getuid();
#line 391
  tmp___0 = getpwuid(tmp);
#line 391
  wprintf((char *)"set playername1 \"%s\"", tmp___0->pw_name);
#line 392
  i = 2;
  }
  {
#line 392
  while (1) {
    while_continue: /* CIL Label */ ;
#line 392
    if (! (i <= 4)) {
#line 392
      goto while_break;
    }
    {
#line 393
    wprintf((char *)"set playername%d \"Player %d\"", i, i);
#line 392
    i ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 395
  wprintf((char *)"label .c.p.l -text Players:");
#line 396
  wprintf((char *)"pack .c.p.l -side top");
#line 397
  i = 1;
  }
  {
#line 397
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 397
    if (! (i <= 4)) {
#line 397
      goto while_break___0;
    }
    {
#line 398
    wprintf((char *)"frame .c.p.p%d", i);
    }
#line 399
    if (i == 1) {
      {
#line 400
      wprintf((char *)"radiobutton .c.p.p%d.r  -value 1 -variable numplayers -text %d: -state disabled",
              i, i);
      }
    } else {
      {
#line 401
      wprintf((char *)"radiobutton .c.p.p%d.r -value %d -variable numplayers -text %d: -state normal -command {puts stdout pl0%d}",
              i, i, i, i);
      }
    }
    {
#line 402
    wprintf((char *)"pack .c.p.p%d.r -side left", i);
    }
#line 403
    if (i < 3) {
      {
#line 404
      wprintf((char *)"entry .c.p.p%d.n -textvariable playername%d -width 28 -background %s",
              i, i, backcol[i]);
      }
    } else {
      {
#line 406
      wprintf((char *)"entry .c.p.p%d.n -textvariable playername%d -width 28 -background %s",
              i, i, backcol[0]);
      }
    }
    {
#line 407
    wprintf((char *)"label .c.p.p%d.v", i);
#line 408
    wprintf((char *)"pack .c.p.p%d.v -side right", i);
#line 409
    wprintf((char *)"pack .c.p.p%d.n -side right", i);
#line 410
    wprintf((char *)"pack .c.p.p%d -side top", i);
#line 397
    i ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 412
  wprintf((char *)"pack .c.p -side top -fill both -padx 3 -pady 3");
#line 414
  wprintf((char *)"frame .c.i -relief sunk -borderwidth 1");
#line 415
  wprintf((char *)"set startboard %d", start_board);
#line 416
  wprintf((char *)"label .c.i.l -text \"Start board with:\"");
#line 417
  wprintf((char *)"pack .c.i.l -side top");
#line 418
  wprintf((char *)"frame .c.i.b");
#line 419
  wprintf((char *)"radiobutton .c.i.b.r -value 1 -variable startboard -text None -command {puts stdout none}");
#line 420
  wprintf((char *)"pack .c.i.b.r -side left");
#line 421
  wprintf((char *)"pack .c.i.b -side left");
#line 422
  wprintf((char *)"frame .c.i.c");
#line 423
  wprintf((char *)"radiobutton .c.i.c.r -value 2 -variable startboard -text Cols: -command {puts stdout cols}");
#line 424
  wprintf((char *)"pack .c.i.c.r -side left");
#line 425
  wprintf((char *)"set startcols 4");
#line 426
  wprintf((char *)"entry .c.i.c.e -textvariable startcols -width 3 -justify right");
#line 427
  wprintf((char *)"pack .c.i.c.e -side right");
#line 428
  wprintf((char *)"pack .c.i.c -side left");
#line 429
  wprintf((char *)"frame .c.i.r");
#line 430
  wprintf((char *)"radiobutton .c.i.r.r -value 3 -variable startboard -text \"Random: \" -command {puts stdout rand}");
#line 431
  wprintf((char *)"pack .c.i.r.r -side left");
#line 432
  wprintf((char *)"set startrand 32");
#line 433
  wprintf((char *)"entry .c.i.r.e -textvariable startrand -width 3 -justify right");
#line 434
  wprintf((char *)"pack .c.i.r.e -side right");
#line 435
  wprintf((char *)"pack .c.i.r -side left");
#line 436
  wprintf((char *)"pack .c.i -side top -fill both -padx 3 -pady 3");
#line 438
  wprintf((char *)"frame .c.s -relief sunk -borderwidth 1");
#line 439
  wprintf((char *)"set whosfirst 1");
#line 440
  wprintf((char *)"label .c.s.l -text \"Who goes first:\"");
#line 441
  wprintf((char *)"pack .c.s.l -side top");
#line 442
  wprintf((char *)"radiobutton .c.s.p -value 1 -variable whosfirst -text \"Player 1\" -command {puts stdout pf01}");
#line 443
  wprintf((char *)"pack .c.s.p -side left");
#line 444
  wprintf((char *)"radiobutton .c.s.r -value 2 -variable whosfirst -text \"Random person\" -command {puts stdout pfrn}");
#line 445
  wprintf((char *)"pack .c.s.r -side left");
#line 446
  wprintf((char *)"pack .c.s -side top -fill both -padx 3 -pady 3");
#line 448
  wprintf((char *)"pack .c -side right -fill y");
#line 450
  wprintf((char *)"frame .b -relief sunk -borderwidth 1");
#line 451
  i = 0;
  }
  {
#line 451
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 451
    if (! (i < 64)) {
#line 451
      goto while_break___1;
    }
    {
#line 452
    wprintf((char *)"button .b.b%d -text 0 -command {puts stdout zz%.2d}", i, i);
#line 453
    wprintf((char *)"grid .b.b%d -row %d -column %d", i, i / 8, i % 8);
#line 451
    i ++;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 455
  wprintf((char *)"pack .b -fill both -padx 3 -pady 3");
#line 457
  wprintf((char *)"label .s1 -text \"Who\'s go now\" -relief sunk -borderwidth 1");
#line 458
  wprintf((char *)"pack .s1 -side top -fill x -padx 3 -pady 3");
#line 459
  wprintf((char *)"button .u -text \"Undo last move\" -command {puts stdout undo}");
#line 460
  wprintf((char *)"pack .u -side bottom -fill x");
  }
#line 461
  return;
}
}
#line 463 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
static void ( /* format attribute */  wprintf)(char *fmt  , ...) 
{ 
  va_list argp ;
  char buff[4096] ;
  size_t tmp ;

  {
  {
#line 467
  __builtin_va_start(argp, fmt);
#line 468
  vsprintf((char */* __restrict  */)(buff), (char const   */* __restrict  */)fmt,
           argp);
#line 469
  tmp = strlen((char const   *)(buff));
#line 469
  write(pipe_out[1], (void const   *)(buff), tmp);
#line 470
  __builtin_va_end(argp);
#line 471
  write(pipe_out[1], (void const   *)"\n", (size_t )1);
  }
#line 472
  return;
}
}
#line 474 "/home/june/repo/benchmarks/collector2/temp/xchain-1.0.1/xchain.c"
void my_exit(void) 
{ 


  {
  {
#line 476
  close(pipe_out[1]);
#line 477
  close(pipe_in[0]);
#line 478
  exit(0);
  }
}
}
