/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
struct substdio {
   char *x ;
   int p ;
   int n ;
   int fd ;
   int (*op)() ;
};
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
typedef struct substdio substdio;
#line 126 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __gid_t;
#line 42 "/usr/include/grp.h"
struct group {
   char *gr_name ;
   char *gr_passwd ;
   __gid_t gr_gid ;
   char **gr_mem ;
};
#line 125 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __uid_t;
#line 49 "/usr/include/pwd.h"
struct passwd {
   char *pw_name ;
   char *pw_passwd ;
   __uid_t pw_uid ;
   __gid_t pw_gid ;
   char *pw_gecos ;
   char *pw_dir ;
   char *pw_shell ;
};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
struct stralloc {
   char *s ;
   unsigned int len ;
   unsigned int a ;
};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
typedef struct stralloc stralloc;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.h"
struct qmail {
   int flagerr ;
   unsigned long pid ;
   int fdm ;
   int fde ;
   substdio ss ;
   char buf[1024] ;
};
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/datetime.h"
struct datetime {
   int hour ;
   int min ;
   int sec ;
   int wday ;
   int mday ;
   int yday ;
   int mon ;
   int year ;
};
#line 15 "/home/wheatley/newnew/temp/netqmail-1.06/datetime.h"
typedef long datetime_sec;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 86 "/usr/include/x86_64-linux-gnu/sys/types.h"
typedef __off_t off_t;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/seek.h"
typedef unsigned long seek_pos;
#line 27 "/usr/include/x86_64-linux-gnu/bits/sigset.h"
struct __anonstruct___sigset_t_1 {
   unsigned long __val[1024UL / (8UL * sizeof(unsigned long ))] ;
};
#line 27 "/usr/include/x86_64-linux-gnu/bits/sigset.h"
typedef struct __anonstruct___sigset_t_1 __sigset_t;
#line 49 "/usr/include/signal.h"
typedef __sigset_t sigset_t;
#line 133 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef int __pid_t;
#line 135 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __clock_t;
#line 32 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
union sigval {
   int sival_int ;
   void *sival_ptr ;
};
#line 32 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
typedef union sigval sigval_t;
#line 58 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
typedef __clock_t __sigchld_clock_t;
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__kill_5 {
   __pid_t si_pid ;
   __uid_t si_uid ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__timer_6 {
   int si_tid ;
   int si_overrun ;
   sigval_t si_sigval ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__rt_7 {
   __pid_t si_pid ;
   __uid_t si_uid ;
   sigval_t si_sigval ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigchld_8 {
   __pid_t si_pid ;
   __uid_t si_uid ;
   int si_status ;
   __sigchld_clock_t si_utime ;
   __sigchld_clock_t si_stime ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigfault_9 {
   void *si_addr ;
   short si_addr_lsb ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigpoll_10 {
   long si_band ;
   int si_fd ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct__sigsys_11 {
   void *_call_addr ;
   int _syscall ;
   unsigned int _arch ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
union __anonunion__sifields_4 {
   int _pad[128UL / sizeof(int ) - 4UL] ;
   struct __anonstruct__kill_5 _kill ;
   struct __anonstruct__timer_6 _timer ;
   struct __anonstruct__rt_7 _rt ;
   struct __anonstruct__sigchld_8 _sigchld ;
   struct __anonstruct__sigfault_9 _sigfault ;
   struct __anonstruct__sigpoll_10 _sigpoll ;
   struct __anonstruct__sigsys_11 _sigsys ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
struct __anonstruct_siginfo_t_3 {
   int si_signo ;
   int si_errno ;
   int si_code ;
   union __anonunion__sifields_4 _sifields ;
};
#line 62 "/usr/include/x86_64-linux-gnu/bits/siginfo.h"
typedef struct __anonstruct_siginfo_t_3 siginfo_t;
#line 24 "/usr/include/x86_64-linux-gnu/bits/sigaction.h"
union __anonunion___sigaction_handler_23 {
   void (*sa_handler)(int  ) ;
   void (*sa_sigaction)(int  , siginfo_t * , void * ) ;
};
#line 24 "/usr/include/x86_64-linux-gnu/bits/sigaction.h"
struct sigaction {
   union __anonunion___sigaction_handler_23 __sigaction_handler ;
   __sigset_t sa_mask ;
   int sa_flags ;
   void (*sa_restorer)(void) ;
};
#line 9 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.c"
union __anonunion_aligned_1 {
   char irrelevant[16] ;
   double d ;
};
#line 9 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.c"
typedef union __anonunion_aligned_1 aligned;
#line 139 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __time_t;
#line 75 "/usr/include/time.h"
typedef __time_t time_t;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/strerr.h"
struct strerr {
   struct strerr *who ;
   char *x ;
   char *y ;
   char *z ;
};
#line 124 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __dev_t;
#line 127 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __ino_t;
#line 129 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned int __mode_t;
#line 130 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __nlink_t;
#line 153 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blksize_t;
#line 158 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __blkcnt_t;
#line 175 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __syscall_slong_t;
#line 120 "/usr/include/time.h"
struct timespec {
   __time_t tv_sec ;
   __syscall_slong_t tv_nsec ;
};
#line 46 "/usr/include/x86_64-linux-gnu/bits/stat.h"
struct stat {
   __dev_t st_dev ;
   __ino_t st_ino ;
   __nlink_t st_nlink ;
   __mode_t st_mode ;
   __uid_t st_uid ;
   __gid_t st_gid ;
   int __pad0 ;
   __dev_t st_rdev ;
   __off_t st_size ;
   __blksize_t st_blksize ;
   __blkcnt_t st_blocks ;
   struct timespec st_atim ;
   struct timespec st_mtim ;
   struct timespec st_ctim ;
   __syscall_slong_t __glibc_reserved[3] ;
};
#line 54 "/usr/include/x86_64-linux-gnu/sys/select.h"
typedef long __fd_mask;
#line 64 "/usr/include/x86_64-linux-gnu/sys/select.h"
struct __anonstruct_fd_set_3 {
   __fd_mask __fds_bits[1024 / (8 * (int )sizeof(__fd_mask ))] ;
};
#line 64 "/usr/include/x86_64-linux-gnu/sys/select.h"
typedef struct __anonstruct_fd_set_3 fd_set;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/readwrite.h"
extern int read() ;
#line 16 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
int substdio_flush(substdio *s ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfd.h"
substdio *subfdin ;
#line 8
substdio *subfdout ;
#line 12
int subfd_read(int fd , char *buf___0 , int len ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
int subfd_read(int fd , char *buf___0 , int len ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
  {
#line 7
  tmp = substdio_flush(subfdout);
  }
#line 7
  if (tmp == -1) {
#line 7
    return (-1);
  }
  {
#line 8
  tmp___0 = read(fd, buf___0, len);
  }
#line 8
  return (tmp___0);
}
}
#line 11 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
char subfd_inbuf[8192]  ;
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
static substdio it  =    {subfd_inbuf, 0, 8192, 0, (int (*)())(& subfd_read)};
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
substdio *subfdin  =    & it;
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/byte.h"
int byte_diff(char *s , unsigned int n , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/byte_diff.c"
int byte_diff(char *s , unsigned int n , char *t ) 
{ 


  {
  {
#line 8
  while (1) {
    while_continue: /* CIL Label */ ;
#line 9
    if (! n) {
#line 9
      return (0);
    }
#line 9
    if ((int )*s != (int )*t) {
#line 9
      goto while_break;
    }
#line 9
    s ++;
#line 9
    t ++;
#line 9
    n --;
#line 10
    if (! n) {
#line 10
      return (0);
    }
#line 10
    if ((int )*s != (int )*t) {
#line 10
      goto while_break;
    }
#line 10
    s ++;
#line 10
    t ++;
#line 10
    n --;
#line 11
    if (! n) {
#line 11
      return (0);
    }
#line 11
    if ((int )*s != (int )*t) {
#line 11
      goto while_break;
    }
#line 11
    s ++;
#line 11
    t ++;
#line 11
    n --;
#line 12
    if (! n) {
#line 12
      return (0);
    }
#line 12
    if ((int )*s != (int )*t) {
#line 12
      goto while_break;
    }
#line 12
    s ++;
#line 12
    t ++;
#line 12
    n --;
  }
  while_break: /* CIL Label */ ;
  }
#line 14
  return ((int )((unsigned int )((unsigned char )*s)) - (int )((unsigned int )((unsigned char )*t)));
}
}
#line 17 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
int substdio_put(substdio *s , char *buf___0 , int len ) ;
#line 26
int substdio_feed(substdio *s ) ;
#line 45
int substdio_copy(substdio *ssout , substdio *ssin ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/substdio_copy.c"
int substdio_copy(substdio *ssout , substdio *ssin ) 
{ 
  register int n ;
  register char *x ;
  int tmp ;

  {
  {
#line 10
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 11
    n = substdio_feed(ssin);
    }
#line 12
    if (n < 0) {
#line 12
      return (-2);
    }
#line 13
    if (! n) {
#line 13
      return (0);
    }
    {
#line 14
    x = ssin->x + ssin->n;
#line 15
    tmp = substdio_put(ssout, x, n);
    }
#line 15
    if (tmp == -1) {
#line 15
      return (-3);
    }
#line 16
    ssin->p -= n;
#line 16
    ssin->n += n;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 111 "/usr/include/grp.h"
extern struct group *getgrnam(char const   *__name ) ;
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
int substdio_puts(substdio *s , char *buf___0 ) ;
#line 10 "/home/wheatley/newnew/temp/netqmail-1.06/subfd.h"
substdio *subfderr ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/readwrite.h"
extern int write() ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/exit.h"
extern void _exit() ;
#line 14 "/home/wheatley/newnew/temp/netqmail-1.06/fmt.h"
unsigned int fmt_ulong(char *s , unsigned long u ) ;
#line 10 "/home/wheatley/newnew/temp/netqmail-1.06/auto-gid.c"
char buf1[256]  ;
#line 11 "/home/wheatley/newnew/temp/netqmail-1.06/auto-gid.c"
substdio ss1  =    {buf1, 0, (int )sizeof(buf1), 1, & write};
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/auto-gid.c"
void outs(char *s ) 
{ 
  int tmp ;

  {
  {
#line 16
  tmp = substdio_puts(& ss1, s);
  }
#line 16
  if (tmp == -1) {
    {
#line 16
    _exit(111);
    }
  }
#line 17
  return;
}
}
#line 19 "/home/wheatley/newnew/temp/netqmail-1.06/auto-gid.c"
void main(int argc , char **argv ) 
{ 
  char *name ;
  char *value ;
  struct group *gr ;
  char strnum[40] ;
  unsigned int tmp ;
  int tmp___0 ;

  {
#line 28
  name = *(argv + 1);
#line 29
  if (! name) {
    {
#line 29
    _exit(100);
    }
  }
#line 30
  value = *(argv + 2);
#line 31
  if (! value) {
    {
#line 31
    _exit(100);
    }
  }
  {
#line 33
  gr = getgrnam((char const   *)value);
  }
#line 34
  if (! gr) {
    {
#line 35
    substdio_puts(subfderr, "fatal: unable to find group ");
#line 36
    substdio_puts(subfderr, value);
#line 37
    substdio_puts(subfderr, "\n");
#line 38
    substdio_flush(subfderr);
#line 39
    _exit(111);
    }
  }
  {
#line 42
  tmp = fmt_ulong(strnum, (unsigned long )gr->gr_gid);
#line 42
  strnum[tmp] = (char)0;
#line 44
  outs((char *)"int ");
#line 45
  outs(name);
#line 46
  outs((char *)" = ");
#line 47
  outs(strnum);
#line 48
  outs((char *)";\n");
#line 49
  tmp___0 = substdio_flush(& ss1);
  }
#line 49
  if (tmp___0 == -1) {
    {
#line 49
    _exit(111);
    }
  }
  {
#line 50
  _exit(0);
  }
#line 51
  return;
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/fmt.h"
unsigned int fmt_uint(char *s , unsigned int u ) ;
#line 8
unsigned int fmt_uint0(char *s , unsigned int u , unsigned int n ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/fmt_uint0.c"
unsigned int fmt_uint0(char *s , unsigned int u , unsigned int n ) 
{ 
  unsigned int len ;
  char *tmp ;

  {
  {
#line 6
  len = fmt_uint((char *)0, u);
  }
  {
#line 7
  while (1) {
    while_continue: /* CIL Label */ ;
#line 7
    if (! (len < n)) {
#line 7
      goto while_break;
    }
#line 7
    if (s) {
#line 7
      tmp = s;
#line 7
      s ++;
#line 7
      *tmp = (char )'0';
    }
#line 7
    len ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 8
  if (s) {
    {
#line 8
    fmt_uint(s, u);
    }
  }
#line 9
  return (len);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/error.h"
int error_intr ;
#line 7
int error_nomem ;
#line 8
int error_noent ;
#line 9
int error_txtbsy ;
#line 10
int error_io ;
#line 11
int error_exist ;
#line 12
int error_timeout ;
#line 13
int error_inprogress ;
#line 14
int error_wouldblock ;
#line 15
int error_again ;
#line 16
int error_pipe ;
#line 17
int error_perm ;
#line 18
int error_acces ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_intr  =    4;
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_nomem  =    12;
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_noent  =    2;
#line 27 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_txtbsy  =    26;
#line 34 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_io  =    5;
#line 41 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_exist  =    17;
#line 48 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_timeout  =    110;
#line 55 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_inprogress  =    115;
#line 62 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_wouldblock  =    11;
#line 69 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_again  =    11;
#line 76 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_pipe  =    32;
#line 83 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_perm  =    1;
#line 90 "/home/wheatley/newnew/temp/netqmail-1.06/error.c"
int error_acces  =    13;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/byte.h"
unsigned int byte_chr(char *s , unsigned int n , int c ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/byte_chr.c"
unsigned int byte_chr(char *s , unsigned int n , int c ) 
{ 
  register char ch ;
  register char *t ;

  {
#line 11
  ch = (char )c;
#line 12
  t = s;
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! n) {
#line 14
      goto while_break;
    }
#line 14
    if ((int )*t == (int )ch) {
#line 14
      goto while_break;
    }
#line 14
    t ++;
#line 14
    n --;
#line 15
    if (! n) {
#line 15
      goto while_break;
    }
#line 15
    if ((int )*t == (int )ch) {
#line 15
      goto while_break;
    }
#line 15
    t ++;
#line 15
    n --;
#line 16
    if (! n) {
#line 16
      goto while_break;
    }
#line 16
    if ((int )*t == (int )ch) {
#line 16
      goto while_break;
    }
#line 16
    t ++;
#line 16
    n --;
#line 17
    if (! n) {
#line 17
      goto while_break;
    }
#line 17
    if ((int )*t == (int )ch) {
#line 17
      goto while_break;
    }
#line 17
    t ++;
#line 17
    n --;
  }
  while_break: /* CIL Label */ ;
  }
#line 19
  return ((unsigned int )(t - s));
}
}
#line 10 "/home/wheatley/newnew/temp/netqmail-1.06/scan.h"
unsigned int scan_ulong(char *s , unsigned long *u ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/scan_ulong.c"
unsigned int scan_ulong(char *s , unsigned long *u ) 
{ 
  register unsigned int pos ;
  register unsigned long result___0 ;
  register unsigned long c ;

  {
#line 7
  pos = 0U;
#line 7
  result___0 = 0UL;
  {
#line 8
  while (1) {
    while_continue: /* CIL Label */ ;
#line 8
    c = (unsigned long )((unsigned char )((int )*(s + pos) - 48));
#line 8
    if (! (c < 10UL)) {
#line 8
      goto while_break;
    }
#line 9
    result___0 = result___0 * 10UL + c;
#line 9
    pos ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 10
  *u = result___0;
#line 10
  return (pos);
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
char subfd_outbuf[8192]  ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
static substdio it___0  =    {subfd_outbuf, 0, 8192, 1, & write};
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
substdio *subfdout  =    & it___0;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
char subfd_errbuf[256]  ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
static substdio it___1  =    {subfd_errbuf, 0, 256, 2, & write};
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
substdio *subfderr  =    & it___1;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/byte.h"
void byte_copy(char *to , unsigned int n , char *from ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/byte_copy.c"
void byte_copy(char *to , unsigned int n , char *from ) 
{ 
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;

  {
  {
#line 8
  while (1) {
    while_continue: /* CIL Label */ ;
#line 9
    if (! n) {
#line 9
      return;
    }
#line 9
    tmp = to;
#line 9
    to ++;
#line 9
    tmp___0 = from;
#line 9
    from ++;
#line 9
    *tmp = *tmp___0;
#line 9
    n --;
#line 10
    if (! n) {
#line 10
      return;
    }
#line 10
    tmp___1 = to;
#line 10
    to ++;
#line 10
    tmp___2 = from;
#line 10
    from ++;
#line 10
    *tmp___1 = *tmp___2;
#line 10
    n --;
#line 11
    if (! n) {
#line 11
      return;
    }
#line 11
    tmp___3 = to;
#line 11
    to ++;
#line 11
    tmp___4 = from;
#line 11
    from ++;
#line 11
    *tmp___3 = *tmp___4;
#line 11
    n --;
#line 12
    if (! n) {
#line 12
      return;
    }
#line 12
    tmp___5 = to;
#line 12
    to ++;
#line 12
    tmp___6 = from;
#line 12
    from ++;
#line 12
    *tmp___5 = *tmp___6;
#line 12
    n --;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 24 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
int substdio_get(substdio *s , char *buf___0 , int len ) ;
#line 25
int substdio_bget(substdio *s , char *buf___0 , int len ) ;
#line 28
char *substdio_peek(substdio *s ) ;
#line 29
void substdio_seek(substdio *s , int len ) ;
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/byte.h"
void byte_copyr(char *to , unsigned int n , char *from ) ;
#line 50 "/usr/include/x86_64-linux-gnu/bits/errno.h"
extern  __attribute__((__nothrow__)) int *( __attribute__((__leaf__)) __errno_location)(void)  __attribute__((__const__)) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int oneread(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int r ;
  int *tmp ;

  {
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 14
    r = (*op)(fd, buf___0, len);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp = __errno_location();
      }
#line 15
      if (*tmp == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    return (r);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int getthis(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  register int q ;

  {
#line 28
  r = s->p;
#line 29
  q = r - len;
#line 30
  if (q > 0) {
#line 30
    r = len;
#line 30
    s->p = q;
  } else {
#line 30
    s->p = 0;
  }
  {
#line 31
  byte_copy(buf___0, r, s->x + s->n);
#line 32
  s->n += r;
  }
#line 33
  return (r);
}
}
#line 36 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
int substdio_feed(substdio *s ) 
{ 
  register int r ;
  register int q ;

  {
#line 42
  if (s->p) {
#line 42
    return (s->p);
  }
  {
#line 43
  q = s->n;
#line 44
  r = oneread(s->op, s->fd, s->x, q);
  }
#line 45
  if (r <= 0) {
#line 45
    return (r);
  }
#line 46
  s->p = r;
#line 47
  q -= r;
#line 48
  s->n = q;
#line 49
  if (q > 0) {
    {
#line 49
    byte_copyr(s->x + q, r, s->x);
    }
  }
#line 50
  return (r);
}
}
#line 53 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
int substdio_bget(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 60
  if (s->p > 0) {
    {
#line 60
    tmp = getthis(s, buf___0, len);
    }
#line 60
    return (tmp);
  }
#line 61
  r = s->n;
#line 61
  if (r <= len) {
    {
#line 61
    tmp___0 = oneread(s->op, s->fd, buf___0, r);
    }
#line 61
    return (tmp___0);
  }
  {
#line 62
  r = substdio_feed(s);
  }
#line 62
  if (r <= 0) {
#line 62
    return (r);
  }
  {
#line 63
  tmp___1 = getthis(s, buf___0, len);
  }
#line 63
  return (tmp___1);
}
}
#line 66 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
int substdio_get(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 73
  if (s->p > 0) {
    {
#line 73
    tmp = getthis(s, buf___0, len);
    }
#line 73
    return (tmp);
  }
#line 74
  if (s->n <= len) {
    {
#line 74
    tmp___0 = oneread(s->op, s->fd, buf___0, len);
    }
#line 74
    return (tmp___0);
  }
  {
#line 75
  r = substdio_feed(s);
  }
#line 75
  if (r <= 0) {
#line 75
    return (r);
  }
  {
#line 76
  tmp___1 = getthis(s, buf___0, len);
  }
#line 76
  return (tmp___1);
}
}
#line 79 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
char *substdio_peek(substdio *s ) 
{ 


  {
#line 82
  return (s->x + s->n);
}
}
#line 85 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
void substdio_seek(substdio *s , int len ) 
{ 


  {
#line 89
  s->n += len;
#line 90
  s->p -= len;
#line 91
  return;
}
}
#line 14 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
void substdio_fdbuf(substdio *s , int (*op)() , int fd , char *buf___0 , int len ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.c"
void substdio_fdbuf(substdio *s , int (*op)() , int fd , char *buf___0 , int len ) 
{ 


  {
#line 10
  s->x = buf___0;
#line 11
  s->fd = fd;
#line 12
  s->op = op;
#line 13
  s->p = 0;
#line 14
  s->n = len;
#line 15
  return;
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/subfd.h"
substdio *subfdinsmall ;
#line 9
substdio *subfdoutsmall ;
#line 13
int subfd_readsmall(int fd , char *buf___0 , int len ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
int subfd_readsmall(int fd , char *buf___0 , int len ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
  {
#line 7
  tmp = substdio_flush(subfdoutsmall);
  }
#line 7
  if (tmp == -1) {
#line 7
    return (-1);
  }
  {
#line 8
  tmp___0 = read(fd, buf___0, len);
  }
#line 8
  return (tmp___0);
}
}
#line 11 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
char subfd_inbufsmall[256]  ;
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
static substdio it___2  =    {subfd_inbufsmall, 0, 256, 0, (int (*)())(& subfd_readsmall)};
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
substdio *subfdinsmall  =    & it___2;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/byte_cr.c"
void byte_copyr(char *to , unsigned int n , char *from ) 
{ 


  {
#line 8
  to += n;
#line 9
  from += n;
  {
#line 10
  while (1) {
    while_continue: /* CIL Label */ ;
#line 11
    if (! n) {
#line 11
      return;
    }
#line 11
    to --;
#line 11
    from --;
#line 11
    *to = *from;
#line 11
    n --;
#line 12
    if (! n) {
#line 12
      return;
    }
#line 12
    to --;
#line 12
    from --;
#line 12
    *to = *from;
#line 12
    n --;
#line 13
    if (! n) {
#line 13
      return;
    }
#line 13
    to --;
#line 13
    from --;
#line 13
    *to = *from;
#line 13
    n --;
#line 14
    if (! n) {
#line 14
      return;
    }
#line 14
    to --;
#line 14
    from --;
#line 14
    *to = *from;
#line 14
    n --;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 18 "/home/wheatley/newnew/temp/netqmail-1.06/substdio.h"
int substdio_bput(substdio *s , char *buf___0 , int len ) ;
#line 19
int substdio_putflush(substdio *s , char *buf___0 , int len ) ;
#line 21
int substdio_bputs(substdio *s , char *buf___0 ) ;
#line 22
int substdio_putsflush(substdio *s , char *buf___0 ) ;
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/str.h"
unsigned int str_len(char *s ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
static int allwrite(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int w ;
  int *tmp ;

  {
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! len) {
#line 14
      goto while_break;
    }
    {
#line 15
    w = (*op)(fd, buf___0, len);
    }
#line 16
    if (w == -1) {
      {
#line 17
      tmp = __errno_location();
      }
#line 17
      if (*tmp == error_intr) {
#line 17
        goto while_continue;
      }
#line 18
      return (-1);
    }
#line 21
    buf___0 += w;
#line 22
    len -= w;
  }
  while_break: /* CIL Label */ ;
  }
#line 24
  return (0);
}
}
#line 27 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
int substdio_flush(substdio *s ) 
{ 
  register int p ;
  int tmp ;

  {
#line 32
  p = s->p;
#line 33
  if (! p) {
#line 33
    return (0);
  }
  {
#line 34
  s->p = 0;
#line 35
  tmp = allwrite(s->op, s->fd, s->x, p);
  }
#line 35
  return (tmp);
}
}
#line 38 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
int substdio_bput(substdio *s , char *buf___0 , int len ) 
{ 
  register int n ;
  int tmp ;

  {
  {
#line 45
  while (1) {
    while_continue: /* CIL Label */ ;
#line 45
    n = s->n - s->p;
#line 45
    if (! (len > n)) {
#line 45
      goto while_break;
    }
    {
#line 46
    byte_copy(s->x + s->p, n, buf___0);
#line 46
    s->p += n;
#line 46
    buf___0 += n;
#line 46
    len -= n;
#line 47
    tmp = substdio_flush(s);
    }
#line 47
    if (tmp == -1) {
#line 47
      return (-1);
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 50
  byte_copy(s->x + s->p, len, buf___0);
#line 51
  s->p += len;
  }
#line 52
  return (0);
}
}
#line 55 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
int substdio_put(substdio *s , char *buf___0 , int len ) 
{ 
  register int n ;
  int tmp ;
  int tmp___0 ;

  {
#line 62
  n = s->n;
#line 63
  if (len > n - s->p) {
    {
#line 64
    tmp = substdio_flush(s);
    }
#line 64
    if (tmp == -1) {
#line 64
      return (-1);
    }
#line 66
    if (n < 8192) {
#line 66
      n = 8192;
    }
    {
#line 67
    while (1) {
      while_continue: /* CIL Label */ ;
#line 67
      if (! (len > s->n)) {
#line 67
        goto while_break;
      }
#line 68
      if (n > len) {
#line 68
        n = len;
      }
      {
#line 69
      tmp___0 = allwrite(s->op, s->fd, buf___0, n);
      }
#line 69
      if (tmp___0 == -1) {
#line 69
        return (-1);
      }
#line 70
      buf___0 += n;
#line 71
      len -= n;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 75
  byte_copy(s->x + s->p, len, buf___0);
#line 76
  s->p += len;
  }
#line 77
  return (0);
}
}
#line 80 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
int substdio_putflush(substdio *s , char *buf___0 , int len ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
  {
#line 85
  tmp = substdio_flush(s);
  }
#line 85
  if (tmp == -1) {
#line 85
    return (-1);
  }
  {
#line 86
  tmp___0 = allwrite(s->op, s->fd, buf___0, len);
  }
#line 86
  return (tmp___0);
}
}
#line 89 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
int substdio_bputs(substdio *s , char *buf___0 ) 
{ 
  unsigned int tmp ;
  int tmp___0 ;

  {
  {
#line 93
  tmp = str_len(buf___0);
#line 93
  tmp___0 = substdio_bput(s, buf___0, (int )tmp);
  }
#line 93
  return (tmp___0);
}
}
#line 96 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
int substdio_puts(substdio *s , char *buf___0 ) 
{ 
  unsigned int tmp ;
  int tmp___0 ;

  {
  {
#line 100
  tmp = str_len(buf___0);
#line 100
  tmp___0 = substdio_put(s, buf___0, (int )tmp);
  }
#line 100
  return (tmp___0);
}
}
#line 103 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
int substdio_putsflush(substdio *s , char *buf___0 ) 
{ 
  unsigned int tmp ;
  int tmp___0 ;

  {
  {
#line 107
  tmp = str_len(buf___0);
#line 107
  tmp___0 = substdio_putflush(s, buf___0, (int )tmp);
  }
#line 107
  return (tmp___0);
}
}
#line 21 "/home/wheatley/newnew/temp/netqmail-1.06/error.h"
int error_temp(int e ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/error_temp.c"
int error_temp(int e ) 
{ 


  {
#line 9
  if (e == error_intr) {
#line 9
    return (1);
  }
#line 10
  if (e == error_nomem) {
#line 10
    return (1);
  }
#line 11
  if (e == error_txtbsy) {
#line 11
    return (1);
  }
#line 12
  if (e == error_io) {
#line 12
    return (1);
  }
#line 13
  if (e == error_timeout) {
#line 13
    return (1);
  }
#line 14
  if (e == error_wouldblock) {
#line 14
    return (1);
  }
#line 15
  if (e == error_again) {
#line 15
    return (1);
  }
#line 17
  if (e == 35) {
#line 17
    return (1);
  }
#line 20
  if (e == 16) {
#line 20
    return (1);
  }
#line 23
  if (e == 23) {
#line 23
    return (1);
  }
#line 26
  if (e == 24) {
#line 26
    return (1);
  }
#line 29
  if (e == 27) {
#line 29
    return (1);
  }
#line 32
  if (e == 28) {
#line 32
    return (1);
  }
#line 35
  if (e == 100) {
#line 35
    return (1);
  }
#line 38
  if (e == 101) {
#line 38
    return (1);
  }
#line 41
  if (e == 102) {
#line 41
    return (1);
  }
#line 44
  if (e == 103) {
#line 44
    return (1);
  }
#line 47
  if (e == 104) {
#line 47
    return (1);
  }
#line 50
  if (e == 105) {
#line 50
    return (1);
  }
#line 53
  if (e == 109) {
#line 53
    return (1);
  }
#line 56
  if (e == 111) {
#line 56
    return (1);
  }
#line 59
  if (e == 112) {
#line 59
    return (1);
  }
#line 62
  if (e == 113) {
#line 62
    return (1);
  }
#line 68
  if (e == 87) {
#line 68
    return (1);
  }
#line 71
  if (e == 122) {
#line 71
    return (1);
  }
#line 74
  if (e == 116) {
#line 74
    return (1);
  }
#line 77
  if (e == 37) {
#line 77
    return (1);
  }
#line 79
  return (0);
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/error.h"
char *error_str(int i ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/error_str.c"
char *error_str(int i ) 
{ 


  {
#line 9
  if (i == 0) {
#line 9
    return ((char *)"no error");
  }
#line 10
  if (i == error_intr) {
#line 10
    return ((char *)"interrupted system call");
  }
#line 11
  if (i == error_nomem) {
#line 11
    return ((char *)"out of memory");
  }
#line 12
  if (i == error_noent) {
#line 12
    return ((char *)"file does not exist");
  }
#line 13
  if (i == error_txtbsy) {
#line 13
    return ((char *)"text busy");
  }
#line 14
  if (i == error_io) {
#line 14
    return ((char *)"input/output error");
  }
#line 15
  if (i == error_exist) {
#line 15
    return ((char *)"file already exists");
  }
#line 16
  if (i == error_timeout) {
#line 16
    return ((char *)"timed out");
  }
#line 17
  if (i == error_inprogress) {
#line 17
    return ((char *)"operation in progress");
  }
#line 18
  if (i == error_again) {
#line 18
    return ((char *)"temporary failure");
  }
#line 19
  if (i == error_wouldblock) {
#line 19
    return ((char *)"input/output would block");
  }
#line 20
  if (i == error_pipe) {
#line 20
    return ((char *)"broken pipe");
  }
#line 21
  if (i == error_perm) {
#line 21
    return ((char *)"permission denied");
  }
#line 22
  if (i == error_acces) {
#line 22
    return ((char *)"access denied");
  }
#line 24
  if (i == 3) {
#line 24
    return ((char *)"no such process");
  }
#line 27
  if (i == 6) {
#line 27
    return ((char *)"device not configured");
  }
#line 30
  if (i == 7) {
#line 30
    return ((char *)"argument list too long");
  }
#line 33
  if (i == 8) {
#line 33
    return ((char *)"exec format error");
  }
#line 36
  if (i == 9) {
#line 36
    return ((char *)"file descriptor not open");
  }
#line 39
  if (i == 10) {
#line 39
    return ((char *)"no child processes");
  }
#line 42
  if (i == 35) {
#line 42
    return ((char *)"operation would cause deadlock");
  }
#line 45
  if (i == 14) {
#line 45
    return ((char *)"bad address");
  }
#line 48
  if (i == 15) {
#line 48
    return ((char *)"not a block device");
  }
#line 51
  if (i == 16) {
#line 51
    return ((char *)"device busy");
  }
#line 54
  if (i == 18) {
#line 54
    return ((char *)"cross-device link");
  }
#line 57
  if (i == 19) {
#line 57
    return ((char *)"device does not support operation");
  }
#line 60
  if (i == 20) {
#line 60
    return ((char *)"not a directory");
  }
#line 63
  if (i == 21) {
#line 63
    return ((char *)"is a directory");
  }
#line 66
  if (i == 22) {
#line 66
    return ((char *)"invalid argument");
  }
#line 69
  if (i == 23) {
#line 69
    return ((char *)"system cannot open more files");
  }
#line 72
  if (i == 24) {
#line 72
    return ((char *)"process cannot open more files");
  }
#line 75
  if (i == 25) {
#line 75
    return ((char *)"not a tty");
  }
#line 78
  if (i == 27) {
#line 78
    return ((char *)"file too big");
  }
#line 81
  if (i == 28) {
#line 81
    return ((char *)"out of disk space");
  }
#line 84
  if (i == 29) {
#line 84
    return ((char *)"unseekable descriptor");
  }
#line 87
  if (i == 30) {
#line 87
    return ((char *)"read-only file system");
  }
#line 90
  if (i == 31) {
#line 90
    return ((char *)"too many links");
  }
#line 93
  if (i == 33) {
#line 93
    return ((char *)"input out of range");
  }
#line 96
  if (i == 34) {
#line 96
    return ((char *)"output out of range");
  }
#line 99
  if (i == 114) {
#line 99
    return ((char *)"operation already in progress");
  }
#line 102
  if (i == 88) {
#line 102
    return ((char *)"not a socket");
  }
#line 105
  if (i == 89) {
#line 105
    return ((char *)"destination address required");
  }
#line 108
  if (i == 90) {
#line 108
    return ((char *)"message too long");
  }
#line 111
  if (i == 91) {
#line 111
    return ((char *)"incorrect protocol type");
  }
#line 114
  if (i == 92) {
#line 114
    return ((char *)"protocol not available");
  }
#line 117
  if (i == 93) {
#line 117
    return ((char *)"protocol not supported");
  }
#line 120
  if (i == 94) {
#line 120
    return ((char *)"socket type not supported");
  }
#line 123
  if (i == 95) {
#line 123
    return ((char *)"operation not supported");
  }
#line 126
  if (i == 96) {
#line 126
    return ((char *)"protocol family not supported");
  }
#line 129
  if (i == 97) {
#line 129
    return ((char *)"address family not supported");
  }
#line 132
  if (i == 98) {
#line 132
    return ((char *)"address already used");
  }
#line 135
  if (i == 99) {
#line 135
    return ((char *)"address not available");
  }
#line 138
  if (i == 100) {
#line 138
    return ((char *)"network down");
  }
#line 141
  if (i == 101) {
#line 141
    return ((char *)"network unreachable");
  }
#line 144
  if (i == 102) {
#line 144
    return ((char *)"network reset");
  }
#line 147
  if (i == 103) {
#line 147
    return ((char *)"connection aborted");
  }
#line 150
  if (i == 104) {
#line 150
    return ((char *)"connection reset");
  }
#line 153
  if (i == 105) {
#line 153
    return ((char *)"out of buffer space");
  }
#line 156
  if (i == 106) {
#line 156
    return ((char *)"already connected");
  }
#line 159
  if (i == 107) {
#line 159
    return ((char *)"not connected");
  }
#line 162
  if (i == 108) {
#line 162
    return ((char *)"socket shut down");
  }
#line 165
  if (i == 109) {
#line 165
    return ((char *)"too many references");
  }
#line 168
  if (i == 111) {
#line 168
    return ((char *)"connection refused");
  }
#line 171
  if (i == 40) {
#line 171
    return ((char *)"symbolic link loop");
  }
#line 174
  if (i == 36) {
#line 174
    return ((char *)"file name too long");
  }
#line 177
  if (i == 112) {
#line 177
    return ((char *)"host down");
  }
#line 180
  if (i == 113) {
#line 180
    return ((char *)"host unreachable");
  }
#line 183
  if (i == 39) {
#line 183
    return ((char *)"directory not empty");
  }
#line 189
  if (i == 87) {
#line 189
    return ((char *)"too many users");
  }
#line 192
  if (i == 122) {
#line 192
    return ((char *)"disk quota exceeded");
  }
#line 195
  if (i == 116) {
#line 195
    return ((char *)"stale NFS file handle");
  }
#line 198
  if (i == 66) {
#line 198
    return ((char *)"too many levels of remote in path");
  }
#line 216
  if (i == 37) {
#line 216
    return ((char *)"no locks available");
  }
#line 219
  if (i == 38) {
#line 219
    return ((char *)"system call not available");
  }
#line 231
  if (i == 60) {
#line 231
    return ((char *)"not a stream device");
  }
#line 234
  if (i == 62) {
#line 234
    return ((char *)"timer expired");
  }
#line 237
  if (i == 63) {
#line 237
    return ((char *)"out of stream resources");
  }
#line 240
  if (i == 42) {
#line 240
    return ((char *)"no message of desired type");
  }
#line 243
  if (i == 74) {
#line 243
    return ((char *)"bad message type");
  }
#line 246
  if (i == 43) {
#line 246
    return ((char *)"identifier removed");
  }
#line 249
  if (i == 64) {
#line 249
    return ((char *)"machine not on network");
  }
#line 255
  if (i == 67) {
#line 255
    return ((char *)"link severed");
  }
#line 258
  if (i == 68) {
#line 258
    return ((char *)"advertise error");
  }
#line 261
  if (i == 69) {
#line 261
    return ((char *)"srmount error");
  }
#line 264
  if (i == 70) {
#line 264
    return ((char *)"communication error");
  }
#line 267
  if (i == 71) {
#line 267
    return ((char *)"protocol error");
  }
#line 270
  if (i == 72) {
#line 270
    return ((char *)"multihop attempted");
  }
#line 273
  if (i == 78) {
#line 273
    return ((char *)"remote address changed");
  }
#line 275
  return ((char *)"unknown error");
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
char subfd_outbufsmall[256]  ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
static substdio it___3  =    {subfd_outbufsmall, 0, 256, 1, & write};
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
substdio *subfdoutsmall  =    & it___3;
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
static substdio it___4  =    {subfd_inbuf, 0, 8192, 0, (int (*)())(& subfd_read)};
#line 10 "/home/wheatley/newnew/temp/netqmail-1.06/auto-int.c"
void puts(char *s ) 
{ 
  int tmp ;

  {
  {
#line 13
  tmp = substdio_puts(& ss1, s);
  }
#line 13
  if (tmp == -1) {
    {
#line 13
    _exit(111);
    }
  }
#line 14
  return;
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
static substdio it___5  =    {subfd_outbuf, 0, 8192, 1, & write};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
static substdio it___6  =    {subfd_errbuf, 0, 256, 2, & write};
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int oneread___0(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int r ;
  int *tmp ;

  {
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 14
    r = (*op)(fd, buf___0, len);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp = __errno_location();
      }
#line 15
      if (*tmp == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    return (r);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int getthis___0(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  register int q ;

  {
#line 28
  r = s->p;
#line 29
  q = r - len;
#line 30
  if (q > 0) {
#line 30
    r = len;
#line 30
    s->p = q;
  } else {
#line 30
    s->p = 0;
  }
  {
#line 31
  byte_copy(buf___0, r, s->x + s->n);
#line 32
  s->n += r;
  }
#line 33
  return (r);
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
static substdio it___7  =    {subfd_inbufsmall, 0, 256, 0, (int (*)())(& subfd_readsmall)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
static int allwrite___0(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int w ;
  int *tmp ;

  {
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! len) {
#line 14
      goto while_break;
    }
    {
#line 15
    w = (*op)(fd, buf___0, len);
    }
#line 16
    if (w == -1) {
      {
#line 17
      tmp = __errno_location();
      }
#line 17
      if (*tmp == error_intr) {
#line 17
        goto while_continue;
      }
#line 18
      return (-1);
    }
#line 21
    buf___0 += w;
#line 22
    len -= w;
  }
  while_break: /* CIL Label */ ;
  }
#line 24
  return (0);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
static substdio it___8  =    {subfd_outbufsmall, 0, 256, 1, & write};
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
static substdio it___9  =    {subfd_inbuf, 0, 8192, 0, (int (*)())(& subfd_read)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
static substdio it___10  =    {subfd_outbuf, 0, 8192, 1, & write};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
static substdio it___11  =    {subfd_errbuf, 0, 256, 2, & write};
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int oneread___1(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int r ;
  int *tmp ;

  {
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 14
    r = (*op)(fd, buf___0, len);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp = __errno_location();
      }
#line 15
      if (*tmp == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    return (r);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int getthis___1(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  register int q ;

  {
#line 28
  r = s->p;
#line 29
  q = r - len;
#line 30
  if (q > 0) {
#line 30
    r = len;
#line 30
    s->p = q;
  } else {
#line 30
    s->p = 0;
  }
  {
#line 31
  byte_copy(buf___0, r, s->x + s->n);
#line 32
  s->n += r;
  }
#line 33
  return (r);
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
static substdio it___12  =    {subfd_inbufsmall, 0, 256, 0, (int (*)())(& subfd_readsmall)};
#line 116 "/usr/include/pwd.h"
extern struct passwd *getpwnam(char const   *__name ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
static int allwrite___1(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int w ;
  int *tmp ;

  {
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! len) {
#line 14
      goto while_break;
    }
    {
#line 15
    w = (*op)(fd, buf___0, len);
    }
#line 16
    if (w == -1) {
      {
#line 17
      tmp = __errno_location();
      }
#line 17
      if (*tmp == error_intr) {
#line 17
        goto while_continue;
      }
#line 18
      return (-1);
    }
#line 21
    buf___0 += w;
#line 22
    len -= w;
  }
  while_break: /* CIL Label */ ;
  }
#line 24
  return (0);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
static substdio it___13  =    {subfd_outbufsmall, 0, 256, 1, & write};
#line 16 "/home/wheatley/newnew/temp/netqmail-1.06/subgetopt.h"
int subgetopt(int argc , char **argv , char *opts ) ;
#line 17
char *subgetoptarg ;
#line 18
int subgetoptind ;
#line 19
int subgetoptpos ;
#line 20
int subgetoptproblem ;
#line 22
int subgetoptdone ;
#line 22 "/home/wheatley/newnew/temp/netqmail-1.06/subgetopt.c"
int subgetoptind  =    1;
#line 23 "/home/wheatley/newnew/temp/netqmail-1.06/subgetopt.c"
int subgetoptpos  =    0;
#line 24 "/home/wheatley/newnew/temp/netqmail-1.06/subgetopt.c"
char *subgetoptarg  =    (char *)0;
#line 25 "/home/wheatley/newnew/temp/netqmail-1.06/subgetopt.c"
int subgetoptproblem  =    0;
#line 26 "/home/wheatley/newnew/temp/netqmail-1.06/subgetopt.c"
int subgetoptdone  =    -1;
#line 28 "/home/wheatley/newnew/temp/netqmail-1.06/subgetopt.c"
int subgetopt(int argc , char **argv , char *opts ) 
{ 
  int c ;
  char *s ;

  {
#line 36
  subgetoptarg = (char *)0;
#line 37
  if (! argv) {
#line 37
    return (subgetoptdone);
  } else
#line 37
  if (subgetoptind >= argc) {
#line 37
    return (subgetoptdone);
  } else
#line 37
  if (! *(argv + subgetoptind)) {
#line 37
    return (subgetoptdone);
  }
#line 38
  if (subgetoptpos) {
#line 38
    if (! *(*(argv + subgetoptind) + subgetoptpos)) {
#line 39
      subgetoptind ++;
#line 40
      subgetoptpos = 0;
#line 41
      if (subgetoptind >= argc) {
#line 41
        return (subgetoptdone);
      } else
#line 41
      if (! *(argv + subgetoptind)) {
#line 41
        return (subgetoptdone);
      }
    }
  }
#line 43
  if (! subgetoptpos) {
#line 44
    if ((int )*(*(argv + subgetoptind) + 0) != 45) {
#line 44
      return (subgetoptdone);
    }
#line 45
    subgetoptpos ++;
#line 46
    c = (int )*(*(argv + subgetoptind) + 1);
#line 47
    if (c == 45) {
#line 47
      goto _L;
    } else
#line 47
    if (c == 0) {
      _L: /* CIL Label */ 
#line 48
      if (c) {
#line 48
        subgetoptind ++;
      }
#line 49
      subgetoptpos = 0;
#line 50
      return (subgetoptdone);
    }
  }
#line 54
  c = (int )*(*(argv + subgetoptind) + subgetoptpos);
#line 55
  subgetoptpos ++;
#line 56
  s = opts;
  {
#line 57
  while (1) {
    while_continue: /* CIL Label */ ;
#line 57
    if (! *s) {
#line 57
      goto while_break;
    }
#line 58
    if (c == (int )*s) {
#line 59
      if ((int )*(s + 1) == 58) {
#line 60
        subgetoptarg = *(argv + subgetoptind) + subgetoptpos;
#line 61
        subgetoptind ++;
#line 62
        subgetoptpos = 0;
#line 63
        if (! *subgetoptarg) {
#line 64
          subgetoptarg = *(argv + subgetoptind);
#line 65
          if (subgetoptind >= argc) {
#line 66
            subgetoptproblem = c;
#line 67
            return ('?');
          } else
#line 65
          if (! subgetoptarg) {
#line 66
            subgetoptproblem = c;
#line 67
            return ('?');
          }
#line 69
          subgetoptind ++;
        }
      }
#line 72
      return (c);
    }
#line 74
    s ++;
#line 75
    if ((int )*s == 58) {
#line 75
      s ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 77
  subgetoptproblem = c;
#line 78
  return ('?');
}
}
#line 1 "/home/wheatley/newnew/temp/netqmail-1.06/auto_qmail.c"
char auto_qmail[11]  = 
#line 1 "/home/wheatley/newnew/temp/netqmail-1.06/auto_qmail.c"
  {      (char )'/',      (char )'v',      (char )'a',      (char )'r', 
        (char )'/',      (char )'q',      (char )'m',      (char )'a', 
        (char )'i',      (char )'l',      (char )'\000'};
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
int stralloc_ready(stralloc *x , unsigned int n ) ;
#line 10
int stralloc_copy(stralloc *sato , stralloc *safrom ) ;
#line 12
int stralloc_copys(stralloc *sa , char *s ) ;
#line 13
int stralloc_cats(stralloc *sa , char *s ) ;
#line 9 "/home/wheatley/newnew/temp/netqmail-1.06/str.h"
unsigned int str_rchr(char *s , int c ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/quote.h"
int quote_need(char *s , unsigned int n ) ;
#line 5
int quote(stralloc *saout , stralloc *sain ) ;
#line 6
int quote2(stralloc *sa , char *s ) ;
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/quote.c"
static char ok[128]  = 
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/quote.c"
  {      (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)0,      (char)0,      (char)0, 
        (char)0,      (char)7,      (char)0,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)0,      (char)0,      (char)7,      (char)7, 
        (char)0,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)0,      (char)0, 
        (char)0,      (char)7,      (char)0,      (char)7, 
        (char)0,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)0, 
        (char)0,      (char)0,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)7, 
        (char)7,      (char)7,      (char)7,      (char)0};
#line 19 "/home/wheatley/newnew/temp/netqmail-1.06/quote.c"
static int doit(stralloc *saout , stralloc *sain ) 
{ 
  char ch ;
  int i ;
  int j ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 27
  tmp = stralloc_ready(saout, sain->len * 2U + 2U);
  }
#line 27
  if (! tmp) {
#line 27
    return (0);
  }
#line 28
  j = 0;
#line 29
  tmp___0 = j;
#line 29
  j ++;
#line 29
  *(saout->s + tmp___0) = (char )'\"';
#line 30
  i = 0;
  {
#line 30
  while (1) {
    while_continue: /* CIL Label */ ;
#line 30
    if (! ((unsigned int )i < sain->len)) {
#line 30
      goto while_break;
    }
#line 32
    ch = *(sain->s + i);
#line 33
    if ((int )ch == 13) {
#line 34
      tmp___1 = j;
#line 34
      j ++;
#line 34
      *(saout->s + tmp___1) = (char )'\\';
    } else
#line 33
    if ((int )ch == 10) {
#line 34
      tmp___1 = j;
#line 34
      j ++;
#line 34
      *(saout->s + tmp___1) = (char )'\\';
    } else
#line 33
    if ((int )ch == 34) {
#line 34
      tmp___1 = j;
#line 34
      j ++;
#line 34
      *(saout->s + tmp___1) = (char )'\\';
    } else
#line 33
    if ((int )ch == 92) {
#line 34
      tmp___1 = j;
#line 34
      j ++;
#line 34
      *(saout->s + tmp___1) = (char )'\\';
    }
#line 35
    tmp___2 = j;
#line 35
    j ++;
#line 35
    *(saout->s + tmp___2) = ch;
#line 30
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 37
  tmp___3 = j;
#line 37
  j ++;
#line 37
  *(saout->s + tmp___3) = (char )'\"';
#line 38
  saout->len = (unsigned int )j;
#line 39
  return (1);
}
}
#line 42 "/home/wheatley/newnew/temp/netqmail-1.06/quote.c"
int quote_need(char *s , unsigned int n ) 
{ 
  unsigned char uch ;
  int i ;

  {
#line 48
  if (! n) {
#line 48
    return (1);
  }
#line 49
  i = 0;
  {
#line 49
  while (1) {
    while_continue: /* CIL Label */ ;
#line 49
    if (! ((unsigned int )i < n)) {
#line 49
      goto while_break;
    }
#line 51
    uch = (unsigned char )*(s + i);
#line 52
    if ((int )uch >= 128) {
#line 52
      return (1);
    }
#line 53
    if (! ok[uch]) {
#line 53
      return (1);
    }
#line 49
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 55
  if ((int )*(s + 0) == 46) {
#line 55
    return (1);
  }
#line 56
  if ((int )*(s + (n - 1U)) == 46) {
#line 56
    return (1);
  }
#line 57
  i = 0;
  {
#line 57
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 57
    if (! ((unsigned int )i < n - 1U)) {
#line 57
      goto while_break___0;
    }
#line 57
    if ((int )*(s + i) == 46) {
#line 57
      if ((int )*(s + (i + 1)) == 46) {
#line 57
        return (1);
      }
    }
#line 57
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 58
  return (0);
}
}
#line 61 "/home/wheatley/newnew/temp/netqmail-1.06/quote.c"
int quote(stralloc *saout , stralloc *sain ) 
{ 
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 65
  tmp___0 = quote_need(sain->s, sain->len);
  }
#line 65
  if (tmp___0) {
    {
#line 65
    tmp = doit(saout, sain);
    }
#line 65
    return (tmp);
  }
  {
#line 66
  tmp___1 = stralloc_copy(saout, sain);
  }
#line 66
  return (tmp___1);
}
}
#line 69 "/home/wheatley/newnew/temp/netqmail-1.06/quote.c"
static stralloc foo___0  =    {(char *)0, 0U, 0U};
#line 71 "/home/wheatley/newnew/temp/netqmail-1.06/quote.c"
int quote2(stralloc *sa , char *s ) 
{ 
  int j ;
  int tmp ;
  unsigned int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;

  {
#line 76
  if (! *s) {
    {
#line 76
    tmp = stralloc_copys(sa, s);
    }
#line 76
    return (tmp);
  }
  {
#line 77
  tmp___0 = str_rchr(s, '@');
#line 77
  j = (int )tmp___0;
#line 78
  tmp___1 = stralloc_copys(& foo___0, s);
  }
#line 78
  if (! tmp___1) {
#line 78
    return (0);
  }
#line 79
  if (! *(s + j)) {
    {
#line 79
    tmp___2 = quote(sa, & foo___0);
    }
#line 79
    return (tmp___2);
  }
  {
#line 80
  foo___0.len = (unsigned int )j;
#line 81
  tmp___3 = quote(sa, & foo___0);
  }
#line 81
  if (! tmp___3) {
#line 81
    return (0);
  }
  {
#line 82
  tmp___4 = stralloc_cats(sa, s + j);
  }
#line 82
  return (tmp___4);
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/str_rchr.c"
unsigned int str_rchr(char *s , int c ) 
{ 
  register char ch ;
  register char *t ;
  register char *u ;

  {
#line 11
  ch = (char )c;
#line 12
  t = s;
#line 13
  u = (char *)0;
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 15
    if (! *t) {
#line 15
      goto while_break;
    }
#line 15
    if ((int )*t == (int )ch) {
#line 15
      u = t;
    }
#line 15
    t ++;
#line 16
    if (! *t) {
#line 16
      goto while_break;
    }
#line 16
    if ((int )*t == (int )ch) {
#line 16
      u = t;
    }
#line 16
    t ++;
#line 17
    if (! *t) {
#line 17
      goto while_break;
    }
#line 17
    if ((int )*t == (int )ch) {
#line 17
      u = t;
    }
#line 17
    t ++;
#line 18
    if (! *t) {
#line 18
      goto while_break;
    }
#line 18
    if ((int )*t == (int )ch) {
#line 18
      u = t;
    }
#line 18
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 20
  if (! u) {
#line 20
    u = t;
  }
#line 21
  return ((unsigned int )(u - s));
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_catch(int sig , void (*f)() ) ;
#line 5
void sig_block(int sig ) ;
#line 6
void sig_unblock(int sig ) ;
#line 28
void sig_alarmblock(void) ;
#line 29
void sig_alarmunblock(void) ;
#line 30
void sig_alarmcatch(void (*f)() ) ;
#line 31
void sig_alarmdefault(void) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig_alarm.c"
void sig_alarmblock(void) 
{ 


  {
  {
#line 4
  sig_block(14);
  }
#line 4
  return;
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_alarm.c"
void sig_alarmunblock(void) 
{ 


  {
  {
#line 5
  sig_unblock(14);
  }
#line 5
  return;
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/sig_alarm.c"
void sig_alarmcatch(void (*f)() ) 
{ 


  {
  {
#line 6
  sig_catch(14, f);
  }
#line 6
  return;
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/sig_alarm.c"
void sig_alarmdefault(void) 
{ 


  {
  {
#line 7
  sig_catch(14, (void (*)(int  ))0);
  }
#line 7
  return;
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/wait.h"
int wait_pid(int *wstat , int pid ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/fork.h"
extern int vfork() ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/fd.h"
int fd_move(int to , int from ) ;
#line 15 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.h"
int qmail_open(struct qmail *qq ) ;
#line 16
void qmail_put(struct qmail *qq , char *s , int len ) ;
#line 17
void qmail_puts(struct qmail *qq , char *s ) ;
#line 18
void qmail_from(struct qmail *qq , char *s ) ;
#line 19
void qmail_to(struct qmail *qq , char *s ) ;
#line 20
void qmail_fail(struct qmail *qq ) ;
#line 21
char *qmail_close(struct qmail *qq ) ;
#line 22
unsigned long qmail_qp(struct qmail *qq ) ;
#line 10 "/home/wheatley/newnew/temp/netqmail-1.06/env.h"
extern char *env_get(char *s ) ;
#line 11 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
static char *binqqargs[2]  = {      (char *)0,      (char *)0};
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
static void setup_qqargs(void) 
{ 


  {
#line 15
  if (! binqqargs[0]) {
    {
#line 16
    binqqargs[0] = env_get("QMAILQUEUE");
    }
  }
#line 17
  if (! binqqargs[0]) {
#line 18
    binqqargs[0] = (char *)"bin/qmail-queue";
  }
#line 19
  return;
}
}
#line 29
extern int ( /* missing proto */  pipe)() ;
#line 30
extern int ( /* missing proto */  close)() ;
#line 42
extern int ( /* missing proto */  chdir)() ;
#line 43
extern int ( /* missing proto */  execv)() ;
#line 21 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
int qmail_open(struct qmail *qq ) 
{ 
  int pim[2] ;
  int pie[2] ;
  int tmp ;
  int tmp___0 ;
  unsigned long tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;

  {
  {
#line 27
  setup_qqargs();
#line 29
  tmp = pipe(pim);
  }
#line 29
  if (tmp == -1) {
#line 29
    return (-1);
  }
  {
#line 30
  tmp___0 = pipe(pie);
  }
#line 30
  if (tmp___0 == -1) {
    {
#line 30
    close(pim[0]);
#line 30
    close(pim[1]);
    }
#line 30
    return (-1);
  }
  {
#line 32
  tmp___2 = vfork();
#line 32
  tmp___1 = (unsigned long )tmp___2;
#line 32
  qq->pid = tmp___1;
  }
  {
#line 33
  if (tmp___1 == 0xffffffffffffffffUL) {
#line 33
    goto case_18446744073709551615;
  }
#line 37
  if (tmp___1 == 0UL) {
#line 37
    goto case_0;
  }
#line 32
  goto switch_break;
  case_18446744073709551615: /* CIL Label */ 
  {
#line 34
  close(pim[0]);
#line 34
  close(pim[1]);
#line 35
  close(pie[0]);
#line 35
  close(pie[1]);
  }
#line 36
  return (-1);
  case_0: /* CIL Label */ 
  {
#line 38
  close(pim[1]);
#line 39
  close(pie[1]);
#line 40
  tmp___3 = fd_move(0, pim[0]);
  }
#line 40
  if (tmp___3 == -1) {
    {
#line 40
    _exit(120);
    }
  }
  {
#line 41
  tmp___4 = fd_move(1, pie[0]);
  }
#line 41
  if (tmp___4 == -1) {
    {
#line 41
    _exit(120);
    }
  }
  {
#line 42
  tmp___5 = chdir(auto_qmail);
  }
#line 42
  if (tmp___5 == -1) {
    {
#line 42
    _exit(61);
    }
  }
  {
#line 43
  execv(binqqargs[0], binqqargs);
#line 44
  _exit(120);
  }
  switch_break: /* CIL Label */ ;
  }
  {
#line 47
  qq->fdm = pim[1];
#line 47
  close(pim[0]);
#line 48
  qq->fde = pie[1];
#line 48
  close(pie[0]);
#line 49
  substdio_fdbuf(& qq->ss, & write, qq->fdm, qq->buf, sizeof(qq->buf));
#line 50
  qq->flagerr = 0;
  }
#line 51
  return (0);
}
}
#line 54 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
unsigned long qmail_qp(struct qmail *qq ) 
{ 


  {
#line 56
  return (qq->pid);
}
}
#line 59 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
void qmail_fail(struct qmail *qq ) 
{ 


  {
#line 61
  qq->flagerr = 1;
#line 62
  return;
}
}
#line 64 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
void qmail_put(struct qmail *qq , char *s , int len ) 
{ 
  int tmp ;

  {
#line 66
  if (! qq->flagerr) {
    {
#line 66
    tmp = substdio_put(& qq->ss, s, len);
    }
#line 66
    if (tmp == -1) {
#line 66
      qq->flagerr = 1;
    }
  }
#line 67
  return;
}
}
#line 69 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
void qmail_puts(struct qmail *qq , char *s ) 
{ 
  int tmp ;

  {
#line 71
  if (! qq->flagerr) {
    {
#line 71
    tmp = substdio_puts(& qq->ss, s);
    }
#line 71
    if (tmp == -1) {
#line 71
      qq->flagerr = 1;
    }
  }
#line 72
  return;
}
}
#line 74 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
void qmail_from(struct qmail *qq , char *s ) 
{ 
  int tmp ;

  {
  {
#line 76
  tmp = substdio_flush(& qq->ss);
  }
#line 76
  if (tmp == -1) {
#line 76
    qq->flagerr = 1;
  }
  {
#line 77
  close(qq->fdm);
#line 78
  substdio_fdbuf(& qq->ss, & write, qq->fde, qq->buf, sizeof(qq->buf));
#line 79
  qmail_put(qq, (char *)"F", 1);
#line 80
  qmail_puts(qq, s);
#line 81
  qmail_put(qq, (char *)"", 1);
  }
#line 82
  return;
}
}
#line 84 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
void qmail_to(struct qmail *qq , char *s ) 
{ 


  {
  {
#line 86
  qmail_put(qq, (char *)"T", 1);
#line 87
  qmail_puts(qq, s);
#line 88
  qmail_put(qq, (char *)"", 1);
  }
#line 89
  return;
}
}
#line 91 "/home/wheatley/newnew/temp/netqmail-1.06/qmail.c"
char *qmail_close(struct qmail *qq ) 
{ 
  int wstat ;
  int exitcode ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 97
  qmail_put(qq, (char *)"", 1);
  }
#line 98
  if (! qq->flagerr) {
    {
#line 98
    tmp = substdio_flush(& qq->ss);
    }
#line 98
    if (tmp == -1) {
#line 98
      qq->flagerr = 1;
    }
  }
  {
#line 99
  close(qq->fde);
#line 101
  tmp___0 = wait_pid(& wstat, qq->pid);
  }
#line 101
  if ((unsigned long )tmp___0 != qq->pid) {
#line 102
    return ((char *)"Zqq waitpid surprise (#4.3.0)");
  }
#line 103
  if (wstat & 127) {
#line 104
    return ((char *)"Zqq crashed (#4.3.0)");
  }
#line 105
  exitcode = wstat >> 8;
  {
#line 109
  if (exitcode == 11) {
#line 109
    goto case_11;
  }
#line 109
  if (exitcode == 115) {
#line 109
    goto case_11;
  }
#line 110
  if (exitcode == 31) {
#line 110
    goto case_31;
  }
#line 111
  if (exitcode == 51) {
#line 111
    goto case_51;
  }
#line 112
  if (exitcode == 52) {
#line 112
    goto case_52;
  }
#line 113
  if (exitcode == 53) {
#line 113
    goto case_53;
  }
#line 114
  if (exitcode == 0) {
#line 114
    goto case_0;
  }
#line 115
  if (exitcode == 54) {
#line 115
    goto case_54;
  }
#line 116
  if (exitcode == 55) {
#line 116
    goto case_55;
  }
#line 117
  if (exitcode == 56) {
#line 117
    goto case_56;
  }
#line 118
  if (exitcode == 61) {
#line 118
    goto case_61;
  }
#line 123
  if (exitcode == 62) {
#line 123
    goto case_62;
  }
#line 123
  if (exitcode == 66) {
#line 123
    goto case_62;
  }
#line 123
  if (exitcode == 65) {
#line 123
    goto case_62;
  }
#line 123
  if (exitcode == 64) {
#line 123
    goto case_62;
  }
#line 123
  if (exitcode == 63) {
#line 123
    goto case_62;
  }
#line 124
  if (exitcode == 71) {
#line 124
    goto case_71;
  }
#line 125
  if (exitcode == 72) {
#line 125
    goto case_72;
  }
#line 126
  if (exitcode == 73) {
#line 126
    goto case_73;
  }
#line 127
  if (exitcode == 74) {
#line 127
    goto case_74;
  }
#line 129
  if (exitcode == 81) {
#line 129
    goto case_81;
  }
#line 129
  if (exitcode == 91) {
#line 129
    goto case_81;
  }
#line 130
  if (exitcode == 120) {
#line 130
    goto case_120;
  }
#line 131
  goto switch_default;
  case_11: /* CIL Label */ 
  case_115: /* CIL Label */ 
#line 109
  return ((char *)"Denvelope address too long for qq (#5.1.3)");
  case_31: /* CIL Label */ 
#line 110
  return ((char *)"Dmail server permanently rejected message (#5.3.0)");
  case_51: /* CIL Label */ 
#line 111
  return ((char *)"Zqq out of memory (#4.3.0)");
  case_52: /* CIL Label */ 
#line 112
  return ((char *)"Zqq timeout (#4.3.0)");
  case_53: /* CIL Label */ 
#line 113
  return ((char *)"Zqq write error or disk full (#4.3.0)");
  case_0: /* CIL Label */ 
#line 114
  if (! qq->flagerr) {
#line 114
    return ((char *)"");
  }
  case_54: /* CIL Label */ 
#line 115
  return ((char *)"Zqq read error (#4.3.0)");
  case_55: /* CIL Label */ 
#line 116
  return ((char *)"Zqq unable to read configuration (#4.3.0)");
  case_56: /* CIL Label */ 
#line 117
  return ((char *)"Zqq trouble making network connection (#4.3.0)");
  case_61: /* CIL Label */ 
#line 118
  return ((char *)"Zqq trouble in home directory (#4.3.0)");
  case_62: /* CIL Label */ 
  case_66: /* CIL Label */ 
  case_65: /* CIL Label */ 
  case_64: /* CIL Label */ 
  case_63: /* CIL Label */ 
#line 123
  return ((char *)"Zqq trouble creating files in queue (#4.3.0)");
  case_71: /* CIL Label */ 
#line 124
  return ((char *)"Zmail server temporarily rejected message (#4.3.0)");
  case_72: /* CIL Label */ 
#line 125
  return ((char *)"Zconnection to mail server timed out (#4.4.1)");
  case_73: /* CIL Label */ 
#line 126
  return ((char *)"Zconnection to mail server rejected (#4.4.1)");
  case_74: /* CIL Label */ 
#line 127
  return ((char *)"Zcommunication with mail server failed (#4.4.2)");
  case_81: /* CIL Label */ 
  case_91: /* CIL Label */ 
#line 129
  return ((char *)"Zqq internal bug (#4.3.0)");
  case_120: /* CIL Label */ 
#line 130
  return ((char *)"Zunable to exec qq (#4.3.0)");
  switch_default: /* CIL Label */ 
#line 132
  if (exitcode >= 11) {
#line 132
    if (exitcode <= 40) {
#line 133
      return ((char *)"Dqq permanent problem (#5.3.0)");
    }
  }
#line 134
  return ((char *)"Zqq temporary problem (#4.3.0)");
  switch_break: /* CIL Label */ ;
  }
}
}
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/str.h"
unsigned int str_chr(char *s , int c ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/str_chr.c"
unsigned int str_chr(char *s , int c ) 
{ 
  register char ch ;
  register char *t ;

  {
#line 10
  ch = (char )c;
#line 11
  t = s;
  {
#line 12
  while (1) {
    while_continue: /* CIL Label */ ;
#line 13
    if (! *t) {
#line 13
      goto while_break;
    }
#line 13
    if ((int )*t == (int )ch) {
#line 13
      goto while_break;
    }
#line 13
    t ++;
#line 14
    if (! *t) {
#line 14
      goto while_break;
    }
#line 14
    if ((int )*t == (int )ch) {
#line 14
      goto while_break;
    }
#line 14
    t ++;
#line 15
    if (! *t) {
#line 15
      goto while_break;
    }
#line 15
    if ((int )*t == (int )ch) {
#line 15
      goto while_break;
    }
#line 15
    t ++;
#line 16
    if (! *t) {
#line 16
      goto while_break;
    }
#line 16
    if ((int )*t == (int )ch) {
#line 16
      goto while_break;
    }
#line 16
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 18
  return ((unsigned int )(t - s));
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/str.h"
unsigned int str_copy(char *s , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/str_cpy.c"
unsigned int str_copy(char *s , char *t ) 
{ 
  register int len ;
  char tmp ;
  char tmp___0 ;
  char tmp___1 ;
  char tmp___2 ;

  {
#line 9
  len = 0;
  {
#line 10
  while (1) {
    while_continue: /* CIL Label */ ;
#line 11
    tmp = *t;
#line 11
    *s = tmp;
#line 11
    if (! tmp) {
#line 11
      return ((unsigned int )len);
    }
#line 11
    s ++;
#line 11
    t ++;
#line 11
    len ++;
#line 12
    tmp___0 = *t;
#line 12
    *s = tmp___0;
#line 12
    if (! tmp___0) {
#line 12
      return ((unsigned int )len);
    }
#line 12
    s ++;
#line 12
    t ++;
#line 12
    len ++;
#line 13
    tmp___1 = *t;
#line 13
    *s = tmp___1;
#line 13
    if (! tmp___1) {
#line 13
      return ((unsigned int )len);
    }
#line 13
    s ++;
#line 13
    t ++;
#line 13
    len ++;
#line 14
    tmp___2 = *t;
#line 14
    *s = tmp___2;
#line 14
    if (! tmp___2) {
#line 14
      return ((unsigned int )len);
    }
#line 14
    s ++;
#line 14
    t ++;
#line 14
    len ++;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 146 "/usr/include/fcntl.h"
extern int ( __attribute__((__nonnull__(1))) open)(char const   *__file , int __oflag 
                                                   , ...) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/open.h"
int open_excl(char *fn ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/open_excl.c"
int open_excl(char *fn ) 
{ 
  int tmp ;

  {
  {
#line 6
  tmp = open((char const   *)fn, 193, 420);
  }
#line 6
  return (tmp);
}
}
#line 18 "/home/wheatley/newnew/temp/netqmail-1.06/datetime.h"
datetime_sec datetime_untai(struct datetime *dt ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/datetime_un.c"
datetime_sec datetime_untai(struct datetime *dt ) 
{ 
  int year ;
  int day ;
  int mon ;

  {
#line 11
  year = dt->year + 1900;
#line 13
  mon = dt->mon;
#line 14
  if (mon >= 2) {
#line 14
    mon -= 2;
  } else {
#line 15
    mon += 10;
#line 15
    year --;
  }
#line 17
  day = ((dt->mday - 1) * 10 + 5) + 306 * mon;
#line 18
  day /= 10;
#line 20
  if (day == 365) {
#line 20
    year -= 3;
#line 20
    day = 1460;
  } else {
#line 21
    day += 365 * (year % 4);
  }
#line 22
  year /= 4;
#line 24
  day += 1461 * (year % 25);
#line 25
  year /= 25;
#line 27
  if (day == 36524) {
#line 27
    year -= 3;
#line 27
    day = 146096;
  } else {
#line 28
    day += 36524 * (year % 4);
  }
#line 29
  year /= 4;
#line 31
  day += 146097 * (year - 5);
#line 32
  day += 11017;
#line 34
  return ((datetime_sec )(((day * 24 + dt->hour) * 60 + dt->min) * 60 + dt->sec));
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/str.h"
int str_diff(char *s , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/str_diff.c"
int str_diff(char *s , char *t ) 
{ 
  register char x ;

  {
  {
#line 9
  while (1) {
    while_continue: /* CIL Label */ ;
#line 10
    x = *s;
#line 10
    if ((int )x != (int )*t) {
#line 10
      goto while_break;
    }
#line 10
    if (! x) {
#line 10
      goto while_break;
    }
#line 10
    s ++;
#line 10
    t ++;
#line 11
    x = *s;
#line 11
    if ((int )x != (int )*t) {
#line 11
      goto while_break;
    }
#line 11
    if (! x) {
#line 11
      goto while_break;
    }
#line 11
    s ++;
#line 11
    t ++;
#line 12
    x = *s;
#line 12
    if ((int )x != (int )*t) {
#line 12
      goto while_break;
    }
#line 12
    if (! x) {
#line 12
      goto while_break;
    }
#line 12
    s ++;
#line 12
    t ++;
#line 13
    x = *s;
#line 13
    if ((int )x != (int )*t) {
#line 13
      goto while_break;
    }
#line 13
    if (! x) {
#line 13
      goto while_break;
    }
#line 13
    s ++;
#line 13
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 15
  return ((int )((unsigned int )((unsigned char )x)) - (int )((unsigned int )((unsigned char )*t)));
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/fmt_uint.c"
unsigned int fmt_uint(char *s , unsigned int u ) 
{ 
  register unsigned long l ;
  unsigned int tmp ;

  {
  {
#line 5
  l = (unsigned long )u;
#line 5
  tmp = fmt_ulong(s, l);
  }
#line 5
  return (tmp);
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int oneread___2(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int r ;
  int *tmp ;

  {
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 14
    r = (*op)(fd, buf___0, len);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp = __errno_location();
      }
#line 15
      if (*tmp == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    return (r);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int getthis___2(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  register int q ;

  {
#line 28
  r = s->p;
#line 29
  q = r - len;
#line 30
  if (q > 0) {
#line 30
    r = len;
#line 30
    s->p = q;
  } else {
#line 30
    s->p = 0;
  }
  {
#line 31
  byte_copy(buf___0, r, s->x + s->n);
#line 32
  s->n += r;
  }
#line 33
  return (r);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.h"
char *alloc(unsigned int n ) ;
#line 6
int alloc_re(char **x , unsigned int m , unsigned int n ) ;
#line 9 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
int stralloc_readyplus(stralloc *x , unsigned int n ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_eady.c"
int stralloc_ready(stralloc *x , unsigned int n ) 
{ 
  register unsigned int i ;
  int tmp ;
  char *tmp___0 ;
  unsigned int tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;

  {
#line 5
  if (x->s) {
#line 5
    i = x->a;
#line 5
    if (n > i) {
      {
#line 5
      x->a = (30U + n) + (n >> 3);
#line 5
      tmp = alloc_re(& x->s, (unsigned long )i * sizeof(char ), (unsigned long )x->a * sizeof(char ));
      }
#line 5
      if (tmp) {
#line 5
        return (1);
      }
#line 5
      x->a = i;
#line 5
      return (0);
    }
#line 5
    return (1);
  }
  {
#line 5
  x->len = 0U;
#line 5
  tmp___1 = n;
#line 5
  x->a = tmp___1;
#line 5
  tmp___2 = alloc((unsigned long )tmp___1 * sizeof(char ));
#line 5
  tmp___0 = tmp___2;
#line 5
  x->s = tmp___0;
  }
#line 5
  if (tmp___0) {
#line 5
    tmp___3 = 1;
  } else {
#line 5
    tmp___3 = 0;
  }
#line 5
  return (tmp___3);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_eady.c"
int stralloc_readyplus(stralloc *x , unsigned int n ) 
{ 
  register unsigned int i ;
  int tmp ;
  char *tmp___0 ;
  unsigned int tmp___1 ;
  char *tmp___2 ;
  int tmp___3 ;

  {
#line 6
  if (x->s) {
#line 6
    i = x->a;
#line 6
    n += x->len;
#line 6
    if (n > i) {
      {
#line 6
      x->a = (30U + n) + (n >> 3);
#line 6
      tmp = alloc_re(& x->s, (unsigned long )i * sizeof(char ), (unsigned long )x->a * sizeof(char ));
      }
#line 6
      if (tmp) {
#line 6
        return (1);
      }
#line 6
      x->a = i;
#line 6
      return (0);
    }
#line 6
    return (1);
  }
  {
#line 6
  x->len = 0U;
#line 6
  tmp___1 = n;
#line 6
  x->a = tmp___1;
#line 6
  tmp___2 = alloc((unsigned long )tmp___1 * sizeof(char ));
#line 6
  tmp___0 = tmp___2;
#line 6
  x->s = tmp___0;
  }
#line 6
  if (tmp___0) {
#line 6
    tmp___3 = 1;
  } else {
#line 6
    tmp___3 = 0;
  }
#line 6
  return (tmp___3);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/case.h"
int case_diffs(char *s , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/case_diffs.c"
int case_diffs(char *s , char *t ) 
{ 
  register unsigned char x ;
  register unsigned char y ;
  char *tmp ;
  char *tmp___0 ;

  {
  {
#line 10
  while (1) {
    while_continue: /* CIL Label */ ;
#line 11
    tmp = s;
#line 11
    s ++;
#line 11
    x = (unsigned char )((int )*tmp - 65);
#line 12
    if ((int )x <= 25) {
#line 12
      x = (unsigned char )((int )x + 97);
    } else {
#line 12
      x = (unsigned char )((int )x + 65);
    }
#line 13
    tmp___0 = t;
#line 13
    t ++;
#line 13
    y = (unsigned char )((int )*tmp___0 - 65);
#line 14
    if ((int )y <= 25) {
#line 14
      y = (unsigned char )((int )y + 97);
    } else {
#line 14
      y = (unsigned char )((int )y + 65);
    }
#line 15
    if ((int )x != (int )y) {
#line 15
      goto while_break;
    }
#line 16
    if (! x) {
#line 16
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 18
  return ((int )((unsigned int )x) - (int )((unsigned int )y));
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
static substdio it___14  =    {subfd_errbuf, 0, 256, 2, & write};
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/seek.h"
int seek_set(int fd , seek_pos pos ) ;
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/seek_set.c"
extern int ( /* missing proto */  lseek)() ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/seek_set.c"
int seek_set(int fd , seek_pos pos ) 
{ 
  int tmp ;

  {
  {
#line 7
  tmp = lseek(fd, (off_t )pos, 0);
  }
#line 7
  if (tmp == -1) {
#line 7
    return (-1);
  }
#line 7
  return (0);
}
}
#line 11 "/home/wheatley/newnew/temp/netqmail-1.06/env.h"
extern char *env_pick(void) ;
#line 13
extern char *env_findeq(char *s ) ;
#line 15
extern char **environ ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/str.h"
int str_diffn(char *s , char *t , unsigned int len ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/envread.c"
extern char *env_get(char *s ) 
{ 
  int i ;
  unsigned int slen ;
  char *envi ;
  int tmp ;

  {
  {
#line 11
  slen = str_len(s);
#line 12
  i = 0;
  }
  {
#line 12
  while (1) {
    while_continue: /* CIL Label */ ;
#line 12
    envi = *(environ + i);
#line 12
    if (! envi) {
#line 12
      goto while_break;
    }
    {
#line 13
    tmp = str_diffn(s, envi, slen);
    }
#line 13
    if (! tmp) {
#line 13
      if ((int )*(envi + slen) == 61) {
#line 14
        return ((envi + slen) + 1);
      }
    }
#line 12
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 15
  return ((char *)0);
}
}
#line 18 "/home/wheatley/newnew/temp/netqmail-1.06/envread.c"
extern char *env_pick(void) 
{ 


  {
#line 20
  return (*(environ + 0));
}
}
#line 23 "/home/wheatley/newnew/temp/netqmail-1.06/envread.c"
extern char *env_findeq(char *s ) 
{ 


  {
  {
#line 26
  while (1) {
    while_continue: /* CIL Label */ ;
#line 26
    if (! *s) {
#line 26
      goto while_break;
    }
#line 27
    if ((int )*s == 61) {
#line 28
      return (s);
    }
#line 26
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 29
  return ((char *)0);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
static substdio it___15  =    {subfd_outbuf, 0, 8192, 1, & write};
#line 215 "/usr/include/signal.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) sigemptyset)(sigset_t *__set ) ;
#line 221
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1), __leaf__)) sigaddset)(sigset_t *__set ,
                                                                                                int __signo ) ;
#line 248
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) sigprocmask)(int __how ,
                                                                                  sigset_t const   * __restrict  __set ,
                                                                                  sigset_t * __restrict  __oset ) ;
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_blocknone(void) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_block.c"
void sig_block(int sig ) 
{ 
  sigset_t ss ;

  {
  {
#line 10
  sigemptyset(& ss);
#line 11
  sigaddset(& ss, sig);
#line 12
  sigprocmask(0, (sigset_t const   */* __restrict  */)(& ss), (sigset_t */* __restrict  */)((sigset_t *)0));
  }
#line 16
  return;
}
}
#line 18 "/home/wheatley/newnew/temp/netqmail-1.06/sig_block.c"
void sig_unblock(int sig ) 
{ 
  sigset_t ss ;

  {
  {
#line 23
  sigemptyset(& ss);
#line 24
  sigaddset(& ss, sig);
#line 25
  sigprocmask(1, (sigset_t const   */* __restrict  */)(& ss), (sigset_t */* __restrict  */)((sigset_t *)0));
  }
#line 29
  return;
}
}
#line 31 "/home/wheatley/newnew/temp/netqmail-1.06/sig_block.c"
void sig_blocknone(void) 
{ 
  sigset_t ss ;

  {
  {
#line 35
  sigemptyset(& ss);
#line 36
  sigprocmask(2, (sigset_t const   */* __restrict  */)(& ss), (sigset_t */* __restrict  */)((sigset_t *)0));
  }
#line 40
  return;
}
}
#line 17 "/home/wheatley/newnew/temp/netqmail-1.06/sgetopt.h"
int sgetoptmine(int argc , char **argv , char *opts ) ;
#line 18
int sgetopterr ;
#line 19
char *sgetoptprogname ;
#line 25 "/home/wheatley/newnew/temp/netqmail-1.06/sgetopt.c"
int sgetopterr  =    1;
#line 26 "/home/wheatley/newnew/temp/netqmail-1.06/sgetopt.c"
char *sgetoptprogname  =    (char *)0;
#line 28 "/home/wheatley/newnew/temp/netqmail-1.06/sgetopt.c"
int sgetoptmine(int argc , char **argv , char *opts ) 
{ 
  int c ;
  char *s ;
  char chp[2] ;

  {
#line 36
  if (! sgetoptprogname) {
#line 37
    sgetoptprogname = *argv;
#line 38
    if (! sgetoptprogname) {
#line 38
      sgetoptprogname = (char *)"";
    }
#line 39
    s = sgetoptprogname;
    {
#line 39
    while (1) {
      while_continue: /* CIL Label */ ;
#line 39
      if (! *s) {
#line 39
        goto while_break;
      }
#line 39
      if ((int )*s == 47) {
#line 39
        sgetoptprogname = s + 1;
      }
#line 39
      s ++;
    }
    while_break: /* CIL Label */ ;
    }
  }
  {
#line 41
  c = subgetopt(argc, argv, opts);
  }
#line 42
  if (sgetopterr) {
#line 43
    if (c == 63) {
      {
#line 44
      chp[0] = (char )subgetoptproblem;
#line 44
      chp[1] = (char )'\n';
#line 45
      substdio_puts(subfderr, sgetoptprogname);
      }
#line 46
      if (*(argv + subgetoptind)) {
#line 46
        if (subgetoptind < argc) {
          {
#line 47
          substdio_puts(subfderr, ": illegal option -- ");
          }
        } else {
          {
#line 49
          substdio_puts(subfderr, ": option requires an argument -- ");
          }
        }
      } else {
        {
#line 49
        substdio_puts(subfderr, ": option requires an argument -- ");
        }
      }
      {
#line 50
      substdio_put(subfderr, chp, 2);
#line 51
      substdio_flush(subfderr);
      }
    }
  }
#line 53
  return (c);
}
}
#line 14 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
int stralloc_copyb(stralloc *sa , char *s , unsigned int n ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_copy.c"
int stralloc_copy(stralloc *sato , stralloc *safrom ) 
{ 
  int tmp ;

  {
  {
#line 8
  tmp = stralloc_copyb(sato, safrom->s, safrom->len);
  }
#line 8
  return (tmp);
}
}
#line 50 "/usr/include/x86_64-linux-gnu/sys/file.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) flock)(int __fd ,
                                                                            int __operation ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/lock.h"
int lock_exnb(int fd ) ;
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/lock_exnb.c"
int lock_exnb(int fd ) 
{ 
  int tmp ;

  {
  {
#line 8
  tmp = flock(fd, 6);
  }
#line 8
  return (tmp);
}
}
#line 259 "/usr/include/signal.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) sigaction)(int __sig ,
                                                                                struct sigaction  const  * __restrict  __act ,
                                                                                struct sigaction * __restrict  __oact ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_catch.c"
void sig_catch(int sig , void (*f)() ) 
{ 
  struct sigaction sa ;

  {
  {
#line 11
  sa.__sigaction_handler.sa_handler = (void (*)(int  ))f;
#line 12
  sa.sa_flags = 0;
#line 13
  sigemptyset(& sa.sa_mask);
#line 14
  sigaction(sig, (struct sigaction  const  */* __restrict  */)(& sa), (struct sigaction */* __restrict  */)((struct sigaction *)0));
  }
#line 18
  return;
}
}
#line 15 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_pipeignore(void) ;
#line 16
void sig_pipedefault(void) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig_pipe.c"
void sig_pipeignore(void) 
{ 


  {
  {
#line 4
  sig_catch(13, (void (*)(int  ))1);
  }
#line 4
  return;
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_pipe.c"
void sig_pipedefault(void) 
{ 


  {
  {
#line 5
  sig_catch(13, (void (*)(int  ))0);
  }
#line 5
  return;
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
static substdio it___16  =    {subfd_inbufsmall, 0, 256, 0, (int (*)())(& subfd_readsmall)};
#line 23 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_termblock(void) ;
#line 24
void sig_termunblock(void) ;
#line 25
void sig_termcatch(void (*f)() ) ;
#line 26
void sig_termdefault(void) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig_term.c"
void sig_termblock(void) 
{ 


  {
  {
#line 4
  sig_block(15);
  }
#line 4
  return;
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_term.c"
void sig_termunblock(void) 
{ 


  {
  {
#line 5
  sig_unblock(15);
  }
#line 5
  return;
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/sig_term.c"
void sig_termcatch(void (*f)() ) 
{ 


  {
  {
#line 6
  sig_catch(15, f);
  }
#line 6
  return;
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/sig_term.c"
void sig_termdefault(void) 
{ 


  {
  {
#line 7
  sig_catch(15, (void (*)(int  ))0);
  }
#line 7
  return;
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/open.h"
int open_append(char *fn ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/open_append.c"
int open_append(char *fn ) 
{ 
  int tmp ;

  {
  {
#line 6
  tmp = open((char const   *)fn, 3137, 384);
  }
#line 6
  return (tmp);
}
}
#line 11 "/home/wheatley/newnew/temp/netqmail-1.06/seek.h"
int seek_trunc(int fd , seek_pos pos ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/seek_trunc.c"
extern int ( /* missing proto */  ftruncate)() ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/seek_trunc.c"
int seek_trunc(int fd , seek_pos pos ) 
{ 
  int tmp ;

  {
  {
#line 5
  tmp = ftruncate(fd, (off_t )pos);
  }
#line 5
  return (tmp);
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_opys.c"
int stralloc_copys(stralloc *sa , char *s ) 
{ 
  unsigned int tmp ;
  int tmp___0 ;

  {
  {
#line 9
  tmp = str_len(s);
#line 9
  tmp___0 = stralloc_copyb(sa, s, tmp);
  }
#line 9
  return (tmp___0);
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.h"
void alloc_free(char *x ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.c"
extern char *malloc() ;
#line 4
extern void free() ;
#line 10 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.c"
static aligned realspace[256]  ;
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.c"
static unsigned int avail  =    4096U;
#line 14 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.c"
char *alloc(unsigned int n ) 
{ 
  char *x ;
  int *tmp ;

  {
#line 18
  n = (16U + n) - (n & 15U);
#line 19
  if (n <= avail) {
#line 19
    avail -= n;
#line 19
    return ((char *)(realspace) + avail);
  }
  {
#line 20
  x = malloc(n);
  }
#line 21
  if (! x) {
    {
#line 21
    tmp = __errno_location();
#line 21
    *tmp = error_nomem;
    }
  }
#line 22
  return (x);
}
}
#line 25 "/home/wheatley/newnew/temp/netqmail-1.06/alloc.c"
void alloc_free(char *x ) 
{ 


  {
#line 28
  if ((unsigned long )x >= (unsigned long )((char *)(realspace))) {
#line 29
    if ((unsigned long )x < (unsigned long )((char *)(realspace) + 4096)) {
#line 30
      return;
    }
  }
  {
#line 31
  free(x);
  }
#line 32
  return;
}
}
#line 1 "/home/wheatley/newnew/temp/netqmail-1.06/auto_patrn.c"
int auto_patrn  =    2;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/byte.h"
unsigned int byte_rchr(char *s , unsigned int n , int c ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/byte_rchr.c"
unsigned int byte_rchr(char *s , unsigned int n , int c ) 
{ 
  register char ch ;
  register char *t ;
  register char *u ;

  {
#line 12
  ch = (char )c;
#line 13
  t = s;
#line 14
  u = (char *)0;
  {
#line 15
  while (1) {
    while_continue: /* CIL Label */ ;
#line 16
    if (! n) {
#line 16
      goto while_break;
    }
#line 16
    if ((int )*t == (int )ch) {
#line 16
      u = t;
    }
#line 16
    t ++;
#line 16
    n --;
#line 17
    if (! n) {
#line 17
      goto while_break;
    }
#line 17
    if ((int )*t == (int )ch) {
#line 17
      u = t;
    }
#line 17
    t ++;
#line 17
    n --;
#line 18
    if (! n) {
#line 18
      goto while_break;
    }
#line 18
    if ((int )*t == (int )ch) {
#line 18
      u = t;
    }
#line 18
    t ++;
#line 18
    n --;
#line 19
    if (! n) {
#line 19
      goto while_break;
    }
#line 19
    if ((int )*t == (int )ch) {
#line 19
      u = t;
    }
#line 19
    t ++;
#line 19
    n --;
  }
  while_break: /* CIL Label */ ;
  }
#line 21
  if (! u) {
#line 21
    u = t;
  }
#line 22
  return ((unsigned int )(u - s));
}
}
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/case.h"
int case_starts(char *s , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/case_starts.c"
int case_starts(char *s , char *t ) 
{ 
  register unsigned char x ;
  register unsigned char y ;
  char *tmp ;
  char *tmp___0 ;

  {
  {
#line 10
  while (1) {
    while_continue: /* CIL Label */ ;
#line 11
    tmp = s;
#line 11
    s ++;
#line 11
    x = (unsigned char )((int )*tmp - 65);
#line 12
    if ((int )x <= 25) {
#line 12
      x = (unsigned char )((int )x + 97);
    } else {
#line 12
      x = (unsigned char )((int )x + 65);
    }
#line 13
    tmp___0 = t;
#line 13
    t ++;
#line 13
    y = (unsigned char )((int )*tmp___0 - 65);
#line 14
    if ((int )y <= 25) {
#line 14
      y = (unsigned char )((int )y + 97);
    } else {
#line 14
      y = (unsigned char )((int )y + 65);
    }
#line 15
    if (! y) {
#line 15
      return (1);
    }
#line 16
    if ((int )x != (int )y) {
#line 16
      return (0);
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/getln.h"
int getln2(substdio *ss , stralloc *sa , char **cont , unsigned int *clen , int sep ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/getln2.c"
int getln2(substdio *ss , stralloc *sa , char **cont , unsigned int *clen , int sep ) 
{ 
  register char *x ;
  register unsigned int i ;
  int n ;
  int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 17
  tmp = stralloc_ready(sa, 0);
  }
#line 17
  if (! tmp) {
#line 17
    return (-1);
  }
#line 18
  sa->len = 0U;
  {
#line 20
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 21
    n = substdio_feed(ss);
    }
#line 22
    if (n < 0) {
#line 22
      return (-1);
    }
#line 23
    if (n == 0) {
#line 23
      *clen = 0U;
#line 23
      return (0);
    }
    {
#line 24
    x = ss->x + ss->n;
#line 25
    i = byte_chr(x, n, sep);
    }
#line 26
    if (i < (unsigned int )n) {
#line 26
      tmp___0 = i + 1U;
#line 26
      *clen = tmp___0;
#line 26
      ss->p = (int )((unsigned int )ss->p - tmp___0);
#line 26
      tmp___1 = i + 1U;
#line 26
      *clen = tmp___1;
#line 26
      ss->n = (int )((unsigned int )ss->n + tmp___1);
#line 26
      *cont = x;
#line 26
      return (0);
    }
    {
#line 27
    tmp___2 = stralloc_readyplus(sa, n);
    }
#line 27
    if (! tmp___2) {
#line 27
      return (-1);
    }
    {
#line 28
    i = sa->len;
#line 29
    tmp___3 = substdio_get(ss, sa->s + i, n);
#line 29
    sa->len = i + (unsigned int )tmp___3;
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 15 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
int stralloc_catb(stralloc *sa , char *s , unsigned int n ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_cats.c"
int stralloc_cats(stralloc *sa , char *s ) 
{ 
  unsigned int tmp ;
  int tmp___0 ;

  {
  {
#line 9
  tmp = str_len(s);
#line 9
  tmp___0 = stralloc_catb(sa, s, tmp);
  }
#line 9
  return (tmp___0);
}
}
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_bugcatch(void (*f)() ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig_bug.c"
void sig_bugcatch(void (*f)() ) 
{ 


  {
  {
#line 6
  sig_catch(4, f);
#line 7
  sig_catch(6, f);
#line 8
  sig_catch(8, f);
#line 9
  sig_catch(7, f);
#line 10
  sig_catch(11, f);
#line 12
  sig_catch(31, f);
  }
#line 17
  return;
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/str_len.c"
unsigned int str_len(char *s ) 
{ 
  register char *t ;

  {
#line 8
  t = s;
  {
#line 9
  while (1) {
    while_continue: /* CIL Label */ ;
#line 10
    if (! *t) {
#line 10
      return ((unsigned int )(t - s));
    }
#line 10
    t ++;
#line 11
    if (! *t) {
#line 11
      return ((unsigned int )(t - s));
    }
#line 11
    t ++;
#line 12
    if (! *t) {
#line 12
      return ((unsigned int )(t - s));
    }
#line 12
    t ++;
#line 13
    if (! *t) {
#line 13
      return ((unsigned int )(t - s));
    }
#line 13
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 11 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
int stralloc_cat(stralloc *sato , stralloc *safrom ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_cat.c"
int stralloc_cat(stralloc *sato , stralloc *safrom ) 
{ 
  int tmp ;

  {
  {
#line 8
  tmp = stralloc_catb(sato, safrom->s, safrom->len);
  }
#line 8
  return (tmp);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/alloc_re.c"
int alloc_re(char **x , unsigned int m , unsigned int n ) 
{ 
  char *y ;

  {
  {
#line 11
  y = alloc(n);
  }
#line 12
  if (! y) {
#line 12
    return (0);
  }
  {
#line 13
  byte_copy(y, m, *x);
#line 14
  alloc_free(*x);
#line 15
  *x = y;
  }
#line 16
  return (1);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_catb.c"
int stralloc_catb(stralloc *sa , char *s , unsigned int n ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
#line 9
  if (! sa->s) {
    {
#line 9
    tmp = stralloc_copyb(sa, s, n);
    }
#line 9
    return (tmp);
  }
  {
#line 10
  tmp___0 = stralloc_readyplus(sa, n + 1U);
  }
#line 10
  if (! tmp___0) {
#line 10
    return (0);
  }
  {
#line 11
  byte_copy(sa->s + sa->len, n, s);
#line 12
  sa->len += n;
#line 13
  *(sa->s + sa->len) = (char )'Z';
  }
#line 14
  return (1);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/fd.h"
int fd_copy(int to , int from ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/fd_move.c"
int fd_move(int to , int from ) 
{ 
  int tmp ;

  {
#line 7
  if (to == from) {
#line 7
    return (0);
  }
  {
#line 8
  tmp = fd_copy(to, from);
  }
#line 8
  if (tmp == -1) {
#line 8
    return (-1);
  }
  {
#line 9
  close(from);
  }
#line 10
  return (0);
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/fmt_ulong.c"
unsigned int fmt_ulong(char *s , unsigned long u ) 
{ 
  register unsigned int len ;
  register unsigned long q ;

  {
#line 6
  len = 1U;
#line 6
  q = u;
  {
#line 7
  while (1) {
    while_continue: /* CIL Label */ ;
#line 7
    if (! (q > 9UL)) {
#line 7
      goto while_break;
    }
#line 7
    len ++;
#line 7
    q /= 10UL;
  }
  while_break: /* CIL Label */ ;
  }
#line 8
  if (s) {
#line 9
    s += len;
    {
#line 10
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 10
      s --;
#line 10
      *s = (char )(48UL + u % 10UL);
#line 10
      u /= 10UL;
#line 10
      if (! u) {
#line 10
        goto while_break___0;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 12
  return (len);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/getln.h"
int getln(substdio *ss , stralloc *sa , int *match , int sep ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/getln.c"
int getln(substdio *ss , stralloc *sa , int *match , int sep ) 
{ 
  char *cont ;
  unsigned int clen ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 15
  tmp = getln2(ss, sa, & cont, & clen, sep);
  }
#line 15
  if (tmp == -1) {
#line 15
    return (-1);
  }
#line 16
  if (! clen) {
#line 16
    *match = 0;
#line 16
    return (0);
  }
  {
#line 17
  tmp___0 = stralloc_catb(sa, cont, clen);
  }
#line 17
  if (! tmp___0) {
#line 17
    return (-1);
  }
#line 18
  *match = 1;
#line 19
  return (0);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_opyb.c"
int stralloc_copyb(stralloc *sa , char *s , unsigned int n ) 
{ 
  int tmp ;

  {
  {
#line 9
  tmp = stralloc_ready(sa, n + 1U);
  }
#line 9
  if (! tmp) {
#line 9
    return (0);
  }
  {
#line 10
  byte_copy(sa->s, n, s);
#line 11
  sa->len = n;
#line 12
  *(sa->s + n) = (char )'Z';
  }
#line 13
  return (1);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/slurpclose.h"
int slurpclose(int fd , stralloc *sa , int bufsize ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/slurpclose.c"
int slurpclose(int fd , stralloc *sa , int bufsize ) 
{ 
  int r ;
  int tmp ;
  int *tmp___0 ;

  {
  {
#line 12
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 13
    tmp = stralloc_readyplus(sa, bufsize);
    }
#line 13
    if (! tmp) {
      {
#line 13
      close(fd);
      }
#line 13
      return (-1);
    }
    {
#line 14
    r = read(fd, sa->s + sa->len, bufsize);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp___0 = __errno_location();
      }
#line 15
      if (*tmp___0 == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    if (r <= 0) {
      {
#line 16
      close(fd);
      }
#line 16
      return (r);
    }
#line 17
    sa->len += (unsigned int )r;
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 192 "/usr/include/time.h"
extern  __attribute__((__nothrow__)) time_t ( __attribute__((__leaf__)) time)(time_t *__timer ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/now.h"
datetime_sec now(void) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/now.c"
datetime_sec now(void) 
{ 
  time_t tmp ;

  {
  {
#line 7
  tmp = time((long *)0);
  }
#line 7
  return (tmp);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
static int allwrite___2(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int w ;
  int *tmp ;

  {
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! len) {
#line 14
      goto while_break;
    }
    {
#line 15
    w = (*op)(fd, buf___0, len);
    }
#line 16
    if (w == -1) {
      {
#line 17
      tmp = __errno_location();
      }
#line 17
      if (*tmp == error_intr) {
#line 17
        goto while_continue;
      }
#line 18
      return (-1);
    }
#line 21
    buf___0 += w;
#line 22
    len -= w;
  }
  while_break: /* CIL Label */ ;
  }
#line 24
  return (0);
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/scan_8long.c"
unsigned int scan_8long(char *s , unsigned long *u ) 
{ 
  register unsigned int pos ;
  register unsigned long result___0 ;
  register unsigned long c ;

  {
#line 7
  pos = 0U;
#line 7
  result___0 = 0UL;
  {
#line 8
  while (1) {
    while_continue: /* CIL Label */ ;
#line 8
    c = (unsigned long )((unsigned char )((int )*(s + pos) - 48));
#line 8
    if (! (c < 8UL)) {
#line 8
      goto while_break;
    }
#line 9
    result___0 = result___0 * 8UL + c;
#line 9
    pos ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 10
  *u = result___0;
#line 10
  return (pos);
}
}
#line 16 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
int stralloc_append(stralloc *x , char *i ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_pend.c"
int stralloc_append(stralloc *x , char *i ) 
{ 
  int tmp ;
  unsigned int tmp___0 ;

  {
  {
#line 5
  tmp = stralloc_readyplus(x, 1);
  }
#line 5
  if (! tmp) {
#line 5
    return (0);
  }
#line 5
  tmp___0 = x->len;
#line 5
  (x->len) ++;
#line 5
  *(x->s + tmp___0) = *i;
#line 5
  return (1);
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/str_diffn.c"
int str_diffn(char *s , char *t , unsigned int len ) 
{ 
  register char x ;
  unsigned int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;
  unsigned int tmp___2 ;

  {
  {
#line 10
  while (1) {
    while_continue: /* CIL Label */ ;
#line 11
    tmp = len;
#line 11
    len --;
#line 11
    if (! tmp) {
#line 11
      return (0);
    }
#line 11
    x = *s;
#line 11
    if ((int )x != (int )*t) {
#line 11
      goto while_break;
    }
#line 11
    if (! x) {
#line 11
      goto while_break;
    }
#line 11
    s ++;
#line 11
    t ++;
#line 12
    tmp___0 = len;
#line 12
    len --;
#line 12
    if (! tmp___0) {
#line 12
      return (0);
    }
#line 12
    x = *s;
#line 12
    if ((int )x != (int )*t) {
#line 12
      goto while_break;
    }
#line 12
    if (! x) {
#line 12
      goto while_break;
    }
#line 12
    s ++;
#line 12
    t ++;
#line 13
    tmp___1 = len;
#line 13
    len --;
#line 13
    if (! tmp___1) {
#line 13
      return (0);
    }
#line 13
    x = *s;
#line 13
    if ((int )x != (int )*t) {
#line 13
      goto while_break;
    }
#line 13
    if (! x) {
#line 13
      goto while_break;
    }
#line 13
    s ++;
#line 13
    t ++;
#line 14
    tmp___2 = len;
#line 14
    len --;
#line 14
    if (! tmp___2) {
#line 14
      return (0);
    }
#line 14
    x = *s;
#line 14
    if ((int )x != (int )*t) {
#line 14
      goto while_break;
    }
#line 14
    if (! x) {
#line 14
      goto while_break;
    }
#line 14
    s ++;
#line 14
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 16
  return ((int )((unsigned int )((unsigned char )x)) - (int )((unsigned int )((unsigned char )*t)));
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/seek.h"
seek_pos seek_cur(int fd ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/seek_cur.c"
seek_pos seek_cur(int fd ) 
{ 
  int tmp ;

  {
  {
#line 7
  tmp = lseek(fd, (off_t )0, 1);
  }
#line 7
  return ((seek_pos )tmp);
}
}
#line 14 "/home/wheatley/newnew/temp/netqmail-1.06/strerr.h"
void strerr_sysinit(void) ;
#line 17
void strerr_warn(char *x1 , char *x2 , char *x3 , char *x4 , char *x5 , char *x6 ,
                 struct strerr *se ) ;
#line 18
void strerr_die(int e , char *x1 , char *x2 , char *x3 , char *x4 , char *x5 , char *x6 ,
                struct strerr *se ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/strerr_die.c"
void strerr_warn(char *x1 , char *x2 , char *x3 , char *x4 , char *x5 , char *x6 ,
                 struct strerr *se ) 
{ 


  {
  {
#line 10
  strerr_sysinit();
  }
#line 12
  if (x1) {
    {
#line 12
    substdio_puts(subfderr, x1);
    }
  }
#line 13
  if (x2) {
    {
#line 13
    substdio_puts(subfderr, x2);
    }
  }
#line 14
  if (x3) {
    {
#line 14
    substdio_puts(subfderr, x3);
    }
  }
#line 15
  if (x4) {
    {
#line 15
    substdio_puts(subfderr, x4);
    }
  }
#line 16
  if (x5) {
    {
#line 16
    substdio_puts(subfderr, x5);
    }
  }
#line 17
  if (x6) {
    {
#line 17
    substdio_puts(subfderr, x6);
    }
  }
  {
#line 19
  while (1) {
    while_continue: /* CIL Label */ ;
#line 19
    if (! se) {
#line 19
      goto while_break;
    }
#line 20
    if (se->x) {
      {
#line 20
      substdio_puts(subfderr, se->x);
      }
    }
#line 21
    if (se->y) {
      {
#line 21
      substdio_puts(subfderr, se->y);
      }
    }
#line 22
    if (se->z) {
      {
#line 22
      substdio_puts(subfderr, se->z);
      }
    }
#line 23
    se = se->who;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 26
  substdio_puts(subfderr, "\n");
#line 27
  substdio_flush(subfderr);
  }
#line 28
  return;
}
}
#line 30 "/home/wheatley/newnew/temp/netqmail-1.06/strerr_die.c"
void strerr_die(int e , char *x1 , char *x2 , char *x3 , char *x4 , char *x5 , char *x6 ,
                struct strerr *se ) 
{ 


  {
  {
#line 35
  strerr_warn(x1, x2, x3, x4, x5, x6, se);
#line 36
  _exit(e);
  }
#line 37
  return;
}
}
#line 17 "/home/wheatley/newnew/temp/netqmail-1.06/datetime.h"
void datetime_tai(struct datetime *dt , datetime_sec t ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/datetime.c"
void datetime_tai(struct datetime *dt , datetime_sec t ) 
{ 
  int day ;
  int tod ;
  int year ;
  int yday ;
  int wday ;
  int mon ;

  {
#line 15
  tod = (int )(t % 86400L);
#line 16
  day = (int )(t / 86400L);
#line 17
  if (tod < 0) {
#line 17
    tod += 86400;
#line 17
    day --;
  }
#line 19
  dt->hour = tod / 3600;
#line 20
  tod %= 3600;
#line 21
  dt->min = tod / 60;
#line 22
  dt->sec = tod % 60;
#line 24
  wday = (day + 4) % 7;
#line 24
  if (wday < 0) {
#line 24
    wday += 7;
  }
#line 25
  dt->wday = wday;
#line 27
  day -= 11017;
#line 29
  year = 5 + day / 146097;
#line 30
  day %= 146097;
#line 30
  if (day < 0) {
#line 30
    day += 146097;
#line 30
    year --;
  }
#line 32
  year *= 4;
#line 33
  if (day == 146096) {
#line 33
    year += 3;
#line 33
    day = 36524;
  } else {
#line 34
    year += day / 36524;
#line 34
    day %= 36524;
  }
#line 35
  year *= 25;
#line 36
  year += day / 1461;
#line 37
  day %= 1461;
#line 38
  year *= 4;
#line 39
  yday = day < 306;
#line 40
  if (day == 1460) {
#line 40
    year += 3;
#line 40
    day = 365;
  } else {
#line 41
    year += day / 365;
#line 41
    day %= 365;
  }
#line 42
  yday += day;
#line 44
  day *= 10;
#line 45
  mon = (day + 5) / 306;
#line 46
  day = (day + 5) - 306 * mon;
#line 47
  day /= 10;
#line 48
  if (mon >= 10) {
#line 48
    yday -= 306;
#line 48
    year ++;
#line 48
    mon -= 10;
  } else {
#line 49
    yday += 59;
#line 49
    mon += 2;
  }
#line 51
  dt->yday = yday;
#line 52
  dt->year = year - 1900;
#line 53
  dt->mon = mon;
#line 54
  dt->mday = day + 1;
#line 55
  return;
}
}
#line 125 "/usr/include/x86_64-linux-gnu/sys/wait.h"
extern __pid_t waitpid(__pid_t __pid , int *__stat_loc , int __options ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/wait_nohang.c"
int wait_nohang(int *wstat ) 
{ 
  __pid_t tmp ;

  {
  {
#line 8
  tmp = waitpid(-1, wstat, 1);
  }
#line 8
  return (tmp);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/open.h"
int open_read(char *fn ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/open_read.c"
int open_read(char *fn ) 
{ 
  int tmp ;

  {
  {
#line 6
  tmp = open((char const   *)fn, 2048);
  }
#line 6
  return (tmp);
}
}
#line 256 "/usr/include/signal.h"
extern int ( __attribute__((__nonnull__(1))) sigsuspend)(sigset_t const   *__set ) ;
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_pause(void) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_pause.c"
void sig_pause(void) 
{ 
  sigset_t ss ;

  {
  {
#line 9
  sigemptyset(& ss);
#line 10
  sigsuspend((sigset_t const   *)(& ss));
  }
#line 14
  return;
}
}
#line 10 "/home/wheatley/newnew/temp/netqmail-1.06/str.h"
int str_start(char *s , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/str_start.c"
int str_start(char *s , char *t ) 
{ 
  register char x ;
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;
  char *tmp___3 ;
  char *tmp___4 ;
  char *tmp___5 ;
  char *tmp___6 ;

  {
  {
#line 9
  while (1) {
    while_continue: /* CIL Label */ ;
#line 10
    tmp = t;
#line 10
    t ++;
#line 10
    x = *tmp;
#line 10
    if (! x) {
#line 10
      return (1);
    }
#line 10
    tmp___0 = s;
#line 10
    s ++;
#line 10
    if ((int )x != (int )*tmp___0) {
#line 10
      return (0);
    }
#line 11
    tmp___1 = t;
#line 11
    t ++;
#line 11
    x = *tmp___1;
#line 11
    if (! x) {
#line 11
      return (1);
    }
#line 11
    tmp___2 = s;
#line 11
    s ++;
#line 11
    if ((int )x != (int )*tmp___2) {
#line 11
      return (0);
    }
#line 12
    tmp___3 = t;
#line 12
    t ++;
#line 12
    x = *tmp___3;
#line 12
    if (! x) {
#line 12
      return (1);
    }
#line 12
    tmp___4 = s;
#line 12
    s ++;
#line 12
    if ((int )x != (int )*tmp___4) {
#line 12
      return (0);
    }
#line 13
    tmp___5 = t;
#line 13
    t ++;
#line 13
    x = *tmp___5;
#line 13
    if (! x) {
#line 13
      return (1);
    }
#line 13
    tmp___6 = s;
#line 13
    s ++;
#line 13
    if ((int )x != (int )*tmp___6) {
#line 13
      return (0);
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 22 "/home/wheatley/newnew/temp/netqmail-1.06/fmt.h"
unsigned int fmt_str(char *s , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/fmt_str.c"
unsigned int fmt_str(char *s , char *t ) 
{ 
  register unsigned int len ;
  char ch ;
  unsigned int tmp ;

  {
#line 8
  len = 0U;
#line 9
  if (s) {
    {
#line 9
    while (1) {
      while_continue: /* CIL Label */ ;
#line 9
      ch = *(t + len);
#line 9
      if (! ch) {
#line 9
        goto while_break;
      }
#line 9
      tmp = len;
#line 9
      len ++;
#line 9
      *(s + tmp) = ch;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 10
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 10
      if (! *(t + len)) {
#line 10
        goto while_break___0;
      }
#line 10
      len ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 11
  return (len);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
static substdio it___17  =    {subfd_outbufsmall, 0, 256, 1, & write};
#line 9 "/home/wheatley/newnew/temp/netqmail-1.06/seek.h"
int seek_end(int fd ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/seek_end.c"
int seek_end(int fd ) 
{ 
  int tmp ;

  {
  {
#line 7
  tmp = lseek(fd, (off_t )0, 2);
  }
#line 7
  if (tmp == -1) {
#line 7
    return (-1);
  }
#line 7
  return (0);
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/lock.h"
int lock_ex(int fd ) ;
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/lock_ex.c"
int lock_ex(int fd ) 
{ 
  int tmp ;

  {
  {
#line 8
  tmp = flock(fd, 2);
  }
#line 8
  return (tmp);
}
}
#line 17 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc.h"
int stralloc_starts(stralloc *sa , char *s ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/stralloc_arts.c"
int stralloc_starts(stralloc *sa , char *s ) 
{ 
  int len ;
  unsigned int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 10
  tmp = str_len(s);
#line 10
  len = (int )tmp;
  }
#line 11
  if (sa->len >= (unsigned int )len) {
    {
#line 11
    tmp___0 = byte_diff(s, len, sa->s);
    }
#line 11
    if (tmp___0) {
#line 11
      tmp___1 = 0;
    } else {
#line 11
      tmp___1 = 1;
    }
  } else {
#line 11
    tmp___1 = 0;
  }
#line 11
  return (tmp___1);
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_miscignore(void) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig_misc.c"
void sig_miscignore(void) 
{ 


  {
  {
#line 6
  sig_catch(26, (void (*)(int  ))1);
#line 7
  sig_catch(27, (void (*)(int  ))1);
#line 8
  sig_catch(3, (void (*)(int  ))1);
#line 9
  sig_catch(2, (void (*)(int  ))1);
#line 10
  sig_catch(1, (void (*)(int  ))1);
#line 12
  sig_catch(24, (void (*)(int  ))1);
#line 15
  sig_catch(25, (void (*)(int  ))1);
  }
#line 17
  return;
}
}
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/strerr.h"
struct strerr strerr_sys  ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/strerr_sys.c"
void strerr_sysinit(void) 
{ 
  int *tmp ;

  {
  {
#line 8
  strerr_sys.who = (struct strerr *)0;
#line 9
  tmp = __errno_location();
#line 9
  strerr_sys.x = error_str(*tmp);
#line 10
  strerr_sys.y = (char *)"";
#line 11
  strerr_sys.z = (char *)"";
  }
#line 12
  return;
}
}
#line 209 "/usr/include/x86_64-linux-gnu/sys/stat.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) stat)(char const   * __restrict  __file ,
                                                                                             struct stat * __restrict  __buf ) ;
#line 214
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(2), __leaf__)) fstat)(int __fd ,
                                                                                            struct stat *__buf ) ;
#line 312
extern  __attribute__((__nothrow__)) __mode_t ( __attribute__((__leaf__)) umask)(__mode_t __mask ) ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/env.h"
int env_init(void) ;
#line 8
int env_put2(char *s , char *t ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/fork.h"
extern int fork() ;
#line 23 "/home/wheatley/newnew/temp/netqmail-1.06/fmt.h"
unsigned int fmt_strn(char *s , char *t , unsigned int n ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/case.h"
void case_lowerb(char *s , unsigned int len ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/myctime.h"
char *myctime(datetime_sec t ) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/gfrom.h"
int gfrom(char *s , int len ) ;
#line 32 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void usage(void) 
{ 


  {
  {
#line 32
  strerr_die(100, "qmail-local: usage: qmail-local [ -nN ] user homedir local dash ext domain sender aliasempty",
             (char *)0, (char *)0, (char *)0, (char *)0, (char *)0, (struct strerr *)0);
  }
#line 32
  return;
}
}
#line 34 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void temp_nomem(void) 
{ 


  {
  {
#line 34
  strerr_die(111, "Out of memory. (#4.3.0)", (char *)0, (char *)0, (char *)0, (char *)0,
             (char *)0, (struct strerr *)0);
  }
#line 34
  return;
}
}
#line 35 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void temp_rewind(void) 
{ 


  {
  {
#line 35
  strerr_die(111, "Unable to rewind message. (#4.3.0)", (char *)0, (char *)0, (char *)0,
             (char *)0, (char *)0, (struct strerr *)0);
  }
#line 35
  return;
}
}
#line 36 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void temp_childcrashed(void) 
{ 


  {
  {
#line 36
  strerr_die(111, "Aack, child crashed. (#4.3.0)", (char *)0, (char *)0, (char *)0,
             (char *)0, (char *)0, (struct strerr *)0);
  }
#line 36
  return;
}
}
#line 37 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void temp_fork(void) 
{ 
  int *tmp ;
  char *tmp___0 ;

  {
  {
#line 37
  tmp = __errno_location();
#line 37
  tmp___0 = error_str(*tmp);
#line 37
  strerr_die(111, "Unable to fork: ", tmp___0, ". (#4.3.0)", (char *)0, (char *)0,
             (char *)0, (struct strerr *)0);
  }
#line 37
  return;
}
}
#line 38 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void temp_read(void) 
{ 
  int *tmp ;
  char *tmp___0 ;

  {
  {
#line 38
  tmp = __errno_location();
#line 38
  tmp___0 = error_str(*tmp);
#line 38
  strerr_die(111, "Unable to read message: ", tmp___0, ". (#4.3.0)", (char *)0, (char *)0,
             (char *)0, (struct strerr *)0);
  }
#line 38
  return;
}
}
#line 39 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void temp_slowlock(void) 
{ 


  {
  {
#line 40
  strerr_die(111, "File has been locked for 30 seconds straight. (#4.3.0)", (char *)0,
             (char *)0, (char *)0, (char *)0, (char *)0, (struct strerr *)0);
  }
#line 40
  return;
}
}
#line 41 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void temp_qmail(char *fn ) 
{ 
  int *tmp ;
  char *tmp___0 ;

  {
  {
#line 42
  tmp = __errno_location();
#line 42
  tmp___0 = error_str(*tmp);
#line 42
  strerr_die(111, "Unable to open ", fn, ": ", tmp___0, ". (#4.3.0)", (char *)0, (struct strerr *)0);
  }
#line 42
  return;
}
}
#line 44 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
int flagdoit  ;
#line 45 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
int flag99  ;
#line 47 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *user  ;
#line 48 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *homedir  ;
#line 49 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *local  ;
#line 50 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *dash  ;
#line 51 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *ext  ;
#line 52 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *host  ;
#line 53 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *sender  ;
#line 54 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char *aliasempty  ;
#line 56 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc safeext  =    {(char *)0, 0U, 0U};
#line 57 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc ufline  =    {(char *)0, 0U, 0U};
#line 58 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc rpline  =    {(char *)0, 0U, 0U};
#line 59 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc envrecip  =    {(char *)0, 0U, 0U};
#line 60 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc dtline  =    {(char *)0, 0U, 0U};
#line 61 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc qme  =    {(char *)0, 0U, 0U};
#line 62 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc ueo  =    {(char *)0, 0U, 0U};
#line 63 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc cmds  =    {(char *)0, 0U, 0U};
#line 64 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc messline  =    {(char *)0, 0U, 0U};
#line 65 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
stralloc foo  =    {(char *)0, 0U, 0U};
#line 67 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char buf[1024]  ;
#line 68 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char outbuf[1024]  ;
#line 72 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char fntmptph[160]  ;
#line 73 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char fnnewtph[160]  ;
#line 74
extern int ( /* missing proto */  unlink)() ;
#line 74 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void tryunlinktmp(void) 
{ 


  {
  {
#line 74
  unlink(fntmptph);
  }
#line 74
  return;
}
}
#line 75 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void sigalrm(void) 
{ 


  {
  {
#line 75
  tryunlinktmp();
#line 75
  _exit(3);
  }
#line 75
  return;
}
}
#line 92
extern int ( /* missing proto */  getpid)() ;
#line 94
extern int ( /* missing proto */  gethostname)() ;
#line 106
extern int ( /* missing proto */  sleep)() ;
#line 111
extern int ( /* missing proto */  alarm)() ;
#line 127
extern int ( /* missing proto */  fsync)() ;
#line 130
extern int ( /* missing proto */  link)() ;
#line 77 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void maildir_child(char *dir ) 
{ 
  unsigned long pid ;
  unsigned long time___0 ;
  char host___0[64] ;
  char *s ;
  int loop ;
  struct stat st ;
  int fd ;
  substdio ss ;
  substdio ssout ;
  int *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  datetime_sec tmp___3 ;
  unsigned int tmp___4 ;
  unsigned int tmp___5 ;
  char *tmp___6 ;
  unsigned int tmp___7 ;
  char *tmp___8 ;
  unsigned int tmp___9 ;
  char *tmp___10 ;
  int *tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;

  {
  {
#line 90
  sig_alarmcatch(& sigalrm);
#line 91
  tmp___1 = chdir(dir);
  }
#line 91
  if (tmp___1 == -1) {
    {
#line 91
    tmp = __errno_location();
#line 91
    tmp___0 = error_temp(*tmp);
    }
#line 91
    if (tmp___0) {
      {
#line 91
      _exit(1);
      }
    }
    {
#line 91
    _exit(2);
    }
  }
  {
#line 92
  tmp___2 = getpid();
#line 92
  pid = (unsigned long )tmp___2;
#line 93
  host___0[0] = (char)0;
#line 94
  gethostname(host___0, sizeof(host___0));
#line 95
  loop = 0;
  }
  {
#line 95
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 97
    tmp___3 = now();
#line 97
    time___0 = (unsigned long )tmp___3;
#line 98
    s = fntmptph;
#line 99
    tmp___4 = fmt_str(s, "tmp/");
#line 99
    s += tmp___4;
#line 100
    tmp___5 = fmt_ulong(s, time___0);
#line 100
    s += tmp___5;
#line 100
    tmp___6 = s;
#line 100
    s ++;
#line 100
    *tmp___6 = (char )'.';
#line 101
    tmp___7 = fmt_ulong(s, pid);
#line 101
    s += tmp___7;
#line 101
    tmp___8 = s;
#line 101
    s ++;
#line 101
    *tmp___8 = (char )'.';
#line 102
    tmp___9 = fmt_strn(s, host___0, sizeof(host___0));
#line 102
    s += tmp___9;
#line 102
    tmp___10 = s;
#line 102
    s ++;
#line 102
    *tmp___10 = (char)0;
#line 103
    tmp___12 = stat((char const   */* __restrict  */)(fntmptph), (struct stat */* __restrict  */)(& st));
    }
#line 103
    if (tmp___12 == -1) {
      {
#line 103
      tmp___11 = __errno_location();
      }
#line 103
      if (*tmp___11 == error_noent) {
#line 103
        goto while_break;
      }
    }
#line 105
    if (loop == 2) {
      {
#line 105
      _exit(1);
      }
    }
    {
#line 106
    sleep(2);
#line 95
    loop ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 108
  str_copy(fnnewtph, fntmptph);
#line 109
  byte_copy(fnnewtph, 3, "new");
#line 111
  alarm(86400);
#line 112
  fd = open_excl(fntmptph);
  }
#line 113
  if (fd == -1) {
    {
#line 113
    _exit(1);
    }
  }
  {
#line 115
  substdio_fdbuf(& ss, & read, 0, buf, sizeof(buf));
#line 116
  substdio_fdbuf(& ssout, & write, fd, outbuf, sizeof(outbuf));
#line 117
  tmp___13 = substdio_put(& ssout, rpline.s, rpline.len);
  }
#line 117
  if (tmp___13 == -1) {
#line 117
    goto fail;
  }
  {
#line 118
  tmp___14 = substdio_put(& ssout, dtline.s, dtline.len);
  }
#line 118
  if (tmp___14 == -1) {
#line 118
    goto fail;
  }
  {
#line 120
  tmp___15 = substdio_copy(& ssout, & ss);
  }
  {
#line 122
  if (tmp___15 == -2) {
#line 122
    goto case_neg_2;
  }
#line 123
  if (tmp___15 == -3) {
#line 123
    goto case_neg_3;
  }
#line 120
  goto switch_break;
  case_neg_2: /* CIL Label */ 
  {
#line 122
  tryunlinktmp();
#line 122
  _exit(4);
  }
  case_neg_3: /* CIL Label */ 
#line 123
  goto fail;
  switch_break: /* CIL Label */ ;
  }
  {
#line 126
  tmp___16 = substdio_flush(& ssout);
  }
#line 126
  if (tmp___16 == -1) {
#line 126
    goto fail;
  }
  {
#line 127
  tmp___17 = fsync(fd);
  }
#line 127
  if (tmp___17 == -1) {
#line 127
    goto fail;
  }
  {
#line 128
  tmp___18 = close(fd);
  }
#line 128
  if (tmp___18 == -1) {
#line 128
    goto fail;
  }
  {
#line 130
  tmp___19 = link(fntmptph, fnnewtph);
  }
#line 130
  if (tmp___19 == -1) {
#line 130
    goto fail;
  }
  {
#line 132
  tryunlinktmp();
#line 132
  _exit(0);
  }
  fail: 
  {
#line 134
  tryunlinktmp();
#line 134
  _exit(1);
  }
#line 135
  return;
}
}
#line 139 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void maildir(char *fn ) 
{ 
  int child ;
  int wstat ;
  int tmp ;

  {
  {
#line 145
  tmp = seek_set(0, (seek_pos )0);
  }
#line 145
  if (tmp == -1) {
    {
#line 145
    temp_rewind();
    }
  }
  {
#line 147
  child = fork();
  }
  {
#line 149
  if (child == -1) {
#line 149
    goto case_neg_1;
  }
#line 151
  if (child == 0) {
#line 151
    goto case_0;
  }
#line 147
  goto switch_break;
  case_neg_1: /* CIL Label */ 
  {
#line 150
  temp_fork();
  }
  case_0: /* CIL Label */ 
  {
#line 152
  maildir_child(fn);
#line 153
  _exit(111);
  }
  switch_break: /* CIL Label */ ;
  }
  {
#line 156
  wait_pid(& wstat, child);
  }
#line 157
  if (wstat & 127) {
    {
#line 158
    temp_childcrashed();
    }
  }
  {
#line 161
  if (wstat >> 8 == 0) {
#line 161
    goto case_0___0;
  }
#line 162
  if (wstat >> 8 == 2) {
#line 162
    goto case_2;
  }
#line 163
  if (wstat >> 8 == 3) {
#line 163
    goto case_3;
  }
#line 164
  if (wstat >> 8 == 4) {
#line 164
    goto case_4;
  }
#line 165
  goto switch_default;
  case_0___0: /* CIL Label */ 
#line 161
  goto switch_break___0;
  case_2: /* CIL Label */ 
  {
#line 162
  strerr_die(111, "Unable to chdir to maildir. (#4.2.1)", (char *)0, (char *)0, (char *)0,
             (char *)0, (char *)0, (struct strerr *)0);
  }
  case_3: /* CIL Label */ 
  {
#line 163
  strerr_die(111, "Timeout on maildir delivery. (#4.3.0)", (char *)0, (char *)0, (char *)0,
             (char *)0, (char *)0, (struct strerr *)0);
  }
  case_4: /* CIL Label */ 
  {
#line 164
  strerr_die(111, "Unable to read message. (#4.3.0)", (char *)0, (char *)0, (char *)0,
             (char *)0, (char *)0, (struct strerr *)0);
  }
  switch_default: /* CIL Label */ 
  {
#line 165
  strerr_die(111, "Temporary error on maildir delivery. (#4.3.0)", (char *)0, (char *)0,
             (char *)0, (char *)0, (char *)0, (struct strerr *)0);
  }
  switch_break___0: /* CIL Label */ ;
  }
#line 167
  return;
}
}
#line 169 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void mailfile(char *fn ) 
{ 
  int fd ;
  substdio ss ;
  substdio ssout ;
  int match ;
  seek_pos pos ;
  int flaglocked ;
  int tmp ;
  int *tmp___0 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int *tmp___6 ;
  char *tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int *tmp___16 ;
  char *tmp___17 ;

  {
  {
#line 179
  tmp = seek_set(0, (seek_pos )0);
  }
#line 179
  if (tmp == -1) {
    {
#line 179
    temp_rewind();
    }
  }
  {
#line 181
  fd = open_append(fn);
  }
#line 182
  if (fd == -1) {
    {
#line 183
    tmp___0 = __errno_location();
#line 183
    tmp___1 = error_str(*tmp___0);
#line 183
    strerr_die(111, "Unable to open ", fn, ": ", tmp___1, ". (#4.2.1)", (char *)0,
               (struct strerr *)0);
    }
  }
  {
#line 185
  sig_alarmcatch(& temp_slowlock);
#line 186
  alarm(30);
#line 187
  tmp___2 = lock_ex(fd);
#line 187
  flaglocked = tmp___2 != -1;
#line 188
  alarm(0);
#line 189
  sig_alarmdefault();
#line 191
  seek_end(fd);
#line 192
  pos = seek_cur(fd);
#line 194
  substdio_fdbuf(& ss, & read, 0, buf, sizeof(buf));
#line 195
  substdio_fdbuf(& ssout, & write, fd, outbuf, sizeof(outbuf));
#line 196
  tmp___3 = substdio_put(& ssout, ufline.s, ufline.len);
  }
#line 196
  if (tmp___3) {
#line 196
    goto writeerrs;
  }
  {
#line 197
  tmp___4 = substdio_put(& ssout, rpline.s, rpline.len);
  }
#line 197
  if (tmp___4) {
#line 197
    goto writeerrs;
  }
  {
#line 198
  tmp___5 = substdio_put(& ssout, dtline.s, dtline.len);
  }
#line 198
  if (tmp___5) {
#line 198
    goto writeerrs;
  }
  {
#line 199
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 201
    tmp___8 = getln(& ss, & messline, & match, '\n');
    }
#line 201
    if (tmp___8 != 0) {
      {
#line 203
      tmp___6 = __errno_location();
#line 203
      tmp___7 = error_str(*tmp___6);
#line 203
      strerr_warn("Unable to read message: ", tmp___7, ". (#4.3.0)", (char *)0, (char *)0,
                  (char *)0, (struct strerr *)0);
      }
#line 204
      if (flaglocked) {
        {
#line 204
        seek_trunc(fd, pos);
        }
      }
      {
#line 204
      close(fd);
#line 205
      _exit(111);
      }
    }
#line 207
    if (! match) {
#line 207
      if (! messline.len) {
#line 207
        goto while_break;
      }
    }
    {
#line 208
    tmp___10 = gfrom(messline.s, messline.len);
    }
#line 208
    if (tmp___10) {
      {
#line 209
      tmp___9 = substdio_bput(& ssout, ">", 1);
      }
#line 209
      if (tmp___9) {
#line 209
        goto writeerrs;
      }
    }
    {
#line 210
    tmp___11 = substdio_bput(& ssout, messline.s, messline.len);
    }
#line 210
    if (tmp___11) {
#line 210
      goto writeerrs;
    }
#line 211
    if (! match) {
      {
#line 213
      tmp___12 = substdio_bputs(& ssout, "\n");
      }
#line 213
      if (tmp___12) {
#line 213
        goto writeerrs;
      }
#line 214
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 217
  tmp___13 = substdio_bputs(& ssout, "\n");
  }
#line 217
  if (tmp___13) {
#line 217
    goto writeerrs;
  }
  {
#line 218
  tmp___14 = substdio_flush(& ssout);
  }
#line 218
  if (tmp___14) {
#line 218
    goto writeerrs;
  }
  {
#line 219
  tmp___15 = fsync(fd);
  }
#line 219
  if (tmp___15 == -1) {
#line 219
    goto writeerrs;
  }
  {
#line 220
  close(fd);
  }
#line 221
  return;
  writeerrs: 
  {
#line 224
  tmp___16 = __errno_location();
#line 224
  tmp___17 = error_str(*tmp___16);
#line 224
  strerr_warn("Unable to write ", fn, ": ", tmp___17, ". (#4.3.0)", (char *)0, (struct strerr *)0);
  }
#line 225
  if (flaglocked) {
    {
#line 225
    seek_trunc(fd, pos);
    }
  }
  {
#line 226
  close(fd);
#line 227
  _exit(111);
  }
#line 228
  return;
}
}
#line 230 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void mailprogram(char *prog ) 
{ 
  int child ;
  char *args[4] ;
  int wstat ;
  int tmp ;
  int *tmp___0 ;
  char *tmp___1 ;

  {
  {
#line 237
  tmp = seek_set(0, (seek_pos )0);
  }
#line 237
  if (tmp == -1) {
    {
#line 237
    temp_rewind();
    }
  }
  {
#line 239
  child = fork();
  }
  {
#line 241
  if (child == -1) {
#line 241
    goto case_neg_1;
  }
#line 243
  if (child == 0) {
#line 243
    goto case_0;
  }
#line 239
  goto switch_break;
  case_neg_1: /* CIL Label */ 
  {
#line 242
  temp_fork();
  }
  case_0: /* CIL Label */ 
  {
#line 244
  args[0] = (char *)"/bin/sh";
#line 244
  args[1] = (char *)"-c";
#line 244
  args[2] = prog;
#line 244
  args[3] = (char *)0;
#line 245
  sig_pipedefault();
#line 246
  execv(args[0], args);
#line 247
  tmp___0 = __errno_location();
#line 247
  tmp___1 = error_str(*tmp___0);
#line 247
  strerr_die(111, "Unable to run /bin/sh: ", tmp___1, ". (#4.3.0)", (char *)0, (char *)0,
             (char *)0, (struct strerr *)0);
  }
  switch_break: /* CIL Label */ ;
  }
  {
#line 250
  wait_pid(& wstat, child);
  }
#line 251
  if (wstat & 127) {
    {
#line 252
    temp_childcrashed();
    }
  }
  {
#line 256
  if (wstat >> 8 == 112) {
#line 256
    goto case_112;
  }
#line 256
  if (wstat >> 8 == 78) {
#line 256
    goto case_112;
  }
#line 256
  if (wstat >> 8 == 77) {
#line 256
    goto case_112;
  }
#line 256
  if (wstat >> 8 == 76) {
#line 256
    goto case_112;
  }
#line 256
  if (wstat >> 8 == 70) {
#line 256
    goto case_112;
  }
#line 256
  if (wstat >> 8 == 65) {
#line 256
    goto case_112;
  }
#line 256
  if (wstat >> 8 == 64) {
#line 256
    goto case_112;
  }
#line 256
  if (wstat >> 8 == 100) {
#line 256
    goto case_112;
  }
#line 257
  if (wstat >> 8 == 0) {
#line 257
    goto case_0___0;
  }
#line 258
  if (wstat >> 8 == 99) {
#line 258
    goto case_99;
  }
#line 259
  goto switch_default;
  case_112: /* CIL Label */ 
  case_78: /* CIL Label */ 
  case_77: /* CIL Label */ 
  case_76: /* CIL Label */ 
  case_70: /* CIL Label */ 
  case_65: /* CIL Label */ 
  case_64: /* CIL Label */ 
  case_100: /* CIL Label */ 
  {
#line 256
  _exit(100);
  }
  case_0___0: /* CIL Label */ 
#line 257
  goto switch_break___0;
  case_99: /* CIL Label */ 
#line 258
  flag99 = 1;
#line 258
  goto switch_break___0;
  switch_default: /* CIL Label */ 
  {
#line 259
  _exit(111);
  }
  switch_break___0: /* CIL Label */ ;
  }
#line 261
  return;
}
}
#line 263 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
unsigned long mailforward_qp  =    0UL;
#line 265 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void mailforward(char **recips ) 
{ 
  struct qmail qqt ;
  char *qqx ;
  substdio ss ;
  int match ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char **tmp___2 ;
  int tmp___3 ;

  {
  {
#line 273
  tmp = seek_set(0, (seek_pos )0);
  }
#line 273
  if (tmp == -1) {
    {
#line 273
    temp_rewind();
    }
  }
  {
#line 274
  substdio_fdbuf(& ss, & read, 0, buf, sizeof(buf));
#line 276
  tmp___0 = qmail_open(& qqt);
  }
#line 276
  if (tmp___0 == -1) {
    {
#line 276
    temp_fork();
    }
  }
  {
#line 277
  mailforward_qp = qmail_qp(& qqt);
#line 278
  qmail_put(& qqt, dtline.s, dtline.len);
  }
  {
#line 279
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 281
    tmp___1 = getln(& ss, & messline, & match, '\n');
    }
#line 281
    if (tmp___1 != 0) {
      {
#line 281
      qmail_fail(& qqt);
      }
#line 281
      goto while_break;
    }
    {
#line 282
    qmail_put(& qqt, messline.s, messline.len);
    }
#line 279
    if (! match) {
#line 279
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 285
  qmail_from(& qqt, ueo.s);
  }
  {
#line 286
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 286
    if (! *recips) {
#line 286
      goto while_break___0;
    }
    {
#line 286
    tmp___2 = recips;
#line 286
    recips ++;
#line 286
    qmail_to(& qqt, *tmp___2);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 287
  qqx = qmail_close(& qqt);
  }
#line 288
  if (! *qqx) {
#line 288
    return;
  }
#line 289
  if ((int )*qqx == 68) {
#line 289
    tmp___3 = 100;
  } else {
#line 289
    tmp___3 = 111;
  }
  {
#line 289
  strerr_die(tmp___3, "Unable to forward message: ", qqx + 1, ".", (char *)0, (char *)0,
             (char *)0, (struct strerr *)0);
  }
#line 290
  return;
}
}
#line 292 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void bouncexf(void) 
{ 
  int match ;
  substdio ss ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
  {
#line 297
  tmp = seek_set(0, (seek_pos )0);
  }
#line 297
  if (tmp == -1) {
    {
#line 297
    temp_rewind();
    }
  }
  {
#line 298
  substdio_fdbuf(& ss, & read, 0, buf, sizeof(buf));
  }
  {
#line 299
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 301
    tmp___0 = getln(& ss, & messline, & match, '\n');
    }
#line 301
    if (tmp___0 != 0) {
      {
#line 301
      temp_read();
      }
    }
#line 302
    if (! match) {
#line 302
      goto while_break;
    }
#line 303
    if (messline.len <= 1U) {
#line 304
      goto while_break;
    }
#line 305
    if (messline.len == dtline.len) {
      {
#line 306
      tmp___1 = str_diffn(messline.s, dtline.s, dtline.len);
      }
#line 306
      if (! tmp___1) {
        {
#line 307
        strerr_die(100, "This message is looping: it already has my Delivered-To line. (#5.4.6)",
                   (char *)0, (char *)0, (char *)0, (char *)0, (char *)0, (struct strerr *)0);
        }
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 309
  return;
}
}
#line 311 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void checkhome(void) 
{ 
  struct stat st ;
  int *tmp ;
  char *tmp___0 ;
  int tmp___1 ;

  {
  {
#line 315
  tmp___1 = stat((char const   */* __restrict  */)".", (struct stat */* __restrict  */)(& st));
  }
#line 315
  if (tmp___1 == -1) {
    {
#line 316
    tmp = __errno_location();
#line 316
    tmp___0 = error_str(*tmp);
#line 316
    strerr_die(111, "Unable to stat home directory: ", tmp___0, ". (#4.3.0)", (char *)0,
               (char *)0, (char *)0, (struct strerr *)0);
    }
  }
#line 317
  if (st.st_mode & (unsigned int )auto_patrn) {
    {
#line 318
    strerr_die(111, "Uh-oh: home directory is writable. (#4.7.0)", (char *)0, (char *)0,
               (char *)0, (char *)0, (char *)0, (struct strerr *)0);
    }
  }
#line 319
  if (st.st_mode & 512U) {
#line 320
    if (flagdoit) {
      {
#line 321
      strerr_die(111, "Home directory is sticky: user is editing his .qmail file. (#4.2.1)",
                 (char *)0, (char *)0, (char *)0, (char *)0, (char *)0, (struct strerr *)0);
      }
    } else {
      {
#line 323
      strerr_warn("Warning: home directory is sticky.", (char *)0, (char *)0, (char *)0,
                  (char *)0, (char *)0, (struct strerr *)0);
      }
    }
  }
#line 324
  return;
}
}
#line 326 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
int qmeox(char *dashowner ) 
{ 
  struct stat st ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
  {
#line 331
  tmp = stralloc_copys(& qme, ".qmail");
  }
#line 331
  if (! tmp) {
    {
#line 331
    temp_nomem();
    }
  }
  {
#line 332
  tmp___0 = stralloc_cats(& qme, dash);
  }
#line 332
  if (! tmp___0) {
    {
#line 332
    temp_nomem();
    }
  }
  {
#line 333
  tmp___1 = stralloc_cat(& qme, & safeext);
  }
#line 333
  if (! tmp___1) {
    {
#line 333
    temp_nomem();
    }
  }
  {
#line 334
  tmp___2 = stralloc_cats(& qme, dashowner);
  }
#line 334
  if (! tmp___2) {
    {
#line 334
    temp_nomem();
    }
  }
  {
#line 335
  tmp___3 = stralloc_append(& qme, "");
  }
#line 335
  if (! tmp___3) {
    {
#line 335
    temp_nomem();
    }
  }
  {
#line 336
  tmp___6 = stat((char const   */* __restrict  */)qme.s, (struct stat */* __restrict  */)(& st));
  }
#line 336
  if (tmp___6 == -1) {
    {
#line 338
    tmp___4 = __errno_location();
#line 338
    tmp___5 = error_temp(*tmp___4);
    }
#line 338
    if (tmp___5) {
      {
#line 338
      temp_qmail(qme.s);
      }
    }
#line 339
    return (-1);
  }
#line 341
  return (0);
}
}
#line 344 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
int qmeexists(int *fd , int *cutable ) 
{ 
  struct stat st ;
  int tmp ;
  int *tmp___0 ;
  int tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  int tmp___4 ;

  {
  {
#line 350
  tmp = stralloc_append(& qme, "");
  }
#line 350
  if (! tmp) {
    {
#line 350
    temp_nomem();
    }
  }
  {
#line 352
  *fd = open_read(qme.s);
  }
#line 353
  if (*fd == -1) {
    {
#line 354
    tmp___0 = __errno_location();
#line 354
    tmp___1 = error_temp(*tmp___0);
    }
#line 354
    if (tmp___1) {
      {
#line 354
      temp_qmail(qme.s);
      }
    }
    {
#line 355
    tmp___2 = __errno_location();
    }
#line 355
    if (*tmp___2 == error_perm) {
      {
#line 355
      temp_qmail(qme.s);
      }
    }
    {
#line 356
    tmp___3 = __errno_location();
    }
#line 356
    if (*tmp___3 == error_acces) {
      {
#line 356
      temp_qmail(qme.s);
      }
    }
#line 357
    return (0);
  }
  {
#line 360
  tmp___4 = fstat(*fd, & st);
  }
#line 360
  if (tmp___4 == -1) {
    {
#line 360
    temp_qmail(qme.s);
    }
  }
#line 361
  if ((st.st_mode & 61440U) == 32768U) {
#line 362
    if (st.st_mode & (unsigned int )auto_patrn) {
      {
#line 363
      strerr_die(111, "Uh-oh: .qmail file is writable. (#4.7.0)", (char *)0, (char *)0,
                 (char *)0, (char *)0, (char *)0, (struct strerr *)0);
      }
    }
#line 364
    *cutable = ! (! (st.st_mode & 64U));
#line 365
    return (1);
  }
  {
#line 367
  close(*fd);
  }
#line 368
  return (0);
}
}
#line 379 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void qmesearch(int *fd , int *cutable ) 
{ 
  int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  unsigned int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  unsigned int tmp___11 ;
  int tmp___12 ;

  {
  {
#line 385
  tmp = stralloc_copys(& qme, ".qmail");
  }
#line 385
  if (! tmp) {
    {
#line 385
    temp_nomem();
    }
  }
  {
#line 386
  tmp___0 = stralloc_cats(& qme, dash);
  }
#line 386
  if (! tmp___0) {
    {
#line 386
    temp_nomem();
    }
  }
  {
#line 387
  tmp___1 = stralloc_cat(& qme, & safeext);
  }
#line 387
  if (! tmp___1) {
    {
#line 387
    temp_nomem();
    }
  }
  {
#line 388
  tmp___5 = qmeexists(fd, cutable);
  }
#line 388
  if (tmp___5) {
#line 389
    if (safeext.len >= 7U) {
      {
#line 390
      i = (int )(safeext.len - 7U);
#line 391
      tmp___4 = byte_diff("default", 7, safeext.s + i);
      }
#line 391
      if (! tmp___4) {
        {
#line 392
        tmp___3 = str_len(ext);
        }
#line 392
        if ((unsigned int )i <= tmp___3) {
          {
#line 393
          tmp___2 = env_put2("DEFAULT", ext + i);
          }
#line 393
          if (! tmp___2) {
            {
#line 393
            temp_nomem();
            }
          }
        }
      }
    }
#line 395
    return;
  }
#line 398
  i = (int )safeext.len;
  {
#line 398
  while (1) {
    while_continue: /* CIL Label */ ;
#line 398
    if (! (i >= 0)) {
#line 398
      goto while_break;
    }
#line 399
    if (! i) {
#line 399
      goto _L;
    } else
#line 399
    if ((int )*(safeext.s + (i - 1)) == 45) {
      _L: /* CIL Label */ 
      {
#line 400
      tmp___6 = stralloc_copys(& qme, ".qmail");
      }
#line 400
      if (! tmp___6) {
        {
#line 400
        temp_nomem();
        }
      }
      {
#line 401
      tmp___7 = stralloc_cats(& qme, dash);
      }
#line 401
      if (! tmp___7) {
        {
#line 401
        temp_nomem();
        }
      }
      {
#line 402
      tmp___8 = stralloc_catb(& qme, safeext.s, i);
      }
#line 402
      if (! tmp___8) {
        {
#line 402
        temp_nomem();
        }
      }
      {
#line 403
      tmp___9 = stralloc_cats(& qme, "default");
      }
#line 403
      if (! tmp___9) {
        {
#line 403
        temp_nomem();
        }
      }
      {
#line 404
      tmp___12 = qmeexists(fd, cutable);
      }
#line 404
      if (tmp___12) {
        {
#line 405
        tmp___11 = str_len(ext);
        }
#line 405
        if ((unsigned int )i <= tmp___11) {
          {
#line 406
          tmp___10 = env_put2("DEFAULT", ext + i);
          }
#line 406
          if (! tmp___10) {
            {
#line 406
            temp_nomem();
            }
          }
        }
#line 407
        return;
      }
    }
#line 398
    i --;
  }
  while_break: /* CIL Label */ ;
  }
#line 411
  *fd = -1;
#line 412
  return;
}
}
#line 414 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
unsigned long count_file  =    0UL;
#line 415 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
unsigned long count_forward  =    0UL;
#line 416 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
unsigned long count_program  =    0UL;
#line 417 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
char count_buf[40]  ;
#line 419 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void count_print(void) 
{ 
  unsigned int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;
  unsigned int tmp___2 ;

  {
  {
#line 421
  substdio_puts(subfdoutsmall, "did ");
#line 422
  tmp = fmt_ulong(count_buf, count_file);
#line 422
  substdio_put(subfdoutsmall, count_buf, tmp);
#line 423
  substdio_puts(subfdoutsmall, "+");
#line 424
  tmp___0 = fmt_ulong(count_buf, count_forward);
#line 424
  substdio_put(subfdoutsmall, count_buf, tmp___0);
#line 425
  substdio_puts(subfdoutsmall, "+");
#line 426
  tmp___1 = fmt_ulong(count_buf, count_program);
#line 426
  substdio_put(subfdoutsmall, count_buf, tmp___1);
#line 427
  substdio_puts(subfdoutsmall, "\n");
  }
#line 428
  if (mailforward_qp) {
    {
#line 430
    substdio_puts(subfdoutsmall, "qp ");
#line 431
    tmp___2 = fmt_ulong(count_buf, mailforward_qp);
#line 431
    substdio_put(subfdoutsmall, count_buf, tmp___2);
#line 432
    substdio_puts(subfdoutsmall, "\n");
    }
  }
  {
#line 434
  substdio_flush(subfdoutsmall);
  }
#line 435
  return;
}
}
#line 437 "/home/wheatley/newnew/temp/netqmail-1.06/qmail-local.c"
void sayit(char *type , char *cmd , int len ) 
{ 


  {
  {
#line 442
  substdio_puts(subfdoutsmall, type);
#line 443
  substdio_put(subfdoutsmall, cmd, len);
#line 444
  substdio_putsflush(subfdoutsmall, "\n");
  }
#line 445
  return;
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
static substdio it___18  =    {subfd_inbuf, 0, 8192, 0, (int (*)())(& subfd_read)};
#line 9 "/home/wheatley/newnew/temp/netqmail-1.06/byte.h"
void byte_zero(char *s , unsigned int n ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/byte_zero.c"
void byte_zero(char *s , unsigned int n ) 
{ 
  char *tmp ;
  char *tmp___0 ;
  char *tmp___1 ;
  char *tmp___2 ;

  {
  {
#line 7
  while (1) {
    while_continue: /* CIL Label */ ;
#line 8
    if (! n) {
#line 8
      goto while_break;
    }
#line 8
    tmp = s;
#line 8
    s ++;
#line 8
    *tmp = (char)0;
#line 8
    n --;
#line 9
    if (! n) {
#line 9
      goto while_break;
    }
#line 9
    tmp___0 = s;
#line 9
    s ++;
#line 9
    *tmp___0 = (char)0;
#line 9
    n --;
#line 10
    if (! n) {
#line 10
      goto while_break;
    }
#line 10
    tmp___1 = s;
#line 10
    s ++;
#line 10
    *tmp___1 = (char)0;
#line 10
    n --;
#line 11
    if (! n) {
#line 11
      goto while_break;
    }
#line 11
    tmp___2 = s;
#line 11
    s ++;
#line 11
    *tmp___2 = (char)0;
#line 11
    n --;
  }
  while_break: /* CIL Label */ ;
  }
#line 13
  return;
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/case.h"
void case_lowers(char *s ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/case_lowers.c"
void case_lowers(char *s ) 
{ 
  unsigned char x ;

  {
  {
#line 7
  while (1) {
    while_continue: /* CIL Label */ ;
#line 7
    x = (unsigned char )*s;
#line 7
    if (! x) {
#line 7
      goto while_break;
    }
#line 8
    x = (unsigned char )((int )x - 65);
#line 9
    if ((int )x <= 25) {
#line 9
      *s = (char )((int )x + 97);
    }
#line 10
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 12
  return;
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/gfrom.c"
int gfrom(char *s , int len ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
  {
#line 8
  while (1) {
    while_continue: /* CIL Label */ ;
#line 8
    if (len > 0) {
#line 8
      if (! ((int )*s == 62)) {
#line 8
        goto while_break;
      }
    } else {
#line 8
      goto while_break;
    }
#line 8
    s ++;
#line 8
    len --;
  }
  while_break: /* CIL Label */ ;
  }
#line 9
  if (len >= 5) {
    {
#line 9
    tmp = str_diffn(s, "From ", 5);
    }
#line 9
    if (tmp) {
#line 9
      tmp___0 = 0;
    } else {
#line 9
      tmp___0 = 1;
    }
  } else {
#line 9
    tmp___0 = 0;
  }
#line 9
  return (tmp___0);
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/fmt_strn.c"
unsigned int fmt_strn(char *s , char *t , unsigned int n ) 
{ 
  register unsigned int len ;
  char ch ;
  unsigned int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;

  {
#line 8
  len = 0U;
#line 9
  if (s) {
    {
#line 9
    while (1) {
      while_continue: /* CIL Label */ ;
#line 9
      tmp___0 = n;
#line 9
      n --;
#line 9
      if (tmp___0) {
#line 9
        ch = *(t + len);
#line 9
        if (! ch) {
#line 9
          goto while_break;
        }
      } else {
#line 9
        goto while_break;
      }
#line 9
      tmp = len;
#line 9
      len ++;
#line 9
      *(s + tmp) = ch;
    }
    while_break: /* CIL Label */ ;
    }
  } else {
    {
#line 10
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 10
      tmp___1 = n;
#line 10
      n --;
#line 10
      if (tmp___1) {
#line 10
        if (! *(t + len)) {
#line 10
          goto while_break___0;
        }
      } else {
#line 10
        goto while_break___0;
      }
#line 10
      len ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 11
  return (len);
}
}
#line 137 "/usr/include/fcntl.h"
extern int fcntl(int __fd , int __cmd  , ...) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/fd_copy.c"
int fd_copy(int to , int from ) 
{ 
  int tmp ;
  int tmp___0 ;

  {
#line 8
  if (to == from) {
#line 8
    return (0);
  }
  {
#line 9
  tmp = fcntl(from, 3, 0);
  }
#line 9
  if (tmp == -1) {
#line 9
    return (-1);
  }
  {
#line 10
  close(to);
#line 11
  tmp___0 = fcntl(from, 0, to);
  }
#line 11
  if (tmp___0 == -1) {
#line 11
    return (-1);
  }
#line 12
  return (0);
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/open.h"
int open_trunc(char *fn ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/open_trunc.c"
int open_trunc(char *fn ) 
{ 
  int tmp ;

  {
  {
#line 6
  tmp = open((char const   *)fn, 2625, 420);
  }
#line 6
  return (tmp);
}
}
#line 33 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_childblock(void) ;
#line 34
void sig_childunblock(void) ;
#line 35
void sig_childcatch(void (*f)() ) ;
#line 36
void sig_childdefault(void) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig_child.c"
void sig_childblock(void) 
{ 


  {
  {
#line 4
  sig_block(17);
  }
#line 4
  return;
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_child.c"
void sig_childunblock(void) 
{ 


  {
  {
#line 5
  sig_unblock(17);
  }
#line 5
  return;
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/sig_child.c"
void sig_childcatch(void (*f)() ) 
{ 


  {
  {
#line 6
  sig_catch(17, f);
  }
#line 6
  return;
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/sig_child.c"
void sig_childdefault(void) 
{ 


  {
  {
#line 7
  sig_catch(17, (void (*)(int  ))0);
  }
#line 7
  return;
}
}
#line 38 "/home/wheatley/newnew/temp/netqmail-1.06/sig.h"
void sig_hangupblock(void) ;
#line 39
void sig_hangupunblock(void) ;
#line 40
void sig_hangupcatch(void (*f)() ) ;
#line 41
void sig_hangupdefault(void) ;
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/sig_hup.c"
void sig_hangupblock(void) 
{ 


  {
  {
#line 4
  sig_block(1);
  }
#line 4
  return;
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/sig_hup.c"
void sig_hangupunblock(void) 
{ 


  {
  {
#line 5
  sig_unblock(1);
  }
#line 5
  return;
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/sig_hup.c"
void sig_hangupcatch(void (*f)() ) 
{ 


  {
  {
#line 6
  sig_catch(1, f);
  }
#line 6
  return;
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/sig_hup.c"
void sig_hangupdefault(void) 
{ 


  {
  {
#line 7
  sig_catch(1, (void (*)(int  ))0);
  }
#line 7
  return;
}
}
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/env.h"
int env_isinit ;
#line 7
int env_put(char *s ) ;
#line 9
int env_unset(char *s ) ;
#line 12
void env_clear(void) ;
#line 13 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
int env_isinit  =    0;
#line 14 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
static int ea  ;
#line 15 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
static int en  ;
#line 17 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
static void env_goodbye(int i ) 
{ 


  {
  {
#line 19
  alloc_free(*(environ + i));
#line 20
  en --;
#line 20
  *(environ + i) = *(environ + en);
#line 21
  *(environ + en) = (char *)0;
  }
#line 22
  return;
}
}
#line 24 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
static char *null  =    (char *)0;
#line 26 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
void env_clear(void) 
{ 


  {
#line 28
  if (env_isinit) {
    {
#line 28
    while (1) {
      while_continue: /* CIL Label */ ;
#line 28
      if (! en) {
#line 28
        goto while_break;
      }
      {
#line 28
      env_goodbye(0);
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else {
#line 29
    environ = & null;
  }
#line 30
  return;
}
}
#line 32 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
static void env_unsetlen(char *s , int len ) 
{ 
  int i ;
  int tmp ;

  {
#line 35
  i = en - 1;
  {
#line 35
  while (1) {
    while_continue: /* CIL Label */ ;
#line 35
    if (! (i >= 0)) {
#line 35
      goto while_break;
    }
    {
#line 36
    tmp = str_diffn(s, *(environ + i), len);
    }
#line 36
    if (! tmp) {
#line 37
      if ((int )*(*(environ + i) + len) == 61) {
        {
#line 38
        env_goodbye(i);
        }
      }
    }
#line 35
    i --;
  }
  while_break: /* CIL Label */ ;
  }
#line 39
  return;
}
}
#line 41 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
int env_unset(char *s ) 
{ 
  int tmp ;
  unsigned int tmp___0 ;

  {
#line 43
  if (! env_isinit) {
    {
#line 43
    tmp = env_init();
    }
#line 43
    if (! tmp) {
#line 43
      return (0);
    }
  }
  {
#line 44
  tmp___0 = str_len(s);
#line 44
  env_unsetlen(s, (int )tmp___0);
  }
#line 45
  return (1);
}
}
#line 48 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
static int env_add(char *s ) 
{ 
  char *t ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 51
  t = env_findeq(s);
  }
#line 52
  if (t) {
    {
#line 52
    env_unsetlen(s, (int )(t - s));
    }
  }
#line 53
  if (en == ea) {
    {
#line 55
    ea += 30;
#line 56
    tmp = alloc_re(& environ, (unsigned long )(en + 1) * sizeof(char *), (unsigned long )(ea + 1) * sizeof(char *));
    }
#line 56
    if (! tmp) {
#line 57
      ea = en;
#line 57
      return (0);
    }
  }
#line 59
  tmp___0 = en;
#line 59
  en ++;
#line 59
  *(environ + tmp___0) = s;
#line 60
  *(environ + en) = (char *)0;
#line 61
  return (1);
}
}
#line 64 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
int env_put(char *s ) 
{ 
  char *u ;
  int tmp ;
  unsigned int tmp___0 ;
  int tmp___1 ;

  {
#line 67
  if (! env_isinit) {
    {
#line 67
    tmp = env_init();
    }
#line 67
    if (! tmp) {
#line 67
      return (0);
    }
  }
  {
#line 68
  tmp___0 = str_len(s);
#line 68
  u = alloc(tmp___0 + 1U);
  }
#line 69
  if (! u) {
#line 69
    return (0);
  }
  {
#line 70
  str_copy(u, s);
#line 71
  tmp___1 = env_add(u);
  }
#line 71
  if (! tmp___1) {
    {
#line 71
    alloc_free(u);
    }
#line 71
    return (0);
  }
#line 72
  return (1);
}
}
#line 75 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
int env_put2(char *s , char *t ) 
{ 
  char *u ;
  int slen ;
  int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;
  int tmp___2 ;

  {
#line 79
  if (! env_isinit) {
    {
#line 79
    tmp = env_init();
    }
#line 79
    if (! tmp) {
#line 79
      return (0);
    }
  }
  {
#line 80
  tmp___0 = str_len(s);
#line 80
  slen = (int )tmp___0;
#line 81
  tmp___1 = str_len(t);
#line 81
  u = alloc(((unsigned int )slen + tmp___1) + 2U);
  }
#line 82
  if (! u) {
#line 82
    return (0);
  }
  {
#line 83
  str_copy(u, s);
#line 84
  *(u + slen) = (char )'=';
#line 85
  str_copy((u + slen) + 1, t);
#line 86
  tmp___2 = env_add(u);
  }
#line 86
  if (! tmp___2) {
    {
#line 86
    alloc_free(u);
    }
#line 86
    return (0);
  }
#line 87
  return (1);
}
}
#line 90 "/home/wheatley/newnew/temp/netqmail-1.06/env.c"
int env_init(void) 
{ 
  char **newenviron ;
  int i ;
  char *tmp ;
  unsigned int tmp___0 ;

  {
#line 94
  en = 0;
  {
#line 94
  while (1) {
    while_continue: /* CIL Label */ ;
#line 94
    if (! *(environ + en)) {
#line 94
      goto while_break;
    }
#line 94
    en ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 95
  ea = en + 10;
#line 96
  tmp = alloc((unsigned long )(ea + 1) * sizeof(char *));
#line 96
  newenviron = (char **)tmp;
  }
#line 97
  if (! newenviron) {
#line 97
    return (0);
  }
#line 98
  en = 0;
  {
#line 98
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 98
    if (! *(environ + en)) {
#line 98
      goto while_break___0;
    }
    {
#line 100
    tmp___0 = str_len(*(environ + en));
#line 100
    *(newenviron + en) = alloc(tmp___0 + 1U);
    }
#line 101
    if (! *(newenviron + en)) {
#line 103
      i = 0;
      {
#line 103
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 103
        if (! (i < en)) {
#line 103
          goto while_break___1;
        }
        {
#line 103
        alloc_free(*(newenviron + i));
#line 103
        i ++;
        }
      }
      while_break___1: /* CIL Label */ ;
      }
      {
#line 104
      alloc_free(newenviron);
      }
#line 105
      return (0);
    }
    {
#line 107
    str_copy(*(newenviron + en), *(environ + en));
#line 98
    en ++;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 109
  *(newenviron + en) = (char *)0;
#line 110
  environ = newenviron;
#line 111
  env_isinit = 1;
#line 112
  return (1);
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/myctime.c"
static char *daytab[7]  = {      (char *)"Sun",      (char *)"Mon",      (char *)"Tue",      (char *)"Wed", 
        (char *)"Thu",      (char *)"Fri",      (char *)"Sat"};
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/myctime.c"
static char *montab[12]  = 
#line 8
  {      (char *)"Jan",      (char *)"Feb",      (char *)"Mar",      (char *)"Apr", 
        (char *)"May",      (char *)"Jun",      (char *)"Jul",      (char *)"Aug", 
        (char *)"Sep",      (char *)"Oct",      (char *)"Nov",      (char *)"Dec"};
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/myctime.c"
static char result[30]  ;
#line 14 "/home/wheatley/newnew/temp/netqmail-1.06/myctime.c"
char *myctime(datetime_sec t ) 
{ 
  struct datetime dt ;
  unsigned int len ;
  unsigned int tmp ;
  unsigned int tmp___0 ;
  unsigned int tmp___1 ;
  unsigned int tmp___2 ;
  unsigned int tmp___3 ;
  unsigned int tmp___4 ;
  unsigned int tmp___5 ;
  unsigned int tmp___6 ;
  unsigned int tmp___7 ;
  unsigned int tmp___8 ;
  unsigned int tmp___9 ;
  unsigned int tmp___10 ;
  unsigned int tmp___11 ;
  unsigned int tmp___12 ;
  unsigned int tmp___13 ;

  {
  {
#line 19
  datetime_tai(& dt, t);
#line 20
  len = 0U;
#line 21
  tmp = fmt_str(result + len, daytab[dt.wday]);
#line 21
  len += tmp;
#line 22
  tmp___0 = len;
#line 22
  len ++;
#line 22
  result[tmp___0] = (char )' ';
#line 23
  tmp___1 = fmt_str(result + len, montab[dt.mon]);
#line 23
  len += tmp___1;
#line 24
  tmp___2 = len;
#line 24
  len ++;
#line 24
  result[tmp___2] = (char )' ';
#line 25
  tmp___3 = fmt_uint0(result + len, dt.mday, 2);
#line 25
  len += tmp___3;
#line 26
  tmp___4 = len;
#line 26
  len ++;
#line 26
  result[tmp___4] = (char )' ';
#line 27
  tmp___5 = fmt_uint0(result + len, dt.hour, 2);
#line 27
  len += tmp___5;
#line 28
  tmp___6 = len;
#line 28
  len ++;
#line 28
  result[tmp___6] = (char )':';
#line 29
  tmp___7 = fmt_uint0(result + len, dt.min, 2);
#line 29
  len += tmp___7;
#line 30
  tmp___8 = len;
#line 30
  len ++;
#line 30
  result[tmp___8] = (char )':';
#line 31
  tmp___9 = fmt_uint0(result + len, dt.sec, 2);
#line 31
  len += tmp___9;
#line 32
  tmp___10 = len;
#line 32
  len ++;
#line 32
  result[tmp___10] = (char )' ';
#line 33
  tmp___11 = fmt_uint(result + len, 1900 + dt.year);
#line 33
  len += tmp___11;
#line 34
  tmp___12 = len;
#line 34
  len ++;
#line 34
  result[tmp___12] = (char )'\n';
#line 35
  tmp___13 = len;
#line 35
  len ++;
#line 35
  result[tmp___13] = (char)0;
  }
#line 36
  return (result);
}
}
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/lock.h"
int lock_un(int fd ) ;
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/lock_un.c"
int lock_un(int fd ) 
{ 
  int tmp ;

  {
  {
#line 8
  tmp = flock(fd, 8);
  }
#line 8
  return (tmp);
}
}
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/open.h"
int open_write(char *fn ) ;
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/open_write.c"
int open_write(char *fn ) 
{ 
  int tmp ;

  {
  {
#line 6
  tmp = open((char const   *)fn, 2049);
  }
#line 6
  return (tmp);
}
}
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/wait_pid.c"
int wait_pid(int *wstat , int pid ) 
{ 
  int r ;
  int *tmp ;

  {
  {
#line 12
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 13
    r = waitpid(pid, wstat, 0);
    }
#line 12
    if (r == -1) {
      {
#line 12
      tmp = __errno_location();
      }
#line 12
      if (! (*tmp == error_intr)) {
#line 12
        goto while_break;
      }
    } else {
#line 12
      goto while_break;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 15
  return (r);
}
}
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/case.h"
int case_diffb(char *s , unsigned int len , char *t ) ;
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/case_diffb.c"
int case_diffb(char *s , unsigned int len , char *t ) 
{ 
  register unsigned char x ;
  register unsigned char y ;
  char *tmp ;
  char *tmp___0 ;

  {
  {
#line 11
  while (1) {
    while_continue: /* CIL Label */ ;
#line 11
    if (! (len > 0U)) {
#line 11
      goto while_break;
    }
#line 12
    len --;
#line 13
    tmp = s;
#line 13
    s ++;
#line 13
    x = (unsigned char )((int )*tmp - 65);
#line 14
    if ((int )x <= 25) {
#line 14
      x = (unsigned char )((int )x + 97);
    } else {
#line 14
      x = (unsigned char )((int )x + 65);
    }
#line 15
    tmp___0 = t;
#line 15
    t ++;
#line 15
    y = (unsigned char )((int )*tmp___0 - 65);
#line 16
    if ((int )y <= 25) {
#line 16
      y = (unsigned char )((int )y + 97);
    } else {
#line 16
      y = (unsigned char )((int )y + 65);
    }
#line 17
    if ((int )x != (int )y) {
#line 18
      return ((int )((unsigned int )x) - (int )((unsigned int )y));
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 20
  return (0);
}
}
#line 3 "/home/wheatley/newnew/temp/netqmail-1.06/case_lowerb.c"
void case_lowerb(char *s , unsigned int len ) 
{ 
  unsigned char x ;

  {
  {
#line 8
  while (1) {
    while_continue: /* CIL Label */ ;
#line 8
    if (! (len > 0U)) {
#line 8
      goto while_break;
    }
#line 9
    len --;
#line 10
    x = (unsigned char )((int )*s - 65);
#line 11
    if ((int )x <= 25) {
#line 11
      *s = (char )((int )x + 97);
    }
#line 12
    s ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 14
  return;
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
static substdio it___19  =    {subfd_inbuf, 0, 8192, 0, (int (*)())(& subfd_read)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
static substdio it___20  =    {subfd_outbuf, 0, 8192, 1, & write};
#line 4 "/home/wheatley/newnew/temp/netqmail-1.06/auto_spawn.h"
extern int auto_spawn ;
#line 8 "/home/wheatley/newnew/temp/netqmail-1.06/chkspawn.c"
char num[40]  ;
#line 9 "/home/wheatley/newnew/temp/netqmail-1.06/chkspawn.c"
fd_set fds  ;
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
static substdio it___21  =    {subfd_errbuf, 0, 256, 2, & write};
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int oneread___3(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int r ;
  int *tmp ;

  {
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 14
    r = (*op)(fd, buf___0, len);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp = __errno_location();
      }
#line 15
      if (*tmp == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    return (r);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int getthis___3(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  register int q ;

  {
#line 28
  r = s->p;
#line 29
  q = r - len;
#line 30
  if (q > 0) {
#line 30
    r = len;
#line 30
    s->p = q;
  } else {
#line 30
    s->p = 0;
  }
  {
#line 31
  byte_copy(buf___0, r, s->x + s->n);
#line 32
  s->n += r;
  }
#line 33
  return (r);
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
static substdio it___22  =    {subfd_inbufsmall, 0, 256, 0, (int (*)())(& subfd_readsmall)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
static int allwrite___3(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int w ;
  int *tmp ;

  {
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! len) {
#line 14
      goto while_break;
    }
    {
#line 15
    w = (*op)(fd, buf___0, len);
    }
#line 16
    if (w == -1) {
      {
#line 17
      tmp = __errno_location();
      }
#line 17
      if (*tmp == error_intr) {
#line 17
        goto while_continue;
      }
#line 18
      return (-1);
    }
#line 21
    buf___0 += w;
#line 22
    len -= w;
  }
  while_break: /* CIL Label */ ;
  }
#line 24
  return (0);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
static substdio it___23  =    {subfd_outbufsmall, 0, 256, 1, & write};
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
static substdio it___24  =    {subfd_inbuf, 0, 8192, 0, (int (*)())(& subfd_read)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
static substdio it___25  =    {subfd_outbuf, 0, 8192, 1, & write};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
static substdio it___26  =    {subfd_errbuf, 0, 256, 2, & write};
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int oneread___4(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int r ;
  int *tmp ;

  {
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 14
    r = (*op)(fd, buf___0, len);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp = __errno_location();
      }
#line 15
      if (*tmp == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    return (r);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int getthis___4(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  register int q ;

  {
#line 28
  r = s->p;
#line 29
  q = r - len;
#line 30
  if (q > 0) {
#line 30
    r = len;
#line 30
    s->p = q;
  } else {
#line 30
    s->p = 0;
  }
  {
#line 31
  byte_copy(buf___0, r, s->x + s->n);
#line 32
  s->n += r;
  }
#line 33
  return (r);
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
static substdio it___27  =    {subfd_inbufsmall, 0, 256, 0, (int (*)())(& subfd_readsmall)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
static int allwrite___4(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int w ;
  int *tmp ;

  {
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! len) {
#line 14
      goto while_break;
    }
    {
#line 15
    w = (*op)(fd, buf___0, len);
    }
#line 16
    if (w == -1) {
      {
#line 17
      tmp = __errno_location();
      }
#line 17
      if (*tmp == error_intr) {
#line 17
        goto while_continue;
      }
#line 18
      return (-1);
    }
#line 21
    buf___0 += w;
#line 22
    len -= w;
  }
  while_break: /* CIL Label */ ;
  }
#line 24
  return (0);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
static substdio it___28  =    {subfd_outbufsmall, 0, 256, 1, & write};
#line 7 "/home/wheatley/newnew/temp/netqmail-1.06/chkshsgr.c"
extern int ( /* missing proto */  setgroups)() ;
#line 7
extern int ( /* missing proto */  getgroups)() ;
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdin.c"
static substdio it___29  =    {subfd_inbuf, 0, 8192, 0, (int (*)())(& subfd_read)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdout.c"
static substdio it___30  =    {subfd_outbuf, 0, 8192, 1, & write};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfderr.c"
static substdio it___31  =    {subfd_errbuf, 0, 256, 2, & write};
#line 5 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int oneread___5(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int r ;
  int *tmp ;

  {
  {
#line 13
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 14
    r = (*op)(fd, buf___0, len);
    }
#line 15
    if (r == -1) {
      {
#line 15
      tmp = __errno_location();
      }
#line 15
      if (*tmp == error_intr) {
#line 15
        goto __Cont;
      }
    }
#line 16
    return (r);
    __Cont: /* CIL Label */ ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 20 "/home/wheatley/newnew/temp/netqmail-1.06/substdi.c"
static int getthis___5(substdio *s , char *buf___0 , int len ) 
{ 
  register int r ;
  register int q ;

  {
#line 28
  r = s->p;
#line 29
  q = r - len;
#line 30
  if (q > 0) {
#line 30
    r = len;
#line 30
    s->p = q;
  } else {
#line 30
    s->p = 0;
  }
  {
#line 31
  byte_copy(buf___0, r, s->x + s->n);
#line 32
  s->n += r;
  }
#line 33
  return (r);
}
}
#line 12 "/home/wheatley/newnew/temp/netqmail-1.06/subfdins.c"
static substdio it___32  =    {subfd_inbufsmall, 0, 256, 0, (int (*)())(& subfd_readsmall)};
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/substdo.c"
static int allwrite___5(int (*op)() , int fd , char *buf___0 , int len ) 
{ 
  register int w ;
  int *tmp ;

  {
  {
#line 14
  while (1) {
    while_continue: /* CIL Label */ ;
#line 14
    if (! len) {
#line 14
      goto while_break;
    }
    {
#line 15
    w = (*op)(fd, buf___0, len);
    }
#line 16
    if (w == -1) {
      {
#line 17
      tmp = __errno_location();
      }
#line 17
      if (*tmp == error_intr) {
#line 17
        goto while_continue;
      }
#line 18
      return (-1);
    }
#line 21
    buf___0 += w;
#line 22
    len -= w;
  }
  while_break: /* CIL Label */ ;
  }
#line 24
  return (0);
}
}
#line 6 "/home/wheatley/newnew/temp/netqmail-1.06/subfdouts.c"
static substdio it___33  =    {subfd_outbufsmall, 0, 256, 1, & write};
