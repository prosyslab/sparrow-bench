/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 11 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/sqVirtualMachine.h"
typedef int (*CompilerHook)();
#line 13
struct VirtualMachine;
#line 15 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/sqVirtualMachine.h"
struct VirtualMachine {
   int (*minorVersion)(void) ;
   int (*majorVersion)(void) ;
   int (*pop)(int nItems ) ;
   int (*popthenPush)(int nItems , int oop ) ;
   int (*push)(int object ) ;
   int (*pushBool)(int trueOrFalse ) ;
   int (*pushFloat)(double f ) ;
   int (*pushInteger)(int integerValue ) ;
   double (*stackFloatValue)(int offset ) ;
   int (*stackIntegerValue)(int offset ) ;
   int (*stackObjectValue)(int offset ) ;
   int (*stackValue)(int offset ) ;
   int (*argumentCountOf)(int methodPointer ) ;
   void *(*arrayValueOf)(int oop ) ;
   int (*byteSizeOf)(int oop ) ;
   void *(*fetchArrayofObject)(int fieldIndex , int objectPointer ) ;
   int (*fetchClassOf)(int oop ) ;
   double (*fetchFloatofObject)(int fieldIndex , int objectPointer ) ;
   int (*fetchIntegerofObject)(int fieldIndex , int objectPointer ) ;
   int (*fetchPointerofObject)(int index , int oop ) ;
   int (*fetchWordofObject)(int fieldIndex , int oop ) ;
   void *(*firstFixedField)(int oop ) ;
   void *(*firstIndexableField)(int oop ) ;
   int (*literalofMethod)(int offset , int methodPointer ) ;
   int (*literalCountOf)(int methodPointer ) ;
   int (*methodArgumentCount)(void) ;
   int (*methodPrimitiveIndex)(void) ;
   int (*primitiveIndexOf)(int methodPointer ) ;
   int (*sizeOfSTArrayFromCPrimitive)(void *cPtr ) ;
   int (*slotSizeOf)(int oop ) ;
   int (*stObjectat)(int array , int index ) ;
   int (*stObjectatput)(int array , int index , int value ) ;
   int (*stSizeOf)(int oop ) ;
   int (*storeIntegerofObjectwithValue)(int index , int oop , int integer ) ;
   int (*storePointerofObjectwithValue)(int index , int oop , int valuePointer ) ;
   int (*isKindOf)(int oop , char *aString ) ;
   int (*isMemberOf)(int oop , char *aString ) ;
   int (*isBytes)(int oop ) ;
   int (*isFloatObject)(int oop ) ;
   int (*isIndexable)(int oop ) ;
   int (*isIntegerObject)(int objectPointer ) ;
   int (*isIntegerValue)(int intValue ) ;
   int (*isPointers)(int oop ) ;
   int (*isWeak)(int oop ) ;
   int (*isWords)(int oop ) ;
   int (*isWordsOrBytes)(int oop ) ;
   int (*booleanValueOf)(int obj ) ;
   int (*checkedIntegerValueOf)(int intOop ) ;
   int (*floatObjectOf)(double aFloat ) ;
   double (*floatValueOf)(int oop ) ;
   int (*integerObjectOf)(int value ) ;
   int (*integerValueOf)(int oop ) ;
   int (*positive32BitIntegerFor)(int integerValue ) ;
   int (*positive32BitValueOf)(int oop ) ;
   int (*characterTable)(void) ;
   int (*displayObject)(void) ;
   int (*falseObject)(void) ;
   int (*nilObject)(void) ;
   int (*trueObject)(void) ;
   int (*classArray)(void) ;
   int (*classBitmap)(void) ;
   int (*classByteArray)(void) ;
   int (*classCharacter)(void) ;
   int (*classFloat)(void) ;
   int (*classLargePositiveInteger)(void) ;
   int (*classPoint)(void) ;
   int (*classSemaphore)(void) ;
   int (*classSmallInteger)(void) ;
   int (*classString)(void) ;
   int (*clone)(int oop ) ;
   int (*instantiateClassindexableSize)(int classPointer , int size ) ;
   int (*makePointwithxValueyValue)(int xValue , int yValue ) ;
   int (*popRemappableOop)(void) ;
   int (*pushRemappableOop)(int oop ) ;
   int (*becomewith)(int array1 , int array2 ) ;
   int (*byteSwapped)(int w ) ;
   int (*failed)(void) ;
   int (*fullDisplayUpdate)(void) ;
   int (*fullGC)(void) ;
   int (*incrementalGC)(void) ;
   int (*primitiveFail)(void) ;
   int (*showDisplayBitsLeftTopRightBottom)(int aForm , int l , int t , int r , int b ) ;
   int (*signalSemaphoreWithIndex)(int semaIndex ) ;
   int (*success)(int aBoolean ) ;
   int (*superclassOf)(int classPointer ) ;
   CompilerHook *(*compilerHookVector)(void) ;
   int (*setCompilerInitialized)(int initFlag ) ;
};
#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 127 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef unsigned long __ino_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 172 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __ssize_t;
#line 22 "/usr/include/x86_64-linux-gnu/bits/dirent.h"
struct dirent {
   __ino_t d_ino ;
   __off_t d_off ;
   unsigned short d_reclen ;
   unsigned char d_type ;
   char d_name[256] ;
};
#line 127 "/usr/include/dirent.h"
struct __dirstream;
#line 127 "/usr/include/dirent.h"
typedef struct __dirstream DIR;
#line 102 "/usr/include/stdio.h"
typedef __ssize_t ssize_t;
#line 23 "/usr/include/x86_64-linux-gnu/bits/termios.h"
typedef unsigned char cc_t;
#line 24 "/usr/include/x86_64-linux-gnu/bits/termios.h"
typedef unsigned int speed_t;
#line 25 "/usr/include/x86_64-linux-gnu/bits/termios.h"
typedef unsigned int tcflag_t;
#line 28 "/usr/include/x86_64-linux-gnu/bits/termios.h"
struct termios {
   tcflag_t c_iflag ;
   tcflag_t c_oflag ;
   tcflag_t c_cflag ;
   tcflag_t c_lflag ;
   cc_t c_line ;
   cc_t c_cc[32] ;
   speed_t c_ispeed ;
   speed_t c_ospeed ;
};
#line 3 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/scratchOps.h"
void OpenURL(char *url ) ;
#line 4
void SetScratchWindowTitle(char *title ) ;
#line 5
void GetFolderPathForID(int folderID , char *path , int maxPath ) ;
#line 6
int WinShortToLongPath(char *shortPath , char *longPath , int maxPath ) ;
#line 7
int IsFileOrFolderHidden(char *fullPath ) ;
#line 8
void SetUnicodePasteBuffer(short *utf16 , int count ) ;
#line 11
int SerialPortCount(void) ;
#line 12
void SerialPortName(int portIndex , char *bsdPath , int maxPathSize ) ;
#line 15
int SerialPortOpenPortNamed(char *portName , int baudRate ) ;
#line 16
void SerialPortClose(int portNum ) ;
#line 17
int SerialPortIsOpen(int portNum ) ;
#line 20
int SerialPortRead(int portNum , char *bufPtr , int bufSize ) ;
#line 21
int SerialPortWrite(int portNum , char *bufPtr , int bufSize ) ;
#line 24
int SerialPortSetOption(int portNum , int optionNum , int newValue ) ;
#line 25
int SerialPortGetOption(int portNum , int optionNum ) ;
#line 60 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) atan2)(double __y ,
                                                                               double __x ) ;
#line 63
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) cos)(double __x ) ;
#line 65
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) sin)(double __x ) ;
#line 153
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) pow)(double __x ,
                                                                             double __y ) ;
#line 156
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) sqrt)(double __x ) ;
#line 374 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) rand)(void) ;
#line 399 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1), __leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 23 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
struct VirtualMachine *interpreterProxy  ;
#line 24 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
char const   *moduleName  =    "ScratchPlugin 2 January 2009 (e)";
#line 27
static int bitmapatputHsv(unsigned int *bitmap , int i , int hue , int saturation ,
                          int brightness ) ;
#line 32
static int interpolatedFromxywidthheight(unsigned int *bitmap , int xFixed , int yFixed ,
                                         int w , int h ) ;
#line 33
int primClose(void) ;
#line 34
int primGetOption(void) ;
#line 35
int primIsPortOpen(void) ;
#line 36
int primOpenPortNamed(void) ;
#line 37
int primPortCount(void) ;
#line 38
int primPortName(void) ;
#line 39
int primRead(void) ;
#line 40
int primSetOption(void) ;
#line 41
int primWrite(void) ;
#line 42
int primitiveBlur(void) ;
#line 43
int primitiveBrightnessShift(void) ;
#line 44
int primitiveCondenseSound(void) ;
#line 45
int primitiveDoubleSize(void) ;
#line 46
int primitiveExtractChannel(void) ;
#line 47
int primitiveFisheye(void) ;
#line 48
int primitiveGetFolderPath(void) ;
#line 49
int primitiveHalfSizeAverage(void) ;
#line 50
int primitiveHalfSizeDiagonal(void) ;
#line 51
int primitiveHueShift(void) ;
#line 52
int primitiveInterpolate(void) ;
#line 53
int primitiveIsHidden(void) ;
#line 54
int primitiveOpenURL(void) ;
#line 55
int primitiveSaturationShift(void) ;
#line 56
int primitiveScale(void) ;
#line 57
int primitiveSetUnicodePasteBuffer(void) ;
#line 58
int primitiveSetWindowTitle(void) ;
#line 59
int primitiveShortToLongPath(void) ;
#line 60
int primitiveWaterRipples1(void) ;
#line 61
int primitiveWhirl(void) ;
#line 62
int setInterpreter(struct VirtualMachine *anInterpreter ) ;
#line 64 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
static int bitmapatputHsv(unsigned int *bitmap , int i , int hue , int saturation ,
                          int brightness ) 
{ 
  int outPix ;
  int v ;
  int t ;
  int hF ;
  int hI ;
  int p ;
  int q ;

  {
#line 73
  hI = hue / 60;
#line 74
  hF = hue % 60;
#line 75
  p = (1000 - saturation) * brightness;
#line 76
  q = (1000 - (saturation * hF) / 60) * brightness;
#line 77
  t = (1000 - (saturation * (60 - hF)) / 60) * brightness;
#line 78
  v = (brightness * 1000) / 3922;
#line 79
  p /= 3922;
#line 80
  q /= 3922;
#line 81
  t /= 3922;
#line 82
  if (0 == hI) {
#line 83
    outPix = (int )((((unsigned int )v << 16) + ((unsigned int )t << 8)) + (unsigned int )p);
  }
#line 85
  if (1 == hI) {
#line 86
    outPix = (int )((((unsigned int )q << 16) + ((unsigned int )v << 8)) + (unsigned int )p);
  }
#line 88
  if (2 == hI) {
#line 89
    outPix = (int )((((unsigned int )p << 16) + ((unsigned int )v << 8)) + (unsigned int )t);
  }
#line 91
  if (3 == hI) {
#line 92
    outPix = (int )((((unsigned int )p << 16) + ((unsigned int )q << 8)) + (unsigned int )v);
  }
#line 94
  if (4 == hI) {
#line 95
    outPix = (int )((((unsigned int )t << 16) + ((unsigned int )p << 8)) + (unsigned int )v);
  }
#line 97
  if (5 == hI) {
#line 98
    outPix = (int )((((unsigned int )v << 16) + ((unsigned int )p << 8)) + (unsigned int )q);
  }
#line 100
  if (outPix == 0) {
#line 101
    outPix = 1;
  }
#line 103
  *(bitmap + i) = (unsigned int )outPix;
#line 104
  return (0);
}
}
#line 170 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
static int interpolatedFromxywidthheight(unsigned int *bitmap , int xFixed , int yFixed ,
                                         int w , int h ) 
{ 
  int yFrac ;
  int y ;
  int x ;
  int topPix ;
  int xFrac ;
  int bottomPix ;
  int index___0 ;
  int result ;
  int g ;
  int b ;
  int r ;
  int frac1 ;
  int result1 ;
  int g1 ;
  int b1 ;
  int r1 ;
  int frac11 ;
  int result2 ;
  int g2 ;
  int b2 ;
  int r2 ;
  int frac12 ;

  {
#line 194
  x = (int )((unsigned int )xFixed >> 10);
#line 195
  if (x < -1) {
#line 196
    return (0);
  } else
#line 195
  if (x >= w) {
#line 196
    return (0);
  }
#line 198
  y = (int )((unsigned int )yFixed >> 10);
#line 199
  if (y < -1) {
#line 200
    return (0);
  } else
#line 199
  if (y >= h) {
#line 200
    return (0);
  }
#line 202
  xFrac = xFixed & 1023;
#line 203
  if (x == -1) {
#line 204
    x = 0;
#line 205
    xFrac = 0;
  }
#line 207
  if (x == w - 1) {
#line 208
    xFrac = 0;
  }
#line 210
  yFrac = yFixed & 1023;
#line 211
  if (y == -1) {
#line 212
    y = 0;
#line 213
    yFrac = 0;
  }
#line 215
  if (y == h - 1) {
#line 216
    yFrac = 0;
  }
#line 218
  index___0 = y * w + x;
#line 219
  topPix = (int )(*(bitmap + index___0) & 16777215U);
#line 220
  if (xFrac > 0) {
#line 222
    if (topPix == 0) {
#line 223
      topPix = (int )(*(bitmap + (index___0 + 1)) & 16777215U);
#line 224
      goto l1;
    }
#line 226
    if ((*(bitmap + (index___0 + 1)) & 16777215U) == 0U) {
#line 227
      topPix = topPix;
#line 228
      goto l1;
    }
#line 230
    frac1 = 1024 - xFrac;
#line 231
    r = (int )(((unsigned int )frac1 * (((unsigned int )topPix >> 16) & 255U) + (unsigned int )xFrac * (((*(bitmap + (index___0 + 1)) & 16777215U) >> 16) & 255U)) / 1024U);
#line 232
    g = (int )(((unsigned int )frac1 * (((unsigned int )topPix >> 8) & 255U) + (unsigned int )xFrac * (((*(bitmap + (index___0 + 1)) & 16777215U) >> 8) & 255U)) / 1024U);
#line 233
    b = (int )(((unsigned int )(frac1 * (topPix & 255)) + (unsigned int )xFrac * ((*(bitmap + (index___0 + 1)) & 16777215U) & 255U)) / 1024U);
#line 234
    result = (int )((((unsigned int )r << 16) + ((unsigned int )g << 8)) + (unsigned int )b);
#line 235
    if (result == 0) {
#line 236
      result = 1;
    }
#line 238
    topPix = result;
    l1: ;
  }
#line 241
  if (yFrac == 0) {
#line 242
    return (topPix);
  }
#line 244
  index___0 = (y + 1) * w + x;
#line 245
  bottomPix = (int )(*(bitmap + index___0) & 16777215U);
#line 246
  if (xFrac > 0) {
#line 248
    if (bottomPix == 0) {
#line 249
      bottomPix = (int )(*(bitmap + (index___0 + 1)) & 16777215U);
#line 250
      goto l2;
    }
#line 252
    if ((*(bitmap + (index___0 + 1)) & 16777215U) == 0U) {
#line 253
      bottomPix = bottomPix;
#line 254
      goto l2;
    }
#line 256
    frac11 = 1024 - xFrac;
#line 257
    r1 = (int )(((unsigned int )frac11 * (((unsigned int )bottomPix >> 16) & 255U) + (unsigned int )xFrac * (((*(bitmap + (index___0 + 1)) & 16777215U) >> 16) & 255U)) / 1024U);
#line 258
    g1 = (int )(((unsigned int )frac11 * (((unsigned int )bottomPix >> 8) & 255U) + (unsigned int )xFrac * (((*(bitmap + (index___0 + 1)) & 16777215U) >> 8) & 255U)) / 1024U);
#line 259
    b1 = (int )(((unsigned int )(frac11 * (bottomPix & 255)) + (unsigned int )xFrac * ((*(bitmap + (index___0 + 1)) & 16777215U) & 255U)) / 1024U);
#line 260
    result1 = (int )((((unsigned int )r1 << 16) + ((unsigned int )g1 << 8)) + (unsigned int )b1);
#line 261
    if (result1 == 0) {
#line 262
      result1 = 1;
    }
#line 264
    bottomPix = result1;
    l2: ;
  }
#line 268
  if (topPix == 0) {
#line 269
    return (bottomPix);
  }
#line 271
  if (bottomPix == 0) {
#line 272
    return (topPix);
  }
#line 274
  frac12 = 1024 - yFrac;
#line 275
  r2 = (int )(((unsigned int )frac12 * (((unsigned int )topPix >> 16) & 255U) + (unsigned int )yFrac * (((unsigned int )bottomPix >> 16) & 255U)) / 1024U);
#line 276
  g2 = (int )(((unsigned int )frac12 * (((unsigned int )topPix >> 8) & 255U) + (unsigned int )yFrac * (((unsigned int )bottomPix >> 8) & 255U)) / 1024U);
#line 277
  b2 = (frac12 * (topPix & 255) + yFrac * (bottomPix & 255)) / 1024;
#line 278
  result2 = (int )((((unsigned int )r2 << 16) + ((unsigned int )g2 << 8)) + (unsigned int )b2);
#line 279
  if (result2 == 0) {
#line 280
    result2 = 1;
  }
#line 282
  return (result2);
}
}
#line 285 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primClose(void) 
{ 
  int portNum ;
  int tmp ;

  {
  {
#line 288
  portNum = (*(interpreterProxy->stackIntegerValue))(0);
#line 289
  tmp = (*(interpreterProxy->failed))();
  }
#line 289
  if (tmp) {
#line 290
    return (0);
  }
  {
#line 292
  SerialPortClose(portNum);
#line 293
  (*(interpreterProxy->pop))(1);
  }
#line 294
  return (0);
}
}
#line 297 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primGetOption(void) 
{ 
  int result ;
  int portNum ;
  int attrNum ;
  int tmp ;

  {
  {
#line 302
  portNum = (*(interpreterProxy->stackIntegerValue))(1);
#line 303
  attrNum = (*(interpreterProxy->stackIntegerValue))(0);
#line 304
  tmp = (*(interpreterProxy->failed))();
  }
#line 304
  if (tmp) {
#line 305
    return (0);
  }
  {
#line 307
  result = SerialPortGetOption(portNum, attrNum);
  }
#line 308
  if (result == -1) {
    {
#line 309
    (*(interpreterProxy->success))(0);
    }
#line 310
    return (0);
  }
  {
#line 312
  (*(interpreterProxy->pop))(3);
#line 313
  (*(interpreterProxy->pushInteger))(result);
  }
#line 314
  return (0);
}
}
#line 317 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primIsPortOpen(void) 
{ 
  int result ;
  int portNum ;
  int tmp ;

  {
  {
#line 321
  portNum = (*(interpreterProxy->stackIntegerValue))(0);
#line 322
  tmp = (*(interpreterProxy->failed))();
  }
#line 322
  if (tmp) {
#line 323
    return (0);
  }
  {
#line 325
  result = SerialPortIsOpen(portNum);
#line 326
  (*(interpreterProxy->pop))(2);
#line 327
  (*(interpreterProxy->pushBool))(result != 0);
  }
#line 328
  return (0);
}
}
#line 331 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primOpenPortNamed(void) 
{ 
  char nameStr[1000] ;
  int baudRate ;
  int i ;
  int count ;
  char *src ;
  int portNum ;
  int nameOop ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 340
  nameOop = (*(interpreterProxy->stackValue))(1);
#line 341
  baudRate = (*(interpreterProxy->stackIntegerValue))(0);
  }
#line 342
  if (nameOop & 1) {
    {
#line 343
    (*(interpreterProxy->success))(0);
    }
#line 344
    return (0);
  } else {
    {
#line 342
    tmp = (*(interpreterProxy->isBytes))(nameOop);
    }
#line 342
    if (! tmp) {
      {
#line 343
      (*(interpreterProxy->success))(0);
      }
#line 344
      return (0);
    }
  }
  {
#line 346
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 346
  if (tmp___0) {
#line 347
    return (0);
  }
  {
#line 349
  tmp___1 = (*(interpreterProxy->firstIndexableField))(nameOop);
#line 349
  src = (char *)tmp___1;
#line 350
  count = (*(interpreterProxy->stSizeOf))(nameOop);
#line 351
  i = 0;
  }
  {
#line 351
  while (1) {
    while_continue: /* CIL Label */ ;
#line 351
    if (! (i <= count - 1)) {
#line 351
      goto while_break;
    }
#line 352
    nameStr[i] = *(src + i);
#line 351
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 354
  nameStr[count] = (char)0;
#line 355
  portNum = SerialPortOpenPortNamed(nameStr, baudRate);
  }
#line 356
  if (portNum == -1) {
    {
#line 357
    (*(interpreterProxy->success))(0);
    }
#line 358
    return (0);
  }
  {
#line 360
  (*(interpreterProxy->popthenPush))(3, (portNum << 1) | 1);
  }
#line 361
  return (0);
}
}
#line 364 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primPortCount(void) 
{ 
  int result ;

  {
  {
#line 367
  result = SerialPortCount();
  }
#line 368
  if (result == -1) {
    {
#line 369
    (*(interpreterProxy->success))(0);
    }
#line 370
    return (0);
  }
  {
#line 372
  (*(interpreterProxy->popthenPush))(1, (result << 1) | 1);
  }
#line 373
  return (0);
}
}
#line 376 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primPortName(void) 
{ 
  char nameStr[1000] ;
  int i ;
  int count ;
  int resultOop ;
  int portIndex ;
  char *dst ;
  int tmp ;
  size_t tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 384
  portIndex = (*(interpreterProxy->stackIntegerValue))(0);
#line 385
  tmp = (*(interpreterProxy->failed))();
  }
#line 385
  if (tmp) {
#line 386
    return (0);
  }
  {
#line 388
  SerialPortName(portIndex, nameStr, 1000);
#line 389
  tmp___0 = strlen((char const   *)(nameStr));
#line 389
  count = (int )tmp___0;
  }
#line 390
  if (count == 0) {
    {
#line 391
    (*(interpreterProxy->success))(0);
    }
#line 392
    return (0);
  }
  {
#line 394
  tmp___1 = (*(interpreterProxy->classString))();
#line 394
  resultOop = (*(interpreterProxy->instantiateClassindexableSize))(tmp___1, count);
#line 395
  tmp___2 = (*(interpreterProxy->firstIndexableField))(resultOop);
#line 395
  dst = (char *)tmp___2;
#line 396
  i = 0;
  }
  {
#line 396
  while (1) {
    while_continue: /* CIL Label */ ;
#line 396
    if (! (i <= count - 1)) {
#line 396
      goto while_break;
    }
#line 397
    *(dst + i) = nameStr[i];
#line 396
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 399
  (*(interpreterProxy->popthenPush))(2, resultOop);
  }
#line 400
  return (0);
}
}
#line 403 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primRead(void) 
{ 
  char *bufPtr ;
  int bytesRead ;
  int bufSize ;
  int portNum ;
  int bufOop ;
  int tmp ;
  void *tmp___0 ;
  int tmp___1 ;

  {
  {
#line 410
  portNum = (*(interpreterProxy->stackIntegerValue))(1);
#line 411
  bufOop = (*(interpreterProxy->stackValue))(0);
  }
#line 412
  if (bufOop & 1) {
    {
#line 413
    (*(interpreterProxy->success))(0);
    }
#line 414
    return (0);
  } else {
    {
#line 412
    tmp = (*(interpreterProxy->isBytes))(bufOop);
    }
#line 412
    if (! tmp) {
      {
#line 413
      (*(interpreterProxy->success))(0);
      }
#line 414
      return (0);
    }
  }
  {
#line 416
  tmp___0 = (*(interpreterProxy->firstIndexableField))(bufOop);
#line 416
  bufPtr = (char *)tmp___0;
#line 417
  bufSize = (*(interpreterProxy->stSizeOf))(bufOop);
#line 418
  tmp___1 = (*(interpreterProxy->failed))();
  }
#line 418
  if (tmp___1) {
#line 419
    return (0);
  }
  {
#line 421
  bytesRead = SerialPortRead(portNum, bufPtr, bufSize);
#line 422
  (*(interpreterProxy->pop))(3);
#line 423
  (*(interpreterProxy->pushInteger))(bytesRead);
  }
#line 424
  return (0);
}
}
#line 427 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primSetOption(void) 
{ 
  int result ;
  int portNum ;
  int attrNum ;
  int attrValue ;
  int tmp ;

  {
  {
#line 433
  portNum = (*(interpreterProxy->stackIntegerValue))(2);
#line 434
  attrNum = (*(interpreterProxy->stackIntegerValue))(1);
#line 435
  attrValue = (*(interpreterProxy->stackIntegerValue))(0);
#line 436
  tmp = (*(interpreterProxy->failed))();
  }
#line 436
  if (tmp) {
#line 437
    return (0);
  }
  {
#line 439
  result = SerialPortSetOption(portNum, attrNum, attrValue);
  }
#line 440
  if (result == -1) {
    {
#line 441
    (*(interpreterProxy->success))(0);
    }
#line 442
    return (0);
  }
  {
#line 444
  (*(interpreterProxy->pop))(3);
  }
#line 445
  return (0);
}
}
#line 448 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primWrite(void) 
{ 
  char *bufPtr ;
  int bufSize ;
  int portNum ;
  int bufOop ;
  int bytesWritten ;
  int tmp ;
  void *tmp___0 ;
  int tmp___1 ;

  {
  {
#line 455
  portNum = (*(interpreterProxy->stackIntegerValue))(1);
#line 456
  bufOop = (*(interpreterProxy->stackValue))(0);
  }
#line 457
  if (bufOop & 1) {
    {
#line 458
    (*(interpreterProxy->success))(0);
    }
#line 459
    return (0);
  } else {
    {
#line 457
    tmp = (*(interpreterProxy->isBytes))(bufOop);
    }
#line 457
    if (! tmp) {
      {
#line 458
      (*(interpreterProxy->success))(0);
      }
#line 459
      return (0);
    }
  }
  {
#line 461
  tmp___0 = (*(interpreterProxy->firstIndexableField))(bufOop);
#line 461
  bufPtr = (char *)tmp___0;
#line 462
  bufSize = (*(interpreterProxy->stSizeOf))(bufOop);
#line 463
  tmp___1 = (*(interpreterProxy->failed))();
  }
#line 463
  if (tmp___1) {
#line 464
    return (0);
  }
  {
#line 466
  bytesWritten = SerialPortWrite(portNum, bufPtr, bufSize);
#line 467
  (*(interpreterProxy->pop))(3);
#line 468
  (*(interpreterProxy->pushInteger))(bytesWritten);
  }
#line 469
  return (0);
}
}
#line 472 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveBlur(void) 
{ 
  int width ;
  int outPix ;
  unsigned int *in ;
  int gTotal ;
  int inOop ;
  int outOop ;
  unsigned int *out ;
  int pix ;
  int y ;
  int x ;
  int bTotal ;
  int height ;
  int sz ;
  int dX ;
  int rTotal ;
  int n ;
  int dY ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
  {
#line 491
  inOop = (*(interpreterProxy->stackValue))(2);
#line 492
  outOop = (*(interpreterProxy->stackValue))(1);
#line 493
  width = (*(interpreterProxy->stackIntegerValue))(0);
#line 495
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 495
  (*(interpreterProxy->success))(tmp);
#line 496
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 496
  if (tmp___0) {
#line 497
    in = (unsigned int *)0;
#line 498
    goto l1;
  }
  {
#line 500
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 500
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 503
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 503
  (*(interpreterProxy->success))(tmp___2);
#line 504
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 504
  if (tmp___3) {
#line 505
    out = (unsigned int *)0;
#line 506
    goto l2;
  }
  {
#line 508
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 508
  out = (unsigned int *)tmp___4;
  }
  l2: 
  {
#line 510
  sz = (*(interpreterProxy->stSizeOf))(inOop);
#line 511
  tmp___5 = (*(interpreterProxy->stSizeOf))(outOop);
#line 511
  (*(interpreterProxy->success))(tmp___5 == sz);
#line 512
  tmp___6 = (*(interpreterProxy->failed))();
  }
#line 512
  if (tmp___6) {
#line 513
    return (0);
  }
#line 515
  height = sz / width;
#line 516
  y = 1;
  {
#line 516
  while (1) {
    while_continue: /* CIL Label */ ;
#line 516
    if (! (y <= height - 2)) {
#line 516
      goto while_break;
    }
#line 517
    x = 1;
    {
#line 517
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 517
      if (! (x <= width - 2)) {
#line 517
        goto while_break___0;
      }
#line 518
      bTotal = 0;
#line 518
      gTotal = bTotal;
#line 518
      rTotal = gTotal;
#line 518
      n = rTotal;
#line 519
      dY = -1;
      {
#line 519
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 519
        if (! (dY <= 1)) {
#line 519
          goto while_break___1;
        }
#line 520
        dX = -1;
        {
#line 520
        while (1) {
          while_continue___2: /* CIL Label */ ;
#line 520
          if (! (dX <= 1)) {
#line 520
            goto while_break___2;
          }
#line 521
          pix = (int )(*(in + ((y + dY) * width + (x + dX))) & 16777215U);
#line 522
          if (! (pix == 0)) {
#line 523
            rTotal = (int )((unsigned int )rTotal + (((unsigned int )pix >> 16) & 255U));
#line 524
            gTotal = (int )((unsigned int )gTotal + (((unsigned int )pix >> 8) & 255U));
#line 525
            bTotal += pix & 255;
#line 526
            n ++;
          }
#line 520
          dX ++;
        }
        while_break___2: /* CIL Label */ ;
        }
#line 519
        dY ++;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 530
      if (n == 0) {
#line 531
        outPix = 0;
      } else {
#line 533
        outPix = (int )((((unsigned int )(rTotal / n) << 16) + ((unsigned int )(gTotal / n) << 8)) + (unsigned int )(bTotal / n));
      }
#line 535
      *(out + (y * width + x)) = (unsigned int )outPix;
#line 517
      x ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 516
    y ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 538
  (*(interpreterProxy->pop))(3);
  }
#line 539
  return (0);
}
}
#line 542 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveBrightnessShift(void) 
{ 
  int hue ;
  unsigned int *in ;
  int max ;
  int brightness ;
  int i ;
  int inOop ;
  int outOop ;
  int pix ;
  int shift ;
  unsigned int *out ;
  int g ;
  int min ;
  int b ;
  int r ;
  int saturation ;
  int sz ;
  int span ;
  int result ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
  {
#line 562
  inOop = (*(interpreterProxy->stackValue))(2);
#line 563
  outOop = (*(interpreterProxy->stackValue))(1);
#line 564
  shift = (*(interpreterProxy->stackIntegerValue))(0);
#line 566
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 566
  (*(interpreterProxy->success))(tmp);
#line 567
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 567
  if (tmp___0) {
#line 568
    in = (unsigned int *)0;
#line 569
    goto l2;
  }
  {
#line 571
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 571
  in = (unsigned int *)tmp___1;
  }
  l2: 
  {
#line 573
  sz = (*(interpreterProxy->stSizeOf))(inOop);
#line 575
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 575
  (*(interpreterProxy->success))(tmp___2);
#line 576
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 576
  if (tmp___3) {
#line 577
    out = (unsigned int *)0;
#line 578
    goto l3;
  }
  {
#line 580
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 580
  out = (unsigned int *)tmp___4;
  }
  l3: 
  {
#line 582
  tmp___5 = (*(interpreterProxy->stSizeOf))(outOop);
#line 582
  (*(interpreterProxy->success))(tmp___5 == sz);
#line 583
  tmp___6 = (*(interpreterProxy->failed))();
  }
#line 583
  if (tmp___6) {
#line 584
    return (0);
  }
#line 586
  i = 0;
  {
#line 586
  while (1) {
    while_continue: /* CIL Label */ ;
#line 586
    if (! (i <= sz - 1)) {
#line 586
      goto while_break;
    }
#line 587
    pix = (int )(*(in + i) & 16777215U);
#line 588
    if (! (pix == 0)) {
#line 589
      r = (int )(((unsigned int )pix >> 16) & 255U);
#line 590
      g = (int )(((unsigned int )pix >> 8) & 255U);
#line 591
      b = pix & 255;
#line 592
      min = r;
#line 592
      max = min;
#line 593
      if (g > max) {
#line 594
        max = g;
      }
#line 596
      if (b > max) {
#line 597
        max = b;
      }
#line 599
      if (g < min) {
#line 600
        min = g;
      }
#line 602
      if (b < min) {
#line 603
        min = b;
      }
#line 606
      span = max - min;
#line 607
      if (span == 0) {
#line 608
        hue = 0;
#line 609
        goto l1;
      }
#line 611
      if (r == max) {
#line 612
        result = (60 * (g - b)) / span;
      } else
#line 614
      if (g == max) {
#line 615
        result = 120 + (60 * (b - r)) / span;
      } else {
#line 617
        result = 240 + (60 * (r - g)) / span;
      }
#line 620
      if (result < 0) {
#line 621
        hue = result + 360;
#line 622
        goto l1;
      }
#line 624
      hue = result;
      l1: ;
#line 626
      if (max == 0) {
#line 627
        saturation = 0;
      } else {
#line 629
        saturation = ((max - min) * 1000) / max;
      }
#line 631
      brightness = (max * 1000) / 255;
#line 632
      brightness += shift * 10;
#line 633
      if (brightness > 1000) {
#line 634
        brightness = 1000;
      }
#line 636
      if (brightness < 0) {
#line 637
        brightness = 0;
      }
      {
#line 639
      bitmapatputHsv(out, i, hue, saturation, brightness);
      }
    }
#line 586
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 642
  (*(interpreterProxy->pop))(3);
  }
#line 643
  return (0);
}
}
#line 646 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveCondenseSound(void) 
{ 
  int max ;
  int j ;
  int i ;
  int count ;
  int factor ;
  int v ;
  int srcOop ;
  int dstOop ;
  short *src ;
  short *dst ;
  int sz ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  short *tmp___6 ;
  short *tmp___7 ;

  {
  {
#line 659
  srcOop = (*(interpreterProxy->stackValue))(2);
#line 660
  dstOop = (*(interpreterProxy->stackValue))(1);
#line 661
  factor = (*(interpreterProxy->stackIntegerValue))(0);
#line 662
  tmp = (*(interpreterProxy->isWords))(srcOop);
#line 662
  (*(interpreterProxy->success))(tmp);
#line 663
  tmp___0 = (*(interpreterProxy->isWords))(dstOop);
#line 663
  (*(interpreterProxy->success))(tmp___0);
#line 664
  tmp___1 = (*(interpreterProxy->stSizeOf))(srcOop);
#line 664
  count = (2 * tmp___1) / factor;
#line 665
  tmp___2 = (*(interpreterProxy->stSizeOf))(dstOop);
#line 665
  sz = 2 * tmp___2;
#line 666
  (*(interpreterProxy->success))(sz >= count);
#line 667
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 667
  if (tmp___3) {
#line 668
    return (0);
  }
  {
#line 670
  tmp___4 = (*(interpreterProxy->firstIndexableField))(srcOop);
#line 670
  src = (short *)tmp___4;
#line 671
  tmp___5 = (*(interpreterProxy->firstIndexableField))(dstOop);
#line 671
  dst = (short *)tmp___5;
#line 672
  i = 1;
  }
  {
#line 672
  while (1) {
    while_continue: /* CIL Label */ ;
#line 672
    if (! (i <= count)) {
#line 672
      goto while_break;
    }
#line 673
    max = 0;
#line 674
    j = 1;
    {
#line 674
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 674
      if (! (j <= factor)) {
#line 674
        goto while_break___0;
      }
#line 675
      tmp___6 = src;
#line 675
      src ++;
#line 675
      v = (int )*tmp___6;
#line 676
      if (v < 0) {
#line 677
        v = 0 - v;
      }
#line 679
      if (v > max) {
#line 680
        max = v;
      }
#line 674
      j ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 683
    tmp___7 = dst;
#line 683
    dst ++;
#line 683
    *tmp___7 = (short )max;
#line 672
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 685
  (*(interpreterProxy->pop))(3);
  }
#line 686
  return (0);
}
}
#line 689 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveDoubleSize(void) 
{ 
  unsigned int *in ;
  int inW ;
  int inH ;
  int i ;
  int inOop ;
  int outOop ;
  unsigned int *out ;
  int outW ;
  int outH ;
  int pix ;
  int y ;
  int x ;
  int dstX ;
  int dstY ;
  int baseIndex ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;

  {
  {
#line 706
  inOop = (*(interpreterProxy->stackValue))(7);
#line 707
  inW = (*(interpreterProxy->stackIntegerValue))(6);
#line 708
  inH = (*(interpreterProxy->stackIntegerValue))(5);
#line 709
  outOop = (*(interpreterProxy->stackValue))(4);
#line 710
  outW = (*(interpreterProxy->stackIntegerValue))(3);
#line 711
  outH = (*(interpreterProxy->stackIntegerValue))(2);
#line 712
  dstX = (*(interpreterProxy->stackIntegerValue))(1);
#line 713
  dstY = (*(interpreterProxy->stackIntegerValue))(0);
#line 715
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 715
  (*(interpreterProxy->success))(tmp);
#line 716
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 716
  if (tmp___0) {
#line 717
    in = (unsigned int *)0;
#line 718
    goto l1;
  }
  {
#line 720
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 720
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 723
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 723
  (*(interpreterProxy->success))(tmp___2);
#line 724
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 724
  if (tmp___3) {
#line 725
    out = (unsigned int *)0;
#line 726
    goto l2;
  }
  {
#line 728
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 728
  out = (unsigned int *)tmp___4;
  }
  l2: 
  {
#line 730
  (*(interpreterProxy->success))(dstX + 2 * inW < outW);
#line 731
  (*(interpreterProxy->success))(dstY + 2 * inH < outH);
#line 732
  tmp___5 = (*(interpreterProxy->failed))();
  }
#line 732
  if (tmp___5) {
#line 733
    return (0);
  }
#line 735
  y = 0;
  {
#line 735
  while (1) {
    while_continue: /* CIL Label */ ;
#line 735
    if (! (y <= inH - 1)) {
#line 735
      goto while_break;
    }
#line 736
    baseIndex = (dstY + 2 * y) * outW + dstX;
#line 737
    x = 0;
    {
#line 737
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 737
      if (! (x <= inW - 1)) {
#line 737
        goto while_break___0;
      }
#line 738
      pix = (int )*(in + (x + y * inW));
#line 739
      i = baseIndex + 2 * x;
#line 740
      *(out + i) = (unsigned int )pix;
#line 741
      *(out + (i + 1)) = (unsigned int )pix;
#line 742
      *(out + (i + outW)) = (unsigned int )pix;
#line 743
      *(out + ((i + outW) + 1)) = (unsigned int )pix;
#line 737
      x ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 735
    y ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 746
  (*(interpreterProxy->pop))(8);
  }
#line 747
  return (0);
}
}
#line 750 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveExtractChannel(void) 
{ 
  int i ;
  int srcOop ;
  int dstOop ;
  short *src ;
  short *dst ;
  int sz ;
  int rightFlag ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  void *tmp___5 ;
  short *tmp___6 ;

  {
  {
#line 759
  srcOop = (*(interpreterProxy->stackValue))(2);
#line 760
  dstOop = (*(interpreterProxy->stackValue))(1);
#line 761
  tmp = (*(interpreterProxy->stackValue))(0);
#line 761
  rightFlag = (*(interpreterProxy->booleanValueOf))(tmp);
#line 762
  tmp___0 = (*(interpreterProxy->isWords))(srcOop);
#line 762
  (*(interpreterProxy->success))(tmp___0);
#line 763
  tmp___1 = (*(interpreterProxy->isWords))(dstOop);
#line 763
  (*(interpreterProxy->success))(tmp___1);
#line 764
  sz = (*(interpreterProxy->stSizeOf))(srcOop);
#line 765
  tmp___2 = (*(interpreterProxy->stSizeOf))(dstOop);
#line 765
  (*(interpreterProxy->success))(tmp___2 >= sz / 2);
#line 766
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 766
  if (tmp___3) {
#line 767
    return (0);
  }
  {
#line 769
  tmp___4 = (*(interpreterProxy->firstIndexableField))(srcOop);
#line 769
  src = (short *)tmp___4;
#line 770
  tmp___5 = (*(interpreterProxy->firstIndexableField))(dstOop);
#line 770
  dst = (short *)tmp___5;
  }
#line 771
  if (rightFlag) {
#line 772
    src ++;
  }
#line 774
  i = 1;
  {
#line 774
  while (1) {
    while_continue: /* CIL Label */ ;
#line 774
    if (! (i <= sz)) {
#line 774
      goto while_break;
    }
#line 775
    tmp___6 = dst;
#line 775
    dst ++;
#line 775
    *tmp___6 = *src;
#line 775
    src += 2;
#line 774
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 777
  (*(interpreterProxy->pop))(3);
  }
#line 778
  return (0);
}
}
#line 781 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveFisheye(void) 
{ 
  int width ;
  int srcX ;
  int srcY ;
  int pix ;
  int power ;
  int y ;
  double ang ;
  double scaledPower ;
  double dx ;
  double dy ;
  int sz ;
  unsigned int *in ;
  int inOop ;
  int outOop ;
  unsigned int *out ;
  int centerX ;
  int centerY ;
  int x ;
  double r ;
  int height ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  double tmp___7 ;
  double tmp___8 ;
  double tmp___9 ;

  {
  {
#line 803
  inOop = (*(interpreterProxy->stackValue))(3);
#line 804
  outOop = (*(interpreterProxy->stackValue))(2);
#line 805
  width = (*(interpreterProxy->stackIntegerValue))(1);
#line 806
  power = (*(interpreterProxy->stackIntegerValue))(0);
#line 808
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 808
  (*(interpreterProxy->success))(tmp);
#line 809
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 809
  if (tmp___0) {
#line 810
    in = (unsigned int *)0;
#line 811
    goto l1;
  }
  {
#line 813
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 813
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 816
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 816
  (*(interpreterProxy->success))(tmp___2);
#line 817
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 817
  if (tmp___3) {
#line 818
    out = (unsigned int *)0;
#line 819
    goto l2;
  }
  {
#line 821
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 821
  out = (unsigned int *)tmp___4;
  }
  l2: 
  {
#line 823
  sz = (*(interpreterProxy->stSizeOf))(inOop);
#line 824
  tmp___5 = (*(interpreterProxy->stSizeOf))(outOop);
#line 824
  (*(interpreterProxy->success))(tmp___5 == sz);
#line 825
  tmp___6 = (*(interpreterProxy->failed))();
  }
#line 825
  if (tmp___6) {
#line 826
    return (0);
  }
#line 828
  height = sz / width;
#line 829
  centerX = width / 2;
#line 830
  centerY = height / 2;
#line 831
  height = sz / width;
#line 832
  centerX = width / 2;
#line 833
  centerY = height / 2;
#line 834
  scaledPower = (double )power / 100.0;
#line 835
  x = 0;
  {
#line 835
  while (1) {
    while_continue: /* CIL Label */ ;
#line 835
    if (! (x <= width - 1)) {
#line 835
      goto while_break;
    }
#line 836
    y = 0;
    {
#line 836
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 836
      if (! (y <= height - 1)) {
#line 836
        goto while_break___0;
      }
      {
#line 837
      dx = (double )(x - centerX) / (double )centerX;
#line 838
      dy = (double )(y - centerY) / (double )centerY;
#line 839
      tmp___7 = sqrt(dx * dx + dy * dy);
#line 839
      r = pow(tmp___7, scaledPower);
      }
#line 840
      if (r <= 1.0) {
        {
#line 841
        ang = atan2(dy, dx);
#line 842
        tmp___8 = cos(ang);
#line 842
        srcX = (int )((double )1024 * ((double )centerX + (r * tmp___8) * (double )centerX));
#line 843
        tmp___9 = sin(ang);
#line 843
        srcY = (int )((double )1024 * ((double )centerY + (r * tmp___9) * (double )centerY));
        }
      } else {
#line 845
        srcX = 1024 * x;
#line 846
        srcY = 1024 * y;
      }
      {
#line 848
      pix = interpolatedFromxywidthheight(in, srcX, srcY, width, height);
#line 849
      *(out + (y * width + x)) = (unsigned int )pix;
#line 836
      y ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
#line 835
    x ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 852
  (*(interpreterProxy->pop))(4);
  }
#line 853
  return (0);
}
}
#line 856 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveGetFolderPath(void) 
{ 
  char nameStr[2000] ;
  int i ;
  int count ;
  int folderID ;
  int resultOop ;
  char *dst ;
  int tmp ;
  size_t tmp___0 ;
  int tmp___1 ;
  void *tmp___2 ;

  {
  {
#line 864
  folderID = (*(interpreterProxy->stackIntegerValue))(0);
#line 865
  tmp = (*(interpreterProxy->failed))();
  }
#line 865
  if (tmp) {
#line 866
    return (0);
  }
  {
#line 868
  GetFolderPathForID(folderID, nameStr, 2000);
#line 869
  tmp___0 = strlen((char const   *)(nameStr));
#line 869
  count = (int )tmp___0;
#line 870
  tmp___1 = (*(interpreterProxy->classString))();
#line 870
  resultOop = (*(interpreterProxy->instantiateClassindexableSize))(tmp___1, count);
#line 871
  tmp___2 = (*(interpreterProxy->firstIndexableField))(resultOop);
#line 871
  dst = (char *)tmp___2;
#line 872
  i = 0;
  }
  {
#line 872
  while (1) {
    while_continue: /* CIL Label */ ;
#line 872
    if (! (i <= count - 1)) {
#line 872
      goto while_break;
    }
#line 873
    *(dst + i) = nameStr[i];
#line 872
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 875
  (*(interpreterProxy->popthenPush))(2, resultOop);
  }
#line 876
  return (0);
}
}
#line 879 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveHalfSizeAverage(void) 
{ 
  int srcX ;
  int srcY ;
  int pixel ;
  int srcIndex ;
  int dstIndex ;
  int y ;
  int b ;
  int dstX ;
  int dstY ;
  int dstW ;
  int dstH ;
  unsigned int *in ;
  int inW ;
  int inH ;
  int g ;
  unsigned int *out ;
  int outW ;
  int outH ;
  int x ;
  int r ;
  int oop ;
  int oop1 ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;

  {
  {
#line 904
  oop = (*(interpreterProxy->stackValue))(11);
#line 905
  tmp = (*(interpreterProxy->isWords))(oop);
#line 905
  (*(interpreterProxy->success))(tmp);
#line 906
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 906
  if (tmp___0) {
#line 907
    in = (unsigned int *)0;
#line 908
    goto l1;
  }
  {
#line 910
  tmp___1 = (*(interpreterProxy->firstIndexableField))(oop);
#line 910
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 912
  inW = (*(interpreterProxy->stackIntegerValue))(10);
#line 913
  inH = (*(interpreterProxy->stackIntegerValue))(9);
#line 915
  oop1 = (*(interpreterProxy->stackValue))(8);
#line 916
  tmp___2 = (*(interpreterProxy->isWords))(oop1);
#line 916
  (*(interpreterProxy->success))(tmp___2);
#line 917
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 917
  if (tmp___3) {
#line 918
    out = (unsigned int *)0;
#line 919
    goto l2;
  }
  {
#line 921
  tmp___4 = (*(interpreterProxy->firstIndexableField))(oop1);
#line 921
  out = (unsigned int *)tmp___4;
  }
  l2: 
  {
#line 923
  outW = (*(interpreterProxy->stackIntegerValue))(7);
#line 924
  outH = (*(interpreterProxy->stackIntegerValue))(6);
#line 925
  srcX = (*(interpreterProxy->stackIntegerValue))(5);
#line 926
  srcY = (*(interpreterProxy->stackIntegerValue))(4);
#line 927
  dstX = (*(interpreterProxy->stackIntegerValue))(3);
#line 928
  dstY = (*(interpreterProxy->stackIntegerValue))(2);
#line 929
  dstW = (*(interpreterProxy->stackIntegerValue))(1);
#line 930
  dstH = (*(interpreterProxy->stackIntegerValue))(0);
  }
#line 931
  if (srcX >= 0) {
#line 931
    if (srcY >= 0) {
#line 931
      tmp___5 = 1;
    } else {
#line 931
      tmp___5 = 0;
    }
  } else {
#line 931
    tmp___5 = 0;
  }
  {
#line 931
  (*(interpreterProxy->success))(tmp___5);
#line 932
  (*(interpreterProxy->success))(srcX + 2 * dstW <= inW);
#line 933
  (*(interpreterProxy->success))(srcY + 2 * dstH <= inH);
  }
#line 934
  if (dstX >= 0) {
#line 934
    if (dstY >= 0) {
#line 934
      tmp___6 = 1;
    } else {
#line 934
      tmp___6 = 0;
    }
  } else {
#line 934
    tmp___6 = 0;
  }
  {
#line 934
  (*(interpreterProxy->success))(tmp___6);
#line 935
  (*(interpreterProxy->success))(dstX + dstW <= outW);
#line 936
  (*(interpreterProxy->success))(dstY + dstH <= outH);
#line 937
  tmp___7 = (*(interpreterProxy->failed))();
  }
#line 937
  if (tmp___7) {
#line 938
    return (0);
  }
#line 940
  y = 0;
  {
#line 940
  while (1) {
    while_continue: /* CIL Label */ ;
#line 940
    if (! (y <= dstH - 1)) {
#line 940
      goto while_break;
    }
#line 941
    srcIndex = inW * (srcY + 2 * y) + srcX;
#line 942
    dstIndex = outW * (dstY + y) + dstX;
#line 943
    x = 0;
    {
#line 943
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 943
      if (! (x <= dstW - 1)) {
#line 943
        goto while_break___0;
      }
#line 944
      pixel = (int )*(in + srcIndex);
#line 945
      r = pixel & 16711680;
#line 946
      g = pixel & 65280;
#line 947
      b = pixel & 255;
#line 948
      pixel = (int )*(in + (srcIndex + 1));
#line 949
      r += pixel & 16711680;
#line 950
      g += pixel & 65280;
#line 951
      b += pixel & 255;
#line 952
      pixel = (int )*(in + (srcIndex + inW));
#line 953
      r += pixel & 16711680;
#line 954
      g += pixel & 65280;
#line 955
      b += pixel & 255;
#line 956
      pixel = (int )*(in + ((srcIndex + inW) + 1));
#line 957
      r += pixel & 16711680;
#line 958
      g += pixel & 65280;
#line 959
      b += pixel & 255;
#line 960
      *(out + dstIndex) = (((unsigned int )r >> 2) & 16711680U) | ((((unsigned int )g >> 2) & 65280U) | ((unsigned int )b >> 2));
#line 961
      srcIndex += 2;
#line 962
      dstIndex ++;
#line 943
      x ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 940
    y ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 965
  (*(interpreterProxy->pop))(12);
  }
#line 966
  return (0);
}
}
#line 969 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveHalfSizeDiagonal(void) 
{ 
  int srcX ;
  int srcY ;
  int y ;
  int srcIndex ;
  int dstIndex ;
  int b ;
  int dstX ;
  int dstY ;
  int dstW ;
  int dstH ;
  int p1 ;
  int p2 ;
  unsigned int *in ;
  int inW ;
  int inH ;
  int g ;
  unsigned int *out ;
  int outW ;
  int outH ;
  int x ;
  int r ;
  int oop ;
  int oop1 ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;

  {
  {
#line 995
  oop = (*(interpreterProxy->stackValue))(11);
#line 996
  tmp = (*(interpreterProxy->isWords))(oop);
#line 996
  (*(interpreterProxy->success))(tmp);
#line 997
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 997
  if (tmp___0) {
#line 998
    in = (unsigned int *)0;
#line 999
    goto l1;
  }
  {
#line 1001
  tmp___1 = (*(interpreterProxy->firstIndexableField))(oop);
#line 1001
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 1003
  inW = (*(interpreterProxy->stackIntegerValue))(10);
#line 1004
  inH = (*(interpreterProxy->stackIntegerValue))(9);
#line 1006
  oop1 = (*(interpreterProxy->stackValue))(8);
#line 1007
  tmp___2 = (*(interpreterProxy->isWords))(oop1);
#line 1007
  (*(interpreterProxy->success))(tmp___2);
#line 1008
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 1008
  if (tmp___3) {
#line 1009
    out = (unsigned int *)0;
#line 1010
    goto l2;
  }
  {
#line 1012
  tmp___4 = (*(interpreterProxy->firstIndexableField))(oop1);
#line 1012
  out = (unsigned int *)tmp___4;
  }
  l2: 
  {
#line 1014
  outW = (*(interpreterProxy->stackIntegerValue))(7);
#line 1015
  outH = (*(interpreterProxy->stackIntegerValue))(6);
#line 1016
  srcX = (*(interpreterProxy->stackIntegerValue))(5);
#line 1017
  srcY = (*(interpreterProxy->stackIntegerValue))(4);
#line 1018
  dstX = (*(interpreterProxy->stackIntegerValue))(3);
#line 1019
  dstY = (*(interpreterProxy->stackIntegerValue))(2);
#line 1020
  dstW = (*(interpreterProxy->stackIntegerValue))(1);
#line 1021
  dstH = (*(interpreterProxy->stackIntegerValue))(0);
  }
#line 1022
  if (srcX >= 0) {
#line 1022
    if (srcY >= 0) {
#line 1022
      tmp___5 = 1;
    } else {
#line 1022
      tmp___5 = 0;
    }
  } else {
#line 1022
    tmp___5 = 0;
  }
  {
#line 1022
  (*(interpreterProxy->success))(tmp___5);
#line 1023
  (*(interpreterProxy->success))(srcX + 2 * dstW <= inW);
#line 1024
  (*(interpreterProxy->success))(srcY + 2 * dstH <= inH);
  }
#line 1025
  if (dstX >= 0) {
#line 1025
    if (dstY >= 0) {
#line 1025
      tmp___6 = 1;
    } else {
#line 1025
      tmp___6 = 0;
    }
  } else {
#line 1025
    tmp___6 = 0;
  }
  {
#line 1025
  (*(interpreterProxy->success))(tmp___6);
#line 1026
  (*(interpreterProxy->success))(dstX + dstW <= outW);
#line 1027
  (*(interpreterProxy->success))(dstY + dstH <= outH);
#line 1028
  tmp___7 = (*(interpreterProxy->failed))();
  }
#line 1028
  if (tmp___7) {
#line 1029
    return (0);
  }
#line 1031
  y = 0;
  {
#line 1031
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1031
    if (! (y <= dstH - 1)) {
#line 1031
      goto while_break;
    }
#line 1032
    srcIndex = inW * (srcY + 2 * y) + srcX;
#line 1033
    dstIndex = outW * (dstY + y) + dstX;
#line 1034
    x = 0;
    {
#line 1034
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1034
      if (! (x <= dstW - 1)) {
#line 1034
        goto while_break___0;
      }
#line 1035
      p1 = (int )*(in + srcIndex);
#line 1036
      p2 = (int )*(in + ((srcIndex + inW) + 1));
#line 1037
      r = (int )(((unsigned int )((p1 & 16711680) + (p2 & 16711680)) >> 1) & 16711680U);
#line 1038
      g = (int )(((unsigned int )((p1 & 65280) + (p2 & 65280)) >> 1) & 65280U);
#line 1039
      b = (int )((unsigned int )((p1 & 255) + (p2 & 255)) >> 1);
#line 1040
      *(out + dstIndex) = (unsigned int )(r | (g | b));
#line 1041
      srcIndex += 2;
#line 1042
      dstIndex ++;
#line 1034
      x ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1031
    y ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1045
  (*(interpreterProxy->pop))(12);
  }
#line 1046
  return (0);
}
}
#line 1049 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveHueShift(void) 
{ 
  int hue ;
  unsigned int *in ;
  int max ;
  int brightness ;
  int i ;
  int inOop ;
  int outOop ;
  int pix ;
  int shift ;
  unsigned int *out ;
  int g ;
  int min ;
  int b ;
  int r ;
  int saturation ;
  int sz ;
  int span ;
  int result ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
  {
#line 1069
  inOop = (*(interpreterProxy->stackValue))(2);
#line 1070
  outOop = (*(interpreterProxy->stackValue))(1);
#line 1071
  shift = (*(interpreterProxy->stackIntegerValue))(0);
#line 1073
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 1073
  (*(interpreterProxy->success))(tmp);
#line 1074
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1074
  if (tmp___0) {
#line 1075
    in = (unsigned int *)0;
#line 1076
    goto l2;
  }
  {
#line 1078
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 1078
  in = (unsigned int *)tmp___1;
  }
  l2: 
  {
#line 1080
  sz = (*(interpreterProxy->stSizeOf))(inOop);
#line 1082
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 1082
  (*(interpreterProxy->success))(tmp___2);
#line 1083
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 1083
  if (tmp___3) {
#line 1084
    out = (unsigned int *)0;
#line 1085
    goto l3;
  }
  {
#line 1087
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 1087
  out = (unsigned int *)tmp___4;
  }
  l3: 
  {
#line 1089
  tmp___5 = (*(interpreterProxy->stSizeOf))(outOop);
#line 1089
  (*(interpreterProxy->success))(tmp___5 == sz);
#line 1090
  tmp___6 = (*(interpreterProxy->failed))();
  }
#line 1090
  if (tmp___6) {
#line 1091
    return (0);
  }
#line 1093
  i = 0;
  {
#line 1093
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1093
    if (! (i <= sz - 1)) {
#line 1093
      goto while_break;
    }
#line 1094
    pix = (int )(*(in + i) & 16777215U);
#line 1095
    if (! (pix == 0)) {
#line 1096
      r = (int )(((unsigned int )pix >> 16) & 255U);
#line 1097
      g = (int )(((unsigned int )pix >> 8) & 255U);
#line 1098
      b = pix & 255;
#line 1099
      min = r;
#line 1099
      max = min;
#line 1100
      if (g > max) {
#line 1101
        max = g;
      }
#line 1103
      if (b > max) {
#line 1104
        max = b;
      }
#line 1106
      if (g < min) {
#line 1107
        min = g;
      }
#line 1109
      if (b < min) {
#line 1110
        min = b;
      }
#line 1112
      brightness = (max * 1000) / 255;
#line 1113
      if (max == 0) {
#line 1114
        saturation = 0;
      } else {
#line 1116
        saturation = ((max - min) * 1000) / max;
      }
#line 1118
      if (brightness < 110) {
#line 1119
        brightness = 110;
#line 1120
        saturation = 1000;
      }
#line 1122
      if (saturation < 90) {
#line 1123
        saturation = 90;
      }
#line 1125
      if (brightness == 110) {
#line 1126
        hue = 0;
      } else
#line 1125
      if (saturation == 90) {
#line 1126
        hue = 0;
      } else {
#line 1129
        span = max - min;
#line 1130
        if (span == 0) {
#line 1131
          hue = 0;
#line 1132
          goto l1;
        }
#line 1134
        if (r == max) {
#line 1135
          result = (60 * (g - b)) / span;
        } else
#line 1137
        if (g == max) {
#line 1138
          result = 120 + (60 * (b - r)) / span;
        } else {
#line 1140
          result = 240 + (60 * (r - g)) / span;
        }
#line 1143
        if (result < 0) {
#line 1144
          hue = result + 360;
#line 1145
          goto l1;
        }
#line 1147
        hue = result;
        l1: ;
      }
      {
#line 1150
      hue = ((hue + shift) + 360000000) % 360;
#line 1151
      bitmapatputHsv(out, i, hue, saturation, brightness);
      }
    }
#line 1093
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1154
  (*(interpreterProxy->pop))(3);
  }
#line 1155
  return (0);
}
}
#line 1158 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveInterpolate(void) 
{ 
  int width ;
  unsigned int *in ;
  int result ;
  int inOop ;
  int yFixed ;
  int sz ;
  int xFixed ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;

  {
  {
#line 1167
  inOop = (*(interpreterProxy->stackValue))(3);
#line 1168
  width = (*(interpreterProxy->stackIntegerValue))(2);
#line 1169
  xFixed = (*(interpreterProxy->stackIntegerValue))(1);
#line 1170
  yFixed = (*(interpreterProxy->stackIntegerValue))(0);
#line 1172
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 1172
  (*(interpreterProxy->success))(tmp);
#line 1173
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1173
  if (tmp___0) {
#line 1174
    in = (unsigned int *)0;
#line 1175
    goto l1;
  }
  {
#line 1177
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 1177
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 1179
  sz = (*(interpreterProxy->stSizeOf))(inOop);
#line 1180
  tmp___2 = (*(interpreterProxy->failed))();
  }
#line 1180
  if (tmp___2) {
#line 1181
    return (0);
  }
  {
#line 1183
  result = interpolatedFromxywidthheight(in, xFixed, yFixed, width, sz / width);
#line 1184
  (*(interpreterProxy->pop))(5);
#line 1185
  (*(interpreterProxy->pushInteger))(result);
  }
#line 1186
  return (0);
}
}
#line 1189 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveIsHidden(void) 
{ 
  int result ;
  int count ;
  int i ;
  char fullPath[1000] ;
  char *src ;
  int pathOop ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 1197
  pathOop = (*(interpreterProxy->stackValue))(0);
  }
#line 1198
  if (pathOop & 1) {
    {
#line 1199
    (*(interpreterProxy->success))(0);
    }
  } else {
    {
#line 1198
    tmp = (*(interpreterProxy->isBytes))(pathOop);
    }
#line 1198
    if (! tmp) {
      {
#line 1199
      (*(interpreterProxy->success))(0);
      }
    }
  }
  {
#line 1201
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1201
  if (tmp___0) {
#line 1202
    return (0);
  }
  {
#line 1204
  tmp___1 = (*(interpreterProxy->firstIndexableField))(pathOop);
#line 1204
  src = (char *)tmp___1;
#line 1205
  count = (*(interpreterProxy->stSizeOf))(pathOop);
  }
#line 1206
  if (count >= 1000) {
    {
#line 1207
    (*(interpreterProxy->success))(0);
    }
#line 1208
    return (0);
  }
#line 1210
  i = 0;
  {
#line 1210
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1210
    if (! (i <= count - 1)) {
#line 1210
      goto while_break;
    }
#line 1211
    fullPath[i] = *(src + i);
#line 1210
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1213
  fullPath[count] = (char)0;
#line 1214
  result = IsFileOrFolderHidden(fullPath);
#line 1215
  (*(interpreterProxy->pop))(2);
#line 1216
  (*(interpreterProxy->pushBool))(result != 0);
  }
#line 1217
  return (0);
}
}
#line 1220 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveOpenURL(void) 
{ 
  char *src ;
  int count ;
  int i ;
  int urlOop ;
  char urlStr[2000] ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 1227
  urlOop = (*(interpreterProxy->stackValue))(0);
  }
#line 1228
  if (urlOop & 1) {
    {
#line 1229
    (*(interpreterProxy->success))(0);
    }
  } else {
    {
#line 1228
    tmp = (*(interpreterProxy->isBytes))(urlOop);
    }
#line 1228
    if (! tmp) {
      {
#line 1229
      (*(interpreterProxy->success))(0);
      }
    }
  }
  {
#line 1231
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1231
  if (tmp___0) {
#line 1232
    return (0);
  }
  {
#line 1234
  tmp___1 = (*(interpreterProxy->firstIndexableField))(urlOop);
#line 1234
  src = (char *)tmp___1;
#line 1235
  count = (*(interpreterProxy->stSizeOf))(urlOop);
  }
#line 1236
  if (count >= 2000) {
    {
#line 1237
    (*(interpreterProxy->success))(0);
    }
#line 1238
    return (0);
  }
#line 1240
  i = 0;
  {
#line 1240
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1240
    if (! (i <= count - 1)) {
#line 1240
      goto while_break;
    }
#line 1241
    urlStr[i] = *(src + i);
#line 1240
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1243
  urlStr[count] = (char)0;
#line 1244
  OpenURL(urlStr);
#line 1245
  (*(interpreterProxy->pop))(1);
  }
#line 1246
  return (0);
}
}
#line 1249 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveSaturationShift(void) 
{ 
  int hue ;
  unsigned int *in ;
  int max ;
  int brightness ;
  int i ;
  int inOop ;
  int outOop ;
  int pix ;
  int shift ;
  unsigned int *out ;
  int g ;
  int min ;
  int b ;
  int r ;
  int saturation ;
  int sz ;
  int span ;
  int result ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;

  {
  {
#line 1269
  inOop = (*(interpreterProxy->stackValue))(2);
#line 1270
  outOop = (*(interpreterProxy->stackValue))(1);
#line 1271
  shift = (*(interpreterProxy->stackIntegerValue))(0);
#line 1273
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 1273
  (*(interpreterProxy->success))(tmp);
#line 1274
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1274
  if (tmp___0) {
#line 1275
    in = (unsigned int *)0;
#line 1276
    goto l2;
  }
  {
#line 1278
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 1278
  in = (unsigned int *)tmp___1;
  }
  l2: 
  {
#line 1280
  sz = (*(interpreterProxy->stSizeOf))(inOop);
#line 1282
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 1282
  (*(interpreterProxy->success))(tmp___2);
#line 1283
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 1283
  if (tmp___3) {
#line 1284
    out = (unsigned int *)0;
#line 1285
    goto l3;
  }
  {
#line 1287
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 1287
  out = (unsigned int *)tmp___4;
  }
  l3: 
  {
#line 1289
  tmp___5 = (*(interpreterProxy->stSizeOf))(outOop);
#line 1289
  (*(interpreterProxy->success))(tmp___5 == sz);
#line 1290
  tmp___6 = (*(interpreterProxy->failed))();
  }
#line 1290
  if (tmp___6) {
#line 1291
    return (0);
  }
#line 1293
  i = 0;
  {
#line 1293
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1293
    if (! (i <= sz - 1)) {
#line 1293
      goto while_break;
    }
#line 1294
    pix = (int )(*(in + i) & 16777215U);
#line 1295
    if (! (pix < 2)) {
#line 1296
      r = (int )(((unsigned int )pix >> 16) & 255U);
#line 1297
      g = (int )(((unsigned int )pix >> 8) & 255U);
#line 1298
      b = pix & 255;
#line 1299
      min = r;
#line 1299
      max = min;
#line 1300
      if (g > max) {
#line 1301
        max = g;
      }
#line 1303
      if (b > max) {
#line 1304
        max = b;
      }
#line 1306
      if (g < min) {
#line 1307
        min = g;
      }
#line 1309
      if (b < min) {
#line 1310
        min = b;
      }
#line 1312
      brightness = (max * 1000) / 255;
#line 1313
      if (max == 0) {
#line 1314
        saturation = 0;
      } else {
#line 1316
        saturation = ((max - min) * 1000) / max;
      }
#line 1318
      if (saturation > 0) {
#line 1320
        span = max - min;
#line 1321
        if (span == 0) {
#line 1322
          hue = 0;
#line 1323
          goto l1;
        }
#line 1325
        if (r == max) {
#line 1326
          result = (60 * (g - b)) / span;
        } else
#line 1328
        if (g == max) {
#line 1329
          result = 120 + (60 * (b - r)) / span;
        } else {
#line 1331
          result = 240 + (60 * (r - g)) / span;
        }
#line 1334
        if (result < 0) {
#line 1335
          hue = result + 360;
#line 1336
          goto l1;
        }
#line 1338
        hue = result;
        l1: 
#line 1340
        saturation += shift * 10;
#line 1341
        if (saturation > 1000) {
#line 1342
          saturation = 1000;
        }
#line 1344
        if (saturation < 0) {
#line 1345
          saturation = 0;
        }
        {
#line 1347
        bitmapatputHsv(out, i, hue, saturation, brightness);
        }
      }
    }
#line 1293
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1351
  (*(interpreterProxy->pop))(3);
  }
#line 1352
  return (0);
}
}
#line 1355 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveScale(void) 
{ 
  int w1 ;
  int w2 ;
  int w3 ;
  int w4 ;
  int yIncr ;
  int p1 ;
  int p2 ;
  int p3 ;
  int p4 ;
  int xIncr ;
  int outPix ;
  unsigned int *in ;
  int inW ;
  int inH ;
  int inX ;
  int inOop ;
  int outOop ;
  int inY ;
  int outW ;
  int outH ;
  unsigned int *out ;
  int outY ;
  int outX ;
  int t ;
  int tWeight ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  void *tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  void *tmp___6 ;
  int tmp___7 ;

  {
  {
#line 1382
  inOop = (*(interpreterProxy->stackValue))(5);
#line 1383
  inW = (*(interpreterProxy->stackIntegerValue))(4);
#line 1384
  inH = (*(interpreterProxy->stackIntegerValue))(3);
#line 1385
  outOop = (*(interpreterProxy->stackValue))(2);
#line 1386
  outW = (*(interpreterProxy->stackIntegerValue))(1);
#line 1387
  outH = (*(interpreterProxy->stackIntegerValue))(0);
#line 1388
  tmp = (*(interpreterProxy->stSizeOf))(inOop);
#line 1388
  (*(interpreterProxy->success))(tmp == inW * inH);
#line 1389
  tmp___0 = (*(interpreterProxy->stSizeOf))(outOop);
#line 1389
  (*(interpreterProxy->success))(tmp___0 == outW * outH);
#line 1391
  tmp___1 = (*(interpreterProxy->isWords))(inOop);
#line 1391
  (*(interpreterProxy->success))(tmp___1);
#line 1392
  tmp___2 = (*(interpreterProxy->failed))();
  }
#line 1392
  if (tmp___2) {
#line 1393
    in = (unsigned int *)0;
#line 1394
    goto l1;
  }
  {
#line 1396
  tmp___3 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 1396
  in = (unsigned int *)tmp___3;
  }
  l1: 
  {
#line 1399
  tmp___4 = (*(interpreterProxy->isWords))(outOop);
#line 1399
  (*(interpreterProxy->success))(tmp___4);
#line 1400
  tmp___5 = (*(interpreterProxy->failed))();
  }
#line 1400
  if (tmp___5) {
#line 1401
    out = (unsigned int *)0;
#line 1402
    goto l2;
  }
  {
#line 1404
  tmp___6 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 1404
  out = (unsigned int *)tmp___6;
  }
  l2: 
  {
#line 1406
  tmp___7 = (*(interpreterProxy->failed))();
  }
#line 1406
  if (tmp___7) {
#line 1407
    return (0);
  }
#line 1409
  inY = 0;
#line 1409
  inX = inY;
#line 1410
  xIncr = (inW * 1024) / outW;
#line 1411
  yIncr = (inH * 1024) / outH;
#line 1412
  outY = 0;
  {
#line 1412
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1412
    if (! (outY <= outH - 1)) {
#line 1412
      goto while_break;
    }
#line 1413
    inX = 0;
#line 1414
    outX = 0;
    {
#line 1414
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1414
      if (! (outX <= outW - 1)) {
#line 1414
        goto while_break___0;
      }
#line 1415
      w1 = (1024 - (inX & 1023)) * (1024 - (inY & 1023));
#line 1416
      w2 = (inX & 1023) * (1024 - (inY & 1023));
#line 1417
      w3 = (1024 - (inX & 1023)) * (inY & 1023);
#line 1418
      w4 = (inX & 1023) * (inY & 1023);
#line 1419
      t = (int )(((unsigned int )inY >> 10) * (unsigned int )inW + ((unsigned int )inX >> 10));
#line 1420
      p1 = (int )*(in + t);
#line 1421
      if ((unsigned int )inX >> 10 < (unsigned int )(inW - 1)) {
#line 1422
        p2 = (int )*(in + (t + 1));
      } else {
#line 1424
        p2 = p1;
      }
#line 1426
      if ((unsigned int )inY >> 10 < (unsigned int )(inH - 1)) {
#line 1427
        t += inW;
      }
#line 1429
      p3 = (int )*(in + t);
#line 1430
      if ((unsigned int )inX >> 10 < (unsigned int )(inW - 1)) {
#line 1431
        p4 = (int )*(in + (t + 1));
      } else {
#line 1433
        p4 = p3;
      }
#line 1435
      tWeight = 0;
#line 1436
      if (p1 == 0) {
#line 1437
        p1 = p2;
#line 1438
        tWeight += w1;
      }
#line 1440
      if (p2 == 0) {
#line 1441
        p2 = p1;
#line 1442
        tWeight += w2;
      }
#line 1444
      if (p3 == 0) {
#line 1445
        p3 = p4;
#line 1446
        tWeight += w3;
      }
#line 1448
      if (p4 == 0) {
#line 1449
        p4 = p3;
#line 1450
        tWeight += w4;
      }
#line 1452
      if (p1 == 0) {
#line 1453
        p1 = p3;
#line 1454
        p2 = p4;
      }
#line 1456
      if (p3 == 0) {
#line 1457
        p3 = p1;
#line 1458
        p4 = p2;
      }
#line 1460
      outPix = 0;
#line 1461
      if (tWeight < 500000) {
#line 1462
        t = (int )((((unsigned int )w1 * (((unsigned int )p1 >> 16) & 255U) + (unsigned int )w2 * (((unsigned int )p2 >> 16) & 255U)) + (unsigned int )w3 * (((unsigned int )p3 >> 16) & 255U)) + (unsigned int )w4 * (((unsigned int )p4 >> 16) & 255U));
#line 1463
        outPix = (int )((((unsigned int )t >> 20) & 255U) << 16);
#line 1464
        t = (int )((((unsigned int )w1 * (((unsigned int )p1 >> 8) & 255U) + (unsigned int )w2 * (((unsigned int )p2 >> 8) & 255U)) + (unsigned int )w3 * (((unsigned int )p3 >> 8) & 255U)) + (unsigned int )w4 * (((unsigned int )p4 >> 8) & 255U));
#line 1465
        outPix = (int )((unsigned int )outPix | ((((unsigned int )t >> 20) & 255U) << 8));
#line 1466
        t = ((w1 * (p1 & 255) + w2 * (p2 & 255)) + w3 * (p3 & 255)) + w4 * (p4 & 255);
#line 1467
        outPix = (int )((unsigned int )outPix | (((unsigned int )t >> 20) & 255U));
#line 1468
        if (outPix == 0) {
#line 1469
          outPix = 1;
        }
      }
#line 1472
      *(out + (outY * outW + outX)) = (unsigned int )outPix;
#line 1473
      inX += xIncr;
#line 1414
      outX ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1475
    inY += yIncr;
#line 1412
    outY ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1477
  (*(interpreterProxy->pop))(6);
  }
#line 1478
  return (0);
}
}
#line 1481 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveSetUnicodePasteBuffer(void) 
{ 
  short *utf16 ;
  int strOop ;
  int count ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 1486
  strOop = (*(interpreterProxy->stackValue))(0);
  }
#line 1487
  if (strOop & 1) {
    {
#line 1488
    (*(interpreterProxy->success))(0);
    }
  } else {
    {
#line 1487
    tmp = (*(interpreterProxy->isBytes))(strOop);
    }
#line 1487
    if (! tmp) {
      {
#line 1488
      (*(interpreterProxy->success))(0);
      }
    }
  }
  {
#line 1490
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1490
  if (tmp___0) {
#line 1491
    return (0);
  }
  {
#line 1493
  tmp___1 = (*(interpreterProxy->firstIndexableField))(strOop);
#line 1493
  utf16 = (short *)tmp___1;
#line 1494
  count = (*(interpreterProxy->stSizeOf))(strOop);
#line 1495
  SetUnicodePasteBuffer(utf16, count);
#line 1496
  (*(interpreterProxy->pop))(1);
  }
#line 1497
  return (0);
}
}
#line 1500 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveSetWindowTitle(void) 
{ 
  char *src ;
  char titleStr[1000] ;
  int count ;
  int i ;
  int titleOop ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;

  {
  {
#line 1507
  titleOop = (*(interpreterProxy->stackValue))(0);
  }
#line 1508
  if (titleOop & 1) {
    {
#line 1509
    (*(interpreterProxy->success))(0);
    }
  } else {
    {
#line 1508
    tmp = (*(interpreterProxy->isBytes))(titleOop);
    }
#line 1508
    if (! tmp) {
      {
#line 1509
      (*(interpreterProxy->success))(0);
      }
    }
  }
  {
#line 1511
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1511
  if (tmp___0) {
#line 1512
    return (0);
  }
  {
#line 1514
  tmp___1 = (*(interpreterProxy->firstIndexableField))(titleOop);
#line 1514
  src = (char *)tmp___1;
#line 1515
  count = (*(interpreterProxy->stSizeOf))(titleOop);
  }
#line 1516
  if (count >= 1000) {
    {
#line 1517
    (*(interpreterProxy->success))(0);
    }
#line 1518
    return (0);
  }
#line 1520
  i = 0;
  {
#line 1520
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1520
    if (! (i <= count - 1)) {
#line 1520
      goto while_break;
    }
#line 1521
    titleStr[i] = *(src + i);
#line 1520
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1523
  titleStr[count] = (char)0;
#line 1524
  SetScratchWindowTitle(titleStr);
#line 1525
  (*(interpreterProxy->pop))(1);
  }
#line 1526
  return (0);
}
}
#line 1529 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveShortToLongPath(void) 
{ 
  int result ;
  int count ;
  int i ;
  int resultOop ;
  char longPath[1000] ;
  char *ptr ;
  int shortPathOop ;
  char shortPath[1000] ;
  int tmp ;
  void *tmp___0 ;
  size_t tmp___1 ;
  int tmp___2 ;
  void *tmp___3 ;

  {
  {
#line 1539
  shortPathOop = (*(interpreterProxy->stackValue))(0);
  }
#line 1540
  if (shortPathOop & 1) {
    {
#line 1541
    (*(interpreterProxy->success))(0);
    }
#line 1542
    return (0);
  } else {
    {
#line 1540
    tmp = (*(interpreterProxy->isBytes))(shortPathOop);
    }
#line 1540
    if (! tmp) {
      {
#line 1541
      (*(interpreterProxy->success))(0);
      }
#line 1542
      return (0);
    }
  }
  {
#line 1544
  tmp___0 = (*(interpreterProxy->firstIndexableField))(shortPathOop);
#line 1544
  ptr = (char *)tmp___0;
#line 1545
  count = (*(interpreterProxy->stSizeOf))(shortPathOop);
  }
#line 1546
  if (count >= 1000) {
    {
#line 1547
    (*(interpreterProxy->success))(0);
    }
#line 1548
    return (0);
  }
#line 1550
  i = 0;
  {
#line 1550
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1550
    if (! (i <= count - 1)) {
#line 1550
      goto while_break;
    }
#line 1551
    shortPath[i] = *(ptr + i);
#line 1550
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1553
  shortPath[count] = (char)0;
#line 1554
  result = WinShortToLongPath(shortPath, longPath, 1000);
  }
#line 1555
  if (result == -1) {
    {
#line 1556
    (*(interpreterProxy->success))(0);
    }
#line 1557
    return (0);
  }
  {
#line 1559
  tmp___1 = strlen((char const   *)(longPath));
#line 1559
  count = (int )tmp___1;
#line 1560
  tmp___2 = (*(interpreterProxy->classString))();
#line 1560
  resultOop = (*(interpreterProxy->instantiateClassindexableSize))(tmp___2, count);
#line 1561
  tmp___3 = (*(interpreterProxy->firstIndexableField))(resultOop);
#line 1561
  ptr = (char *)tmp___3;
#line 1562
  i = 0;
  }
  {
#line 1562
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1562
    if (! (i <= count - 1)) {
#line 1562
      goto while_break___0;
    }
#line 1563
    *(ptr + i) = longPath[i];
#line 1562
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 1565
  (*(interpreterProxy->popthenPush))(2, resultOop);
  }
#line 1566
  return (0);
}
}
#line 1569 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveWaterRipples1(void) 
{ 
  int width ;
  int t1 ;
  int val ;
  int j ;
  double *aArray ;
  int h ;
  unsigned int pix ;
  int y ;
  int power ;
  int allPix ;
  int val2 ;
  int f ;
  int d ;
  int aArOop ;
  double dist ;
  int dx ;
  int dy ;
  double dx2 ;
  double dy2 ;
  int q ;
  unsigned int *in ;
  int ripply ;
  int i ;
  int inOop ;
  int outOop ;
  int g ;
  unsigned int *out ;
  int x ;
  double *bArray ;
  int t ;
  int height ;
  double temp ;
  int bArOop ;
  int blops ;
  int newLoc ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  void *tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  void *tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;

  {
  {
#line 1606
  inOop = (*(interpreterProxy->stackValue))(5);
#line 1607
  outOop = (*(interpreterProxy->stackValue))(4);
#line 1608
  width = (*(interpreterProxy->stackIntegerValue))(3);
#line 1610
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 1610
  (*(interpreterProxy->success))(tmp);
#line 1611
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1611
  if (tmp___0) {
#line 1612
    in = (unsigned int *)0;
#line 1613
    goto l1;
  }
  {
#line 1615
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 1615
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 1618
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 1618
  (*(interpreterProxy->success))(tmp___2);
#line 1619
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 1619
  if (tmp___3) {
#line 1620
    out = (unsigned int *)0;
#line 1621
    goto l2;
  }
  {
#line 1623
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 1623
  out = (unsigned int *)tmp___4;
  }
  l2: 
  {
#line 1625
  allPix = (*(interpreterProxy->stSizeOf))(inOop);
#line 1626
  ripply = (*(interpreterProxy->stackIntegerValue))(2);
#line 1627
  aArOop = (*(interpreterProxy->stackValue))(1);
#line 1628
  bArOop = (*(interpreterProxy->stackValue))(0);
#line 1630
  tmp___5 = (*(interpreterProxy->isWordsOrBytes))(aArOop);
#line 1630
  (*(interpreterProxy->success))(tmp___5);
#line 1631
  tmp___6 = (*(interpreterProxy->failed))();
  }
#line 1631
  if (tmp___6) {
#line 1632
    aArray = (double *)0;
#line 1633
    goto l3;
  }
  {
#line 1635
  tmp___7 = (*(interpreterProxy->firstIndexableField))(aArOop);
#line 1635
  aArray = (double *)tmp___7;
  }
  l3: 
  {
#line 1638
  tmp___8 = (*(interpreterProxy->isWordsOrBytes))(bArOop);
#line 1638
  (*(interpreterProxy->success))(tmp___8);
#line 1639
  tmp___9 = (*(interpreterProxy->failed))();
  }
#line 1639
  if (tmp___9) {
#line 1640
    bArray = (double *)0;
#line 1641
    goto l4;
  }
  {
#line 1643
  tmp___10 = (*(interpreterProxy->firstIndexableField))(bArOop);
#line 1643
  bArray = (double *)tmp___10;
  }
  l4: 
  {
#line 1645
  tmp___11 = (*(interpreterProxy->stSizeOf))(outOop);
#line 1645
  (*(interpreterProxy->success))(tmp___11 == allPix);
#line 1646
  tmp___12 = (*(interpreterProxy->failed))();
  }
#line 1646
  if (tmp___12) {
#line 1647
    return (0);
  }
  {
#line 1649
  height = allPix / width;
#line 1650
  t1 = rand();
#line 1651
  blops = t1 % ripply - 1;
#line 1652
  t = 0;
  }
  {
#line 1652
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1652
    if (! (t <= blops / 2 - 1)) {
#line 1652
      goto while_break;
    }
    {
#line 1653
    t1 = rand();
#line 1654
    x = t1 % width;
#line 1655
    t1 = rand();
#line 1656
    y = t1 % height;
#line 1657
    t1 = rand();
#line 1658
    power = t1 % 8;
#line 1659
    g = -4;
    }
    {
#line 1659
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1659
      if (! (g <= 4)) {
#line 1659
        goto while_break___0;
      }
#line 1660
      h = -4;
      {
#line 1660
      while (1) {
        while_continue___1: /* CIL Label */ ;
#line 1660
        if (! (h <= 4)) {
#line 1660
          goto while_break___1;
        }
#line 1661
        dist = (double )(g * g + h * h);
#line 1662
        if (dist < (double )25) {
#line 1662
          if (dist > (double )0) {
#line 1663
            dx = x + g;
#line 1664
            dy = y + h;
#line 1665
            if (dx > 0) {
#line 1665
              if (dy > 0) {
#line 1665
                if (dy < height) {
#line 1665
                  if (dx < width) {
#line 1666
                    *(aArray + (dy * width + dx)) = (double )power * (1.0 - dist / 25.0);
                  }
                }
              }
            }
          }
        }
#line 1660
        h ++;
      }
      while_break___1: /* CIL Label */ ;
      }
#line 1659
      g ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1652
    t ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 1672
  f = 1;
  {
#line 1672
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 1672
    if (! (f <= width - 2)) {
#line 1672
      goto while_break___2;
    }
#line 1673
    d = 1;
    {
#line 1673
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 1673
      if (! (d <= height - 2)) {
#line 1673
        goto while_break___3;
      }
#line 1674
      val = d * width + f;
#line 1675
      *(aArray + val) = (((((((*(bArray + (val + 1)) + *(bArray + (val - 1))) + *(bArray + (val + width))) + *(bArray + (val - width))) + *(bArray + ((val - 1) - width)) / (double )2) + *(bArray + ((val - 1) + width)) / (double )2) + *(bArray + ((val + 1) - width)) / (double )2) + *(bArray + ((val + 1) + width)) / (double )2) / (double )4 - *(aArray + val);
#line 1676
      *(aArray + val) *= 0.9;
#line 1673
      d ++;
    }
    while_break___3: /* CIL Label */ ;
    }
#line 1672
    f ++;
  }
  while_break___2: /* CIL Label */ ;
  }
#line 1679
  q = 0;
  {
#line 1679
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 1679
    if (! (q <= width * height)) {
#line 1679
      goto while_break___4;
    }
#line 1680
    temp = *(bArray + q);
#line 1681
    *(bArray + q) = *(aArray + q);
#line 1682
    *(aArray + q) = temp;
#line 1679
    q ++;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 1684
  j = 0;
  {
#line 1684
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 1684
    if (! (j <= height - 1)) {
#line 1684
      goto while_break___5;
    }
#line 1685
    i = 0;
    {
#line 1685
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 1685
      if (! (i <= width - 1)) {
#line 1685
        goto while_break___6;
      }
#line 1686
      if (i > 1) {
#line 1686
        if (i < width - 1) {
#line 1686
          if (j > 1) {
#line 1686
            if (j < height - 1) {
#line 1687
              val2 = j * width + i;
#line 1688
              dx2 = ((*(aArray + val2) - *(aArray + (val2 - 1))) + (*(aArray + (val2 + 1)) - *(aArray + val2))) * (double )64;
#line 1689
              dy2 = ((*(aArray + val2) - *(aArray + (val2 - width))) + (*(aArray + (val2 + width)) - *(aArray + val2))) / (double )64;
#line 1690
              if (dx2 < (double )-2) {
#line 1691
                dx2 = (double )-2;
              }
#line 1693
              if (dx2 > (double )2) {
#line 1694
                dx2 = (double )2;
              }
#line 1696
              if (dy2 < (double )-2) {
#line 1697
                dy2 = (double )-2;
              }
#line 1699
              if (dy2 > (double )2) {
#line 1700
                dy2 = (double )2;
              }
#line 1702
              newLoc = (int )(((double )j + dy2) * (double )width + ((double )i + dx2));
#line 1703
              if (newLoc < width * height) {
#line 1703
                if (newLoc >= 0) {
#line 1704
                  pix = *(in + newLoc);
                } else {
#line 1706
                  pix = *(in + (i + j * width));
                }
              } else {
#line 1706
                pix = *(in + (i + j * width));
              }
            } else {
#line 1709
              pix = *(in + (i + j * width));
            }
          } else {
#line 1709
            pix = *(in + (i + j * width));
          }
        } else {
#line 1709
          pix = *(in + (i + j * width));
        }
      } else {
#line 1709
        pix = *(in + (i + j * width));
      }
#line 1711
      *(out + (i + j * width)) = pix;
#line 1685
      i ++;
    }
    while_break___6: /* CIL Label */ ;
    }
#line 1684
    j ++;
  }
  while_break___5: /* CIL Label */ ;
  }
  {
#line 1714
  (*(interpreterProxy->pop))(6);
  }
#line 1715
  return (0);
}
}
#line 1718 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int primitiveWhirl(void) 
{ 
  int width ;
  double whirlRadians ;
  int degrees ;
  double scaleX ;
  double scaleY ;
  int pix ;
  double d ;
  double ang ;
  double sina ;
  int y ;
  double dx ;
  double dy ;
  int sz ;
  unsigned int *in ;
  double radiusSquared ;
  int inOop ;
  int outOop ;
  double factor ;
  double cosa ;
  unsigned int *out ;
  int centerX ;
  int centerY ;
  int radius ;
  int x ;
  int height ;
  int tmp ;
  int tmp___0 ;
  void *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  double tmp___7 ;

  {
  {
#line 1745
  inOop = (*(interpreterProxy->stackValue))(3);
#line 1746
  outOop = (*(interpreterProxy->stackValue))(2);
#line 1747
  width = (*(interpreterProxy->stackIntegerValue))(1);
#line 1748
  degrees = (*(interpreterProxy->stackIntegerValue))(0);
#line 1750
  tmp = (*(interpreterProxy->isWords))(inOop);
#line 1750
  (*(interpreterProxy->success))(tmp);
#line 1751
  tmp___0 = (*(interpreterProxy->failed))();
  }
#line 1751
  if (tmp___0) {
#line 1752
    in = (unsigned int *)0;
#line 1753
    goto l1;
  }
  {
#line 1755
  tmp___1 = (*(interpreterProxy->firstIndexableField))(inOop);
#line 1755
  in = (unsigned int *)tmp___1;
  }
  l1: 
  {
#line 1758
  tmp___2 = (*(interpreterProxy->isWords))(outOop);
#line 1758
  (*(interpreterProxy->success))(tmp___2);
#line 1759
  tmp___3 = (*(interpreterProxy->failed))();
  }
#line 1759
  if (tmp___3) {
#line 1760
    out = (unsigned int *)0;
#line 1761
    goto l2;
  }
  {
#line 1763
  tmp___4 = (*(interpreterProxy->firstIndexableField))(outOop);
#line 1763
  out = (unsigned int *)tmp___4;
  }
  l2: 
  {
#line 1765
  sz = (*(interpreterProxy->stSizeOf))(inOop);
#line 1766
  tmp___5 = (*(interpreterProxy->stSizeOf))(outOop);
#line 1766
  (*(interpreterProxy->success))(tmp___5 == sz);
#line 1767
  tmp___6 = (*(interpreterProxy->failed))();
  }
#line 1767
  if (tmp___6) {
#line 1768
    return (0);
  }
#line 1770
  height = sz / width;
#line 1771
  centerX = width / 2;
#line 1772
  centerY = height / 2;
#line 1773
  if (centerX < centerY) {
#line 1774
    radius = centerX;
#line 1775
    scaleX = (double )centerY / (double )centerX;
#line 1776
    scaleY = 1.0;
  } else {
#line 1778
    radius = centerY;
#line 1779
    scaleX = 1.0;
#line 1780
    if (centerY < centerX) {
#line 1781
      scaleY = (double )centerX / (double )centerY;
    } else {
#line 1783
      scaleY = 1.0;
    }
  }
#line 1786
  whirlRadians = (- 3.141592653589793 * (double )degrees) / 180.0;
#line 1787
  radiusSquared = (double )(radius * radius);
#line 1788
  x = 0;
  {
#line 1788
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1788
    if (! (x <= width - 1)) {
#line 1788
      goto while_break;
    }
#line 1789
    y = 0;
    {
#line 1789
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1789
      if (! (y <= height - 1)) {
#line 1789
        goto while_break___0;
      }
#line 1790
      dx = scaleX * (double )(x - centerX);
#line 1791
      dy = scaleY * (double )(y - centerY);
#line 1792
      d = dx * dx + dy * dy;
#line 1793
      if (d < radiusSquared) {
        {
#line 1794
        tmp___7 = sqrt(d);
#line 1794
        factor = 1.0 - tmp___7 / (double )radius;
#line 1795
        ang = whirlRadians * (factor * factor);
#line 1796
        sina = sin(ang);
#line 1797
        cosa = cos(ang);
#line 1798
        pix = interpolatedFromxywidthheight(in, (int )(1024.0 * ((cosa * dx - sina * dy) / scaleX + (double )centerX)),
                                            (int )(1024.0 * ((sina * dx + cosa * dy) / scaleY + (double )centerY)),
                                            width, height);
#line 1799
        *(out + (width * y + x)) = (unsigned int )pix;
        }
      }
#line 1789
      y ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 1788
    x ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1803
  (*(interpreterProxy->pop))(4);
  }
#line 1804
  return (0);
}
}
#line 1807 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/ScratchPlugin.c"
int setInterpreter(struct VirtualMachine *anInterpreter ) 
{ 
  int ok ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 1810
  interpreterProxy = anInterpreter;
#line 1811
  tmp = (*(interpreterProxy->majorVersion))();
#line 1811
  ok = tmp == 1;
  }
#line 1812
  if (ok == 0) {
#line 1813
    return (0);
  }
  {
#line 1815
  tmp___0 = (*(interpreterProxy->minorVersion))();
#line 1815
  ok = tmp___0 >= 1;
  }
#line 1816
  return (ok);
}
}
#line 564 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) getenv)(char const   *__name ) ;
#line 717
extern int system(char const   *__command ) ;
#line 137 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcat)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 140
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strncat)(char * __restrict  __dest ,
                                                                                                  char const   * __restrict  __src ,
                                                                                                  size_t __n ) ;
#line 32 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixScratchOps.c"
void OpenURL(char *url ) 
{ 
  char cmd[1000] ;
  unsigned int tmp ;

  {
#line 34
  cmd[0] = (char )'x';
#line 34
  cmd[1] = (char )'d';
#line 34
  cmd[2] = (char )'g';
#line 34
  cmd[3] = (char )'-';
#line 34
  cmd[4] = (char )'o';
#line 34
  cmd[5] = (char )'p';
#line 34
  cmd[6] = (char )'e';
#line 34
  cmd[7] = (char )'n';
#line 34
  cmd[8] = (char )' ';
#line 34
  cmd[9] = (char )'\000';
#line 34
  tmp = 10U;
  {
#line 34
  while (1) {
    while_continue: /* CIL Label */ ;
#line 34
    if (tmp >= 1000U) {
#line 34
      goto while_break;
    }
#line 34
    cmd[tmp] = (char)0;
#line 34
    tmp ++;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 35
  strcat((char */* __restrict  */)(cmd), (char const   */* __restrict  */)url);
#line 36
  system((char const   *)(cmd));
  }
#line 37
  return;
}
}
#line 39 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixScratchOps.c"
void SetScratchWindowTitle(char *title ) 
{ 


  {
#line 41
  return;
}
}
#line 43 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixScratchOps.c"
void GetFolderPathForID(int folderID , char *path , int maxPath ) 
{ 
  char *s ;
  size_t tmp ;

  {
  {
#line 52
  s = (char *)((void *)0);
#line 54
  *(path + 0) = (char)0;
#line 57
  s = getenv("HOME");
  }
#line 58
  if ((unsigned long )s == (unsigned long )((void *)0)) {
#line 58
    return;
  } else {
    {
#line 58
    tmp = strlen((char const   *)s);
    }
#line 58
    if (tmp == 0UL) {
#line 58
      return;
    }
  }
  {
#line 60
  strncat((char */* __restrict  */)path, (char const   */* __restrict  */)s, (size_t )maxPath);
  }
#line 62
  if (folderID == 1) {
#line 62
    return;
  }
#line 63
  if (folderID == 2) {
    {
#line 63
    strncat((char */* __restrict  */)path, (char const   */* __restrict  */)"/Desktop",
            (size_t )maxPath);
    }
  }
#line 64
  if (folderID == 4) {
    {
#line 64
    strncat((char */* __restrict  */)path, (char const   */* __restrict  */)"/Pictures",
            (size_t )maxPath);
    }
  }
#line 65
  if (folderID == 5) {
    {
#line 65
    strncat((char */* __restrict  */)path, (char const   */* __restrict  */)"/Music",
            (size_t )maxPath);
    }
  }
#line 67
  if (folderID == 3) {
    {
#line 68
    s = getenv("SUGAR_ACTIVITY_ROOT");
    }
#line 69
    if ((unsigned long )s != (unsigned long )((void *)0)) {
      {
#line 71
      strncat((char */* __restrict  */)path, (char const   */* __restrict  */)s, (size_t )maxPath);
#line 72
      strncat((char */* __restrict  */)path, (char const   */* __restrict  */)"/data",
              (size_t )maxPath);
      }
    } else {
      {
#line 74
      strncat((char */* __restrict  */)path, (char const   */* __restrict  */)"/Documents",
              (size_t )maxPath);
      }
    }
  }
#line 77
  return;
}
}
#line 79 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixScratchOps.c"
int WinShortToLongPath(char *shortPath , char *longPath , int maxPath ) 
{ 


  {
#line 80
  return (-1);
}
}
#line 83 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixScratchOps.c"
int IsFileOrFolderHidden(char *fullPath ) 
{ 


  {
#line 85
  return (0);
}
}
#line 88 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixScratchOps.c"
void SetUnicodePasteBuffer(short *utf16 , int count ) 
{ 


  {
#line 91
  return;
}
}
#line 134 "/usr/include/dirent.h"
extern DIR *( __attribute__((__nonnull__(1))) opendir)(char const   *__name ) ;
#line 149
extern int ( __attribute__((__nonnull__(1))) closedir)(DIR *__dirp ) ;
#line 162
extern struct dirent *( __attribute__((__nonnull__(1))) readdir)(DIR *__dirp ) ;
#line 50 "/usr/include/x86_64-linux-gnu/bits/errno.h"
extern  __attribute__((__nothrow__)) int *( __attribute__((__leaf__)) __errno_location)(void)  __attribute__((__const__)) ;
#line 146 "/usr/include/fcntl.h"
extern int ( __attribute__((__nonnull__(1))) open)(char const   *__file , int __oflag 
                                                   , ...) ;
#line 362 "/usr/include/stdio.h"
extern int printf(char const   * __restrict  __format  , ...) ;
#line 413 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__leaf__)) strerror)(int __errnum ) ;
#line 41 "/usr/include/x86_64-linux-gnu/sys/ioctl.h"
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) ioctl)(int __fd ,
                                                                            unsigned long __request 
                                                                            , ...) ;
#line 51 "/usr/include/termios.h"
extern  __attribute__((__nothrow__)) speed_t ( __attribute__((__leaf__)) cfgetispeed)(struct termios  const  *__termios_p ) ;
#line 61
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) cfsetspeed)(struct termios *__termios_p ,
                                                                                 speed_t __speed ) ;
#line 66
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) tcgetattr)(int __fd ,
                                                                                struct termios *__termios_p ) ;
#line 70
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) tcsetattr)(int __fd ,
                                                                                int __optional_actions ,
                                                                                struct termios  const  *__termios_p ) ;
#line 76
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) cfmakeraw)(struct termios *__termios_p ) ;
#line 353 "/usr/include/unistd.h"
extern int close(int __fd ) ;
#line 360
extern ssize_t read(int __fd , void *__buf , size_t __nbytes ) ;
#line 366
extern ssize_t write(int __fd , void const   *__buf , size_t __n ) ;
#line 52 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
static int gFileDescr[32]  = 
#line 52 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
  {      -1,      -1,      -1,      -1, 
        -1,      -1,      -1,      -1, 
        -1,      -1,      -1,      -1, 
        -1,      -1,      -1,      -1, 
        -1,      -1,      -1,      -1, 
        -1,      -1,      -1,      -1, 
        -1,      -1,      -1,      -1, 
        -1,      -1,      -1,      -1};
#line 57 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
static struct termios gOrigTermios[32]  ;
#line 62
int FileDescrForEntry(int portNum ) ;
#line 63
int OpenPortNamed(char const   *bsdPath , int baudRate , int entryIndex ) ;
#line 64
int isPrefix(char *prefix , char *s ) ;
#line 65
int isSerialPortDev(char *s ) ;
#line 67 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int SerialPortCount(void) 
{ 
  DIR *dirPtr ;
  struct dirent *entryPtr ;
  int cnt ;
  int tmp ;

  {
  {
#line 70
  cnt = 0;
#line 72
  dirPtr = opendir("/dev");
  }
#line 72
  if ((unsigned long )dirPtr == (unsigned long )((void *)0)) {
#line 72
    return (0);
  }
  {
#line 74
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 74
    entryPtr = readdir(dirPtr);
    }
#line 74
    if (! ((unsigned long )entryPtr != (unsigned long )((void *)0))) {
#line 74
      goto while_break;
    }
    {
#line 75
    tmp = isSerialPortDev(entryPtr->d_name);
    }
#line 75
    if (tmp) {
#line 75
      cnt ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 78
  closedir(dirPtr);
  }
#line 79
  return (cnt);
}
}
#line 84 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
void SerialPortName(int portIndex , char *bsdPath , int maxPathSize ) 
{ 
  DIR *dirPtr ;
  struct dirent *entryPtr ;
  int cnt ;
  int tmp ;

  {
#line 87
  cnt = 0;
#line 89
  *bsdPath = (char )'\000';
#line 91
  if (portIndex < 1) {
#line 91
    return;
  }
  {
#line 92
  dirPtr = opendir("/dev");
  }
#line 92
  if ((unsigned long )dirPtr == (unsigned long )((void *)0)) {
#line 92
    return;
  }
  {
#line 94
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 94
    entryPtr = readdir(dirPtr);
    }
#line 94
    if (! ((unsigned long )entryPtr != (unsigned long )((void *)0))) {
#line 94
      goto while_break;
    }
    {
#line 95
    tmp = isSerialPortDev(entryPtr->d_name);
    }
#line 95
    if (tmp) {
#line 95
      cnt ++;
    }
#line 96
    if (cnt == portIndex) {
      {
#line 97
      strncat((char */* __restrict  */)bsdPath, (char const   */* __restrict  */)"/dev/",
              (size_t )maxPathSize);
#line 98
      strncat((char */* __restrict  */)bsdPath, (char const   */* __restrict  */)(entryPtr->d_name),
              (size_t )maxPathSize);
#line 99
      closedir(dirPtr);
      }
#line 100
      return;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 104
  closedir(dirPtr);
  }
#line 105
  return;
}
}
#line 107 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int SerialPortOpenPortNamed(char *portName , int baudRate ) 
{ 
  int entryIndex ;
  int tmp ;

  {
#line 111
  entryIndex = 0;
  {
#line 111
  while (1) {
    while_continue: /* CIL Label */ ;
#line 111
    if (! (entryIndex < 32)) {
#line 111
      goto while_break;
    }
#line 112
    if (gFileDescr[entryIndex] == -1) {
#line 112
      goto while_break;
    }
#line 111
    entryIndex ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 114
  if (entryIndex >= 32) {
#line 114
    return (-1);
  }
  {
#line 116
  tmp = OpenPortNamed((char const   *)portName, baudRate, entryIndex);
  }
#line 116
  if (! tmp) {
#line 116
    return (-1);
  }
#line 117
  return (entryIndex);
}
}
#line 120 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
void SerialPortClose(int portNum ) 
{ 
  int fDescr ;

  {
  {
#line 123
  fDescr = FileDescrForEntry(portNum);
  }
#line 123
  if (fDescr < 0) {
#line 123
    return;
  }
  {
#line 126
  tcsetattr(fDescr, 0, (struct termios  const  *)(& gOrigTermios[portNum]));
#line 127
  close(fDescr);
#line 128
  gFileDescr[portNum] = -1;
  }
#line 129
  return;
}
}
#line 131 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int SerialPortIsOpen(int portNum ) 
{ 
  int tmp ;

  {
  {
#line 132
  tmp = FileDescrForEntry(portNum);
  }
#line 132
  return (tmp != -1);
}
}
#line 135 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int SerialPortRead(int portNum , char *bufPtr , int bufSize ) 
{ 
  int fDescr ;
  int count ;
  ssize_t tmp ;

  {
  {
#line 136
  count = 0;
#line 138
  fDescr = FileDescrForEntry(portNum);
  }
#line 138
  if (fDescr < 0) {
#line 138
    return (0);
  }
  {
#line 140
  tmp = read(fDescr, (void *)bufPtr, (size_t )bufSize);
#line 140
  count = (int )tmp;
  }
#line 141
  if (count < 0) {
#line 141
    return (0);
  }
#line 142
  return (count);
}
}
#line 145 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int SerialPortWrite(int portNum , char *bufPtr , int bufSize ) 
{ 
  int fDescr ;
  int count ;
  ssize_t tmp ;

  {
  {
#line 146
  count = 0;
#line 148
  fDescr = FileDescrForEntry(portNum);
  }
#line 148
  if (fDescr < 0) {
#line 148
    return (0);
  }
  {
#line 150
  tmp = write(fDescr, (void const   *)bufPtr, (size_t )bufSize);
#line 150
  count = (int )tmp;
  }
#line 151
  if (count < 0) {
#line 151
    return (0);
  }
#line 152
  return (count);
}
}
#line 164 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int SerialPortSetOption(int portNum , int optionNum , int newValue ) 
{ 
  int fDescr ;
  int handshake ;
  struct termios options ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;

  {
  {
#line 168
  fDescr = FileDescrForEntry(portNum);
  }
#line 168
  if (fDescr < 0) {
#line 168
    return (-1);
  }
  {
#line 169
  tmp = tcgetattr(fDescr, & options);
  }
#line 169
  if (tmp == -1) {
#line 169
    return (-1);
  }
  {
#line 172
  if (optionNum == 1) {
#line 172
    goto case_1;
  }
#line 175
  if (optionNum == 2) {
#line 175
    goto case_2;
  }
#line 191
  if (optionNum == 3) {
#line 191
    goto case_3;
  }
#line 195
  if (optionNum == 4) {
#line 195
    goto case_4;
  }
#line 200
  if (optionNum == 5) {
#line 200
    goto case_5___0;
  }
#line 211
  if (optionNum == 6) {
#line 211
    goto case_6___0;
  }
#line 223
  if (optionNum == 20) {
#line 223
    goto case_20;
  }
#line 228
  if (optionNum == 21) {
#line 228
    goto case_21;
  }
#line 171
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 173
  tmp___0 = cfsetspeed(& options, (speed_t )newValue);
  }
#line 173
  if (tmp___0 == -1) {
#line 173
    return (-1);
  }
#line 174
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 177
  if (newValue == 5) {
#line 177
    goto case_5;
  }
#line 180
  if (newValue == 6) {
#line 180
    goto case_6;
  }
#line 183
  if (newValue == 7) {
#line 183
    goto case_7;
  }
#line 186
  if (newValue == 8) {
#line 186
    goto case_8;
  }
#line 176
  goto switch_break___0;
  case_5: /* CIL Label */ 
#line 178
  options.c_cflag &= 4294967247U;
#line 179
  goto switch_break___0;
  case_6: /* CIL Label */ 
#line 181
  options.c_cflag = (options.c_cflag & 4294967247U) | 16U;
#line 182
  goto switch_break___0;
  case_7: /* CIL Label */ 
#line 184
  options.c_cflag = (options.c_cflag & 4294967247U) | 32U;
#line 185
  goto switch_break___0;
  case_8: /* CIL Label */ 
#line 187
  options.c_cflag = (options.c_cflag & 4294967247U) | 48U;
#line 188
  goto switch_break___0;
  switch_break___0: /* CIL Label */ ;
  }
#line 190
  goto switch_break;
  case_3: /* CIL Label */ 
#line 192
  if (newValue > 1) {
#line 192
    options.c_cflag |= 64U;
  } else {
#line 193
    options.c_cflag &= 4294967231U;
  }
#line 194
  goto switch_break;
  case_4: /* CIL Label */ 
#line 196
  options.c_cflag &= 4294966527U;
#line 197
  if (newValue == 1) {
#line 197
    options.c_cflag |= 768U;
  }
#line 198
  if (newValue == 2) {
#line 198
    options.c_cflag |= 256U;
  }
#line 199
  goto switch_break;
  case_5___0: /* CIL Label */ 
#line 201
  options.c_iflag &= 4294963199U;
#line 202
  options.c_cflag &= 2147483647U;
#line 203
  if (newValue == 1) {
#line 203
    options.c_iflag |= 4096U;
  }
#line 204
  if (newValue == 2) {
#line 205
    options.c_cflag |= 2147483648U;
#line 207
    options.c_iflag &= 4294962175U;
  }
#line 210
  goto switch_break;
  case_6___0: /* CIL Label */ 
#line 212
  options.c_iflag &= 4294966271U;
#line 213
  options.c_cflag &= 2147483647U;
#line 214
  if (newValue == 1) {
#line 214
    options.c_iflag |= 1024U;
  }
#line 215
  if (newValue == 2) {
#line 216
    options.c_cflag |= 2147483648U;
#line 218
    options.c_iflag &= 4294962175U;
  }
#line 221
  goto switch_break;
  case_20: /* CIL Label */ 
  {
#line 224
  tmp___1 = ioctl(fDescr, 21525UL, & handshake);
  }
#line 224
  if (tmp___1 == -1) {
#line 224
    return (-1);
  }
#line 225
  if (newValue) {
#line 225
    handshake |= 2;
  } else {
#line 225
    handshake &= -3;
  }
  {
#line 226
  tmp___2 = ioctl(fDescr, 21528UL, & handshake);
  }
#line 226
  if (tmp___2 == -1) {
#line 226
    return (-1);
  }
#line 227
  goto switch_break;
  case_21: /* CIL Label */ 
  {
#line 229
  tmp___3 = ioctl(fDescr, 21525UL, & handshake);
  }
#line 229
  if (tmp___3 == -1) {
#line 229
    return (-1);
  }
#line 230
  if (newValue) {
#line 230
    handshake |= 4;
  } else {
#line 230
    handshake &= -5;
  }
  {
#line 231
  tmp___4 = ioctl(fDescr, 21528UL, & handshake);
  }
#line 231
  if (tmp___4 == -1) {
#line 231
    return (-1);
  }
#line 232
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
  {
#line 234
  tmp___5 = tcsetattr(fDescr, 0, (struct termios  const  *)(& options));
  }
#line 234
  if (tmp___5 == -1) {
#line 234
    return (-1);
  }
#line 235
  return (0);
}
}
#line 238 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int SerialPortGetOption(int portNum , int optionNum ) 
{ 
  int fDescr ;
  int handshake ;
  struct termios options ;
  int tmp ;
  int tmp___0 ;
  speed_t tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;

  {
  {
#line 239
  handshake = -1;
#line 242
  fDescr = FileDescrForEntry(portNum);
  }
#line 242
  if (fDescr < 0) {
#line 242
    return (-1);
  }
  {
#line 243
  tmp = tcgetattr(fDescr, & options);
  }
#line 243
  if (tmp == -1) {
#line 243
    return (-1);
  }
  {
#line 244
  tmp___0 = ioctl(fDescr, 21525UL, & handshake);
  }
#line 244
  if (tmp___0 == -1) {
#line 244
    return (-1);
  }
  {
#line 247
  if (optionNum == 1) {
#line 247
    goto case_1;
  }
#line 248
  if (optionNum == 2) {
#line 248
    goto case_2;
  }
#line 254
  if (optionNum == 3) {
#line 254
    goto case_3;
  }
#line 255
  if (optionNum == 4) {
#line 255
    goto case_4;
  }
#line 258
  if (optionNum == 5) {
#line 258
    goto case_5;
  }
#line 262
  if (optionNum == 6) {
#line 262
    goto case_6;
  }
#line 267
  if (optionNum == 20) {
#line 267
    goto case_20;
  }
#line 268
  if (optionNum == 21) {
#line 268
    goto case_21;
  }
#line 269
  if (optionNum == 22) {
#line 269
    goto case_22;
  }
#line 270
  if (optionNum == 23) {
#line 270
    goto case_23;
  }
#line 271
  if (optionNum == 24) {
#line 271
    goto case_24;
  }
#line 272
  if (optionNum == 25) {
#line 272
    goto case_25;
  }
#line 246
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 247
  tmp___1 = cfgetispeed((struct termios  const  *)(& options));
  }
#line 247
  return ((int )tmp___1);
  case_2: /* CIL Label */ 
#line 249
  if ((options.c_cflag & 48U) == 0U) {
#line 249
    return (5);
  }
#line 250
  if ((options.c_cflag & 48U) == 16U) {
#line 250
    return (6);
  }
#line 251
  if ((options.c_cflag & 48U) == 32U) {
#line 251
    return (7);
  }
#line 252
  if ((options.c_cflag & 48U) == 48U) {
#line 252
    return (8);
  }
#line 253
  return (-1);
  case_3: /* CIL Label */ 
#line 254
  if (options.c_cflag & 64U) {
#line 254
    tmp___2 = 2;
  } else {
#line 254
    tmp___2 = 1;
  }
#line 254
  return (tmp___2);
  case_4: /* CIL Label */ 
#line 256
  if (! (options.c_cflag & 256U)) {
#line 256
    return (0);
  }
#line 257
  if (options.c_cflag & 512U) {
#line 257
    tmp___3 = 1;
  } else {
#line 257
    tmp___3 = 2;
  }
#line 257
  return (tmp___3);
  case_5: /* CIL Label */ 
#line 259
  if (options.c_iflag & 4096U) {
#line 259
    return (1);
  }
#line 260
  if (options.c_cflag & 2147483648U) {
#line 260
    return (2);
  }
#line 261
  return (0);
  case_6: /* CIL Label */ 
#line 263
  if (options.c_iflag & 1024U) {
#line 263
    return (1);
  }
#line 264
  if (options.c_cflag & 2147483648U) {
#line 264
    return (2);
  }
#line 265
  return (0);
  case_20: /* CIL Label */ 
#line 267
  return ((handshake & 2) > 0);
  case_21: /* CIL Label */ 
#line 268
  return ((handshake & 4) > 0);
  case_22: /* CIL Label */ 
#line 269
  return ((handshake & 32) > 0);
  case_23: /* CIL Label */ 
#line 270
  return ((handshake & 256) > 0);
  case_24: /* CIL Label */ 
#line 271
  return ((handshake & 64) > 0);
  case_25: /* CIL Label */ 
#line 272
  return ((handshake & 128) > 0);
  switch_break: /* CIL Label */ ;
  }
#line 274
  return (-1);
}
}
#line 281 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int FileDescrForEntry(int portNum ) 
{ 


  {
#line 282
  if (portNum < 0) {
#line 282
    return (-1);
  } else
#line 282
  if (portNum >= 32) {
#line 282
    return (-1);
  }
#line 283
  return (gFileDescr[portNum]);
}
}
#line 288 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int OpenPortNamed(char const   *bsdPath , int baudRate , int entryIndex ) 
{ 
  int fDescr ;
  struct termios options ;
  int *tmp ;
  int *tmp___0 ;
  char *tmp___1 ;
  int *tmp___2 ;
  int *tmp___3 ;
  char *tmp___4 ;
  int tmp___5 ;
  int *tmp___6 ;
  int *tmp___7 ;
  char *tmp___8 ;
  int tmp___9 ;
  int *tmp___10 ;
  int *tmp___11 ;
  char *tmp___12 ;
  int tmp___13 ;
  int *tmp___14 ;
  int *tmp___15 ;
  char *tmp___16 ;
  int tmp___17 ;

  {
  {
#line 289
  fDescr = -1;
#line 293
  fDescr = open(bsdPath, 2306);
  }
#line 294
  if (fDescr == -1) {
    {
#line 295
    tmp = __errno_location();
#line 295
    tmp___0 = __errno_location();
#line 295
    tmp___1 = strerror(*tmp___0);
#line 295
    printf((char const   */* __restrict  */)"Error opening serial port %s - %s(%d).\n",
           bsdPath, tmp___1, *tmp);
    }
#line 296
    goto error;
  }
  {
#line 300
  tmp___5 = ioctl(fDescr, 21516UL);
  }
#line 300
  if (tmp___5 == -1) {
    {
#line 301
    tmp___2 = __errno_location();
#line 301
    tmp___3 = __errno_location();
#line 301
    tmp___4 = strerror(*tmp___3);
#line 301
    printf((char const   */* __restrict  */)"Error setting TIOCEXCL on %s - %s(%d).\n",
           bsdPath, tmp___4, *tmp___2);
    }
#line 302
    goto error;
  }
  {
#line 306
  tmp___9 = tcgetattr(fDescr, & gOrigTermios[entryIndex]);
  }
#line 306
  if (tmp___9 == -1) {
    {
#line 307
    tmp___6 = __errno_location();
#line 307
    tmp___7 = __errno_location();
#line 307
    tmp___8 = strerror(*tmp___7);
#line 307
    printf((char const   */* __restrict  */)"Error getting attributes %s - %s(%d).\n",
           bsdPath, tmp___8, *tmp___6);
    }
#line 308
    goto error;
  }
  {
#line 313
  options = gOrigTermios[entryIndex];
#line 316
  tmp___13 = cfsetspeed(& options, (speed_t )baudRate);
  }
#line 316
  if (tmp___13 == -1) {
    {
#line 317
    tmp___10 = __errno_location();
#line 317
    tmp___11 = __errno_location();
#line 317
    tmp___12 = strerror(*tmp___11);
#line 317
    printf((char const   */* __restrict  */)"Error setting speed %d %s - %s(%d).\n",
           baudRate, bsdPath, tmp___12, *tmp___10);
    }
#line 318
    goto error;
  }
  {
#line 322
  cfmakeraw(& options);
#line 323
  options.c_cc[6] = (cc_t )0;
#line 324
  options.c_cc[5] = (cc_t )0;
#line 327
  tmp___17 = tcsetattr(fDescr, 0, (struct termios  const  *)(& options));
  }
#line 327
  if (tmp___17 == -1) {
    {
#line 328
    tmp___14 = __errno_location();
#line 328
    tmp___15 = __errno_location();
#line 328
    tmp___16 = strerror(*tmp___15);
#line 328
    printf((char const   */* __restrict  */)"Error setting attributes %s - %s(%d).\n",
           bsdPath, tmp___16, *tmp___14);
    }
#line 329
    goto error;
  }
#line 331
  gFileDescr[entryIndex] = fDescr;
#line 332
  return (1);
  error: 
#line 335
  if (fDescr != -1) {
    {
#line 335
    close(fDescr);
    }
  }
#line 336
  return (0);
}
}
#line 339 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int isSerialPortDev(char *s ) 
{ 
  int tmp ;

  {
  {
#line 340
  tmp = isPrefix((char *)"ttyusb", s);
  }
#line 340
  return (tmp);
}
}
#line 343 "/home/june/repo/benchmarks/collector/temp/scratch-1.4.0.6~dfsg1/src/plugins/scratch/unixSeriaPort2Ops.c"
int isPrefix(char *prefix , char *s ) 
{ 
  int prefixC ;
  int c ;
  char *tmp ;
  char *tmp___0 ;

  {
  {
#line 345
  while (1) {
    while_continue: /* CIL Label */ ;
#line 346
    tmp = prefix;
#line 346
    prefix ++;
#line 346
    prefixC = (int )*tmp;
#line 347
    tmp___0 = s;
#line 347
    s ++;
#line 347
    c = (int )*tmp___0;
#line 348
    if (prefixC == 0) {
#line 348
      return (1);
    }
#line 349
    if (c == 0) {
#line 349
      return (0);
    }
#line 350
    if (c != prefixC) {
#line 351
      if (97 <= c) {
#line 351
        if (c <= 122) {
#line 351
          c -= 32;
        }
      }
#line 352
      if (97 <= prefixC) {
#line 352
        if (prefixC <= 122) {
#line 352
          prefixC -= 32;
        }
      }
#line 353
      if (c != prefixC) {
#line 353
        return (0);
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
