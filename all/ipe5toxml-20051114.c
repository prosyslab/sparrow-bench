/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 44
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 144 "/usr/include/libio.h"
struct _IO_FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 36 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _IpeColor {
   double red ;
   double green ;
   double blue ;
};
#line 36 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _IpeColor IpeColor;
#line 47 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef int bool;
#line 48 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct __anonstruct_vertex_28 {
   double x ;
   double y ;
};
#line 48 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct __anonstruct_vertex_28 vertex;
#line 49 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct __anonstruct_bbox_29 {
   double xmin ;
   double xmax ;
   double ymin ;
   double ymax ;
};
#line 49 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct __anonstruct_bbox_29 bbox;
#line 53 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _IpeEnvironment {
   IpeColor stroke ;
   IpeColor fill ;
   unsigned short linestyle ;
   double linewidth ;
   short arrow ;
   double arsize ;
   double marksize ;
   double gridsize ;
   double snapangle ;
   short marktype ;
   short font ;
   double fontsize ;
   bool axisset ;
   vertex origin ;
   double axisdir ;
};
#line 53 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _IpeEnvironment IpeEnvironment;
#line 70 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _Line {
   bool closed ;
   short arrow ;
   double arsize ;
   int n ;
   vertex *v ;
   char *vtype ;
};
#line 70 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _Line Line;
#line 80 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _Circle {
   vertex center ;
   double radius ;
   bool ellipse ;
   double tfm[4] ;
};
#line 80 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _Circle Circle;
#line 87 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _Mark {
   vertex pos ;
   short type ;
   double size ;
};
#line 87 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _Mark Mark;
#line 93 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _Arc {
   short arrow ;
   double arsize ;
   vertex center ;
   double radius ;
   double begangle ;
   double endangle ;
};
#line 93 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _Arc Arc;
#line 101 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _Text {
   char *str ;
   short font ;
   double fontsize ;
   vertex pos ;
   bool minipage ;
   vertex ll ;
   vertex ur ;
};
#line 101 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _Text Text;
#line 110 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _Bitmap {
   vertex ll ;
   vertex ur ;
   short width ;
   short height ;
   unsigned long *words ;
   bool in_color ;
};
#line 110 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _Bitmap Bitmap;
#line 117 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
union W {
   Line *line ;
   Circle *circle ;
   Mark *mark ;
   Text *text ;
   Arc *arc ;
   Bitmap *bitmap ;
};
#line 117 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct _IpeObject {
   int type ;
   IpeColor stroke ;
   IpeColor fill ;
   unsigned short linestyle ;
   double linewidth ;
   struct _IpeObject *next ;
   union W w ;
};
#line 117 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
typedef struct _IpeObject IpeObject;
#line 221 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
struct __anonstruct_rd_30 {
   bool closed ;
   vertex xy ;
   bool minipage ;
   double wd ;
   double ht ;
   double dp ;
   double radius ;
   double begangle ;
   double endangle ;
   char *str ;
   int n ;
   vertex *v ;
   char *vtype ;
   bool ellipse ;
   double tfm[4] ;
   unsigned long *words ;
   int xbits ;
   int ybits ;
   bool bmcolor ;
};
#line 170 "/usr/include/stdio.h"
extern struct _IO_FILE *stderr ;
#line 237
extern int fclose(FILE *__stream ) ;
#line 272
extern FILE *fopen(char const   * __restrict  __filename , char const   * __restrict  __modes ) ;
#line 356
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 425
extern int fscanf(FILE * __restrict  __stream , char const   * __restrict  __format 
                  , ...)  __asm__("__isoc99_fscanf")  ;
#line 531
extern int fgetc(FILE *__stream ) ;
#line 573
extern int fputc(int __c , FILE *__stream ) ;
#line 622
extern char *fgets(char * __restrict  __s , int __n , FILE * __restrict  __stream ) ;
#line 709
extern size_t fread(void * __restrict  __ptr , size_t __size , size_t __n , FILE * __restrict  __stream ) ;
#line 183 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__)) long ( __attribute__((__nonnull__(1), __leaf__)) strtol)(char const   * __restrict  __nptr ,
                                                                                              char ** __restrict  __endptr ,
                                                                                              int __base ) ;
#line 466
extern  __attribute__((__nothrow__)) void *( __attribute__((__leaf__)) malloc)(size_t __size )  __attribute__((__malloc__)) ;
#line 483
extern  __attribute__((__nothrow__)) void ( __attribute__((__leaf__)) free)(void *__ptr ) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 129 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcpy)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 137
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strcat)(char * __restrict  __dest ,
                                                                                                 char const   * __restrict  __src ) ;
#line 144
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1,2), __leaf__)) strcmp)(char const   *__s1 ,
                                                                                               char const   *__s2 )  __attribute__((__pure__)) ;
#line 176
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1), __leaf__)) strdup)(char const   *__s )  __attribute__((__malloc__)) ;
#line 342
extern  __attribute__((__nothrow__)) char *( __attribute__((__nonnull__(1,2), __leaf__)) strstr)(char const   *__haystack ,
                                                                                                 char const   *__needle )  __attribute__((__pure__)) ;
#line 399
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1), __leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 79 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **( __attribute__((__leaf__)) __ctype_b_loc)(void)  __attribute__((__const__)) ;
#line 63 "/usr/include/x86_64-linux-gnu/bits/mathcalls.h"
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) cos)(double __x ) ;
#line 65
extern  __attribute__((__nothrow__)) double ( __attribute__((__leaf__)) sin)(double __x ) ;
#line 29 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
double const   SPLINE_MULTI_THRESHOLD_SQUARED  =    (double const   )0.01;
#line 31 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
double const   IpePi  =    (double const   )3.1415926535897932385;
#line 137 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
IpeEnvironment ipe_environment  ;
#line 141 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
IpeObject *ium_input  ;
#line 142 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
IpeObject *ium_output  ;
#line 178 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static char *ipename  ;
#line 179 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static char *xmlname  ;
#line 180 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static FILE *fh  ;
#line 181 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static char linebuf[1024]  ;
#line 182 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static int grouplevel  =    0;
#line 183 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static int firstpage  =    0;
#line 184 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static bool in_settings  =    1;
#line 188 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static char *read_next(void) 
{ 
  int ch2 ;
  int ch1 ;
  int ch ;
  char *p ;
  unsigned short const   **tmp ;
  unsigned short const   **tmp___0 ;
  int tmp___1 ;
  unsigned short const   **tmp___2 ;
  int tmp___3 ;

  {
#line 194
  ch = ' ';
#line 194
  ch1 = ch;
#line 194
  ch2 = ch1;
  {
#line 196
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 196
    ch = fgetc(fh);
    }
#line 196
    if (ch != -1) {
#line 196
      if (ch1 == 37) {
        {
#line 196
        tmp = __ctype_b_loc();
        }
#line 196
        if ((int const   )*(*tmp + ch2) & 8192) {
          {
#line 196
          tmp___0 = __ctype_b_loc();
          }
#line 196
          if ((int const   )*(*tmp___0 + ch) & 8192) {
#line 196
            goto while_break;
          }
        }
      }
    } else {
#line 196
      goto while_break;
    }
#line 198
    ch2 = ch1;
#line 199
    ch1 = ch;
  }
  while_break: /* CIL Label */ ;
  }
#line 202
  if (ch == -1) {
    {
#line 204
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Error reading IPE file %s\n",
            ipename);
#line 205
    exit(9);
    }
  }
#line 210
  p = linebuf;
  {
#line 211
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 211
    tmp___1 = fgetc(fh);
#line 211
    *p = (char )tmp___1;
#line 211
    tmp___2 = __ctype_b_loc();
    }
#line 211
    if ((int const   )*(*tmp___2 + (int )*p) & 8192) {
#line 211
      tmp___3 = 0;
    } else {
#line 211
      tmp___3 = 1;
    }
#line 211
    if (! tmp___3) {
#line 211
      goto while_break___0;
    }
#line 212
    p ++;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 213
  *p = (char )'\000';
#line 216
  return (linebuf);
}
}
#line 221 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static struct __anonstruct_rd_30 rd  ;
#line 239 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void read_env(IpeEnvironment *ienv ) 
{ 
  char *wk ;
  double x ;
  double y ;
  int i ;
  double tmp ;
  double tmp___0 ;
  double tmp___1 ;
  double tmp___2 ;
  double tmp___3 ;
  double tmp___4 ;
  int ch ;
  void *tmp___5 ;
  void *tmp___6 ;
  unsigned short const   **tmp___7 ;
  size_t tmp___8 ;
  char *ns ;
  size_t tmp___9 ;
  size_t tmp___10 ;
  void *tmp___11 ;
  unsigned long nwords ;
  long i___0 ;
  long incolor ;
  long nchars ;
  int ch___0 ;
  int mode ;
  char *p ;
  char *strbits ;
  char buf[3] ;
  short red ;
  short green ;
  short blue ;
  void *tmp___12 ;
  size_t tmp___13 ;
  register char *inp ;
  register char *end ;
  register unsigned long *out ;
  char *pix ;
  void *tmp___14 ;
  size_t tmp___15 ;
  unsigned long *tmp___16 ;
  int tmp___17 ;
  void *tmp___18 ;
  char *tmp___19 ;
  void *tmp___20 ;
  char *tmp___21 ;
  char *tmp___22 ;
  long tmp___23 ;
  char *tmp___24 ;
  char *tmp___25 ;
  long tmp___26 ;
  char *tmp___27 ;
  char *tmp___28 ;
  long tmp___29 ;
  long tmp___30 ;
  long tmp___31 ;
  int tmp___32 ;
  int tmp___33 ;
  int tmp___34 ;
  int tmp___35 ;
  int tmp___36 ;
  int tmp___37 ;
  int tmp___38 ;
  int tmp___39 ;
  int tmp___40 ;
  int tmp___41 ;
  int tmp___42 ;
  int tmp___43 ;
  int tmp___44 ;
  int tmp___45 ;
  int tmp___46 ;
  int tmp___47 ;
  int tmp___48 ;
  int tmp___49 ;
  int tmp___50 ;
  int tmp___51 ;
  int tmp___52 ;
  int tmp___53 ;
  int tmp___54 ;

  {
#line 245
  tmp___0 = (double )-1;
#line 245
  ienv->stroke.blue = tmp___0;
#line 245
  tmp = tmp___0;
#line 245
  ienv->stroke.green = tmp;
#line 245
  ienv->stroke.red = tmp;
#line 246
  tmp___2 = (double )-1;
#line 246
  ienv->fill.blue = tmp___2;
#line 246
  tmp___1 = tmp___2;
#line 246
  ienv->fill.green = tmp___1;
#line 246
  ienv->fill.red = tmp___1;
#line 247
  ienv->linestyle = (unsigned short)0;
#line 248
  ienv->linewidth = 0.4;
#line 249
  ienv->arrow = (short)0;
#line 250
  ienv->axisset = 0;
#line 251
  rd.closed = 0;
#line 253
  rd.tfm[3] = 1.0;
#line 253
  rd.tfm[0] = rd.tfm[3];
#line 254
  rd.tfm[2] = 0.0;
#line 254
  rd.tfm[1] = rd.tfm[2];
#line 255
  rd.minipage = 0;
#line 256
  rd.ellipse = 0;
#line 257
  rd.str = (char *)((void *)0);
#line 258
  rd.v = (vertex *)((void *)0);
#line 259
  rd.vtype = (char *)((void *)0);
  {
#line 261
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 262
    wk = read_next();
#line 263
    tmp___54 = strcmp((char const   *)wk, "sk");
    }
#line 263
    if (tmp___54) {
      {
#line 266
      tmp___53 = strcmp((char const   *)wk, "fi");
      }
#line 266
      if (tmp___53) {
        {
#line 269
        tmp___52 = strcmp((char const   *)wk, "skc");
        }
#line 269
        if (tmp___52) {
          {
#line 272
          tmp___51 = strcmp((char const   *)wk, "fic");
          }
#line 272
          if (tmp___51) {
            {
#line 275
            tmp___50 = strcmp((char const   *)wk, "ss");
            }
#line 275
            if (tmp___50) {
              {
#line 277
              tmp___49 = strcmp((char const   *)wk, "ar");
              }
#line 277
              if (tmp___49) {
                {
#line 279
                tmp___48 = strcmp((char const   *)wk, "cl");
                }
#line 279
                if (tmp___48) {
                  {
#line 281
                  tmp___47 = strcmp((char const   *)wk, "f");
                  }
#line 281
                  if (tmp___47) {
                    {
#line 283
                    tmp___46 = strcmp((char const   *)wk, "grid");
                    }
#line 283
                    if (tmp___46) {
                      {
#line 285
                      tmp___45 = strcmp((char const   *)wk, "ty");
                      }
#line 285
                      if (tmp___45) {
                        {
#line 287
                        tmp___44 = strcmp((char const   *)wk, "sz");
                        }
#line 287
                        if (tmp___44) {
                          {
#line 289
                          tmp___43 = strcmp((char const   *)wk, "xy");
                          }
#line 289
                          if (tmp___43) {
                            {
#line 292
                            tmp___42 = strcmp((char const   *)wk, "px");
                            }
#line 292
                            if (tmp___42) {
                              {
#line 294
                              tmp___41 = strcmp((char const   *)wk, "bb");
                              }
#line 294
                              if (tmp___41) {
                                {
#line 298
                                tmp___40 = strcmp((char const   *)wk, "tbb");
                                }
#line 298
                                if (tmp___40) {
                                  {
#line 301
                                  tmp___39 = strcmp((char const   *)wk, "ang");
                                  }
#line 301
                                  if (tmp___39) {
                                    {
#line 303
                                    tmp___38 = strcmp((char const   *)wk, "r");
                                    }
#line 303
                                    if (tmp___38) {
                                      {
#line 305
                                      tmp___37 = strcmp((char const   *)wk, "tfm");
                                      }
#line 305
                                      if (tmp___37) {
                                        {
#line 308
                                        tmp___36 = strcmp((char const   *)wk, "axis");
                                        }
#line 308
                                        if (tmp___36) {
                                          {
#line 312
                                          tmp___35 = strcmp((char const   *)wk, "#");
                                          }
#line 312
                                          if (tmp___35) {
                                            {
#line 334
                                            tmp___34 = strcmp((char const   *)wk,
                                                              "s");
                                            }
#line 334
                                            if (tmp___34) {
                                              {
#line 349
                                              tmp___33 = strcmp((char const   *)wk,
                                                                "bits");
                                              }
#line 349
                                              if (tmp___33) {
                                                {
#line 432
                                                tmp___32 = strcmp((char const   *)wk,
                                                                  "End");
                                                }
#line 432
                                                if (tmp___32) {
#line 435
                                                  if (in_settings) {
                                                    {
#line 437
                                                    fgets((char */* __restrict  */)(linebuf),
                                                          1024, (FILE */* __restrict  */)fh);
                                                    }
                                                  } else {
                                                    {
#line 440
                                                    fprintf((FILE */* __restrict  */)stderr,
                                                            (char const   */* __restrict  */)"Illegal keyword %s in IPE file %s\n",
                                                            wk, ipename);
#line 442
                                                    exit(9);
                                                    }
                                                  }
                                                } else {
#line 433
                                                  return;
                                                }
                                              } else {
                                                {
#line 357
                                                fscanf((FILE */* __restrict  */)fh,
                                                       (char const   */* __restrict  */)"%ld%d",
                                                       & nwords, & mode);
#line 358
                                                incolor = (long )(mode & 1);
                                                }
#line 359
                                                if (mode & 8) {
                                                  {
#line 361
                                                  while (1) {
                                                    while_continue___0: /* CIL Label */ ;
                                                    {
#line 362
                                                    ch___0 = fgetc(fh);
                                                    }
#line 362
                                                    if (ch___0 == -1) {
                                                      {
#line 363
                                                      fprintf((FILE */* __restrict  */)stderr,
                                                              (char const   */* __restrict  */)"EOF while reading RAW bitmap\n");
#line 364
                                                      exit(9);
                                                      }
                                                    }
#line 361
                                                    if (! (ch___0 != 10)) {
#line 361
                                                      goto while_break___0;
                                                    }
                                                  }
                                                  while_break___0: /* CIL Label */ ;
                                                  }
#line 367
                                                  if (incolor) {
#line 367
                                                    rd.bmcolor = 1;
                                                  } else {
#line 367
                                                    rd.bmcolor = 0;
                                                  }
                                                  {
#line 368
                                                  tmp___12 = malloc(nwords * sizeof(unsigned long ));
#line 368
                                                  rd.words = (unsigned long *)tmp___12;
                                                  }
#line 369
                                                  if (mode & 1) {
                                                    {
#line 371
                                                    tmp___13 = fread((void */* __restrict  */)((void *)rd.words),
                                                                     sizeof(unsigned long ),
                                                                     (size_t )((unsigned int )nwords),
                                                                     (FILE */* __restrict  */)fh);
                                                    }
#line 371
                                                    if (tmp___13 != nwords) {
                                                      {
#line 374
                                                      fprintf((FILE */* __restrict  */)stderr,
                                                              (char const   */* __restrict  */)"Error reading RAW bitmap\n");
#line 375
                                                      exit(9);
                                                      }
                                                    }
                                                  } else {
                                                    {
#line 381
                                                    tmp___14 = malloc(nwords * sizeof(char ));
#line 381
                                                    pix = (char *)tmp___14;
#line 382
                                                    tmp___15 = fread((void */* __restrict  */)((void *)pix),
                                                                     sizeof(char ),
                                                                     (size_t )((unsigned int )nwords),
                                                                     (FILE */* __restrict  */)fh);
                                                    }
#line 382
                                                    if (tmp___15 != nwords) {
                                                      {
#line 384
                                                      fprintf((FILE */* __restrict  */)stderr,
                                                              (char const   */* __restrict  */)"Error reading RAW bitmap\n");
#line 385
                                                      exit(9);
                                                      }
                                                    }
#line 388
                                                    inp = pix;
#line 389
                                                    end = pix + nwords;
#line 390
                                                    out = rd.words;
                                                    {
#line 391
                                                    while (1) {
                                                      while_continue___1: /* CIL Label */ ;
#line 391
                                                      if (! ((unsigned long )inp < (unsigned long )end)) {
#line 391
                                                        goto while_break___1;
                                                      }
#line 392
                                                      tmp___16 = out;
#line 392
                                                      out ++;
#line 392
                                                      *tmp___16 = (unsigned long )((((int )*inp << 16) | ((int )*inp << 8)) | (int )*inp);
#line 393
                                                      inp ++;
                                                    }
                                                    while_break___1: /* CIL Label */ ;
                                                    }
                                                    {
#line 395
                                                    free((void *)pix);
                                                    }
                                                  }
                                                } else {
#line 399
                                                  if (incolor) {
#line 399
                                                    tmp___17 = 6;
                                                  } else {
#line 399
                                                    tmp___17 = 2;
                                                  }
                                                  {
#line 399
                                                  nchars = (long )((unsigned long )tmp___17 * nwords);
#line 400
                                                  tmp___18 = malloc((unsigned long )nchars * sizeof(char ));
#line 400
                                                  strbits = (char *)tmp___18;
#line 400
                                                  p = strbits;
#line 401
                                                  i___0 = 0L;
                                                  }
                                                  {
#line 401
                                                  while (1) {
                                                    while_continue___2: /* CIL Label */ ;
#line 401
                                                    if (! (i___0 < nchars)) {
#line 401
                                                      goto while_break___2;
                                                    }
                                                    {
#line 402
                                                    while (1) {
                                                      while_continue___3: /* CIL Label */ ;
                                                      {
#line 403
                                                      ch___0 = fgetc(fh);
                                                      }
#line 403
                                                      if (ch___0 == -1) {
                                                        {
#line 404
                                                        fprintf((FILE */* __restrict  */)stderr,
                                                                (char const   */* __restrict  */)"EOF while reading bitmap\n");
#line 405
                                                        exit(9);
                                                        }
                                                      }
#line 402
                                                      if (48 <= ch___0) {
#line 402
                                                        if (ch___0 <= 57) {
#line 402
                                                          goto while_break___3;
                                                        } else {
#line 402
                                                          goto _L;
                                                        }
                                                      } else
                                                      _L: /* CIL Label */ 
#line 402
                                                      if (97 <= ch___0) {
#line 402
                                                        if (ch___0 <= 102) {
#line 402
                                                          goto while_break___3;
                                                        }
                                                      }
                                                    }
                                                    while_break___3: /* CIL Label */ ;
                                                    }
#line 408
                                                    tmp___19 = p;
#line 408
                                                    p ++;
#line 408
                                                    *tmp___19 = (char )ch___0;
#line 401
                                                    i___0 ++;
                                                  }
                                                  while_break___2: /* CIL Label */ ;
                                                  }
                                                  {
#line 410
                                                  p = strbits;
#line 411
                                                  tmp___20 = malloc(nwords * sizeof(unsigned long ));
#line 411
                                                  rd.words = (unsigned long *)tmp___20;
                                                  }
#line 412
                                                  if (incolor) {
#line 412
                                                    rd.bmcolor = 1;
                                                  } else {
#line 412
                                                    rd.bmcolor = 0;
                                                  }
#line 413
                                                  buf[2] = (char )'\000';
#line 414
                                                  i___0 = 0L;
                                                  {
#line 414
                                                  while (1) {
                                                    while_continue___4: /* CIL Label */ ;
#line 414
                                                    if (! (i___0 < (long )((int )nwords))) {
#line 414
                                                      goto while_break___4;
                                                    }
                                                    {
#line 415
                                                    tmp___21 = p;
#line 415
                                                    p ++;
#line 415
                                                    buf[0] = *tmp___21;
#line 416
                                                    tmp___22 = p;
#line 416
                                                    p ++;
#line 416
                                                    buf[1] = *tmp___22;
#line 417
                                                    tmp___23 = strtol((char const   */* __restrict  */)(buf),
                                                                      (char **/* __restrict  */)((void *)0),
                                                                      16);
#line 417
                                                    red = (short )tmp___23;
                                                    }
#line 418
                                                    if (incolor) {
                                                      {
#line 419
                                                      tmp___24 = p;
#line 419
                                                      p ++;
#line 419
                                                      buf[0] = *tmp___24;
#line 420
                                                      tmp___25 = p;
#line 420
                                                      p ++;
#line 420
                                                      buf[1] = *tmp___25;
#line 421
                                                      tmp___26 = strtol((char const   */* __restrict  */)(buf),
                                                                        (char **/* __restrict  */)((void *)0),
                                                                        16);
#line 421
                                                      green = (short )tmp___26;
#line 422
                                                      tmp___27 = p;
#line 422
                                                      p ++;
#line 422
                                                      buf[0] = *tmp___27;
#line 423
                                                      tmp___28 = p;
#line 423
                                                      p ++;
#line 423
                                                      buf[1] = *tmp___28;
#line 424
                                                      tmp___29 = strtol((char const   */* __restrict  */)(buf),
                                                                        (char **/* __restrict  */)((void *)0),
                                                                        16);
#line 424
                                                      blue = (short )tmp___29;
#line 425
                                                      tmp___30 = i___0;
#line 425
                                                      i___0 ++;
#line 425
                                                      *(rd.words + tmp___30) = (unsigned long )(((int )blue * 65536 | (int )green * 256) | (int )red);
                                                      }
                                                    } else {
#line 427
                                                      tmp___31 = i___0;
#line 427
                                                      i___0 ++;
#line 427
                                                      *(rd.words + tmp___31) = (unsigned long )(((int )red * 65536 | (int )red * 256) | (int )red);
                                                    }
                                                  }
                                                  while_break___4: /* CIL Label */ ;
                                                  }
                                                  {
#line 430
                                                  free((void *)strbits);
                                                  }
                                                }
                                              }
                                            } else {
                                              {
#line 336
                                              fgets((char */* __restrict  */)(linebuf),
                                                    1024, (FILE */* __restrict  */)fh);
#line 337
                                              tmp___8 = strlen((char const   *)(linebuf));
#line 337
                                              linebuf[tmp___8 - 1UL] = (char )'\000';
                                              }
#line 338
                                              if (! rd.str) {
                                                {
#line 340
                                                rd.str = strdup((char const   *)(linebuf));
                                                }
                                              } else {
                                                {
#line 342
                                                tmp___9 = strlen((char const   *)rd.str);
#line 342
                                                tmp___10 = strlen((char const   *)(linebuf));
#line 342
                                                tmp___11 = malloc(((tmp___9 + tmp___10) + 2UL) * sizeof(char ));
#line 342
                                                ns = (char *)tmp___11;
#line 343
                                                strcpy((char */* __restrict  */)ns,
                                                       (char const   */* __restrict  */)rd.str);
#line 344
                                                strcat((char */* __restrict  */)ns,
                                                       (char const   */* __restrict  */)"\n");
#line 345
                                                strcat((char */* __restrict  */)ns,
                                                       (char const   */* __restrict  */)(linebuf));
#line 346
                                                free((void *)rd.str);
#line 347
                                                rd.str = ns;
                                                }
                                              }
                                            }
                                          } else {
                                            {
#line 315
                                            fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%d",
                                                   & rd.n);
#line 316
                                            tmp___5 = malloc((unsigned long )rd.n * sizeof(vertex ));
#line 316
                                            rd.v = (vertex *)tmp___5;
#line 317
                                            tmp___6 = malloc((unsigned long )rd.n * sizeof(char ));
#line 317
                                            rd.vtype = (char *)tmp___6;
#line 318
                                            i = 0;
                                            }
                                            {
#line 318
                                            while (1) {
                                              while_continue___5: /* CIL Label */ ;
#line 318
                                              if (! (i < rd.n)) {
#line 318
                                                goto while_break___5;
                                              }
                                              {
#line 319
                                              fscanf((FILE */* __restrict  */)fh,
                                                     (char const   */* __restrict  */)"%lf%lf",
                                                     & x, & y);
#line 320
                                              (rd.v + i)->x = x;
#line 320
                                              (rd.v + i)->y = y;
                                              }
                                              {
#line 322
                                              while (1) {
                                                while_continue___6: /* CIL Label */ ;
                                                {
#line 323
                                                ch = fgetc(fh);
                                                }
#line 322
                                                if (ch != -1) {
                                                  {
#line 322
                                                  tmp___7 = __ctype_b_loc();
                                                  }
#line 322
                                                  if ((int const   )*(*tmp___7 + ch) & 8192) {
#line 322
                                                    if (! (ch != 10)) {
#line 322
                                                      goto while_break___6;
                                                    }
                                                  } else {
#line 322
                                                    goto while_break___6;
                                                  }
                                                } else {
#line 322
                                                  goto while_break___6;
                                                }
                                              }
                                              while_break___6: /* CIL Label */ ;
                                              }
#line 325
                                              if (ch == 10) {
#line 326
                                                *(rd.vtype + i) = (char )' ';
                                              } else {
#line 328
                                                *(rd.vtype + i) = (char )(ch & 255);
                                                {
#line 330
                                                while (1) {
                                                  while_continue___7: /* CIL Label */ ;
                                                  {
#line 330
                                                  ch = fgetc(fh);
                                                  }
#line 330
                                                  if (ch != -1) {
#line 330
                                                    if (! (ch != 10)) {
#line 330
                                                      goto while_break___7;
                                                    }
                                                  } else {
#line 330
                                                    goto while_break___7;
                                                  }
                                                }
                                                while_break___7: /* CIL Label */ ;
                                                }
                                              }
#line 318
                                              i ++;
                                            }
                                            while_break___5: /* CIL Label */ ;
                                            }
                                          }
                                        } else {
                                          {
#line 309
                                          ienv->axisset = 1;
#line 310
                                          fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf%lf",
                                                 & x, & y, & ienv->axisdir);
#line 311
                                          ienv->origin.x = x;
#line 311
                                          ienv->origin.y = y;
                                          }
                                        }
                                      } else {
                                        {
#line 306
                                        rd.ellipse = 1;
#line 307
                                        fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf%lf%lf",
                                               & rd.tfm[0], & rd.tfm[1], & rd.tfm[2],
                                               & rd.tfm[3]);
                                        }
                                      }
                                    } else {
                                      {
#line 304
                                      fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf",
                                             & rd.radius);
                                      }
                                    }
                                  } else {
                                    {
#line 302
                                    fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf",
                                           & rd.begangle, & rd.endangle);
                                    }
                                  }
                                } else {
                                  {
#line 299
                                  rd.minipage = 0;
#line 300
                                  fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf%lf",
                                         & rd.wd, & rd.ht, & rd.dp);
                                  }
                                }
                              } else {
                                {
#line 295
                                rd.minipage = 1;
#line 296
                                fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf",
                                       & rd.wd, & rd.ht);
#line 297
                                rd.dp = rd.ht;
                                }
                              }
                            } else {
                              {
#line 293
                              fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%d%d",
                                     & rd.xbits, & rd.ybits);
                              }
                            }
                          } else {
                            {
#line 290
                            fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf",
                                   & x, & y);
#line 291
                            rd.xy.x = x;
#line 291
                            rd.xy.y = y;
                            }
                          }
                        } else {
                          {
#line 288
                          fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf",
                                 & ienv->marksize);
                          }
                        }
                      } else {
                        {
#line 286
                        fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%hu",
                               & ienv->marktype);
                        }
                      }
                    } else {
                      {
#line 284
                      fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf",
                             & ienv->gridsize, & ienv->snapangle);
                      }
                    }
                  } else {
                    {
#line 282
                    fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%hu%lf",
                           & ienv->font, & ienv->fontsize);
                    }
                  }
                } else {
#line 280
                  rd.closed = 1;
                }
              } else {
                {
#line 278
                fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%hu%lf",
                       & ienv->arrow, & ienv->arsize);
                }
              }
            } else {
              {
#line 276
              fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%hu%lf",
                     & ienv->linestyle, & ienv->linewidth);
              }
            }
          } else {
            {
#line 273
            fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf%lf",
                   & ienv->fill.red, & ienv->fill.green, & ienv->fill.blue);
            }
          }
        } else {
          {
#line 270
          fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf%lf%lf",
                 & ienv->stroke.red, & ienv->stroke.green, & ienv->stroke.blue);
          }
        }
      } else {
        {
#line 267
        fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf",
               & ienv->fill.red);
#line 268
        tmp___4 = ienv->fill.red;
#line 268
        ienv->fill.green = tmp___4;
#line 268
        ienv->fill.blue = tmp___4;
        }
      }
    } else {
      {
#line 264
      fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%lf",
             & ienv->stroke.red);
#line 265
      tmp___3 = ienv->stroke.red;
#line 265
      ienv->stroke.green = tmp___3;
#line 265
      ienv->stroke.blue = tmp___3;
      }
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 448 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void addtobox(bbox *bb , double x , double y ) 
{ 


  {
#line 450
  if (x < bb->xmin) {
#line 451
    bb->xmin = x;
  }
#line 452
  if (x > bb->xmax) {
#line 453
    bb->xmax = x;
  }
#line 454
  if (y < bb->ymin) {
#line 455
    bb->ymin = y;
  }
#line 456
  if (y > bb->ymax) {
#line 457
    bb->ymax = y;
  }
#line 458
  return;
}
}
#line 460 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static IpeObject *read_entry(bbox *bb ) 
{ 
  char *wk ;
  int i ;
  IpeObject *iobj ;
  IpeEnvironment ienv ;
  void *tmp ;
  IpeObject *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  void *tmp___11 ;
  int k ;
  int i___0 ;
  void *tmp___12 ;
  void *tmp___13 ;
  void *tmp___14 ;
  void *tmp___15 ;
  void *tmp___16 ;

  {
  {
#line 467
  tmp = malloc(sizeof(IpeObject ));
#line 467
  iobj = (IpeObject *)tmp;
#line 469
  iobj->next = (struct _IpeObject *)((void *)0);
#line 471
  wk = read_next();
#line 473
  tmp___10 = strcmp((char const   *)wk, "Group");
  }
#line 473
  if (tmp___10) {
    {
#line 477
    tmp___9 = strcmp((char const   *)wk, "End");
    }
#line 477
    if (tmp___9) {
      {
#line 481
      tmp___8 = strcmp((char const   *)wk, "Line");
      }
#line 481
      if (tmp___8) {
        {
#line 483
        tmp___7 = strcmp((char const   *)wk, "Segments");
        }
#line 483
        if (tmp___7) {
          {
#line 485
          tmp___6 = strcmp((char const   *)wk, "Spline");
          }
#line 485
          if (tmp___6) {
            {
#line 487
            tmp___5 = strcmp((char const   *)wk, "Text");
            }
#line 487
            if (tmp___5) {
              {
#line 489
              tmp___4 = strcmp((char const   *)wk, "Circle");
              }
#line 489
              if (tmp___4) {
                {
#line 491
                tmp___3 = strcmp((char const   *)wk, "Arc");
                }
#line 491
                if (tmp___3) {
                  {
#line 493
                  tmp___2 = strcmp((char const   *)wk, "Mark");
                  }
#line 493
                  if (tmp___2) {
                    {
#line 495
                    tmp___1 = strcmp((char const   *)wk, "Bitmap");
                    }
#line 495
                    if (tmp___1) {
                      {
#line 498
                      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Illegal keyword %s in IPE file %s\n",
                              wk, ipename);
#line 500
                      exit(9);
                      }
                    } else {
#line 496
                      iobj->type = 5;
                    }
                  } else {
#line 494
                    iobj->type = 3;
                  }
                } else {
#line 492
                  iobj->type = 4;
                }
              } else {
#line 490
                iobj->type = 2;
              }
            } else {
#line 488
              iobj->type = 1;
            }
          } else {
#line 486
            iobj->type = 6;
          }
        } else {
#line 484
          iobj->type = 9;
        }
      } else {
#line 482
        iobj->type = 0;
      }
    } else {
#line 478
      iobj->type = 8;
#line 479
      grouplevel --;
#line 480
      if (grouplevel >= 0) {
#line 480
        tmp___0 = iobj;
      } else {
#line 480
        tmp___0 = (IpeObject *)((void *)0);
      }
#line 480
      return (tmp___0);
    }
  } else {
#line 474
    iobj->type = 7;
#line 475
    grouplevel ++;
#line 476
    return (iobj);
  }
  {
#line 504
  read_env(& ienv);
#line 507
  iobj->stroke = ienv.stroke;
#line 508
  iobj->fill = ienv.fill;
#line 509
  iobj->linestyle = ienv.linestyle;
#line 510
  iobj->linewidth = ienv.linewidth;
  }
  {
#line 516
  if (iobj->type == 6) {
#line 516
    goto case_6;
  }
#line 516
  if (iobj->type == 9) {
#line 516
    goto case_6;
  }
#line 516
  if (iobj->type == 0) {
#line 516
    goto case_6;
  }
#line 546
  if (iobj->type == 4) {
#line 546
    goto case_4;
  }
#line 557
  if (iobj->type == 2) {
#line 557
    goto case_2;
  }
#line 570
  if (iobj->type == 3) {
#line 570
    goto case_3;
  }
#line 578
  if (iobj->type == 5) {
#line 578
    goto case_5;
  }
#line 591
  if (iobj->type == 1) {
#line 591
    goto case_1;
  }
#line 512
  goto switch_break;
  case_6: /* CIL Label */ 
  case_9: /* CIL Label */ 
  case_0: /* CIL Label */ 
  {
#line 517
  tmp___11 = malloc(sizeof(Line ));
#line 517
  iobj->w.line = (Line *)tmp___11;
#line 518
  (iobj->w.line)->closed = rd.closed;
#line 519
  (iobj->w.line)->arrow = ienv.arrow;
#line 520
  (iobj->w.line)->arsize = ienv.arsize;
#line 521
  (iobj->w.line)->n = rd.n;
#line 522
  (iobj->w.line)->v = rd.v;
#line 525
  k = 0;
  }
  {
#line 525
  while (1) {
    while_continue: /* CIL Label */ ;
#line 525
    if (! (k < rd.n)) {
#line 525
      goto while_break;
    }
    {
#line 526
    addtobox(bb, (rd.v + k)->x, (rd.v + k)->y);
#line 525
    k ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 528
  (iobj->w.line)->vtype = rd.vtype;
#line 529
  if (iobj->type == 9) {
#line 532
    i___0 = 0;
    {
#line 532
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 532
      if (! (i___0 < rd.n)) {
#line 532
        goto while_break___0;
      }
      {
#line 534
      if ((int )*(rd.vtype + i___0) == 67) {
#line 534
        goto case_67;
      }
#line 534
      if ((int )*(rd.vtype + i___0) == 76) {
#line 534
        goto case_67;
      }
#line 534
      if ((int )*(rd.vtype + i___0) == 69) {
#line 534
        goto case_67;
      }
#line 534
      if ((int )*(rd.vtype + i___0) == 78) {
#line 534
        goto case_67;
      }
#line 537
      goto switch_default;
      case_67: /* CIL Label */ 
      case_76: /* CIL Label */ 
      case_69: /* CIL Label */ 
      case_78: /* CIL Label */ 
#line 536
      goto switch_break___0;
      switch_default: /* CIL Label */ 
      {
#line 538
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Illegal code \'%c\' in Segments object\n",
              (int )*(rd.vtype + i___0));
#line 540
      exit(9);
      }
      switch_break___0: /* CIL Label */ ;
      }
#line 532
      i___0 ++;
    }
    while_break___0: /* CIL Label */ ;
    }
  }
#line 544
  goto switch_break;
  case_4: /* CIL Label */ 
  {
#line 547
  tmp___12 = malloc(sizeof(Arc ));
#line 547
  iobj->w.arc = (Arc *)tmp___12;
#line 548
  (iobj->w.arc)->arrow = ienv.arrow;
#line 549
  (iobj->w.arc)->arsize = ienv.arsize;
#line 550
  (iobj->w.arc)->center = rd.xy;
#line 551
  (iobj->w.arc)->radius = rd.radius;
#line 552
  (iobj->w.arc)->begangle = rd.begangle;
#line 553
  (iobj->w.arc)->endangle = rd.endangle;
  }
#line 555
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 558
  tmp___13 = malloc(sizeof(Circle ));
#line 558
  iobj->w.circle = (Circle *)tmp___13;
#line 559
  (iobj->w.circle)->center = rd.xy;
#line 560
  (iobj->w.circle)->radius = rd.radius;
#line 561
  (iobj->w.circle)->ellipse = rd.ellipse;
#line 562
  i = 0;
  }
  {
#line 562
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 562
    if (! (i < 4)) {
#line 562
      goto while_break___1;
    }
#line 563
    (iobj->w.circle)->tfm[i] = rd.tfm[i];
#line 562
    i ++;
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 566
  addtobox(bb, rd.xy.x - rd.radius, rd.xy.y - rd.radius);
#line 567
  addtobox(bb, rd.xy.x + rd.radius, rd.xy.y + rd.radius);
  }
#line 568
  goto switch_break;
  case_3: /* CIL Label */ 
  {
#line 571
  tmp___14 = malloc(sizeof(Mark ));
#line 571
  iobj->w.mark = (Mark *)tmp___14;
#line 572
  (iobj->w.mark)->pos = rd.xy;
#line 573
  (iobj->w.mark)->type = ienv.marktype;
#line 574
  (iobj->w.mark)->size = ienv.marksize;
#line 575
  addtobox(bb, rd.xy.x, rd.xy.y);
  }
#line 576
  goto switch_break;
  case_5: /* CIL Label */ 
  {
#line 579
  tmp___15 = malloc(sizeof(Bitmap ));
#line 579
  iobj->w.bitmap = (Bitmap *)tmp___15;
#line 580
  (iobj->w.bitmap)->ll = rd.xy;
#line 581
  (iobj->w.bitmap)->width = (short )rd.xbits;
#line 582
  (iobj->w.bitmap)->height = (short )rd.ybits;
#line 583
  (iobj->w.bitmap)->words = rd.words;
#line 584
  (iobj->w.bitmap)->in_color = rd.bmcolor;
#line 585
  (iobj->w.bitmap)->ur.x = rd.xy.x + rd.wd;
#line 586
  (iobj->w.bitmap)->ur.y = rd.xy.y + rd.ht;
#line 587
  addtobox(bb, rd.xy.x, rd.xy.y);
#line 588
  addtobox(bb, rd.xy.x + rd.wd, rd.xy.y + rd.ht);
  }
#line 589
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 592
  tmp___16 = malloc(sizeof(Text ));
#line 592
  iobj->w.text = (Text *)tmp___16;
#line 593
  (iobj->w.text)->pos = rd.xy;
#line 594
  (iobj->w.text)->font = ienv.font;
#line 595
  (iobj->w.text)->fontsize = ienv.fontsize;
#line 596
  (iobj->w.text)->minipage = rd.minipage;
#line 597
  (iobj->w.text)->ll = rd.xy;
#line 598
  (iobj->w.text)->ll.y -= rd.dp;
#line 599
  (iobj->w.text)->ur = (iobj->w.text)->ll;
#line 600
  (iobj->w.text)->ur.x += rd.wd;
#line 601
  (iobj->w.text)->ur.y += rd.ht;
#line 602
  (iobj->w.text)->str = rd.str;
#line 603
  addtobox(bb, rd.xy.x, rd.xy.y - rd.dp);
#line 604
  addtobox(bb, rd.xy.x + rd.wd, (rd.xy.y + rd.ht) - rd.dp);
  }
#line 605
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 609
  return (iobj);
}
}
#line 614 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void write_color(IpeColor *color ) 
{ 


  {
#line 616
  if (color->red == color->green) {
#line 616
    if (color->red == color->blue) {
#line 617
      if (color->red == 0.0) {
        {
#line 618
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"black");
        }
      } else
#line 619
      if (color->red == 1.0) {
        {
#line 620
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"white");
        }
      } else {
        {
#line 622
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g",
                color->red);
        }
      }
    } else {
#line 616
      goto _L___3;
    }
  } else
  _L___3: /* CIL Label */ 
#line 623
  if (color->red == 1.0) {
#line 623
    if (color->green == 0.0) {
#line 623
      if (color->blue == 0.0) {
        {
#line 624
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"red");
        }
      } else {
#line 623
        goto _L___2;
      }
    } else {
#line 623
      goto _L___2;
    }
  } else
  _L___2: /* CIL Label */ 
#line 625
  if (color->red == 0.0) {
#line 625
    if (color->green == 1.0) {
#line 625
      if (color->blue == 0.0) {
        {
#line 626
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"green");
        }
      } else {
#line 625
        goto _L___0;
      }
    } else {
#line 625
      goto _L___0;
    }
  } else
  _L___0: /* CIL Label */ 
#line 627
  if (color->red == 0.0) {
#line 627
    if (color->green == 0.0) {
#line 627
      if (color->blue == 1.0) {
        {
#line 628
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"blue");
        }
      } else {
        {
#line 630
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g %g",
                color->red, color->green, color->blue);
        }
      }
    } else {
      {
#line 630
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g %g",
              color->red, color->green, color->blue);
      }
    }
  } else {
    {
#line 630
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g %g",
            color->red, color->green, color->blue);
    }
  }
#line 631
  return;
}
}
#line 633 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void write_colors(IpeObject *iobj ) 
{ 


  {
#line 635
  if (iobj->stroke.red != (double )-1) {
    {
#line 636
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" stroke=\"");
#line 637
    write_color(& iobj->stroke);
#line 638
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\"");
    }
  }
#line 640
  if (iobj->fill.red != (double )-1) {
    {
#line 641
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" fill=\"");
#line 642
    write_color(& iobj->fill);
#line 643
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\"");
    }
  }
#line 645
  return;
}
}
#line 649 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static int p[32]  ;
#line 647 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void write_dashes(short dash ) 
{ 
  int len ;
  unsigned int onoff ;
  unsigned int rot ;
  int count ;
  int good ;
  int i ;
  int k ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;

  {
#line 650
  len = 0;
#line 651
  onoff = 1U;
#line 652
  rot = (unsigned int )dash;
#line 653
  count = 0;
#line 656
  k = 0;
#line 658
  if (! (rot & 1U)) {
#line 659
    rot = 65535U ^ rot;
  }
#line 660
  i = 0;
  {
#line 660
  while (1) {
    while_continue: /* CIL Label */ ;
#line 660
    if (! (i < 16)) {
#line 660
      goto while_break;
    }
#line 661
    if (onoff != (rot & 1U)) {
#line 662
      tmp = len;
#line 662
      len ++;
#line 662
      p[tmp] = count;
#line 663
      count = 0;
#line 664
      onoff = 1U - onoff;
    }
#line 666
    rot >>= 1;
#line 667
    count ++;
#line 660
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 669
  tmp___0 = len;
#line 669
  len ++;
#line 669
  p[tmp___0] = count;
#line 670
  if (onoff) {
#line 671
    tmp___1 = len;
#line 671
    len ++;
#line 671
    p[tmp___1] = 0;
  }
#line 672
  i = 0;
  {
#line 672
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 672
    if (! (i < len)) {
#line 672
      goto while_break___0;
    }
#line 673
    p[i + len] = p[i];
#line 672
    i ++;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 675
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 676
    k ++;
#line 677
    good = 1;
#line 678
    i = 0;
    {
#line 678
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 678
      if (! (i < len)) {
#line 678
        goto while_break___2;
      }
#line 679
      if (p[i] != p[i + k]) {
#line 680
        good = 0;
      }
#line 678
      i ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 675
    if (! (! good)) {
#line 675
      goto while_break___1;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
  {
#line 684
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"[%d", p[0]);
#line 685
  i = 1;
  }
  {
#line 685
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 685
    if (! (i < k)) {
#line 685
      goto while_break___3;
    }
    {
#line 686
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" %d", p[i]);
#line 685
    i ++;
    }
  }
  while_break___3: /* CIL Label */ ;
  }
  {
#line 687
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"] 0");
  }
#line 688
  return;
}
}
#line 690 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void write_linestyle(IpeObject *iobj ) 
{ 


  {
#line 692
  if (iobj->stroke.red == (double )-1) {
    {
#line 693
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" dash=\"void\"");
    }
  } else
#line 694
  if ((int )iobj->linestyle != 0) {
#line 694
    if ((int )iobj->linestyle != 65535) {
      {
#line 695
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" dash=\"");
#line 696
      write_dashes((short )iobj->linestyle);
#line 697
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\"");
      }
    }
  }
  {
#line 699
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" pen=\"%g\"",
          iobj->linewidth);
  }
#line 700
  return;
}
}
#line 702 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static int cmp_spl_vtx(vertex *v0 , vertex *v1 ) 
{ 
  double dx ;
  double dy ;

  {
#line 704
  dx = v1->x - v0->x;
#line 705
  dy = v1->y - v0->y;
#line 706
  return (dx * dx + dy * dy < (double )SPLINE_MULTI_THRESHOLD_SQUARED);
}
}
#line 709 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void midpoint(vertex *res , vertex *u , vertex *v ) 
{ 


  {
#line 711
  res->x = 0.5 * (u->x + v->x);
#line 712
  res->y = 0.5 * (u->y + v->y);
#line 713
  return;
}
}
#line 715 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void thirdpoint(vertex *res , vertex *u , vertex *v ) 
{ 


  {
#line 717
  res->x = (1.0 / 3.0) * ((double )2 * u->x + v->x);
#line 718
  res->y = (1.0 / 3.0) * ((double )2 * u->y + v->y);
#line 719
  return;
}
}
#line 721 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void convert_spline_to_bezier(FILE *fh___0 , int n , vertex *v ) 
{ 
  int i ;
  vertex q0 ;
  vertex q1 ;
  vertex q2 ;
  vertex q3 ;
  vertex u ;
  vertex w ;

  {
#line 727
  i = 0;
  {
#line 727
  while (1) {
    while_continue: /* CIL Label */ ;
#line 727
    if (! (i < n - 3)) {
#line 727
      goto while_break;
    }
    {
#line 728
    thirdpoint(& q1, v + (i + 1), v + (i + 2));
#line 729
    thirdpoint(& q2, v + (i + 2), v + (i + 1));
#line 730
    thirdpoint(& u, v + (i + 1), v + i);
#line 731
    midpoint(& q0, & u, & q1);
#line 732
    thirdpoint(& w, v + (i + 2), v + (i + 3));
#line 733
    midpoint(& q3, & w, & q2);
    }
#line 734
    if (i == 0) {
      {
#line 735
      fprintf((FILE */* __restrict  */)fh___0, (char const   */* __restrict  */)"\n%g %g m\n",
              q0.x, q0.y);
      }
    }
    {
#line 736
    fprintf((FILE */* __restrict  */)fh___0, (char const   */* __restrict  */)"%g %g %g %g %g %g c\n",
            q1.x, q1.y, q2.x, q2.y, q3.x, q3.y);
#line 727
    i ++;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 738
  return;
}
}
#line 740 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void write_entry(IpeObject *iobj ) 
{ 
  int i ;
  char *p___0 ;
  int i___0 ;
  vertex q0 ;
  vertex q2 ;
  vertex q0___0 ;
  vertex q2___0 ;
  int n ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  double r ;
  double alpha ;
  double beta ;
  double radius ;
  double x ;
  double y ;
  double tmp___3 ;
  double tmp___4 ;
  double tmp___5 ;
  double tmp___6 ;
  int nwords ;
  int i___1 ;
  int val ;
  int nwords___0 ;
  int i___2 ;
  int val___0 ;

  {
  {
#line 747
  if (iobj->type == 7) {
#line 747
    goto case_7;
  }
#line 759
  if (iobj->type == 8) {
#line 759
    goto case_8;
  }
#line 773
  if (iobj->type == 6) {
#line 773
    goto case_6;
  }
#line 839
  if (iobj->type == 9) {
#line 839
    goto case_9;
  }
#line 839
  if (iobj->type == 0) {
#line 839
    goto case_9;
  }
#line 879
  if (iobj->type == 3) {
#line 879
    goto case_3;
  }
#line 889
  if (iobj->type == 2) {
#line 889
    goto case_2;
  }
#line 911
  if (iobj->type == 4) {
#line 911
    goto case_4;
  }
#line 941
  if (iobj->type == 1) {
#line 941
    goto case_1;
  }
#line 1002
  if (iobj->type == 5) {
#line 1002
    goto case_5;
  }
#line 1035
  goto switch_default___2;
  case_7: /* CIL Label */ 
#line 748
  if (grouplevel > 0) {
    {
#line 749
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<group>\n");
    }
  } else
#line 751
  if (firstpage) {
    {
#line 752
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<ipestyle>\n<template name=\"Background\">\n<group>\n");
    }
  } else {
    {
#line 754
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<page>\n");
    }
  }
#line 757
  grouplevel ++;
#line 758
  return;
  case_8: /* CIL Label */ 
#line 760
  grouplevel --;
#line 761
  if (grouplevel > 0) {
    {
#line 762
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</group>\n");
    }
  } else
#line 764
  if (firstpage) {
    {
#line 765
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</group>\n</template>\n</ipestyle>\n");
#line 766
    firstpage = 0;
    }
  } else {
    {
#line 768
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</page>\n");
    }
  }
#line 771
  goto switch_break;
  case_6: /* CIL Label */ 
  {
#line 774
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<path");
#line 775
  write_colors(iobj);
#line 776
  write_linestyle(iobj);
  }
#line 777
  if ((int )(iobj->w.line)->arrow & 2) {
    {
#line 778
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" arrow=\"%g\"",
            (iobj->w.line)->arsize);
    }
  }
#line 779
  if ((int )(iobj->w.line)->arrow & 1) {
    {
#line 780
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" backarrow=\"%g\"",
            (iobj->w.line)->arsize);
    }
  }
  {
#line 781
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)">");
  }
#line 782
  if ((iobj->w.line)->n == 2) {
    {
#line 784
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n%g %g m\n",
            ((iobj->w.line)->v + 0)->x, ((iobj->w.line)->v + 0)->y);
#line 785
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g l\n",
            ((iobj->w.line)->v + 1)->x, ((iobj->w.line)->v + 1)->y);
    }
  } else
#line 786
  if ((iobj->w.line)->n == 3) {
#line 788
    if ((iobj->w.line)->closed) {
#line 791
      i___0 = 0;
      {
#line 791
      while (1) {
        while_continue: /* CIL Label */ ;
#line 791
        if (! (i___0 < 3)) {
#line 791
          goto while_break;
        }
        {
#line 793
        midpoint(& q0, (iobj->w.line)->v + i___0, (iobj->w.line)->v + (i___0 + 1) % 3);
#line 794
        midpoint(& q2, (iobj->w.line)->v + (i___0 + 1) % 3, (iobj->w.line)->v + (i___0 + 2) % 3);
        }
#line 796
        if (i___0 == 0) {
          {
#line 797
          fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n%g %g m",
                  q0.x, q0.y);
          }
        }
        {
#line 798
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n%g %g ",
                ((iobj->w.line)->v + (i___0 + 1) % 3)->x, ((iobj->w.line)->v + (i___0 + 1) % 3)->y);
#line 800
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g q",
                q2.x, q2.y);
#line 791
        i___0 ++;
        }
      }
      while_break: /* CIL Label */ ;
      }
      {
#line 802
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" h\n");
      }
    } else {
      {
#line 806
      midpoint(& q0___0, (iobj->w.line)->v + 0, (iobj->w.line)->v + 1);
#line 807
      midpoint(& q2___0, (iobj->w.line)->v + 1, (iobj->w.line)->v + 2);
#line 808
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n%g %g m\n",
              q0___0.x, q0___0.y);
#line 809
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g ",
              ((iobj->w.line)->v + 1)->x, ((iobj->w.line)->v + 1)->y);
#line 810
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g q\n",
              q2___0.x, q2___0.y);
      }
    }
  } else
#line 812
  if ((iobj->w.line)->closed) {
#line 814
    i = 0;
    {
#line 814
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 814
      if (! (i < (iobj->w.line)->n)) {
#line 814
        goto while_break___0;
      }
      {
#line 815
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n%g %g",
              ((iobj->w.line)->v + i)->x, ((iobj->w.line)->v + i)->y);
#line 814
      i ++;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 816
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" u\n");
    }
  } else {
#line 819
    n = (iobj->w.line)->n;
#line 820
    if (n >= 8) {
      {
#line 820
      tmp = cmp_spl_vtx((iobj->w.line)->v + 0, (iobj->w.line)->v + 1);
      }
#line 820
      if (tmp) {
        {
#line 820
        tmp___0 = cmp_spl_vtx((iobj->w.line)->v + 0, (iobj->w.line)->v + 2);
        }
#line 820
        if (tmp___0) {
          {
#line 820
          tmp___1 = cmp_spl_vtx((iobj->w.line)->v + (n - 1), (iobj->w.line)->v + (n - 2));
          }
#line 820
          if (tmp___1) {
            {
#line 820
            tmp___2 = cmp_spl_vtx((iobj->w.line)->v + (n - 1), (iobj->w.line)->v + (n - 3));
            }
#line 820
            if (tmp___2) {
              {
#line 826
              fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n%g %g m",
                      ((iobj->w.line)->v + 2)->x, ((iobj->w.line)->v + 2)->y);
#line 827
              i = 3;
              }
              {
#line 827
              while (1) {
                while_continue___1: /* CIL Label */ ;
#line 827
                if (! (i < (iobj->w.line)->n - 2)) {
#line 827
                  goto while_break___1;
                }
                {
#line 828
                fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n%g %g",
                        ((iobj->w.line)->v + i)->x, ((iobj->w.line)->v + i)->y);
#line 827
                i ++;
                }
              }
              while_break___1: /* CIL Label */ ;
              }
              {
#line 829
              fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" s\n");
              }
            } else {
              {
#line 832
              convert_spline_to_bezier(fh, n, (iobj->w.line)->v);
              }
            }
          } else {
            {
#line 832
            convert_spline_to_bezier(fh, n, (iobj->w.line)->v);
            }
          }
        } else {
          {
#line 832
          convert_spline_to_bezier(fh, n, (iobj->w.line)->v);
          }
        }
      } else {
        {
#line 832
        convert_spline_to_bezier(fh, n, (iobj->w.line)->v);
        }
      }
    } else {
      {
#line 832
      convert_spline_to_bezier(fh, n, (iobj->w.line)->v);
      }
    }
  }
  {
#line 835
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</path>\n");
  }
#line 836
  goto switch_break;
  case_9: /* CIL Label */ 
  case_0: /* CIL Label */ 
  {
#line 840
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<path");
#line 841
  write_colors(iobj);
#line 842
  write_linestyle(iobj);
  }
#line 843
  if ((int )(iobj->w.line)->arrow & 2) {
    {
#line 844
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" arrow=\"%g\"",
            (iobj->w.line)->arsize);
    }
  }
#line 845
  if ((int )(iobj->w.line)->arrow & 1) {
    {
#line 846
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" backarrow=\"%g\"",
            (iobj->w.line)->arsize);
    }
  }
  {
#line 847
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)">\n");
#line 848
  i = 0;
  }
  {
#line 848
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 848
    if (! (i < (iobj->w.line)->n)) {
#line 848
      goto while_break___2;
    }
    {
#line 849
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g ",
            ((iobj->w.line)->v + i)->x, ((iobj->w.line)->v + i)->y);
    }
#line 850
    if (iobj->type == 9) {
      {
#line 852
      if ((int )*((iobj->w.line)->vtype + i) == 78) {
#line 852
        goto case_78;
      }
#line 856
      if ((int )*((iobj->w.line)->vtype + i) == 69) {
#line 856
        goto case_69;
      }
#line 856
      if ((int )*((iobj->w.line)->vtype + i) == 76) {
#line 856
        goto case_69;
      }
#line 859
      if ((int )*((iobj->w.line)->vtype + i) == 67) {
#line 859
        goto case_67;
      }
#line 851
      goto switch_break___0;
      case_78: /* CIL Label */ 
      {
#line 853
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"m\n");
      }
#line 854
      goto switch_break___0;
      case_69: /* CIL Label */ 
      case_76: /* CIL Label */ 
      {
#line 857
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"l\n");
      }
#line 858
      goto switch_break___0;
      case_67: /* CIL Label */ 
      {
#line 860
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"l h\n");
      }
#line 861
      goto switch_break___0;
      switch_break___0: /* CIL Label */ ;
      }
    } else
#line 864
    if (i == 0) {
      {
#line 865
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"m\n");
      }
    } else
#line 866
    if (i + 1 == (iobj->w.line)->n) {
#line 867
      if ((iobj->w.line)->closed) {
        {
#line 868
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"l h\n");
        }
      } else {
        {
#line 870
        fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"l\n");
        }
      }
    } else {
      {
#line 872
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"l\n");
      }
    }
#line 848
    i ++;
  }
  while_break___2: /* CIL Label */ ;
  }
  {
#line 876
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</path>\n");
  }
#line 877
  goto switch_break;
  case_3: /* CIL Label */ 
  {
#line 880
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<mark");
#line 881
  iobj->fill.red = (double )-1;
#line 882
  write_colors(iobj);
#line 883
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" pos=\"%g %g\"",
          (iobj->w.mark)->pos.x, (iobj->w.mark)->pos.y);
#line 885
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" shape=\"%d\"",
          (int )(iobj->w.mark)->type);
#line 886
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" size=\"%g\"/>\n",
          (iobj->w.mark)->size);
  }
#line 887
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 890
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<path");
#line 891
  write_colors(iobj);
#line 892
  write_linestyle(iobj);
#line 893
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)">\n");
  }
#line 894
  if ((iobj->w.circle)->ellipse) {
    {
#line 895
    r = (iobj->w.circle)->radius;
#line 896
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g %g %g %g %g e\n",
            r * (iobj->w.circle)->tfm[0], r * (iobj->w.circle)->tfm[1], r * (iobj->w.circle)->tfm[2],
            r * (iobj->w.circle)->tfm[3], (iobj->w.circle)->center.x, (iobj->w.circle)->center.y);
    }
  } else {
    {
#line 902
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g 0 0 %g %g %g e\n",
            (iobj->w.circle)->radius, (iobj->w.circle)->radius, (iobj->w.circle)->center.x,
            (iobj->w.circle)->center.y);
    }
  }
  {
#line 908
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</path>\n");
  }
#line 909
  goto switch_break;
  case_4: /* CIL Label */ 
#line 913
  if ((iobj->w.arc)->radius != 0.0) {
    {
#line 914
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<path");
#line 915
    write_colors(iobj);
#line 916
    write_linestyle(iobj);
    }
#line 917
    if ((int )(iobj->w.arc)->arrow & 2) {
      {
#line 918
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" arrow=\"%g\"",
              (iobj->w.arc)->arsize);
      }
    }
#line 919
    if ((int )(iobj->w.arc)->arrow & 1) {
      {
#line 920
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" backarrow=\"%g\"",
              (iobj->w.arc)->arsize);
      }
    }
    {
#line 921
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)">\n");
#line 923
    alpha = ((iobj->w.arc)->begangle * (double )IpePi) / 180.0;
#line 924
    beta = ((iobj->w.arc)->endangle * (double )IpePi) / 180.0;
#line 925
    radius = (iobj->w.arc)->radius;
#line 926
    x = (iobj->w.arc)->center.x;
#line 927
    y = (iobj->w.arc)->center.y;
    }
    {
#line 928
    while (1) {
      while_continue___3: /* CIL Label */ ;
#line 928
      if (! (beta <= alpha)) {
#line 928
        goto while_break___3;
      }
#line 929
      beta += (double )(IpePi + IpePi);
    }
    while_break___3: /* CIL Label */ ;
    }
    {
#line 930
    tmp___3 = sin(alpha);
#line 930
    tmp___4 = cos(alpha);
#line 930
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g m\n",
            x + radius * tmp___4, y + radius * tmp___3);
#line 932
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g 0 0 %g %g %g ",
            radius, radius, x, y);
#line 933
    tmp___5 = sin(beta);
#line 933
    tmp___6 = cos(beta);
#line 933
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%g %g a\n",
            x + radius * tmp___6, y + radius * tmp___5);
#line 937
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</path>\n");
    }
  }
#line 939
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 942
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<text");
#line 943
  iobj->fill.red = (double )-1;
#line 944
  write_colors(iobj);
#line 945
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" pos=\"%g %g\"",
          (iobj->w.text)->pos.x, (iobj->w.text)->pos.y);
#line 947
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" size=\"%.2g\"",
          (iobj->w.text)->fontsize);
  }
#line 948
  if ((iobj->w.text)->minipage) {
    {
#line 949
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" type=\"minipage\" valign=\"top\" width=\"%g\"",
            (iobj->w.text)->ur.x - (iobj->w.text)->ll.x);
    }
  } else {
    {
#line 952
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" type=\"label\" valign=\"bottom\"");
    }
  }
  {
#line 954
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)">");
  }
  {
#line 959
  if ((int )(iobj->w.text)->font == 1) {
#line 959
    goto case_1___0;
  }
#line 962
  if ((int )(iobj->w.text)->font == 2) {
#line 962
    goto case_2___0;
  }
#line 965
  if ((int )(iobj->w.text)->font == 3) {
#line 965
    goto case_3___0;
  }
#line 957
  goto switch_default;
  switch_default: /* CIL Label */ 
#line 958
  goto switch_break___1;
  case_1___0: /* CIL Label */ 
  {
#line 960
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\\textit{");
  }
#line 961
  goto switch_break___1;
  case_2___0: /* CIL Label */ 
  {
#line 963
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\\textbf{");
  }
#line 964
  goto switch_break___1;
  case_3___0: /* CIL Label */ 
  {
#line 966
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"$");
  }
#line 967
  goto switch_break___1;
  switch_break___1: /* CIL Label */ ;
  }
#line 969
  p___0 = (iobj->w.text)->str;
  {
#line 969
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 969
    if (! *p___0) {
#line 969
      goto while_break___4;
    }
    {
#line 971
    if ((int )*p___0 == 60) {
#line 971
      goto case_60;
    }
#line 974
    if ((int )*p___0 == 62) {
#line 974
      goto case_62;
    }
#line 977
    if ((int )*p___0 == 38) {
#line 977
      goto case_38;
    }
#line 980
    if ((int )*p___0 == 13) {
#line 980
      goto case_13;
    }
#line 982
    goto switch_default___0;
    case_60: /* CIL Label */ 
    {
#line 972
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"&lt;");
    }
#line 973
    goto switch_break___2;
    case_62: /* CIL Label */ 
    {
#line 975
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"&gt;");
    }
#line 976
    goto switch_break___2;
    case_38: /* CIL Label */ 
    {
#line 978
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"&amp;");
    }
#line 979
    goto switch_break___2;
    case_13: /* CIL Label */ 
#line 981
    goto switch_break___2;
    switch_default___0: /* CIL Label */ 
    {
#line 983
    fputc((int )*p___0, fh);
    }
#line 984
    goto switch_break___2;
    switch_break___2: /* CIL Label */ ;
    }
#line 969
    p___0 ++;
  }
  while_break___4: /* CIL Label */ ;
  }
  {
#line 992
  if ((int )(iobj->w.text)->font == 2) {
#line 992
    goto case_2___1;
  }
#line 992
  if ((int )(iobj->w.text)->font == 1) {
#line 992
    goto case_2___1;
  }
#line 995
  if ((int )(iobj->w.text)->font == 3) {
#line 995
    goto case_3___1;
  }
#line 989
  goto switch_default___1;
  switch_default___1: /* CIL Label */ 
#line 990
  goto switch_break___3;
  case_2___1: /* CIL Label */ 
  case_1___1: /* CIL Label */ 
  {
#line 993
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"}");
  }
#line 994
  goto switch_break___3;
  case_3___1: /* CIL Label */ 
  {
#line 996
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"$");
  }
#line 997
  goto switch_break___3;
  switch_break___3: /* CIL Label */ ;
  }
  {
#line 999
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</text>\n");
  }
#line 1000
  goto switch_break;
  case_5: /* CIL Label */ 
  {
#line 1003
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<image");
#line 1004
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" rect=\"%g %g %g %g\"",
          (iobj->w.bitmap)->ll.x, (iobj->w.bitmap)->ll.y, (iobj->w.bitmap)->ur.x,
          (iobj->w.bitmap)->ur.y);
#line 1007
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" width=\"%d\" height=\"%d\"",
          (int )(iobj->w.bitmap)->width, (int )(iobj->w.bitmap)->height);
  }
#line 1009
  if ((iobj->w.bitmap)->in_color) {
    {
#line 1010
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" ColorSpace=\"DeviceRGB\"");
    }
  } else {
    {
#line 1012
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" ColorSpace=\"DeviceGray\"");
    }
  }
  {
#line 1013
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)" BitsPerComponent=\"8\">\n");
  }
#line 1015
  if ((iobj->w.bitmap)->in_color) {
#line 1016
    nwords = (int )(iobj->w.bitmap)->width * (int )(iobj->w.bitmap)->height;
#line 1019
    i___1 = 0;
    {
#line 1019
    while (1) {
      while_continue___5: /* CIL Label */ ;
#line 1019
      if (! (i___1 < nwords)) {
#line 1019
        goto while_break___5;
      }
      {
#line 1020
      val = (int )(*((iobj->w.bitmap)->words + i___1) & 16777215UL);
#line 1021
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%06x",
              val);
#line 1019
      i___1 ++;
      }
    }
    while_break___5: /* CIL Label */ ;
    }
  } else {
#line 1024
    nwords___0 = (int )(iobj->w.bitmap)->width * (int )(iobj->w.bitmap)->height;
#line 1027
    i___2 = 0;
    {
#line 1027
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 1027
      if (! (i___2 < nwords___0)) {
#line 1027
        goto while_break___6;
      }
      {
#line 1028
      val___0 = (int )(*((iobj->w.bitmap)->words + i___2) & 255UL);
#line 1029
      fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%02x",
              val___0);
#line 1027
      i___2 ++;
      }
    }
    while_break___6: /* CIL Label */ ;
    }
  }
  {
#line 1032
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"\n</image>\n");
  }
#line 1033
  goto switch_break;
  switch_default___2: /* CIL Label */ 
  {
#line 1037
  fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Fatal error: trying to write unknown type %d\n",
          iobj->type);
#line 1039
  exit(1);
  }
  switch_break: /* CIL Label */ ;
  }
#line 1041
  return;
}
}
#line 1044 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
static void ipetoxml(void) 
{ 
  IpeObject *last ;
  IpeObject *iobj ;
  char *wk ;
  char preamble[1024] ;
  char pspreamble[1024] ;
  int no_pages ;
  bbox bb ;
  int nlines ;
  int ch ;
  char *p___0 ;
  char *tmp ;
  int tmp___0 ;
  int nlines___0 ;
  int ch___0 ;
  char *p___1 ;
  char *tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  char *p___2 ;
  char *q ;
  char *tmp___5 ;
  char *tmp___6 ;
  char *tmp___7 ;
  int tmp___8 ;

  {
  {
#line 1050
  no_pages = 0;
#line 1051
  bb.xmin = 99999.0;
#line 1051
  bb.xmax = - 99999.0;
#line 1051
  bb.ymin = 99999.0;
#line 1051
  bb.ymax = - 99999.0;
#line 1053
  ium_input = (IpeObject *)((void *)0);
#line 1057
  fh = fopen((char const   */* __restrict  */)ipename, (char const   */* __restrict  */)"rb");
  }
#line 1057
  if (! fh) {
    {
#line 1058
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Cannot open IPE file %s\n",
            ipename);
#line 1059
    exit(9);
    }
  }
  {
#line 1062
  grouplevel = 0;
#line 1063
  preamble[0] = (char )'\000';
#line 1064
  pspreamble[0] = (char )'\000';
#line 1066
  wk = read_next();
#line 1067
  tmp___0 = strcmp((char const   *)wk, "Preamble");
  }
#line 1067
  if (! tmp___0) {
    {
#line 1070
    p___0 = preamble;
#line 1071
    fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%d", & nlines);
    }
    {
#line 1073
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 1073
      ch = fgetc(fh);
      }
#line 1073
      if (ch != 10) {
#line 1073
        if (! (ch != -1)) {
#line 1073
          goto while_break;
        }
      } else {
#line 1073
        goto while_break;
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1075
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 1075
      if (nlines > 0) {
#line 1075
        if (! (ch != -1)) {
#line 1075
          goto while_break___0;
        }
      } else {
#line 1075
        goto while_break___0;
      }
      {
#line 1076
      ch = fgetc(fh);
      }
#line 1077
      if (ch != 37) {
#line 1078
        tmp = p___0;
#line 1078
        p___0 ++;
#line 1078
        *tmp = (char )ch;
      }
#line 1079
      if (ch == 10) {
#line 1080
        nlines --;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 1082
    *p___0 = (char )'\000';
#line 1083
    wk = read_next();
    }
  }
  {
#line 1086
  tmp___2 = strcmp((char const   *)wk, "PSpreamble");
  }
#line 1086
  if (! tmp___2) {
    {
#line 1089
    p___1 = pspreamble;
#line 1090
    fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%d", & nlines___0);
    }
    {
#line 1092
    while (1) {
      while_continue___1: /* CIL Label */ ;
      {
#line 1092
      ch___0 = fgetc(fh);
      }
#line 1092
      if (ch___0 != 10) {
#line 1092
        if (! (ch___0 != -1)) {
#line 1092
          goto while_break___1;
        }
      } else {
#line 1092
        goto while_break___1;
      }
    }
    while_break___1: /* CIL Label */ ;
    }
    {
#line 1094
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 1094
      if (nlines___0 > 0) {
#line 1094
        if (! (ch___0 != -1)) {
#line 1094
          goto while_break___2;
        }
      } else {
#line 1094
        goto while_break___2;
      }
      {
#line 1095
      ch___0 = fgetc(fh);
#line 1096
      tmp___1 = p___1;
#line 1096
      p___1 ++;
#line 1096
      *tmp___1 = (char )ch___0;
      }
#line 1097
      if (ch___0 == 10) {
#line 1098
        nlines___0 --;
      }
    }
    while_break___2: /* CIL Label */ ;
    }
    {
#line 1100
    *p___1 = (char )'\000';
#line 1101
    wk = read_next();
    }
  }
  {
#line 1104
  tmp___4 = strcmp((char const   *)wk, "Pages");
  }
#line 1104
  if (tmp___4) {
    {
#line 1106
    tmp___3 = strcmp((char const   *)wk, "Group");
    }
#line 1106
    if (tmp___3) {
      {
#line 1107
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Not an IPE file: %s\n",
              ipename);
#line 1108
      exit(9);
      }
    }
  } else {
    {
#line 1105
    fscanf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"%d", & no_pages);
    }
  }
#line 1111
  last = (IpeObject *)((void *)0);
  {
#line 1112
  while (1) {
    while_continue___3: /* CIL Label */ ;
    {
#line 1112
    iobj = read_entry(& bb);
    }
#line 1112
    if (! ((unsigned long )iobj != (unsigned long )((void *)0))) {
#line 1112
      goto while_break___3;
    }
#line 1113
    if (last) {
#line 1114
      last->next = iobj;
    } else {
#line 1116
      ium_input = iobj;
    }
#line 1117
    last = iobj;
  }
  while_break___3: /* CIL Label */ ;
  }
  {
#line 1119
  fclose(fh);
  }
#line 1122
  if ((unsigned long )xmlname == (unsigned long )((char *)0)) {
#line 1123
    return;
  }
  {
#line 1127
  fh = fopen((char const   */* __restrict  */)xmlname, (char const   */* __restrict  */)"wb");
  }
#line 1127
  if (! fh) {
    {
#line 1128
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Cannot open XML file %s for writing\n",
            xmlname);
#line 1129
    exit(9);
    }
  }
  {
#line 1132
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<ipe creator=\"%s\">\n",
          "ipe5toxml 2005/11/14");
#line 1134
  p___2 = preamble;
  }
  {
#line 1135
  while (1) {
    while_continue___4: /* CIL Label */ ;
#line 1135
    if (*p___2) {
#line 1135
      if (! ((int )*p___2 != 125)) {
#line 1135
        goto while_break___4;
      }
    } else {
#line 1135
      goto while_break___4;
    }
#line 1136
    p___2 ++;
  }
  while_break___4: /* CIL Label */ ;
  }
#line 1137
  if (*p___2) {
#line 1138
    p___2 ++;
  }
  {
#line 1139
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 1139
    if (*p___2) {
#line 1139
      if (! ((int )*p___2 == 32)) {
#line 1139
        if (! ((int )*p___2 == 10)) {
#line 1139
          if (! ((int )*p___2 == 13)) {
#line 1139
            goto while_break___5;
          }
        }
      }
    } else {
#line 1139
      goto while_break___5;
    }
#line 1140
    p___2 ++;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 1141
  if (*p___2) {
    {
#line 1142
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<preamble>");
    }
    {
#line 1143
    while (1) {
      while_continue___6: /* CIL Label */ ;
#line 1143
      if (! *p___2) {
#line 1143
        goto while_break___6;
      }
      {
#line 1144
      tmp___5 = strstr((char const   *)p___2, "\\usepackage{ipe}");
#line 1144
      q = tmp___5;
      }
#line 1145
      if (q) {
        {
#line 1146
        while (1) {
          while_continue___7: /* CIL Label */ ;
#line 1146
          if (! ((unsigned long )p___2 < (unsigned long )q)) {
#line 1146
            goto while_break___7;
          }
          {
#line 1147
          tmp___6 = p___2;
#line 1147
          p___2 ++;
#line 1147
          fputc((int )*tmp___6, fh);
          }
        }
        while_break___7: /* CIL Label */ ;
        }
#line 1148
        p___2 = q + 16;
      } else {
        {
#line 1150
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 1150
          if (! *p___2) {
#line 1150
            goto while_break___8;
          }
          {
#line 1151
          tmp___7 = p___2;
#line 1151
          p___2 ++;
#line 1151
          fputc((int )*tmp___7, fh);
          }
        }
        while_break___8: /* CIL Label */ ;
        }
      }
    }
    while_break___6: /* CIL Label */ ;
    }
    {
#line 1154
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</preamble>\n");
    }
  }
#line 1162
  if (no_pages > 0) {
#line 1163
    firstpage = 1;
#line 1164
    grouplevel = 0;
  } else {
    {
#line 1166
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"<page>\n");
#line 1167
    grouplevel = 1;
    }
  }
#line 1169
  iobj = ium_input;
  {
#line 1169
  while (1) {
    while_continue___9: /* CIL Label */ ;
#line 1169
    if (! iobj) {
#line 1169
      goto while_break___9;
    }
    {
#line 1170
    write_entry(iobj);
#line 1169
    iobj = iobj->next;
    }
  }
  while_break___9: /* CIL Label */ ;
  }
#line 1172
  if (no_pages == 0) {
    {
#line 1173
    fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</page>\n");
    }
  }
  {
#line 1174
  fprintf((FILE */* __restrict  */)fh, (char const   */* __restrict  */)"</ipe>\n");
#line 1176
  tmp___8 = fclose(fh);
  }
#line 1176
  if (tmp___8 == -1) {
    {
#line 1177
    fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Write error on XML file %s\n",
            xmlname);
#line 1178
    exit(9);
    }
  }
#line 1180
  return;
}
}
#line 1182 "/home/june/repo/benchmarks/collector/temp/ipe5toxml-20051114/ipe5toxml.c"
int main(int argc , char **argv ) 
{ 
  int i ;
  int tmp ;

  {
#line 1184
  if (argc >= 3) {
    {
#line 1184
    tmp = strcmp((char const   *)*(argv + 1), "-test");
    }
#line 1184
    if (tmp) {
#line 1184
      goto _L;
    } else {
#line 1187
      i = 2;
      {
#line 1187
      while (1) {
        while_continue: /* CIL Label */ ;
#line 1187
        if (! (i < argc)) {
#line 1187
          goto while_break;
        }
        {
#line 1188
        ipename = *(argv + i);
#line 1189
        xmlname = (char *)0;
#line 1190
        fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Testing %s\n",
                ipename);
#line 1191
        ipetoxml();
#line 1187
        i ++;
        }
      }
      while_break: /* CIL Label */ ;
      }
    }
  } else {
    _L: /* CIL Label */ 
#line 1194
    if (argc != 3) {
      {
#line 1196
      fprintf((FILE */* __restrict  */)stderr, (char const   */* __restrict  */)"Usage: %s file.ipe file.xml\n",
              *(argv + 0));
#line 1197
      exit(9);
      }
    }
    {
#line 1199
    ipename = *(argv + 1);
#line 1200
    xmlname = *(argv + 2);
#line 1201
    ipetoxml();
    }
  }
#line 1203
  return (0);
}
}
